var V9=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var FK=V9((jK,n1)=>{function U9(e,r){for(var h=0;h<r.length;h++){const p=r[h];if(typeof p!="string"&&!Array.isArray(p)){for(const m in p)if(m!=="default"&&!(m in e)){const x=Object.getOwnPropertyDescriptor(p,m);x&&Object.defineProperty(e,m,x.get?x:{enumerable:!0,get:()=>p[m]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))p(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const w of x.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&p(w)}).observe(document,{childList:!0,subtree:!0});function h(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function p(m){if(m.ep)return;m.ep=!0;const x=h(m);fetch(m.href,x)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G5(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var h=function p(){if(this instanceof p){var m=[null];m.push.apply(m,arguments);var x=Function.bind.apply(r,m);return new x}return r.apply(this,arguments)};h.prototype=r.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(e).forEach(function(p){var m=Object.getOwnPropertyDescriptor(e,p);Object.defineProperty(h,p,m.get?m:{enumerable:!0,get:function(){return e[p]}})}),h}var Du={},G9={get exports(){return Du},set exports(e){Du=e}},a1={},H9={get exports(){return a1},set exports(e){a1=e}};/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */var Vb;function Jh(){return Vb||(Vb=1,function(e){(function(r,h){e.exports=r.document?h(r,!0):function(p){if(!p.document)throw new Error("jQuery requires a window with a document");return h(p)}})(typeof window<"u"?window:fn,function(r,h){var p=[],m=Object.getPrototypeOf,x=p.slice,w=p.flat?function(z){return p.flat.call(z)}:function(z){return p.concat.apply([],z)},l=p.push,L=p.indexOf,H={},q=H.toString,J=H.hasOwnProperty,oe=J.toString,de=oe.call(Object),ye={},ne=function(Z){return typeof Z=="function"&&typeof Z.nodeType!="number"},X=function(Z){return Z!=null&&Z===Z.window},pe=r.document,ve={type:!0,src:!0,nonce:!0,noModule:!0};function me(z,Z,he){he=he||pe;var xe,ze,Ve=he.createElement("script");if(Ve.text=z,Z)for(xe in ve)ze=Z[xe]||Z.getAttribute&&Z.getAttribute(xe),ze&&Ve.setAttribute(xe,ze);he.head.appendChild(Ve).parentNode.removeChild(Ve)}function it(z){return z==null?z+"":typeof z=="object"||typeof z=="function"?H[q.call(z)]||"object":typeof z}var Ye="3.5.1",Q=function(z,Z){return new Q.fn.init(z,Z)};Q.fn=Q.prototype={jquery:Ye,constructor:Q,length:0,toArray:function(){return x.call(this)},get:function(z){return z==null?x.call(this):z<0?this[z+this.length]:this[z]},pushStack:function(z){var Z=Q.merge(this.constructor(),z);return Z.prevObject=this,Z},each:function(z){return Q.each(this,z)},map:function(z){return this.pushStack(Q.map(this,function(Z,he){return z.call(Z,he,Z)}))},slice:function(){return this.pushStack(x.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Q.grep(this,function(z,Z){return(Z+1)%2}))},odd:function(){return this.pushStack(Q.grep(this,function(z,Z){return Z%2}))},eq:function(z){var Z=this.length,he=+z+(z<0?Z:0);return this.pushStack(he>=0&&he<Z?[this[he]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:p.sort,splice:p.splice},Q.extend=Q.fn.extend=function(){var z,Z,he,xe,ze,Ve,Qe=arguments[0]||{},Ct=1,Mt=arguments.length,Ht=!1;for(typeof Qe=="boolean"&&(Ht=Qe,Qe=arguments[Ct]||{},Ct++),typeof Qe!="object"&&!ne(Qe)&&(Qe={}),Ct===Mt&&(Qe=this,Ct--);Ct<Mt;Ct++)if((z=arguments[Ct])!=null)for(Z in z)xe=z[Z],!(Z==="__proto__"||Qe===xe)&&(Ht&&xe&&(Q.isPlainObject(xe)||(ze=Array.isArray(xe)))?(he=Qe[Z],ze&&!Array.isArray(he)?Ve=[]:!ze&&!Q.isPlainObject(he)?Ve={}:Ve=he,ze=!1,Qe[Z]=Q.extend(Ht,Ve,xe)):xe!==void 0&&(Qe[Z]=xe));return Qe},Q.extend({expando:"jQuery"+(Ye+Math.random()).replace(/\D/g,""),isReady:!0,error:function(z){throw new Error(z)},noop:function(){},isPlainObject:function(z){var Z,he;return!z||q.call(z)!=="[object Object]"?!1:(Z=m(z),Z?(he=J.call(Z,"constructor")&&Z.constructor,typeof he=="function"&&oe.call(he)===de):!0)},isEmptyObject:function(z){var Z;for(Z in z)return!1;return!0},globalEval:function(z,Z,he){me(z,{nonce:Z&&Z.nonce},he)},each:function(z,Z){var he,xe=0;if(Dt(z))for(he=z.length;xe<he&&Z.call(z[xe],xe,z[xe])!==!1;xe++);else for(xe in z)if(Z.call(z[xe],xe,z[xe])===!1)break;return z},makeArray:function(z,Z){var he=Z||[];return z!=null&&(Dt(Object(z))?Q.merge(he,typeof z=="string"?[z]:z):l.call(he,z)),he},inArray:function(z,Z,he){return Z==null?-1:L.call(Z,z,he)},merge:function(z,Z){for(var he=+Z.length,xe=0,ze=z.length;xe<he;xe++)z[ze++]=Z[xe];return z.length=ze,z},grep:function(z,Z,he){for(var xe,ze=[],Ve=0,Qe=z.length,Ct=!he;Ve<Qe;Ve++)xe=!Z(z[Ve],Ve),xe!==Ct&&ze.push(z[Ve]);return ze},map:function(z,Z,he){var xe,ze,Ve=0,Qe=[];if(Dt(z))for(xe=z.length;Ve<xe;Ve++)ze=Z(z[Ve],Ve,he),ze!=null&&Qe.push(ze);else for(Ve in z)ze=Z(z[Ve],Ve,he),ze!=null&&Qe.push(ze);return w(Qe)},guid:1,support:ye}),typeof Symbol=="function"&&(Q.fn[Symbol.iterator]=p[Symbol.iterator]),Q.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(z,Z){H["[object "+Z+"]"]=Z.toLowerCase()});function Dt(z){var Z=!!z&&"length"in z&&z.length,he=it(z);return ne(z)||X(z)?!1:he==="array"||Z===0||typeof Z=="number"&&Z>0&&Z-1 in z}var St=function(z){var Z,he,xe,ze,Ve,Qe,Ct,Mt,Ht,ci,Pi,Jt,di,Ni,wr,rr,Rn,yn,va,Hr="sizzle"+1*new Date,_r=z.document,zn=0,Qi=0,zr=Is(),Jn=Is(),Bs=Is(),aa=Is(),Qn=function(at,wt){return at===wt&&(Pi=!0),0},xr={}.hasOwnProperty,sa=[],Qa=sa.pop,ca=sa.push,Ts=sa.push,Ko=sa.slice,ds=function(at,wt){for(var Ft=0,yi=at.length;Ft<yi;Ft++)if(at[Ft]===wt)return Ft;return-1},Jo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Kr="[\\x20\\t\\r\\n\\f]",Ss="(?:\\\\[\\da-fA-F]{1,6}"+Kr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ks="\\["+Kr+"*("+Ss+")(?:"+Kr+"*([*^$|!~]?=)"+Kr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ss+"))|)"+Kr+"*\\]",Wa=":("+Ss+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ks+")*)|.*)\\)|)",vl=new RegExp(Kr+"+","g"),As=new RegExp("^"+Kr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Kr+"+$","g"),es=new RegExp("^"+Kr+"*,"+Kr+"*"),Sc=new RegExp("^"+Kr+"*([>+~]|"+Kr+")"+Kr+"*"),go=new RegExp(Kr+"|>"),vo=new RegExp(Wa),Xl=new RegExp("^"+Ss+"$"),Ra={ID:new RegExp("^#("+Ss+")"),CLASS:new RegExp("^\\.("+Ss+")"),TAG:new RegExp("^("+Ss+"|[*])"),ATTR:new RegExp("^"+Ks),PSEUDO:new RegExp("^"+Wa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Kr+"*(even|odd|(([+-]|)(\\d*)n|)"+Kr+"*(?:([+-]|)"+Kr+"*(\\d+)|))"+Kr+"*\\)|)","i"),bool:new RegExp("^(?:"+Jo+")$","i"),needsContext:new RegExp("^"+Kr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Kr+"*((?:-\\d)?\\d*)"+Kr+"*\\)|)(?=[^-]|$)","i")},Sr=/HTML$/i,Ms=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,ts=/^[^{]+\{\s*\[native \w/,yl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cs=/[+~]/,ea=new RegExp("\\\\[\\da-fA-F]{1,6}"+Kr+"?|\\\\([^\\r\\n\\f])","g"),ya=function(at,wt){var Ft="0x"+at.slice(1)-65536;return wt||(Ft<0?String.fromCharCode(Ft+65536):String.fromCharCode(Ft>>10|55296,Ft&1023|56320))},js=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ya=function(at,wt){return wt?at==="\0"?"ï¿½":at.slice(0,-1)+"\\"+at.charCodeAt(at.length-1).toString(16)+" ":"\\"+at},is=function(){Jt()},Zc=Lo(function(at){return at.disabled===!0&&at.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ts.apply(sa=Ko.call(_r.childNodes),_r.childNodes),sa[_r.childNodes.length].nodeType}catch{Ts={apply:sa.length?function(wt,Ft){ca.apply(wt,Ko.call(Ft))}:function(wt,Ft){for(var yi=wt.length,Ut=0;wt[yi++]=Ft[Ut++];);wt.length=yi-1}}}function an(at,wt,Ft,yi){var Ut,_i,Si,Ui,Ci,ir,dr,cr=wt&&wt.ownerDocument,sr=wt?wt.nodeType:9;if(Ft=Ft||[],typeof at!="string"||!at||sr!==1&&sr!==9&&sr!==11)return Ft;if(!yi&&(Jt(wt),wt=wt||di,wr)){if(sr!==11&&(Ci=yl.exec(at)))if(Ut=Ci[1]){if(sr===9)if(Si=wt.getElementById(Ut)){if(Si.id===Ut)return Ft.push(Si),Ft}else return Ft;else if(cr&&(Si=cr.getElementById(Ut))&&va(wt,Si)&&Si.id===Ut)return Ft.push(Si),Ft}else{if(Ci[2])return Ts.apply(Ft,wt.getElementsByTagName(at)),Ft;if((Ut=Ci[3])&&he.getElementsByClassName&&wt.getElementsByClassName)return Ts.apply(Ft,wt.getElementsByClassName(Ut)),Ft}if(he.qsa&&!aa[at+" "]&&(!rr||!rr.test(at))&&(sr!==1||wt.nodeName.toLowerCase()!=="object")){if(dr=at,cr=wt,sr===1&&(go.test(at)||Sc.test(at))){for(cr=Cs.test(at)&&_l(wt.parentNode)||wt,(cr!==wt||!he.scope)&&((Ui=wt.getAttribute("id"))?Ui=Ui.replace(js,Ya):wt.setAttribute("id",Ui=Hr)),ir=Qe(at),_i=ir.length;_i--;)ir[_i]=(Ui?"#"+Ui:":scope")+" "+yo(ir[_i]);dr=ir.join(",")}try{return Ts.apply(Ft,cr.querySelectorAll(dr)),Ft}catch{aa(at,!0)}finally{Ui===Hr&&wt.removeAttribute("id")}}}return Mt(at.replace(As,"$1"),wt,Ft,yi)}function Is(){var at=[];function wt(Ft,yi){return at.push(Ft+" ")>xe.cacheLength&&delete wt[at.shift()],wt[Ft+" "]=yi}return wt}function Gn(at){return at[Hr]=!0,at}function xa(at){var wt=di.createElement("fieldset");try{return!!at(wt)}catch{return!1}finally{wt.parentNode&&wt.parentNode.removeChild(wt),wt=null}}function rs(at,wt){for(var Ft=at.split("|"),yi=Ft.length;yi--;)xe.attrHandle[Ft[yi]]=wt}function $a(at,wt){var Ft=wt&&at,yi=Ft&&at.nodeType===1&&wt.nodeType===1&&at.sourceIndex-wt.sourceIndex;if(yi)return yi;if(Ft){for(;Ft=Ft.nextSibling;)if(Ft===wt)return-1}return at?1:-1}function xl(at){return function(wt){var Ft=wt.nodeName.toLowerCase();return Ft==="input"&&wt.type===at}}function Qo(at){return function(wt){var Ft=wt.nodeName.toLowerCase();return(Ft==="input"||Ft==="button")&&wt.type===at}}function Js(at){return function(wt){return"form"in wt?wt.parentNode&&wt.disabled===!1?"label"in wt?"label"in wt.parentNode?wt.parentNode.disabled===at:wt.disabled===at:wt.isDisabled===at||wt.isDisabled!==!at&&Zc(wt)===at:wt.disabled===at:"label"in wt?wt.disabled===at:!1}}function Qs(at){return Gn(function(wt){return wt=+wt,Gn(function(Ft,yi){for(var Ut,_i=at([],Ft.length,wt),Si=_i.length;Si--;)Ft[Ut=_i[Si]]&&(Ft[Ut]=!(yi[Ut]=Ft[Ut]))})})}function _l(at){return at&&typeof at.getElementsByTagName<"u"&&at}he=an.support={},Ve=an.isXML=function(at){var wt=at.namespaceURI,Ft=(at.ownerDocument||at).documentElement;return!Sr.test(wt||Ft&&Ft.nodeName||"HTML")},Jt=an.setDocument=function(at){var wt,Ft,yi=at?at.ownerDocument||at:_r;return yi==di||yi.nodeType!==9||!yi.documentElement||(di=yi,Ni=di.documentElement,wr=!Ve(di),_r!=di&&(Ft=di.defaultView)&&Ft.top!==Ft&&(Ft.addEventListener?Ft.addEventListener("unload",is,!1):Ft.attachEvent&&Ft.attachEvent("onunload",is)),he.scope=xa(function(Ut){return Ni.appendChild(Ut).appendChild(di.createElement("div")),typeof Ut.querySelectorAll<"u"&&!Ut.querySelectorAll(":scope fieldset div").length}),he.attributes=xa(function(Ut){return Ut.className="i",!Ut.getAttribute("className")}),he.getElementsByTagName=xa(function(Ut){return Ut.appendChild(di.createComment("")),!Ut.getElementsByTagName("*").length}),he.getElementsByClassName=ts.test(di.getElementsByClassName),he.getById=xa(function(Ut){return Ni.appendChild(Ut).id=Hr,!di.getElementsByName||!di.getElementsByName(Hr).length}),he.getById?(xe.filter.ID=function(Ut){var _i=Ut.replace(ea,ya);return function(Si){return Si.getAttribute("id")===_i}},xe.find.ID=function(Ut,_i){if(typeof _i.getElementById<"u"&&wr){var Si=_i.getElementById(Ut);return Si?[Si]:[]}}):(xe.filter.ID=function(Ut){var _i=Ut.replace(ea,ya);return function(Si){var Ui=typeof Si.getAttributeNode<"u"&&Si.getAttributeNode("id");return Ui&&Ui.value===_i}},xe.find.ID=function(Ut,_i){if(typeof _i.getElementById<"u"&&wr){var Si,Ui,Ci,ir=_i.getElementById(Ut);if(ir){if(Si=ir.getAttributeNode("id"),Si&&Si.value===Ut)return[ir];for(Ci=_i.getElementsByName(Ut),Ui=0;ir=Ci[Ui++];)if(Si=ir.getAttributeNode("id"),Si&&Si.value===Ut)return[ir]}return[]}}),xe.find.TAG=he.getElementsByTagName?function(Ut,_i){if(typeof _i.getElementsByTagName<"u")return _i.getElementsByTagName(Ut);if(he.qsa)return _i.querySelectorAll(Ut)}:function(Ut,_i){var Si,Ui=[],Ci=0,ir=_i.getElementsByTagName(Ut);if(Ut==="*"){for(;Si=ir[Ci++];)Si.nodeType===1&&Ui.push(Si);return Ui}return ir},xe.find.CLASS=he.getElementsByClassName&&function(Ut,_i){if(typeof _i.getElementsByClassName<"u"&&wr)return _i.getElementsByClassName(Ut)},Rn=[],rr=[],(he.qsa=ts.test(di.querySelectorAll))&&(xa(function(Ut){var _i;Ni.appendChild(Ut).innerHTML="<a id='"+Hr+"'></a><select id='"+Hr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ut.querySelectorAll("[msallowcapture^='']").length&&rr.push("[*^$]="+Kr+`*(?:''|"")`),Ut.querySelectorAll("[selected]").length||rr.push("\\["+Kr+"*(?:value|"+Jo+")"),Ut.querySelectorAll("[id~="+Hr+"-]").length||rr.push("~="),_i=di.createElement("input"),_i.setAttribute("name",""),Ut.appendChild(_i),Ut.querySelectorAll("[name='']").length||rr.push("\\["+Kr+"*name"+Kr+"*="+Kr+`*(?:''|"")`),Ut.querySelectorAll(":checked").length||rr.push(":checked"),Ut.querySelectorAll("a#"+Hr+"+*").length||rr.push(".#.+[+~]"),Ut.querySelectorAll("\\\f"),rr.push("[\\r\\n\\f]")}),xa(function(Ut){Ut.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var _i=di.createElement("input");_i.setAttribute("type","hidden"),Ut.appendChild(_i).setAttribute("name","D"),Ut.querySelectorAll("[name=d]").length&&rr.push("name"+Kr+"*[*^$|!~]?="),Ut.querySelectorAll(":enabled").length!==2&&rr.push(":enabled",":disabled"),Ni.appendChild(Ut).disabled=!0,Ut.querySelectorAll(":disabled").length!==2&&rr.push(":enabled",":disabled"),Ut.querySelectorAll("*,:x"),rr.push(",.*:")})),(he.matchesSelector=ts.test(yn=Ni.matches||Ni.webkitMatchesSelector||Ni.mozMatchesSelector||Ni.oMatchesSelector||Ni.msMatchesSelector))&&xa(function(Ut){he.disconnectedMatch=yn.call(Ut,"*"),yn.call(Ut,"[s!='']:x"),Rn.push("!=",Wa)}),rr=rr.length&&new RegExp(rr.join("|")),Rn=Rn.length&&new RegExp(Rn.join("|")),wt=ts.test(Ni.compareDocumentPosition),va=wt||ts.test(Ni.contains)?function(Ut,_i){var Si=Ut.nodeType===9?Ut.documentElement:Ut,Ui=_i&&_i.parentNode;return Ut===Ui||!!(Ui&&Ui.nodeType===1&&(Si.contains?Si.contains(Ui):Ut.compareDocumentPosition&&Ut.compareDocumentPosition(Ui)&16))}:function(Ut,_i){if(_i){for(;_i=_i.parentNode;)if(_i===Ut)return!0}return!1},Qn=wt?function(Ut,_i){if(Ut===_i)return Pi=!0,0;var Si=!Ut.compareDocumentPosition-!_i.compareDocumentPosition;return Si||(Si=(Ut.ownerDocument||Ut)==(_i.ownerDocument||_i)?Ut.compareDocumentPosition(_i):1,Si&1||!he.sortDetached&&_i.compareDocumentPosition(Ut)===Si?Ut==di||Ut.ownerDocument==_r&&va(_r,Ut)?-1:_i==di||_i.ownerDocument==_r&&va(_r,_i)?1:ci?ds(ci,Ut)-ds(ci,_i):0:Si&4?-1:1)}:function(Ut,_i){if(Ut===_i)return Pi=!0,0;var Si,Ui=0,Ci=Ut.parentNode,ir=_i.parentNode,dr=[Ut],cr=[_i];if(!Ci||!ir)return Ut==di?-1:_i==di?1:Ci?-1:ir?1:ci?ds(ci,Ut)-ds(ci,_i):0;if(Ci===ir)return $a(Ut,_i);for(Si=Ut;Si=Si.parentNode;)dr.unshift(Si);for(Si=_i;Si=Si.parentNode;)cr.unshift(Si);for(;dr[Ui]===cr[Ui];)Ui++;return Ui?$a(dr[Ui],cr[Ui]):dr[Ui]==_r?-1:cr[Ui]==_r?1:0}),di},an.matches=function(at,wt){return an(at,null,null,wt)},an.matchesSelector=function(at,wt){if(Jt(at),he.matchesSelector&&wr&&!aa[wt+" "]&&(!Rn||!Rn.test(wt))&&(!rr||!rr.test(wt)))try{var Ft=yn.call(at,wt);if(Ft||he.disconnectedMatch||at.document&&at.document.nodeType!==11)return Ft}catch{aa(wt,!0)}return an(wt,di,null,[at]).length>0},an.contains=function(at,wt){return(at.ownerDocument||at)!=di&&Jt(at),va(at,wt)},an.attr=function(at,wt){(at.ownerDocument||at)!=di&&Jt(at);var Ft=xe.attrHandle[wt.toLowerCase()],yi=Ft&&xr.call(xe.attrHandle,wt.toLowerCase())?Ft(at,wt,!wr):void 0;return yi!==void 0?yi:he.attributes||!wr?at.getAttribute(wt):(yi=at.getAttributeNode(wt))&&yi.specified?yi.value:null},an.escape=function(at){return(at+"").replace(js,Ya)},an.error=function(at){throw new Error("Syntax error, unrecognized expression: "+at)},an.uniqueSort=function(at){var wt,Ft=[],yi=0,Ut=0;if(Pi=!he.detectDuplicates,ci=!he.sortStable&&at.slice(0),at.sort(Qn),Pi){for(;wt=at[Ut++];)wt===at[Ut]&&(yi=Ft.push(Ut));for(;yi--;)at.splice(Ft[yi],1)}return ci=null,at},ze=an.getText=function(at){var wt,Ft="",yi=0,Ut=at.nodeType;if(Ut){if(Ut===1||Ut===9||Ut===11){if(typeof at.textContent=="string")return at.textContent;for(at=at.firstChild;at;at=at.nextSibling)Ft+=ze(at)}else if(Ut===3||Ut===4)return at.nodeValue}else for(;wt=at[yi++];)Ft+=ze(wt);return Ft},xe=an.selectors={cacheLength:50,createPseudo:Gn,match:Ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(at){return at[1]=at[1].replace(ea,ya),at[3]=(at[3]||at[4]||at[5]||"").replace(ea,ya),at[2]==="~="&&(at[3]=" "+at[3]+" "),at.slice(0,4)},CHILD:function(at){return at[1]=at[1].toLowerCase(),at[1].slice(0,3)==="nth"?(at[3]||an.error(at[0]),at[4]=+(at[4]?at[5]+(at[6]||1):2*(at[3]==="even"||at[3]==="odd")),at[5]=+(at[7]+at[8]||at[3]==="odd")):at[3]&&an.error(at[0]),at},PSEUDO:function(at){var wt,Ft=!at[6]&&at[2];return Ra.CHILD.test(at[0])?null:(at[3]?at[2]=at[4]||at[5]||"":Ft&&vo.test(Ft)&&(wt=Qe(Ft,!0))&&(wt=Ft.indexOf(")",Ft.length-wt)-Ft.length)&&(at[0]=at[0].slice(0,wt),at[2]=Ft.slice(0,wt)),at.slice(0,3))}},filter:{TAG:function(at){var wt=at.replace(ea,ya).toLowerCase();return at==="*"?function(){return!0}:function(Ft){return Ft.nodeName&&Ft.nodeName.toLowerCase()===wt}},CLASS:function(at){var wt=zr[at+" "];return wt||(wt=new RegExp("(^|"+Kr+")"+at+"("+Kr+"|$)"))&&zr(at,function(Ft){return wt.test(typeof Ft.className=="string"&&Ft.className||typeof Ft.getAttribute<"u"&&Ft.getAttribute("class")||"")})},ATTR:function(at,wt,Ft){return function(yi){var Ut=an.attr(yi,at);return Ut==null?wt==="!=":wt?(Ut+="",wt==="="?Ut===Ft:wt==="!="?Ut!==Ft:wt==="^="?Ft&&Ut.indexOf(Ft)===0:wt==="*="?Ft&&Ut.indexOf(Ft)>-1:wt==="$="?Ft&&Ut.slice(-Ft.length)===Ft:wt==="~="?(" "+Ut.replace(vl," ")+" ").indexOf(Ft)>-1:wt==="|="?Ut===Ft||Ut.slice(0,Ft.length+1)===Ft+"-":!1):!0}},CHILD:function(at,wt,Ft,yi,Ut){var _i=at.slice(0,3)!=="nth",Si=at.slice(-4)!=="last",Ui=wt==="of-type";return yi===1&&Ut===0?function(Ci){return!!Ci.parentNode}:function(Ci,ir,dr){var cr,sr,sn,fr,Sn,ta,ba=_i!==Si?"nextSibling":"previousSibling",Xr=Ci.parentNode,Ca=Ui&&Ci.nodeName.toLowerCase(),ha=!dr&&!Ui,Yn=!1;if(Xr){if(_i){for(;ba;){for(fr=Ci;fr=fr[ba];)if(Ui?fr.nodeName.toLowerCase()===Ca:fr.nodeType===1)return!1;ta=ba=at==="only"&&!ta&&"nextSibling"}return!0}if(ta=[Si?Xr.firstChild:Xr.lastChild],Si&&ha){for(fr=Xr,sn=fr[Hr]||(fr[Hr]={}),sr=sn[fr.uniqueID]||(sn[fr.uniqueID]={}),cr=sr[at]||[],Sn=cr[0]===zn&&cr[1],Yn=Sn&&cr[2],fr=Sn&&Xr.childNodes[Sn];fr=++Sn&&fr&&fr[ba]||(Yn=Sn=0)||ta.pop();)if(fr.nodeType===1&&++Yn&&fr===Ci){sr[at]=[zn,Sn,Yn];break}}else if(ha&&(fr=Ci,sn=fr[Hr]||(fr[Hr]={}),sr=sn[fr.uniqueID]||(sn[fr.uniqueID]={}),cr=sr[at]||[],Sn=cr[0]===zn&&cr[1],Yn=Sn),Yn===!1)for(;(fr=++Sn&&fr&&fr[ba]||(Yn=Sn=0)||ta.pop())&&!((Ui?fr.nodeName.toLowerCase()===Ca:fr.nodeType===1)&&++Yn&&(ha&&(sn=fr[Hr]||(fr[Hr]={}),sr=sn[fr.uniqueID]||(sn[fr.uniqueID]={}),sr[at]=[zn,Yn]),fr===Ci)););return Yn-=Ut,Yn===yi||Yn%yi===0&&Yn/yi>=0}}},PSEUDO:function(at,wt){var Ft,yi=xe.pseudos[at]||xe.setFilters[at.toLowerCase()]||an.error("unsupported pseudo: "+at);return yi[Hr]?yi(wt):yi.length>1?(Ft=[at,at,"",wt],xe.setFilters.hasOwnProperty(at.toLowerCase())?Gn(function(Ut,_i){for(var Si,Ui=yi(Ut,wt),Ci=Ui.length;Ci--;)Si=ds(Ut,Ui[Ci]),Ut[Si]=!(_i[Si]=Ui[Ci])}):function(Ut){return yi(Ut,0,Ft)}):yi}},pseudos:{not:Gn(function(at){var wt=[],Ft=[],yi=Ct(at.replace(As,"$1"));return yi[Hr]?Gn(function(Ut,_i,Si,Ui){for(var Ci,ir=yi(Ut,null,Ui,[]),dr=Ut.length;dr--;)(Ci=ir[dr])&&(Ut[dr]=!(_i[dr]=Ci))}):function(Ut,_i,Si){return wt[0]=Ut,yi(wt,null,Si,Ft),wt[0]=null,!Ft.pop()}}),has:Gn(function(at){return function(wt){return an(at,wt).length>0}}),contains:Gn(function(at){return at=at.replace(ea,ya),function(wt){return(wt.textContent||ze(wt)).indexOf(at)>-1}}),lang:Gn(function(at){return Xl.test(at||"")||an.error("unsupported lang: "+at),at=at.replace(ea,ya).toLowerCase(),function(wt){var Ft;do if(Ft=wr?wt.lang:wt.getAttribute("xml:lang")||wt.getAttribute("lang"))return Ft=Ft.toLowerCase(),Ft===at||Ft.indexOf(at+"-")===0;while((wt=wt.parentNode)&&wt.nodeType===1);return!1}}),target:function(at){var wt=z.location&&z.location.hash;return wt&&wt.slice(1)===at.id},root:function(at){return at===Ni},focus:function(at){return at===di.activeElement&&(!di.hasFocus||di.hasFocus())&&!!(at.type||at.href||~at.tabIndex)},enabled:Js(!1),disabled:Js(!0),checked:function(at){var wt=at.nodeName.toLowerCase();return wt==="input"&&!!at.checked||wt==="option"&&!!at.selected},selected:function(at){return at.parentNode&&at.parentNode.selectedIndex,at.selected===!0},empty:function(at){for(at=at.firstChild;at;at=at.nextSibling)if(at.nodeType<6)return!1;return!0},parent:function(at){return!xe.pseudos.empty(at)},header:function(at){return za.test(at.nodeName)},input:function(at){return Ms.test(at.nodeName)},button:function(at){var wt=at.nodeName.toLowerCase();return wt==="input"&&at.type==="button"||wt==="button"},text:function(at){var wt;return at.nodeName.toLowerCase()==="input"&&at.type==="text"&&((wt=at.getAttribute("type"))==null||wt.toLowerCase()==="text")},first:Qs(function(){return[0]}),last:Qs(function(at,wt){return[wt-1]}),eq:Qs(function(at,wt,Ft){return[Ft<0?Ft+wt:Ft]}),even:Qs(function(at,wt){for(var Ft=0;Ft<wt;Ft+=2)at.push(Ft);return at}),odd:Qs(function(at,wt){for(var Ft=1;Ft<wt;Ft+=2)at.push(Ft);return at}),lt:Qs(function(at,wt,Ft){for(var yi=Ft<0?Ft+wt:Ft>wt?wt:Ft;--yi>=0;)at.push(yi);return at}),gt:Qs(function(at,wt,Ft){for(var yi=Ft<0?Ft+wt:Ft;++yi<wt;)at.push(yi);return at})}},xe.pseudos.nth=xe.pseudos.eq;for(Z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})xe.pseudos[Z]=xl(Z);for(Z in{submit:!0,reset:!0})xe.pseudos[Z]=Qo(Z);function bl(){}bl.prototype=xe.filters=xe.pseudos,xe.setFilters=new bl,Qe=an.tokenize=function(at,wt){var Ft,yi,Ut,_i,Si,Ui,Ci,ir=Jn[at+" "];if(ir)return wt?0:ir.slice(0);for(Si=at,Ui=[],Ci=xe.preFilter;Si;){(!Ft||(yi=es.exec(Si)))&&(yi&&(Si=Si.slice(yi[0].length)||Si),Ui.push(Ut=[])),Ft=!1,(yi=Sc.exec(Si))&&(Ft=yi.shift(),Ut.push({value:Ft,type:yi[0].replace(As," ")}),Si=Si.slice(Ft.length));for(_i in xe.filter)(yi=Ra[_i].exec(Si))&&(!Ci[_i]||(yi=Ci[_i](yi)))&&(Ft=yi.shift(),Ut.push({value:Ft,type:_i,matches:yi}),Si=Si.slice(Ft.length));if(!Ft)break}return wt?Si.length:Si?an.error(at):Jn(at,Ui).slice(0)};function yo(at){for(var wt=0,Ft=at.length,yi="";wt<Ft;wt++)yi+=at[wt].value;return yi}function Lo(at,wt,Ft){var yi=wt.dir,Ut=wt.next,_i=Ut||yi,Si=Ft&&_i==="parentNode",Ui=Qi++;return wt.first?function(Ci,ir,dr){for(;Ci=Ci[yi];)if(Ci.nodeType===1||Si)return at(Ci,ir,dr);return!1}:function(Ci,ir,dr){var cr,sr,sn,fr=[zn,Ui];if(dr){for(;Ci=Ci[yi];)if((Ci.nodeType===1||Si)&&at(Ci,ir,dr))return!0}else for(;Ci=Ci[yi];)if(Ci.nodeType===1||Si)if(sn=Ci[Hr]||(Ci[Hr]={}),sr=sn[Ci.uniqueID]||(sn[Ci.uniqueID]={}),Ut&&Ut===Ci.nodeName.toLowerCase())Ci=Ci[yi]||Ci;else{if((cr=sr[_i])&&cr[0]===zn&&cr[1]===Ui)return fr[2]=cr[2];if(sr[_i]=fr,fr[2]=at(Ci,ir,dr))return!0}return!1}}function _a(at){return at.length>1?function(wt,Ft,yi){for(var Ut=at.length;Ut--;)if(!at[Ut](wt,Ft,yi))return!1;return!0}:at[0]}function el(at,wt,Ft){for(var yi=0,Ut=wt.length;yi<Ut;yi++)an(at,wt[yi],Ft);return Ft}function Vs(at,wt,Ft,yi,Ut){for(var _i,Si=[],Ui=0,Ci=at.length,ir=wt!=null;Ui<Ci;Ui++)(_i=at[Ui])&&(!Ft||Ft(_i,yi,Ut))&&(Si.push(_i),ir&&wt.push(Ui));return Si}function fs(at,wt,Ft,yi,Ut,_i){return yi&&!yi[Hr]&&(yi=fs(yi)),Ut&&!Ut[Hr]&&(Ut=fs(Ut,_i)),Gn(function(Si,Ui,Ci,ir){var dr,cr,sr,sn=[],fr=[],Sn=Ui.length,ta=Si||el(wt||"*",Ci.nodeType?[Ci]:Ci,[]),ba=at&&(Si||!wt)?Vs(ta,sn,at,Ci,ir):ta,Xr=Ft?Ut||(Si?at:Sn||yi)?[]:Ui:ba;if(Ft&&Ft(ba,Xr,Ci,ir),yi)for(dr=Vs(Xr,fr),yi(dr,[],Ci,ir),cr=dr.length;cr--;)(sr=dr[cr])&&(Xr[fr[cr]]=!(ba[fr[cr]]=sr));if(Si){if(Ut||at){if(Ut){for(dr=[],cr=Xr.length;cr--;)(sr=Xr[cr])&&dr.push(ba[cr]=sr);Ut(null,Xr=[],dr,ir)}for(cr=Xr.length;cr--;)(sr=Xr[cr])&&(dr=Ut?ds(Si,sr):sn[cr])>-1&&(Si[dr]=!(Ui[dr]=sr))}}else Xr=Vs(Xr===Ui?Xr.splice(Sn,Xr.length):Xr),Ut?Ut(null,Ui,Xr,ir):Ts.apply(Ui,Xr)})}function wl(at){for(var wt,Ft,yi,Ut=at.length,_i=xe.relative[at[0].type],Si=_i||xe.relative[" "],Ui=_i?1:0,Ci=Lo(function(cr){return cr===wt},Si,!0),ir=Lo(function(cr){return ds(wt,cr)>-1},Si,!0),dr=[function(cr,sr,sn){var fr=!_i&&(sn||sr!==Ht)||((wt=sr).nodeType?Ci(cr,sr,sn):ir(cr,sr,sn));return wt=null,fr}];Ui<Ut;Ui++)if(Ft=xe.relative[at[Ui].type])dr=[Lo(_a(dr),Ft)];else{if(Ft=xe.filter[at[Ui].type].apply(null,at[Ui].matches),Ft[Hr]){for(yi=++Ui;yi<Ut&&!xe.relative[at[yi].type];yi++);return fs(Ui>1&&_a(dr),Ui>1&&yo(at.slice(0,Ui-1).concat({value:at[Ui-2].type===" "?"*":""})).replace(As,"$1"),Ft,Ui<yi&&wl(at.slice(Ui,yi)),yi<Ut&&wl(at=at.slice(yi)),yi<Ut&&yo(at))}dr.push(Ft)}return _a(dr)}function Ro(at,wt){var Ft=wt.length>0,yi=at.length>0,Ut=function(_i,Si,Ui,Ci,ir){var dr,cr,sr,sn=0,fr="0",Sn=_i&&[],ta=[],ba=Ht,Xr=_i||yi&&xe.find.TAG("*",ir),Ca=zn+=ba==null?1:Math.random()||.1,ha=Xr.length;for(ir&&(Ht=Si==di||Si||ir);fr!==ha&&(dr=Xr[fr])!=null;fr++){if(yi&&dr){for(cr=0,!Si&&dr.ownerDocument!=di&&(Jt(dr),Ui=!wr);sr=at[cr++];)if(sr(dr,Si||di,Ui)){Ci.push(dr);break}ir&&(zn=Ca)}Ft&&((dr=!sr&&dr)&&sn--,_i&&Sn.push(dr))}if(sn+=fr,Ft&&fr!==sn){for(cr=0;sr=wt[cr++];)sr(Sn,ta,Si,Ui);if(_i){if(sn>0)for(;fr--;)Sn[fr]||ta[fr]||(ta[fr]=Qa.call(Ci));ta=Vs(ta)}Ts.apply(Ci,ta),ir&&!_i&&ta.length>0&&sn+wt.length>1&&an.uniqueSort(Ci)}return ir&&(zn=Ca,Ht=ba),Sn};return Ft?Gn(Ut):Ut}return Ct=an.compile=function(at,wt){var Ft,yi=[],Ut=[],_i=Bs[at+" "];if(!_i){for(wt||(wt=Qe(at)),Ft=wt.length;Ft--;)_i=wl(wt[Ft]),_i[Hr]?yi.push(_i):Ut.push(_i);_i=Bs(at,Ro(Ut,yi)),_i.selector=at}return _i},Mt=an.select=function(at,wt,Ft,yi){var Ut,_i,Si,Ui,Ci,ir=typeof at=="function"&&at,dr=!yi&&Qe(at=ir.selector||at);if(Ft=Ft||[],dr.length===1){if(_i=dr[0]=dr[0].slice(0),_i.length>2&&(Si=_i[0]).type==="ID"&&wt.nodeType===9&&wr&&xe.relative[_i[1].type]){if(wt=(xe.find.ID(Si.matches[0].replace(ea,ya),wt)||[])[0],wt)ir&&(wt=wt.parentNode);else return Ft;at=at.slice(_i.shift().value.length)}for(Ut=Ra.needsContext.test(at)?0:_i.length;Ut--&&(Si=_i[Ut],!xe.relative[Ui=Si.type]);)if((Ci=xe.find[Ui])&&(yi=Ci(Si.matches[0].replace(ea,ya),Cs.test(_i[0].type)&&_l(wt.parentNode)||wt))){if(_i.splice(Ut,1),at=yi.length&&yo(_i),!at)return Ts.apply(Ft,yi),Ft;break}}return(ir||Ct(at,dr))(yi,wt,!wr,Ft,!wt||Cs.test(at)&&_l(wt.parentNode)||wt),Ft},he.sortStable=Hr.split("").sort(Qn).join("")===Hr,he.detectDuplicates=!!Pi,Jt(),he.sortDetached=xa(function(at){return at.compareDocumentPosition(di.createElement("fieldset"))&1}),xa(function(at){return at.innerHTML="<a href='#'></a>",at.firstChild.getAttribute("href")==="#"})||rs("type|href|height|width",function(at,wt,Ft){if(!Ft)return at.getAttribute(wt,wt.toLowerCase()==="type"?1:2)}),(!he.attributes||!xa(function(at){return at.innerHTML="<input/>",at.firstChild.setAttribute("value",""),at.firstChild.getAttribute("value")===""}))&&rs("value",function(at,wt,Ft){if(!Ft&&at.nodeName.toLowerCase()==="input")return at.defaultValue}),xa(function(at){return at.getAttribute("disabled")==null})||rs(Jo,function(at,wt,Ft){var yi;if(!Ft)return at[wt]===!0?wt.toLowerCase():(yi=at.getAttributeNode(wt))&&yi.specified?yi.value:null}),an}(r);Q.find=St,Q.expr=St.selectors,Q.expr[":"]=Q.expr.pseudos,Q.uniqueSort=Q.unique=St.uniqueSort,Q.text=St.getText,Q.isXMLDoc=St.isXML,Q.contains=St.contains,Q.escapeSelector=St.escape;var At=function(z,Z,he){for(var xe=[],ze=he!==void 0;(z=z[Z])&&z.nodeType!==9;)if(z.nodeType===1){if(ze&&Q(z).is(he))break;xe.push(z)}return xe},ui=function(z,Z){for(var he=[];z;z=z.nextSibling)z.nodeType===1&&z!==Z&&he.push(z);return he},Ue=Q.expr.match.needsContext;function Pe(z,Z){return z.nodeName&&z.nodeName.toLowerCase()===Z.toLowerCase()}var De=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function te(z,Z,he){return ne(Z)?Q.grep(z,function(xe,ze){return!!Z.call(xe,ze,xe)!==he}):Z.nodeType?Q.grep(z,function(xe){return xe===Z!==he}):typeof Z!="string"?Q.grep(z,function(xe){return L.call(Z,xe)>-1!==he}):Q.filter(Z,z,he)}Q.filter=function(z,Z,he){var xe=Z[0];return he&&(z=":not("+z+")"),Z.length===1&&xe.nodeType===1?Q.find.matchesSelector(xe,z)?[xe]:[]:Q.find.matches(z,Q.grep(Z,function(ze){return ze.nodeType===1}))},Q.fn.extend({find:function(z){var Z,he,xe=this.length,ze=this;if(typeof z!="string")return this.pushStack(Q(z).filter(function(){for(Z=0;Z<xe;Z++)if(Q.contains(ze[Z],this))return!0}));for(he=this.pushStack([]),Z=0;Z<xe;Z++)Q.find(z,ze[Z],he);return xe>1?Q.uniqueSort(he):he},filter:function(z){return this.pushStack(te(this,z||[],!1))},not:function(z){return this.pushStack(te(this,z||[],!0))},is:function(z){return!!te(this,typeof z=="string"&&Ue.test(z)?Q(z):z||[],!1).length}});var fe,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Se=Q.fn.init=function(z,Z,he){var xe,ze;if(!z)return this;if(he=he||fe,typeof z=="string")if(z[0]==="<"&&z[z.length-1]===">"&&z.length>=3?xe=[null,z,null]:xe=le.exec(z),xe&&(xe[1]||!Z))if(xe[1]){if(Z=Z instanceof Q?Z[0]:Z,Q.merge(this,Q.parseHTML(xe[1],Z&&Z.nodeType?Z.ownerDocument||Z:pe,!0)),De.test(xe[1])&&Q.isPlainObject(Z))for(xe in Z)ne(this[xe])?this[xe](Z[xe]):this.attr(xe,Z[xe]);return this}else return ze=pe.getElementById(xe[2]),ze&&(this[0]=ze,this.length=1),this;else return!Z||Z.jquery?(Z||he).find(z):this.constructor(Z).find(z);else{if(z.nodeType)return this[0]=z,this.length=1,this;if(ne(z))return he.ready!==void 0?he.ready(z):z(Q)}return Q.makeArray(z,this)};Se.prototype=Q.fn,fe=Q(pe);var Re=/^(?:parents|prev(?:Until|All))/,ot={children:!0,contents:!0,next:!0,prev:!0};Q.fn.extend({has:function(z){var Z=Q(z,this),he=Z.length;return this.filter(function(){for(var xe=0;xe<he;xe++)if(Q.contains(this,Z[xe]))return!0})},closest:function(z,Z){var he,xe=0,ze=this.length,Ve=[],Qe=typeof z!="string"&&Q(z);if(!Ue.test(z)){for(;xe<ze;xe++)for(he=this[xe];he&&he!==Z;he=he.parentNode)if(he.nodeType<11&&(Qe?Qe.index(he)>-1:he.nodeType===1&&Q.find.matchesSelector(he,z))){Ve.push(he);break}}return this.pushStack(Ve.length>1?Q.uniqueSort(Ve):Ve)},index:function(z){return z?typeof z=="string"?L.call(Q(z),this[0]):L.call(this,z.jquery?z[0]:z):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(z,Z){return this.pushStack(Q.uniqueSort(Q.merge(this.get(),Q(z,Z))))},addBack:function(z){return this.add(z==null?this.prevObject:this.prevObject.filter(z))}});function ht(z,Z){for(;(z=z[Z])&&z.nodeType!==1;);return z}Q.each({parent:function(z){var Z=z.parentNode;return Z&&Z.nodeType!==11?Z:null},parents:function(z){return At(z,"parentNode")},parentsUntil:function(z,Z,he){return At(z,"parentNode",he)},next:function(z){return ht(z,"nextSibling")},prev:function(z){return ht(z,"previousSibling")},nextAll:function(z){return At(z,"nextSibling")},prevAll:function(z){return At(z,"previousSibling")},nextUntil:function(z,Z,he){return At(z,"nextSibling",he)},prevUntil:function(z,Z,he){return At(z,"previousSibling",he)},siblings:function(z){return ui((z.parentNode||{}).firstChild,z)},children:function(z){return ui(z.firstChild)},contents:function(z){return z.contentDocument!=null&&m(z.contentDocument)?z.contentDocument:(Pe(z,"template")&&(z=z.content||z),Q.merge([],z.childNodes))}},function(z,Z){Q.fn[z]=function(he,xe){var ze=Q.map(this,Z,he);return z.slice(-5)!=="Until"&&(xe=he),xe&&typeof xe=="string"&&(ze=Q.filter(xe,ze)),this.length>1&&(ot[z]||Q.uniqueSort(ze),Re.test(z)&&ze.reverse()),this.pushStack(ze)}});var Pt=/[^\x20\t\r\n\f]+/g;function Ne(z){var Z={};return Q.each(z.match(Pt)||[],function(he,xe){Z[xe]=!0}),Z}Q.Callbacks=function(z){z=typeof z=="string"?Ne(z):Q.extend({},z);var Z,he,xe,ze,Ve=[],Qe=[],Ct=-1,Mt=function(){for(ze=ze||z.once,xe=Z=!0;Qe.length;Ct=-1)for(he=Qe.shift();++Ct<Ve.length;)Ve[Ct].apply(he[0],he[1])===!1&&z.stopOnFalse&&(Ct=Ve.length,he=!1);z.memory||(he=!1),Z=!1,ze&&(he?Ve=[]:Ve="")},Ht={add:function(){return Ve&&(he&&!Z&&(Ct=Ve.length-1,Qe.push(he)),function ci(Pi){Q.each(Pi,function(Jt,di){ne(di)?(!z.unique||!Ht.has(di))&&Ve.push(di):di&&di.length&&it(di)!=="string"&&ci(di)})}(arguments),he&&!Z&&Mt()),this},remove:function(){return Q.each(arguments,function(ci,Pi){for(var Jt;(Jt=Q.inArray(Pi,Ve,Jt))>-1;)Ve.splice(Jt,1),Jt<=Ct&&Ct--}),this},has:function(ci){return ci?Q.inArray(ci,Ve)>-1:Ve.length>0},empty:function(){return Ve&&(Ve=[]),this},disable:function(){return ze=Qe=[],Ve=he="",this},disabled:function(){return!Ve},lock:function(){return ze=Qe=[],!he&&!Z&&(Ve=he=""),this},locked:function(){return!!ze},fireWith:function(ci,Pi){return ze||(Pi=Pi||[],Pi=[ci,Pi.slice?Pi.slice():Pi],Qe.push(Pi),Z||Mt()),this},fire:function(){return Ht.fireWith(this,arguments),this},fired:function(){return!!xe}};return Ht};function Ze(z){return z}function Ie(z){throw z}function We(z,Z,he,xe){var ze;try{z&&ne(ze=z.promise)?ze.call(z).done(Z).fail(he):z&&ne(ze=z.then)?ze.call(z,Z,he):Z.apply(void 0,[z].slice(xe))}catch(Ve){he.apply(void 0,[Ve])}}Q.extend({Deferred:function(z){var Z=[["notify","progress",Q.Callbacks("memory"),Q.Callbacks("memory"),2],["resolve","done",Q.Callbacks("once memory"),Q.Callbacks("once memory"),0,"resolved"],["reject","fail",Q.Callbacks("once memory"),Q.Callbacks("once memory"),1,"rejected"]],he="pending",xe={state:function(){return he},always:function(){return ze.done(arguments).fail(arguments),this},catch:function(Ve){return xe.then(null,Ve)},pipe:function(){var Ve=arguments;return Q.Deferred(function(Qe){Q.each(Z,function(Ct,Mt){var Ht=ne(Ve[Mt[4]])&&Ve[Mt[4]];ze[Mt[1]](function(){var ci=Ht&&Ht.apply(this,arguments);ci&&ne(ci.promise)?ci.promise().progress(Qe.notify).done(Qe.resolve).fail(Qe.reject):Qe[Mt[0]+"With"](this,Ht?[ci]:arguments)})}),Ve=null}).promise()},then:function(Ve,Qe,Ct){var Mt=0;function Ht(ci,Pi,Jt,di){return function(){var Ni=this,wr=arguments,rr=function(){var yn,va;if(!(ci<Mt)){if(yn=Jt.apply(Ni,wr),yn===Pi.promise())throw new TypeError("Thenable self-resolution");va=yn&&(typeof yn=="object"||typeof yn=="function")&&yn.then,ne(va)?di?va.call(yn,Ht(Mt,Pi,Ze,di),Ht(Mt,Pi,Ie,di)):(Mt++,va.call(yn,Ht(Mt,Pi,Ze,di),Ht(Mt,Pi,Ie,di),Ht(Mt,Pi,Ze,Pi.notifyWith))):(Jt!==Ze&&(Ni=void 0,wr=[yn]),(di||Pi.resolveWith)(Ni,wr))}},Rn=di?rr:function(){try{rr()}catch(yn){Q.Deferred.exceptionHook&&Q.Deferred.exceptionHook(yn,Rn.stackTrace),ci+1>=Mt&&(Jt!==Ie&&(Ni=void 0,wr=[yn]),Pi.rejectWith(Ni,wr))}};ci?Rn():(Q.Deferred.getStackHook&&(Rn.stackTrace=Q.Deferred.getStackHook()),r.setTimeout(Rn))}}return Q.Deferred(function(ci){Z[0][3].add(Ht(0,ci,ne(Ct)?Ct:Ze,ci.notifyWith)),Z[1][3].add(Ht(0,ci,ne(Ve)?Ve:Ze)),Z[2][3].add(Ht(0,ci,ne(Qe)?Qe:Ie))}).promise()},promise:function(Ve){return Ve!=null?Q.extend(Ve,xe):xe}},ze={};return Q.each(Z,function(Ve,Qe){var Ct=Qe[2],Mt=Qe[5];xe[Qe[1]]=Ct.add,Mt&&Ct.add(function(){he=Mt},Z[3-Ve][2].disable,Z[3-Ve][3].disable,Z[0][2].lock,Z[0][3].lock),Ct.add(Qe[3].fire),ze[Qe[0]]=function(){return ze[Qe[0]+"With"](this===ze?void 0:this,arguments),this},ze[Qe[0]+"With"]=Ct.fireWith}),xe.promise(ze),z&&z.call(ze,ze),ze},when:function(z){var Z=arguments.length,he=Z,xe=Array(he),ze=x.call(arguments),Ve=Q.Deferred(),Qe=function(Ct){return function(Mt){xe[Ct]=this,ze[Ct]=arguments.length>1?x.call(arguments):Mt,--Z||Ve.resolveWith(xe,ze)}};if(Z<=1&&(We(z,Ve.done(Qe(he)).resolve,Ve.reject,!Z),Ve.state()==="pending"||ne(ze[he]&&ze[he].then)))return Ve.then();for(;he--;)We(ze[he],Qe(he),Ve.reject);return Ve.promise()}});var rt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Q.Deferred.exceptionHook=function(z,Z){r.console&&r.console.warn&&z&&rt.test(z.name)&&r.console.warn("jQuery.Deferred exception: "+z.message,z.stack,Z)},Q.readyException=function(z){r.setTimeout(function(){throw z})};var Ot=Q.Deferred();Q.fn.ready=function(z){return Ot.then(z).catch(function(Z){Q.readyException(Z)}),this},Q.extend({isReady:!1,readyWait:1,ready:function(z){(z===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,!(z!==!0&&--Q.readyWait>0)&&Ot.resolveWith(pe,[Q]))}}),Q.ready.then=Ot.then;function hi(){pe.removeEventListener("DOMContentLoaded",hi),r.removeEventListener("load",hi),Q.ready()}pe.readyState==="complete"||pe.readyState!=="loading"&&!pe.documentElement.doScroll?r.setTimeout(Q.ready):(pe.addEventListener("DOMContentLoaded",hi),r.addEventListener("load",hi));var gi=function(z,Z,he,xe,ze,Ve,Qe){var Ct=0,Mt=z.length,Ht=he==null;if(it(he)==="object"){ze=!0;for(Ct in he)gi(z,Z,Ct,he[Ct],!0,Ve,Qe)}else if(xe!==void 0&&(ze=!0,ne(xe)||(Qe=!0),Ht&&(Qe?(Z.call(z,xe),Z=null):(Ht=Z,Z=function(ci,Pi,Jt){return Ht.call(Q(ci),Jt)})),Z))for(;Ct<Mt;Ct++)Z(z[Ct],he,Qe?xe:xe.call(z[Ct],Ct,Z(z[Ct],he)));return ze?z:Ht?Z.call(z):Mt?Z(z[0],he):Ve},Li=/^-ms-/,ur=/-([a-z])/g;function Vt(z,Z){return Z.toUpperCase()}function wi(z){return z.replace(Li,"ms-").replace(ur,Vt)}var Mi=function(z){return z.nodeType===1||z.nodeType===9||!+z.nodeType};function Ji(){this.expando=Q.expando+Ji.uid++}Ji.uid=1,Ji.prototype={cache:function(z){var Z=z[this.expando];return Z||(Z={},Mi(z)&&(z.nodeType?z[this.expando]=Z:Object.defineProperty(z,this.expando,{value:Z,configurable:!0}))),Z},set:function(z,Z,he){var xe,ze=this.cache(z);if(typeof Z=="string")ze[wi(Z)]=he;else for(xe in Z)ze[wi(xe)]=Z[xe];return ze},get:function(z,Z){return Z===void 0?this.cache(z):z[this.expando]&&z[this.expando][wi(Z)]},access:function(z,Z,he){return Z===void 0||Z&&typeof Z=="string"&&he===void 0?this.get(z,Z):(this.set(z,Z,he),he!==void 0?he:Z)},remove:function(z,Z){var he,xe=z[this.expando];if(xe!==void 0){if(Z!==void 0)for(Array.isArray(Z)?Z=Z.map(wi):(Z=wi(Z),Z=Z in xe?[Z]:Z.match(Pt)||[]),he=Z.length;he--;)delete xe[Z[he]];(Z===void 0||Q.isEmptyObject(xe))&&(z.nodeType?z[this.expando]=void 0:delete z[this.expando])}},hasData:function(z){var Z=z[this.expando];return Z!==void 0&&!Q.isEmptyObject(Z)}};var Ei=new Ji,Xi=new Ji,Fi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lr=/[A-Z]/g;function Vr(z){return z==="true"?!0:z==="false"?!1:z==="null"?null:z===+z+""?+z:Fi.test(z)?JSON.parse(z):z}function si(z,Z,he){var xe;if(he===void 0&&z.nodeType===1)if(xe="data-"+Z.replace(Lr,"-$&").toLowerCase(),he=z.getAttribute(xe),typeof he=="string"){try{he=Vr(he)}catch{}Xi.set(z,Z,he)}else he=void 0;return he}Q.extend({hasData:function(z){return Xi.hasData(z)||Ei.hasData(z)},data:function(z,Z,he){return Xi.access(z,Z,he)},removeData:function(z,Z){Xi.remove(z,Z)},_data:function(z,Z,he){return Ei.access(z,Z,he)},_removeData:function(z,Z){Ei.remove(z,Z)}}),Q.fn.extend({data:function(z,Z){var he,xe,ze,Ve=this[0],Qe=Ve&&Ve.attributes;if(z===void 0){if(this.length&&(ze=Xi.get(Ve),Ve.nodeType===1&&!Ei.get(Ve,"hasDataAttrs"))){for(he=Qe.length;he--;)Qe[he]&&(xe=Qe[he].name,xe.indexOf("data-")===0&&(xe=wi(xe.slice(5)),si(Ve,xe,ze[xe])));Ei.set(Ve,"hasDataAttrs",!0)}return ze}return typeof z=="object"?this.each(function(){Xi.set(this,z)}):gi(this,function(Ct){var Mt;if(Ve&&Ct===void 0)return Mt=Xi.get(Ve,z),Mt!==void 0||(Mt=si(Ve,z),Mt!==void 0)?Mt:void 0;this.each(function(){Xi.set(this,z,Ct)})},null,Z,arguments.length>1,null,!0)},removeData:function(z){return this.each(function(){Xi.remove(this,z)})}}),Q.extend({queue:function(z,Z,he){var xe;if(z)return Z=(Z||"fx")+"queue",xe=Ei.get(z,Z),he&&(!xe||Array.isArray(he)?xe=Ei.access(z,Z,Q.makeArray(he)):xe.push(he)),xe||[]},dequeue:function(z,Z){Z=Z||"fx";var he=Q.queue(z,Z),xe=he.length,ze=he.shift(),Ve=Q._queueHooks(z,Z),Qe=function(){Q.dequeue(z,Z)};ze==="inprogress"&&(ze=he.shift(),xe--),ze&&(Z==="fx"&&he.unshift("inprogress"),delete Ve.stop,ze.call(z,Qe,Ve)),!xe&&Ve&&Ve.empty.fire()},_queueHooks:function(z,Z){var he=Z+"queueHooks";return Ei.get(z,he)||Ei.access(z,he,{empty:Q.Callbacks("once memory").add(function(){Ei.remove(z,[Z+"queue",he])})})}}),Q.fn.extend({queue:function(z,Z){var he=2;return typeof z!="string"&&(Z=z,z="fx",he--),arguments.length<he?Q.queue(this[0],z):Z===void 0?this:this.each(function(){var xe=Q.queue(this,z,Z);Q._queueHooks(this,z),z==="fx"&&xe[0]!=="inprogress"&&Q.dequeue(this,z)})},dequeue:function(z){return this.each(function(){Q.dequeue(this,z)})},clearQueue:function(z){return this.queue(z||"fx",[])},promise:function(z,Z){var he,xe=1,ze=Q.Deferred(),Ve=this,Qe=this.length,Ct=function(){--xe||ze.resolveWith(Ve,[Ve])};for(typeof z!="string"&&(Z=z,z=void 0),z=z||"fx";Qe--;)he=Ei.get(Ve[Qe],z+"queueHooks"),he&&he.empty&&(xe++,he.empty.add(Ct));return Ct(),ze.promise(Z)}});var tr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yr=new RegExp("^(?:([+-])=|)("+tr+")([a-z%]*)$","i"),ar=["Top","Right","Bottom","Left"],Ir=pe.documentElement,Ar=function(z){return Q.contains(z.ownerDocument,z)},En={composed:!0};Ir.getRootNode&&(Ar=function(z){return Q.contains(z.ownerDocument,z)||z.getRootNode(En)===z.ownerDocument});var kn=function(z,Z){return z=Z||z,z.style.display==="none"||z.style.display===""&&Ar(z)&&Q.css(z,"display")==="none"};function oa(z,Z,he,xe){var ze,Ve,Qe=20,Ct=xe?function(){return xe.cur()}:function(){return Q.css(z,Z,"")},Mt=Ct(),Ht=he&&he[3]||(Q.cssNumber[Z]?"":"px"),ci=z.nodeType&&(Q.cssNumber[Z]||Ht!=="px"&&+Mt)&&yr.exec(Q.css(z,Z));if(ci&&ci[3]!==Ht){for(Mt=Mt/2,Ht=Ht||ci[3],ci=+Mt||1;Qe--;)Q.style(z,Z,ci+Ht),(1-Ve)*(1-(Ve=Ct()/Mt||.5))<=0&&(Qe=0),ci=ci/Ve;ci=ci*2,Q.style(z,Z,ci+Ht),he=he||[]}return he&&(ci=+ci||+Mt||0,ze=he[1]?ci+(he[1]+1)*he[2]:+he[2],xe&&(xe.unit=Ht,xe.start=ci,xe.end=ze)),ze}var Ge={};function ma(z){var Z,he=z.ownerDocument,xe=z.nodeName,ze=Ge[xe];return ze||(Z=he.body.appendChild(he.createElement(xe)),ze=Q.css(Z,"display"),Z.parentNode.removeChild(Z),ze==="none"&&(ze="block"),Ge[xe]=ze,ze)}function ra(z,Z){for(var he,xe,ze=[],Ve=0,Qe=z.length;Ve<Qe;Ve++)xe=z[Ve],xe.style&&(he=xe.style.display,Z?(he==="none"&&(ze[Ve]=Ei.get(xe,"display")||null,ze[Ve]||(xe.style.display="")),xe.style.display===""&&kn(xe)&&(ze[Ve]=ma(xe))):he!=="none"&&(ze[Ve]="none",Ei.set(xe,"display",he)));for(Ve=0;Ve<Qe;Ve++)ze[Ve]!=null&&(z[Ve].style.display=ze[Ve]);return z}Q.fn.extend({show:function(){return ra(this,!0)},hide:function(){return ra(this)},toggle:function(z){return typeof z=="boolean"?z?this.show():this.hide():this.each(function(){kn(this)?Q(this).show():Q(this).hide()})}});var mn=/^(?:checkbox|radio)$/i,na=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ua=/^$|^module$|\/(?:java|ecma)script/i;(function(){var z=pe.createDocumentFragment(),Z=z.appendChild(pe.createElement("div")),he=pe.createElement("input");he.setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),Z.appendChild(he),ye.checkClone=Z.cloneNode(!0).cloneNode(!0).lastChild.checked,Z.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!Z.cloneNode(!0).lastChild.defaultValue,Z.innerHTML="<option></option>",ye.option=!!Z.lastChild})();var jn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jn.tbody=jn.tfoot=jn.colgroup=jn.caption=jn.thead,jn.th=jn.td,ye.option||(jn.optgroup=jn.option=[1,"<select multiple='multiple'>","</select>"]);function gn(z,Z){var he;return typeof z.getElementsByTagName<"u"?he=z.getElementsByTagName(Z||"*"):typeof z.querySelectorAll<"u"?he=z.querySelectorAll(Z||"*"):he=[],Z===void 0||Z&&Pe(z,Z)?Q.merge([z],he):he}function qr(z,Z){for(var he=0,xe=z.length;he<xe;he++)Ei.set(z[he],"globalEval",!Z||Ei.get(Z[he],"globalEval"))}var Pa=/<|&#?\w+;/;function Oa(z,Z,he,xe,ze){for(var Ve,Qe,Ct,Mt,Ht,ci,Pi=Z.createDocumentFragment(),Jt=[],di=0,Ni=z.length;di<Ni;di++)if(Ve=z[di],Ve||Ve===0)if(it(Ve)==="object")Q.merge(Jt,Ve.nodeType?[Ve]:Ve);else if(!Pa.test(Ve))Jt.push(Z.createTextNode(Ve));else{for(Qe=Qe||Pi.appendChild(Z.createElement("div")),Ct=(na.exec(Ve)||["",""])[1].toLowerCase(),Mt=jn[Ct]||jn._default,Qe.innerHTML=Mt[1]+Q.htmlPrefilter(Ve)+Mt[2],ci=Mt[0];ci--;)Qe=Qe.lastChild;Q.merge(Jt,Qe.childNodes),Qe=Pi.firstChild,Qe.textContent=""}for(Pi.textContent="",di=0;Ve=Jt[di++];){if(xe&&Q.inArray(Ve,xe)>-1){ze&&ze.push(Ve);continue}if(Ht=Ar(Ve),Qe=gn(Pi.appendChild(Ve),"script"),Ht&&qr(Qe),he)for(ci=0;Ve=Qe[ci++];)Ua.test(Ve.type||"")&&he.push(Ve)}return Pi}var Ur=/^key/,Vn=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,cs=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function Xn(){return!1}function Ga(z,Z){return z===tn()==(Z==="focus")}function tn(){try{return pe.activeElement}catch{}}function Br(z,Z,he,xe,ze,Ve){var Qe,Ct;if(typeof Z=="object"){typeof he!="string"&&(xe=xe||he,he=void 0);for(Ct in Z)Br(z,Ct,he,xe,Z[Ct],Ve);return z}if(xe==null&&ze==null?(ze=he,xe=he=void 0):ze==null&&(typeof he=="string"?(ze=xe,xe=void 0):(ze=xe,xe=he,he=void 0)),ze===!1)ze=Xn;else if(!ze)return z;return Ve===1&&(Qe=ze,ze=function(Mt){return Q().off(Mt),Qe.apply(this,arguments)},ze.guid=Qe.guid||(Qe.guid=Q.guid++)),z.each(function(){Q.event.add(this,Z,ze,xe,he)})}Q.event={global:{},add:function(z,Z,he,xe,ze){var Ve,Qe,Ct,Mt,Ht,ci,Pi,Jt,di,Ni,wr,rr=Ei.get(z);if(Mi(z))for(he.handler&&(Ve=he,he=Ve.handler,ze=Ve.selector),ze&&Q.find.matchesSelector(Ir,ze),he.guid||(he.guid=Q.guid++),(Mt=rr.events)||(Mt=rr.events=Object.create(null)),(Qe=rr.handle)||(Qe=rr.handle=function(Rn){return typeof Q<"u"&&Q.event.triggered!==Rn.type?Q.event.dispatch.apply(z,arguments):void 0}),Z=(Z||"").match(Pt)||[""],Ht=Z.length;Ht--;)Ct=cs.exec(Z[Ht])||[],di=wr=Ct[1],Ni=(Ct[2]||"").split(".").sort(),di&&(Pi=Q.event.special[di]||{},di=(ze?Pi.delegateType:Pi.bindType)||di,Pi=Q.event.special[di]||{},ci=Q.extend({type:di,origType:wr,data:xe,handler:he,guid:he.guid,selector:ze,needsContext:ze&&Q.expr.match.needsContext.test(ze),namespace:Ni.join(".")},Ve),(Jt=Mt[di])||(Jt=Mt[di]=[],Jt.delegateCount=0,(!Pi.setup||Pi.setup.call(z,xe,Ni,Qe)===!1)&&z.addEventListener&&z.addEventListener(di,Qe)),Pi.add&&(Pi.add.call(z,ci),ci.handler.guid||(ci.handler.guid=he.guid)),ze?Jt.splice(Jt.delegateCount++,0,ci):Jt.push(ci),Q.event.global[di]=!0)},remove:function(z,Z,he,xe,ze){var Ve,Qe,Ct,Mt,Ht,ci,Pi,Jt,di,Ni,wr,rr=Ei.hasData(z)&&Ei.get(z);if(!(!rr||!(Mt=rr.events))){for(Z=(Z||"").match(Pt)||[""],Ht=Z.length;Ht--;){if(Ct=cs.exec(Z[Ht])||[],di=wr=Ct[1],Ni=(Ct[2]||"").split(".").sort(),!di){for(di in Mt)Q.event.remove(z,di+Z[Ht],he,xe,!0);continue}for(Pi=Q.event.special[di]||{},di=(xe?Pi.delegateType:Pi.bindType)||di,Jt=Mt[di]||[],Ct=Ct[2]&&new RegExp("(^|\\.)"+Ni.join("\\.(?:.*\\.|)")+"(\\.|$)"),Qe=Ve=Jt.length;Ve--;)ci=Jt[Ve],(ze||wr===ci.origType)&&(!he||he.guid===ci.guid)&&(!Ct||Ct.test(ci.namespace))&&(!xe||xe===ci.selector||xe==="**"&&ci.selector)&&(Jt.splice(Ve,1),ci.selector&&Jt.delegateCount--,Pi.remove&&Pi.remove.call(z,ci));Qe&&!Jt.length&&((!Pi.teardown||Pi.teardown.call(z,Ni,rr.handle)===!1)&&Q.removeEvent(z,di,rr.handle),delete Mt[di])}Q.isEmptyObject(Mt)&&Ei.remove(z,"handle events")}},dispatch:function(z){var Z,he,xe,ze,Ve,Qe,Ct=new Array(arguments.length),Mt=Q.event.fix(z),Ht=(Ei.get(this,"events")||Object.create(null))[Mt.type]||[],ci=Q.event.special[Mt.type]||{};for(Ct[0]=Mt,Z=1;Z<arguments.length;Z++)Ct[Z]=arguments[Z];if(Mt.delegateTarget=this,!(ci.preDispatch&&ci.preDispatch.call(this,Mt)===!1)){for(Qe=Q.event.handlers.call(this,Mt,Ht),Z=0;(ze=Qe[Z++])&&!Mt.isPropagationStopped();)for(Mt.currentTarget=ze.elem,he=0;(Ve=ze.handlers[he++])&&!Mt.isImmediatePropagationStopped();)(!Mt.rnamespace||Ve.namespace===!1||Mt.rnamespace.test(Ve.namespace))&&(Mt.handleObj=Ve,Mt.data=Ve.data,xe=((Q.event.special[Ve.origType]||{}).handle||Ve.handler).apply(ze.elem,Ct),xe!==void 0&&(Mt.result=xe)===!1&&(Mt.preventDefault(),Mt.stopPropagation()));return ci.postDispatch&&ci.postDispatch.call(this,Mt),Mt.result}},handlers:function(z,Z){var he,xe,ze,Ve,Qe,Ct=[],Mt=Z.delegateCount,Ht=z.target;if(Mt&&Ht.nodeType&&!(z.type==="click"&&z.button>=1)){for(;Ht!==this;Ht=Ht.parentNode||this)if(Ht.nodeType===1&&!(z.type==="click"&&Ht.disabled===!0)){for(Ve=[],Qe={},he=0;he<Mt;he++)xe=Z[he],ze=xe.selector+" ",Qe[ze]===void 0&&(Qe[ze]=xe.needsContext?Q(ze,this).index(Ht)>-1:Q.find(ze,this,null,[Ht]).length),Qe[ze]&&Ve.push(xe);Ve.length&&Ct.push({elem:Ht,handlers:Ve})}}return Ht=this,Mt<Z.length&&Ct.push({elem:Ht,handlers:Z.slice(Mt)}),Ct},addProp:function(z,Z){Object.defineProperty(Q.Event.prototype,z,{enumerable:!0,configurable:!0,get:ne(Z)?function(){if(this.originalEvent)return Z(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[z]},set:function(he){Object.defineProperty(this,z,{enumerable:!0,configurable:!0,writable:!0,value:he})}})},fix:function(z){return z[Q.expando]?z:new Q.Event(z)},special:{load:{noBubble:!0},click:{setup:function(z){var Z=this||z;return mn.test(Z.type)&&Z.click&&Pe(Z,"input")&&Zn(Z,"click",ga),!1},trigger:function(z){var Z=this||z;return mn.test(Z.type)&&Z.click&&Pe(Z,"input")&&Zn(Z,"click"),!0},_default:function(z){var Z=z.target;return mn.test(Z.type)&&Z.click&&Pe(Z,"input")&&Ei.get(Z,"click")||Pe(Z,"a")}},beforeunload:{postDispatch:function(z){z.result!==void 0&&z.originalEvent&&(z.originalEvent.returnValue=z.result)}}}};function Zn(z,Z,he){if(!he){Ei.get(z,Z)===void 0&&Q.event.add(z,Z,ga);return}Ei.set(z,Z,!1),Q.event.add(z,Z,{namespace:!1,handler:function(xe){var ze,Ve,Qe=Ei.get(this,Z);if(xe.isTrigger&1&&this[Z]){if(Qe.length)(Q.event.special[Z]||{}).delegateType&&xe.stopPropagation();else if(Qe=x.call(arguments),Ei.set(this,Z,Qe),ze=he(this,Z),this[Z](),Ve=Ei.get(this,Z),Qe!==Ve||ze?Ei.set(this,Z,!1):Ve={},Qe!==Ve)return xe.stopImmediatePropagation(),xe.preventDefault(),Ve.value}else Qe.length&&(Ei.set(this,Z,{value:Q.event.trigger(Q.extend(Qe[0],Q.Event.prototype),Qe.slice(1),this)}),xe.stopImmediatePropagation())}})}Q.removeEvent=function(z,Z,he){z.removeEventListener&&z.removeEventListener(Z,he)},Q.Event=function(z,Z){if(!(this instanceof Q.Event))return new Q.Event(z,Z);z&&z.type?(this.originalEvent=z,this.type=z.type,this.isDefaultPrevented=z.defaultPrevented||z.defaultPrevented===void 0&&z.returnValue===!1?ga:Xn,this.target=z.target&&z.target.nodeType===3?z.target.parentNode:z.target,this.currentTarget=z.currentTarget,this.relatedTarget=z.relatedTarget):this.type=z,Z&&Q.extend(this,Z),this.timeStamp=z&&z.timeStamp||Date.now(),this[Q.expando]=!0},Q.Event.prototype={constructor:Q.Event,isDefaultPrevented:Xn,isPropagationStopped:Xn,isImmediatePropagationStopped:Xn,isSimulated:!1,preventDefault:function(){var z=this.originalEvent;this.isDefaultPrevented=ga,z&&!this.isSimulated&&z.preventDefault()},stopPropagation:function(){var z=this.originalEvent;this.isPropagationStopped=ga,z&&!this.isSimulated&&z.stopPropagation()},stopImmediatePropagation:function(){var z=this.originalEvent;this.isImmediatePropagationStopped=ga,z&&!this.isSimulated&&z.stopImmediatePropagation(),this.stopPropagation()}},Q.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(z){var Z=z.button;return z.which==null&&Ur.test(z.type)?z.charCode!=null?z.charCode:z.keyCode:!z.which&&Z!==void 0&&Vn.test(z.type)?Z&1?1:Z&2?3:Z&4?2:0:z.which}},Q.event.addProp),Q.each({focus:"focusin",blur:"focusout"},function(z,Z){Q.event.special[z]={setup:function(){return Zn(this,z,Ga),!1},trigger:function(){return Zn(this,z),!0},delegateType:Z}}),Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(z,Z){Q.event.special[z]={delegateType:Z,bindType:Z,handle:function(he){var xe,ze=this,Ve=he.relatedTarget,Qe=he.handleObj;return(!Ve||Ve!==ze&&!Q.contains(ze,Ve))&&(he.type=Qe.origType,xe=Qe.handler.apply(this,arguments),he.type=Z),xe}}}),Q.fn.extend({on:function(z,Z,he,xe){return Br(this,z,Z,he,xe)},one:function(z,Z,he,xe){return Br(this,z,Z,he,xe,1)},off:function(z,Z,he){var xe,ze;if(z&&z.preventDefault&&z.handleObj)return xe=z.handleObj,Q(z.delegateTarget).off(xe.namespace?xe.origType+"."+xe.namespace:xe.origType,xe.selector,xe.handler),this;if(typeof z=="object"){for(ze in z)this.off(ze,Z,z[ze]);return this}return(Z===!1||typeof Z=="function")&&(he=Z,Z=void 0),he===!1&&(he=Xn),this.each(function(){Q.event.remove(this,z,he,Z)})}});var ut=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ct(z,Z){return Pe(z,"table")&&Pe(Z.nodeType!==11?Z:Z.firstChild,"tr")&&Q(z).children("tbody")[0]||z}function mt(z){return z.type=(z.getAttribute("type")!==null)+"/"+z.type,z}function It(z){return(z.type||"").slice(0,5)==="true/"?z.type=z.type.slice(5):z.removeAttribute("type"),z}function Bt(z,Z){var he,xe,ze,Ve,Qe,Ct,Mt;if(Z.nodeType===1){if(Ei.hasData(z)&&(Ve=Ei.get(z),Mt=Ve.events,Mt)){Ei.remove(Z,"handle events");for(ze in Mt)for(he=0,xe=Mt[ze].length;he<xe;he++)Q.event.add(Z,ze,Mt[ze][he])}Xi.hasData(z)&&(Qe=Xi.access(z),Ct=Q.extend({},Qe),Xi.set(Z,Ct))}}function _e(z,Z){var he=Z.nodeName.toLowerCase();he==="input"&&mn.test(z.type)?Z.checked=z.checked:(he==="input"||he==="textarea")&&(Z.defaultValue=z.defaultValue)}function n(z,Z,he,xe){Z=w(Z);var ze,Ve,Qe,Ct,Mt,Ht,ci=0,Pi=z.length,Jt=Pi-1,di=Z[0],Ni=ne(di);if(Ni||Pi>1&&typeof di=="string"&&!ye.checkClone&&Ce.test(di))return z.each(function(wr){var rr=z.eq(wr);Ni&&(Z[0]=di.call(this,wr,rr.html())),n(rr,Z,he,xe)});if(Pi&&(ze=Oa(Z,z[0].ownerDocument,!1,z,xe),Ve=ze.firstChild,ze.childNodes.length===1&&(ze=Ve),Ve||xe)){for(Qe=Q.map(gn(ze,"script"),mt),Ct=Qe.length;ci<Pi;ci++)Mt=ze,ci!==Jt&&(Mt=Q.clone(Mt,!0,!0),Ct&&Q.merge(Qe,gn(Mt,"script"))),he.call(z[ci],Mt,ci);if(Ct)for(Ht=Qe[Qe.length-1].ownerDocument,Q.map(Qe,It),ci=0;ci<Ct;ci++)Mt=Qe[ci],Ua.test(Mt.type||"")&&!Ei.access(Mt,"globalEval")&&Q.contains(Ht,Mt)&&(Mt.src&&(Mt.type||"").toLowerCase()!=="module"?Q._evalUrl&&!Mt.noModule&&Q._evalUrl(Mt.src,{nonce:Mt.nonce||Mt.getAttribute("nonce")},Ht):me(Mt.textContent.replace(je,""),Mt,Ht))}return z}function o(z,Z,he){for(var xe,ze=Z?Q.filter(Z,z):z,Ve=0;(xe=ze[Ve])!=null;Ve++)!he&&xe.nodeType===1&&Q.cleanData(gn(xe)),xe.parentNode&&(he&&Ar(xe)&&qr(gn(xe,"script")),xe.parentNode.removeChild(xe));return z}Q.extend({htmlPrefilter:function(z){return z},clone:function(z,Z,he){var xe,ze,Ve,Qe,Ct=z.cloneNode(!0),Mt=Ar(z);if(!ye.noCloneChecked&&(z.nodeType===1||z.nodeType===11)&&!Q.isXMLDoc(z))for(Qe=gn(Ct),Ve=gn(z),xe=0,ze=Ve.length;xe<ze;xe++)_e(Ve[xe],Qe[xe]);if(Z)if(he)for(Ve=Ve||gn(z),Qe=Qe||gn(Ct),xe=0,ze=Ve.length;xe<ze;xe++)Bt(Ve[xe],Qe[xe]);else Bt(z,Ct);return Qe=gn(Ct,"script"),Qe.length>0&&qr(Qe,!Mt&&gn(z,"script")),Ct},cleanData:function(z){for(var Z,he,xe,ze=Q.event.special,Ve=0;(he=z[Ve])!==void 0;Ve++)if(Mi(he)){if(Z=he[Ei.expando]){if(Z.events)for(xe in Z.events)ze[xe]?Q.event.remove(he,xe):Q.removeEvent(he,xe,Z.handle);he[Ei.expando]=void 0}he[Xi.expando]&&(he[Xi.expando]=void 0)}}}),Q.fn.extend({detach:function(z){return o(this,z,!0)},remove:function(z){return o(this,z)},text:function(z){return gi(this,function(Z){return Z===void 0?Q.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=Z)})},null,z,arguments.length)},append:function(){return n(this,arguments,function(z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Z=ct(this,z);Z.appendChild(z)}})},prepend:function(){return n(this,arguments,function(z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Z=ct(this,z);Z.insertBefore(z,Z.firstChild)}})},before:function(){return n(this,arguments,function(z){this.parentNode&&this.parentNode.insertBefore(z,this)})},after:function(){return n(this,arguments,function(z){this.parentNode&&this.parentNode.insertBefore(z,this.nextSibling)})},empty:function(){for(var z,Z=0;(z=this[Z])!=null;Z++)z.nodeType===1&&(Q.cleanData(gn(z,!1)),z.textContent="");return this},clone:function(z,Z){return z=z??!1,Z=Z??z,this.map(function(){return Q.clone(this,z,Z)})},html:function(z){return gi(this,function(Z){var he=this[0]||{},xe=0,ze=this.length;if(Z===void 0&&he.nodeType===1)return he.innerHTML;if(typeof Z=="string"&&!ut.test(Z)&&!jn[(na.exec(Z)||["",""])[1].toLowerCase()]){Z=Q.htmlPrefilter(Z);try{for(;xe<ze;xe++)he=this[xe]||{},he.nodeType===1&&(Q.cleanData(gn(he,!1)),he.innerHTML=Z);he=0}catch{}}he&&this.empty().append(Z)},null,z,arguments.length)},replaceWith:function(){var z=[];return n(this,arguments,function(Z){var he=this.parentNode;Q.inArray(this,z)<0&&(Q.cleanData(gn(this)),he&&he.replaceChild(Z,this))},z)}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(z,Z){Q.fn[z]=function(he){for(var xe,ze=[],Ve=Q(he),Qe=Ve.length-1,Ct=0;Ct<=Qe;Ct++)xe=Ct===Qe?this:this.clone(!0),Q(Ve[Ct])[Z](xe),l.apply(ze,xe.get());return this.pushStack(ze)}});var g=new RegExp("^("+tr+")(?!px)[a-z%]+$","i"),b=function(z){var Z=z.ownerDocument.defaultView;return(!Z||!Z.opener)&&(Z=r),Z.getComputedStyle(z)},E=function(z,Z,he){var xe,ze,Ve={};for(ze in Z)Ve[ze]=z.style[ze],z.style[ze]=Z[ze];xe=he.call(z);for(ze in Z)z.style[ze]=Ve[ze];return xe},k=new RegExp(ar.join("|"),"i");(function(){function z(){if(Ht){Mt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ht.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ir.appendChild(Mt).appendChild(Ht);var ci=r.getComputedStyle(Ht);he=ci.top!=="1%",Ct=Z(ci.marginLeft)===12,Ht.style.right="60%",Ve=Z(ci.right)===36,xe=Z(ci.width)===36,Ht.style.position="absolute",ze=Z(Ht.offsetWidth/3)===12,Ir.removeChild(Mt),Ht=null}}function Z(ci){return Math.round(parseFloat(ci))}var he,xe,ze,Ve,Qe,Ct,Mt=pe.createElement("div"),Ht=pe.createElement("div");Ht.style&&(Ht.style.backgroundClip="content-box",Ht.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle=Ht.style.backgroundClip==="content-box",Q.extend(ye,{boxSizingReliable:function(){return z(),xe},pixelBoxStyles:function(){return z(),Ve},pixelPosition:function(){return z(),he},reliableMarginLeft:function(){return z(),Ct},scrollboxSize:function(){return z(),ze},reliableTrDimensions:function(){var ci,Pi,Jt,di;return Qe==null&&(ci=pe.createElement("table"),Pi=pe.createElement("tr"),Jt=pe.createElement("div"),ci.style.cssText="position:absolute;left:-11111px",Pi.style.height="1px",Jt.style.height="9px",Ir.appendChild(ci).appendChild(Pi).appendChild(Jt),di=r.getComputedStyle(Pi),Qe=parseInt(di.height)>3,Ir.removeChild(ci)),Qe}}))})();function C(z,Z,he){var xe,ze,Ve,Qe,Ct=z.style;return he=he||b(z),he&&(Qe=he.getPropertyValue(Z)||he[Z],Qe===""&&!Ar(z)&&(Qe=Q.style(z,Z)),!ye.pixelBoxStyles()&&g.test(Qe)&&k.test(Z)&&(xe=Ct.width,ze=Ct.minWidth,Ve=Ct.maxWidth,Ct.minWidth=Ct.maxWidth=Ct.width=Qe,Qe=he.width,Ct.width=xe,Ct.minWidth=ze,Ct.maxWidth=Ve)),Qe!==void 0?Qe+"":Qe}function P(z,Z){return{get:function(){if(z()){delete this.get;return}return(this.get=Z).apply(this,arguments)}}}var N=["Webkit","Moz","ms"],W=pe.createElement("div").style,K={};function ee(z){for(var Z=z[0].toUpperCase()+z.slice(1),he=N.length;he--;)if(z=N[he]+Z,z in W)return z}function ue(z){var Z=Q.cssProps[z]||K[z];return Z||(z in W?z:K[z]=ee(z)||z)}var we=/^(none|table(?!-c[ea]).+)/,Me=/^--/,Oe={position:"absolute",visibility:"hidden",display:"block"},He={letterSpacing:"0",fontWeight:"400"};function Le(z,Z,he){var xe=yr.exec(Z);return xe?Math.max(0,xe[2]-(he||0))+(xe[3]||"px"):Z}function gt(z,Z,he,xe,ze,Ve){var Qe=Z==="width"?1:0,Ct=0,Mt=0;if(he===(xe?"border":"content"))return 0;for(;Qe<4;Qe+=2)he==="margin"&&(Mt+=Q.css(z,he+ar[Qe],!0,ze)),xe?(he==="content"&&(Mt-=Q.css(z,"padding"+ar[Qe],!0,ze)),he!=="margin"&&(Mt-=Q.css(z,"border"+ar[Qe]+"Width",!0,ze))):(Mt+=Q.css(z,"padding"+ar[Qe],!0,ze),he!=="padding"?Mt+=Q.css(z,"border"+ar[Qe]+"Width",!0,ze):Ct+=Q.css(z,"border"+ar[Qe]+"Width",!0,ze));return!xe&&Ve>=0&&(Mt+=Math.max(0,Math.ceil(z["offset"+Z[0].toUpperCase()+Z.slice(1)]-Ve-Mt-Ct-.5))||0),Mt}function B(z,Z,he){var xe=b(z),ze=!ye.boxSizingReliable()||he,Ve=ze&&Q.css(z,"boxSizing",!1,xe)==="border-box",Qe=Ve,Ct=C(z,Z,xe),Mt="offset"+Z[0].toUpperCase()+Z.slice(1);if(g.test(Ct)){if(!he)return Ct;Ct="auto"}return(!ye.boxSizingReliable()&&Ve||!ye.reliableTrDimensions()&&Pe(z,"tr")||Ct==="auto"||!parseFloat(Ct)&&Q.css(z,"display",!1,xe)==="inline")&&z.getClientRects().length&&(Ve=Q.css(z,"boxSizing",!1,xe)==="border-box",Qe=Mt in z,Qe&&(Ct=z[Mt])),Ct=parseFloat(Ct)||0,Ct+gt(z,Z,he||(Ve?"border":"content"),Qe,xe,Ct)+"px"}Q.extend({cssHooks:{opacity:{get:function(z,Z){if(Z){var he=C(z,"opacity");return he===""?"1":he}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(z,Z,he,xe){if(!(!z||z.nodeType===3||z.nodeType===8||!z.style)){var ze,Ve,Qe,Ct=wi(Z),Mt=Me.test(Z),Ht=z.style;if(Mt||(Z=ue(Ct)),Qe=Q.cssHooks[Z]||Q.cssHooks[Ct],he!==void 0){if(Ve=typeof he,Ve==="string"&&(ze=yr.exec(he))&&ze[1]&&(he=oa(z,Z,ze),Ve="number"),he==null||he!==he)return;Ve==="number"&&!Mt&&(he+=ze&&ze[3]||(Q.cssNumber[Ct]?"":"px")),!ye.clearCloneStyle&&he===""&&Z.indexOf("background")===0&&(Ht[Z]="inherit"),(!Qe||!("set"in Qe)||(he=Qe.set(z,he,xe))!==void 0)&&(Mt?Ht.setProperty(Z,he):Ht[Z]=he)}else return Qe&&"get"in Qe&&(ze=Qe.get(z,!1,xe))!==void 0?ze:Ht[Z]}},css:function(z,Z,he,xe){var ze,Ve,Qe,Ct=wi(Z),Mt=Me.test(Z);return Mt||(Z=ue(Ct)),Qe=Q.cssHooks[Z]||Q.cssHooks[Ct],Qe&&"get"in Qe&&(ze=Qe.get(z,!0,he)),ze===void 0&&(ze=C(z,Z,xe)),ze==="normal"&&Z in He&&(ze=He[Z]),he===""||he?(Ve=parseFloat(ze),he===!0||isFinite(Ve)?Ve||0:ze):ze}}),Q.each(["height","width"],function(z,Z){Q.cssHooks[Z]={get:function(he,xe,ze){if(xe)return we.test(Q.css(he,"display"))&&(!he.getClientRects().length||!he.getBoundingClientRect().width)?E(he,Oe,function(){return B(he,Z,ze)}):B(he,Z,ze)},set:function(he,xe,ze){var Ve,Qe=b(he),Ct=!ye.scrollboxSize()&&Qe.position==="absolute",Mt=Ct||ze,Ht=Mt&&Q.css(he,"boxSizing",!1,Qe)==="border-box",ci=ze?gt(he,Z,ze,Ht,Qe):0;return Ht&&Ct&&(ci-=Math.ceil(he["offset"+Z[0].toUpperCase()+Z.slice(1)]-parseFloat(Qe[Z])-gt(he,Z,"border",!1,Qe)-.5)),ci&&(Ve=yr.exec(xe))&&(Ve[3]||"px")!=="px"&&(he.style[Z]=xe,xe=Q.css(he,Z)),Le(he,xe,ci)}}}),Q.cssHooks.marginLeft=P(ye.reliableMarginLeft,function(z,Z){if(Z)return(parseFloat(C(z,"marginLeft"))||z.getBoundingClientRect().left-E(z,{marginLeft:0},function(){return z.getBoundingClientRect().left}))+"px"}),Q.each({margin:"",padding:"",border:"Width"},function(z,Z){Q.cssHooks[z+Z]={expand:function(he){for(var xe=0,ze={},Ve=typeof he=="string"?he.split(" "):[he];xe<4;xe++)ze[z+ar[xe]+Z]=Ve[xe]||Ve[xe-2]||Ve[0];return ze}},z!=="margin"&&(Q.cssHooks[z+Z].set=Le)}),Q.fn.extend({css:function(z,Z){return gi(this,function(he,xe,ze){var Ve,Qe,Ct={},Mt=0;if(Array.isArray(xe)){for(Ve=b(he),Qe=xe.length;Mt<Qe;Mt++)Ct[xe[Mt]]=Q.css(he,xe[Mt],!1,Ve);return Ct}return ze!==void 0?Q.style(he,xe,ze):Q.css(he,xe)},z,Z,arguments.length>1)}});function se(z,Z,he,xe,ze){return new se.prototype.init(z,Z,he,xe,ze)}Q.Tween=se,se.prototype={constructor:se,init:function(z,Z,he,xe,ze,Ve){this.elem=z,this.prop=he,this.easing=ze||Q.easing._default,this.options=Z,this.start=this.now=this.cur(),this.end=xe,this.unit=Ve||(Q.cssNumber[he]?"":"px")},cur:function(){var z=se.propHooks[this.prop];return z&&z.get?z.get(this):se.propHooks._default.get(this)},run:function(z){var Z,he=se.propHooks[this.prop];return this.options.duration?this.pos=Z=Q.easing[this.easing](z,this.options.duration*z,0,1,this.options.duration):this.pos=Z=z,this.now=(this.end-this.start)*Z+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),he&&he.set?he.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(z){var Z;return z.elem.nodeType!==1||z.elem[z.prop]!=null&&z.elem.style[z.prop]==null?z.elem[z.prop]:(Z=Q.css(z.elem,z.prop,""),!Z||Z==="auto"?0:Z)},set:function(z){Q.fx.step[z.prop]?Q.fx.step[z.prop](z):z.elem.nodeType===1&&(Q.cssHooks[z.prop]||z.elem.style[ue(z.prop)]!=null)?Q.style(z.elem,z.prop,z.now+z.unit):z.elem[z.prop]=z.now}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(z){z.elem.nodeType&&z.elem.parentNode&&(z.elem[z.prop]=z.now)}},Q.easing={linear:function(z){return z},swing:function(z){return .5-Math.cos(z*Math.PI)/2},_default:"swing"},Q.fx=se.prototype.init,Q.fx.step={};var ke,Ke,zt=/^(?:toggle|show|hide)$/,ai=/queueHooks$/;function Xt(){Ke&&(pe.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(Xt):r.setTimeout(Xt,Q.fx.interval),Q.fx.tick())}function Wt(){return r.setTimeout(function(){ke=void 0}),ke=Date.now()}function li(z,Z){var he,xe=0,ze={height:z};for(Z=Z?1:0;xe<4;xe+=2-Z)he=ar[xe],ze["margin"+he]=ze["padding"+he]=z;return Z&&(ze.opacity=ze.width=z),ze}function mi(z,Z,he){for(var xe,ze=(Gi.tweeners[Z]||[]).concat(Gi.tweeners["*"]),Ve=0,Qe=ze.length;Ve<Qe;Ve++)if(xe=ze[Ve].call(he,Z,z))return xe}function Yi(z,Z,he){var xe,ze,Ve,Qe,Ct,Mt,Ht,ci,Pi="width"in Z||"height"in Z,Jt=this,di={},Ni=z.style,wr=z.nodeType&&kn(z),rr=Ei.get(z,"fxshow");he.queue||(Qe=Q._queueHooks(z,"fx"),Qe.unqueued==null&&(Qe.unqueued=0,Ct=Qe.empty.fire,Qe.empty.fire=function(){Qe.unqueued||Ct()}),Qe.unqueued++,Jt.always(function(){Jt.always(function(){Qe.unqueued--,Q.queue(z,"fx").length||Qe.empty.fire()})}));for(xe in Z)if(ze=Z[xe],zt.test(ze)){if(delete Z[xe],Ve=Ve||ze==="toggle",ze===(wr?"hide":"show"))if(ze==="show"&&rr&&rr[xe]!==void 0)wr=!0;else continue;di[xe]=rr&&rr[xe]||Q.style(z,xe)}if(Mt=!Q.isEmptyObject(Z),!(!Mt&&Q.isEmptyObject(di))){Pi&&z.nodeType===1&&(he.overflow=[Ni.overflow,Ni.overflowX,Ni.overflowY],Ht=rr&&rr.display,Ht==null&&(Ht=Ei.get(z,"display")),ci=Q.css(z,"display"),ci==="none"&&(Ht?ci=Ht:(ra([z],!0),Ht=z.style.display||Ht,ci=Q.css(z,"display"),ra([z]))),(ci==="inline"||ci==="inline-block"&&Ht!=null)&&Q.css(z,"float")==="none"&&(Mt||(Jt.done(function(){Ni.display=Ht}),Ht==null&&(ci=Ni.display,Ht=ci==="none"?"":ci)),Ni.display="inline-block")),he.overflow&&(Ni.overflow="hidden",Jt.always(function(){Ni.overflow=he.overflow[0],Ni.overflowX=he.overflow[1],Ni.overflowY=he.overflow[2]})),Mt=!1;for(xe in di)Mt||(rr?"hidden"in rr&&(wr=rr.hidden):rr=Ei.access(z,"fxshow",{display:Ht}),Ve&&(rr.hidden=!wr),wr&&ra([z],!0),Jt.done(function(){wr||ra([z]),Ei.remove(z,"fxshow");for(xe in di)Q.style(z,xe,di[xe])})),Mt=mi(wr?rr[xe]:0,xe,Jt),xe in rr||(rr[xe]=Mt.start,wr&&(Mt.end=Mt.start,Mt.start=0))}}function Gr(z,Z){var he,xe,ze,Ve,Qe;for(he in z)if(xe=wi(he),ze=Z[xe],Ve=z[he],Array.isArray(Ve)&&(ze=Ve[1],Ve=z[he]=Ve[0]),he!==xe&&(z[xe]=Ve,delete z[he]),Qe=Q.cssHooks[xe],Qe&&"expand"in Qe){Ve=Qe.expand(Ve),delete z[xe];for(he in Ve)he in z||(z[he]=Ve[he],Z[he]=ze)}else Z[xe]=ze}function Gi(z,Z,he){var xe,ze,Ve=0,Qe=Gi.prefilters.length,Ct=Q.Deferred().always(function(){delete Mt.elem}),Mt=function(){if(ze)return!1;for(var Pi=ke||Wt(),Jt=Math.max(0,Ht.startTime+Ht.duration-Pi),di=Jt/Ht.duration||0,Ni=1-di,wr=0,rr=Ht.tweens.length;wr<rr;wr++)Ht.tweens[wr].run(Ni);return Ct.notifyWith(z,[Ht,Ni,Jt]),Ni<1&&rr?Jt:(rr||Ct.notifyWith(z,[Ht,1,0]),Ct.resolveWith(z,[Ht]),!1)},Ht=Ct.promise({elem:z,props:Q.extend({},Z),opts:Q.extend(!0,{specialEasing:{},easing:Q.easing._default},he),originalProperties:Z,originalOptions:he,startTime:ke||Wt(),duration:he.duration,tweens:[],createTween:function(Pi,Jt){var di=Q.Tween(z,Ht.opts,Pi,Jt,Ht.opts.specialEasing[Pi]||Ht.opts.easing);return Ht.tweens.push(di),di},stop:function(Pi){var Jt=0,di=Pi?Ht.tweens.length:0;if(ze)return this;for(ze=!0;Jt<di;Jt++)Ht.tweens[Jt].run(1);return Pi?(Ct.notifyWith(z,[Ht,1,0]),Ct.resolveWith(z,[Ht,Pi])):Ct.rejectWith(z,[Ht,Pi]),this}}),ci=Ht.props;for(Gr(ci,Ht.opts.specialEasing);Ve<Qe;Ve++)if(xe=Gi.prefilters[Ve].call(Ht,z,ci,Ht.opts),xe)return ne(xe.stop)&&(Q._queueHooks(Ht.elem,Ht.opts.queue).stop=xe.stop.bind(xe)),xe;return Q.map(ci,mi,Ht),ne(Ht.opts.start)&&Ht.opts.start.call(z,Ht),Ht.progress(Ht.opts.progress).done(Ht.opts.done,Ht.opts.complete).fail(Ht.opts.fail).always(Ht.opts.always),Q.fx.timer(Q.extend(Mt,{elem:z,anim:Ht,queue:Ht.opts.queue})),Ht}Q.Animation=Q.extend(Gi,{tweeners:{"*":[function(z,Z){var he=this.createTween(z,Z);return oa(he.elem,z,yr.exec(Z),he),he}]},tweener:function(z,Z){ne(z)?(Z=z,z=["*"]):z=z.match(Pt);for(var he,xe=0,ze=z.length;xe<ze;xe++)he=z[xe],Gi.tweeners[he]=Gi.tweeners[he]||[],Gi.tweeners[he].unshift(Z)},prefilters:[Yi],prefilter:function(z,Z){Z?Gi.prefilters.unshift(z):Gi.prefilters.push(z)}}),Q.speed=function(z,Z,he){var xe=z&&typeof z=="object"?Q.extend({},z):{complete:he||!he&&Z||ne(z)&&z,duration:z,easing:he&&Z||Z&&!ne(Z)&&Z};return Q.fx.off?xe.duration=0:typeof xe.duration!="number"&&(xe.duration in Q.fx.speeds?xe.duration=Q.fx.speeds[xe.duration]:xe.duration=Q.fx.speeds._default),(xe.queue==null||xe.queue===!0)&&(xe.queue="fx"),xe.old=xe.complete,xe.complete=function(){ne(xe.old)&&xe.old.call(this),xe.queue&&Q.dequeue(this,xe.queue)},xe},Q.fn.extend({fadeTo:function(z,Z,he,xe){return this.filter(kn).css("opacity",0).show().end().animate({opacity:Z},z,he,xe)},animate:function(z,Z,he,xe){var ze=Q.isEmptyObject(z),Ve=Q.speed(Z,he,xe),Qe=function(){var Ct=Gi(this,Q.extend({},z),Ve);(ze||Ei.get(this,"finish"))&&Ct.stop(!0)};return Qe.finish=Qe,ze||Ve.queue===!1?this.each(Qe):this.queue(Ve.queue,Qe)},stop:function(z,Z,he){var xe=function(ze){var Ve=ze.stop;delete ze.stop,Ve(he)};return typeof z!="string"&&(he=Z,Z=z,z=void 0),Z&&this.queue(z||"fx",[]),this.each(function(){var ze=!0,Ve=z!=null&&z+"queueHooks",Qe=Q.timers,Ct=Ei.get(this);if(Ve)Ct[Ve]&&Ct[Ve].stop&&xe(Ct[Ve]);else for(Ve in Ct)Ct[Ve]&&Ct[Ve].stop&&ai.test(Ve)&&xe(Ct[Ve]);for(Ve=Qe.length;Ve--;)Qe[Ve].elem===this&&(z==null||Qe[Ve].queue===z)&&(Qe[Ve].anim.stop(he),ze=!1,Qe.splice(Ve,1));(ze||!he)&&Q.dequeue(this,z)})},finish:function(z){return z!==!1&&(z=z||"fx"),this.each(function(){var Z,he=Ei.get(this),xe=he[z+"queue"],ze=he[z+"queueHooks"],Ve=Q.timers,Qe=xe?xe.length:0;for(he.finish=!0,Q.queue(this,z,[]),ze&&ze.stop&&ze.stop.call(this,!0),Z=Ve.length;Z--;)Ve[Z].elem===this&&Ve[Z].queue===z&&(Ve[Z].anim.stop(!0),Ve.splice(Z,1));for(Z=0;Z<Qe;Z++)xe[Z]&&xe[Z].finish&&xe[Z].finish.call(this);delete he.finish})}}),Q.each(["toggle","show","hide"],function(z,Z){var he=Q.fn[Z];Q.fn[Z]=function(xe,ze,Ve){return xe==null||typeof xe=="boolean"?he.apply(this,arguments):this.animate(li(Z,!0),xe,ze,Ve)}}),Q.each({slideDown:li("show"),slideUp:li("hide"),slideToggle:li("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(z,Z){Q.fn[z]=function(he,xe,ze){return this.animate(Z,he,xe,ze)}}),Q.timers=[],Q.fx.tick=function(){var z,Z=0,he=Q.timers;for(ke=Date.now();Z<he.length;Z++)z=he[Z],!z()&&he[Z]===z&&he.splice(Z--,1);he.length||Q.fx.stop(),ke=void 0},Q.fx.timer=function(z){Q.timers.push(z),Q.fx.start()},Q.fx.interval=13,Q.fx.start=function(){Ke||(Ke=!0,Xt())},Q.fx.stop=function(){Ke=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(z,Z){return z=Q.fx&&Q.fx.speeds[z]||z,Z=Z||"fx",this.queue(Z,function(he,xe){var ze=r.setTimeout(he,z);xe.stop=function(){r.clearTimeout(ze)}})},function(){var z=pe.createElement("input"),Z=pe.createElement("select"),he=Z.appendChild(pe.createElement("option"));z.type="checkbox",ye.checkOn=z.value!=="",ye.optSelected=he.selected,z=pe.createElement("input"),z.value="t",z.type="radio",ye.radioValue=z.value==="t"}();var Rr,vn=Q.expr.attrHandle;Q.fn.extend({attr:function(z,Z){return gi(this,Q.attr,z,Z,arguments.length>1)},removeAttr:function(z){return this.each(function(){Q.removeAttr(this,z)})}}),Q.extend({attr:function(z,Z,he){var xe,ze,Ve=z.nodeType;if(!(Ve===3||Ve===8||Ve===2)){if(typeof z.getAttribute>"u")return Q.prop(z,Z,he);if((Ve!==1||!Q.isXMLDoc(z))&&(ze=Q.attrHooks[Z.toLowerCase()]||(Q.expr.match.bool.test(Z)?Rr:void 0)),he!==void 0){if(he===null){Q.removeAttr(z,Z);return}return ze&&"set"in ze&&(xe=ze.set(z,he,Z))!==void 0?xe:(z.setAttribute(Z,he+""),he)}return ze&&"get"in ze&&(xe=ze.get(z,Z))!==null?xe:(xe=Q.find.attr(z,Z),xe??void 0)}},attrHooks:{type:{set:function(z,Z){if(!ye.radioValue&&Z==="radio"&&Pe(z,"input")){var he=z.value;return z.setAttribute("type",Z),he&&(z.value=he),Z}}}},removeAttr:function(z,Z){var he,xe=0,ze=Z&&Z.match(Pt);if(ze&&z.nodeType===1)for(;he=ze[xe++];)z.removeAttribute(he)}}),Rr={set:function(z,Z,he){return Z===!1?Q.removeAttr(z,he):z.setAttribute(he,he),he}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(z,Z){var he=vn[Z]||Q.find.attr;vn[Z]=function(xe,ze,Ve){var Qe,Ct,Mt=ze.toLowerCase();return Ve||(Ct=vn[Mt],vn[Mt]=Qe,Qe=he(xe,ze,Ve)!=null?Mt:null,vn[Mt]=Ct),Qe}});var qn=/^(?:input|select|textarea|button)$/i,rn=/^(?:a|area)$/i;Q.fn.extend({prop:function(z,Z){return gi(this,Q.prop,z,Z,arguments.length>1)},removeProp:function(z){return this.each(function(){delete this[Q.propFix[z]||z]})}}),Q.extend({prop:function(z,Z,he){var xe,ze,Ve=z.nodeType;if(!(Ve===3||Ve===8||Ve===2))return(Ve!==1||!Q.isXMLDoc(z))&&(Z=Q.propFix[Z]||Z,ze=Q.propHooks[Z]),he!==void 0?ze&&"set"in ze&&(xe=ze.set(z,he,Z))!==void 0?xe:z[Z]=he:ze&&"get"in ze&&(xe=ze.get(z,Z))!==null?xe:z[Z]},propHooks:{tabIndex:{get:function(z){var Z=Q.find.attr(z,"tabindex");return Z?parseInt(Z,10):qn.test(z.nodeName)||rn.test(z.nodeName)&&z.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(Q.propHooks.selected={get:function(z){var Z=z.parentNode;return Z&&Z.parentNode&&Z.parentNode.selectedIndex,null},set:function(z){var Z=z.parentNode;Z&&(Z.selectedIndex,Z.parentNode&&Z.parentNode.selectedIndex)}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});function kr(z){var Z=z.match(Pt)||[];return Z.join(" ")}function Kn(z){return z.getAttribute&&z.getAttribute("class")||""}function La(z){return Array.isArray(z)?z:typeof z=="string"?z.match(Pt)||[]:[]}Q.fn.extend({addClass:function(z){var Z,he,xe,ze,Ve,Qe,Ct,Mt=0;if(ne(z))return this.each(function(Ht){Q(this).addClass(z.call(this,Ht,Kn(this)))});if(Z=La(z),Z.length){for(;he=this[Mt++];)if(ze=Kn(he),xe=he.nodeType===1&&" "+kr(ze)+" ",xe){for(Qe=0;Ve=Z[Qe++];)xe.indexOf(" "+Ve+" ")<0&&(xe+=Ve+" ");Ct=kr(xe),ze!==Ct&&he.setAttribute("class",Ct)}}return this},removeClass:function(z){var Z,he,xe,ze,Ve,Qe,Ct,Mt=0;if(ne(z))return this.each(function(Ht){Q(this).removeClass(z.call(this,Ht,Kn(this)))});if(!arguments.length)return this.attr("class","");if(Z=La(z),Z.length){for(;he=this[Mt++];)if(ze=Kn(he),xe=he.nodeType===1&&" "+kr(ze)+" ",xe){for(Qe=0;Ve=Z[Qe++];)for(;xe.indexOf(" "+Ve+" ")>-1;)xe=xe.replace(" "+Ve+" "," ");Ct=kr(xe),ze!==Ct&&he.setAttribute("class",Ct)}}return this},toggleClass:function(z,Z){var he=typeof z,xe=he==="string"||Array.isArray(z);return typeof Z=="boolean"&&xe?Z?this.addClass(z):this.removeClass(z):ne(z)?this.each(function(ze){Q(this).toggleClass(z.call(this,ze,Kn(this),Z),Z)}):this.each(function(){var ze,Ve,Qe,Ct;if(xe)for(Ve=0,Qe=Q(this),Ct=La(z);ze=Ct[Ve++];)Qe.hasClass(ze)?Qe.removeClass(ze):Qe.addClass(ze);else(z===void 0||he==="boolean")&&(ze=Kn(this),ze&&Ei.set(this,"__className__",ze),this.setAttribute&&this.setAttribute("class",ze||z===!1?"":Ei.get(this,"__className__")||""))})},hasClass:function(z){var Z,he,xe=0;for(Z=" "+z+" ";he=this[xe++];)if(he.nodeType===1&&(" "+kr(Kn(he))+" ").indexOf(Z)>-1)return!0;return!1}});var hs=/\r/g;Q.fn.extend({val:function(z){var Z,he,xe,ze=this[0];return arguments.length?(xe=ne(z),this.each(function(Ve){var Qe;this.nodeType===1&&(xe?Qe=z.call(this,Ve,Q(this).val()):Qe=z,Qe==null?Qe="":typeof Qe=="number"?Qe+="":Array.isArray(Qe)&&(Qe=Q.map(Qe,function(Ct){return Ct==null?"":Ct+""})),Z=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],(!Z||!("set"in Z)||Z.set(this,Qe,"value")===void 0)&&(this.value=Qe))})):ze?(Z=Q.valHooks[ze.type]||Q.valHooks[ze.nodeName.toLowerCase()],Z&&"get"in Z&&(he=Z.get(ze,"value"))!==void 0?he:(he=ze.value,typeof he=="string"?he.replace(hs,""):he??"")):void 0}}),Q.extend({valHooks:{option:{get:function(z){var Z=Q.find.attr(z,"value");return Z??kr(Q.text(z))}},select:{get:function(z){var Z,he,xe,ze=z.options,Ve=z.selectedIndex,Qe=z.type==="select-one",Ct=Qe?null:[],Mt=Qe?Ve+1:ze.length;for(Ve<0?xe=Mt:xe=Qe?Ve:0;xe<Mt;xe++)if(he=ze[xe],(he.selected||xe===Ve)&&!he.disabled&&(!he.parentNode.disabled||!Pe(he.parentNode,"optgroup"))){if(Z=Q(he).val(),Qe)return Z;Ct.push(Z)}return Ct},set:function(z,Z){for(var he,xe,ze=z.options,Ve=Q.makeArray(Z),Qe=ze.length;Qe--;)xe=ze[Qe],(xe.selected=Q.inArray(Q.valHooks.option.get(xe),Ve)>-1)&&(he=!0);return he||(z.selectedIndex=-1),Ve}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(z,Z){if(Array.isArray(Z))return z.checked=Q.inArray(Q(z).val(),Z)>-1}},ye.checkOn||(Q.valHooks[this].get=function(z){return z.getAttribute("value")===null?"on":z.value})}),ye.focusin="onfocusin"in r;var _s=/^(?:focusinfocus|focusoutblur)$/,Un=function(z){z.stopPropagation()};Q.extend(Q.event,{trigger:function(z,Z,he,xe){var ze,Ve,Qe,Ct,Mt,Ht,ci,Pi,Jt=[he||pe],di=J.call(z,"type")?z.type:z,Ni=J.call(z,"namespace")?z.namespace.split("."):[];if(Ve=Pi=Qe=he=he||pe,!(he.nodeType===3||he.nodeType===8)&&!_s.test(di+Q.event.triggered)&&(di.indexOf(".")>-1&&(Ni=di.split("."),di=Ni.shift(),Ni.sort()),Mt=di.indexOf(":")<0&&"on"+di,z=z[Q.expando]?z:new Q.Event(di,typeof z=="object"&&z),z.isTrigger=xe?2:3,z.namespace=Ni.join("."),z.rnamespace=z.namespace?new RegExp("(^|\\.)"+Ni.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,z.result=void 0,z.target||(z.target=he),Z=Z==null?[z]:Q.makeArray(Z,[z]),ci=Q.event.special[di]||{},!(!xe&&ci.trigger&&ci.trigger.apply(he,Z)===!1))){if(!xe&&!ci.noBubble&&!X(he)){for(Ct=ci.delegateType||di,_s.test(Ct+di)||(Ve=Ve.parentNode);Ve;Ve=Ve.parentNode)Jt.push(Ve),Qe=Ve;Qe===(he.ownerDocument||pe)&&Jt.push(Qe.defaultView||Qe.parentWindow||r)}for(ze=0;(Ve=Jt[ze++])&&!z.isPropagationStopped();)Pi=Ve,z.type=ze>1?Ct:ci.bindType||di,Ht=(Ei.get(Ve,"events")||Object.create(null))[z.type]&&Ei.get(Ve,"handle"),Ht&&Ht.apply(Ve,Z),Ht=Mt&&Ve[Mt],Ht&&Ht.apply&&Mi(Ve)&&(z.result=Ht.apply(Ve,Z),z.result===!1&&z.preventDefault());return z.type=di,!xe&&!z.isDefaultPrevented()&&(!ci._default||ci._default.apply(Jt.pop(),Z)===!1)&&Mi(he)&&Mt&&ne(he[di])&&!X(he)&&(Qe=he[Mt],Qe&&(he[Mt]=null),Q.event.triggered=di,z.isPropagationStopped()&&Pi.addEventListener(di,Un),he[di](),z.isPropagationStopped()&&Pi.removeEventListener(di,Un),Q.event.triggered=void 0,Qe&&(he[Mt]=Qe)),z.result}},simulate:function(z,Z,he){var xe=Q.extend(new Q.Event,he,{type:z,isSimulated:!0});Q.event.trigger(xe,null,Z)}}),Q.fn.extend({trigger:function(z,Z){return this.each(function(){Q.event.trigger(z,Z,this)})},triggerHandler:function(z,Z){var he=this[0];if(he)return Q.event.trigger(z,Z,he,!0)}}),ye.focusin||Q.each({focus:"focusin",blur:"focusout"},function(z,Z){var he=function(xe){Q.event.simulate(Z,xe.target,Q.event.fix(xe))};Q.event.special[Z]={setup:function(){var xe=this.ownerDocument||this.document||this,ze=Ei.access(xe,Z);ze||xe.addEventListener(z,he,!0),Ei.access(xe,Z,(ze||0)+1)},teardown:function(){var xe=this.ownerDocument||this.document||this,ze=Ei.access(xe,Z)-1;ze?Ei.access(xe,Z,ze):(xe.removeEventListener(z,he,!0),Ei.remove(xe,Z))}}});var $r=r.location,Ha={guid:Date.now()},fo=/\?/;Q.parseXML=function(z){var Z;if(!z||typeof z!="string")return null;try{Z=new r.DOMParser().parseFromString(z,"text/xml")}catch{Z=void 0}return(!Z||Z.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+z),Z};var $o=/\[\]$/,bs=/\r?\n/g,Wn=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;function Fs(z,Z,he,xe){var ze;if(Array.isArray(Z))Q.each(Z,function(Ve,Qe){he||$o.test(z)?xe(z,Qe):Fs(z+"["+(typeof Qe=="object"&&Qe!=null?Ve:"")+"]",Qe,he,xe)});else if(!he&&it(Z)==="object")for(ze in Z)Fs(z+"["+ze+"]",Z[ze],he,xe);else xe(z,Z)}Q.param=function(z,Z){var he,xe=[],ze=function(Ve,Qe){var Ct=ne(Qe)?Qe():Qe;xe[xe.length]=encodeURIComponent(Ve)+"="+encodeURIComponent(Ct??"")};if(z==null)return"";if(Array.isArray(z)||z.jquery&&!Q.isPlainObject(z))Q.each(z,function(){ze(this.name,this.value)});else for(he in z)Fs(he,z[he],Z,ze);return xe.join("&")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var z=Q.prop(this,"elements");return z?Q.makeArray(z):this}).filter(function(){var z=this.type;return this.name&&!Q(this).is(":disabled")&&cn.test(this.nodeName)&&!Wn.test(z)&&(this.checked||!mn.test(z))}).map(function(z,Z){var he=Q(this).val();return he==null?null:Array.isArray(he)?Q.map(he,function(xe){return{name:Z.name,value:xe.replace(bs,`\r
`)}}):{name:Z.name,value:he.replace(bs,`\r
`)}}).get()}});var Xs=/%20/g,nn=/#.*$/,la=/([?&])_=[^&]*/,pl=/^(.*?):[ \t]*([^\r\n]*)$/mg,Zs=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Xo=/^\/\//,po={},mo={},Ln="*/".concat("*"),qs=pe.createElement("a");qs.href=$r.href;function ml(z){return function(Z,he){typeof Z!="string"&&(he=Z,Z="*");var xe,ze=0,Ve=Z.toLowerCase().match(Pt)||[];if(ne(he))for(;xe=Ve[ze++];)xe[0]==="+"?(xe=xe.slice(1)||"*",(z[xe]=z[xe]||[]).unshift(he)):(z[xe]=z[xe]||[]).push(he)}}function ws(z,Z,he,xe){var ze={},Ve=z===mo;function Qe(Ct){var Mt;return ze[Ct]=!0,Q.each(z[Ct]||[],function(Ht,ci){var Pi=ci(Z,he,xe);if(typeof Pi=="string"&&!Ve&&!ze[Pi])return Z.dataTypes.unshift(Pi),Qe(Pi),!1;if(Ve)return!(Mt=Pi)}),Mt}return Qe(Z.dataTypes[0])||!ze["*"]&&Qe("*")}function Es(z,Z){var he,xe,ze=Q.ajaxSettings.flatOptions||{};for(he in Z)Z[he]!==void 0&&((ze[he]?z:xe||(xe={}))[he]=Z[he]);return xe&&Q.extend(!0,z,xe),z}function Zo(z,Z,he){for(var xe,ze,Ve,Qe,Ct=z.contents,Mt=z.dataTypes;Mt[0]==="*";)Mt.shift(),xe===void 0&&(xe=z.mimeType||Z.getResponseHeader("Content-Type"));if(xe){for(ze in Ct)if(Ct[ze]&&Ct[ze].test(xe)){Mt.unshift(ze);break}}if(Mt[0]in he)Ve=Mt[0];else{for(ze in he){if(!Mt[0]||z.converters[ze+" "+Mt[0]]){Ve=ze;break}Qe||(Qe=ze)}Ve=Ve||Qe}if(Ve)return Ve!==Mt[0]&&Mt.unshift(Ve),he[Ve]}function Ja(z,Z,he,xe){var ze,Ve,Qe,Ct,Mt,Ht={},ci=z.dataTypes.slice();if(ci[1])for(Qe in z.converters)Ht[Qe.toLowerCase()]=z.converters[Qe];for(Ve=ci.shift();Ve;)if(z.responseFields[Ve]&&(he[z.responseFields[Ve]]=Z),!Mt&&xe&&z.dataFilter&&(Z=z.dataFilter(Z,z.dataType)),Mt=Ve,Ve=ci.shift(),Ve){if(Ve==="*")Ve=Mt;else if(Mt!=="*"&&Mt!==Ve){if(Qe=Ht[Mt+" "+Ve]||Ht["* "+Ve],!Qe){for(ze in Ht)if(Ct=ze.split(" "),Ct[1]===Ve&&(Qe=Ht[Mt+" "+Ct[0]]||Ht["* "+Ct[0]],Qe)){Qe===!0?Qe=Ht[ze]:Ht[ze]!==!0&&(Ve=Ct[0],ci.unshift(Ct[1]));break}}if(Qe!==!0)if(Qe&&z.throws)Z=Qe(Z);else try{Z=Qe(Z)}catch(Pi){return{state:"parsererror",error:Qe?Pi:"No conversion from "+Mt+" to "+Ve}}}}return{state:"success",data:Z}}Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$r.href,type:"GET",isLocal:Zs.test($r.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ln,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(z,Z){return Z?Es(Es(z,Q.ajaxSettings),Z):Es(Q.ajaxSettings,z)},ajaxPrefilter:ml(po),ajaxTransport:ml(mo),ajax:function(z,Z){typeof z=="object"&&(Z=z,z=void 0),Z=Z||{};var he,xe,ze,Ve,Qe,Ct,Mt,Ht,ci,Pi,Jt=Q.ajaxSetup({},Z),di=Jt.context||Jt,Ni=Jt.context&&(di.nodeType||di.jquery)?Q(di):Q.event,wr=Q.Deferred(),rr=Q.Callbacks("once memory"),Rn=Jt.statusCode||{},yn={},va={},Hr="canceled",_r={readyState:0,getResponseHeader:function(Qi){var zr;if(Mt){if(!Ve)for(Ve={};zr=pl.exec(ze);)Ve[zr[1].toLowerCase()+" "]=(Ve[zr[1].toLowerCase()+" "]||[]).concat(zr[2]);zr=Ve[Qi.toLowerCase()+" "]}return zr==null?null:zr.join(", ")},getAllResponseHeaders:function(){return Mt?ze:null},setRequestHeader:function(Qi,zr){return Mt==null&&(Qi=va[Qi.toLowerCase()]=va[Qi.toLowerCase()]||Qi,yn[Qi]=zr),this},overrideMimeType:function(Qi){return Mt==null&&(Jt.mimeType=Qi),this},statusCode:function(Qi){var zr;if(Qi)if(Mt)_r.always(Qi[_r.status]);else for(zr in Qi)Rn[zr]=[Rn[zr],Qi[zr]];return this},abort:function(Qi){var zr=Qi||Hr;return he&&he.abort(zr),zn(0,zr),this}};if(wr.promise(_r),Jt.url=((z||Jt.url||$r.href)+"").replace(Xo,$r.protocol+"//"),Jt.type=Z.method||Z.type||Jt.method||Jt.type,Jt.dataTypes=(Jt.dataType||"*").toLowerCase().match(Pt)||[""],Jt.crossDomain==null){Ct=pe.createElement("a");try{Ct.href=Jt.url,Ct.href=Ct.href,Jt.crossDomain=qs.protocol+"//"+qs.host!=Ct.protocol+"//"+Ct.host}catch{Jt.crossDomain=!0}}if(Jt.data&&Jt.processData&&typeof Jt.data!="string"&&(Jt.data=Q.param(Jt.data,Jt.traditional)),ws(po,Jt,Z,_r),Mt)return _r;Ht=Q.event&&Jt.global,Ht&&Q.active++===0&&Q.event.trigger("ajaxStart"),Jt.type=Jt.type.toUpperCase(),Jt.hasContent=!Tn.test(Jt.type),xe=Jt.url.replace(nn,""),Jt.hasContent?Jt.data&&Jt.processData&&(Jt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Jt.data=Jt.data.replace(Xs,"+")):(Pi=Jt.url.slice(xe.length),Jt.data&&(Jt.processData||typeof Jt.data=="string")&&(xe+=(fo.test(xe)?"&":"?")+Jt.data,delete Jt.data),Jt.cache===!1&&(xe=xe.replace(la,"$1"),Pi=(fo.test(xe)?"&":"?")+"_="+Ha.guid+++Pi),Jt.url=xe+Pi),Jt.ifModified&&(Q.lastModified[xe]&&_r.setRequestHeader("If-Modified-Since",Q.lastModified[xe]),Q.etag[xe]&&_r.setRequestHeader("If-None-Match",Q.etag[xe])),(Jt.data&&Jt.hasContent&&Jt.contentType!==!1||Z.contentType)&&_r.setRequestHeader("Content-Type",Jt.contentType),_r.setRequestHeader("Accept",Jt.dataTypes[0]&&Jt.accepts[Jt.dataTypes[0]]?Jt.accepts[Jt.dataTypes[0]]+(Jt.dataTypes[0]!=="*"?", "+Ln+"; q=0.01":""):Jt.accepts["*"]);for(ci in Jt.headers)_r.setRequestHeader(ci,Jt.headers[ci]);if(Jt.beforeSend&&(Jt.beforeSend.call(di,_r,Jt)===!1||Mt))return _r.abort();if(Hr="abort",rr.add(Jt.complete),_r.done(Jt.success),_r.fail(Jt.error),he=ws(mo,Jt,Z,_r),!he)zn(-1,"No Transport");else{if(_r.readyState=1,Ht&&Ni.trigger("ajaxSend",[_r,Jt]),Mt)return _r;Jt.async&&Jt.timeout>0&&(Qe=r.setTimeout(function(){_r.abort("timeout")},Jt.timeout));try{Mt=!1,he.send(yn,zn)}catch(Qi){if(Mt)throw Qi;zn(-1,Qi)}}function zn(Qi,zr,Jn,Bs){var aa,Qn,xr,sa,Qa,ca=zr;Mt||(Mt=!0,Qe&&r.clearTimeout(Qe),he=void 0,ze=Bs||"",_r.readyState=Qi>0?4:0,aa=Qi>=200&&Qi<300||Qi===304,Jn&&(sa=Zo(Jt,_r,Jn)),!aa&&Q.inArray("script",Jt.dataTypes)>-1&&(Jt.converters["text script"]=function(){}),sa=Ja(Jt,sa,_r,aa),aa?(Jt.ifModified&&(Qa=_r.getResponseHeader("Last-Modified"),Qa&&(Q.lastModified[xe]=Qa),Qa=_r.getResponseHeader("etag"),Qa&&(Q.etag[xe]=Qa)),Qi===204||Jt.type==="HEAD"?ca="nocontent":Qi===304?ca="notmodified":(ca=sa.state,Qn=sa.data,xr=sa.error,aa=!xr)):(xr=ca,(Qi||!ca)&&(ca="error",Qi<0&&(Qi=0))),_r.status=Qi,_r.statusText=(zr||ca)+"",aa?wr.resolveWith(di,[Qn,ca,_r]):wr.rejectWith(di,[_r,ca,xr]),_r.statusCode(Rn),Rn=void 0,Ht&&Ni.trigger(aa?"ajaxSuccess":"ajaxError",[_r,Jt,aa?Qn:xr]),rr.fireWith(di,[_r,ca]),Ht&&(Ni.trigger("ajaxComplete",[_r,Jt]),--Q.active||Q.event.trigger("ajaxStop")))}return _r},getJSON:function(z,Z,he){return Q.get(z,Z,he,"json")},getScript:function(z,Z){return Q.get(z,void 0,Z,"script")}}),Q.each(["get","post"],function(z,Z){Q[Z]=function(he,xe,ze,Ve){return ne(xe)&&(Ve=Ve||ze,ze=xe,xe=void 0),Q.ajax(Q.extend({url:he,type:Z,dataType:Ve,data:xe,success:ze},Q.isPlainObject(he)&&he))}}),Q.ajaxPrefilter(function(z){var Z;for(Z in z.headers)Z.toLowerCase()==="content-type"&&(z.contentType=z.headers[Z]||"")}),Q._evalUrl=function(z,Z,he){return Q.ajax({url:z,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(xe){Q.globalEval(xe,Z,he)}})},Q.fn.extend({wrapAll:function(z){var Z;return this[0]&&(ne(z)&&(z=z.call(this[0])),Z=Q(z,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Z.insertBefore(this[0]),Z.map(function(){for(var he=this;he.firstElementChild;)he=he.firstElementChild;return he}).append(this)),this},wrapInner:function(z){return ne(z)?this.each(function(Z){Q(this).wrapInner(z.call(this,Z))}):this.each(function(){var Z=Q(this),he=Z.contents();he.length?he.wrapAll(z):Z.append(z)})},wrap:function(z){var Z=ne(z);return this.each(function(he){Q(this).wrapAll(Z?z.call(this,he):z)})},unwrap:function(z){return this.parent(z).not("body").each(function(){Q(this).replaceWith(this.childNodes)}),this}}),Q.expr.pseudos.hidden=function(z){return!Q.expr.pseudos.visible(z)},Q.expr.pseudos.visible=function(z){return!!(z.offsetWidth||z.offsetHeight||z.getClientRects().length)},Q.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch{}};var $l={0:200,1223:204},us=Q.ajaxSettings.xhr();ye.cors=!!us&&"withCredentials"in us,ye.ajax=us=!!us,Q.ajaxTransport(function(z){var Z,he;if(ye.cors||us&&!z.crossDomain)return{send:function(xe,ze){var Ve,Qe=z.xhr();if(Qe.open(z.type,z.url,z.async,z.username,z.password),z.xhrFields)for(Ve in z.xhrFields)Qe[Ve]=z.xhrFields[Ve];z.mimeType&&Qe.overrideMimeType&&Qe.overrideMimeType(z.mimeType),!z.crossDomain&&!xe["X-Requested-With"]&&(xe["X-Requested-With"]="XMLHttpRequest");for(Ve in xe)Qe.setRequestHeader(Ve,xe[Ve]);Z=function(Ct){return function(){Z&&(Z=he=Qe.onload=Qe.onerror=Qe.onabort=Qe.ontimeout=Qe.onreadystatechange=null,Ct==="abort"?Qe.abort():Ct==="error"?typeof Qe.status!="number"?ze(0,"error"):ze(Qe.status,Qe.statusText):ze($l[Qe.status]||Qe.status,Qe.statusText,(Qe.responseType||"text")!=="text"||typeof Qe.responseText!="string"?{binary:Qe.response}:{text:Qe.responseText},Qe.getAllResponseHeaders()))}},Qe.onload=Z(),he=Qe.onerror=Qe.ontimeout=Z("error"),Qe.onabort!==void 0?Qe.onabort=he:Qe.onreadystatechange=function(){Qe.readyState===4&&r.setTimeout(function(){Z&&he()})},Z=Z("abort");try{Qe.send(z.hasContent&&z.data||null)}catch(Ct){if(Z)throw Ct}},abort:function(){Z&&Z()}}}),Q.ajaxPrefilter(function(z){z.crossDomain&&(z.contents.script=!1)}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(z){return Q.globalEval(z),z}}}),Q.ajaxPrefilter("script",function(z){z.cache===void 0&&(z.cache=!1),z.crossDomain&&(z.type="GET")}),Q.ajaxTransport("script",function(z){if(z.crossDomain||z.scriptAttrs){var Z,he;return{send:function(xe,ze){Z=Q("<script>").attr(z.scriptAttrs||{}).prop({charset:z.scriptCharset,src:z.url}).on("load error",he=function(Ve){Z.remove(),he=null,Ve&&ze(Ve.type==="error"?404:200,Ve.type)}),pe.head.appendChild(Z[0])},abort:function(){he&&he()}}}});var qo=[],gl=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var z=qo.pop()||Q.expando+"_"+Ha.guid++;return this[z]=!0,z}}),Q.ajaxPrefilter("json jsonp",function(z,Z,he){var xe,ze,Ve,Qe=z.jsonp!==!1&&(gl.test(z.url)?"url":typeof z.data=="string"&&(z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&gl.test(z.data)&&"data");if(Qe||z.dataTypes[0]==="jsonp")return xe=z.jsonpCallback=ne(z.jsonpCallback)?z.jsonpCallback():z.jsonpCallback,Qe?z[Qe]=z[Qe].replace(gl,"$1"+xe):z.jsonp!==!1&&(z.url+=(fo.test(z.url)?"&":"?")+z.jsonp+"="+xe),z.converters["script json"]=function(){return Ve||Q.error(xe+" was not called"),Ve[0]},z.dataTypes[0]="json",ze=r[xe],r[xe]=function(){Ve=arguments},he.always(function(){ze===void 0?Q(r).removeProp(xe):r[xe]=ze,z[xe]&&(z.jsonpCallback=Z.jsonpCallback,qo.push(xe)),Ve&&ne(ze)&&ze(Ve[0]),Ve=ze=void 0}),"script"}),ye.createHTMLDocument=function(){var z=pe.implementation.createHTMLDocument("").body;return z.innerHTML="<form></form><form></form>",z.childNodes.length===2}(),Q.parseHTML=function(z,Z,he){if(typeof z!="string")return[];typeof Z=="boolean"&&(he=Z,Z=!1);var xe,ze,Ve;return Z||(ye.createHTMLDocument?(Z=pe.implementation.createHTMLDocument(""),xe=Z.createElement("base"),xe.href=pe.location.href,Z.head.appendChild(xe)):Z=pe),ze=De.exec(z),Ve=!he&&[],ze?[Z.createElement(ze[1])]:(ze=Oa([z],Z,Ve),Ve&&Ve.length&&Q(Ve).remove(),Q.merge([],ze.childNodes))},Q.fn.load=function(z,Z,he){var xe,ze,Ve,Qe=this,Ct=z.indexOf(" ");return Ct>-1&&(xe=kr(z.slice(Ct)),z=z.slice(0,Ct)),ne(Z)?(he=Z,Z=void 0):Z&&typeof Z=="object"&&(ze="POST"),Qe.length>0&&Q.ajax({url:z,type:ze||"GET",dataType:"html",data:Z}).done(function(Mt){Ve=arguments,Qe.html(xe?Q("<div>").append(Q.parseHTML(Mt)).find(xe):Mt)}).always(he&&function(Mt,Ht){Qe.each(function(){he.apply(this,Ve||[Mt.responseText,Ht,Mt])})}),this},Q.expr.pseudos.animated=function(z){return Q.grep(Q.timers,function(Z){return z===Z.elem}).length},Q.offset={setOffset:function(z,Z,he){var xe,ze,Ve,Qe,Ct,Mt,Ht,ci=Q.css(z,"position"),Pi=Q(z),Jt={};ci==="static"&&(z.style.position="relative"),Ct=Pi.offset(),Ve=Q.css(z,"top"),Mt=Q.css(z,"left"),Ht=(ci==="absolute"||ci==="fixed")&&(Ve+Mt).indexOf("auto")>-1,Ht?(xe=Pi.position(),Qe=xe.top,ze=xe.left):(Qe=parseFloat(Ve)||0,ze=parseFloat(Mt)||0),ne(Z)&&(Z=Z.call(z,he,Q.extend({},Ct))),Z.top!=null&&(Jt.top=Z.top-Ct.top+Qe),Z.left!=null&&(Jt.left=Z.left-Ct.left+ze),"using"in Z?Z.using.call(z,Jt):(typeof Jt.top=="number"&&(Jt.top+="px"),typeof Jt.left=="number"&&(Jt.left+="px"),Pi.css(Jt))}},Q.fn.extend({offset:function(z){if(arguments.length)return z===void 0?this:this.each(function(ze){Q.offset.setOffset(this,z,ze)});var Z,he,xe=this[0];if(xe)return xe.getClientRects().length?(Z=xe.getBoundingClientRect(),he=xe.ownerDocument.defaultView,{top:Z.top+he.pageYOffset,left:Z.left+he.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var z,Z,he,xe=this[0],ze={top:0,left:0};if(Q.css(xe,"position")==="fixed")Z=xe.getBoundingClientRect();else{for(Z=this.offset(),he=xe.ownerDocument,z=xe.offsetParent||he.documentElement;z&&(z===he.body||z===he.documentElement)&&Q.css(z,"position")==="static";)z=z.parentNode;z&&z!==xe&&z.nodeType===1&&(ze=Q(z).offset(),ze.top+=Q.css(z,"borderTopWidth",!0),ze.left+=Q.css(z,"borderLeftWidth",!0))}return{top:Z.top-ze.top-Q.css(xe,"marginTop",!0),left:Z.left-ze.left-Q.css(xe,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var z=this.offsetParent;z&&Q.css(z,"position")==="static";)z=z.offsetParent;return z||Ir})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(z,Z){var he=Z==="pageYOffset";Q.fn[z]=function(xe){return gi(this,function(ze,Ve,Qe){var Ct;if(X(ze)?Ct=ze:ze.nodeType===9&&(Ct=ze.defaultView),Qe===void 0)return Ct?Ct[Z]:ze[Ve];Ct?Ct.scrollTo(he?Ct.pageXOffset:Qe,he?Qe:Ct.pageYOffset):ze[Ve]=Qe},z,xe,arguments.length)}}),Q.each(["top","left"],function(z,Z){Q.cssHooks[Z]=P(ye.pixelPosition,function(he,xe){if(xe)return xe=C(he,Z),g.test(xe)?Q(he).position()[Z]+"px":xe})}),Q.each({Height:"height",Width:"width"},function(z,Z){Q.each({padding:"inner"+z,content:Z,"":"outer"+z},function(he,xe){Q.fn[xe]=function(ze,Ve){var Qe=arguments.length&&(he||typeof ze!="boolean"),Ct=he||(ze===!0||Ve===!0?"margin":"border");return gi(this,function(Mt,Ht,ci){var Pi;return X(Mt)?xe.indexOf("outer")===0?Mt["inner"+z]:Mt.document.documentElement["client"+z]:Mt.nodeType===9?(Pi=Mt.documentElement,Math.max(Mt.body["scroll"+z],Pi["scroll"+z],Mt.body["offset"+z],Pi["offset"+z],Pi["client"+z])):ci===void 0?Q.css(Mt,Ht,Ct):Q.style(Mt,Ht,ci,Ct)},Z,Qe?ze:void 0,Qe)}})}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(z,Z){Q.fn[Z]=function(he){return this.on(Z,he)}}),Q.fn.extend({bind:function(z,Z,he){return this.on(z,null,Z,he)},unbind:function(z,Z){return this.off(z,null,Z)},delegate:function(z,Z,he,xe){return this.on(Z,z,he,xe)},undelegate:function(z,Z,he){return arguments.length===1?this.off(z,"**"):this.off(Z,z||"**",he)},hover:function(z,Z){return this.mouseenter(z).mouseleave(Z||z)}}),Q.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(z,Z){Q.fn[Z]=function(he,xe){return arguments.length>0?this.on(Z,null,he,xe):this.trigger(Z)}});var ln=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Q.proxy=function(z,Z){var he,xe,ze;if(typeof Z=="string"&&(he=z[Z],Z=z,z=he),!!ne(z))return xe=x.call(arguments,2),ze=function(){return z.apply(Z||this,xe.concat(x.call(arguments)))},ze.guid=z.guid=z.guid||Q.guid++,ze},Q.holdReady=function(z){z?Q.readyWait++:Q.ready(!0)},Q.isArray=Array.isArray,Q.parseJSON=JSON.parse,Q.nodeName=Pe,Q.isFunction=ne,Q.isWindow=X,Q.camelCase=wi,Q.type=it,Q.now=Date.now,Q.isNumeric=function(z){var Z=Q.type(z);return(Z==="number"||Z==="string")&&!isNaN(z-parseFloat(z))},Q.trim=function(z){return z==null?"":(z+"").replace(ln,"")};var Ma=r.jQuery,Oo=r.$;return Q.noConflict=function(z){return r.$===Q&&(r.$=Oo),z&&r.jQuery===Q&&(r.jQuery=Ma),Q},typeof h>"u"&&(r.jQuery=r.$=Q),Q})}(H9)),a1}/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var pf=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",W9=function(){for(var e=["Edge","Trident","Firefox"],r=0;r<e.length;r+=1)if(pf&&navigator.userAgent.indexOf(e[r])>=0)return 1;return 0}();function Y9(e){var r=!1;return function(){r||(r=!0,window.Promise.resolve().then(function(){r=!1,e()}))}}function $9(e){var r=!1;return function(){r||(r=!0,setTimeout(function(){r=!1,e()},W9))}}var X9=pf&&window.Promise,Z9=X9?Y9:$9;function H5(e){var r={};return e&&r.toString.call(e)==="[object Function]"}function Lu(e,r){if(e.nodeType!==1)return[];var h=e.ownerDocument.defaultView,p=h.getComputedStyle(e,null);return r?p[r]:p}function V2(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function mf(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var r=Lu(e),h=r.overflow,p=r.overflowX,m=r.overflowY;return/(auto|scroll|overlay)/.test(h+m+p)?e:mf(V2(e))}function W5(e){return e&&e.referenceNode?e.referenceNode:e}var Ub=pf&&!!(window.MSInputMethodContext&&document.documentMode),Gb=pf&&/MSIE 10/.test(navigator.userAgent);function Gd(e){return e===11?Ub:e===10?Gb:Ub||Gb}function Rd(e){if(!e)return document.documentElement;for(var r=Gd(10)?document.body:null,h=e.offsetParent||null;h===r&&e.nextElementSibling;)h=(e=e.nextElementSibling).offsetParent;var p=h&&h.nodeName;return!p||p==="BODY"||p==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(h.nodeName)!==-1&&Lu(h,"position")==="static"?Rd(h):h}function q9(e){var r=e.nodeName;return r==="BODY"?!1:r==="HTML"||Rd(e.firstElementChild)===e}function Yv(e){return e.parentNode!==null?Yv(e.parentNode):e}function s1(e,r){if(!e||!e.nodeType||!r||!r.nodeType)return document.documentElement;var h=e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING,p=h?e:r,m=h?r:e,x=document.createRange();x.setStart(p,0),x.setEnd(m,0);var w=x.commonAncestorContainer;if(e!==w&&r!==w||p.contains(m))return q9(w)?w:Rd(w);var l=Yv(e);return l.host?s1(l.host,r):s1(e,Yv(r).host)}function zd(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",h=r==="top"?"scrollTop":"scrollLeft",p=e.nodeName;if(p==="BODY"||p==="HTML"){var m=e.ownerDocument.documentElement,x=e.ownerDocument.scrollingElement||m;return x[h]}return e[h]}function K9(e,r){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=zd(r,"top"),m=zd(r,"left"),x=h?-1:1;return e.top+=p*x,e.bottom+=p*x,e.left+=m*x,e.right+=m*x,e}function Hb(e,r){var h=r==="x"?"Left":"Top",p=h==="Left"?"Right":"Bottom";return parseFloat(e["border"+h+"Width"])+parseFloat(e["border"+p+"Width"])}function Wb(e,r,h,p){return Math.max(r["offset"+e],r["scroll"+e],h["client"+e],h["offset"+e],h["scroll"+e],Gd(10)?parseInt(h["offset"+e])+parseInt(p["margin"+(e==="Height"?"Top":"Left")])+parseInt(p["margin"+(e==="Height"?"Bottom":"Right")]):0)}function Y5(e){var r=e.body,h=e.documentElement,p=Gd(10)&&getComputedStyle(h);return{height:Wb("Height",r,h,p),width:Wb("Width",r,h,p)}}var J9=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},Q9=function(){function e(r,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(r,m.key,m)}}return function(r,h,p){return h&&e(r.prototype,h),p&&e(r,p),r}}(),Nd=function(e,r,h){return r in e?Object.defineProperty(e,r,{value:h,enumerable:!0,configurable:!0,writable:!0}):e[r]=h,e},Vl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var h=arguments[r];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(e[p]=h[p])}return e};function Qh(e){return Vl({},e,{right:e.left+e.width,bottom:e.top+e.height})}function $v(e){var r={};try{if(Gd(10)){r=e.getBoundingClientRect();var h=zd(e,"top"),p=zd(e,"left");r.top+=h,r.left+=p,r.bottom+=h,r.right+=p}else r=e.getBoundingClientRect()}catch{}var m={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},x=e.nodeName==="HTML"?Y5(e.ownerDocument):{},w=x.width||e.clientWidth||m.width,l=x.height||e.clientHeight||m.height,L=e.offsetWidth-w,H=e.offsetHeight-l;if(L||H){var q=Lu(e);L-=Hb(q,"x"),H-=Hb(q,"y"),m.width-=L,m.height-=H}return Qh(m)}function U2(e,r){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=Gd(10),m=r.nodeName==="HTML",x=$v(e),w=$v(r),l=mf(e),L=Lu(r),H=parseFloat(L.borderTopWidth),q=parseFloat(L.borderLeftWidth);h&&m&&(w.top=Math.max(w.top,0),w.left=Math.max(w.left,0));var J=Qh({top:x.top-w.top-H,left:x.left-w.left-q,width:x.width,height:x.height});if(J.marginTop=0,J.marginLeft=0,!p&&m){var oe=parseFloat(L.marginTop),de=parseFloat(L.marginLeft);J.top-=H-oe,J.bottom-=H-oe,J.left-=q-de,J.right-=q-de,J.marginTop=oe,J.marginLeft=de}return(p&&!h?r.contains(l):r===l&&l.nodeName!=="BODY")&&(J=K9(J,r)),J}function eA(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=e.ownerDocument.documentElement,p=U2(e,h),m=Math.max(h.clientWidth,window.innerWidth||0),x=Math.max(h.clientHeight,window.innerHeight||0),w=r?0:zd(h),l=r?0:zd(h,"left"),L={top:w-p.top+p.marginTop,left:l-p.left+p.marginLeft,width:m,height:x};return Qh(L)}function $5(e){var r=e.nodeName;if(r==="BODY"||r==="HTML")return!1;if(Lu(e,"position")==="fixed")return!0;var h=V2(e);return h?$5(h):!1}function X5(e){if(!e||!e.parentElement||Gd())return document.documentElement;for(var r=e.parentElement;r&&Lu(r,"transform")==="none";)r=r.parentElement;return r||document.documentElement}function G2(e,r,h,p){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,x={top:0,left:0},w=m?X5(e):s1(e,W5(r));if(p==="viewport")x=eA(w,m);else{var l=void 0;p==="scrollParent"?(l=mf(V2(r)),l.nodeName==="BODY"&&(l=e.ownerDocument.documentElement)):p==="window"?l=e.ownerDocument.documentElement:l=p;var L=U2(l,w,m);if(l.nodeName==="HTML"&&!$5(w)){var H=Y5(e.ownerDocument),q=H.height,J=H.width;x.top+=L.top-L.marginTop,x.bottom=q+L.top,x.left+=L.left-L.marginLeft,x.right=J+L.left}else x=L}h=h||0;var oe=typeof h=="number";return x.left+=oe?h:h.left||0,x.top+=oe?h:h.top||0,x.right-=oe?h:h.right||0,x.bottom-=oe?h:h.bottom||0,x}function tA(e){var r=e.width,h=e.height;return r*h}function Z5(e,r,h,p,m){var x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var w=G2(h,p,x,m),l={top:{width:w.width,height:r.top-w.top},right:{width:w.right-r.right,height:w.height},bottom:{width:w.width,height:w.bottom-r.bottom},left:{width:r.left-w.left,height:w.height}},L=Object.keys(l).map(function(oe){return Vl({key:oe},l[oe],{area:tA(l[oe])})}).sort(function(oe,de){return de.area-oe.area}),H=L.filter(function(oe){var de=oe.width,ye=oe.height;return de>=h.clientWidth&&ye>=h.clientHeight}),q=H.length>0?H[0].key:L[0].key,J=e.split("-")[1];return q+(J?"-"+J:"")}function q5(e,r,h){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,m=p?X5(r):s1(r,W5(h));return U2(h,m,p)}function K5(e){var r=e.ownerDocument.defaultView,h=r.getComputedStyle(e),p=parseFloat(h.marginTop||0)+parseFloat(h.marginBottom||0),m=parseFloat(h.marginLeft||0)+parseFloat(h.marginRight||0),x={width:e.offsetWidth+m,height:e.offsetHeight+p};return x}function o1(e){var r={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(h){return r[h]})}function J5(e,r,h){h=h.split("-")[0];var p=K5(e),m={width:p.width,height:p.height},x=["right","left"].indexOf(h)!==-1,w=x?"top":"left",l=x?"left":"top",L=x?"height":"width",H=x?"width":"height";return m[w]=r[w]+r[L]/2-p[L]/2,h===l?m[l]=r[l]-p[H]:m[l]=r[o1(l)],m}function gf(e,r){return Array.prototype.find?e.find(r):e.filter(r)[0]}function iA(e,r,h){if(Array.prototype.findIndex)return e.findIndex(function(m){return m[r]===h});var p=gf(e,function(m){return m[r]===h});return e.indexOf(p)}function Q5(e,r,h){var p=h===void 0?e:e.slice(0,iA(e,"name",h));return p.forEach(function(m){m.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var x=m.function||m.fn;m.enabled&&H5(x)&&(r.offsets.popper=Qh(r.offsets.popper),r.offsets.reference=Qh(r.offsets.reference),r=x(r,m))}),r}function rA(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=q5(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Z5(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=J5(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Q5(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function e6(e,r){return e.some(function(h){var p=h.name,m=h.enabled;return m&&p===r})}function H2(e){for(var r=[!1,"ms","Webkit","Moz","O"],h=e.charAt(0).toUpperCase()+e.slice(1),p=0;p<r.length;p++){var m=r[p],x=m?""+m+h:e;if(typeof document.body.style[x]<"u")return x}return null}function nA(){return this.state.isDestroyed=!0,e6(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H2("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function t6(e){var r=e.ownerDocument;return r?r.defaultView:window}function i6(e,r,h,p){var m=e.nodeName==="BODY",x=m?e.ownerDocument.defaultView:e;x.addEventListener(r,h,{passive:!0}),m||i6(mf(x.parentNode),r,h,p),p.push(x)}function aA(e,r,h,p){h.updateBound=p,t6(e).addEventListener("resize",h.updateBound,{passive:!0});var m=mf(e);return i6(m,"scroll",h.updateBound,h.scrollParents),h.scrollElement=m,h.eventsEnabled=!0,h}function sA(){this.state.eventsEnabled||(this.state=aA(this.reference,this.options,this.state,this.scheduleUpdate))}function oA(e,r){return t6(e).removeEventListener("resize",r.updateBound),r.scrollParents.forEach(function(h){h.removeEventListener("scroll",r.updateBound)}),r.updateBound=null,r.scrollParents=[],r.scrollElement=null,r.eventsEnabled=!1,r}function lA(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=oA(this.reference,this.state))}function W2(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Xv(e,r){Object.keys(r).forEach(function(h){var p="";["width","height","top","right","bottom","left"].indexOf(h)!==-1&&W2(r[h])&&(p="px"),e.style[h]=r[h]+p})}function cA(e,r){Object.keys(r).forEach(function(h){var p=r[h];p!==!1?e.setAttribute(h,r[h]):e.removeAttribute(h)})}function hA(e){return Xv(e.instance.popper,e.styles),cA(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Xv(e.arrowElement,e.arrowStyles),e}function uA(e,r,h,p,m){var x=q5(m,r,e,h.positionFixed),w=Z5(h.placement,x,r,e,h.modifiers.flip.boundariesElement,h.modifiers.flip.padding);return r.setAttribute("x-placement",w),Xv(r,{position:h.positionFixed?"fixed":"absolute"}),h}function dA(e,r){var h=e.offsets,p=h.popper,m=h.reference,x=Math.round,w=Math.floor,l=function(pe){return pe},L=x(m.width),H=x(p.width),q=["left","right"].indexOf(e.placement)!==-1,J=e.placement.indexOf("-")!==-1,oe=L%2===H%2,de=L%2===1&&H%2===1,ye=r?q||J||oe?x:w:l,ne=r?x:l;return{left:ye(de&&!J&&r?p.left-1:p.left),top:ne(p.top),bottom:ne(p.bottom),right:ye(p.right)}}var fA=pf&&/Firefox/i.test(navigator.userAgent);function pA(e,r){var h=r.x,p=r.y,m=e.offsets.popper,x=gf(e.instance.modifiers,function(me){return me.name==="applyStyle"}).gpuAcceleration;x!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var w=x!==void 0?x:r.gpuAcceleration,l=Rd(e.instance.popper),L=$v(l),H={position:m.position},q=dA(e,window.devicePixelRatio<2||!fA),J=h==="bottom"?"top":"bottom",oe=p==="right"?"left":"right",de=H2("transform"),ye=void 0,ne=void 0;if(J==="bottom"?l.nodeName==="HTML"?ne=-l.clientHeight+q.bottom:ne=-L.height+q.bottom:ne=q.top,oe==="right"?l.nodeName==="HTML"?ye=-l.clientWidth+q.right:ye=-L.width+q.right:ye=q.left,w&&de)H[de]="translate3d("+ye+"px, "+ne+"px, 0)",H[J]=0,H[oe]=0,H.willChange="transform";else{var X=J==="bottom"?-1:1,pe=oe==="right"?-1:1;H[J]=ne*X,H[oe]=ye*pe,H.willChange=J+", "+oe}var ve={"x-placement":e.placement};return e.attributes=Vl({},ve,e.attributes),e.styles=Vl({},H,e.styles),e.arrowStyles=Vl({},e.offsets.arrow,e.arrowStyles),e}function r6(e,r,h){var p=gf(e,function(l){var L=l.name;return L===r}),m=!!p&&e.some(function(l){return l.name===h&&l.enabled&&l.order<p.order});if(!m){var x="`"+r+"`",w="`"+h+"`";console.warn(w+" modifier is required by "+x+" modifier in order to work, be sure to include it before "+x+"!")}return m}function mA(e,r){var h;if(!r6(e.instance.modifiers,"arrow","keepTogether"))return e;var p=r.element;if(typeof p=="string"){if(p=e.instance.popper.querySelector(p),!p)return e}else if(!e.instance.popper.contains(p))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var m=e.placement.split("-")[0],x=e.offsets,w=x.popper,l=x.reference,L=["left","right"].indexOf(m)!==-1,H=L?"height":"width",q=L?"Top":"Left",J=q.toLowerCase(),oe=L?"left":"top",de=L?"bottom":"right",ye=K5(p)[H];l[de]-ye<w[J]&&(e.offsets.popper[J]-=w[J]-(l[de]-ye)),l[J]+ye>w[de]&&(e.offsets.popper[J]+=l[J]+ye-w[de]),e.offsets.popper=Qh(e.offsets.popper);var ne=l[J]+l[H]/2-ye/2,X=Lu(e.instance.popper),pe=parseFloat(X["margin"+q]),ve=parseFloat(X["border"+q+"Width"]),me=ne-e.offsets.popper[J]-pe-ve;return me=Math.max(Math.min(w[H]-ye,me),0),e.arrowElement=p,e.offsets.arrow=(h={},Nd(h,J,Math.round(me)),Nd(h,oe,""),h),e}function gA(e){return e==="end"?"start":e==="start"?"end":e}var n6=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],xg=n6.slice(3);function Yb(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=xg.indexOf(e),p=xg.slice(h+1).concat(xg.slice(0,h));return r?p.reverse():p}var _g={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function vA(e,r){if(e6(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var h=G2(e.instance.popper,e.instance.reference,r.padding,r.boundariesElement,e.positionFixed),p=e.placement.split("-")[0],m=o1(p),x=e.placement.split("-")[1]||"",w=[];switch(r.behavior){case _g.FLIP:w=[p,m];break;case _g.CLOCKWISE:w=Yb(p);break;case _g.COUNTERCLOCKWISE:w=Yb(p,!0);break;default:w=r.behavior}return w.forEach(function(l,L){if(p!==l||w.length===L+1)return e;p=e.placement.split("-")[0],m=o1(p);var H=e.offsets.popper,q=e.offsets.reference,J=Math.floor,oe=p==="left"&&J(H.right)>J(q.left)||p==="right"&&J(H.left)<J(q.right)||p==="top"&&J(H.bottom)>J(q.top)||p==="bottom"&&J(H.top)<J(q.bottom),de=J(H.left)<J(h.left),ye=J(H.right)>J(h.right),ne=J(H.top)<J(h.top),X=J(H.bottom)>J(h.bottom),pe=p==="left"&&de||p==="right"&&ye||p==="top"&&ne||p==="bottom"&&X,ve=["top","bottom"].indexOf(p)!==-1,me=!!r.flipVariations&&(ve&&x==="start"&&de||ve&&x==="end"&&ye||!ve&&x==="start"&&ne||!ve&&x==="end"&&X),it=!!r.flipVariationsByContent&&(ve&&x==="start"&&ye||ve&&x==="end"&&de||!ve&&x==="start"&&X||!ve&&x==="end"&&ne),Ye=me||it;(oe||pe||Ye)&&(e.flipped=!0,(oe||pe)&&(p=w[L+1]),Ye&&(x=gA(x)),e.placement=p+(x?"-"+x:""),e.offsets.popper=Vl({},e.offsets.popper,J5(e.instance.popper,e.offsets.reference,e.placement)),e=Q5(e.instance.modifiers,e,"flip"))}),e}function yA(e){var r=e.offsets,h=r.popper,p=r.reference,m=e.placement.split("-")[0],x=Math.floor,w=["top","bottom"].indexOf(m)!==-1,l=w?"right":"bottom",L=w?"left":"top",H=w?"width":"height";return h[l]<x(p[L])&&(e.offsets.popper[L]=x(p[L])-h[H]),h[L]>x(p[l])&&(e.offsets.popper[L]=x(p[l])),e}function xA(e,r,h,p){var m=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),x=+m[1],w=m[2];if(!x)return e;if(w.indexOf("%")===0){var l=void 0;switch(w){case"%p":l=h;break;case"%":case"%r":default:l=p}var L=Qh(l);return L[r]/100*x}else if(w==="vh"||w==="vw"){var H=void 0;return w==="vh"?H=Math.max(document.documentElement.clientHeight,window.innerHeight||0):H=Math.max(document.documentElement.clientWidth,window.innerWidth||0),H/100*x}else return x}function _A(e,r,h,p){var m=[0,0],x=["right","left"].indexOf(p)!==-1,w=e.split(/(\+|\-)/).map(function(q){return q.trim()}),l=w.indexOf(gf(w,function(q){return q.search(/,|\s/)!==-1}));w[l]&&w[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var L=/\s*,\s*|\s+/,H=l!==-1?[w.slice(0,l).concat([w[l].split(L)[0]]),[w[l].split(L)[1]].concat(w.slice(l+1))]:[w];return H=H.map(function(q,J){var oe=(J===1?!x:x)?"height":"width",de=!1;return q.reduce(function(ye,ne){return ye[ye.length-1]===""&&["+","-"].indexOf(ne)!==-1?(ye[ye.length-1]=ne,de=!0,ye):de?(ye[ye.length-1]+=ne,de=!1,ye):ye.concat(ne)},[]).map(function(ye){return xA(ye,oe,r,h)})}),H.forEach(function(q,J){q.forEach(function(oe,de){W2(oe)&&(m[J]+=oe*(q[de-1]==="-"?-1:1))})}),m}function bA(e,r){var h=r.offset,p=e.placement,m=e.offsets,x=m.popper,w=m.reference,l=p.split("-")[0],L=void 0;return W2(+h)?L=[+h,0]:L=_A(h,x,w,l),l==="left"?(x.top+=L[0],x.left-=L[1]):l==="right"?(x.top+=L[0],x.left+=L[1]):l==="top"?(x.left+=L[0],x.top-=L[1]):l==="bottom"&&(x.left+=L[0],x.top+=L[1]),e.popper=x,e}function wA(e,r){var h=r.boundariesElement||Rd(e.instance.popper);e.instance.reference===h&&(h=Rd(h));var p=H2("transform"),m=e.instance.popper.style,x=m.top,w=m.left,l=m[p];m.top="",m.left="",m[p]="";var L=G2(e.instance.popper,e.instance.reference,r.padding,h,e.positionFixed);m.top=x,m.left=w,m[p]=l,r.boundaries=L;var H=r.priority,q=e.offsets.popper,J={primary:function(de){var ye=q[de];return q[de]<L[de]&&!r.escapeWithReference&&(ye=Math.max(q[de],L[de])),Nd({},de,ye)},secondary:function(de){var ye=de==="right"?"left":"top",ne=q[ye];return q[de]>L[de]&&!r.escapeWithReference&&(ne=Math.min(q[ye],L[de]-(de==="right"?q.width:q.height))),Nd({},ye,ne)}};return H.forEach(function(oe){var de=["left","top"].indexOf(oe)!==-1?"primary":"secondary";q=Vl({},q,J[de](oe))}),e.offsets.popper=q,e}function EA(e){var r=e.placement,h=r.split("-")[0],p=r.split("-")[1];if(p){var m=e.offsets,x=m.reference,w=m.popper,l=["bottom","top"].indexOf(h)!==-1,L=l?"left":"top",H=l?"width":"height",q={start:Nd({},L,x[L]),end:Nd({},L,x[L]+x[H]-w[H])};e.offsets.popper=Vl({},w,q[p])}return e}function TA(e){if(!r6(e.instance.modifiers,"hide","preventOverflow"))return e;var r=e.offsets.reference,h=gf(e.instance.modifiers,function(p){return p.name==="preventOverflow"}).boundaries;if(r.bottom<h.top||r.left>h.right||r.top>h.bottom||r.right<h.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function SA(e){var r=e.placement,h=r.split("-")[0],p=e.offsets,m=p.popper,x=p.reference,w=["left","right"].indexOf(h)!==-1,l=["top","left"].indexOf(h)===-1;return m[w?"left":"top"]=x[h]-(l?m[w?"width":"height"]:0),e.placement=o1(r),e.offsets.popper=Qh(m),e}var AA={shift:{order:100,enabled:!0,fn:EA},offset:{order:200,enabled:!0,fn:bA,offset:0},preventOverflow:{order:300,enabled:!0,fn:wA,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:yA},arrow:{order:500,enabled:!0,fn:mA,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:vA,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:SA},hide:{order:800,enabled:!0,fn:TA},computeStyle:{order:850,enabled:!0,fn:pA,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:hA,onLoad:uA,gpuAcceleration:void 0}},MA={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:AA},P1=function(){function e(r,h){var p=this,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};J9(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(p.update)},this.update=Z9(this.update.bind(this)),this.options=Vl({},e.Defaults,m),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=r&&r.jquery?r[0]:r,this.popper=h&&h.jquery?h[0]:h,this.options.modifiers={},Object.keys(Vl({},e.Defaults.modifiers,m.modifiers)).forEach(function(w){p.options.modifiers[w]=Vl({},e.Defaults.modifiers[w]||{},m.modifiers?m.modifiers[w]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(w){return Vl({name:w},p.options.modifiers[w])}).sort(function(w,l){return w.order-l.order}),this.modifiers.forEach(function(w){w.enabled&&H5(w.onLoad)&&w.onLoad(p.reference,p.popper,p.options,w,p.state)}),this.update();var x=this.options.eventsEnabled;x&&this.enableEventListeners(),this.state.eventsEnabled=x}return Q9(e,[{key:"update",value:function(){return rA.call(this)}},{key:"destroy",value:function(){return nA.call(this)}},{key:"enableEventListeners",value:function(){return sA.call(this)}},{key:"disableEventListeners",value:function(){return lA.call(this)}}]),e}();P1.Utils=(typeof window<"u"?window:global).PopperUtils;P1.placements=n6;P1.Defaults=MA;const CA=Object.freeze(Object.defineProperty({__proto__:null,default:P1},Symbol.toStringTag,{value:"Module"})),IA=G5(CA);/*!
  * Bootstrap v4.6.0 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,r){(function(h,p){p(r,Jh(),IA)})(fn,function(h,p,m){function x(ti){return ti&&typeof ti=="object"&&"default"in ti?ti:{default:ti}}var w=x(p),l=x(m);function L(ti,Rt){for(var _t=0;_t<Rt.length;_t++){var Ee=Rt[_t];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ti,Ee.key,Ee)}}function H(ti,Rt,_t){return Rt&&L(ti.prototype,Rt),_t&&L(ti,_t),ti}function q(){return q=Object.assign||function(ti){for(var Rt=1;Rt<arguments.length;Rt++){var _t=arguments[Rt];for(var Ee in _t)Object.prototype.hasOwnProperty.call(_t,Ee)&&(ti[Ee]=_t[Ee])}return ti},q.apply(this,arguments)}function J(ti,Rt){ti.prototype=Object.create(Rt.prototype),ti.prototype.constructor=ti,ti.__proto__=Rt}var oe="transitionend",de=1e6,ye=1e3;function ne(ti){return ti===null||typeof ti>"u"?""+ti:{}.toString.call(ti).match(/\s([a-z]+)/i)[1].toLowerCase()}function X(){return{bindType:oe,delegateType:oe,handle:function(Rt){if(w.default(Rt.target).is(this))return Rt.handleObj.handler.apply(this,arguments)}}}function pe(ti){var Rt=this,_t=!1;return w.default(this).one(me.TRANSITION_END,function(){_t=!0}),setTimeout(function(){_t||me.triggerTransitionEnd(Rt)},ti),this}function ve(){w.default.fn.emulateTransitionEnd=pe,w.default.event.special[me.TRANSITION_END]=X()}var me={TRANSITION_END:"bsTransitionEnd",getUID:function(Rt){do Rt+=~~(Math.random()*de);while(document.getElementById(Rt));return Rt},getSelectorFromElement:function(Rt){var _t=Rt.getAttribute("data-target");if(!_t||_t==="#"){var Ee=Rt.getAttribute("href");_t=Ee&&Ee!=="#"?Ee.trim():""}try{return document.querySelector(_t)?_t:null}catch{return null}},getTransitionDurationFromElement:function(Rt){if(!Rt)return 0;var _t=w.default(Rt).css("transition-duration"),Ee=w.default(Rt).css("transition-delay"),et=parseFloat(_t),vt=parseFloat(Ee);return!et&&!vt?0:(_t=_t.split(",")[0],Ee=Ee.split(",")[0],(parseFloat(_t)+parseFloat(Ee))*ye)},reflow:function(Rt){return Rt.offsetHeight},triggerTransitionEnd:function(Rt){w.default(Rt).trigger(oe)},supportsTransitionEnd:function(){return Boolean(oe)},isElement:function(Rt){return(Rt[0]||Rt).nodeType},typeCheckConfig:function(Rt,_t,Ee){for(var et in Ee)if(Object.prototype.hasOwnProperty.call(Ee,et)){var vt=Ee[et],oi=_t[et],Nt=oi&&me.isElement(oi)?"element":ne(oi);if(!new RegExp(vt).test(Nt))throw new Error(Rt.toUpperCase()+": "+('Option "'+et+'" provided type "'+Nt+'" ')+('but expected type "'+vt+'".'))}},findShadowRoot:function(Rt){if(!document.documentElement.attachShadow)return null;if(typeof Rt.getRootNode=="function"){var _t=Rt.getRootNode();return _t instanceof ShadowRoot?_t:null}return Rt instanceof ShadowRoot?Rt:Rt.parentNode?me.findShadowRoot(Rt.parentNode):null},jQueryDetection:function(){if(typeof w.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var Rt=w.default.fn.jquery.split(" ")[0].split("."),_t=1,Ee=2,et=9,vt=1,oi=4;if(Rt[0]<Ee&&Rt[1]<et||Rt[0]===_t&&Rt[1]===et&&Rt[2]<vt||Rt[0]>=oi)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};me.jQueryDetection(),ve();var it="alert",Ye="4.6.0",Q="bs.alert",Dt="."+Q,St=".data-api",At=w.default.fn[it],ui='[data-dismiss="alert"]',Ue="close"+Dt,Pe="closed"+Dt,De="click"+Dt+St,te="alert",fe="fade",le="show",Se=function(){function ti(_t){this._element=_t}var Rt=ti.prototype;return Rt.close=function(Ee){var et=this._element;Ee&&(et=this._getRootElement(Ee));var vt=this._triggerCloseEvent(et);vt.isDefaultPrevented()||this._removeElement(et)},Rt.dispose=function(){w.default.removeData(this._element,Q),this._element=null},Rt._getRootElement=function(Ee){var et=me.getSelectorFromElement(Ee),vt=!1;return et&&(vt=document.querySelector(et)),vt||(vt=w.default(Ee).closest("."+te)[0]),vt},Rt._triggerCloseEvent=function(Ee){var et=w.default.Event(Ue);return w.default(Ee).trigger(et),et},Rt._removeElement=function(Ee){var et=this;if(w.default(Ee).removeClass(le),!w.default(Ee).hasClass(fe)){this._destroyElement(Ee);return}var vt=me.getTransitionDurationFromElement(Ee);w.default(Ee).one(me.TRANSITION_END,function(oi){return et._destroyElement(Ee,oi)}).emulateTransitionEnd(vt)},Rt._destroyElement=function(Ee){w.default(Ee).detach().trigger(Pe).remove()},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this),vt=et.data(Q);vt||(vt=new ti(this),et.data(Q,vt)),Ee==="close"&&vt[Ee](this)})},ti._handleDismiss=function(Ee){return function(et){et&&et.preventDefault(),Ee.close(this)}},H(ti,null,[{key:"VERSION",get:function(){return Ye}}]),ti}();w.default(document).on(De,ui,Se._handleDismiss(new Se)),w.default.fn[it]=Se._jQueryInterface,w.default.fn[it].Constructor=Se,w.default.fn[it].noConflict=function(){return w.default.fn[it]=At,Se._jQueryInterface};var Re="button",ot="4.6.0",ht="bs.button",Pt="."+ht,Ne=".data-api",Ze=w.default.fn[Re],Ie="active",We="btn",rt="focus",Ot='[data-toggle^="button"]',hi='[data-toggle="buttons"]',gi='[data-toggle="button"]',Li='[data-toggle="buttons"] .btn',ur='input:not([type="hidden"])',Vt=".active",wi=".btn",Mi="click"+Pt+Ne,Ji="focus"+Pt+Ne+" "+("blur"+Pt+Ne),Ei="load"+Pt+Ne,Xi=function(){function ti(_t){this._element=_t,this.shouldAvoidTriggerChange=!1}var Rt=ti.prototype;return Rt.toggle=function(){var Ee=!0,et=!0,vt=w.default(this._element).closest(hi)[0];if(vt){var oi=this._element.querySelector(ur);if(oi){if(oi.type==="radio")if(oi.checked&&this._element.classList.contains(Ie))Ee=!1;else{var Nt=vt.querySelector(Vt);Nt&&w.default(Nt).removeClass(Ie)}Ee&&((oi.type==="checkbox"||oi.type==="radio")&&(oi.checked=!this._element.classList.contains(Ie)),this.shouldAvoidTriggerChange||w.default(oi).trigger("change")),oi.focus(),et=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(et&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(Ie)),Ee&&w.default(this._element).toggleClass(Ie))},Rt.dispose=function(){w.default.removeData(this._element,ht),this._element=null},ti._jQueryInterface=function(Ee,et){return this.each(function(){var vt=w.default(this),oi=vt.data(ht);oi||(oi=new ti(this),vt.data(ht,oi)),oi.shouldAvoidTriggerChange=et,Ee==="toggle"&&oi[Ee]()})},H(ti,null,[{key:"VERSION",get:function(){return ot}}]),ti}();w.default(document).on(Mi,Ot,function(ti){var Rt=ti.target,_t=Rt;if(w.default(Rt).hasClass(We)||(Rt=w.default(Rt).closest(wi)[0]),!Rt||Rt.hasAttribute("disabled")||Rt.classList.contains("disabled"))ti.preventDefault();else{var Ee=Rt.querySelector(ur);if(Ee&&(Ee.hasAttribute("disabled")||Ee.classList.contains("disabled"))){ti.preventDefault();return}(_t.tagName==="INPUT"||Rt.tagName!=="LABEL")&&Xi._jQueryInterface.call(w.default(Rt),"toggle",_t.tagName==="INPUT")}}).on(Ji,Ot,function(ti){var Rt=w.default(ti.target).closest(wi)[0];w.default(Rt).toggleClass(rt,/^focus(in)?$/.test(ti.type))}),w.default(window).on(Ei,function(){for(var ti=[].slice.call(document.querySelectorAll(Li)),Rt=0,_t=ti.length;Rt<_t;Rt++){var Ee=ti[Rt],et=Ee.querySelector(ur);et.checked||et.hasAttribute("checked")?Ee.classList.add(Ie):Ee.classList.remove(Ie)}ti=[].slice.call(document.querySelectorAll(gi));for(var vt=0,oi=ti.length;vt<oi;vt++){var Nt=ti[vt];Nt.getAttribute("aria-pressed")==="true"?Nt.classList.add(Ie):Nt.classList.remove(Ie)}}),w.default.fn[Re]=Xi._jQueryInterface,w.default.fn[Re].Constructor=Xi,w.default.fn[Re].noConflict=function(){return w.default.fn[Re]=Ze,Xi._jQueryInterface};var Fi="carousel",Lr="4.6.0",Vr="bs.carousel",si="."+Vr,tr=".data-api",yr=w.default.fn[Fi],ar=37,Ir=39,Ar=500,En=40,kn={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},oa={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Ge="next",ma="prev",ra="left",mn="right",na="slide"+si,Ua="slid"+si,jn="keydown"+si,gn="mouseenter"+si,qr="mouseleave"+si,Pa="touchstart"+si,Oa="touchmove"+si,Ur="touchend"+si,Vn="pointerdown"+si,cs="pointerup"+si,ga="dragstart"+si,Xn="load"+si+tr,Ga="click"+si+tr,tn="carousel",Br="active",Zn="slide",ut="carousel-item-right",Ce="carousel-item-left",je="carousel-item-next",ct="carousel-item-prev",mt="pointer-event",It=".active",Bt=".active.carousel-item",_e=".carousel-item",n=".carousel-item img",o=".carousel-item-next, .carousel-item-prev",g=".carousel-indicators",b="[data-slide], [data-slide-to]",E='[data-ride="carousel"]',k={TOUCH:"touch",PEN:"pen"},C=function(){function ti(_t,Ee){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(Ee),this._element=_t,this._indicatorsElement=this._element.querySelector(g),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var Rt=ti.prototype;return Rt.next=function(){this._isSliding||this._slide(Ge)},Rt.nextWhenVisible=function(){var Ee=w.default(this._element);!document.hidden&&Ee.is(":visible")&&Ee.css("visibility")!=="hidden"&&this.next()},Rt.prev=function(){this._isSliding||this._slide(ma)},Rt.pause=function(Ee){Ee||(this._isPaused=!0),this._element.querySelector(o)&&(me.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},Rt.cycle=function(Ee){Ee||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},Rt.to=function(Ee){var et=this;this._activeElement=this._element.querySelector(Bt);var vt=this._getItemIndex(this._activeElement);if(!(Ee>this._items.length-1||Ee<0)){if(this._isSliding){w.default(this._element).one(Ua,function(){return et.to(Ee)});return}if(vt===Ee){this.pause(),this.cycle();return}var oi=Ee>vt?Ge:ma;this._slide(oi,this._items[Ee])}},Rt.dispose=function(){w.default(this._element).off(si),w.default.removeData(this._element,Vr),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},Rt._getConfig=function(Ee){return Ee=q({},kn,Ee),me.typeCheckConfig(Fi,Ee,oa),Ee},Rt._handleSwipe=function(){var Ee=Math.abs(this.touchDeltaX);if(!(Ee<=En)){var et=Ee/this.touchDeltaX;this.touchDeltaX=0,et>0&&this.prev(),et<0&&this.next()}},Rt._addEventListeners=function(){var Ee=this;this._config.keyboard&&w.default(this._element).on(jn,function(et){return Ee._keydown(et)}),this._config.pause==="hover"&&w.default(this._element).on(gn,function(et){return Ee.pause(et)}).on(qr,function(et){return Ee.cycle(et)}),this._config.touch&&this._addTouchEventListeners()},Rt._addTouchEventListeners=function(){var Ee=this;if(this._touchSupported){var et=function(zi){Ee._pointerEvent&&k[zi.originalEvent.pointerType.toUpperCase()]?Ee.touchStartX=zi.originalEvent.clientX:Ee._pointerEvent||(Ee.touchStartX=zi.originalEvent.touches[0].clientX)},vt=function(zi){zi.originalEvent.touches&&zi.originalEvent.touches.length>1?Ee.touchDeltaX=0:Ee.touchDeltaX=zi.originalEvent.touches[0].clientX-Ee.touchStartX},oi=function(zi){Ee._pointerEvent&&k[zi.originalEvent.pointerType.toUpperCase()]&&(Ee.touchDeltaX=zi.originalEvent.clientX-Ee.touchStartX),Ee._handleSwipe(),Ee._config.pause==="hover"&&(Ee.pause(),Ee.touchTimeout&&clearTimeout(Ee.touchTimeout),Ee.touchTimeout=setTimeout(function(Er){return Ee.cycle(Er)},Ar+Ee._config.interval))};w.default(this._element.querySelectorAll(n)).on(ga,function(Nt){return Nt.preventDefault()}),this._pointerEvent?(w.default(this._element).on(Vn,function(Nt){return et(Nt)}),w.default(this._element).on(cs,function(Nt){return oi(Nt)}),this._element.classList.add(mt)):(w.default(this._element).on(Pa,function(Nt){return et(Nt)}),w.default(this._element).on(Oa,function(Nt){return vt(Nt)}),w.default(this._element).on(Ur,function(Nt){return oi(Nt)}))}},Rt._keydown=function(Ee){if(!/input|textarea/i.test(Ee.target.tagName))switch(Ee.which){case ar:Ee.preventDefault(),this.prev();break;case Ir:Ee.preventDefault(),this.next();break}},Rt._getItemIndex=function(Ee){return this._items=Ee&&Ee.parentNode?[].slice.call(Ee.parentNode.querySelectorAll(_e)):[],this._items.indexOf(Ee)},Rt._getItemByDirection=function(Ee,et){var vt=Ee===Ge,oi=Ee===ma,Nt=this._getItemIndex(et),zi=this._items.length-1,Er=oi&&Nt===0||vt&&Nt===zi;if(Er&&!this._config.wrap)return et;var Pr=Ee===ma?-1:1,Mr=(Nt+Pr)%this._items.length;return Mr===-1?this._items[this._items.length-1]:this._items[Mr]},Rt._triggerSlideEvent=function(Ee,et){var vt=this._getItemIndex(Ee),oi=this._getItemIndex(this._element.querySelector(Bt)),Nt=w.default.Event(na,{relatedTarget:Ee,direction:et,from:oi,to:vt});return w.default(this._element).trigger(Nt),Nt},Rt._setActiveIndicatorElement=function(Ee){if(this._indicatorsElement){var et=[].slice.call(this._indicatorsElement.querySelectorAll(It));w.default(et).removeClass(Br);var vt=this._indicatorsElement.children[this._getItemIndex(Ee)];vt&&w.default(vt).addClass(Br)}},Rt._updateInterval=function(){var Ee=this._activeElement||this._element.querySelector(Bt);if(Ee){var et=parseInt(Ee.getAttribute("data-interval"),10);et?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=et):this._config.interval=this._config.defaultInterval||this._config.interval}},Rt._slide=function(Ee,et){var vt=this,oi=this._element.querySelector(Bt),Nt=this._getItemIndex(oi),zi=et||oi&&this._getItemByDirection(Ee,oi),Er=this._getItemIndex(zi),Pr=Boolean(this._interval),Mr,xn,ps;if(Ee===Ge?(Mr=Ce,xn=je,ps=ra):(Mr=ut,xn=ct,ps=mn),zi&&w.default(zi).hasClass(Br)){this._isSliding=!1;return}var ns=this._triggerSlideEvent(zi,ps);if(!ns.isDefaultPrevented()&&!(!oi||!zi)){this._isSliding=!0,Pr&&this.pause(),this._setActiveIndicatorElement(zi),this._activeElement=zi;var So=w.default.Event(Ua,{relatedTarget:zi,direction:ps,from:Nt,to:Er});if(w.default(this._element).hasClass(Zn)){w.default(zi).addClass(xn),me.reflow(zi),w.default(oi).addClass(Mr),w.default(zi).addClass(Mr);var ic=me.getTransitionDurationFromElement(oi);w.default(oi).one(me.TRANSITION_END,function(){w.default(zi).removeClass(Mr+" "+xn).addClass(Br),w.default(oi).removeClass(Br+" "+xn+" "+Mr),vt._isSliding=!1,setTimeout(function(){return w.default(vt._element).trigger(So)},0)}).emulateTransitionEnd(ic)}else w.default(oi).removeClass(Br),w.default(zi).addClass(Br),this._isSliding=!1,w.default(this._element).trigger(So);Pr&&this.cycle()}},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this).data(Vr),vt=q({},kn,w.default(this).data());typeof Ee=="object"&&(vt=q({},vt,Ee));var oi=typeof Ee=="string"?Ee:vt.slide;if(et||(et=new ti(this,vt),w.default(this).data(Vr,et)),typeof Ee=="number")et.to(Ee);else if(typeof oi=="string"){if(typeof et[oi]>"u")throw new TypeError('No method named "'+oi+'"');et[oi]()}else vt.interval&&vt.ride&&(et.pause(),et.cycle())})},ti._dataApiClickHandler=function(Ee){var et=me.getSelectorFromElement(this);if(et){var vt=w.default(et)[0];if(!(!vt||!w.default(vt).hasClass(tn))){var oi=q({},w.default(vt).data(),w.default(this).data()),Nt=this.getAttribute("data-slide-to");Nt&&(oi.interval=!1),ti._jQueryInterface.call(w.default(vt),oi),Nt&&w.default(vt).data(Vr).to(Nt),Ee.preventDefault()}}},H(ti,null,[{key:"VERSION",get:function(){return Lr}},{key:"Default",get:function(){return kn}}]),ti}();w.default(document).on(Ga,b,C._dataApiClickHandler),w.default(window).on(Xn,function(){for(var ti=[].slice.call(document.querySelectorAll(E)),Rt=0,_t=ti.length;Rt<_t;Rt++){var Ee=w.default(ti[Rt]);C._jQueryInterface.call(Ee,Ee.data())}}),w.default.fn[Fi]=C._jQueryInterface,w.default.fn[Fi].Constructor=C,w.default.fn[Fi].noConflict=function(){return w.default.fn[Fi]=yr,C._jQueryInterface};var P="collapse",N="4.6.0",W="bs.collapse",K="."+W,ee=".data-api",ue=w.default.fn[P],we={toggle:!0,parent:""},Me={toggle:"boolean",parent:"(string|element)"},Oe="show"+K,He="shown"+K,Le="hide"+K,gt="hidden"+K,B="click"+K+ee,se="show",ke="collapse",Ke="collapsing",zt="collapsed",ai="width",Xt="height",Wt=".show, .collapsing",li='[data-toggle="collapse"]',mi=function(){function ti(_t,Ee){this._isTransitioning=!1,this._element=_t,this._config=this._getConfig(Ee),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+_t.id+'"],'+('[data-toggle="collapse"][data-target="#'+_t.id+'"]')));for(var et=[].slice.call(document.querySelectorAll(li)),vt=0,oi=et.length;vt<oi;vt++){var Nt=et[vt],zi=me.getSelectorFromElement(Nt),Er=[].slice.call(document.querySelectorAll(zi)).filter(function(Pr){return Pr===_t});zi!==null&&Er.length>0&&(this._selector=zi,this._triggerArray.push(Nt))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var Rt=ti.prototype;return Rt.toggle=function(){w.default(this._element).hasClass(se)?this.hide():this.show()},Rt.show=function(){var Ee=this;if(!(this._isTransitioning||w.default(this._element).hasClass(se))){var et,vt;if(this._parent&&(et=[].slice.call(this._parent.querySelectorAll(Wt)).filter(function(xn){return typeof Ee._config.parent=="string"?xn.getAttribute("data-parent")===Ee._config.parent:xn.classList.contains(ke)}),et.length===0&&(et=null)),!(et&&(vt=w.default(et).not(this._selector).data(W),vt&&vt._isTransitioning))){var oi=w.default.Event(Oe);if(w.default(this._element).trigger(oi),!oi.isDefaultPrevented()){et&&(ti._jQueryInterface.call(w.default(et).not(this._selector),"hide"),vt||w.default(et).data(W,null));var Nt=this._getDimension();w.default(this._element).removeClass(ke).addClass(Ke),this._element.style[Nt]=0,this._triggerArray.length&&w.default(this._triggerArray).removeClass(zt).attr("aria-expanded",!0),this.setTransitioning(!0);var zi=function(){w.default(Ee._element).removeClass(Ke).addClass(ke+" "+se),Ee._element.style[Nt]="",Ee.setTransitioning(!1),w.default(Ee._element).trigger(He)},Er=Nt[0].toUpperCase()+Nt.slice(1),Pr="scroll"+Er,Mr=me.getTransitionDurationFromElement(this._element);w.default(this._element).one(me.TRANSITION_END,zi).emulateTransitionEnd(Mr),this._element.style[Nt]=this._element[Pr]+"px"}}}},Rt.hide=function(){var Ee=this;if(!(this._isTransitioning||!w.default(this._element).hasClass(se))){var et=w.default.Event(Le);if(w.default(this._element).trigger(et),!et.isDefaultPrevented()){var vt=this._getDimension();this._element.style[vt]=this._element.getBoundingClientRect()[vt]+"px",me.reflow(this._element),w.default(this._element).addClass(Ke).removeClass(ke+" "+se);var oi=this._triggerArray.length;if(oi>0)for(var Nt=0;Nt<oi;Nt++){var zi=this._triggerArray[Nt],Er=me.getSelectorFromElement(zi);if(Er!==null){var Pr=w.default([].slice.call(document.querySelectorAll(Er)));Pr.hasClass(se)||w.default(zi).addClass(zt).attr("aria-expanded",!1)}}this.setTransitioning(!0);var Mr=function(){Ee.setTransitioning(!1),w.default(Ee._element).removeClass(Ke).addClass(ke).trigger(gt)};this._element.style[vt]="";var xn=me.getTransitionDurationFromElement(this._element);w.default(this._element).one(me.TRANSITION_END,Mr).emulateTransitionEnd(xn)}}},Rt.setTransitioning=function(Ee){this._isTransitioning=Ee},Rt.dispose=function(){w.default.removeData(this._element,W),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},Rt._getConfig=function(Ee){return Ee=q({},we,Ee),Ee.toggle=Boolean(Ee.toggle),me.typeCheckConfig(P,Ee,Me),Ee},Rt._getDimension=function(){var Ee=w.default(this._element).hasClass(ai);return Ee?ai:Xt},Rt._getParent=function(){var Ee=this,et;me.isElement(this._config.parent)?(et=this._config.parent,typeof this._config.parent.jquery<"u"&&(et=this._config.parent[0])):et=document.querySelector(this._config.parent);var vt='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',oi=[].slice.call(et.querySelectorAll(vt));return w.default(oi).each(function(Nt,zi){Ee._addAriaAndCollapsedClass(ti._getTargetFromElement(zi),[zi])}),et},Rt._addAriaAndCollapsedClass=function(Ee,et){var vt=w.default(Ee).hasClass(se);et.length&&w.default(et).toggleClass(zt,!vt).attr("aria-expanded",vt)},ti._getTargetFromElement=function(Ee){var et=me.getSelectorFromElement(Ee);return et?document.querySelector(et):null},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this),vt=et.data(W),oi=q({},we,et.data(),typeof Ee=="object"&&Ee?Ee:{});if(!vt&&oi.toggle&&typeof Ee=="string"&&/show|hide/.test(Ee)&&(oi.toggle=!1),vt||(vt=new ti(this,oi),et.data(W,vt)),typeof Ee=="string"){if(typeof vt[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');vt[Ee]()}})},H(ti,null,[{key:"VERSION",get:function(){return N}},{key:"Default",get:function(){return we}}]),ti}();w.default(document).on(B,li,function(ti){ti.currentTarget.tagName==="A"&&ti.preventDefault();var Rt=w.default(this),_t=me.getSelectorFromElement(this),Ee=[].slice.call(document.querySelectorAll(_t));w.default(Ee).each(function(){var et=w.default(this),vt=et.data(W),oi=vt?"toggle":Rt.data();mi._jQueryInterface.call(et,oi)})}),w.default.fn[P]=mi._jQueryInterface,w.default.fn[P].Constructor=mi,w.default.fn[P].noConflict=function(){return w.default.fn[P]=ue,mi._jQueryInterface};var Yi="dropdown",Gr="4.6.0",Gi="bs.dropdown",Rr="."+Gi,vn=".data-api",qn=w.default.fn[Yi],rn=27,kr=32,Kn=9,La=38,hs=40,_s=3,Un=new RegExp(La+"|"+hs+"|"+rn),$r="hide"+Rr,Ha="hidden"+Rr,fo="show"+Rr,$o="shown"+Rr,bs="click"+Rr,Wn="click"+Rr+vn,cn="keydown"+Rr+vn,Fs="keyup"+Rr+vn,Xs="disabled",nn="show",la="dropup",pl="dropright",Zs="dropleft",Tn="dropdown-menu-right",Xo="position-static",po='[data-toggle="dropdown"]',mo=".dropdown form",Ln=".dropdown-menu",qs=".navbar-nav",ml=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ws="top-start",Es="top-end",Zo="bottom-start",Ja="bottom-end",$l="right-start",us="left-start",qo={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},gl={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},ln=function(){function ti(_t,Ee){this._element=_t,this._popper=null,this._config=this._getConfig(Ee),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var Rt=ti.prototype;return Rt.toggle=function(){if(!(this._element.disabled||w.default(this._element).hasClass(Xs))){var Ee=w.default(this._menu).hasClass(nn);ti._clearMenus(),!Ee&&this.show(!0)}},Rt.show=function(Ee){if(Ee===void 0&&(Ee=!1),!(this._element.disabled||w.default(this._element).hasClass(Xs)||w.default(this._menu).hasClass(nn))){var et={relatedTarget:this._element},vt=w.default.Event(fo,et),oi=ti._getParentFromElement(this._element);if(w.default(oi).trigger(vt),!vt.isDefaultPrevented()){if(!this._inNavbar&&Ee){if(typeof l.default>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var Nt=this._element;this._config.reference==="parent"?Nt=oi:me.isElement(this._config.reference)&&(Nt=this._config.reference,typeof this._config.reference.jquery<"u"&&(Nt=this._config.reference[0])),this._config.boundary!=="scrollParent"&&w.default(oi).addClass(Xo),this._popper=new l.default(Nt,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&w.default(oi).closest(qs).length===0&&w.default(document.body).children().on("mouseover",null,w.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),w.default(this._menu).toggleClass(nn),w.default(oi).toggleClass(nn).trigger(w.default.Event($o,et))}}},Rt.hide=function(){if(!(this._element.disabled||w.default(this._element).hasClass(Xs)||!w.default(this._menu).hasClass(nn))){var Ee={relatedTarget:this._element},et=w.default.Event($r,Ee),vt=ti._getParentFromElement(this._element);w.default(vt).trigger(et),!et.isDefaultPrevented()&&(this._popper&&this._popper.destroy(),w.default(this._menu).toggleClass(nn),w.default(vt).toggleClass(nn).trigger(w.default.Event(Ha,Ee)))}},Rt.dispose=function(){w.default.removeData(this._element,Gi),w.default(this._element).off(Rr),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},Rt.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},Rt._addEventListeners=function(){var Ee=this;w.default(this._element).on(bs,function(et){et.preventDefault(),et.stopPropagation(),Ee.toggle()})},Rt._getConfig=function(Ee){return Ee=q({},this.constructor.Default,w.default(this._element).data(),Ee),me.typeCheckConfig(Yi,Ee,this.constructor.DefaultType),Ee},Rt._getMenuElement=function(){if(!this._menu){var Ee=ti._getParentFromElement(this._element);Ee&&(this._menu=Ee.querySelector(Ln))}return this._menu},Rt._getPlacement=function(){var Ee=w.default(this._element.parentNode),et=Zo;return Ee.hasClass(la)?et=w.default(this._menu).hasClass(Tn)?Es:ws:Ee.hasClass(pl)?et=$l:Ee.hasClass(Zs)?et=us:w.default(this._menu).hasClass(Tn)&&(et=Ja),et},Rt._detectNavbar=function(){return w.default(this._element).closest(".navbar").length>0},Rt._getOffset=function(){var Ee=this,et={};return typeof this._config.offset=="function"?et.fn=function(vt){return vt.offsets=q({},vt.offsets,Ee._config.offset(vt.offsets,Ee._element)||{}),vt}:et.offset=this._config.offset,et},Rt._getPopperConfig=function(){var Ee={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(Ee.modifiers.applyStyle={enabled:!1}),q({},Ee,this._config.popperConfig)},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this).data(Gi),vt=typeof Ee=="object"?Ee:null;if(et||(et=new ti(this,vt),w.default(this).data(Gi,et)),typeof Ee=="string"){if(typeof et[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');et[Ee]()}})},ti._clearMenus=function(Ee){if(!(Ee&&(Ee.which===_s||Ee.type==="keyup"&&Ee.which!==Kn)))for(var et=[].slice.call(document.querySelectorAll(po)),vt=0,oi=et.length;vt<oi;vt++){var Nt=ti._getParentFromElement(et[vt]),zi=w.default(et[vt]).data(Gi),Er={relatedTarget:et[vt]};if(Ee&&Ee.type==="click"&&(Er.clickEvent=Ee),!!zi){var Pr=zi._menu;if(w.default(Nt).hasClass(nn)&&!(Ee&&(Ee.type==="click"&&/input|textarea/i.test(Ee.target.tagName)||Ee.type==="keyup"&&Ee.which===Kn)&&w.default.contains(Nt,Ee.target))){var Mr=w.default.Event($r,Er);w.default(Nt).trigger(Mr),!Mr.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&w.default(document.body).children().off("mouseover",null,w.default.noop),et[vt].setAttribute("aria-expanded","false"),zi._popper&&zi._popper.destroy(),w.default(Pr).removeClass(nn),w.default(Nt).removeClass(nn).trigger(w.default.Event(Ha,Er)))}}}},ti._getParentFromElement=function(Ee){var et,vt=me.getSelectorFromElement(Ee);return vt&&(et=document.querySelector(vt)),et||Ee.parentNode},ti._dataApiKeydownHandler=function(Ee){if(!(/input|textarea/i.test(Ee.target.tagName)?Ee.which===kr||Ee.which!==rn&&(Ee.which!==hs&&Ee.which!==La||w.default(Ee.target).closest(Ln).length):!Un.test(Ee.which))&&!(this.disabled||w.default(this).hasClass(Xs))){var et=ti._getParentFromElement(this),vt=w.default(et).hasClass(nn);if(!(!vt&&Ee.which===rn)){if(Ee.preventDefault(),Ee.stopPropagation(),!vt||Ee.which===rn||Ee.which===kr){Ee.which===rn&&w.default(et.querySelector(po)).trigger("focus"),w.default(this).trigger("click");return}var oi=[].slice.call(et.querySelectorAll(ml)).filter(function(zi){return w.default(zi).is(":visible")});if(oi.length!==0){var Nt=oi.indexOf(Ee.target);Ee.which===La&&Nt>0&&Nt--,Ee.which===hs&&Nt<oi.length-1&&Nt++,Nt<0&&(Nt=0),oi[Nt].focus()}}}},H(ti,null,[{key:"VERSION",get:function(){return Gr}},{key:"Default",get:function(){return qo}},{key:"DefaultType",get:function(){return gl}}]),ti}();w.default(document).on(cn,po,ln._dataApiKeydownHandler).on(cn,Ln,ln._dataApiKeydownHandler).on(Wn+" "+Fs,ln._clearMenus).on(Wn,po,function(ti){ti.preventDefault(),ti.stopPropagation(),ln._jQueryInterface.call(w.default(this),"toggle")}).on(Wn,mo,function(ti){ti.stopPropagation()}),w.default.fn[Yi]=ln._jQueryInterface,w.default.fn[Yi].Constructor=ln,w.default.fn[Yi].noConflict=function(){return w.default.fn[Yi]=qn,ln._jQueryInterface};var Ma="modal",Oo="4.6.0",z="bs.modal",Z="."+z,he=".data-api",xe=w.default.fn[Ma],ze=27,Ve={backdrop:!0,keyboard:!0,focus:!0,show:!0},Qe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Ct="hide"+Z,Mt="hidePrevented"+Z,Ht="hidden"+Z,ci="show"+Z,Pi="shown"+Z,Jt="focusin"+Z,di="resize"+Z,Ni="click.dismiss"+Z,wr="keydown.dismiss"+Z,rr="mouseup.dismiss"+Z,Rn="mousedown.dismiss"+Z,yn="click"+Z+he,va="modal-dialog-scrollable",Hr="modal-scrollbar-measure",_r="modal-backdrop",zn="modal-open",Qi="fade",zr="show",Jn="modal-static",Bs=".modal-dialog",aa=".modal-body",Qn='[data-toggle="modal"]',xr='[data-dismiss="modal"]',sa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qa=".sticky-top",ca=function(){function ti(_t,Ee){this._config=this._getConfig(Ee),this._element=_t,this._dialog=_t.querySelector(Bs),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var Rt=ti.prototype;return Rt.toggle=function(Ee){return this._isShown?this.hide():this.show(Ee)},Rt.show=function(Ee){var et=this;if(!(this._isShown||this._isTransitioning)){w.default(this._element).hasClass(Qi)&&(this._isTransitioning=!0);var vt=w.default.Event(ci,{relatedTarget:Ee});w.default(this._element).trigger(vt),!(this._isShown||vt.isDefaultPrevented())&&(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),w.default(this._element).on(Ni,xr,function(oi){return et.hide(oi)}),w.default(this._dialog).on(Rn,function(){w.default(et._element).one(rr,function(oi){w.default(oi.target).is(et._element)&&(et._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return et._showElement(Ee)}))}},Rt.hide=function(Ee){var et=this;if(Ee&&Ee.preventDefault(),!(!this._isShown||this._isTransitioning)){var vt=w.default.Event(Ct);if(w.default(this._element).trigger(vt),!(!this._isShown||vt.isDefaultPrevented())){this._isShown=!1;var oi=w.default(this._element).hasClass(Qi);if(oi&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),w.default(document).off(Jt),w.default(this._element).removeClass(zr),w.default(this._element).off(Ni),w.default(this._dialog).off(Rn),oi){var Nt=me.getTransitionDurationFromElement(this._element);w.default(this._element).one(me.TRANSITION_END,function(zi){return et._hideModal(zi)}).emulateTransitionEnd(Nt)}else this._hideModal()}}},Rt.dispose=function(){[window,this._element,this._dialog].forEach(function(Ee){return w.default(Ee).off(Z)}),w.default(document).off(Jt),w.default.removeData(this._element,z),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},Rt.handleUpdate=function(){this._adjustDialog()},Rt._getConfig=function(Ee){return Ee=q({},Ve,Ee),me.typeCheckConfig(Ma,Ee,Qe),Ee},Rt._triggerBackdropTransition=function(){var Ee=this,et=w.default.Event(Mt);if(w.default(this._element).trigger(et),!et.isDefaultPrevented()){var vt=this._element.scrollHeight>document.documentElement.clientHeight;vt||(this._element.style.overflowY="hidden"),this._element.classList.add(Jn);var oi=me.getTransitionDurationFromElement(this._dialog);w.default(this._element).off(me.TRANSITION_END),w.default(this._element).one(me.TRANSITION_END,function(){Ee._element.classList.remove(Jn),vt||w.default(Ee._element).one(me.TRANSITION_END,function(){Ee._element.style.overflowY=""}).emulateTransitionEnd(Ee._element,oi)}).emulateTransitionEnd(oi),this._element.focus()}},Rt._showElement=function(Ee){var et=this,vt=w.default(this._element).hasClass(Qi),oi=this._dialog?this._dialog.querySelector(aa):null;(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),w.default(this._dialog).hasClass(va)&&oi?oi.scrollTop=0:this._element.scrollTop=0,vt&&me.reflow(this._element),w.default(this._element).addClass(zr),this._config.focus&&this._enforceFocus();var Nt=w.default.Event(Pi,{relatedTarget:Ee}),zi=function(){et._config.focus&&et._element.focus(),et._isTransitioning=!1,w.default(et._element).trigger(Nt)};if(vt){var Er=me.getTransitionDurationFromElement(this._dialog);w.default(this._dialog).one(me.TRANSITION_END,zi).emulateTransitionEnd(Er)}else zi()},Rt._enforceFocus=function(){var Ee=this;w.default(document).off(Jt).on(Jt,function(et){document!==et.target&&Ee._element!==et.target&&w.default(Ee._element).has(et.target).length===0&&Ee._element.focus()})},Rt._setEscapeEvent=function(){var Ee=this;this._isShown?w.default(this._element).on(wr,function(et){Ee._config.keyboard&&et.which===ze?(et.preventDefault(),Ee.hide()):!Ee._config.keyboard&&et.which===ze&&Ee._triggerBackdropTransition()}):this._isShown||w.default(this._element).off(wr)},Rt._setResizeEvent=function(){var Ee=this;this._isShown?w.default(window).on(di,function(et){return Ee.handleUpdate(et)}):w.default(window).off(di)},Rt._hideModal=function(){var Ee=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){w.default(document.body).removeClass(zn),Ee._resetAdjustments(),Ee._resetScrollbar(),w.default(Ee._element).trigger(Ht)})},Rt._removeBackdrop=function(){this._backdrop&&(w.default(this._backdrop).remove(),this._backdrop=null)},Rt._showBackdrop=function(Ee){var et=this,vt=w.default(this._element).hasClass(Qi)?Qi:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=_r,vt&&this._backdrop.classList.add(vt),w.default(this._backdrop).appendTo(document.body),w.default(this._element).on(Ni,function(Er){if(et._ignoreBackdropClick){et._ignoreBackdropClick=!1;return}Er.target===Er.currentTarget&&(et._config.backdrop==="static"?et._triggerBackdropTransition():et.hide())}),vt&&me.reflow(this._backdrop),w.default(this._backdrop).addClass(zr),!Ee)return;if(!vt){Ee();return}var oi=me.getTransitionDurationFromElement(this._backdrop);w.default(this._backdrop).one(me.TRANSITION_END,Ee).emulateTransitionEnd(oi)}else if(!this._isShown&&this._backdrop){w.default(this._backdrop).removeClass(zr);var Nt=function(){et._removeBackdrop(),Ee&&Ee()};if(w.default(this._element).hasClass(Qi)){var zi=me.getTransitionDurationFromElement(this._backdrop);w.default(this._backdrop).one(me.TRANSITION_END,Nt).emulateTransitionEnd(zi)}else Nt()}else Ee&&Ee()},Rt._adjustDialog=function(){var Ee=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&Ee&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!Ee&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},Rt._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},Rt._checkScrollbar=function(){var Ee=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(Ee.left+Ee.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},Rt._setScrollbar=function(){var Ee=this;if(this._isBodyOverflowing){var et=[].slice.call(document.querySelectorAll(sa)),vt=[].slice.call(document.querySelectorAll(Qa));w.default(et).each(function(zi,Er){var Pr=Er.style.paddingRight,Mr=w.default(Er).css("padding-right");w.default(Er).data("padding-right",Pr).css("padding-right",parseFloat(Mr)+Ee._scrollbarWidth+"px")}),w.default(vt).each(function(zi,Er){var Pr=Er.style.marginRight,Mr=w.default(Er).css("margin-right");w.default(Er).data("margin-right",Pr).css("margin-right",parseFloat(Mr)-Ee._scrollbarWidth+"px")});var oi=document.body.style.paddingRight,Nt=w.default(document.body).css("padding-right");w.default(document.body).data("padding-right",oi).css("padding-right",parseFloat(Nt)+this._scrollbarWidth+"px")}w.default(document.body).addClass(zn)},Rt._resetScrollbar=function(){var Ee=[].slice.call(document.querySelectorAll(sa));w.default(Ee).each(function(oi,Nt){var zi=w.default(Nt).data("padding-right");w.default(Nt).removeData("padding-right"),Nt.style.paddingRight=zi||""});var et=[].slice.call(document.querySelectorAll(""+Qa));w.default(et).each(function(oi,Nt){var zi=w.default(Nt).data("margin-right");typeof zi<"u"&&w.default(Nt).css("margin-right",zi).removeData("margin-right")});var vt=w.default(document.body).data("padding-right");w.default(document.body).removeData("padding-right"),document.body.style.paddingRight=vt||""},Rt._getScrollbarWidth=function(){var Ee=document.createElement("div");Ee.className=Hr,document.body.appendChild(Ee);var et=Ee.getBoundingClientRect().width-Ee.clientWidth;return document.body.removeChild(Ee),et},ti._jQueryInterface=function(Ee,et){return this.each(function(){var vt=w.default(this).data(z),oi=q({},Ve,w.default(this).data(),typeof Ee=="object"&&Ee?Ee:{});if(vt||(vt=new ti(this,oi),w.default(this).data(z,vt)),typeof Ee=="string"){if(typeof vt[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');vt[Ee](et)}else oi.show&&vt.show(et)})},H(ti,null,[{key:"VERSION",get:function(){return Oo}},{key:"Default",get:function(){return Ve}}]),ti}();w.default(document).on(yn,Qn,function(ti){var Rt=this,_t,Ee=me.getSelectorFromElement(this);Ee&&(_t=document.querySelector(Ee));var et=w.default(_t).data(z)?"toggle":q({},w.default(_t).data(),w.default(this).data());(this.tagName==="A"||this.tagName==="AREA")&&ti.preventDefault();var vt=w.default(_t).one(ci,function(oi){oi.isDefaultPrevented()||vt.one(Ht,function(){w.default(Rt).is(":visible")&&Rt.focus()})});ca._jQueryInterface.call(w.default(_t),et,this)}),w.default.fn[Ma]=ca._jQueryInterface,w.default.fn[Ma].Constructor=ca,w.default.fn[Ma].noConflict=function(){return w.default.fn[Ma]=xe,ca._jQueryInterface};var Ts=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ko=/^aria-[\w-]*$/i,ds={"*":["class","dir","id","lang","role",Ko],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jo=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Kr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Ss(ti,Rt){var _t=ti.nodeName.toLowerCase();if(Rt.indexOf(_t)!==-1)return Ts.indexOf(_t)!==-1?Boolean(ti.nodeValue.match(Jo)||ti.nodeValue.match(Kr)):!0;for(var Ee=Rt.filter(function(oi){return oi instanceof RegExp}),et=0,vt=Ee.length;et<vt;et++)if(_t.match(Ee[et]))return!0;return!1}function Ks(ti,Rt,_t){if(ti.length===0)return ti;if(_t&&typeof _t=="function")return _t(ti);for(var Ee=new window.DOMParser,et=Ee.parseFromString(ti,"text/html"),vt=Object.keys(Rt),oi=[].slice.call(et.body.querySelectorAll("*")),Nt=function(xn,ps){var ns=oi[xn],So=ns.nodeName.toLowerCase();if(vt.indexOf(ns.nodeName.toLowerCase())===-1)return ns.parentNode.removeChild(ns),"continue";var ic=[].slice.call(ns.attributes),Us=[].concat(Rt["*"]||[],Rt[So]||[]);ic.forEach(function(No){Ss(No,Us)||ns.removeAttribute(No.nodeName)})},zi=0,Er=oi.length;zi<Er;zi++)var Pr=Nt(zi);return et.body.innerHTML}var Wa="tooltip",vl="4.6.0",As="bs.tooltip",es="."+As,Sc=w.default.fn[Wa],go="bs-tooltip",vo=new RegExp("(^|\\s)"+go+"\\S+","g"),Xl=["sanitize","whiteList","sanitizeFn"],Ra={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Sr={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ms={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:ds,popperConfig:null},za="show",ts="out",yl={HIDE:"hide"+es,HIDDEN:"hidden"+es,SHOW:"show"+es,SHOWN:"shown"+es,INSERTED:"inserted"+es,CLICK:"click"+es,FOCUSIN:"focusin"+es,FOCUSOUT:"focusout"+es,MOUSEENTER:"mouseenter"+es,MOUSELEAVE:"mouseleave"+es},Cs="fade",ea="show",ya=".tooltip-inner",js=".arrow",Ya="hover",is="focus",Zc="click",an="manual",Is=function(){function ti(_t,Ee){if(typeof l.default>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=_t,this.config=this._getConfig(Ee),this.tip=null,this._setListeners()}var Rt=ti.prototype;return Rt.enable=function(){this._isEnabled=!0},Rt.disable=function(){this._isEnabled=!1},Rt.toggleEnabled=function(){this._isEnabled=!this._isEnabled},Rt.toggle=function(Ee){if(this._isEnabled)if(Ee){var et=this.constructor.DATA_KEY,vt=w.default(Ee.currentTarget).data(et);vt||(vt=new this.constructor(Ee.currentTarget,this._getDelegateConfig()),w.default(Ee.currentTarget).data(et,vt)),vt._activeTrigger.click=!vt._activeTrigger.click,vt._isWithActiveTrigger()?vt._enter(null,vt):vt._leave(null,vt)}else{if(w.default(this.getTipElement()).hasClass(ea)){this._leave(null,this);return}this._enter(null,this)}},Rt.dispose=function(){clearTimeout(this._timeout),w.default.removeData(this.element,this.constructor.DATA_KEY),w.default(this.element).off(this.constructor.EVENT_KEY),w.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&w.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},Rt.show=function(){var Ee=this;if(w.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var et=w.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){w.default(this.element).trigger(et);var vt=me.findShadowRoot(this.element),oi=w.default.contains(vt!==null?vt:this.element.ownerDocument.documentElement,this.element);if(et.isDefaultPrevented()||!oi)return;var Nt=this.getTipElement(),zi=me.getUID(this.constructor.NAME);Nt.setAttribute("id",zi),this.element.setAttribute("aria-describedby",zi),this.setContent(),this.config.animation&&w.default(Nt).addClass(Cs);var Er=typeof this.config.placement=="function"?this.config.placement.call(this,Nt,this.element):this.config.placement,Pr=this._getAttachment(Er);this.addAttachmentClass(Pr);var Mr=this._getContainer();w.default(Nt).data(this.constructor.DATA_KEY,this),w.default.contains(this.element.ownerDocument.documentElement,this.tip)||w.default(Nt).appendTo(Mr),w.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new l.default(this.element,Nt,this._getPopperConfig(Pr)),w.default(Nt).addClass(ea),w.default(Nt).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&w.default(document.body).children().on("mouseover",null,w.default.noop);var xn=function(){Ee.config.animation&&Ee._fixTransition();var So=Ee._hoverState;Ee._hoverState=null,w.default(Ee.element).trigger(Ee.constructor.Event.SHOWN),So===ts&&Ee._leave(null,Ee)};if(w.default(this.tip).hasClass(Cs)){var ps=me.getTransitionDurationFromElement(this.tip);w.default(this.tip).one(me.TRANSITION_END,xn).emulateTransitionEnd(ps)}else xn()}},Rt.hide=function(Ee){var et=this,vt=this.getTipElement(),oi=w.default.Event(this.constructor.Event.HIDE),Nt=function(){et._hoverState!==za&&vt.parentNode&&vt.parentNode.removeChild(vt),et._cleanTipClass(),et.element.removeAttribute("aria-describedby"),w.default(et.element).trigger(et.constructor.Event.HIDDEN),et._popper!==null&&et._popper.destroy(),Ee&&Ee()};if(w.default(this.element).trigger(oi),!oi.isDefaultPrevented()){if(w.default(vt).removeClass(ea),"ontouchstart"in document.documentElement&&w.default(document.body).children().off("mouseover",null,w.default.noop),this._activeTrigger[Zc]=!1,this._activeTrigger[is]=!1,this._activeTrigger[Ya]=!1,w.default(this.tip).hasClass(Cs)){var zi=me.getTransitionDurationFromElement(vt);w.default(vt).one(me.TRANSITION_END,Nt).emulateTransitionEnd(zi)}else Nt();this._hoverState=""}},Rt.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},Rt.isWithContent=function(){return Boolean(this.getTitle())},Rt.addAttachmentClass=function(Ee){w.default(this.getTipElement()).addClass(go+"-"+Ee)},Rt.getTipElement=function(){return this.tip=this.tip||w.default(this.config.template)[0],this.tip},Rt.setContent=function(){var Ee=this.getTipElement();this.setElementContent(w.default(Ee.querySelectorAll(ya)),this.getTitle()),w.default(Ee).removeClass(Cs+" "+ea)},Rt.setElementContent=function(Ee,et){if(typeof et=="object"&&(et.nodeType||et.jquery)){this.config.html?w.default(et).parent().is(Ee)||Ee.empty().append(et):Ee.text(w.default(et).text());return}this.config.html?(this.config.sanitize&&(et=Ks(et,this.config.whiteList,this.config.sanitizeFn)),Ee.html(et)):Ee.text(et)},Rt.getTitle=function(){var Ee=this.element.getAttribute("data-original-title");return Ee||(Ee=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),Ee},Rt._getPopperConfig=function(Ee){var et=this,vt={placement:Ee,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:js},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Nt){Nt.originalPlacement!==Nt.placement&&et._handlePopperPlacementChange(Nt)},onUpdate:function(Nt){return et._handlePopperPlacementChange(Nt)}};return q({},vt,this.config.popperConfig)},Rt._getOffset=function(){var Ee=this,et={};return typeof this.config.offset=="function"?et.fn=function(vt){return vt.offsets=q({},vt.offsets,Ee.config.offset(vt.offsets,Ee.element)||{}),vt}:et.offset=this.config.offset,et},Rt._getContainer=function(){return this.config.container===!1?document.body:me.isElement(this.config.container)?w.default(this.config.container):w.default(document).find(this.config.container)},Rt._getAttachment=function(Ee){return Sr[Ee.toUpperCase()]},Rt._setListeners=function(){var Ee=this,et=this.config.trigger.split(" ");et.forEach(function(vt){if(vt==="click")w.default(Ee.element).on(Ee.constructor.Event.CLICK,Ee.config.selector,function(zi){return Ee.toggle(zi)});else if(vt!==an){var oi=vt===Ya?Ee.constructor.Event.MOUSEENTER:Ee.constructor.Event.FOCUSIN,Nt=vt===Ya?Ee.constructor.Event.MOUSELEAVE:Ee.constructor.Event.FOCUSOUT;w.default(Ee.element).on(oi,Ee.config.selector,function(zi){return Ee._enter(zi)}).on(Nt,Ee.config.selector,function(zi){return Ee._leave(zi)})}}),this._hideModalHandler=function(){Ee.element&&Ee.hide()},w.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=q({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},Rt._fixTitle=function(){var Ee=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||Ee!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},Rt._enter=function(Ee,et){var vt=this.constructor.DATA_KEY;if(et=et||w.default(Ee.currentTarget).data(vt),et||(et=new this.constructor(Ee.currentTarget,this._getDelegateConfig()),w.default(Ee.currentTarget).data(vt,et)),Ee&&(et._activeTrigger[Ee.type==="focusin"?is:Ya]=!0),w.default(et.getTipElement()).hasClass(ea)||et._hoverState===za){et._hoverState=za;return}if(clearTimeout(et._timeout),et._hoverState=za,!et.config.delay||!et.config.delay.show){et.show();return}et._timeout=setTimeout(function(){et._hoverState===za&&et.show()},et.config.delay.show)},Rt._leave=function(Ee,et){var vt=this.constructor.DATA_KEY;if(et=et||w.default(Ee.currentTarget).data(vt),et||(et=new this.constructor(Ee.currentTarget,this._getDelegateConfig()),w.default(Ee.currentTarget).data(vt,et)),Ee&&(et._activeTrigger[Ee.type==="focusout"?is:Ya]=!1),!et._isWithActiveTrigger()){if(clearTimeout(et._timeout),et._hoverState=ts,!et.config.delay||!et.config.delay.hide){et.hide();return}et._timeout=setTimeout(function(){et._hoverState===ts&&et.hide()},et.config.delay.hide)}},Rt._isWithActiveTrigger=function(){for(var Ee in this._activeTrigger)if(this._activeTrigger[Ee])return!0;return!1},Rt._getConfig=function(Ee){var et=w.default(this.element).data();return Object.keys(et).forEach(function(vt){Xl.indexOf(vt)!==-1&&delete et[vt]}),Ee=q({},this.constructor.Default,et,typeof Ee=="object"&&Ee?Ee:{}),typeof Ee.delay=="number"&&(Ee.delay={show:Ee.delay,hide:Ee.delay}),typeof Ee.title=="number"&&(Ee.title=Ee.title.toString()),typeof Ee.content=="number"&&(Ee.content=Ee.content.toString()),me.typeCheckConfig(Wa,Ee,this.constructor.DefaultType),Ee.sanitize&&(Ee.template=Ks(Ee.template,Ee.whiteList,Ee.sanitizeFn)),Ee},Rt._getDelegateConfig=function(){var Ee={};if(this.config)for(var et in this.config)this.constructor.Default[et]!==this.config[et]&&(Ee[et]=this.config[et]);return Ee},Rt._cleanTipClass=function(){var Ee=w.default(this.getTipElement()),et=Ee.attr("class").match(vo);et!==null&&et.length&&Ee.removeClass(et.join(""))},Rt._handlePopperPlacementChange=function(Ee){this.tip=Ee.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(Ee.placement))},Rt._fixTransition=function(){var Ee=this.getTipElement(),et=this.config.animation;Ee.getAttribute("x-placement")===null&&(w.default(Ee).removeClass(Cs),this.config.animation=!1,this.hide(),this.show(),this.config.animation=et)},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this),vt=et.data(As),oi=typeof Ee=="object"&&Ee;if(!(!vt&&/dispose|hide/.test(Ee))&&(vt||(vt=new ti(this,oi),et.data(As,vt)),typeof Ee=="string")){if(typeof vt[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');vt[Ee]()}})},H(ti,null,[{key:"VERSION",get:function(){return vl}},{key:"Default",get:function(){return Ms}},{key:"NAME",get:function(){return Wa}},{key:"DATA_KEY",get:function(){return As}},{key:"Event",get:function(){return yl}},{key:"EVENT_KEY",get:function(){return es}},{key:"DefaultType",get:function(){return Ra}}]),ti}();w.default.fn[Wa]=Is._jQueryInterface,w.default.fn[Wa].Constructor=Is,w.default.fn[Wa].noConflict=function(){return w.default.fn[Wa]=Sc,Is._jQueryInterface};var Gn="popover",xa="4.6.0",rs="bs.popover",$a="."+rs,xl=w.default.fn[Gn],Qo="bs-popover",Js=new RegExp("(^|\\s)"+Qo+"\\S+","g"),Qs=q({},Is.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),_l=q({},Is.DefaultType,{content:"(string|element|function)"}),bl="fade",yo="show",Lo=".popover-header",_a=".popover-body",el={HIDE:"hide"+$a,HIDDEN:"hidden"+$a,SHOW:"show"+$a,SHOWN:"shown"+$a,INSERTED:"inserted"+$a,CLICK:"click"+$a,FOCUSIN:"focusin"+$a,FOCUSOUT:"focusout"+$a,MOUSEENTER:"mouseenter"+$a,MOUSELEAVE:"mouseleave"+$a},Vs=function(ti){J(Rt,ti);function Rt(){return ti.apply(this,arguments)||this}var _t=Rt.prototype;return _t.isWithContent=function(){return this.getTitle()||this._getContent()},_t.addAttachmentClass=function(et){w.default(this.getTipElement()).addClass(Qo+"-"+et)},_t.getTipElement=function(){return this.tip=this.tip||w.default(this.config.template)[0],this.tip},_t.setContent=function(){var et=w.default(this.getTipElement());this.setElementContent(et.find(Lo),this.getTitle());var vt=this._getContent();typeof vt=="function"&&(vt=vt.call(this.element)),this.setElementContent(et.find(_a),vt),et.removeClass(bl+" "+yo)},_t._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},_t._cleanTipClass=function(){var et=w.default(this.getTipElement()),vt=et.attr("class").match(Js);vt!==null&&vt.length>0&&et.removeClass(vt.join(""))},Rt._jQueryInterface=function(et){return this.each(function(){var vt=w.default(this).data(rs),oi=typeof et=="object"?et:null;if(!(!vt&&/dispose|hide/.test(et))&&(vt||(vt=new Rt(this,oi),w.default(this).data(rs,vt)),typeof et=="string")){if(typeof vt[et]>"u")throw new TypeError('No method named "'+et+'"');vt[et]()}})},H(Rt,null,[{key:"VERSION",get:function(){return xa}},{key:"Default",get:function(){return Qs}},{key:"NAME",get:function(){return Gn}},{key:"DATA_KEY",get:function(){return rs}},{key:"Event",get:function(){return el}},{key:"EVENT_KEY",get:function(){return $a}},{key:"DefaultType",get:function(){return _l}}]),Rt}(Is);w.default.fn[Gn]=Vs._jQueryInterface,w.default.fn[Gn].Constructor=Vs,w.default.fn[Gn].noConflict=function(){return w.default.fn[Gn]=xl,Vs._jQueryInterface};var fs="scrollspy",wl="4.6.0",Ro="bs.scrollspy",at="."+Ro,wt=".data-api",Ft=w.default.fn[fs],yi={offset:10,method:"auto",target:""},Ut={offset:"number",method:"string",target:"(string|element)"},_i="activate"+at,Si="scroll"+at,Ui="load"+at+wt,Ci="dropdown-item",ir="active",dr='[data-spy="scroll"]',cr=".nav, .list-group",sr=".nav-link",sn=".nav-item",fr=".list-group-item",Sn=".dropdown",ta=".dropdown-item",ba=".dropdown-toggle",Xr="offset",Ca="position",ha=function(){function ti(_t,Ee){var et=this;this._element=_t,this._scrollElement=_t.tagName==="BODY"?window:_t,this._config=this._getConfig(Ee),this._selector=this._config.target+" "+sr+","+(this._config.target+" "+fr+",")+(this._config.target+" "+ta),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,w.default(this._scrollElement).on(Si,function(vt){return et._process(vt)}),this.refresh(),this._process()}var Rt=ti.prototype;return Rt.refresh=function(){var Ee=this,et=this._scrollElement===this._scrollElement.window?Xr:Ca,vt=this._config.method==="auto"?et:this._config.method,oi=vt===Ca?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var Nt=[].slice.call(document.querySelectorAll(this._selector));Nt.map(function(zi){var Er,Pr=me.getSelectorFromElement(zi);if(Pr&&(Er=document.querySelector(Pr)),Er){var Mr=Er.getBoundingClientRect();if(Mr.width||Mr.height)return[w.default(Er)[vt]().top+oi,Pr]}return null}).filter(function(zi){return zi}).sort(function(zi,Er){return zi[0]-Er[0]}).forEach(function(zi){Ee._offsets.push(zi[0]),Ee._targets.push(zi[1])})},Rt.dispose=function(){w.default.removeData(this._element,Ro),w.default(this._scrollElement).off(at),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},Rt._getConfig=function(Ee){if(Ee=q({},yi,typeof Ee=="object"&&Ee?Ee:{}),typeof Ee.target!="string"&&me.isElement(Ee.target)){var et=w.default(Ee.target).attr("id");et||(et=me.getUID(fs),w.default(Ee.target).attr("id",et)),Ee.target="#"+et}return me.typeCheckConfig(fs,Ee,Ut),Ee},Rt._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},Rt._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},Rt._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},Rt._process=function(){var Ee=this._getScrollTop()+this._config.offset,et=this._getScrollHeight(),vt=this._config.offset+et-this._getOffsetHeight();if(this._scrollHeight!==et&&this.refresh(),Ee>=vt){var oi=this._targets[this._targets.length-1];this._activeTarget!==oi&&this._activate(oi);return}if(this._activeTarget&&Ee<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(var Nt=this._offsets.length;Nt--;){var zi=this._activeTarget!==this._targets[Nt]&&Ee>=this._offsets[Nt]&&(typeof this._offsets[Nt+1]>"u"||Ee<this._offsets[Nt+1]);zi&&this._activate(this._targets[Nt])}},Rt._activate=function(Ee){this._activeTarget=Ee,this._clear();var et=this._selector.split(",").map(function(oi){return oi+'[data-target="'+Ee+'"],'+oi+'[href="'+Ee+'"]'}),vt=w.default([].slice.call(document.querySelectorAll(et.join(","))));vt.hasClass(Ci)?(vt.closest(Sn).find(ba).addClass(ir),vt.addClass(ir)):(vt.addClass(ir),vt.parents(cr).prev(sr+", "+fr).addClass(ir),vt.parents(cr).prev(sn).children(sr).addClass(ir)),w.default(this._scrollElement).trigger(_i,{relatedTarget:Ee})},Rt._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(Ee){return Ee.classList.contains(ir)}).forEach(function(Ee){return Ee.classList.remove(ir)})},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this).data(Ro),vt=typeof Ee=="object"&&Ee;if(et||(et=new ti(this,vt),w.default(this).data(Ro,et)),typeof Ee=="string"){if(typeof et[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');et[Ee]()}})},H(ti,null,[{key:"VERSION",get:function(){return wl}},{key:"Default",get:function(){return yi}}]),ti}();w.default(window).on(Ui,function(){for(var ti=[].slice.call(document.querySelectorAll(dr)),Rt=ti.length,_t=Rt;_t--;){var Ee=w.default(ti[_t]);ha._jQueryInterface.call(Ee,Ee.data())}}),w.default.fn[fs]=ha._jQueryInterface,w.default.fn[fs].Constructor=ha,w.default.fn[fs].noConflict=function(){return w.default.fn[fs]=Ft,ha._jQueryInterface};var Yn="tab",Zl="4.6.0",xo="bs.tab",eo="."+xo,Hi=".data-api",ks=w.default.fn[Yn],ql="hide"+eo,Eh="hidden"+eo,Th="show"+eo,El="shown"+eo,Kl="click"+eo+Hi,Jl="dropdown-menu",to="active",_o="disabled",Na="fade",Tl="show",tl=".dropdown",qc=".nav, .list-group",Ql=".active",Fa="> li > .active",il='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Kc=".dropdown-toggle",ec="> .dropdown-menu .active",rl=function(){function ti(_t){this._element=_t}var Rt=ti.prototype;return Rt.show=function(){var Ee=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&w.default(this._element).hasClass(to)||w.default(this._element).hasClass(_o))){var et,vt,oi=w.default(this._element).closest(qc)[0],Nt=me.getSelectorFromElement(this._element);if(oi){var zi=oi.nodeName==="UL"||oi.nodeName==="OL"?Fa:Ql;vt=w.default.makeArray(w.default(oi).find(zi)),vt=vt[vt.length-1]}var Er=w.default.Event(ql,{relatedTarget:this._element}),Pr=w.default.Event(Th,{relatedTarget:vt});if(vt&&w.default(vt).trigger(Er),w.default(this._element).trigger(Pr),!(Pr.isDefaultPrevented()||Er.isDefaultPrevented())){Nt&&(et=document.querySelector(Nt)),this._activate(this._element,oi);var Mr=function(){var ps=w.default.Event(Eh,{relatedTarget:Ee._element}),ns=w.default.Event(El,{relatedTarget:vt});w.default(vt).trigger(ps),w.default(Ee._element).trigger(ns)};et?this._activate(et,et.parentNode,Mr):Mr()}}},Rt.dispose=function(){w.default.removeData(this._element,xo),this._element=null},Rt._activate=function(Ee,et,vt){var oi=this,Nt=et&&(et.nodeName==="UL"||et.nodeName==="OL")?w.default(et).find(Fa):w.default(et).children(Ql),zi=Nt[0],Er=vt&&zi&&w.default(zi).hasClass(Na),Pr=function(){return oi._transitionComplete(Ee,zi,vt)};if(zi&&Er){var Mr=me.getTransitionDurationFromElement(zi);w.default(zi).removeClass(Tl).one(me.TRANSITION_END,Pr).emulateTransitionEnd(Mr)}else Pr()},Rt._transitionComplete=function(Ee,et,vt){if(et){w.default(et).removeClass(to);var oi=w.default(et.parentNode).find(ec)[0];oi&&w.default(oi).removeClass(to),et.getAttribute("role")==="tab"&&et.setAttribute("aria-selected",!1)}if(w.default(Ee).addClass(to),Ee.getAttribute("role")==="tab"&&Ee.setAttribute("aria-selected",!0),me.reflow(Ee),Ee.classList.contains(Na)&&Ee.classList.add(Tl),Ee.parentNode&&w.default(Ee.parentNode).hasClass(Jl)){var Nt=w.default(Ee).closest(tl)[0];if(Nt){var zi=[].slice.call(Nt.querySelectorAll(Kc));w.default(zi).addClass(to)}Ee.setAttribute("aria-expanded",!0)}vt&&vt()},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this),vt=et.data(xo);if(vt||(vt=new ti(this),et.data(xo,vt)),typeof Ee=="string"){if(typeof vt[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');vt[Ee]()}})},H(ti,null,[{key:"VERSION",get:function(){return Zl}}]),ti}();w.default(document).on(Kl,il,function(ti){ti.preventDefault(),rl._jQueryInterface.call(w.default(this),"show")}),w.default.fn[Yn]=rl._jQueryInterface,w.default.fn[Yn].Constructor=rl,w.default.fn[Yn].noConflict=function(){return w.default.fn[Yn]=ks,rl._jQueryInterface};var bo="toast",tc="4.6.0",io="bs.toast",wo="."+io,Eo=w.default.fn[bo],Ac="click.dismiss"+wo,Mc="hide"+wo,To="hidden"+wo,Jc="show"+wo,Sh="shown"+wo,Ah="fade",Cc="hide",zo="show",Ic="showing",Mh={animation:"boolean",autohide:"boolean",delay:"number"},Ia={animation:!0,autohide:!0,delay:500},tu='[data-dismiss="toast"]',Sl=function(){function ti(_t,Ee){this._element=_t,this._config=this._getConfig(Ee),this._timeout=null,this._setListeners()}var Rt=ti.prototype;return Rt.show=function(){var Ee=this,et=w.default.Event(Jc);if(w.default(this._element).trigger(et),!et.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(Ah);var vt=function(){Ee._element.classList.remove(Ic),Ee._element.classList.add(zo),w.default(Ee._element).trigger(Sh),Ee._config.autohide&&(Ee._timeout=setTimeout(function(){Ee.hide()},Ee._config.delay))};if(this._element.classList.remove(Cc),me.reflow(this._element),this._element.classList.add(Ic),this._config.animation){var oi=me.getTransitionDurationFromElement(this._element);w.default(this._element).one(me.TRANSITION_END,vt).emulateTransitionEnd(oi)}else vt()}},Rt.hide=function(){if(this._element.classList.contains(zo)){var Ee=w.default.Event(Mc);w.default(this._element).trigger(Ee),!Ee.isDefaultPrevented()&&this._close()}},Rt.dispose=function(){this._clearTimeout(),this._element.classList.contains(zo)&&this._element.classList.remove(zo),w.default(this._element).off(Ac),w.default.removeData(this._element,io),this._element=null,this._config=null},Rt._getConfig=function(Ee){return Ee=q({},Ia,w.default(this._element).data(),typeof Ee=="object"&&Ee?Ee:{}),me.typeCheckConfig(bo,Ee,this.constructor.DefaultType),Ee},Rt._setListeners=function(){var Ee=this;w.default(this._element).on(Ac,tu,function(){return Ee.hide()})},Rt._close=function(){var Ee=this,et=function(){Ee._element.classList.add(Cc),w.default(Ee._element).trigger(To)};if(this._element.classList.remove(zo),this._config.animation){var vt=me.getTransitionDurationFromElement(this._element);w.default(this._element).one(me.TRANSITION_END,et).emulateTransitionEnd(vt)}else et()},Rt._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},ti._jQueryInterface=function(Ee){return this.each(function(){var et=w.default(this),vt=et.data(io),oi=typeof Ee=="object"&&Ee;if(vt||(vt=new ti(this,oi),et.data(io,vt)),typeof Ee=="string"){if(typeof vt[Ee]>"u")throw new TypeError('No method named "'+Ee+'"');vt[Ee](this)}})},H(ti,null,[{key:"VERSION",get:function(){return tc}},{key:"DefaultType",get:function(){return Mh}},{key:"Default",get:function(){return Ia}}]),ti}();w.default.fn[bo]=Sl._jQueryInterface,w.default.fn[bo].Constructor=Sl,w.default.fn[bo].noConflict=function(){return w.default.fn[bo]=Eo,Sl._jQueryInterface},h.Alert=Se,h.Button=Xi,h.Carousel=C,h.Collapse=mi,h.Dropdown=ln,h.Modal=ca,h.Popover=Vs,h.Scrollspy=ha,h.Tab=rl,h.Toast=Sl,h.Tooltip=Is,h.Util=me,Object.defineProperty(h,"__esModule",{value:!0})})})(G9,Du);const kA=j2(Du),DA=U9({__proto__:null,default:kA},[Du]),PA=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));PA.map(e=>new Du.Popover(e));const OA=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));OA.map(e=>new Du.Tooltip(e));window.bootstrap=DA;let a6={primary:"#3B82EC","primary-dark":"#1659c7","primary-light":"#84aef2",secondary:"#495057",success:"#4BBF73",info:"#1F9BCF",warning:"#f0ad4e",danger:"#d9534f",white:"#fff","gray-100":"#f4f7f9","gray-200":"#e2e8ee","gray-300":"#dee6ed","gray-400":"#ced4da","gray-500":"#adb5bd","gray-600":"#6c757d","gray-700":"#495057","gray-800":"#020202","gray-900":"#212529",black:"#000"};const LA={...a6,"primary-dark":"#84aef2","primary-light":"#1659c7",white:"#293042","gray-100":"#3e4555","gray-200":"#545968","gray-300":"#696e7b","gray-400":"#7f838e","gray-500":"#9498a1","gray-600":"#a9acb3","gray-700":"#bfc1c6","gray-800":"#d4d6d9","gray-900":"#eaeaec",black:"#fff"};document.querySelectorAll("link[href]").forEach(e=>{e.href.split("/").pop()==="dark.css"?window.theme=LA:window.theme=a6});var RA=function(r,h){return Array.prototype.slice.call(r,h)},zA=typeof setImmediate=="function",Zv;zA?Zv=function(e){setImmediate(e)}:Zv=function(e){setTimeout(e,0)};var NA=Zv,FA=NA,BA=function(r,h,p){r&&FA(function(){r.apply(p||null,h||[])})},$b=RA,jA=BA,VA=function(r,h){var p=h||{},m={};return r===void 0&&(r={}),r.on=function(x,w){return m[x]?m[x].push(w):m[x]=[w],r},r.once=function(x,w){return w._once=!0,r.on(x,w),r},r.off=function(x,w){var l=arguments.length;if(l===1)delete m[x];else if(l===0)m={};else{var L=m[x];if(!L)return r;L.splice(L.indexOf(w),1)}return r},r.emit=function(){var x=$b(arguments);return r.emitterSnapshot(x.shift()).apply(this,x)},r.emitterSnapshot=function(x){var w=(m[x]||[]).slice(0);return function(){var l=$b(arguments),L=this||r;if(x==="error"&&p.throws!==!1&&!w.length)throw l.length===1?l[0]:l;return w.forEach(function(q){p.async?jA(q,l,L):q.apply(L,l),q._once&&r.off(x,q)}),r}},r},s6=fn.CustomEvent;function UA(){try{var e=new s6("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var GA=UA()?s6:typeof document<"u"&&typeof document.createEvent=="function"?function(r,h){var p=document.createEvent("CustomEvent");return h?p.initCustomEvent(r,h.bubbles,h.cancelable,h.detail):p.initCustomEvent(r,!1,!1,void 0),p}:function(r,h){var p=document.createEventObject();return p.type=r,h?(p.bubbles=Boolean(h.bubbles),p.cancelable=Boolean(h.cancelable),p.detail=h.detail):(p.bubbles=!1,p.cancelable=!1,p.detail=void 0),p},o6=[],bg="",HA=/^on/;for(bg in fn)HA.test(bg)&&o6.push(bg.slice(2));var WA=o6,YA=GA,$A=WA,pp=fn.document,l6=ZA,c6=KA,rf=[];fn.addEventListener||(l6=qA,c6=JA);var XA={add:l6,remove:c6,fabricate:QA};function ZA(e,r,h,p){return e.addEventListener(r,h,p)}function qA(e,r,h){return e.attachEvent("on"+r,tM(e,r,h))}function KA(e,r,h,p){return e.removeEventListener(r,h,p)}function JA(e,r,h){var p=h6(e,r,h);if(p)return e.detachEvent("on"+r,p)}function QA(e,r,h){var p=$A.indexOf(r)===-1?x():m();e.dispatchEvent?e.dispatchEvent(p):e.fireEvent("on"+r,p);function m(){var w;return pp.createEvent?(w=pp.createEvent("Event"),w.initEvent(r,!0,!0)):pp.createEventObject&&(w=pp.createEventObject()),w}function x(){return new YA(r,{detail:h})}}function eM(e,r,h){return function(m){var x=m||fn.event;x.target=x.target||x.srcElement,x.preventDefault=x.preventDefault||function(){x.returnValue=!1},x.stopPropagation=x.stopPropagation||function(){x.cancelBubble=!0},x.which=x.which||x.keyCode,h.call(e,x)}}function tM(e,r,h){var p=h6(e,r,h)||eM(e,r,h);return rf.push({wrapper:p,element:e,type:r,fn:h}),p}function h6(e,r,h){var p=iM(e,r,h);if(p){var m=rf[p].wrapper;return rf.splice(p,1),m}}function iM(e,r,h){var p,m;for(p=0;p<rf.length;p++)if(m=rf[p],m.element===e&&m.type===r&&m.fn===h)return p}var Xb={},rM="(?:^|\\s)",nM="(?:\\s|$)";function u6(e){var r=Xb[e];return r?r.lastIndex=0:Xb[e]=r=new RegExp(rM+e+nM,"g"),r}function aM(e,r){var h=e.className;h.length?u6(r).test(h)||(e.className+=" "+r):e.className=r}function sM(e,r){e.className=e.className.replace(u6(r)," ").trim()}var oM={add:aM,rm:sM},lM=VA,Td=XA,jh=oM,Fd=document,Vc=Fd.documentElement;function cM(e,r){var h=arguments.length;h===1&&Array.isArray(e)===!1&&(r=e,e=[]);var p,m,x,w,l,L,H,q,J,oe,de,ye=null,ne,X=r||{};X.moves===void 0&&(X.moves=Jb),X.accepts===void 0&&(X.accepts=Jb),X.invalid===void 0&&(X.invalid=te),X.containers===void 0&&(X.containers=e||[]),X.isContainer===void 0&&(X.isContainer=uM),X.copy===void 0&&(X.copy=!1),X.copySortSource===void 0&&(X.copySortSource=!1),X.revertOnSpill===void 0&&(X.revertOnSpill=!1),X.removeOnSpill===void 0&&(X.removeOnSpill=!1),X.direction===void 0&&(X.direction="vertical"),X.ignoreInputTextSelection===void 0&&(X.ignoreInputTextSelection=!0),X.mirrorContainer===void 0&&(X.mirrorContainer=Fd.body);var pe=lM({containers:X.containers,start:Pe,end:fe,cancel:ht,remove:ot,destroy:Q,canMove:Ue,dragging:!1});return X.removeOnSpill===!0&&pe.on("over",We).on("out",rt),me(),pe;function ve(Vt){return pe.containers.indexOf(Vt)!==-1||X.isContainer(Vt)}function me(Vt){var wi=Vt?"remove":"add";N0(Vc,wi,"mousedown",St),N0(Vc,wi,"mouseup",Se)}function it(Vt){var wi=Vt?"remove":"add";N0(Vc,wi,"mousemove",At)}function Ye(Vt){var wi=Vt?"remove":"add";Td[wi](Vc,"selectstart",Dt),Td[wi](Vc,"click",Dt)}function Q(){me(!0),Se({})}function Dt(Vt){ne&&Vt.preventDefault()}function St(Vt){L=Vt.clientX,H=Vt.clientY;var wi=Zb(Vt)!==1||Vt.metaKey||Vt.ctrlKey;if(!wi){var Mi=Vt.target,Ji=ui(Mi);Ji&&(ne=Ji,it(),Vt.type==="mousedown"&&(t3(Mi)?Mi.focus():Vt.preventDefault()))}}function At(Vt){if(ne){if(Zb(Vt)===0){Se({});return}if(!(Vt.clientX!==void 0&&Math.abs(Vt.clientX-L)<=(X.slideFactorX||0)&&Vt.clientY!==void 0&&Math.abs(Vt.clientY-H)<=(X.slideFactorY||0))){if(X.ignoreInputTextSelection){var wi=Vh("clientX",Vt)||0,Mi=Vh("clientY",Vt)||0,Ji=Fd.elementFromPoint(wi,Mi);if(t3(Ji))return}var Ei=ne;it(!0),Ye(),fe(),De(Ei);var Xi=hM(x);w=Vh("pageX",Vt)-Xi.left,l=Vh("pageY",Vt)-Xi.top,jh.add(oe||x,"gu-transit"),Ot(),Ie(Vt)}}}function ui(Vt){if(!(pe.dragging&&p)&&!ve(Vt)){for(var wi=Vt;Go(Vt)&&ve(Go(Vt))===!1;)if(X.invalid(Vt,wi)||(Vt=Go(Vt),!Vt))return;var Mi=Go(Vt);if(Mi&&!X.invalid(Vt,wi)){var Ji=X.moves(Vt,Mi,wi,F0(Vt));if(Ji)return{item:Vt,source:Mi}}}}function Ue(Vt){return!!ui(Vt)}function Pe(Vt){var wi=ui(Vt);wi&&De(wi)}function De(Vt){ur(Vt.item,Vt.source)&&(oe=Vt.item.cloneNode(!0),pe.emit("cloned",oe,Vt.item,"copy")),m=Vt.source,x=Vt.item,q=J=F0(Vt.item),pe.dragging=!0,pe.emit("drag",x,m)}function te(){return!1}function fe(){if(pe.dragging){var Vt=oe||x;Re(Vt,Go(Vt))}}function le(){ne=!1,it(!0),Ye(!0)}function Se(Vt){if(le(),!!pe.dragging){var wi=oe||x,Mi=Vh("clientX",Vt)||0,Ji=Vh("clientY",Vt)||0,Ei=Kb(p,Mi,Ji),Xi=Ze(Ei,Mi,Ji);Xi&&(oe&&X.copySortSource||!oe||Xi!==m)?Re(wi,Xi):X.removeOnSpill?ot():ht()}}function Re(Vt,wi){var Mi=Go(Vt);oe&&X.copySortSource&&wi===m&&Mi.removeChild(x),Ne(wi)?pe.emit("cancel",Vt,m,m):pe.emit("drop",Vt,wi,m,J),Pt()}function ot(){if(pe.dragging){var Vt=oe||x,wi=Go(Vt);wi&&wi.removeChild(Vt),pe.emit(oe?"cancel":"remove",Vt,wi,m),Pt()}}function ht(Vt){if(pe.dragging){var wi=arguments.length>0?Vt:X.revertOnSpill,Mi=oe||x,Ji=Go(Mi),Ei=Ne(Ji);Ei===!1&&wi&&(oe?Ji&&Ji.removeChild(oe):m.insertBefore(Mi,q)),Ei||wi?pe.emit("cancel",Mi,m,m):pe.emit("drop",Mi,Ji,m,J),Pt()}}function Pt(){var Vt=oe||x;le(),hi(),Vt&&jh.rm(Vt,"gu-transit"),de&&clearTimeout(de),pe.dragging=!1,ye&&pe.emit("out",Vt,ye,m),pe.emit("dragend",Vt),m=x=oe=q=J=de=ye=null}function Ne(Vt,wi){var Mi;return wi!==void 0?Mi=wi:p?Mi=J:Mi=F0(oe||x),Vt===m&&Mi===q}function Ze(Vt,wi,Mi){for(var Ji=Vt;Ji&&!Ei();)Ji=Go(Ji);return Ji;function Ei(){var Xi=ve(Ji);if(Xi===!1)return!1;var Fi=gi(Ji,Vt),Lr=Li(Ji,Fi,wi,Mi),Vr=Ne(Ji,Lr);return Vr?!0:X.accepts(x,Ji,m,Lr)}}function Ie(Vt){if(!p)return;Vt.preventDefault();var wi=Vh("clientX",Vt)||0,Mi=Vh("clientY",Vt)||0,Ji=wi-w,Ei=Mi-l;p.style.left=Ji+"px",p.style.top=Ei+"px";var Xi=oe||x,Fi=Kb(p,wi,Mi),Lr=Ze(Fi,wi,Mi),Vr=Lr!==null&&Lr!==ye;(Vr||Lr===null)&&(Ar(),ye=Lr,Ir());var si=Go(Xi);if(Lr===m&&oe&&!X.copySortSource){si&&si.removeChild(Xi);return}var tr,yr=gi(Lr,Fi);if(yr!==null)tr=Li(Lr,yr,wi,Mi);else if(X.revertOnSpill===!0&&!oe)tr=q,Lr=m;else{oe&&si&&si.removeChild(Xi);return}(tr===null&&Vr||tr!==Xi&&tr!==F0(Xi))&&(J=tr,Lr.insertBefore(Xi,tr),pe.emit("shadow",Xi,Lr,m));function ar(En){pe.emit(En,Xi,ye,m)}function Ir(){Vr&&ar("over")}function Ar(){ye&&ar("out")}}function We(Vt){jh.rm(Vt,"gu-hide")}function rt(Vt){pe.dragging&&jh.add(Vt,"gu-hide")}function Ot(){if(!p){var Vt=x.getBoundingClientRect();p=x.cloneNode(!0),p.style.width=Qb(Vt)+"px",p.style.height=e3(Vt)+"px",jh.rm(p,"gu-transit"),jh.add(p,"gu-mirror"),X.mirrorContainer.appendChild(p),N0(Vc,"add","mousemove",Ie),jh.add(X.mirrorContainer,"gu-unselectable"),pe.emit("cloned",p,x,"mirror")}}function hi(){p&&(jh.rm(X.mirrorContainer,"gu-unselectable"),N0(Vc,"remove","mousemove",Ie),Go(p).removeChild(p),p=null)}function gi(Vt,wi){for(var Mi=wi;Mi!==Vt&&Go(Mi)!==Vt;)Mi=Go(Mi);return Mi===Vc?null:Mi}function Li(Vt,wi,Mi,Ji){var Ei=X.direction==="horizontal",Xi=wi!==Vt?Lr():Fi();return Xi;function Fi(){var si=Vt.children.length,tr,yr,ar;for(tr=0;tr<si;tr++)if(yr=Vt.children[tr],ar=yr.getBoundingClientRect(),Ei&&ar.left+ar.width/2>Mi||!Ei&&ar.top+ar.height/2>Ji)return yr;return null}function Lr(){var si=wi.getBoundingClientRect();return Vr(Ei?Mi>si.left+Qb(si)/2:Ji>si.top+e3(si)/2)}function Vr(si){return si?F0(wi):wi}}function ur(Vt,wi){return typeof X.copy=="boolean"?X.copy:X.copy(Vt,wi)}}function N0(e,r,h,p){var m={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},x={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},w={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};fn.navigator.pointerEnabled?Td[r](e,x[h],p):fn.navigator.msPointerEnabled?Td[r](e,w[h],p):(Td[r](e,m[h],p),Td[r](e,h,p))}function Zb(e){if(e.touches!==void 0)return e.touches.length;if(e.which!==void 0&&e.which!==0)return e.which;if(e.buttons!==void 0)return e.buttons;var r=e.button;if(r!==void 0)return r&1?1:r&2?3:r&4?2:0}function hM(e){var r=e.getBoundingClientRect();return{left:r.left+qb("scrollLeft","pageXOffset"),top:r.top+qb("scrollTop","pageYOffset")}}function qb(e,r){return typeof fn[r]<"u"?fn[r]:Vc.clientHeight?Vc[e]:Fd.body[e]}function Kb(e,r,h){e=e||{};var p=e.className||"",m;return e.className+=" gu-hide",m=Fd.elementFromPoint(r,h),e.className=p,m}function uM(){return!1}function Jb(){return!0}function Qb(e){return e.width||e.right-e.left}function e3(e){return e.height||e.bottom-e.top}function Go(e){return e.parentNode===Fd?null:e.parentNode}function t3(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||d6(e)}function d6(e){return!e||e.contentEditable==="false"?!1:e.contentEditable==="true"?!0:d6(Go(e))}function F0(e){return e.nextElementSibling||r();function r(){var h=e;do h=h.nextSibling;while(h&&h.nodeType!==1);return h}}function dM(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function Vh(e,r){var h=dM(r),p={pageX:"clientX",pageY:"clientY"};return e in p&&!(e in h)&&p[e]in h&&(e=p[e]),h[e]}var fM=cM;window.dragula=fM;var qv={},pM={get exports(){return qv},set exports(e){qv=e}};(function(e,r){(function(p,m){e.exports=m()})(typeof self<"u"?self:fn,function(){return function(h){var p={};function m(x){if(p[x])return p[x].exports;var w=p[x]={i:x,l:!1,exports:{}};return h[x].call(w.exports,w,w.exports,m),w.l=!0,w.exports}return m.m=h,m.c=p,m.d=function(x,w,l){m.o(x,w)||Object.defineProperty(x,w,{configurable:!1,enumerable:!0,get:l})},m.r=function(x){Object.defineProperty(x,"__esModule",{value:!0})},m.n=function(x){var w=x&&x.__esModule?function(){return x.default}:function(){return x};return m.d(w,"a",w),w},m.o=function(x,w){return Object.prototype.hasOwnProperty.call(x,w)},m.p="",m(m.s=0)}({"./dist/icons.json":function(h){h.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(h,p,m){var x,w;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var l=function(){function L(){}L.prototype=Object.create(null);function H(pe,ve){for(var me=ve.length,it=0;it<me;++it)ne(pe,ve[it])}var q={}.hasOwnProperty;function J(pe,ve){pe[ve]=!0}function oe(pe,ve){for(var me in ve)q.call(ve,me)&&(pe[me]=!!ve[me])}var de=/\s+/;function ye(pe,ve){for(var me=ve.split(de),it=me.length,Ye=0;Ye<it;++Ye)pe[me[Ye]]=!0}function ne(pe,ve){if(ve){var me=typeof ve;me==="string"?ye(pe,ve):Array.isArray(ve)?H(pe,ve):me==="object"?oe(pe,ve):me==="number"&&J(pe,ve)}}function X(){for(var pe=arguments.length,ve=Array(pe),me=0;me<pe;me++)ve[me]=arguments[me];var it=new L;H(it,ve);var Ye=[];for(var Q in it)it[Q]&&Ye.push(Q);return Ye.join(" ")}return X}();typeof h<"u"&&h.exports?h.exports=l:(x=[],w=function(){return l}.apply(p,x),w!==void 0&&(h.exports=w))})()},"./node_modules/core-js/es/array/from.js":function(h,p,m){m("./node_modules/core-js/modules/es.string.iterator.js"),m("./node_modules/core-js/modules/es.array.from.js");var x=m("./node_modules/core-js/internals/path.js");h.exports=x.Array.from},"./node_modules/core-js/internals/a-function.js":function(h,p){h.exports=function(m){if(typeof m!="function")throw TypeError(String(m)+" is not a function");return m}},"./node_modules/core-js/internals/an-object.js":function(h,p,m){var x=m("./node_modules/core-js/internals/is-object.js");h.exports=function(w){if(!x(w))throw TypeError(String(w)+" is not an object");return w}},"./node_modules/core-js/internals/array-from.js":function(h,p,m){var x=m("./node_modules/core-js/internals/bind-context.js"),w=m("./node_modules/core-js/internals/to-object.js"),l=m("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),L=m("./node_modules/core-js/internals/is-array-iterator-method.js"),H=m("./node_modules/core-js/internals/to-length.js"),q=m("./node_modules/core-js/internals/create-property.js"),J=m("./node_modules/core-js/internals/get-iterator-method.js");h.exports=function(de){var ye=w(de),ne=typeof this=="function"?this:Array,X=arguments.length,pe=X>1?arguments[1]:void 0,ve=pe!==void 0,me=0,it=J(ye),Ye,Q,Dt,St;if(ve&&(pe=x(pe,X>2?arguments[2]:void 0,2)),it!=null&&!(ne==Array&&L(it)))for(St=it.call(ye),Q=new ne;!(Dt=St.next()).done;me++)q(Q,me,ve?l(St,pe,[Dt.value,me],!0):Dt.value);else for(Ye=H(ye.length),Q=new ne(Ye);Ye>me;me++)q(Q,me,ve?pe(ye[me],me):ye[me]);return Q.length=me,Q}},"./node_modules/core-js/internals/array-includes.js":function(h,p,m){var x=m("./node_modules/core-js/internals/to-indexed-object.js"),w=m("./node_modules/core-js/internals/to-length.js"),l=m("./node_modules/core-js/internals/to-absolute-index.js");h.exports=function(L){return function(H,q,J){var oe=x(H),de=w(oe.length),ye=l(J,de),ne;if(L&&q!=q){for(;de>ye;)if(ne=oe[ye++],ne!=ne)return!0}else for(;de>ye;ye++)if((L||ye in oe)&&oe[ye]===q)return L||ye||0;return!L&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(h,p,m){var x=m("./node_modules/core-js/internals/a-function.js");h.exports=function(w,l,L){if(x(w),l===void 0)return w;switch(L){case 0:return function(){return w.call(l)};case 1:return function(H){return w.call(l,H)};case 2:return function(H,q){return w.call(l,H,q)};case 3:return function(H,q,J){return w.call(l,H,q,J)}}return function(){return w.apply(l,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(h,p,m){var x=m("./node_modules/core-js/internals/an-object.js");h.exports=function(w,l,L,H){try{return H?l(x(L)[0],L[1]):l(L)}catch(J){var q=w.return;throw q!==void 0&&x(q.call(w)),J}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(h,p,m){var x=m("./node_modules/core-js/internals/well-known-symbol.js"),w=x("iterator"),l=!1;try{var L=0,H={next:function(){return{done:!!L++}},return:function(){l=!0}};H[w]=function(){return this},Array.from(H,function(){throw 2})}catch{}h.exports=function(q,J){if(!J&&!l)return!1;var oe=!1;try{var de={};de[w]=function(){return{next:function(){return{done:oe=!0}}}},q(de)}catch{}return oe}},"./node_modules/core-js/internals/classof-raw.js":function(h,p){var m={}.toString;h.exports=function(x){return m.call(x).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(h,p,m){var x=m("./node_modules/core-js/internals/classof-raw.js"),w=m("./node_modules/core-js/internals/well-known-symbol.js"),l=w("toStringTag"),L=x(function(){return arguments}())=="Arguments",H=function(q,J){try{return q[J]}catch{}};h.exports=function(q){var J,oe,de;return q===void 0?"Undefined":q===null?"Null":typeof(oe=H(J=Object(q),l))=="string"?oe:L?x(J):(de=x(J))=="Object"&&typeof J.callee=="function"?"Arguments":de}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(h,p,m){var x=m("./node_modules/core-js/internals/has.js"),w=m("./node_modules/core-js/internals/own-keys.js"),l=m("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),L=m("./node_modules/core-js/internals/object-define-property.js");h.exports=function(H,q){for(var J=w(q),oe=L.f,de=l.f,ye=0;ye<J.length;ye++){var ne=J[ye];x(H,ne)||oe(H,ne,de(q,ne))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(h,p,m){var x=m("./node_modules/core-js/internals/fails.js");h.exports=!x(function(){function w(){}return w.prototype.constructor=null,Object.getPrototypeOf(new w)!==w.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(h,p,m){var x=m("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,w=m("./node_modules/core-js/internals/object-create.js"),l=m("./node_modules/core-js/internals/create-property-descriptor.js"),L=m("./node_modules/core-js/internals/set-to-string-tag.js"),H=m("./node_modules/core-js/internals/iterators.js"),q=function(){return this};h.exports=function(J,oe,de){var ye=oe+" Iterator";return J.prototype=w(x,{next:l(1,de)}),L(J,ye,!1,!0),H[ye]=q,J}},"./node_modules/core-js/internals/create-property-descriptor.js":function(h,p){h.exports=function(m,x){return{enumerable:!(m&1),configurable:!(m&2),writable:!(m&4),value:x}}},"./node_modules/core-js/internals/create-property.js":function(h,p,m){var x=m("./node_modules/core-js/internals/to-primitive.js"),w=m("./node_modules/core-js/internals/object-define-property.js"),l=m("./node_modules/core-js/internals/create-property-descriptor.js");h.exports=function(L,H,q){var J=x(H);J in L?w.f(L,J,l(0,q)):L[J]=q}},"./node_modules/core-js/internals/define-iterator.js":function(h,p,m){var x=m("./node_modules/core-js/internals/export.js"),w=m("./node_modules/core-js/internals/create-iterator-constructor.js"),l=m("./node_modules/core-js/internals/object-get-prototype-of.js"),L=m("./node_modules/core-js/internals/object-set-prototype-of.js"),H=m("./node_modules/core-js/internals/set-to-string-tag.js"),q=m("./node_modules/core-js/internals/hide.js"),J=m("./node_modules/core-js/internals/redefine.js"),oe=m("./node_modules/core-js/internals/well-known-symbol.js"),de=m("./node_modules/core-js/internals/is-pure.js"),ye=m("./node_modules/core-js/internals/iterators.js"),ne=m("./node_modules/core-js/internals/iterators-core.js"),X=ne.IteratorPrototype,pe=ne.BUGGY_SAFARI_ITERATORS,ve=oe("iterator"),me="keys",it="values",Ye="entries",Q=function(){return this};h.exports=function(Dt,St,At,ui,Ue,Pe,De){w(At,St,ui);var te=function(Ie){if(Ie===Ue&&ot)return ot;if(!pe&&Ie in Se)return Se[Ie];switch(Ie){case me:return function(){return new At(this,Ie)};case it:return function(){return new At(this,Ie)};case Ye:return function(){return new At(this,Ie)}}return function(){return new At(this)}},fe=St+" Iterator",le=!1,Se=Dt.prototype,Re=Se[ve]||Se["@@iterator"]||Ue&&Se[Ue],ot=!pe&&Re||te(Ue),ht=St=="Array"&&Se.entries||Re,Pt,Ne,Ze;if(ht&&(Pt=l(ht.call(new Dt)),X!==Object.prototype&&Pt.next&&(!de&&l(Pt)!==X&&(L?L(Pt,X):typeof Pt[ve]!="function"&&q(Pt,ve,Q)),H(Pt,fe,!0,!0),de&&(ye[fe]=Q))),Ue==it&&Re&&Re.name!==it&&(le=!0,ot=function(){return Re.call(this)}),(!de||De)&&Se[ve]!==ot&&q(Se,ve,ot),ye[St]=ot,Ue)if(Ne={values:te(it),keys:Pe?ot:te(me),entries:te(Ye)},De)for(Ze in Ne)(pe||le||!(Ze in Se))&&J(Se,Ze,Ne[Ze]);else x({target:St,proto:!0,forced:pe||le},Ne);return Ne}},"./node_modules/core-js/internals/descriptors.js":function(h,p,m){var x=m("./node_modules/core-js/internals/fails.js");h.exports=!x(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/is-object.js"),l=x.document,L=w(l)&&w(l.createElement);h.exports=function(H){return L?l.createElement(H):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(h,p){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,l=m("./node_modules/core-js/internals/hide.js"),L=m("./node_modules/core-js/internals/redefine.js"),H=m("./node_modules/core-js/internals/set-global.js"),q=m("./node_modules/core-js/internals/copy-constructor-properties.js"),J=m("./node_modules/core-js/internals/is-forced.js");h.exports=function(oe,de){var ye=oe.target,ne=oe.global,X=oe.stat,pe,ve,me,it,Ye,Q;if(ne?ve=x:X?ve=x[ye]||H(ye,{}):ve=(x[ye]||{}).prototype,ve)for(me in de){if(Ye=de[me],oe.noTargetGet?(Q=w(ve,me),it=Q&&Q.value):it=ve[me],pe=J(ne?me:ye+(X?".":"#")+me,oe.forced),!pe&&it!==void 0){if(typeof Ye==typeof it)continue;q(Ye,it)}(oe.sham||it&&it.sham)&&l(Ye,"sham",!0),L(ve,me,Ye,oe)}}},"./node_modules/core-js/internals/fails.js":function(h,p){h.exports=function(m){try{return!!m()}catch{return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(h,p,m){var x=m("./node_modules/core-js/internals/shared.js");h.exports=x("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(h,p,m){var x=m("./node_modules/core-js/internals/classof.js"),w=m("./node_modules/core-js/internals/iterators.js"),l=m("./node_modules/core-js/internals/well-known-symbol.js"),L=l("iterator");h.exports=function(H){if(H!=null)return H[L]||H["@@iterator"]||w[x(H)]}},"./node_modules/core-js/internals/global.js":function(h,p,m){(function(x){var w="object",l=function(L){return L&&L.Math==Math&&L};h.exports=l(typeof globalThis==w&&globalThis)||l(typeof window==w&&window)||l(typeof self==w&&self)||l(typeof x==w&&x)||Function("return this")()}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(h,p){var m={}.hasOwnProperty;h.exports=function(x,w){return m.call(x,w)}},"./node_modules/core-js/internals/hidden-keys.js":function(h,p){h.exports={}},"./node_modules/core-js/internals/hide.js":function(h,p,m){var x=m("./node_modules/core-js/internals/descriptors.js"),w=m("./node_modules/core-js/internals/object-define-property.js"),l=m("./node_modules/core-js/internals/create-property-descriptor.js");h.exports=x?function(L,H,q){return w.f(L,H,l(1,q))}:function(L,H,q){return L[H]=q,L}},"./node_modules/core-js/internals/html.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=x.document;h.exports=w&&w.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(h,p,m){var x=m("./node_modules/core-js/internals/descriptors.js"),w=m("./node_modules/core-js/internals/fails.js"),l=m("./node_modules/core-js/internals/document-create-element.js");h.exports=!x&&!w(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(h,p,m){var x=m("./node_modules/core-js/internals/fails.js"),w=m("./node_modules/core-js/internals/classof-raw.js"),l="".split;h.exports=x(function(){return!Object("z").propertyIsEnumerable(0)})?function(L){return w(L)=="String"?l.call(L,""):Object(L)}:Object},"./node_modules/core-js/internals/internal-state.js":function(h,p,m){var x=m("./node_modules/core-js/internals/native-weak-map.js"),w=m("./node_modules/core-js/internals/global.js"),l=m("./node_modules/core-js/internals/is-object.js"),L=m("./node_modules/core-js/internals/hide.js"),H=m("./node_modules/core-js/internals/has.js"),q=m("./node_modules/core-js/internals/shared-key.js"),J=m("./node_modules/core-js/internals/hidden-keys.js"),oe=w.WeakMap,de,ye,ne,X=function(Dt){return ne(Dt)?ye(Dt):de(Dt,{})},pe=function(Dt){return function(St){var At;if(!l(St)||(At=ye(St)).type!==Dt)throw TypeError("Incompatible receiver, "+Dt+" required");return At}};if(x){var ve=new oe,me=ve.get,it=ve.has,Ye=ve.set;de=function(Dt,St){return Ye.call(ve,Dt,St),St},ye=function(Dt){return me.call(ve,Dt)||{}},ne=function(Dt){return it.call(ve,Dt)}}else{var Q=q("state");J[Q]=!0,de=function(Dt,St){return L(Dt,Q,St),St},ye=function(Dt){return H(Dt,Q)?Dt[Q]:{}},ne=function(Dt){return H(Dt,Q)}}h.exports={set:de,get:ye,has:ne,enforce:X,getterFor:pe}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(h,p,m){var x=m("./node_modules/core-js/internals/well-known-symbol.js"),w=m("./node_modules/core-js/internals/iterators.js"),l=x("iterator"),L=Array.prototype;h.exports=function(H){return H!==void 0&&(w.Array===H||L[l]===H)}},"./node_modules/core-js/internals/is-forced.js":function(h,p,m){var x=m("./node_modules/core-js/internals/fails.js"),w=/#|\.prototype\./,l=function(oe,de){var ye=H[L(oe)];return ye==J?!0:ye==q?!1:typeof de=="function"?x(de):!!de},L=l.normalize=function(oe){return String(oe).replace(w,".").toLowerCase()},H=l.data={},q=l.NATIVE="N",J=l.POLYFILL="P";h.exports=l},"./node_modules/core-js/internals/is-object.js":function(h,p){h.exports=function(m){return typeof m=="object"?m!==null:typeof m=="function"}},"./node_modules/core-js/internals/is-pure.js":function(h,p){h.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(h,p,m){var x=m("./node_modules/core-js/internals/object-get-prototype-of.js"),w=m("./node_modules/core-js/internals/hide.js"),l=m("./node_modules/core-js/internals/has.js"),L=m("./node_modules/core-js/internals/well-known-symbol.js"),H=m("./node_modules/core-js/internals/is-pure.js"),q=L("iterator"),J=!1,oe=function(){return this},de,ye,ne;[].keys&&(ne=[].keys(),"next"in ne?(ye=x(x(ne)),ye!==Object.prototype&&(de=ye)):J=!0),de==null&&(de={}),!H&&!l(de,q)&&w(de,q,oe),h.exports={IteratorPrototype:de,BUGGY_SAFARI_ITERATORS:J}},"./node_modules/core-js/internals/iterators.js":function(h,p){h.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(h,p,m){var x=m("./node_modules/core-js/internals/fails.js");h.exports=!!Object.getOwnPropertySymbols&&!x(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/function-to-string.js"),l=x.WeakMap;h.exports=typeof l=="function"&&/native code/.test(w.call(l))},"./node_modules/core-js/internals/object-create.js":function(h,p,m){var x=m("./node_modules/core-js/internals/an-object.js"),w=m("./node_modules/core-js/internals/object-define-properties.js"),l=m("./node_modules/core-js/internals/enum-bug-keys.js"),L=m("./node_modules/core-js/internals/hidden-keys.js"),H=m("./node_modules/core-js/internals/html.js"),q=m("./node_modules/core-js/internals/document-create-element.js"),J=m("./node_modules/core-js/internals/shared-key.js"),oe=J("IE_PROTO"),de="prototype",ye=function(){},ne=function(){var X=q("iframe"),pe=l.length,ve="<",me="script",it=">",Ye="java"+me+":",Q;for(X.style.display="none",H.appendChild(X),X.src=String(Ye),Q=X.contentWindow.document,Q.open(),Q.write(ve+me+it+"document.F=Object"+ve+"/"+me+it),Q.close(),ne=Q.F;pe--;)delete ne[de][l[pe]];return ne()};h.exports=Object.create||function(pe,ve){var me;return pe!==null?(ye[de]=x(pe),me=new ye,ye[de]=null,me[oe]=pe):me=ne(),ve===void 0?me:w(me,ve)},L[oe]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(h,p,m){var x=m("./node_modules/core-js/internals/descriptors.js"),w=m("./node_modules/core-js/internals/object-define-property.js"),l=m("./node_modules/core-js/internals/an-object.js"),L=m("./node_modules/core-js/internals/object-keys.js");h.exports=x?Object.defineProperties:function(q,J){l(q);for(var oe=L(J),de=oe.length,ye=0,ne;de>ye;)w.f(q,ne=oe[ye++],J[ne]);return q}},"./node_modules/core-js/internals/object-define-property.js":function(h,p,m){var x=m("./node_modules/core-js/internals/descriptors.js"),w=m("./node_modules/core-js/internals/ie8-dom-define.js"),l=m("./node_modules/core-js/internals/an-object.js"),L=m("./node_modules/core-js/internals/to-primitive.js"),H=Object.defineProperty;p.f=x?H:function(J,oe,de){if(l(J),oe=L(oe,!0),l(de),w)try{return H(J,oe,de)}catch{}if("get"in de||"set"in de)throw TypeError("Accessors not supported");return"value"in de&&(J[oe]=de.value),J}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(h,p,m){var x=m("./node_modules/core-js/internals/descriptors.js"),w=m("./node_modules/core-js/internals/object-property-is-enumerable.js"),l=m("./node_modules/core-js/internals/create-property-descriptor.js"),L=m("./node_modules/core-js/internals/to-indexed-object.js"),H=m("./node_modules/core-js/internals/to-primitive.js"),q=m("./node_modules/core-js/internals/has.js"),J=m("./node_modules/core-js/internals/ie8-dom-define.js"),oe=Object.getOwnPropertyDescriptor;p.f=x?oe:function(ye,ne){if(ye=L(ye),ne=H(ne,!0),J)try{return oe(ye,ne)}catch{}if(q(ye,ne))return l(!w.f.call(ye,ne),ye[ne])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(h,p,m){var x=m("./node_modules/core-js/internals/object-keys-internal.js"),w=m("./node_modules/core-js/internals/enum-bug-keys.js"),l=w.concat("length","prototype");p.f=Object.getOwnPropertyNames||function(H){return x(H,l)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(h,p){p.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(h,p,m){var x=m("./node_modules/core-js/internals/has.js"),w=m("./node_modules/core-js/internals/to-object.js"),l=m("./node_modules/core-js/internals/shared-key.js"),L=m("./node_modules/core-js/internals/correct-prototype-getter.js"),H=l("IE_PROTO"),q=Object.prototype;h.exports=L?Object.getPrototypeOf:function(J){return J=w(J),x(J,H)?J[H]:typeof J.constructor=="function"&&J instanceof J.constructor?J.constructor.prototype:J instanceof Object?q:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(h,p,m){var x=m("./node_modules/core-js/internals/has.js"),w=m("./node_modules/core-js/internals/to-indexed-object.js"),l=m("./node_modules/core-js/internals/array-includes.js"),L=m("./node_modules/core-js/internals/hidden-keys.js"),H=l(!1);h.exports=function(q,J){var oe=w(q),de=0,ye=[],ne;for(ne in oe)!x(L,ne)&&x(oe,ne)&&ye.push(ne);for(;J.length>de;)x(oe,ne=J[de++])&&(~H(ye,ne)||ye.push(ne));return ye}},"./node_modules/core-js/internals/object-keys.js":function(h,p,m){var x=m("./node_modules/core-js/internals/object-keys-internal.js"),w=m("./node_modules/core-js/internals/enum-bug-keys.js");h.exports=Object.keys||function(L){return x(L,w)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(h,p,m){var x={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,l=w&&!x.call({1:2},1);p.f=l?function(H){var q=w(this,H);return!!q&&q.enumerable}:x},"./node_modules/core-js/internals/object-set-prototype-of.js":function(h,p,m){var x=m("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w=!1,l={},L;try{L=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,L.call(l,[]),w=l instanceof Array}catch{}return function(q,J){return x(q,J),w?L.call(q,J):q.__proto__=J,q}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/object-get-own-property-names.js"),l=m("./node_modules/core-js/internals/object-get-own-property-symbols.js"),L=m("./node_modules/core-js/internals/an-object.js"),H=x.Reflect;h.exports=H&&H.ownKeys||function(J){var oe=w.f(L(J)),de=l.f;return de?oe.concat(de(J)):oe}},"./node_modules/core-js/internals/path.js":function(h,p,m){h.exports=m("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/shared.js"),l=m("./node_modules/core-js/internals/hide.js"),L=m("./node_modules/core-js/internals/has.js"),H=m("./node_modules/core-js/internals/set-global.js"),q=m("./node_modules/core-js/internals/function-to-string.js"),J=m("./node_modules/core-js/internals/internal-state.js"),oe=J.get,de=J.enforce,ye=String(q).split("toString");w("inspectSource",function(ne){return q.call(ne)}),(h.exports=function(ne,X,pe,ve){var me=ve?!!ve.unsafe:!1,it=ve?!!ve.enumerable:!1,Ye=ve?!!ve.noTargetGet:!1;if(typeof pe=="function"&&(typeof X=="string"&&!L(pe,"name")&&l(pe,"name",X),de(pe).source=ye.join(typeof X=="string"?X:"")),ne===x){it?ne[X]=pe:H(X,pe);return}else me?!Ye&&ne[X]&&(it=!0):delete ne[X];it?ne[X]=pe:l(ne,X,pe)})(Function.prototype,"toString",function(){return typeof this=="function"&&oe(this).source||q.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(h,p){h.exports=function(m){if(m==null)throw TypeError("Can't call method on "+m);return m}},"./node_modules/core-js/internals/set-global.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/hide.js");h.exports=function(l,L){try{w(x,l,L)}catch{x[l]=L}return L}},"./node_modules/core-js/internals/set-to-string-tag.js":function(h,p,m){var x=m("./node_modules/core-js/internals/object-define-property.js").f,w=m("./node_modules/core-js/internals/has.js"),l=m("./node_modules/core-js/internals/well-known-symbol.js"),L=l("toStringTag");h.exports=function(H,q,J){H&&!w(H=J?H:H.prototype,L)&&x(H,L,{configurable:!0,value:q})}},"./node_modules/core-js/internals/shared-key.js":function(h,p,m){var x=m("./node_modules/core-js/internals/shared.js"),w=m("./node_modules/core-js/internals/uid.js"),l=x("keys");h.exports=function(L){return l[L]||(l[L]=w(L))}},"./node_modules/core-js/internals/shared.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/set-global.js"),l=m("./node_modules/core-js/internals/is-pure.js"),L="__core-js_shared__",H=x[L]||w(L,{});(h.exports=function(q,J){return H[q]||(H[q]=J!==void 0?J:{})})("versions",[]).push({version:"3.1.3",mode:l?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(h,p,m){var x=m("./node_modules/core-js/internals/to-integer.js"),w=m("./node_modules/core-js/internals/require-object-coercible.js");h.exports=function(l,L,H){var q=String(w(l)),J=x(L),oe=q.length,de,ye;return J<0||J>=oe?H?"":void 0:(de=q.charCodeAt(J),de<55296||de>56319||J+1===oe||(ye=q.charCodeAt(J+1))<56320||ye>57343?H?q.charAt(J):de:H?q.slice(J,J+2):(de-55296<<10)+(ye-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(h,p,m){var x=m("./node_modules/core-js/internals/to-integer.js"),w=Math.max,l=Math.min;h.exports=function(L,H){var q=x(L);return q<0?w(q+H,0):l(q,H)}},"./node_modules/core-js/internals/to-indexed-object.js":function(h,p,m){var x=m("./node_modules/core-js/internals/indexed-object.js"),w=m("./node_modules/core-js/internals/require-object-coercible.js");h.exports=function(l){return x(w(l))}},"./node_modules/core-js/internals/to-integer.js":function(h,p){var m=Math.ceil,x=Math.floor;h.exports=function(w){return isNaN(w=+w)?0:(w>0?x:m)(w)}},"./node_modules/core-js/internals/to-length.js":function(h,p,m){var x=m("./node_modules/core-js/internals/to-integer.js"),w=Math.min;h.exports=function(l){return l>0?w(x(l),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(h,p,m){var x=m("./node_modules/core-js/internals/require-object-coercible.js");h.exports=function(w){return Object(x(w))}},"./node_modules/core-js/internals/to-primitive.js":function(h,p,m){var x=m("./node_modules/core-js/internals/is-object.js");h.exports=function(w,l){if(!x(w))return w;var L,H;if(l&&typeof(L=w.toString)=="function"&&!x(H=L.call(w))||typeof(L=w.valueOf)=="function"&&!x(H=L.call(w))||!l&&typeof(L=w.toString)=="function"&&!x(H=L.call(w)))return H;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(h,p){var m=0,x=Math.random();h.exports=function(w){return"Symbol(".concat(w===void 0?"":w,")_",(++m+x).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(h,p,m){var x=m("./node_modules/core-js/internals/is-object.js"),w=m("./node_modules/core-js/internals/an-object.js");h.exports=function(l,L){if(w(l),!x(L)&&L!==null)throw TypeError("Can't set "+String(L)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(h,p,m){var x=m("./node_modules/core-js/internals/global.js"),w=m("./node_modules/core-js/internals/shared.js"),l=m("./node_modules/core-js/internals/uid.js"),L=m("./node_modules/core-js/internals/native-symbol.js"),H=x.Symbol,q=w("wks");h.exports=function(J){return q[J]||(q[J]=L&&H[J]||(L?H:l)("Symbol."+J))}},"./node_modules/core-js/modules/es.array.from.js":function(h,p,m){var x=m("./node_modules/core-js/internals/export.js"),w=m("./node_modules/core-js/internals/array-from.js"),l=m("./node_modules/core-js/internals/check-correctness-of-iteration.js"),L=!l(function(H){Array.from(H)});x({target:"Array",stat:!0,forced:L},{from:w})},"./node_modules/core-js/modules/es.string.iterator.js":function(h,p,m){var x=m("./node_modules/core-js/internals/string-at.js"),w=m("./node_modules/core-js/internals/internal-state.js"),l=m("./node_modules/core-js/internals/define-iterator.js"),L="String Iterator",H=w.set,q=w.getterFor(L);l(String,"String",function(J){H(this,{type:L,string:String(J),index:0})},function(){var oe=q(this),de=oe.string,ye=oe.index,ne;return ye>=de.length?{value:void 0,done:!0}:(ne=x(de,ye,!0),oe.index+=ne.length,{value:ne,done:!1})})},"./node_modules/webpack/buildin/global.js":function(h,p){var m;m=function(){return this}();try{m=m||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(m=window)}h.exports=m},"./src/default-attrs.json":function(h){h.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(h,p,m){Object.defineProperty(p,"__esModule",{value:!0});var x=Object.assign||function(ne){for(var X=1;X<arguments.length;X++){var pe=arguments[X];for(var ve in pe)Object.prototype.hasOwnProperty.call(pe,ve)&&(ne[ve]=pe[ve])}return ne},w=function(){function ne(X,pe){for(var ve=0;ve<pe.length;ve++){var me=pe[ve];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(X,me.key,me)}}return function(X,pe,ve){return pe&&ne(X.prototype,pe),ve&&ne(X,ve),X}}(),l=m("./node_modules/classnames/dedupe.js"),L=J(l),H=m("./src/default-attrs.json"),q=J(H);function J(ne){return ne&&ne.__esModule?ne:{default:ne}}function oe(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}var de=function(){function ne(X,pe){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];oe(this,ne),this.name=X,this.contents=pe,this.tags=ve,this.attrs=x({},q.default,{class:"feather feather-"+X})}return w(ne,[{key:"toSvg",value:function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=x({},this.attrs,pe,{class:(0,L.default)(this.attrs.class,pe.class)});return"<svg "+ye(ve)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),ne}();function ye(ne){return Object.keys(ne).map(function(X){return X+'="'+ne[X]+'"'}).join(" ")}p.default=de},"./src/icons.js":function(h,p,m){Object.defineProperty(p,"__esModule",{value:!0});var x=m("./src/icon.js"),w=J(x),l=m("./dist/icons.json"),L=J(l),H=m("./src/tags.json"),q=J(H);function J(oe){return oe&&oe.__esModule?oe:{default:oe}}p.default=Object.keys(L.default).map(function(oe){return new w.default(oe,L.default[oe],q.default[oe])}).reduce(function(oe,de){return oe[de.name]=de,oe},{})},"./src/index.js":function(h,p,m){var x=m("./src/icons.js"),w=J(x),l=m("./src/to-svg.js"),L=J(l),H=m("./src/replace.js"),q=J(H);function J(oe){return oe&&oe.__esModule?oe:{default:oe}}h.exports={icons:w.default,toSvg:L.default,replace:q.default}},"./src/replace.js":function(h,p,m){Object.defineProperty(p,"__esModule",{value:!0});var x=Object.assign||function(ye){for(var ne=1;ne<arguments.length;ne++){var X=arguments[ne];for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&(ye[pe]=X[pe])}return ye},w=m("./node_modules/classnames/dedupe.js"),l=q(w),L=m("./src/icons.js"),H=q(L);function q(ye){return ye&&ye.__esModule?ye:{default:ye}}function J(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var ne=document.querySelectorAll("[data-feather]");Array.from(ne).forEach(function(X){return oe(X,ye)})}function oe(ye){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=de(ye),pe=X["data-feather"];delete X["data-feather"];var ve=H.default[pe].toSvg(x({},ne,X,{class:(0,l.default)(ne.class,X.class)})),me=new DOMParser().parseFromString(ve,"image/svg+xml"),it=me.querySelector("svg");ye.parentNode.replaceChild(it,ye)}function de(ye){return Array.from(ye.attributes).reduce(function(ne,X){return ne[X.name]=X.value,ne},{})}p.default=J},"./src/tags.json":function(h){h.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-bouy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(h,p,m){Object.defineProperty(p,"__esModule",{value:!0});var x=m("./src/icons.js"),w=l(x);function l(H){return H&&H.__esModule?H:{default:H}}function L(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!H)throw new Error("The required `key` (icon name) parameter is missing.");if(!w.default[H])throw new Error("No icon matching '"+H+"'. See the complete list of icons at https://feathericons.com");return w.default[H].toSvg(q)}p.default=L},0:function(h,p,m){m("./node_modules/core-js/es/array/from.js"),h.exports=m("./src/index.js")}})})})(pM);const f6=j2(qv);document.addEventListener("DOMContentLoaded",()=>{f6.replace()});window.feather=f6;//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var p6;function er(){return p6.apply(null,arguments)}function mM(e){p6=e}function gc(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Au(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Cn(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Y2(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var r;for(r in e)if(Cn(e,r))return!1;return!0}function Ho(e){return e===void 0}function gh(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function vf(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function m6(e,r){var h=[],p;for(p=0;p<e.length;++p)h.push(r(e[p],p));return h}function Yh(e,r){for(var h in r)Cn(r,h)&&(e[h]=r[h]);return Cn(r,"toString")&&(e.toString=r.toString),Cn(r,"valueOf")&&(e.valueOf=r.valueOf),e}function $c(e,r,h,p){return B6(e,r,h,p,!0).utc()}function gM(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Wr(e){return e._pf==null&&(e._pf=gM()),e._pf}var Kv;Array.prototype.some?Kv=Array.prototype.some:Kv=function(e){var r=Object(this),h=r.length>>>0,p;for(p=0;p<h;p++)if(p in r&&e.call(this,r[p],p,r))return!0;return!1};function $2(e){if(e._isValid==null){var r=Wr(e),h=Kv.call(r.parsedDateParts,function(m){return m!=null}),p=!isNaN(e._d.getTime())&&r.overflow<0&&!r.empty&&!r.invalidEra&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&h);if(e._strict&&(p=p&&r.charsLeftOver===0&&r.unusedTokens.length===0&&r.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=p;else return p}return e._isValid}function O1(e){var r=$c(NaN);return e!=null?Yh(Wr(r),e):Wr(r).userInvalidated=!0,r}var wg=er.momentProperties=[],Eg=!1;function X2(e,r){var h,p,m;if(Ho(r._isAMomentObject)||(e._isAMomentObject=r._isAMomentObject),Ho(r._i)||(e._i=r._i),Ho(r._f)||(e._f=r._f),Ho(r._l)||(e._l=r._l),Ho(r._strict)||(e._strict=r._strict),Ho(r._tzm)||(e._tzm=r._tzm),Ho(r._isUTC)||(e._isUTC=r._isUTC),Ho(r._offset)||(e._offset=r._offset),Ho(r._pf)||(e._pf=Wr(r)),Ho(r._locale)||(e._locale=r._locale),wg.length>0)for(h=0;h<wg.length;h++)p=wg[h],m=r[p],Ho(m)||(e[p]=m);return e}function yf(e){X2(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Eg===!1&&(Eg=!0,er.updateOffset(this),Eg=!1)}function vc(e){return e instanceof yf||e!=null&&e._isAMomentObject!=null}function g6(e){er.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Hl(e,r){var h=!0;return Yh(function(){if(er.deprecationHandler!=null&&er.deprecationHandler(null,e),h){var p=[],m,x,w;for(x=0;x<arguments.length;x++){if(m="",typeof arguments[x]=="object"){m+=`
[`+x+"] ";for(w in arguments[0])Cn(arguments[0],w)&&(m+=w+": "+arguments[0][w]+", ");m=m.slice(0,-2)}else m=arguments[x];p.push(m)}g6(e+`
Arguments: `+Array.prototype.slice.call(p).join("")+`
`+new Error().stack),h=!1}return r.apply(this,arguments)},r)}var i3={};function v6(e,r){er.deprecationHandler!=null&&er.deprecationHandler(e,r),i3[e]||(g6(r),i3[e]=!0)}er.suppressDeprecationWarnings=!1;er.deprecationHandler=null;function Xc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function vM(e){var r,h;for(h in e)Cn(e,h)&&(r=e[h],Xc(r)?this[h]=r:this["_"+h]=r);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Jv(e,r){var h=Yh({},e),p;for(p in r)Cn(r,p)&&(Au(e[p])&&Au(r[p])?(h[p]={},Yh(h[p],e[p]),Yh(h[p],r[p])):r[p]!=null?h[p]=r[p]:delete h[p]);for(p in e)Cn(e,p)&&!Cn(r,p)&&Au(e[p])&&(h[p]=Yh({},h[p]));return h}function Z2(e){e!=null&&this.set(e)}var Qv;Object.keys?Qv=Object.keys:Qv=function(e){var r,h=[];for(r in e)Cn(e,r)&&h.push(r);return h};var yM={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function xM(e,r,h){var p=this._calendar[e]||this._calendar.sameElse;return Xc(p)?p.call(r,h):p}function Yc(e,r,h){var p=""+Math.abs(e),m=r-p.length,x=e>=0;return(x?h?"+":"":"-")+Math.pow(10,Math.max(0,m)).toString().substr(1)+p}var q2=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,mp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Tg={},Dd={};function br(e,r,h,p){var m=p;typeof p=="string"&&(m=function(){return this[p]()}),e&&(Dd[e]=m),r&&(Dd[r[0]]=function(){return Yc(m.apply(this,arguments),r[1],r[2])}),h&&(Dd[h]=function(){return this.localeData().ordinal(m.apply(this,arguments),e)})}function _M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function bM(e){var r=e.match(q2),h,p;for(h=0,p=r.length;h<p;h++)Dd[r[h]]?r[h]=Dd[r[h]]:r[h]=_M(r[h]);return function(m){var x="",w;for(w=0;w<p;w++)x+=Xc(r[w])?r[w].call(m,e):r[w];return x}}function Vp(e,r){return e.isValid()?(r=y6(r,e.localeData()),Tg[r]=Tg[r]||bM(r),Tg[r](e)):e.localeData().invalidDate()}function y6(e,r){var h=5;function p(m){return r.longDateFormat(m)||m}for(mp.lastIndex=0;h>=0&&mp.test(e);)e=e.replace(mp,p),mp.lastIndex=0,h-=1;return e}var wM={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function EM(e){var r=this._longDateFormat[e],h=this._longDateFormat[e.toUpperCase()];return r||!h?r:(this._longDateFormat[e]=h.match(q2).map(function(p){return p==="MMMM"||p==="MM"||p==="DD"||p==="dddd"?p.slice(1):p}).join(""),this._longDateFormat[e])}var TM="Invalid date";function SM(){return this._invalidDate}var AM="%d",MM=/\d{1,2}/;function CM(e){return this._ordinal.replace("%d",e)}var IM={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function kM(e,r,h,p){var m=this._relativeTime[h];return Xc(m)?m(e,r,h,p):m.replace(/%d/i,e)}function DM(e,r){var h=this._relativeTime[e>0?"future":"past"];return Xc(h)?h(r):h.replace(/%s/i,r)}var q0={};function ho(e,r){var h=e.toLowerCase();q0[h]=q0[h+"s"]=q0[r]=e}function Wl(e){return typeof e=="string"?q0[e]||q0[e.toLowerCase()]:void 0}function K2(e){var r={},h,p;for(p in e)Cn(e,p)&&(h=Wl(p),h&&(r[h]=e[p]));return r}var x6={};function uo(e,r){x6[e]=r}function PM(e){var r=[],h;for(h in e)Cn(e,h)&&r.push({unit:h,priority:x6[h]});return r.sort(function(p,m){return p.priority-m.priority}),r}function L1(e){return e%4===0&&e%100!==0||e%400===0}function jl(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function en(e){var r=+e,h=0;return r!==0&&isFinite(r)&&(h=jl(r)),h}function Hd(e,r){return function(h){return h!=null?(_6(this,e,h),er.updateOffset(this,r),this):l1(this,e)}}function l1(e,r){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+r]():NaN}function _6(e,r,h){e.isValid()&&!isNaN(h)&&(r==="FullYear"&&L1(e.year())&&e.month()===1&&e.date()===29?(h=en(h),e._d["set"+(e._isUTC?"UTC":"")+r](h,e.month(),j1(h,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+r](h))}function OM(e){return e=Wl(e),Xc(this[e])?this[e]():this}function LM(e,r){if(typeof e=="object"){e=K2(e);var h=PM(e),p;for(p=0;p<h.length;p++)this[h[p].unit](e[h[p].unit])}else if(e=Wl(e),Xc(this[e]))return this[e](r);return this}var b6=/\d/,hl=/\d\d/,w6=/\d{3}/,J2=/\d{4}/,R1=/[+-]?\d{6}/,fa=/\d\d?/,E6=/\d\d\d\d?/,T6=/\d\d\d\d\d\d?/,z1=/\d{1,3}/,Q2=/\d{1,4}/,N1=/[+-]?\d{1,6}/,Wd=/\d+/,F1=/[+-]?\d+/,RM=/Z|[+-]\d\d:?\d\d/gi,B1=/Z|[+-]\d\d(?::?\d\d)?/gi,zM=/[+-]?\d+(\.\d{1,3})?/,xf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,c1;c1={};function nr(e,r,h){c1[e]=Xc(r)?r:function(p,m){return p&&h?h:r}}function NM(e,r){return Cn(c1,e)?c1[e](r._strict,r._locale):new RegExp(FM(e))}function FM(e){return cl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(r,h,p,m,x){return h||p||m||x}))}function cl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var e2={};function $n(e,r){var h,p=r;for(typeof e=="string"&&(e=[e]),gh(r)&&(p=function(m,x){x[r]=en(m)}),h=0;h<e.length;h++)e2[e[h]]=p}function _f(e,r){$n(e,function(h,p,m,x){m._w=m._w||{},r(h,m._w,m,x)})}function BM(e,r,h){r!=null&&Cn(e2,e)&&e2[e](r,h._a,h,e)}var co=0,fh=1,Gc=2,xs=3,pc=4,ph=5,wu=6,jM=7,VM=8;function UM(e,r){return(e%r+r)%r}var Za;Array.prototype.indexOf?Za=Array.prototype.indexOf:Za=function(e){var r;for(r=0;r<this.length;++r)if(this[r]===e)return r;return-1};function j1(e,r){if(isNaN(e)||isNaN(r))return NaN;var h=UM(r,12);return e+=(r-h)/12,h===1?L1(e)?29:28:31-h%7%2}br("M",["MM",2],"Mo",function(){return this.month()+1});br("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});br("MMMM",0,0,function(e){return this.localeData().months(this,e)});ho("month","M");uo("month",8);nr("M",fa);nr("MM",fa,hl);nr("MMM",function(e,r){return r.monthsShortRegex(e)});nr("MMMM",function(e,r){return r.monthsRegex(e)});$n(["M","MM"],function(e,r){r[fh]=en(e)-1});$n(["MMM","MMMM"],function(e,r,h,p){var m=h._locale.monthsParse(e,p,h._strict);m!=null?r[fh]=m:Wr(h).invalidMonth=e});var GM="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),S6="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),A6=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,HM=xf,WM=xf;function YM(e,r){return e?gc(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||A6).test(r)?"format":"standalone"][e.month()]:gc(this._months)?this._months:this._months.standalone}function $M(e,r){return e?gc(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[A6.test(r)?"format":"standalone"][e.month()]:gc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function XM(e,r,h){var p,m,x,w=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],p=0;p<12;++p)x=$c([2e3,p]),this._shortMonthsParse[p]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[p]=this.months(x,"").toLocaleLowerCase();return h?r==="MMM"?(m=Za.call(this._shortMonthsParse,w),m!==-1?m:null):(m=Za.call(this._longMonthsParse,w),m!==-1?m:null):r==="MMM"?(m=Za.call(this._shortMonthsParse,w),m!==-1?m:(m=Za.call(this._longMonthsParse,w),m!==-1?m:null)):(m=Za.call(this._longMonthsParse,w),m!==-1?m:(m=Za.call(this._shortMonthsParse,w),m!==-1?m:null))}function ZM(e,r,h){var p,m,x;if(this._monthsParseExact)return XM.call(this,e,r,h);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),p=0;p<12;p++){if(m=$c([2e3,p]),h&&!this._longMonthsParse[p]&&(this._longMonthsParse[p]=new RegExp("^"+this.months(m,"").replace(".","")+"$","i"),this._shortMonthsParse[p]=new RegExp("^"+this.monthsShort(m,"").replace(".","")+"$","i")),!h&&!this._monthsParse[p]&&(x="^"+this.months(m,"")+"|^"+this.monthsShort(m,""),this._monthsParse[p]=new RegExp(x.replace(".",""),"i")),h&&r==="MMMM"&&this._longMonthsParse[p].test(e))return p;if(h&&r==="MMM"&&this._shortMonthsParse[p].test(e))return p;if(!h&&this._monthsParse[p].test(e))return p}}function M6(e,r){var h;if(!e.isValid())return e;if(typeof r=="string"){if(/^\d+$/.test(r))r=en(r);else if(r=e.localeData().monthsParse(r),!gh(r))return e}return h=Math.min(e.date(),j1(e.year(),r)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](r,h),e}function C6(e){return e!=null?(M6(this,e),er.updateOffset(this,!0),this):l1(this,"Month")}function qM(){return j1(this.year(),this.month())}function KM(e){return this._monthsParseExact?(Cn(this,"_monthsRegex")||I6.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Cn(this,"_monthsShortRegex")||(this._monthsShortRegex=HM),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function JM(e){return this._monthsParseExact?(Cn(this,"_monthsRegex")||I6.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Cn(this,"_monthsRegex")||(this._monthsRegex=WM),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function I6(){function e(w,l){return l.length-w.length}var r=[],h=[],p=[],m,x;for(m=0;m<12;m++)x=$c([2e3,m]),r.push(this.monthsShort(x,"")),h.push(this.months(x,"")),p.push(this.months(x,"")),p.push(this.monthsShort(x,""));for(r.sort(e),h.sort(e),p.sort(e),m=0;m<12;m++)r[m]=cl(r[m]),h[m]=cl(h[m]);for(m=0;m<24;m++)p[m]=cl(p[m]);this._monthsRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}br("Y",0,0,function(){var e=this.year();return e<=9999?Yc(e,4):"+"+e});br(0,["YY",2],0,function(){return this.year()%100});br(0,["YYYY",4],0,"year");br(0,["YYYYY",5],0,"year");br(0,["YYYYYY",6,!0],0,"year");ho("year","y");uo("year",1);nr("Y",F1);nr("YY",fa,hl);nr("YYYY",Q2,J2);nr("YYYYY",N1,R1);nr("YYYYYY",N1,R1);$n(["YYYYY","YYYYYY"],co);$n("YYYY",function(e,r){r[co]=e.length===2?er.parseTwoDigitYear(e):en(e)});$n("YY",function(e,r){r[co]=er.parseTwoDigitYear(e)});$n("Y",function(e,r){r[co]=parseInt(e,10)});function K0(e){return L1(e)?366:365}er.parseTwoDigitYear=function(e){return en(e)+(en(e)>68?1900:2e3)};var k6=Hd("FullYear",!0);function QM(){return L1(this.year())}function eC(e,r,h,p,m,x,w){var l;return e<100&&e>=0?(l=new Date(e+400,r,h,p,m,x,w),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,r,h,p,m,x,w),l}function nf(e){var r,h;return e<100&&e>=0?(h=Array.prototype.slice.call(arguments),h[0]=e+400,r=new Date(Date.UTC.apply(null,h)),isFinite(r.getUTCFullYear())&&r.setUTCFullYear(e)):r=new Date(Date.UTC.apply(null,arguments)),r}function h1(e,r,h){var p=7+r-h,m=(7+nf(e,0,p).getUTCDay()-r)%7;return-m+p-1}function D6(e,r,h,p,m){var x=(7+h-p)%7,w=h1(e,p,m),l=1+7*(r-1)+x+w,L,H;return l<=0?(L=e-1,H=K0(L)+l):l>K0(e)?(L=e+1,H=l-K0(e)):(L=e,H=l),{year:L,dayOfYear:H}}function af(e,r,h){var p=h1(e.year(),r,h),m=Math.floor((e.dayOfYear()-p-1)/7)+1,x,w;return m<1?(w=e.year()-1,x=m+mh(w,r,h)):m>mh(e.year(),r,h)?(x=m-mh(e.year(),r,h),w=e.year()+1):(w=e.year(),x=m),{week:x,year:w}}function mh(e,r,h){var p=h1(e,r,h),m=h1(e+1,r,h);return(K0(e)-p+m)/7}br("w",["ww",2],"wo","week");br("W",["WW",2],"Wo","isoWeek");ho("week","w");ho("isoWeek","W");uo("week",5);uo("isoWeek",5);nr("w",fa);nr("ww",fa,hl);nr("W",fa);nr("WW",fa,hl);_f(["w","ww","W","WW"],function(e,r,h,p){r[p.substr(0,1)]=en(e)});function tC(e){return af(e,this._week.dow,this._week.doy).week}var iC={dow:0,doy:6};function rC(){return this._week.dow}function nC(){return this._week.doy}function aC(e){var r=this.localeData().week(this);return e==null?r:this.add((e-r)*7,"d")}function sC(e){var r=af(this,1,4).week;return e==null?r:this.add((e-r)*7,"d")}br("d",0,"do","day");br("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});br("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});br("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});br("e",0,0,"weekday");br("E",0,0,"isoWeekday");ho("day","d");ho("weekday","e");ho("isoWeekday","E");uo("day",11);uo("weekday",11);uo("isoWeekday",11);nr("d",fa);nr("e",fa);nr("E",fa);nr("dd",function(e,r){return r.weekdaysMinRegex(e)});nr("ddd",function(e,r){return r.weekdaysShortRegex(e)});nr("dddd",function(e,r){return r.weekdaysRegex(e)});_f(["dd","ddd","dddd"],function(e,r,h,p){var m=h._locale.weekdaysParse(e,p,h._strict);m!=null?r.d=m:Wr(h).invalidWeekday=e});_f(["d","e","E"],function(e,r,h,p){r[p]=en(e)});function oC(e,r){return typeof e!="string"?e:isNaN(e)?(e=r.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function lC(e,r){return typeof e=="string"?r.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ey(e,r){return e.slice(r,7).concat(e.slice(0,r))}var cC="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),P6="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hC="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),uC=xf,dC=xf,fC=xf;function pC(e,r){var h=gc(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(r)?"format":"standalone"];return e===!0?ey(h,this._week.dow):e?h[e.day()]:h}function mC(e){return e===!0?ey(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function gC(e){return e===!0?ey(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function vC(e,r,h){var p,m,x,w=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],p=0;p<7;++p)x=$c([2e3,1]).day(p),this._minWeekdaysParse[p]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[p]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[p]=this.weekdays(x,"").toLocaleLowerCase();return h?r==="dddd"?(m=Za.call(this._weekdaysParse,w),m!==-1?m:null):r==="ddd"?(m=Za.call(this._shortWeekdaysParse,w),m!==-1?m:null):(m=Za.call(this._minWeekdaysParse,w),m!==-1?m:null):r==="dddd"?(m=Za.call(this._weekdaysParse,w),m!==-1||(m=Za.call(this._shortWeekdaysParse,w),m!==-1)?m:(m=Za.call(this._minWeekdaysParse,w),m!==-1?m:null)):r==="ddd"?(m=Za.call(this._shortWeekdaysParse,w),m!==-1||(m=Za.call(this._weekdaysParse,w),m!==-1)?m:(m=Za.call(this._minWeekdaysParse,w),m!==-1?m:null)):(m=Za.call(this._minWeekdaysParse,w),m!==-1||(m=Za.call(this._weekdaysParse,w),m!==-1)?m:(m=Za.call(this._shortWeekdaysParse,w),m!==-1?m:null))}function yC(e,r,h){var p,m,x;if(this._weekdaysParseExact)return vC.call(this,e,r,h);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),p=0;p<7;p++){if(m=$c([2e3,1]).day(p),h&&!this._fullWeekdaysParse[p]&&(this._fullWeekdaysParse[p]=new RegExp("^"+this.weekdays(m,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[p]=new RegExp("^"+this.weekdaysShort(m,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[p]=new RegExp("^"+this.weekdaysMin(m,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[p]||(x="^"+this.weekdays(m,"")+"|^"+this.weekdaysShort(m,"")+"|^"+this.weekdaysMin(m,""),this._weekdaysParse[p]=new RegExp(x.replace(".",""),"i")),h&&r==="dddd"&&this._fullWeekdaysParse[p].test(e))return p;if(h&&r==="ddd"&&this._shortWeekdaysParse[p].test(e))return p;if(h&&r==="dd"&&this._minWeekdaysParse[p].test(e))return p;if(!h&&this._weekdaysParse[p].test(e))return p}}function xC(e){if(!this.isValid())return e!=null?this:NaN;var r=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=oC(e,this.localeData()),this.add(e-r,"d")):r}function _C(e){if(!this.isValid())return e!=null?this:NaN;var r=(this.day()+7-this.localeData()._week.dow)%7;return e==null?r:this.add(e-r,"d")}function bC(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var r=lC(e,this.localeData());return this.day(this.day()%7?r:r-7)}else return this.day()||7}function wC(e){return this._weekdaysParseExact?(Cn(this,"_weekdaysRegex")||ty.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Cn(this,"_weekdaysRegex")||(this._weekdaysRegex=uC),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function EC(e){return this._weekdaysParseExact?(Cn(this,"_weekdaysRegex")||ty.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Cn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=dC),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function TC(e){return this._weekdaysParseExact?(Cn(this,"_weekdaysRegex")||ty.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Cn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fC),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ty(){function e(q,J){return J.length-q.length}var r=[],h=[],p=[],m=[],x,w,l,L,H;for(x=0;x<7;x++)w=$c([2e3,1]).day(x),l=cl(this.weekdaysMin(w,"")),L=cl(this.weekdaysShort(w,"")),H=cl(this.weekdays(w,"")),r.push(l),h.push(L),p.push(H),m.push(l),m.push(L),m.push(H);r.sort(e),h.sort(e),p.sort(e),m.sort(e),this._weekdaysRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function iy(){return this.hours()%12||12}function SC(){return this.hours()||24}br("H",["HH",2],0,"hour");br("h",["hh",2],0,iy);br("k",["kk",2],0,SC);br("hmm",0,0,function(){return""+iy.apply(this)+Yc(this.minutes(),2)});br("hmmss",0,0,function(){return""+iy.apply(this)+Yc(this.minutes(),2)+Yc(this.seconds(),2)});br("Hmm",0,0,function(){return""+this.hours()+Yc(this.minutes(),2)});br("Hmmss",0,0,function(){return""+this.hours()+Yc(this.minutes(),2)+Yc(this.seconds(),2)});function O6(e,r){br(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),r)})}O6("a",!0);O6("A",!1);ho("hour","h");uo("hour",13);function L6(e,r){return r._meridiemParse}nr("a",L6);nr("A",L6);nr("H",fa);nr("h",fa);nr("k",fa);nr("HH",fa,hl);nr("hh",fa,hl);nr("kk",fa,hl);nr("hmm",E6);nr("hmmss",T6);nr("Hmm",E6);nr("Hmmss",T6);$n(["H","HH"],xs);$n(["k","kk"],function(e,r,h){var p=en(e);r[xs]=p===24?0:p});$n(["a","A"],function(e,r,h){h._isPm=h._locale.isPM(e),h._meridiem=e});$n(["h","hh"],function(e,r,h){r[xs]=en(e),Wr(h).bigHour=!0});$n("hmm",function(e,r,h){var p=e.length-2;r[xs]=en(e.substr(0,p)),r[pc]=en(e.substr(p)),Wr(h).bigHour=!0});$n("hmmss",function(e,r,h){var p=e.length-4,m=e.length-2;r[xs]=en(e.substr(0,p)),r[pc]=en(e.substr(p,2)),r[ph]=en(e.substr(m)),Wr(h).bigHour=!0});$n("Hmm",function(e,r,h){var p=e.length-2;r[xs]=en(e.substr(0,p)),r[pc]=en(e.substr(p))});$n("Hmmss",function(e,r,h){var p=e.length-4,m=e.length-2;r[xs]=en(e.substr(0,p)),r[pc]=en(e.substr(p,2)),r[ph]=en(e.substr(m))});function AC(e){return(e+"").toLowerCase().charAt(0)==="p"}var MC=/[ap]\.?m?\.?/i,CC=Hd("Hours",!0);function IC(e,r,h){return e>11?h?"pm":"PM":h?"am":"AM"}var R6={calendar:yM,longDateFormat:wM,invalidDate:TM,ordinal:AM,dayOfMonthOrdinalParse:MM,relativeTime:IM,months:GM,monthsShort:S6,week:iC,weekdays:cC,weekdaysMin:hC,weekdaysShort:P6,meridiemParse:MC},Sa={},B0={},sf;function kC(e,r){var h,p=Math.min(e.length,r.length);for(h=0;h<p;h+=1)if(e[h]!==r[h])return h;return p}function r3(e){return e&&e.toLowerCase().replace("_","-")}function DC(e){for(var r=0,h,p,m,x;r<e.length;){for(x=r3(e[r]).split("-"),h=x.length,p=r3(e[r+1]),p=p?p.split("-"):null;h>0;){if(m=V1(x.slice(0,h).join("-")),m)return m;if(p&&p.length>=h&&kC(x,p)>=h-1)break;h--}r++}return sf}function V1(e){var r=null,h;if(Sa[e]===void 0&&typeof n1<"u"&&n1&&n1.exports)try{r=sf._abbr,h=require,h("./locale/"+e),qh(r)}catch{Sa[e]=null}return Sa[e]}function qh(e,r){var h;return e&&(Ho(r)?h=_h(e):h=ry(e,r),h?sf=h:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sf._abbr}function ry(e,r){if(r!==null){var h,p=R6;if(r.abbr=e,Sa[e]!=null)v6("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),p=Sa[e]._config;else if(r.parentLocale!=null)if(Sa[r.parentLocale]!=null)p=Sa[r.parentLocale]._config;else if(h=V1(r.parentLocale),h!=null)p=h._config;else return B0[r.parentLocale]||(B0[r.parentLocale]=[]),B0[r.parentLocale].push({name:e,config:r}),null;return Sa[e]=new Z2(Jv(p,r)),B0[e]&&B0[e].forEach(function(m){ry(m.name,m.config)}),qh(e),Sa[e]}else return delete Sa[e],null}function PC(e,r){if(r!=null){var h,p,m=R6;Sa[e]!=null&&Sa[e].parentLocale!=null?Sa[e].set(Jv(Sa[e]._config,r)):(p=V1(e),p!=null&&(m=p._config),r=Jv(m,r),p==null&&(r.abbr=e),h=new Z2(r),h.parentLocale=Sa[e],Sa[e]=h),qh(e)}else Sa[e]!=null&&(Sa[e].parentLocale!=null?(Sa[e]=Sa[e].parentLocale,e===qh()&&qh(e)):Sa[e]!=null&&delete Sa[e]);return Sa[e]}function _h(e){var r;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sf;if(!gc(e)){if(r=V1(e),r)return r;e=[e]}return DC(e)}function OC(){return Qv(Sa)}function ny(e){var r,h=e._a;return h&&Wr(e).overflow===-2&&(r=h[fh]<0||h[fh]>11?fh:h[Gc]<1||h[Gc]>j1(h[co],h[fh])?Gc:h[xs]<0||h[xs]>24||h[xs]===24&&(h[pc]!==0||h[ph]!==0||h[wu]!==0)?xs:h[pc]<0||h[pc]>59?pc:h[ph]<0||h[ph]>59?ph:h[wu]<0||h[wu]>999?wu:-1,Wr(e)._overflowDayOfYear&&(r<co||r>Gc)&&(r=Gc),Wr(e)._overflowWeeks&&r===-1&&(r=jM),Wr(e)._overflowWeekday&&r===-1&&(r=VM),Wr(e).overflow=r),e}var LC=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,RC=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zC=/Z|[+-]\d\d(?::?\d\d)?/,gp=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],NC=/^\/?Date\((-?\d+)/i,FC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,BC={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function z6(e){var r,h,p=e._i,m=LC.exec(p)||RC.exec(p),x,w,l,L;if(m){for(Wr(e).iso=!0,r=0,h=gp.length;r<h;r++)if(gp[r][1].exec(m[1])){w=gp[r][0],x=gp[r][2]!==!1;break}if(w==null){e._isValid=!1;return}if(m[3]){for(r=0,h=Sg.length;r<h;r++)if(Sg[r][1].exec(m[3])){l=(m[2]||" ")+Sg[r][0];break}if(l==null){e._isValid=!1;return}}if(!x&&l!=null){e._isValid=!1;return}if(m[4])if(zC.exec(m[4]))L="Z";else{e._isValid=!1;return}e._f=w+(l||"")+(L||""),sy(e)}else e._isValid=!1}function jC(e,r,h,p,m,x){var w=[VC(e),S6.indexOf(r),parseInt(h,10),parseInt(p,10),parseInt(m,10)];return x&&w.push(parseInt(x,10)),w}function VC(e){var r=parseInt(e,10);return r<=49?2e3+r:r<=999?1900+r:r}function UC(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function GC(e,r,h){if(e){var p=P6.indexOf(e),m=new Date(r[0],r[1],r[2]).getDay();if(p!==m)return Wr(h).weekdayMismatch=!0,h._isValid=!1,!1}return!0}function HC(e,r,h){if(e)return BC[e];if(r)return 0;var p=parseInt(h,10),m=p%100,x=(p-m)/100;return x*60+m}function N6(e){var r=FC.exec(UC(e._i)),h;if(r){if(h=jC(r[4],r[3],r[2],r[5],r[6],r[7]),!GC(r[1],h,e))return;e._a=h,e._tzm=HC(r[8],r[9],r[10]),e._d=nf.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Wr(e).rfc2822=!0}else e._isValid=!1}function WC(e){var r=NC.exec(e._i);if(r!==null){e._d=new Date(+r[1]);return}if(z6(e),e._isValid===!1)delete e._isValid;else return;if(N6(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:er.createFromInputFallback(e)}er.createFromInputFallback=Hl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function bd(e,r,h){return e??r??h}function YC(e){var r=new Date(er.now());return e._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()]}function ay(e){var r,h,p=[],m,x,w;if(!e._d){for(m=YC(e),e._w&&e._a[Gc]==null&&e._a[fh]==null&&$C(e),e._dayOfYear!=null&&(w=bd(e._a[co],m[co]),(e._dayOfYear>K0(w)||e._dayOfYear===0)&&(Wr(e)._overflowDayOfYear=!0),h=nf(w,0,e._dayOfYear),e._a[fh]=h.getUTCMonth(),e._a[Gc]=h.getUTCDate()),r=0;r<3&&e._a[r]==null;++r)e._a[r]=p[r]=m[r];for(;r<7;r++)e._a[r]=p[r]=e._a[r]==null?r===2?1:0:e._a[r];e._a[xs]===24&&e._a[pc]===0&&e._a[ph]===0&&e._a[wu]===0&&(e._nextDay=!0,e._a[xs]=0),e._d=(e._useUTC?nf:eC).apply(null,p),x=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[xs]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==x&&(Wr(e).weekdayMismatch=!0)}}function $C(e){var r,h,p,m,x,w,l,L,H;r=e._w,r.GG!=null||r.W!=null||r.E!=null?(x=1,w=4,h=bd(r.GG,e._a[co],af(da(),1,4).year),p=bd(r.W,1),m=bd(r.E,1),(m<1||m>7)&&(L=!0)):(x=e._locale._week.dow,w=e._locale._week.doy,H=af(da(),x,w),h=bd(r.gg,e._a[co],H.year),p=bd(r.w,H.week),r.d!=null?(m=r.d,(m<0||m>6)&&(L=!0)):r.e!=null?(m=r.e+x,(r.e<0||r.e>6)&&(L=!0)):m=x),p<1||p>mh(h,x,w)?Wr(e)._overflowWeeks=!0:L!=null?Wr(e)._overflowWeekday=!0:(l=D6(h,p,m,x,w),e._a[co]=l.year,e._dayOfYear=l.dayOfYear)}er.ISO_8601=function(){};er.RFC_2822=function(){};function sy(e){if(e._f===er.ISO_8601){z6(e);return}if(e._f===er.RFC_2822){N6(e);return}e._a=[],Wr(e).empty=!0;var r=""+e._i,h,p,m,x,w,l=r.length,L=0,H;for(m=y6(e._f,e._locale).match(q2)||[],h=0;h<m.length;h++)x=m[h],p=(r.match(NM(x,e))||[])[0],p&&(w=r.substr(0,r.indexOf(p)),w.length>0&&Wr(e).unusedInput.push(w),r=r.slice(r.indexOf(p)+p.length),L+=p.length),Dd[x]?(p?Wr(e).empty=!1:Wr(e).unusedTokens.push(x),BM(x,p,e)):e._strict&&!p&&Wr(e).unusedTokens.push(x);Wr(e).charsLeftOver=l-L,r.length>0&&Wr(e).unusedInput.push(r),e._a[xs]<=12&&Wr(e).bigHour===!0&&e._a[xs]>0&&(Wr(e).bigHour=void 0),Wr(e).parsedDateParts=e._a.slice(0),Wr(e).meridiem=e._meridiem,e._a[xs]=XC(e._locale,e._a[xs],e._meridiem),H=Wr(e).era,H!==null&&(e._a[co]=e._locale.erasConvertYear(H,e._a[co])),ay(e),ny(e)}function XC(e,r,h){var p;return h==null?r:e.meridiemHour!=null?e.meridiemHour(r,h):(e.isPM!=null&&(p=e.isPM(h),p&&r<12&&(r+=12),!p&&r===12&&(r=0)),r)}function ZC(e){var r,h,p,m,x,w,l=!1;if(e._f.length===0){Wr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(m=0;m<e._f.length;m++)x=0,w=!1,r=X2({},e),e._useUTC!=null&&(r._useUTC=e._useUTC),r._f=e._f[m],sy(r),$2(r)&&(w=!0),x+=Wr(r).charsLeftOver,x+=Wr(r).unusedTokens.length*10,Wr(r).score=x,l?x<p&&(p=x,h=r):(p==null||x<p||w)&&(p=x,h=r,w&&(l=!0));Yh(e,h||r)}function qC(e){if(!e._d){var r=K2(e._i),h=r.day===void 0?r.date:r.day;e._a=m6([r.year,r.month,h,r.hour,r.minute,r.second,r.millisecond],function(p){return p&&parseInt(p,10)}),ay(e)}}function KC(e){var r=new yf(ny(F6(e)));return r._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function F6(e){var r=e._i,h=e._f;return e._locale=e._locale||_h(e._l),r===null||h===void 0&&r===""?O1({nullInput:!0}):(typeof r=="string"&&(e._i=r=e._locale.preparse(r)),vc(r)?new yf(ny(r)):(vf(r)?e._d=r:gc(h)?ZC(e):h?sy(e):JC(e),$2(e)||(e._d=null),e))}function JC(e){var r=e._i;Ho(r)?e._d=new Date(er.now()):vf(r)?e._d=new Date(r.valueOf()):typeof r=="string"?WC(e):gc(r)?(e._a=m6(r.slice(0),function(h){return parseInt(h,10)}),ay(e)):Au(r)?qC(e):gh(r)?e._d=new Date(r):er.createFromInputFallback(e)}function B6(e,r,h,p,m){var x={};return(r===!0||r===!1)&&(p=r,r=void 0),(h===!0||h===!1)&&(p=h,h=void 0),(Au(e)&&Y2(e)||gc(e)&&e.length===0)&&(e=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=m,x._l=h,x._i=e,x._f=r,x._strict=p,KC(x)}function da(e,r,h,p){return B6(e,r,h,p,!1)}var QC=Hl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=da.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:O1()}),eI=Hl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=da.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:O1()});function j6(e,r){var h,p;if(r.length===1&&gc(r[0])&&(r=r[0]),!r.length)return da();for(h=r[0],p=1;p<r.length;++p)(!r[p].isValid()||r[p][e](h))&&(h=r[p]);return h}function tI(){var e=[].slice.call(arguments,0);return j6("isBefore",e)}function iI(){var e=[].slice.call(arguments,0);return j6("isAfter",e)}var rI=function(){return Date.now?Date.now():+new Date},j0=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nI(e){var r,h=!1,p;for(r in e)if(Cn(e,r)&&!(Za.call(j0,r)!==-1&&(e[r]==null||!isNaN(e[r]))))return!1;for(p=0;p<j0.length;++p)if(e[j0[p]]){if(h)return!1;parseFloat(e[j0[p]])!==en(e[j0[p]])&&(h=!0)}return!0}function aI(){return this._isValid}function sI(){return bc(NaN)}function U1(e){var r=K2(e),h=r.year||0,p=r.quarter||0,m=r.month||0,x=r.week||r.isoWeek||0,w=r.day||0,l=r.hour||0,L=r.minute||0,H=r.second||0,q=r.millisecond||0;this._isValid=nI(r),this._milliseconds=+q+H*1e3+L*6e4+l*1e3*60*60,this._days=+w+x*7,this._months=+m+p*3+h*12,this._data={},this._locale=_h(),this._bubble()}function Up(e){return e instanceof U1}function t2(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function oI(e,r,h){var p=Math.min(e.length,r.length),m=Math.abs(e.length-r.length),x=0,w;for(w=0;w<p;w++)(h&&e[w]!==r[w]||!h&&en(e[w])!==en(r[w]))&&x++;return x+m}function V6(e,r){br(e,0,0,function(){var h=this.utcOffset(),p="+";return h<0&&(h=-h,p="-"),p+Yc(~~(h/60),2)+r+Yc(~~h%60,2)})}V6("Z",":");V6("ZZ","");nr("Z",B1);nr("ZZ",B1);$n(["Z","ZZ"],function(e,r,h){h._useUTC=!0,h._tzm=oy(B1,e)});var lI=/([\+\-]|\d\d)/gi;function oy(e,r){var h=(r||"").match(e),p,m,x;return h===null?null:(p=h[h.length-1]||[],m=(p+"").match(lI)||["-",0,0],x=+(m[1]*60)+en(m[2]),x===0?0:m[0]==="+"?x:-x)}function ly(e,r){var h,p;return r._isUTC?(h=r.clone(),p=(vc(e)||vf(e)?e.valueOf():da(e).valueOf())-h.valueOf(),h._d.setTime(h._d.valueOf()+p),er.updateOffset(h,!1),h):da(e).local()}function i2(e){return-Math.round(e._d.getTimezoneOffset())}er.updateOffset=function(){};function cI(e,r,h){var p=this._offset||0,m;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=oy(B1,e),e===null)return this}else Math.abs(e)<16&&!h&&(e=e*60);return!this._isUTC&&r&&(m=i2(this)),this._offset=e,this._isUTC=!0,m!=null&&this.add(m,"m"),p!==e&&(!r||this._changeInProgress?H6(this,bc(e-p,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,er.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?p:i2(this)}function hI(e,r){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,r),this):-this.utcOffset()}function uI(e){return this.utcOffset(0,e)}function dI(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(i2(this),"m")),this}function fI(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=oy(RM,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function pI(e){return this.isValid()?(e=e?da(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function mI(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function gI(){if(!Ho(this._isDSTShifted))return this._isDSTShifted;var e={},r;return X2(e,this),e=F6(e),e._a?(r=e._isUTC?$c(e._a):da(e._a),this._isDSTShifted=this.isValid()&&oI(e._a,r.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vI(){return this.isValid()?!this._isUTC:!1}function yI(){return this.isValid()?this._isUTC:!1}function U6(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xI=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,_I=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bc(e,r){var h=e,p=null,m,x,w;return Up(e)?h={ms:e._milliseconds,d:e._days,M:e._months}:gh(e)||!isNaN(+e)?(h={},r?h[r]=+e:h.milliseconds=+e):(p=xI.exec(e))?(m=p[1]==="-"?-1:1,h={y:0,d:en(p[Gc])*m,h:en(p[xs])*m,m:en(p[pc])*m,s:en(p[ph])*m,ms:en(t2(p[wu]*1e3))*m}):(p=_I.exec(e))?(m=p[1]==="-"?-1:1,h={y:yu(p[2],m),M:yu(p[3],m),w:yu(p[4],m),d:yu(p[5],m),h:yu(p[6],m),m:yu(p[7],m),s:yu(p[8],m)}):h==null?h={}:typeof h=="object"&&("from"in h||"to"in h)&&(w=bI(da(h.from),da(h.to)),h={},h.ms=w.milliseconds,h.M=w.months),x=new U1(h),Up(e)&&Cn(e,"_locale")&&(x._locale=e._locale),Up(e)&&Cn(e,"_isValid")&&(x._isValid=e._isValid),x}bc.fn=U1.prototype;bc.invalid=sI;function yu(e,r){var h=e&&parseFloat(e.replace(",","."));return(isNaN(h)?0:h)*r}function n3(e,r){var h={};return h.months=r.month()-e.month()+(r.year()-e.year())*12,e.clone().add(h.months,"M").isAfter(r)&&--h.months,h.milliseconds=+r-+e.clone().add(h.months,"M"),h}function bI(e,r){var h;return e.isValid()&&r.isValid()?(r=ly(r,e),e.isBefore(r)?h=n3(e,r):(h=n3(r,e),h.milliseconds=-h.milliseconds,h.months=-h.months),h):{milliseconds:0,months:0}}function G6(e,r){return function(h,p){var m,x;return p!==null&&!isNaN(+p)&&(v6(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=h,h=p,p=x),m=bc(h,p),H6(this,m,e),this}}function H6(e,r,h,p){var m=r._milliseconds,x=t2(r._days),w=t2(r._months);e.isValid()&&(p=p??!0,w&&M6(e,l1(e,"Month")+w*h),x&&_6(e,"Date",l1(e,"Date")+x*h),m&&e._d.setTime(e._d.valueOf()+m*h),p&&er.updateOffset(e,x||w))}var wI=G6(1,"add"),EI=G6(-1,"subtract");function W6(e){return typeof e=="string"||e instanceof String}function TI(e){return vc(e)||vf(e)||W6(e)||gh(e)||AI(e)||SI(e)||e===null||e===void 0}function SI(e){var r=Au(e)&&!Y2(e),h=!1,p=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],m,x;for(m=0;m<p.length;m+=1)x=p[m],h=h||Cn(e,x);return r&&h}function AI(e){var r=gc(e),h=!1;return r&&(h=e.filter(function(p){return!gh(p)&&W6(e)}).length===0),r&&h}function MI(e){var r=Au(e)&&!Y2(e),h=!1,p=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],m,x;for(m=0;m<p.length;m+=1)x=p[m],h=h||Cn(e,x);return r&&h}function CI(e,r){var h=e.diff(r,"days",!0);return h<-6?"sameElse":h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":"sameElse"}function II(e,r){arguments.length===1&&(arguments[0]?TI(arguments[0])?(e=arguments[0],r=void 0):MI(arguments[0])&&(r=arguments[0],e=void 0):(e=void 0,r=void 0));var h=e||da(),p=ly(h,this).startOf("day"),m=er.calendarFormat(this,p)||"sameElse",x=r&&(Xc(r[m])?r[m].call(this,h):r[m]);return this.format(x||this.localeData().calendar(m,this,da(h)))}function kI(){return new yf(this)}function DI(e,r){var h=vc(e)?e:da(e);return this.isValid()&&h.isValid()?(r=Wl(r)||"millisecond",r==="millisecond"?this.valueOf()>h.valueOf():h.valueOf()<this.clone().startOf(r).valueOf()):!1}function PI(e,r){var h=vc(e)?e:da(e);return this.isValid()&&h.isValid()?(r=Wl(r)||"millisecond",r==="millisecond"?this.valueOf()<h.valueOf():this.clone().endOf(r).valueOf()<h.valueOf()):!1}function OI(e,r,h,p){var m=vc(e)?e:da(e),x=vc(r)?r:da(r);return this.isValid()&&m.isValid()&&x.isValid()?(p=p||"()",(p[0]==="("?this.isAfter(m,h):!this.isBefore(m,h))&&(p[1]===")"?this.isBefore(x,h):!this.isAfter(x,h))):!1}function LI(e,r){var h=vc(e)?e:da(e),p;return this.isValid()&&h.isValid()?(r=Wl(r)||"millisecond",r==="millisecond"?this.valueOf()===h.valueOf():(p=h.valueOf(),this.clone().startOf(r).valueOf()<=p&&p<=this.clone().endOf(r).valueOf())):!1}function RI(e,r){return this.isSame(e,r)||this.isAfter(e,r)}function zI(e,r){return this.isSame(e,r)||this.isBefore(e,r)}function NI(e,r,h){var p,m,x;if(!this.isValid())return NaN;if(p=ly(e,this),!p.isValid())return NaN;switch(m=(p.utcOffset()-this.utcOffset())*6e4,r=Wl(r),r){case"year":x=Gp(this,p)/12;break;case"month":x=Gp(this,p);break;case"quarter":x=Gp(this,p)/3;break;case"second":x=(this-p)/1e3;break;case"minute":x=(this-p)/6e4;break;case"hour":x=(this-p)/36e5;break;case"day":x=(this-p-m)/864e5;break;case"week":x=(this-p-m)/6048e5;break;default:x=this-p}return h?x:jl(x)}function Gp(e,r){if(e.date()<r.date())return-Gp(r,e);var h=(r.year()-e.year())*12+(r.month()-e.month()),p=e.clone().add(h,"months"),m,x;return r-p<0?(m=e.clone().add(h-1,"months"),x=(r-p)/(p-m)):(m=e.clone().add(h+1,"months"),x=(r-p)/(m-p)),-(h+x)||0}er.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";er.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function FI(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function BI(e){if(!this.isValid())return null;var r=e!==!0,h=r?this.clone().utc():this;return h.year()<0||h.year()>9999?Vp(h,r?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xc(Date.prototype.toISOString)?r?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Vp(h,"Z")):Vp(h,r?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jI(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",r="",h,p,m,x;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",r="Z"),h="["+e+'("]',p=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",m="-MM-DD[T]HH:mm:ss.SSS",x=r+'[")]',this.format(h+p+m+x)}function VI(e){e||(e=this.isUtc()?er.defaultFormatUtc:er.defaultFormat);var r=Vp(this,e);return this.localeData().postformat(r)}function UI(e,r){return this.isValid()&&(vc(e)&&e.isValid()||da(e).isValid())?bc({to:this,from:e}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function GI(e){return this.from(da(),e)}function HI(e,r){return this.isValid()&&(vc(e)&&e.isValid()||da(e).isValid())?bc({from:this,to:e}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function WI(e){return this.to(da(),e)}function Y6(e){var r;return e===void 0?this._locale._abbr:(r=_h(e),r!=null&&(this._locale=r),this)}var $6=Hl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function X6(){return this._locale}var u1=1e3,Pd=60*u1,d1=60*Pd,Z6=(365*400+97)*24*d1;function Od(e,r){return(e%r+r)%r}function q6(e,r,h){return e<100&&e>=0?new Date(e+400,r,h)-Z6:new Date(e,r,h).valueOf()}function K6(e,r,h){return e<100&&e>=0?Date.UTC(e+400,r,h)-Z6:Date.UTC(e,r,h)}function YI(e){var r,h;if(e=Wl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(h=this._isUTC?K6:q6,e){case"year":r=h(this.year(),0,1);break;case"quarter":r=h(this.year(),this.month()-this.month()%3,1);break;case"month":r=h(this.year(),this.month(),1);break;case"week":r=h(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":r=h(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":r=h(this.year(),this.month(),this.date());break;case"hour":r=this._d.valueOf(),r-=Od(r+(this._isUTC?0:this.utcOffset()*Pd),d1);break;case"minute":r=this._d.valueOf(),r-=Od(r,Pd);break;case"second":r=this._d.valueOf(),r-=Od(r,u1);break}return this._d.setTime(r),er.updateOffset(this,!0),this}function $I(e){var r,h;if(e=Wl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(h=this._isUTC?K6:q6,e){case"year":r=h(this.year()+1,0,1)-1;break;case"quarter":r=h(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":r=h(this.year(),this.month()+1,1)-1;break;case"week":r=h(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":r=h(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":r=h(this.year(),this.month(),this.date()+1)-1;break;case"hour":r=this._d.valueOf(),r+=d1-Od(r+(this._isUTC?0:this.utcOffset()*Pd),d1)-1;break;case"minute":r=this._d.valueOf(),r+=Pd-Od(r,Pd)-1;break;case"second":r=this._d.valueOf(),r+=u1-Od(r,u1)-1;break}return this._d.setTime(r),er.updateOffset(this,!0),this}function XI(){return this._d.valueOf()-(this._offset||0)*6e4}function ZI(){return Math.floor(this.valueOf()/1e3)}function qI(){return new Date(this.valueOf())}function KI(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function JI(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function QI(){return this.isValid()?this.toISOString():null}function ek(){return $2(this)}function tk(){return Yh({},Wr(this))}function ik(){return Wr(this).overflow}function rk(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}br("N",0,0,"eraAbbr");br("NN",0,0,"eraAbbr");br("NNN",0,0,"eraAbbr");br("NNNN",0,0,"eraName");br("NNNNN",0,0,"eraNarrow");br("y",["y",1],"yo","eraYear");br("y",["yy",2],0,"eraYear");br("y",["yyy",3],0,"eraYear");br("y",["yyyy",4],0,"eraYear");nr("N",cy);nr("NN",cy);nr("NNN",cy);nr("NNNN",pk);nr("NNNNN",mk);$n(["N","NN","NNN","NNNN","NNNNN"],function(e,r,h,p){var m=h._locale.erasParse(e,p,h._strict);m?Wr(h).era=m:Wr(h).invalidEra=e});nr("y",Wd);nr("yy",Wd);nr("yyy",Wd);nr("yyyy",Wd);nr("yo",gk);$n(["y","yy","yyy","yyyy"],co);$n(["yo"],function(e,r,h,p){var m;h._locale._eraYearOrdinalRegex&&(m=e.match(h._locale._eraYearOrdinalRegex)),h._locale.eraYearOrdinalParse?r[co]=h._locale.eraYearOrdinalParse(e,m):r[co]=parseInt(e,10)});function nk(e,r){var h,p,m,x=this._eras||_h("en")._eras;for(h=0,p=x.length;h<p;++h){switch(typeof x[h].since){case"string":m=er(x[h].since).startOf("day"),x[h].since=m.valueOf();break}switch(typeof x[h].until){case"undefined":x[h].until=1/0;break;case"string":m=er(x[h].until).startOf("day").valueOf(),x[h].until=m.valueOf();break}}return x}function ak(e,r,h){var p,m,x=this.eras(),w,l,L;for(e=e.toUpperCase(),p=0,m=x.length;p<m;++p)if(w=x[p].name.toUpperCase(),l=x[p].abbr.toUpperCase(),L=x[p].narrow.toUpperCase(),h)switch(r){case"N":case"NN":case"NNN":if(l===e)return x[p];break;case"NNNN":if(w===e)return x[p];break;case"NNNNN":if(L===e)return x[p];break}else if([w,l,L].indexOf(e)>=0)return x[p]}function sk(e,r){var h=e.since<=e.until?1:-1;return r===void 0?er(e.since).year():er(e.since).year()+(r-e.offset)*h}function ok(){var e,r,h,p=this.localeData().eras();for(e=0,r=p.length;e<r;++e)if(h=this.clone().startOf("day").valueOf(),p[e].since<=h&&h<=p[e].until||p[e].until<=h&&h<=p[e].since)return p[e].name;return""}function lk(){var e,r,h,p=this.localeData().eras();for(e=0,r=p.length;e<r;++e)if(h=this.clone().startOf("day").valueOf(),p[e].since<=h&&h<=p[e].until||p[e].until<=h&&h<=p[e].since)return p[e].narrow;return""}function ck(){var e,r,h,p=this.localeData().eras();for(e=0,r=p.length;e<r;++e)if(h=this.clone().startOf("day").valueOf(),p[e].since<=h&&h<=p[e].until||p[e].until<=h&&h<=p[e].since)return p[e].abbr;return""}function hk(){var e,r,h,p,m=this.localeData().eras();for(e=0,r=m.length;e<r;++e)if(h=m[e].since<=m[e].until?1:-1,p=this.clone().startOf("day").valueOf(),m[e].since<=p&&p<=m[e].until||m[e].until<=p&&p<=m[e].since)return(this.year()-er(m[e].since).year())*h+m[e].offset;return this.year()}function uk(e){return Cn(this,"_erasNameRegex")||hy.call(this),e?this._erasNameRegex:this._erasRegex}function dk(e){return Cn(this,"_erasAbbrRegex")||hy.call(this),e?this._erasAbbrRegex:this._erasRegex}function fk(e){return Cn(this,"_erasNarrowRegex")||hy.call(this),e?this._erasNarrowRegex:this._erasRegex}function cy(e,r){return r.erasAbbrRegex(e)}function pk(e,r){return r.erasNameRegex(e)}function mk(e,r){return r.erasNarrowRegex(e)}function gk(e,r){return r._eraYearOrdinalRegex||Wd}function hy(){var e=[],r=[],h=[],p=[],m,x,w=this.eras();for(m=0,x=w.length;m<x;++m)r.push(cl(w[m].name)),e.push(cl(w[m].abbr)),h.push(cl(w[m].narrow)),p.push(cl(w[m].name)),p.push(cl(w[m].abbr)),p.push(cl(w[m].narrow));this._erasRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+h.join("|")+")","i")}br(0,["gg",2],0,function(){return this.weekYear()%100});br(0,["GG",2],0,function(){return this.isoWeekYear()%100});function G1(e,r){br(0,[e,e.length],0,r)}G1("gggg","weekYear");G1("ggggg","weekYear");G1("GGGG","isoWeekYear");G1("GGGGG","isoWeekYear");ho("weekYear","gg");ho("isoWeekYear","GG");uo("weekYear",1);uo("isoWeekYear",1);nr("G",F1);nr("g",F1);nr("GG",fa,hl);nr("gg",fa,hl);nr("GGGG",Q2,J2);nr("gggg",Q2,J2);nr("GGGGG",N1,R1);nr("ggggg",N1,R1);_f(["gggg","ggggg","GGGG","GGGGG"],function(e,r,h,p){r[p.substr(0,2)]=en(e)});_f(["gg","GG"],function(e,r,h,p){r[p]=er.parseTwoDigitYear(e)});function vk(e){return J6.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function yk(e){return J6.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function xk(){return mh(this.year(),1,4)}function _k(){return mh(this.isoWeekYear(),1,4)}function bk(){var e=this.localeData()._week;return mh(this.year(),e.dow,e.doy)}function wk(){var e=this.localeData()._week;return mh(this.weekYear(),e.dow,e.doy)}function J6(e,r,h,p,m){var x;return e==null?af(this,p,m).year:(x=mh(e,p,m),r>x&&(r=x),Ek.call(this,e,r,h,p,m))}function Ek(e,r,h,p,m){var x=D6(e,r,h,p,m),w=nf(x.year,0,x.dayOfYear);return this.year(w.getUTCFullYear()),this.month(w.getUTCMonth()),this.date(w.getUTCDate()),this}br("Q",0,"Qo","quarter");ho("quarter","Q");uo("quarter",7);nr("Q",b6);$n("Q",function(e,r){r[fh]=(en(e)-1)*3});function Tk(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}br("D",["DD",2],"Do","date");ho("date","D");uo("date",9);nr("D",fa);nr("DD",fa,hl);nr("Do",function(e,r){return e?r._dayOfMonthOrdinalParse||r._ordinalParse:r._dayOfMonthOrdinalParseLenient});$n(["D","DD"],Gc);$n("Do",function(e,r){r[Gc]=en(e.match(fa)[0])});var Q6=Hd("Date",!0);br("DDD",["DDDD",3],"DDDo","dayOfYear");ho("dayOfYear","DDD");uo("dayOfYear",4);nr("DDD",z1);nr("DDDD",w6);$n(["DDD","DDDD"],function(e,r,h){h._dayOfYear=en(e)});function Sk(e){var r=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?r:this.add(e-r,"d")}br("m",["mm",2],0,"minute");ho("minute","m");uo("minute",14);nr("m",fa);nr("mm",fa,hl);$n(["m","mm"],pc);var Ak=Hd("Minutes",!1);br("s",["ss",2],0,"second");ho("second","s");uo("second",15);nr("s",fa);nr("ss",fa,hl);$n(["s","ss"],ph);var Mk=Hd("Seconds",!1);br("S",0,0,function(){return~~(this.millisecond()/100)});br(0,["SS",2],0,function(){return~~(this.millisecond()/10)});br(0,["SSS",3],0,"millisecond");br(0,["SSSS",4],0,function(){return this.millisecond()*10});br(0,["SSSSS",5],0,function(){return this.millisecond()*100});br(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});br(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});br(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});br(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ho("millisecond","ms");uo("millisecond",16);nr("S",z1,b6);nr("SS",z1,hl);nr("SSS",z1,w6);var $h,eE;for($h="SSSS";$h.length<=9;$h+="S")nr($h,Wd);function Ck(e,r){r[wu]=en(("0."+e)*1e3)}for($h="S";$h.length<=9;$h+="S")$n($h,Ck);eE=Hd("Milliseconds",!1);br("z",0,0,"zoneAbbr");br("zz",0,0,"zoneName");function Ik(){return this._isUTC?"UTC":""}function kk(){return this._isUTC?"Coordinated Universal Time":""}var Vi=yf.prototype;Vi.add=wI;Vi.calendar=II;Vi.clone=kI;Vi.diff=NI;Vi.endOf=$I;Vi.format=VI;Vi.from=UI;Vi.fromNow=GI;Vi.to=HI;Vi.toNow=WI;Vi.get=OM;Vi.invalidAt=ik;Vi.isAfter=DI;Vi.isBefore=PI;Vi.isBetween=OI;Vi.isSame=LI;Vi.isSameOrAfter=RI;Vi.isSameOrBefore=zI;Vi.isValid=ek;Vi.lang=$6;Vi.locale=Y6;Vi.localeData=X6;Vi.max=eI;Vi.min=QC;Vi.parsingFlags=tk;Vi.set=LM;Vi.startOf=YI;Vi.subtract=EI;Vi.toArray=KI;Vi.toObject=JI;Vi.toDate=qI;Vi.toISOString=BI;Vi.inspect=jI;typeof Symbol<"u"&&Symbol.for!=null&&(Vi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Vi.toJSON=QI;Vi.toString=FI;Vi.unix=ZI;Vi.valueOf=XI;Vi.creationData=rk;Vi.eraName=ok;Vi.eraNarrow=lk;Vi.eraAbbr=ck;Vi.eraYear=hk;Vi.year=k6;Vi.isLeapYear=QM;Vi.weekYear=vk;Vi.isoWeekYear=yk;Vi.quarter=Vi.quarters=Tk;Vi.month=C6;Vi.daysInMonth=qM;Vi.week=Vi.weeks=aC;Vi.isoWeek=Vi.isoWeeks=sC;Vi.weeksInYear=bk;Vi.weeksInWeekYear=wk;Vi.isoWeeksInYear=xk;Vi.isoWeeksInISOWeekYear=_k;Vi.date=Q6;Vi.day=Vi.days=xC;Vi.weekday=_C;Vi.isoWeekday=bC;Vi.dayOfYear=Sk;Vi.hour=Vi.hours=CC;Vi.minute=Vi.minutes=Ak;Vi.second=Vi.seconds=Mk;Vi.millisecond=Vi.milliseconds=eE;Vi.utcOffset=cI;Vi.utc=uI;Vi.local=dI;Vi.parseZone=fI;Vi.hasAlignedHourOffset=pI;Vi.isDST=mI;Vi.isLocal=vI;Vi.isUtcOffset=yI;Vi.isUtc=U6;Vi.isUTC=U6;Vi.zoneAbbr=Ik;Vi.zoneName=kk;Vi.dates=Hl("dates accessor is deprecated. Use date instead.",Q6);Vi.months=Hl("months accessor is deprecated. Use month instead",C6);Vi.years=Hl("years accessor is deprecated. Use year instead",k6);Vi.zone=Hl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",hI);Vi.isDSTShifted=Hl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gI);function Dk(e){return da(e*1e3)}function Pk(){return da.apply(null,arguments).parseZone()}function tE(e){return e}var In=Z2.prototype;In.calendar=xM;In.longDateFormat=EM;In.invalidDate=SM;In.ordinal=CM;In.preparse=tE;In.postformat=tE;In.relativeTime=kM;In.pastFuture=DM;In.set=vM;In.eras=nk;In.erasParse=ak;In.erasConvertYear=sk;In.erasAbbrRegex=dk;In.erasNameRegex=uk;In.erasNarrowRegex=fk;In.months=YM;In.monthsShort=$M;In.monthsParse=ZM;In.monthsRegex=JM;In.monthsShortRegex=KM;In.week=tC;In.firstDayOfYear=nC;In.firstDayOfWeek=rC;In.weekdays=pC;In.weekdaysMin=gC;In.weekdaysShort=mC;In.weekdaysParse=yC;In.weekdaysRegex=wC;In.weekdaysShortRegex=EC;In.weekdaysMinRegex=TC;In.isPM=AC;In.meridiem=IC;function f1(e,r,h,p){var m=_h(),x=$c().set(p,r);return m[h](x,e)}function iE(e,r,h){if(gh(e)&&(r=e,e=void 0),e=e||"",r!=null)return f1(e,r,h,"month");var p,m=[];for(p=0;p<12;p++)m[p]=f1(e,p,h,"month");return m}function uy(e,r,h,p){typeof e=="boolean"?(gh(r)&&(h=r,r=void 0),r=r||""):(r=e,h=r,e=!1,gh(r)&&(h=r,r=void 0),r=r||"");var m=_h(),x=e?m._week.dow:0,w,l=[];if(h!=null)return f1(r,(h+x)%7,p,"day");for(w=0;w<7;w++)l[w]=f1(r,(w+x)%7,p,"day");return l}function Ok(e,r){return iE(e,r,"months")}function Lk(e,r){return iE(e,r,"monthsShort")}function Rk(e,r,h){return uy(e,r,h,"weekdays")}function zk(e,r,h){return uy(e,r,h,"weekdaysShort")}function Nk(e,r,h){return uy(e,r,h,"weekdaysMin")}qh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var r=e%10,h=en(e%100/10)===1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th";return e+h}});er.lang=Hl("moment.lang is deprecated. Use moment.locale instead.",qh);er.langData=Hl("moment.langData is deprecated. Use moment.localeData instead.",_h);var lh=Math.abs;function Fk(){var e=this._data;return this._milliseconds=lh(this._milliseconds),this._days=lh(this._days),this._months=lh(this._months),e.milliseconds=lh(e.milliseconds),e.seconds=lh(e.seconds),e.minutes=lh(e.minutes),e.hours=lh(e.hours),e.months=lh(e.months),e.years=lh(e.years),this}function rE(e,r,h,p){var m=bc(r,h);return e._milliseconds+=p*m._milliseconds,e._days+=p*m._days,e._months+=p*m._months,e._bubble()}function Bk(e,r){return rE(this,e,r,1)}function jk(e,r){return rE(this,e,r,-1)}function a3(e){return e<0?Math.floor(e):Math.ceil(e)}function Vk(){var e=this._milliseconds,r=this._days,h=this._months,p=this._data,m,x,w,l,L;return e>=0&&r>=0&&h>=0||e<=0&&r<=0&&h<=0||(e+=a3(r2(h)+r)*864e5,r=0,h=0),p.milliseconds=e%1e3,m=jl(e/1e3),p.seconds=m%60,x=jl(m/60),p.minutes=x%60,w=jl(x/60),p.hours=w%24,r+=jl(w/24),L=jl(nE(r)),h+=L,r-=a3(r2(L)),l=jl(h/12),h%=12,p.days=r,p.months=h,p.years=l,this}function nE(e){return e*4800/146097}function r2(e){return e*146097/4800}function Uk(e){if(!this.isValid())return NaN;var r,h,p=this._milliseconds;if(e=Wl(e),e==="month"||e==="quarter"||e==="year")switch(r=this._days+p/864e5,h=this._months+nE(r),e){case"month":return h;case"quarter":return h/3;case"year":return h/12}else switch(r=this._days+Math.round(r2(this._months)),e){case"week":return r/7+p/6048e5;case"day":return r+p/864e5;case"hour":return r*24+p/36e5;case"minute":return r*1440+p/6e4;case"second":return r*86400+p/1e3;case"millisecond":return Math.floor(r*864e5)+p;default:throw new Error("Unknown unit "+e)}}function Gk(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+en(this._months/12)*31536e6:NaN}function bh(e){return function(){return this.as(e)}}var Hk=bh("ms"),Wk=bh("s"),Yk=bh("m"),$k=bh("h"),Xk=bh("d"),Zk=bh("w"),qk=bh("M"),Kk=bh("Q"),Jk=bh("y");function Qk(){return bc(this)}function eD(e){return e=Wl(e),this.isValid()?this[e+"s"]():NaN}function Ru(e){return function(){return this.isValid()?this._data[e]:NaN}}var tD=Ru("milliseconds"),iD=Ru("seconds"),rD=Ru("minutes"),nD=Ru("hours"),aD=Ru("days"),sD=Ru("months"),oD=Ru("years");function lD(){return jl(this.days()/7)}var dh=Math.round,Sd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function cD(e,r,h,p,m){return m.relativeTime(r||1,!!h,e,p)}function hD(e,r,h,p){var m=bc(e).abs(),x=dh(m.as("s")),w=dh(m.as("m")),l=dh(m.as("h")),L=dh(m.as("d")),H=dh(m.as("M")),q=dh(m.as("w")),J=dh(m.as("y")),oe=x<=h.ss&&["s",x]||x<h.s&&["ss",x]||w<=1&&["m"]||w<h.m&&["mm",w]||l<=1&&["h"]||l<h.h&&["hh",l]||L<=1&&["d"]||L<h.d&&["dd",L];return h.w!=null&&(oe=oe||q<=1&&["w"]||q<h.w&&["ww",q]),oe=oe||H<=1&&["M"]||H<h.M&&["MM",H]||J<=1&&["y"]||["yy",J],oe[2]=r,oe[3]=+e>0,oe[4]=p,cD.apply(null,oe)}function uD(e){return e===void 0?dh:typeof e=="function"?(dh=e,!0):!1}function dD(e,r){return Sd[e]===void 0?!1:r===void 0?Sd[e]:(Sd[e]=r,e==="s"&&(Sd.ss=r-1),!0)}function fD(e,r){if(!this.isValid())return this.localeData().invalidDate();var h=!1,p=Sd,m,x;return typeof e=="object"&&(r=e,e=!1),typeof e=="boolean"&&(h=e),typeof r=="object"&&(p=Object.assign({},Sd,r),r.s!=null&&r.ss==null&&(p.ss=r.s-1)),m=this.localeData(),x=hD(this,!h,p,m),h&&(x=m.pastFuture(+this,x)),m.postformat(x)}var Ag=Math.abs;function pd(e){return(e>0)-(e<0)||+e}function H1(){if(!this.isValid())return this.localeData().invalidDate();var e=Ag(this._milliseconds)/1e3,r=Ag(this._days),h=Ag(this._months),p,m,x,w,l=this.asSeconds(),L,H,q,J;return l?(p=jl(e/60),m=jl(p/60),e%=60,p%=60,x=jl(h/12),h%=12,w=e?e.toFixed(3).replace(/\.?0+$/,""):"",L=l<0?"-":"",H=pd(this._months)!==pd(l)?"-":"",q=pd(this._days)!==pd(l)?"-":"",J=pd(this._milliseconds)!==pd(l)?"-":"",L+"P"+(x?H+x+"Y":"")+(h?H+h+"M":"")+(r?q+r+"D":"")+(m||p||e?"T":"")+(m?J+m+"H":"")+(p?J+p+"M":"")+(e?J+w+"S":"")):"P0D"}var pn=U1.prototype;pn.isValid=aI;pn.abs=Fk;pn.add=Bk;pn.subtract=jk;pn.as=Uk;pn.asMilliseconds=Hk;pn.asSeconds=Wk;pn.asMinutes=Yk;pn.asHours=$k;pn.asDays=Xk;pn.asWeeks=Zk;pn.asMonths=qk;pn.asQuarters=Kk;pn.asYears=Jk;pn.valueOf=Gk;pn._bubble=Vk;pn.clone=Qk;pn.get=eD;pn.milliseconds=tD;pn.seconds=iD;pn.minutes=rD;pn.hours=nD;pn.days=aD;pn.weeks=lD;pn.months=sD;pn.years=oD;pn.humanize=fD;pn.toISOString=H1;pn.toString=H1;pn.toJSON=H1;pn.locale=Y6;pn.localeData=X6;pn.toIsoString=Hl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",H1);pn.lang=$6;br("X",0,0,"unix");br("x",0,0,"valueOf");nr("x",F1);nr("X",zM);$n("X",function(e,r,h){h._d=new Date(parseFloat(e)*1e3)});$n("x",function(e,r,h){h._d=new Date(en(e))});//! moment.js
er.version="2.29.1";mM(da);er.fn=Vi;er.min=tI;er.max=iI;er.now=rI;er.utc=$c;er.unix=Dk;er.months=Ok;er.isDate=vf;er.locale=qh;er.invalid=O1;er.duration=bc;er.isMoment=vc;er.weekdays=Rk;er.parseZone=Pk;er.localeData=_h;er.isDuration=Up;er.monthsShort=Lk;er.weekdaysMin=Nk;er.defineLocale=ry;er.updateLocale=PC;er.locales=OC;er.weekdaysShort=zk;er.normalizeUnits=Wl;er.relativeTimeRounding=uD;er.relativeTimeThreshold=dD;er.calendarFormat=CI;er.prototype=Vi;er.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const pD=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));window.moment=er;var vp=function(e){return e&&e.Math==Math&&e},Ns=vp(typeof globalThis=="object"&&globalThis)||vp(typeof window=="object"&&window)||vp(typeof self=="object"&&self)||vp(typeof fn=="object"&&fn)||function(){return this}()||Function("return this")(),dy={},pa=function(e){try{return!!e()}catch{return!0}},mD=pa,wc=!mD(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),gD=pa,W1=!gD(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),vD=W1,yp=Function.prototype.call,Yl=vD?yp.bind(yp):function(){return yp.apply(yp,arguments)},fy={},aE={}.propertyIsEnumerable,sE=Object.getOwnPropertyDescriptor,yD=sE&&!aE.call({1:2},1);fy.f=yD?function(r){var h=sE(this,r);return!!h&&h.enumerable}:aE;var Y1=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},oE=W1,lE=Function.prototype,n2=lE.call,xD=oE&&lE.bind.bind(n2,n2),Aa=oE?xD:function(e){return function(){return n2.apply(e,arguments)}},cE=Aa,_D=cE({}.toString),bD=cE("".slice),eu=function(e){return bD(_D(e),8,-1)},wD=Aa,ED=pa,TD=eu,Mg=Object,SD=wD("".split),$1=ED(function(){return!Mg("z").propertyIsEnumerable(0)})?function(e){return TD(e)=="String"?SD(e,""):Mg(e)}:Mg,zu=function(e){return e==null},AD=zu,MD=TypeError,Yd=function(e){if(AD(e))throw MD("Can't call method on "+e);return e},CD=$1,ID=Yd,$d=function(e){return CD(ID(e))},a2=typeof document=="object"&&document.all,kD=typeof a2>"u"&&a2!==void 0,hE={all:a2,IS_HTMLDDA:kD},uE=hE,DD=uE.all,os=uE.IS_HTMLDDA?function(e){return typeof e=="function"||e===DD}:function(e){return typeof e=="function"},s3=os,dE=hE,PD=dE.all,ul=dE.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:s3(e)||e===PD}:function(e){return typeof e=="object"?e!==null:s3(e)},Cg=Ns,OD=os,LD=function(e){return OD(e)?e:void 0},bf=function(e,r){return arguments.length<2?LD(Cg[e]):Cg[e]&&Cg[e][r]},RD=Aa,py=RD({}.isPrototypeOf),zD=bf,ND=zD("navigator","userAgent")||"",fE=Ns,Ig=ND,o3=fE.process,l3=fE.Deno,c3=o3&&o3.versions||l3&&l3.version,h3=c3&&c3.v8,dc,p1;h3&&(dc=h3.split("."),p1=dc[0]>0&&dc[0]<4?1:+(dc[0]+dc[1]));!p1&&Ig&&(dc=Ig.match(/Edge\/(\d+)/),(!dc||dc[1]>=74)&&(dc=Ig.match(/Chrome\/(\d+)/),dc&&(p1=+dc[1])));var my=p1,u3=my,FD=pa,pE=!!Object.getOwnPropertySymbols&&!FD(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&u3&&u3<41}),BD=pE,mE=BD&&!Symbol.sham&&typeof Symbol.iterator=="symbol",jD=bf,VD=os,UD=py,GD=mE,HD=Object,gE=GD?function(e){return typeof e=="symbol"}:function(e){var r=jD("Symbol");return VD(r)&&UD(r.prototype,HD(e))},WD=String,gy=function(e){try{return WD(e)}catch{return"Object"}},YD=os,$D=gy,XD=TypeError,X1=function(e){if(YD(e))return e;throw XD($D(e)+" is not a function")},ZD=X1,qD=zu,wf=function(e,r){var h=e[r];return qD(h)?void 0:ZD(h)},kg=Yl,Dg=os,Pg=ul,KD=TypeError,JD=function(e,r){var h,p;if(r==="string"&&Dg(h=e.toString)&&!Pg(p=kg(h,e))||Dg(h=e.valueOf)&&!Pg(p=kg(h,e))||r!=="string"&&Dg(h=e.toString)&&!Pg(p=kg(h,e)))return p;throw KD("Can't convert object to primitive value")},of={},QD={get exports(){return of},set exports(e){of=e}},d3=Ns,eP=Object.defineProperty,vy=function(e,r){try{eP(d3,e,{value:r,configurable:!0,writable:!0})}catch{d3[e]=r}return r},tP=Ns,iP=vy,f3="__core-js_shared__",rP=tP[f3]||iP(f3,{}),yy=rP,p3=yy;(QD.exports=function(e,r){return p3[e]||(p3[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.27.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"});var nP=Yd,aP=Object,Xd=function(e){return aP(nP(e))},sP=Aa,oP=Xd,lP=sP({}.hasOwnProperty),Ec=Object.hasOwn||function(r,h){return lP(oP(r),h)},cP=Aa,hP=0,uP=Math.random(),dP=cP(1 .toString),xy=function(e){return"Symbol("+(e===void 0?"":e)+")_"+dP(++hP+uP,36)},fP=Ns,pP=of,m3=Ec,mP=xy,g3=pE,vE=mE,md=pP("wks"),Mu=fP.Symbol,v3=Mu&&Mu.for,gP=vE?Mu:Mu&&Mu.withoutSetter||mP,Do=function(e){if(!m3(md,e)||!(g3||typeof md[e]=="string")){var r="Symbol."+e;g3&&m3(Mu,e)?md[e]=Mu[e]:vE&&v3?md[e]=v3(r):md[e]=gP(r)}return md[e]},vP=Yl,y3=ul,x3=gE,yP=wf,xP=JD,_P=Do,bP=TypeError,wP=_P("toPrimitive"),EP=function(e,r){if(!y3(e)||x3(e))return e;var h=yP(e,wP),p;if(h){if(r===void 0&&(r="default"),p=vP(h,e,r),!y3(p)||x3(p))return p;throw bP("Can't convert object to primitive value")}return r===void 0&&(r="number"),xP(e,r)},TP=EP,SP=gE,_y=function(e){var r=TP(e,"string");return SP(r)?r:r+""},AP=Ns,_3=ul,s2=AP.document,MP=_3(s2)&&_3(s2.createElement),by=function(e){return MP?s2.createElement(e):{}},CP=wc,IP=pa,kP=by,yE=!CP&&!IP(function(){return Object.defineProperty(kP("div"),"a",{get:function(){return 7}}).a!=7}),DP=wc,PP=Yl,OP=fy,LP=Y1,RP=$d,zP=_y,NP=Ec,FP=yE,b3=Object.getOwnPropertyDescriptor;dy.f=DP?b3:function(r,h){if(r=RP(r),h=zP(h),FP)try{return b3(r,h)}catch{}if(NP(r,h))return LP(!PP(OP.f,r,h),r[h])};var Tc={},BP=wc,jP=pa,xE=BP&&jP(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),VP=ul,UP=String,GP=TypeError,dl=function(e){if(VP(e))return e;throw GP(UP(e)+" is not an object")},HP=wc,WP=yE,YP=xE,xp=dl,w3=_y,$P=TypeError,Og=Object.defineProperty,XP=Object.getOwnPropertyDescriptor,Lg="enumerable",Rg="configurable",zg="writable";Tc.f=HP?YP?function(r,h,p){if(xp(r),h=w3(h),xp(p),typeof r=="function"&&h==="prototype"&&"value"in p&&zg in p&&!p[zg]){var m=XP(r,h);m&&m[zg]&&(r[h]=p.value,p={configurable:Rg in p?p[Rg]:m[Rg],enumerable:Lg in p?p[Lg]:m[Lg],writable:!1})}return Og(r,h,p)}:Og:function(r,h,p){if(xp(r),h=w3(h),xp(p),WP)try{return Og(r,h,p)}catch{}if("get"in p||"set"in p)throw $P("Accessors not supported");return"value"in p&&(r[h]=p.value),r};var ZP=wc,qP=Tc,KP=Y1,Zd=ZP?function(e,r,h){return qP.f(e,r,KP(1,h))}:function(e,r,h){return e[r]=h,e},o2={},JP={get exports(){return o2},set exports(e){o2=e}},l2=wc,QP=Ec,_E=Function.prototype,eO=l2&&Object.getOwnPropertyDescriptor,wy=QP(_E,"name"),tO=wy&&function(){}.name==="something",iO=wy&&(!l2||l2&&eO(_E,"name").configurable),Ey={EXISTS:wy,PROPER:tO,CONFIGURABLE:iO},rO=Aa,nO=os,c2=yy,aO=rO(Function.toString);nO(c2.inspectSource)||(c2.inspectSource=function(e){return aO(e)});var bE=c2.inspectSource,sO=Ns,oO=os,E3=sO.WeakMap,wE=oO(E3)&&/native code/.test(String(E3)),lO=of,cO=xy,T3=lO("keys"),Ty=function(e){return T3[e]||(T3[e]=cO(e))},Z1={},hO=wE,EE=Ns,uO=ul,dO=Zd,Ng=Ec,Fg=yy,fO=Ty,pO=Z1,S3="Object already initialized",h2=EE.TypeError,mO=EE.WeakMap,m1,lf,g1,gO=function(e){return g1(e)?lf(e):m1(e,{})},vO=function(e){return function(r){var h;if(!uO(r)||(h=lf(r)).type!==e)throw h2("Incompatible receiver, "+e+" required");return h}};if(hO||Fg.state){var jc=Fg.state||(Fg.state=new mO);jc.get=jc.get,jc.has=jc.has,jc.set=jc.set,m1=function(e,r){if(jc.has(e))throw h2(S3);return r.facade=e,jc.set(e,r),r},lf=function(e){return jc.get(e)||{}},g1=function(e){return jc.has(e)}}else{var gd=fO("state");pO[gd]=!0,m1=function(e,r){if(Ng(e,gd))throw h2(S3);return r.facade=e,dO(e,gd,r),r},lf=function(e){return Ng(e,gd)?e[gd]:{}},g1=function(e){return Ng(e,gd)}}var qd={set:m1,get:lf,has:g1,enforce:gO,getterFor:vO},yO=pa,xO=os,_p=Ec,u2=wc,_O=Ey.CONFIGURABLE,bO=bE,TE=qd,wO=TE.enforce,EO=TE.get,Hp=Object.defineProperty,TO=u2&&!yO(function(){return Hp(function(){},"length",{value:8}).length!==8}),SO=String(String).split("String"),AO=JP.exports=function(e,r,h){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),h&&h.getter&&(r="get "+r),h&&h.setter&&(r="set "+r),(!_p(e,"name")||_O&&e.name!==r)&&(u2?Hp(e,"name",{value:r,configurable:!0}):e.name=r),TO&&h&&_p(h,"arity")&&e.length!==h.arity&&Hp(e,"length",{value:h.arity});try{h&&_p(h,"constructor")&&h.constructor?u2&&Hp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var p=wO(e);return _p(p,"source")||(p.source=SO.join(typeof r=="string"?r:"")),e};Function.prototype.toString=AO(function(){return xO(this)&&EO(this).source||bO(this)},"toString");var MO=os,CO=Tc,IO=o2,kO=vy,Nu=function(e,r,h,p){p||(p={});var m=p.enumerable,x=p.name!==void 0?p.name:r;if(MO(h)&&IO(h,x,p),p.global)m?e[r]=h:kO(r,h);else{try{p.unsafe?e[r]&&(m=!0):delete e[r]}catch{}m?e[r]=h:CO.f(e,r,{value:h,enumerable:!1,configurable:!p.nonConfigurable,writable:!p.nonWritable})}return e},q1={},DO=Math.ceil,PO=Math.floor,OO=Math.trunc||function(r){var h=+r;return(h>0?PO:DO)(h)},LO=OO,K1=function(e){var r=+e;return r!==r||r===0?0:LO(r)},RO=K1,zO=Math.max,NO=Math.min,SE=function(e,r){var h=RO(e);return h<0?zO(h+r,0):NO(h,r)},FO=K1,BO=Math.min,Sy=function(e){return e>0?BO(FO(e),9007199254740991):0},jO=Sy,Ef=function(e){return jO(e.length)},VO=$d,UO=SE,GO=Ef,A3=function(e){return function(r,h,p){var m=VO(r),x=GO(m),w=UO(p,x),l;if(e&&h!=h){for(;x>w;)if(l=m[w++],l!=l)return!0}else for(;x>w;w++)if((e||w in m)&&m[w]===h)return e||w||0;return!e&&-1}},HO={includes:A3(!0),indexOf:A3(!1)},WO=Aa,Bg=Ec,YO=$d,$O=HO.indexOf,XO=Z1,M3=WO([].push),AE=function(e,r){var h=YO(e),p=0,m=[],x;for(x in h)!Bg(XO,x)&&Bg(h,x)&&M3(m,x);for(;r.length>p;)Bg(h,x=r[p++])&&(~$O(m,x)||M3(m,x));return m},Ay=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ZO=AE,qO=Ay,KO=qO.concat("length","prototype");q1.f=Object.getOwnPropertyNames||function(r){return ZO(r,KO)};var My={};My.f=Object.getOwnPropertySymbols;var JO=bf,QO=Aa,eL=q1,tL=My,iL=dl,rL=QO([].concat),nL=JO("Reflect","ownKeys")||function(r){var h=eL.f(iL(r)),p=tL.f;return p?rL(h,p(r)):h},C3=Ec,aL=nL,sL=dy,oL=Tc,lL=function(e,r,h){for(var p=aL(r),m=oL.f,x=sL.f,w=0;w<p.length;w++){var l=p[w];!C3(e,l)&&!(h&&C3(h,l))&&m(e,l,x(r,l))}},cL=pa,hL=os,uL=/#|\.prototype\./,Tf=function(e,r){var h=fL[dL(e)];return h==mL?!0:h==pL?!1:hL(r)?cL(r):!!r},dL=Tf.normalize=function(e){return String(e).replace(uL,".").toLowerCase()},fL=Tf.data={},pL=Tf.NATIVE="N",mL=Tf.POLYFILL="P",ME=Tf,jg=Ns,gL=dy.f,vL=Zd,yL=Nu,xL=vy,_L=lL,bL=ME,wh=function(e,r){var h=e.target,p=e.global,m=e.stat,x,w,l,L,H,q;if(p?w=jg:m?w=jg[h]||xL(h,{}):w=(jg[h]||{}).prototype,w)for(l in r){if(H=r[l],e.dontCallGetSet?(q=gL(w,l),L=q&&q.value):L=w[l],x=bL(p?l:h+(m?".":"#")+l,e.forced),!x&&L!==void 0){if(typeof H==typeof L)continue;_L(H,L)}(e.sham||L&&L.sham)&&vL(H,"sham",!0),yL(w,l,H,e)}},wL=eu,EL=Aa,CE=function(e){if(wL(e)==="Function")return EL(e)},I3=CE,TL=X1,SL=W1,AL=I3(I3.bind),IE=function(e,r){return TL(e),r===void 0?e:SL?AL(e,r):function(){return e.apply(r,arguments)}},ML=eu,CL=Array.isArray||function(r){return ML(r)=="Array"},IL=Do,kL=IL("toStringTag"),kE={};kE[kL]="z";var Cy=String(kE)==="[object z]",DL=Cy,PL=os,Wp=eu,OL=Do,LL=OL("toStringTag"),RL=Object,zL=Wp(function(){return arguments}())=="Arguments",NL=function(e,r){try{return e[r]}catch{}},J1=DL?Wp:function(e){var r,h,p;return e===void 0?"Undefined":e===null?"Null":typeof(h=NL(r=RL(e),LL))=="string"?h:zL?Wp(r):(p=Wp(r))=="Object"&&PL(r.callee)?"Arguments":p},FL=Aa,BL=pa,DE=os,jL=J1,VL=bf,UL=bE,PE=function(){},GL=[],OE=VL("Reflect","construct"),Iy=/^\s*(?:class|function)\b/,HL=FL(Iy.exec),WL=!Iy.exec(PE),V0=function(r){if(!DE(r))return!1;try{return OE(PE,GL,r),!0}catch{return!1}},LE=function(r){if(!DE(r))return!1;switch(jL(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return WL||!!HL(Iy,UL(r))}catch{return!0}};LE.sham=!0;var YL=!OE||BL(function(){var e;return V0(V0.call)||!V0(Object)||!V0(function(){e=!0})||e})?LE:V0,k3=CL,$L=YL,XL=ul,ZL=Do,qL=ZL("species"),D3=Array,KL=function(e){var r;return k3(e)&&(r=e.constructor,$L(r)&&(r===D3||k3(r.prototype))?r=void 0:XL(r)&&(r=r[qL],r===null&&(r=void 0))),r===void 0?D3:r},JL=KL,QL=function(e,r){return new(JL(e))(r===0?0:r)},eR=IE,tR=Aa,iR=$1,rR=Xd,nR=Ef,aR=QL,P3=tR([].push),Uh=function(e){var r=e==1,h=e==2,p=e==3,m=e==4,x=e==6,w=e==7,l=e==5||x;return function(L,H,q,J){for(var oe=rR(L),de=iR(oe),ye=eR(H,q),ne=nR(de),X=0,pe=J||aR,ve=r?pe(L,ne):h||w?pe(L,0):void 0,me,it;ne>X;X++)if((l||X in de)&&(me=de[X],it=ye(me,X,oe),e))if(r)ve[X]=it;else if(it)switch(e){case 3:return!0;case 5:return me;case 6:return X;case 2:P3(ve,me)}else switch(e){case 4:return!1;case 7:P3(ve,me)}return x?-1:p||m?m:ve}},ky={forEach:Uh(0),map:Uh(1),filter:Uh(2),some:Uh(3),every:Uh(4),find:Uh(5),findIndex:Uh(6),filterReject:Uh(7)},sR=pa,RE=function(e,r){var h=[][e];return!!h&&sR(function(){h.call(null,r||function(){return 1},1)})},oR=ky.forEach,lR=RE,cR=lR("forEach"),zE=cR?[].forEach:function(r){return oR(this,r,arguments.length>1?arguments[1]:void 0)},hR=wh,O3=zE;hR({target:"Array",proto:!0,forced:[].forEach!=O3},{forEach:O3});var NE={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},uR=by,Vg=uR("span").classList,L3=Vg&&Vg.constructor&&Vg.constructor.prototype,FE=L3===Object.prototype?void 0:L3,R3=Ns,z3=NE,dR=FE,Ug=zE,fR=Zd,BE=function(e){if(e&&e.forEach!==Ug)try{fR(e,"forEach",Ug)}catch{e.forEach=Ug}};for(var Gg in z3)z3[Gg]&&BE(R3[Gg]&&R3[Gg].prototype);BE(dR);var pR=!!(typeof window<"u"&&window.document&&window.document.createElement),Dy=pR,mR=pa,gR=Do,vR=my,yR=gR("species"),xR=function(e){return vR>=51||!mR(function(){var r=[],h=r.constructor={};return h[yR]=function(){return{foo:1}},r[e](Boolean).foo!==1})},_R=wh,bR=ky.filter,wR=xR,ER=wR("filter");_R({target:"Array",proto:!0,forced:!ER},{filter:function(r){return bR(this,r,arguments.length>1?arguments[1]:void 0)}});var jE={},TR=AE,SR=Ay,VE=Object.keys||function(r){return TR(r,SR)},AR=wc,MR=xE,CR=Tc,IR=dl,kR=$d,DR=VE;jE.f=AR&&!MR?Object.defineProperties:function(r,h){IR(r);for(var p=kR(h),m=DR(h),x=m.length,w=0,l;x>w;)CR.f(r,l=m[w++],p[l]);return r};var PR=bf,OR=PR("document","documentElement"),LR=dl,RR=jE,N3=Ay,zR=Z1,NR=OR,FR=by,BR=Ty,F3=">",B3="<",d2="prototype",f2="script",UE=BR("IE_PROTO"),Hg=function(){},GE=function(e){return B3+f2+F3+e+B3+"/"+f2+F3},j3=function(e){e.write(GE("")),e.close();var r=e.parentWindow.Object;return e=null,r},jR=function(){var e=FR("iframe"),r="java"+f2+":",h;return e.style.display="none",NR.appendChild(e),e.src=String(r),h=e.contentWindow.document,h.open(),h.write(GE("document.F=Object")),h.close(),h.F},bp,Yp=function(){try{bp=new ActiveXObject("htmlfile")}catch{}Yp=typeof document<"u"?document.domain&&bp?j3(bp):jR():j3(bp);for(var e=N3.length;e--;)delete Yp[d2][N3[e]];return Yp()};zR[UE]=!0;var Py=Object.create||function(r,h){var p;return r!==null?(Hg[d2]=LR(r),p=new Hg,Hg[d2]=null,p[UE]=r):p=Yp(),h===void 0?p:RR.f(p,h)},VR=Do,UR=Py,GR=Tc.f,p2=VR("unscopables"),m2=Array.prototype;m2[p2]==null&&GR(m2,p2,{configurable:!0,value:UR(null)});var HR=function(e){m2[p2][e]=!0},Sf={},WR=pa,YR=!WR(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),$R=Ec,XR=os,ZR=Xd,qR=Ty,KR=YR,V3=qR("IE_PROTO"),g2=Object,JR=g2.prototype,HE=KR?g2.getPrototypeOf:function(e){var r=ZR(e);if($R(r,V3))return r[V3];var h=r.constructor;return XR(h)&&r instanceof h?h.prototype:r instanceof g2?JR:null},QR=pa,ez=os,tz=ul,U3=HE,iz=Nu,rz=Do,v2=rz("iterator"),WE=!1,Pu,Wg,Yg;[].keys&&(Yg=[].keys(),"next"in Yg?(Wg=U3(U3(Yg)),Wg!==Object.prototype&&(Pu=Wg)):WE=!0);var nz=!tz(Pu)||QR(function(){var e={};return Pu[v2].call(e)!==e});nz&&(Pu={});ez(Pu[v2])||iz(Pu,v2,function(){return this});var YE={IteratorPrototype:Pu,BUGGY_SAFARI_ITERATORS:WE},az=Tc.f,sz=Ec,oz=Do,G3=oz("toStringTag"),Oy=function(e,r,h){e&&!h&&(e=e.prototype),e&&!sz(e,G3)&&az(e,G3,{configurable:!0,value:r})},lz=YE.IteratorPrototype,cz=Py,hz=Y1,uz=Oy,dz=Sf,fz=function(){return this},pz=function(e,r,h,p){var m=r+" Iterator";return e.prototype=cz(lz,{next:hz(+!p,h)}),uz(e,m,!1),dz[m]=fz,e},mz=os,gz=String,vz=TypeError,yz=function(e){if(typeof e=="object"||mz(e))return e;throw vz("Can't set "+gz(e)+" as a prototype")},xz=Aa,_z=dl,bz=yz,$E=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},h;try{h=xz(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),h(r,[]),e=r instanceof Array}catch{}return function(m,x){return _z(m),bz(x),e?h(m,x):m.__proto__=x,m}}():void 0),wz=wh,Ez=Yl,XE=Ey,Tz=os,Sz=pz,H3=HE,W3=$E,Az=Oy,Mz=Zd,$g=Nu,Cz=Do,Iz=Sf,ZE=YE,kz=XE.PROPER,Dz=XE.CONFIGURABLE,Y3=ZE.IteratorPrototype,wp=ZE.BUGGY_SAFARI_ITERATORS,U0=Cz("iterator"),$3="keys",G0="values",X3="entries",Pz=function(){return this},qE=function(e,r,h,p,m,x,w){Sz(h,r,p);var l=function(pe){if(pe===m&&oe)return oe;if(!wp&&pe in q)return q[pe];switch(pe){case $3:return function(){return new h(this,pe)};case G0:return function(){return new h(this,pe)};case X3:return function(){return new h(this,pe)}}return function(){return new h(this)}},L=r+" Iterator",H=!1,q=e.prototype,J=q[U0]||q["@@iterator"]||m&&q[m],oe=!wp&&J||l(m),de=r=="Array"&&q.entries||J,ye,ne,X;if(de&&(ye=H3(de.call(new e)),ye!==Object.prototype&&ye.next&&(H3(ye)!==Y3&&(W3?W3(ye,Y3):Tz(ye[U0])||$g(ye,U0,Pz)),Az(ye,L,!0))),kz&&m==G0&&J&&J.name!==G0&&(Dz?Mz(q,"name",G0):(H=!0,oe=function(){return Ez(J,this)})),m)if(ne={values:l(G0),keys:x?oe:l($3),entries:l(X3)},w)for(X in ne)(wp||H||!(X in q))&&$g(q,X,ne[X]);else wz({target:r,proto:!0,forced:wp||H},ne);return q[U0]!==oe&&$g(q,U0,oe,{name:m}),Iz[r]=oe,ne},KE=function(e,r){return{value:e,done:r}},Oz=$d,Ly=HR,Z3=Sf,JE=qd,Lz=Tc.f,Rz=qE,Ep=KE,zz=wc,QE="Array Iterator",Nz=JE.set,Fz=JE.getterFor(QE),Bz=Rz(Array,"Array",function(e,r){Nz(this,{type:QE,target:Oz(e),index:0,kind:r})},function(){var e=Fz(this),r=e.target,h=e.kind,p=e.index++;return!r||p>=r.length?(e.target=void 0,Ep(void 0,!0)):h=="keys"?Ep(p,!1):h=="values"?Ep(r[p],!1):Ep([p,r[p]],!1)},"values"),q3=Z3.Arguments=Z3.Array;Ly("keys");Ly("values");Ly("entries");if(zz&&q3.name!=="values")try{Lz(q3,"name",{value:"values"})}catch{}var K3=wc,jz=Aa,Vz=Yl,Uz=pa,Xg=VE,Gz=My,Hz=fy,Wz=Xd,Yz=$1,vd=Object.assign,J3=Object.defineProperty,$z=jz([].concat),Xz=!vd||Uz(function(){if(K3&&vd({b:1},vd(J3({},"a",{enumerable:!0,get:function(){J3(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},r={},h=Symbol(),p="abcdefghijklmnopqrst";return e[h]=7,p.split("").forEach(function(m){r[m]=m}),vd({},e)[h]!=7||Xg(vd({},r)).join("")!=p})?function(r,h){for(var p=Wz(r),m=arguments.length,x=1,w=Gz.f,l=Hz.f;m>x;)for(var L=Yz(arguments[x++]),H=w?$z(Xg(L),w(L)):Xg(L),q=H.length,J=0,oe;q>J;)oe=H[J++],(!K3||Vz(l,L,oe))&&(p[oe]=L[oe]);return p}:vd,Zz=wh,Q3=Xz;Zz({target:"Object",stat:!0,arity:2,forced:Object.assign!==Q3},{assign:Q3});var qz=Cy,Kz=J1,Jz=qz?{}.toString:function(){return"[object "+Kz(this)+"]"},Qz=Cy,eN=Nu,tN=Jz;Qz||eN(Object.prototype,"toString",tN,{unsafe:!0});var iN=J1,rN=String,Fu=function(e){if(iN(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return rN(e)},eT=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`,nN=Aa,aN=Yd,sN=Fu,oN=eT,e4=nN("".replace),v1="["+oN+"]",lN=RegExp("^"+v1+v1+"*"),cN=RegExp(v1+v1+"*$"),Zg=function(e){return function(r){var h=sN(aN(r));return e&1&&(h=e4(h,lN,"")),e&2&&(h=e4(h,cN,"")),h}},hN={start:Zg(1),end:Zg(2),trim:Zg(3)},tT=Ns,uN=pa,dN=Aa,fN=Fu,pN=hN.trim,t4=eT,J0=tT.parseInt,i4=tT.Symbol,r4=i4&&i4.iterator,iT=/^[+-]?0x/i,mN=dN(iT.exec),gN=J0(t4+"08")!==8||J0(t4+"0x16")!==22||r4&&!uN(function(){J0(Object(r4))}),vN=gN?function(r,h){var p=pN(fN(r));return J0(p,h>>>0||(mN(iT,p)?16:10))}:J0,yN=wh,n4=vN;yN({global:!0,forced:parseInt!=n4},{parseInt:n4});var Ry=Aa,xN=K1,_N=Fu,bN=Yd,wN=Ry("".charAt),a4=Ry("".charCodeAt),EN=Ry("".slice),s4=function(e){return function(r,h){var p=_N(bN(r)),m=xN(h),x=p.length,w,l;return m<0||m>=x?e?"":void 0:(w=a4(p,m),w<55296||w>56319||m+1===x||(l=a4(p,m+1))<56320||l>57343?e?wN(p,m):w:e?EN(p,m,m+2):(w-55296<<10)+(l-56320)+65536)}},rT={codeAt:s4(!1),charAt:s4(!0)},TN=rT.charAt,SN=Fu,nT=qd,AN=qE,o4=KE,aT="String Iterator",MN=nT.set,CN=nT.getterFor(aT);AN(String,"String",function(e){MN(this,{type:aT,string:SN(e),index:0})},function(){var r=CN(this),h=r.string,p=r.index,m;return p>=h.length?o4(void 0,!0):(m=TN(h,p),r.index+=m.length,o4(m,!1))});var IN=pa,sT=!IN(function(){return Object.isExtensible(Object.preventExtensions({}))}),kN=Nu,oT=function(e,r,h){for(var p in r)kN(e,p,r[p],h);return e},cf={},DN={get exports(){return cf},set exports(e){cf=e}},lT={},PN=_y,ON=Tc,LN=Y1,RN=function(e,r,h){var p=PN(r);p in e?ON.f(e,p,LN(0,h)):e[p]=h},l4=SE,zN=Ef,NN=RN,FN=Array,BN=Math.max,jN=function(e,r,h){for(var p=zN(e),m=l4(r,p),x=l4(h===void 0?p:h,p),w=FN(BN(x-m,0)),l=0;m<x;m++,l++)NN(w,l,e[m]);return w.length=l,w},VN=eu,UN=$d,cT=q1.f,GN=jN,hT=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],HN=function(e){try{return cT(e)}catch{return GN(hT)}};lT.f=function(r){return hT&&VN(r)=="Window"?HN(r):cT(UN(r))};var WN=pa,YN=WN(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),$N=pa,XN=ul,ZN=eu,c4=YN,$p=Object.isExtensible,qN=$N(function(){$p(1)}),KN=qN||c4?function(r){return!XN(r)||c4&&ZN(r)=="ArrayBuffer"?!1:$p?$p(r):!0}:$p,JN=wh,QN=Aa,eF=Z1,tF=ul,zy=Ec,iF=Tc.f,h4=q1,rF=lT,Ny=KN,nF=xy,aF=sT,uT=!1,vh=nF("meta"),sF=0,Fy=function(e){iF(e,vh,{value:{objectID:"O"+sF++,weakData:{}}})},oF=function(e,r){if(!tF(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!zy(e,vh)){if(!Ny(e))return"F";if(!r)return"E";Fy(e)}return e[vh].objectID},lF=function(e,r){if(!zy(e,vh)){if(!Ny(e))return!0;if(!r)return!1;Fy(e)}return e[vh].weakData},cF=function(e){return aF&&uT&&Ny(e)&&!zy(e,vh)&&Fy(e),e},hF=function(){uF.enable=function(){},uT=!0;var e=h4.f,r=QN([].splice),h={};h[vh]=1,e(h).length&&(h4.f=function(p){for(var m=e(p),x=0,w=m.length;x<w;x++)if(m[x]===vh){r(m,x,1);break}return m},JN({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:rF.f}))},uF=DN.exports={enable:hF,fastKey:oF,getWeakData:lF,onFreeze:cF};eF[vh]=!0;var dF=Do,fF=Sf,pF=dF("iterator"),mF=Array.prototype,gF=function(e){return e!==void 0&&(fF.Array===e||mF[pF]===e)},vF=J1,u4=wf,yF=zu,xF=Sf,_F=Do,bF=_F("iterator"),dT=function(e){if(!yF(e))return u4(e,bF)||u4(e,"@@iterator")||xF[vF(e)]},wF=Yl,EF=X1,TF=dl,SF=gy,AF=dT,MF=TypeError,CF=function(e,r){var h=arguments.length<2?AF(e):r;if(EF(h))return TF(wF(h,e));throw MF(SF(e)+" is not iterable")},IF=Yl,d4=dl,kF=wf,DF=function(e,r,h){var p,m;d4(e);try{if(p=kF(e,"return"),!p){if(r==="throw")throw h;return h}p=IF(p,e)}catch(x){m=!0,p=x}if(r==="throw")throw h;if(m)throw p;return d4(p),h},PF=IE,OF=Yl,LF=dl,RF=gy,zF=gF,NF=Ef,f4=py,FF=CF,BF=dT,p4=DF,jF=TypeError,Xp=function(e,r){this.stopped=e,this.result=r},m4=Xp.prototype,fT=function(e,r,h){var p=h&&h.that,m=!!(h&&h.AS_ENTRIES),x=!!(h&&h.IS_RECORD),w=!!(h&&h.IS_ITERATOR),l=!!(h&&h.INTERRUPTED),L=PF(r,p),H,q,J,oe,de,ye,ne,X=function(ve){return H&&p4(H,"normal",ve),new Xp(!0,ve)},pe=function(ve){return m?(LF(ve),l?L(ve[0],ve[1],X):L(ve[0],ve[1])):l?L(ve,X):L(ve)};if(x)H=e.iterator;else if(w)H=e;else{if(q=BF(e),!q)throw jF(RF(e)+" is not iterable");if(zF(q)){for(J=0,oe=NF(e);oe>J;J++)if(de=pe(e[J]),de&&f4(m4,de))return de;return new Xp(!1)}H=FF(e,q)}for(ye=x?e.next:H.next;!(ne=OF(ye,H)).done;){try{de=pe(ne.value)}catch(ve){p4(H,"throw",ve)}if(typeof de=="object"&&de&&f4(m4,de))return de}return new Xp(!1)},VF=py,UF=TypeError,pT=function(e,r){if(VF(r,e))return e;throw UF("Incorrect invocation")},GF=Do,mT=GF("iterator"),gT=!1;try{var HF=0,g4={next:function(){return{done:!!HF++}},return:function(){gT=!0}};g4[mT]=function(){return this},Array.from(g4,function(){throw 2})}catch{}var WF=function(e,r){if(!r&&!gT)return!1;var h=!1;try{var p={};p[mT]=function(){return{next:function(){return{done:h=!0}}}},e(p)}catch{}return h},YF=os,$F=ul,v4=$E,XF=function(e,r,h){var p,m;return v4&&YF(p=r.constructor)&&p!==h&&$F(m=p.prototype)&&m!==h.prototype&&v4(e,m),e},ZF=wh,qF=Ns,KF=Aa,y4=ME,JF=Nu,QF=cf,eB=fT,tB=pT,iB=os,rB=zu,qg=ul,Kg=pa,nB=WF,aB=Oy,sB=XF,oB=function(e,r,h){var p=e.indexOf("Map")!==-1,m=e.indexOf("Weak")!==-1,x=p?"set":"add",w=qF[e],l=w&&w.prototype,L=w,H={},q=function(pe){var ve=KF(l[pe]);JF(l,pe,pe=="add"?function(it){return ve(this,it===0?0:it),this}:pe=="delete"?function(me){return m&&!qg(me)?!1:ve(this,me===0?0:me)}:pe=="get"?function(it){return m&&!qg(it)?void 0:ve(this,it===0?0:it)}:pe=="has"?function(it){return m&&!qg(it)?!1:ve(this,it===0?0:it)}:function(it,Ye){return ve(this,it===0?0:it,Ye),this})},J=y4(e,!iB(w)||!(m||l.forEach&&!Kg(function(){new w().entries().next()})));if(J)L=h.getConstructor(r,e,p,x),QF.enable();else if(y4(e,!0)){var oe=new L,de=oe[x](m?{}:-0,1)!=oe,ye=Kg(function(){oe.has(1)}),ne=nB(function(pe){new w(pe)}),X=!m&&Kg(function(){for(var pe=new w,ve=5;ve--;)pe[x](ve,ve);return!pe.has(-0)});ne||(L=r(function(pe,ve){tB(pe,l);var me=sB(new w,pe,L);return rB(ve)||eB(ve,me[x],{that:me,AS_ENTRIES:p}),me}),L.prototype=l,l.constructor=L),(ye||X)&&(q("delete"),q("has"),p&&q("get")),(X||de)&&q(x),m&&l.clear&&delete l.clear}return H[e]=L,ZF({global:!0,constructor:!0,forced:L!=w},H),aB(L,e),m||h.setStrong(L,e,p),L},lB=Aa,x4=oT,Tp=cf.getWeakData,cB=pT,hB=dl,uB=zu,Jg=ul,dB=fT,vT=ky,_4=Ec,yT=qd,fB=yT.set,pB=yT.getterFor,mB=vT.find,gB=vT.findIndex,vB=lB([].splice),yB=0,Sp=function(e){return e.frozen||(e.frozen=new xT)},xT=function(){this.entries=[]},Qg=function(e,r){return mB(e.entries,function(h){return h[0]===r})};xT.prototype={get:function(e){var r=Qg(this,e);if(r)return r[1]},has:function(e){return!!Qg(this,e)},set:function(e,r){var h=Qg(this,e);h?h[1]=r:this.entries.push([e,r])},delete:function(e){var r=gB(this.entries,function(h){return h[0]===e});return~r&&vB(this.entries,r,1),!!~r}};var xB={getConstructor:function(e,r,h,p){var m=e(function(L,H){cB(L,x),fB(L,{type:r,id:yB++,frozen:void 0}),uB(H)||dB(H,L[p],{that:L,AS_ENTRIES:h})}),x=m.prototype,w=pB(r),l=function(L,H,q){var J=w(L),oe=Tp(hB(H),!0);return oe===!0?Sp(J).set(H,q):oe[J.id]=q,L};return x4(x,{delete:function(L){var H=w(this);if(!Jg(L))return!1;var q=Tp(L);return q===!0?Sp(H).delete(L):q&&_4(q,H.id)&&delete q[H.id]},has:function(H){var q=w(this);if(!Jg(H))return!1;var J=Tp(H);return J===!0?Sp(q).has(H):J&&_4(J,q.id)}}),x4(x,h?{get:function(H){var q=w(this);if(Jg(H)){var J=Tp(H);return J===!0?Sp(q).get(H):J?J[q.id]:void 0}},set:function(H,q){return l(this,H,q)}}:{add:function(H){return l(this,H,!0)}}),m}},_B=sT,b4=Ns,Zp=Aa,w4=oT,bB=cf,wB=oB,_T=xB,Ap=ul,Mp=qd.enforce,EB=pa,TB=wE,Af=Object,SB=Array.isArray,Cp=Af.isExtensible,bT=Af.isFrozen,AB=Af.isSealed,wT=Af.freeze,MB=Af.seal,E4={},T4={},CB=!b4.ActiveXObject&&"ActiveXObject"in b4,H0,ET=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},TT=wB("WeakMap",ET,_T),wd=TT.prototype,qp=Zp(wd.set),IB=function(){return _B&&EB(function(){var e=wT([]);return qp(new TT,e,1),!bT(e)})};if(TB)if(CB){H0=_T.getConstructor(ET,"WeakMap",!0),bB.enable();var S4=Zp(wd.delete),Ip=Zp(wd.has),A4=Zp(wd.get);w4(wd,{delete:function(e){if(Ap(e)&&!Cp(e)){var r=Mp(this);return r.frozen||(r.frozen=new H0),S4(this,e)||r.frozen.delete(e)}return S4(this,e)},has:function(r){if(Ap(r)&&!Cp(r)){var h=Mp(this);return h.frozen||(h.frozen=new H0),Ip(this,r)||h.frozen.has(r)}return Ip(this,r)},get:function(r){if(Ap(r)&&!Cp(r)){var h=Mp(this);return h.frozen||(h.frozen=new H0),Ip(this,r)?A4(this,r):h.frozen.get(r)}return A4(this,r)},set:function(r,h){if(Ap(r)&&!Cp(r)){var p=Mp(this);p.frozen||(p.frozen=new H0),Ip(this,r)?qp(this,r,h):p.frozen.set(r,h)}else qp(this,r,h);return this}})}else IB()&&w4(wd,{set:function(r,h){var p;return SB(r)&&(bT(r)?p=E4:AB(r)&&(p=T4)),qp(this,r,h),p==E4&&wT(r),p==T4&&MB(r),this}});var M4=Ns,ST=NE,kB=FE,Z0=Bz,ev=Zd,AT=Do,tv=AT("iterator"),C4=AT("toStringTag"),iv=Z0.values,MT=function(e,r){if(e){if(e[tv]!==iv)try{ev(e,tv,iv)}catch{e[tv]=iv}if(e[C4]||ev(e,C4,r),ST[r]){for(var h in Z0)if(e[h]!==Z0[h])try{ev(e,h,Z0[h])}catch{e[h]=Z0[h]}}}};for(var rv in ST)MT(M4[rv]&&M4[rv].prototype,rv);MT(kB,"DOMTokenList");var CT="Expected a function",I4=0/0,DB="[object Symbol]",PB=/^\s+|\s+$/g,OB=/^[-+]0x[0-9a-f]+$/i,LB=/^0b[01]+$/i,RB=/^0o[0-7]+$/i,zB=parseInt,NB=typeof fn=="object"&&fn&&fn.Object===Object&&fn,FB=typeof self=="object"&&self&&self.Object===Object&&self,BB=NB||FB||Function("return this")(),jB=Object.prototype,VB=jB.toString,UB=Math.max,GB=Math.min,nv=function(){return BB.Date.now()};function HB(e,r,h){var p,m,x,w,l,L,H=0,q=!1,J=!1,oe=!0;if(typeof e!="function")throw new TypeError(CT);r=k4(r)||0,y1(h)&&(q=!!h.leading,J="maxWait"in h,x=J?UB(k4(h.maxWait)||0,r):x,oe="trailing"in h?!!h.trailing:oe);function de(Q){var Dt=p,St=m;return p=m=void 0,H=Q,w=e.apply(St,Dt),w}function ye(Q){return H=Q,l=setTimeout(pe,r),q?de(Q):w}function ne(Q){var Dt=Q-L,St=Q-H,At=r-Dt;return J?GB(At,x-St):At}function X(Q){var Dt=Q-L,St=Q-H;return L===void 0||Dt>=r||Dt<0||J&&St>=x}function pe(){var Q=nv();if(X(Q))return ve(Q);l=setTimeout(pe,ne(Q))}function ve(Q){return l=void 0,oe&&p?de(Q):(p=m=void 0,w)}function me(){l!==void 0&&clearTimeout(l),H=0,p=L=m=l=void 0}function it(){return l===void 0?w:ve(nv())}function Ye(){var Q=nv(),Dt=X(Q);if(p=arguments,m=this,L=Q,Dt){if(l===void 0)return ye(L);if(J)return l=setTimeout(pe,r),de(L)}return l===void 0&&(l=setTimeout(pe,r)),w}return Ye.cancel=me,Ye.flush=it,Ye}function WB(e,r,h){var p=!0,m=!0;if(typeof e!="function")throw new TypeError(CT);return y1(h)&&(p="leading"in h?!!h.leading:p,m="trailing"in h?!!h.trailing:m),HB(e,r,{leading:p,maxWait:r,trailing:m})}function y1(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function YB(e){return!!e&&typeof e=="object"}function $B(e){return typeof e=="symbol"||YB(e)&&VB.call(e)==DB}function k4(e){if(typeof e=="number")return e;if($B(e))return I4;if(y1(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=y1(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(PB,"");var h=LB.test(e);return h||RB.test(e)?zB(e.slice(2),h?2:8):OB.test(e)?I4:+e}var D4=WB,XB="Expected a function",P4=0/0,ZB="[object Symbol]",qB=/^\s+|\s+$/g,KB=/^[-+]0x[0-9a-f]+$/i,JB=/^0b[01]+$/i,QB=/^0o[0-7]+$/i,ej=parseInt,tj=typeof fn=="object"&&fn&&fn.Object===Object&&fn,ij=typeof self=="object"&&self&&self.Object===Object&&self,rj=tj||ij||Function("return this")(),nj=Object.prototype,aj=nj.toString,sj=Math.max,oj=Math.min,av=function(){return rj.Date.now()};function lj(e,r,h){var p,m,x,w,l,L,H=0,q=!1,J=!1,oe=!0;if(typeof e!="function")throw new TypeError(XB);r=O4(r)||0,y2(h)&&(q=!!h.leading,J="maxWait"in h,x=J?sj(O4(h.maxWait)||0,r):x,oe="trailing"in h?!!h.trailing:oe);function de(Q){var Dt=p,St=m;return p=m=void 0,H=Q,w=e.apply(St,Dt),w}function ye(Q){return H=Q,l=setTimeout(pe,r),q?de(Q):w}function ne(Q){var Dt=Q-L,St=Q-H,At=r-Dt;return J?oj(At,x-St):At}function X(Q){var Dt=Q-L,St=Q-H;return L===void 0||Dt>=r||Dt<0||J&&St>=x}function pe(){var Q=av();if(X(Q))return ve(Q);l=setTimeout(pe,ne(Q))}function ve(Q){return l=void 0,oe&&p?de(Q):(p=m=void 0,w)}function me(){l!==void 0&&clearTimeout(l),H=0,p=L=m=l=void 0}function it(){return l===void 0?w:ve(av())}function Ye(){var Q=av(),Dt=X(Q);if(p=arguments,m=this,L=Q,Dt){if(l===void 0)return ye(L);if(J)return l=setTimeout(pe,r),de(L)}return l===void 0&&(l=setTimeout(pe,r)),w}return Ye.cancel=me,Ye.flush=it,Ye}function y2(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function cj(e){return!!e&&typeof e=="object"}function hj(e){return typeof e=="symbol"||cj(e)&&aj.call(e)==ZB}function O4(e){if(typeof e=="number")return e;if(hj(e))return P4;if(y2(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=y2(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(qB,"");var h=JB.test(e);return h||QB.test(e)?ej(e.slice(2),h?2:8):KB.test(e)?P4:+e}var L4=lj,uj="Expected a function",IT="__lodash_hash_undefined__",dj="[object Function]",fj="[object GeneratorFunction]",pj=/[\\^$.*+?()[\]{}|]/g,mj=/^\[object .+?Constructor\]$/,gj=typeof fn=="object"&&fn&&fn.Object===Object&&fn,vj=typeof self=="object"&&self&&self.Object===Object&&self,kT=gj||vj||Function("return this")();function yj(e,r){return e==null?void 0:e[r]}function xj(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch{}return r}var _j=Array.prototype,bj=Function.prototype,DT=Object.prototype,sv=kT["__core-js_shared__"],R4=function(){var e=/[^.]+$/.exec(sv&&sv.keys&&sv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),PT=bj.toString,By=DT.hasOwnProperty,wj=DT.toString,Ej=RegExp("^"+PT.call(By).replace(pj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tj=_j.splice,Sj=OT(kT,"Map"),hf=OT(Object,"create");function Ou(e){var r=-1,h=e?e.length:0;for(this.clear();++r<h;){var p=e[r];this.set(p[0],p[1])}}function Aj(){this.__data__=hf?hf(null):{}}function Mj(e){return this.has(e)&&delete this.__data__[e]}function Cj(e){var r=this.__data__;if(hf){var h=r[e];return h===IT?void 0:h}return By.call(r,e)?r[e]:void 0}function Ij(e){var r=this.__data__;return hf?r[e]!==void 0:By.call(r,e)}function kj(e,r){var h=this.__data__;return h[e]=hf&&r===void 0?IT:r,this}Ou.prototype.clear=Aj;Ou.prototype.delete=Mj;Ou.prototype.get=Cj;Ou.prototype.has=Ij;Ou.prototype.set=kj;function Kd(e){var r=-1,h=e?e.length:0;for(this.clear();++r<h;){var p=e[r];this.set(p[0],p[1])}}function Dj(){this.__data__=[]}function Pj(e){var r=this.__data__,h=Q1(r,e);if(h<0)return!1;var p=r.length-1;return h==p?r.pop():Tj.call(r,h,1),!0}function Oj(e){var r=this.__data__,h=Q1(r,e);return h<0?void 0:r[h][1]}function Lj(e){return Q1(this.__data__,e)>-1}function Rj(e,r){var h=this.__data__,p=Q1(h,e);return p<0?h.push([e,r]):h[p][1]=r,this}Kd.prototype.clear=Dj;Kd.prototype.delete=Pj;Kd.prototype.get=Oj;Kd.prototype.has=Lj;Kd.prototype.set=Rj;function Bu(e){var r=-1,h=e?e.length:0;for(this.clear();++r<h;){var p=e[r];this.set(p[0],p[1])}}function zj(){this.__data__={hash:new Ou,map:new(Sj||Kd),string:new Ou}}function Nj(e){return em(this,e).delete(e)}function Fj(e){return em(this,e).get(e)}function Bj(e){return em(this,e).has(e)}function jj(e,r){return em(this,e).set(e,r),this}Bu.prototype.clear=zj;Bu.prototype.delete=Nj;Bu.prototype.get=Fj;Bu.prototype.has=Bj;Bu.prototype.set=jj;function Q1(e,r){for(var h=e.length;h--;)if(Wj(e[h][0],r))return h;return-1}function Vj(e){if(!LT(e)||Gj(e))return!1;var r=Yj(e)||xj(e)?Ej:mj;return r.test(Hj(e))}function em(e,r){var h=e.__data__;return Uj(r)?h[typeof r=="string"?"string":"hash"]:h.map}function OT(e,r){var h=yj(e,r);return Vj(h)?h:void 0}function Uj(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Gj(e){return!!R4&&R4 in e}function Hj(e){if(e!=null){try{return PT.call(e)}catch{}try{return e+""}catch{}}return""}function jy(e,r){if(typeof e!="function"||r&&typeof r!="function")throw new TypeError(uj);var h=function(){var p=arguments,m=r?r.apply(this,p):p[0],x=h.cache;if(x.has(m))return x.get(m);var w=e.apply(this,p);return h.cache=x.set(m,w),w};return h.cache=new(jy.Cache||Bu),h}jy.Cache=Bu;function Wj(e,r){return e===r||e!==e&&r!==r}function Yj(e){var r=LT(e)?wj.call(e):"";return r==dj||r==fj}function LT(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}var $j=jy,RT=function(){if(typeof Map<"u")return Map;function e(r,h){var p=-1;return r.some(function(m,x){return m[0]===h?(p=x,!0):!1}),p}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(h){var p=e(this.__entries__,h),m=this.__entries__[p];return m&&m[1]},r.prototype.set=function(h,p){var m=e(this.__entries__,h);~m?this.__entries__[m][1]=p:this.__entries__.push([h,p])},r.prototype.delete=function(h){var p=this.__entries__,m=e(p,h);~m&&p.splice(m,1)},r.prototype.has=function(h){return!!~e(this.__entries__,h)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(h,p){p===void 0&&(p=null);for(var m=0,x=this.__entries__;m<x.length;m++){var w=x[m];h.call(p,w[1],w[0])}},r}()}(),x2=typeof window<"u"&&typeof document<"u"&&window.document===document,x1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Xj=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(x1):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Zj=2;function qj(e,r){var h=!1,p=!1,m=0;function x(){h&&(h=!1,e()),p&&l()}function w(){Xj(x)}function l(){var L=Date.now();if(h){if(L-m<Zj)return;p=!0}else h=!0,p=!1,setTimeout(w,r);m=L}return l}var Kj=20,Jj=["top","right","bottom","left","width","height","size","weight"],Qj=typeof MutationObserver<"u",eV=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=qj(this.refresh.bind(this),Kj)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var h=this.observers_,p=h.indexOf(r);~p&&h.splice(p,1),!h.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(h){return h.gatherActive(),h.hasActive()});return r.forEach(function(h){return h.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!x2||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Qj?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!x2||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var h=r.propertyName,p=h===void 0?"":h,m=Jj.some(function(x){return!!~p.indexOf(x)});m&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),zT=function(e,r){for(var h=0,p=Object.keys(r);h<p.length;h++){var m=p[h];Object.defineProperty(e,m,{value:r[m],enumerable:!1,writable:!1,configurable:!0})}return e},Bd=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||x1},NT=tm(0,0,0,0);function _1(e){return parseFloat(e)||0}function z4(e){for(var r=[],h=1;h<arguments.length;h++)r[h-1]=arguments[h];return r.reduce(function(p,m){var x=e["border-"+m+"-width"];return p+_1(x)},0)}function tV(e){for(var r=["top","right","bottom","left"],h={},p=0,m=r;p<m.length;p++){var x=m[p],w=e["padding-"+x];h[x]=_1(w)}return h}function iV(e){var r=e.getBBox();return tm(0,0,r.width,r.height)}function rV(e){var r=e.clientWidth,h=e.clientHeight;if(!r&&!h)return NT;var p=Bd(e).getComputedStyle(e),m=tV(p),x=m.left+m.right,w=m.top+m.bottom,l=_1(p.width),L=_1(p.height);if(p.boxSizing==="border-box"&&(Math.round(l+x)!==r&&(l-=z4(p,"left","right")+x),Math.round(L+w)!==h&&(L-=z4(p,"top","bottom")+w)),!aV(e)){var H=Math.round(l+x)-r,q=Math.round(L+w)-h;Math.abs(H)!==1&&(l-=H),Math.abs(q)!==1&&(L-=q)}return tm(m.left,m.top,l,L)}var nV=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Bd(e).SVGGraphicsElement}:function(e){return e instanceof Bd(e).SVGElement&&typeof e.getBBox=="function"}}();function aV(e){return e===Bd(e).document.documentElement}function sV(e){return x2?nV(e)?iV(e):rV(e):NT}function oV(e){var r=e.x,h=e.y,p=e.width,m=e.height,x=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,w=Object.create(x.prototype);return zT(w,{x:r,y:h,width:p,height:m,top:h,right:r+p,bottom:m+h,left:r}),w}function tm(e,r,h,p){return{x:e,y:r,width:h,height:p}}var lV=function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=tm(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=sV(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e}(),cV=function(){function e(r,h){var p=oV(h);zT(this,{target:r,contentRect:p})}return e}(),hV=function(){function e(r,h,p){if(this.activeObservations_=[],this.observations_=new RT,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=h,this.callbackCtx_=p}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Bd(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var h=this.observations_;h.has(r)||(h.set(r,new lV(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Bd(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var h=this.observations_;h.has(r)&&(h.delete(r),h.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(h){h.isActive()&&r.activeObservations_.push(h)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,h=this.activeObservations_.map(function(p){return new cV(p.target,p.broadcastRect())});this.callback_.call(r,h,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),FT=typeof WeakMap<"u"?new WeakMap:new RT,BT=function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var h=eV.getInstance(),p=new hV(r,h,this);FT.set(this,p)}return e}();["observe","unobserve","disconnect"].forEach(function(e){BT.prototype[e]=function(){var r;return(r=FT.get(this))[e].apply(r,arguments)}});var uV=function(){return typeof x1.ResizeObserver<"u"?x1.ResizeObserver:BT}(),dV=X1,fV=Xd,pV=$1,mV=Ef,gV=TypeError,N4=function(e){return function(r,h,p,m){dV(h);var x=fV(r),w=pV(x),l=mV(x),L=e?l-1:0,H=e?-1:1;if(p<2)for(;;){if(L in w){m=w[L],L+=H;break}if(L+=H,e?L<0:l<=L)throw gV("Reduce of empty array with no initial value")}for(;e?L>=0:l>L;L+=H)L in w&&(m=h(m,w[L],L,x));return m}},vV={left:N4(!1),right:N4(!0)},yV=eu,xV=Ns,_V=yV(xV.process)=="process",bV=wh,wV=vV.left,EV=RE,F4=my,TV=_V,SV=EV("reduce"),AV=!TV&&F4>79&&F4<83;bV({target:"Array",proto:!0,forced:!SV||AV},{reduce:function(r){var h=arguments.length;return wV(this,r,h,h>1?arguments[1]:void 0)}});var MV=wc,CV=Ey.EXISTS,jT=Aa,IV=Tc.f,VT=Function.prototype,kV=jT(VT.toString),UT=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,DV=jT(UT.exec),PV="name";MV&&!CV&&IV(VT,PV,{configurable:!0,get:function(){try{return DV(UT,kV(this))[1]}catch{return""}}});var OV=dl,LV=function(){var e=OV(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},Vy=pa,RV=Ns,Uy=RV.RegExp,Gy=Vy(function(){var e=Uy("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),zV=Gy||Vy(function(){return!Uy("a","y").sticky}),NV=Gy||Vy(function(){var e=Uy("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),FV={BROKEN_CARET:NV,MISSED_STICKY:zV,UNSUPPORTED_Y:Gy},BV=pa,jV=Ns,VV=jV.RegExp,UV=BV(function(){var e=VV(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),GV=pa,HV=Ns,WV=HV.RegExp,YV=GV(function(){var e=WV("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Ad=Yl,im=Aa,$V=Fu,XV=LV,ZV=FV,qV=of,KV=Py,JV=qd.get,QV=UV,eU=YV,tU=qV("native-string-replace",String.prototype.replace),b1=RegExp.prototype.exec,_2=b1,iU=im("".charAt),rU=im("".indexOf),nU=im("".replace),ov=im("".slice),b2=function(){var e=/a/,r=/b*/g;return Ad(b1,e,"a"),Ad(b1,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),GT=ZV.BROKEN_CARET,w2=/()??/.exec("")[1]!==void 0,aU=b2||w2||GT||QV||eU;aU&&(_2=function(r){var h=this,p=JV(h),m=$V(r),x=p.raw,w,l,L,H,q,J,oe;if(x)return x.lastIndex=h.lastIndex,w=Ad(_2,x,m),h.lastIndex=x.lastIndex,w;var de=p.groups,ye=GT&&h.sticky,ne=Ad(XV,h),X=h.source,pe=0,ve=m;if(ye&&(ne=nU(ne,"y",""),rU(ne,"g")===-1&&(ne+="g"),ve=ov(m,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&iU(m,h.lastIndex-1)!==`
`)&&(X="(?: "+X+")",ve=" "+ve,pe++),l=new RegExp("^(?:"+X+")",ne)),w2&&(l=new RegExp("^"+X+"$(?!\\s)",ne)),b2&&(L=h.lastIndex),H=Ad(b1,ye?l:h,ve),ye?H?(H.input=ov(H.input,pe),H[0]=ov(H[0],pe),H.index=h.lastIndex,h.lastIndex+=H[0].length):h.lastIndex=0:b2&&H&&(h.lastIndex=h.global?H.index+H[0].length:L),w2&&H&&H.length>1&&Ad(tU,H[0],l,function(){for(q=1;q<arguments.length-2;q++)arguments[q]===void 0&&(H[q]=void 0)}),H&&de)for(H.groups=J=KV(null),q=0;q<de.length;q++)oe=de[q],J[oe[0]]=H[oe[1]];return H});var Hy=_2,sU=wh,B4=Hy;sU({target:"RegExp",proto:!0,forced:/./.exec!==B4},{exec:B4});var j4=CE,V4=Nu,oU=Hy,U4=pa,HT=Do,lU=Zd,cU=HT("species"),lv=RegExp.prototype,WT=function(e,r,h,p){var m=HT(e),x=!U4(function(){var H={};return H[m]=function(){return 7},""[e](H)!=7}),w=x&&!U4(function(){var H=!1,q=/a/;return e==="split"&&(q={},q.constructor={},q.constructor[cU]=function(){return q},q.flags="",q[m]=/./[m]),q.exec=function(){return H=!0,null},q[m](""),!H});if(!x||!w||h){var l=j4(/./[m]),L=r(m,""[e],function(H,q,J,oe,de){var ye=j4(H),ne=q.exec;return ne===oU||ne===lv.exec?x&&!de?{done:!0,value:l(q,J,oe)}:{done:!0,value:ye(J,q,oe)}:{done:!1}});V4(String.prototype,e,L[0]),V4(lv,m,L[1])}p&&lU(lv[m],"sham",!0)},hU=rT.charAt,YT=function(e,r,h){return r+(h?hU(e,r).length:1)},G4=Yl,uU=dl,dU=os,fU=eu,pU=Hy,mU=TypeError,$T=function(e,r){var h=e.exec;if(dU(h)){var p=G4(h,e,r);return p!==null&&uU(p),p}if(fU(e)==="RegExp")return G4(pU,e,r);throw mU("RegExp#exec called on incompatible receiver")},gU=Yl,vU=WT,yU=dl,xU=zu,_U=Sy,cv=Fu,bU=Yd,wU=wf,EU=YT,H4=$T;vU("match",function(e,r,h){return[function(m){var x=bU(this),w=xU(m)?void 0:wU(m,e);return w?gU(w,m,x):new RegExp(m)[e](cv(x))},function(p){var m=yU(this),x=cv(p),w=h(r,m,x);if(w.done)return w.value;if(!m.global)return H4(m,x);var l=m.unicode;m.lastIndex=0;for(var L=[],H=0,q;(q=H4(m,x))!==null;){var J=cv(q[0]);L[H]=J,J===""&&(m.lastIndex=EU(x,_U(m.lastIndex),l)),H++}return H===0?null:L}]});var TU=W1,XT=Function.prototype,W4=XT.apply,Y4=XT.call,SU=typeof Reflect=="object"&&Reflect.apply||(TU?Y4.bind(W4):function(){return Y4.apply(W4,arguments)}),Wy=Aa,AU=Xd,MU=Math.floor,hv=Wy("".charAt),CU=Wy("".replace),uv=Wy("".slice),IU=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,kU=/\$([$&'`]|\d{1,2})/g,DU=function(e,r,h,p,m,x){var w=h+e.length,l=p.length,L=kU;return m!==void 0&&(m=AU(m),L=IU),CU(x,L,function(H,q){var J;switch(hv(q,0)){case"$":return"$";case"&":return e;case"`":return uv(r,0,h);case"'":return uv(r,w);case"<":J=m[uv(q,1,-1)];break;default:var oe=+q;if(oe===0)return H;if(oe>l){var de=MU(oe/10);return de===0?H:de<=l?p[de-1]===void 0?hv(q,1):p[de-1]+hv(q,1):H}J=p[oe-1]}return J===void 0?"":J})},PU=SU,$4=Yl,rm=Aa,OU=WT,LU=pa,RU=dl,zU=os,NU=zu,FU=K1,BU=Sy,yd=Fu,jU=Yd,VU=YT,UU=wf,GU=DU,HU=$T,WU=Do,E2=WU("replace"),YU=Math.max,$U=Math.min,XU=rm([].concat),dv=rm([].push),X4=rm("".indexOf),Z4=rm("".slice),ZU=function(e){return e===void 0?e:String(e)},qU=function(){return"a".replace(/./,"$0")==="$0"}(),q4=function(){return/./[E2]?/./[E2]("a","$0")==="":!1}(),KU=!LU(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});OU("replace",function(e,r,h){var p=q4?"$":"$0";return[function(x,w){var l=jU(this),L=NU(x)?void 0:UU(x,E2);return L?$4(L,x,l,w):$4(r,yd(l),x,w)},function(m,x){var w=RU(this),l=yd(m);if(typeof x=="string"&&X4(x,p)===-1&&X4(x,"$<")===-1){var L=h(r,w,l,x);if(L.done)return L.value}var H=zU(x);H||(x=yd(x));var q=w.global;if(q){var J=w.unicode;w.lastIndex=0}for(var oe=[];;){var de=HU(w,l);if(de===null||(dv(oe,de),!q))break;var ye=yd(de[0]);ye===""&&(w.lastIndex=VU(l,BU(w.lastIndex),J))}for(var ne="",X=0,pe=0;pe<oe.length;pe++){de=oe[pe];for(var ve=yd(de[0]),me=YU($U(FU(de.index),l.length),0),it=[],Ye=1;Ye<de.length;Ye++)dv(it,ZU(de[Ye]));var Q=de.groups;if(H){var Dt=XU([ve],it,me,l);Q!==void 0&&dv(Dt,Q);var St=yd(PU(x,void 0,Dt))}else St=GU(ve,l,me,it,Q,x);me>=X&&(ne+=Z4(l,X,me)+St,X=me+ve.length)}return ne+Z4(l,X)}]},!KU||!qU||q4);var Ed=null,K4=null;Dy&&window.addEventListener("resize",function(){K4!==window.devicePixelRatio&&(K4=window.devicePixelRatio,Ed=null)});function J4(){if(Ed===null){if(typeof document>"u")return Ed=0,Ed;var e=document.body,r=document.createElement("div");r.classList.add("simplebar-hide-scrollbar"),e.appendChild(r);var h=r.getBoundingClientRect().right;e.removeChild(r),Ed=h}return Ed}var w1=function(r){var h=Array.prototype.reduce.call(r,function(p,m){var x=m.name.match(/data-simplebar-(.+)/);if(x){var w=x[1].replace(/\W+(.)/g,function(l,L){return L.toUpperCase()});switch(m.value){case"true":p[w]=!0;break;case"false":p[w]=!1;break;case void 0:p[w]=!0;break;default:p[w]=m.value}}return p},{});return h};function Gh(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}function fv(e){return!e||!e.ownerDocument?document:e.ownerDocument}var as=function(){function e(h,p){var m=this;this.onScroll=function(){var x=Gh(m.el);m.scrollXTicking||(x.requestAnimationFrame(m.scrollX),m.scrollXTicking=!0),m.scrollYTicking||(x.requestAnimationFrame(m.scrollY),m.scrollYTicking=!0)},this.scrollX=function(){m.axis.x.isOverflowing&&(m.showScrollbar("x"),m.positionScrollbar("x")),m.scrollXTicking=!1},this.scrollY=function(){m.axis.y.isOverflowing&&(m.showScrollbar("y"),m.positionScrollbar("y")),m.scrollYTicking=!1},this.onMouseEnter=function(){m.showScrollbar("x"),m.showScrollbar("y")},this.onMouseMove=function(x){m.mouseX=x.clientX,m.mouseY=x.clientY,(m.axis.x.isOverflowing||m.axis.x.forceVisible)&&m.onMouseMoveForAxis("x"),(m.axis.y.isOverflowing||m.axis.y.forceVisible)&&m.onMouseMoveForAxis("y")},this.onMouseLeave=function(){m.onMouseMove.cancel(),(m.axis.x.isOverflowing||m.axis.x.forceVisible)&&m.onMouseLeaveForAxis("x"),(m.axis.y.isOverflowing||m.axis.y.forceVisible)&&m.onMouseLeaveForAxis("y"),m.mouseX=-1,m.mouseY=-1},this.onWindowResize=function(){m.scrollbarWidth=m.getScrollbarWidth(),m.hideNativeScrollbar()},this.hideScrollbars=function(){m.axis.x.track.rect=m.axis.x.track.el.getBoundingClientRect(),m.axis.y.track.rect=m.axis.y.track.el.getBoundingClientRect(),m.isWithinBounds(m.axis.y.track.rect)||(m.axis.y.scrollbar.el.classList.remove(m.classNames.visible),m.axis.y.isVisible=!1),m.isWithinBounds(m.axis.x.track.rect)||(m.axis.x.scrollbar.el.classList.remove(m.classNames.visible),m.axis.x.isVisible=!1)},this.onPointerEvent=function(x){var w,l;m.axis.x.track.rect=m.axis.x.track.el.getBoundingClientRect(),m.axis.y.track.rect=m.axis.y.track.el.getBoundingClientRect(),(m.axis.x.isOverflowing||m.axis.x.forceVisible)&&(w=m.isWithinBounds(m.axis.x.track.rect)),(m.axis.y.isOverflowing||m.axis.y.forceVisible)&&(l=m.isWithinBounds(m.axis.y.track.rect)),(w||l)&&(x.preventDefault(),x.stopPropagation(),x.type==="mousedown"&&(w&&(m.axis.x.scrollbar.rect=m.axis.x.scrollbar.el.getBoundingClientRect(),m.isWithinBounds(m.axis.x.scrollbar.rect)?m.onDragStart(x,"x"):m.onTrackClick(x,"x")),l&&(m.axis.y.scrollbar.rect=m.axis.y.scrollbar.el.getBoundingClientRect(),m.isWithinBounds(m.axis.y.scrollbar.rect)?m.onDragStart(x,"y"):m.onTrackClick(x,"y"))))},this.drag=function(x){var w,l=m.axis[m.draggedAxis].track,L=l.rect[m.axis[m.draggedAxis].sizeAttr],H=m.axis[m.draggedAxis].scrollbar,q=m.contentWrapperEl[m.axis[m.draggedAxis].scrollSizeAttr],J=parseInt(m.elStyles[m.axis[m.draggedAxis].sizeAttr],10);x.preventDefault(),x.stopPropagation(),m.draggedAxis==="y"?w=x.pageY:w=x.pageX;var oe=w-l.rect[m.axis[m.draggedAxis].offsetAttr]-m.axis[m.draggedAxis].dragOffset,de=oe/(L-H.size),ye=de*(q-J);m.draggedAxis==="x"&&(ye=m.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?ye-(L+H.size):ye,ye=m.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-ye:ye),m.contentWrapperEl[m.axis[m.draggedAxis].scrollOffsetAttr]=ye},this.onEndDrag=function(x){var w=fv(m.el),l=Gh(m.el);x.preventDefault(),x.stopPropagation(),m.el.classList.remove(m.classNames.dragging),w.removeEventListener("mousemove",m.drag,!0),w.removeEventListener("mouseup",m.onEndDrag,!0),m.removePreventClickId=l.setTimeout(function(){w.removeEventListener("click",m.preventClick,!0),w.removeEventListener("dblclick",m.preventClick,!0),m.removePreventClickId=null})},this.preventClick=function(x){x.preventDefault(),x.stopPropagation()},this.el=h,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,{},p),this.classNames=Object.assign({},e.defaultOptions.classNames,{},this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!e.instances.has(this.el)&&(this.recalculate=D4(this.recalculate.bind(this),64),this.onMouseMove=D4(this.onMouseMove.bind(this),64),this.hideScrollbars=L4(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=L4(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=$j(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var p=document.createElement("div");p.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var m=p.firstElementChild;document.body.appendChild(m);var x=m.firstElementChild;m.scrollLeft=0;var w=e.getOffset(m),l=e.getOffset(x);m.scrollLeft=999;var L=e.getOffset(x);return{isRtlScrollingInverted:w.left!==l.left&&l.left-L.left!==0,isRtlScrollbarInverted:w.left!==l.left}},e.getOffset=function(p){var m=p.getBoundingClientRect(),x=fv(p),w=Gh(p);return{top:m.top+(w.pageYOffset||x.documentElement.scrollTop),left:m.left+(w.pageXOffset||x.documentElement.scrollLeft)}};var r=e.prototype;return r.init=function(){e.instances.set(this.el,this),Dy&&(this.initDOM(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},r.initDOM=function(){var p=this;if(Array.prototype.filter.call(this.el.children,function(w){return w.classList.contains(p.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var m=document.createElement("div"),x=document.createElement("div");m.classList.add(this.classNames.track),x.classList.add(this.classNames.scrollbar),m.appendChild(x),this.axis.x.track.el=m.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=m.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},r.initListeners=function(){var p=this,m=Gh(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(l){p.el.addEventListener(l,p.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(l){p.el.addEventListener(l,p.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),m.addEventListener("resize",this.onWindowResize);var x=!1,w=m.ResizeObserver||uV;this.resizeObserver=new w(function(){x&&p.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),m.requestAnimationFrame(function(){x=!0}),this.mutationObserver=new m.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},r.recalculate=function(){var p=Gh(this.el);this.elStyles=p.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var m=this.heightAutoObserverEl.offsetHeight<=1,x=this.heightAutoObserverEl.offsetWidth<=1,w=this.contentEl.offsetWidth,l=this.contentWrapperEl.offsetWidth,L=this.elStyles.overflowX,H=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var q=this.contentEl.scrollHeight,J=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=m?"auto":"100%",this.placeholderEl.style.width=x?w+"px":"auto",this.placeholderEl.style.height=q+"px";var oe=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=J>w,this.axis.y.isOverflowing=q>oe,this.axis.x.isOverflowing=L==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=H==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var de=this.axis.x.isOverflowing?this.scrollbarWidth:0,ye=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&J>l-ye,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&q>oe-de,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},r.getScrollbarSize=function(p){if(p===void 0&&(p="y"),!this.axis[p].isOverflowing)return 0;var m=this.contentEl[this.axis[p].scrollSizeAttr],x=this.axis[p].track.el[this.axis[p].offsetSizeAttr],w,l=x/m;return w=Math.max(~~(l*x),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(w=Math.min(w,this.options.scrollbarMaxSize)),w},r.positionScrollbar=function(p){if(p===void 0&&(p="y"),!!this.axis[p].isOverflowing){var m=this.contentWrapperEl[this.axis[p].scrollSizeAttr],x=this.axis[p].track.el[this.axis[p].offsetSizeAttr],w=parseInt(this.elStyles[this.axis[p].sizeAttr],10),l=this.axis[p].scrollbar,L=this.contentWrapperEl[this.axis[p].scrollOffsetAttr];L=p==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-L:L;var H=L/(m-w),q=~~((x-l.size)*H);q=p==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?q+(x-l.size):q,l.el.style.transform=p==="x"?"translate3d("+q+"px, 0, 0)":"translate3d(0, "+q+"px, 0)"}},r.toggleTrackVisibility=function(p){p===void 0&&(p="y");var m=this.axis[p].track.el,x=this.axis[p].scrollbar.el;this.axis[p].isOverflowing||this.axis[p].forceVisible?(m.style.visibility="visible",this.contentWrapperEl.style[this.axis[p].overflowAttr]="scroll"):(m.style.visibility="hidden",this.contentWrapperEl.style[this.axis[p].overflowAttr]="hidden"),this.axis[p].isOverflowing?x.style.display="block":x.style.display="none"},r.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},r.onMouseMoveForAxis=function(p){p===void 0&&(p="y"),this.axis[p].track.rect=this.axis[p].track.el.getBoundingClientRect(),this.axis[p].scrollbar.rect=this.axis[p].scrollbar.el.getBoundingClientRect();var m=this.isWithinBounds(this.axis[p].scrollbar.rect);m?this.axis[p].scrollbar.el.classList.add(this.classNames.hover):this.axis[p].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[p].track.rect)?(this.showScrollbar(p),this.axis[p].track.el.classList.add(this.classNames.hover)):this.axis[p].track.el.classList.remove(this.classNames.hover)},r.onMouseLeaveForAxis=function(p){p===void 0&&(p="y"),this.axis[p].track.el.classList.remove(this.classNames.hover),this.axis[p].scrollbar.el.classList.remove(this.classNames.hover)},r.showScrollbar=function(p){p===void 0&&(p="y");var m=this.axis[p].scrollbar.el;this.axis[p].isVisible||(m.classList.add(this.classNames.visible),this.axis[p].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},r.onDragStart=function(p,m){m===void 0&&(m="y");var x=fv(this.el),w=Gh(this.el),l=this.axis[m].scrollbar,L=m==="y"?p.pageY:p.pageX;this.axis[m].dragOffset=L-l.rect[this.axis[m].offsetAttr],this.draggedAxis=m,this.el.classList.add(this.classNames.dragging),x.addEventListener("mousemove",this.drag,!0),x.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(x.addEventListener("click",this.preventClick,!0),x.addEventListener("dblclick",this.preventClick,!0)):(w.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},r.onTrackClick=function(p,m){var x=this;if(m===void 0&&(m="y"),!!this.options.clickOnTrack){var w=Gh(this.el);this.axis[m].scrollbar.rect=this.axis[m].scrollbar.el.getBoundingClientRect();var l=this.axis[m].scrollbar,L=l.rect[this.axis[m].offsetAttr],H=parseInt(this.elStyles[this.axis[m].sizeAttr],10),q=this.contentWrapperEl[this.axis[m].scrollOffsetAttr],J=m==="y"?this.mouseY-L:this.mouseX-L,oe=J<0?-1:1,de=oe===-1?q-H:q+H,ye=function ne(){if(oe===-1){if(q>de){var X;q-=x.options.clickOnTrackSpeed,x.contentWrapperEl.scrollTo((X={},X[x.axis[m].offsetAttr]=q,X)),w.requestAnimationFrame(ne)}}else if(q<de){var pe;q+=x.options.clickOnTrackSpeed,x.contentWrapperEl.scrollTo((pe={},pe[x.axis[m].offsetAttr]=q,pe)),w.requestAnimationFrame(ne)}};ye()}},r.getContentElement=function(){return this.contentEl},r.getScrollElement=function(){return this.contentWrapperEl},r.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:J4()}catch{return J4()}},r.removeListeners=function(){var p=this,m=Gh(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(x){p.el.removeEventListener(x,p.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(x){p.el.removeEventListener(x,p.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),m.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},r.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},r.isWithinBounds=function(p){return this.mouseX>=p.left&&this.mouseX<=p.left+p.width&&this.mouseY>=p.top&&this.mouseY<=p.top+p.height},r.findChild=function(p,m){var x=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector;return Array.prototype.filter.call(p.children,function(w){return x.call(w,m)})[0]},e}();as.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};as.instances=new WeakMap;as.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(e){e.getAttribute("data-simplebar")!=="init"&&!as.instances.has(e)&&new as(e,w1(e.attributes))})};as.removeObserver=function(){this.globalObserver.disconnect()};as.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver<"u"&&(this.globalObserver=new MutationObserver(as.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))};as.handleMutations=function(e){e.forEach(function(r){Array.prototype.forEach.call(r.addedNodes,function(h){h.nodeType===1&&(h.hasAttribute("data-simplebar")?!as.instances.has(h)&&new as(h,w1(h.attributes)):Array.prototype.forEach.call(h.querySelectorAll("[data-simplebar]"),function(p){p.getAttribute("data-simplebar")!=="init"&&!as.instances.has(p)&&new as(p,w1(p.attributes))}))}),Array.prototype.forEach.call(r.removedNodes,function(h){h.nodeType===1&&(h.hasAttribute('[data-simplebar="init"]')?as.instances.has(h)&&as.instances.get(h).unMount():Array.prototype.forEach.call(h.querySelectorAll('[data-simplebar="init"]'),function(p){as.instances.has(p)&&as.instances.get(p).unMount()}))})})};as.getOptions=w1;Dy&&as.initHtmlApi();document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new as(document.getElementsByClassName("js-simplebar")[0]);const r=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{r.classList.toggle("collapsed"),r.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bl=function(){return Bl=Object.assign||function(r){for(var h,p=1,m=arguments.length;p<m;p++){h=arguments[p];for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(r[x]=h[x])}return r},Bl.apply(this,arguments)},JU=function(){function e(r){this.options=r,this.listeners={}}return e.prototype.on=function(r,h){var p=this.listeners[r]||[];this.listeners[r]=p.concat([h])},e.prototype.triggerEvent=function(r,h){var p=this,m=this.listeners[r]||[];m.forEach(function(x){return x({target:p,event:h})})},e}(),jd;(function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"})(jd||(jd={}));var QU=function(){function e(){this.notifications=[]}return e.prototype.push=function(r){this.notifications.push(r),this.updateFn(r,jd.Add,this.notifications)},e.prototype.splice=function(r,h){var p=this.notifications.splice(r,h)[0];return this.updateFn(p,jd.Remove,this.notifications),p},e.prototype.indexOf=function(r){return this.notifications.indexOf(r)},e.prototype.onUpdate=function(r){this.updateFn=r},e}(),Xh;(function(e){e.Dismiss="dismiss",e.Click="click"})(Xh||(Xh={}));var Q4={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},eG=function(){function e(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var r=document.createDocumentFragment(),h=this._createHTMLElement({tagName:"div",className:"notyf"});r.appendChild(h),document.body.appendChild(r),this.container=h,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return e.prototype.on=function(r,h){var p;this.events=Bl(Bl({},this.events),(p={},p[r]=h,p))},e.prototype.update=function(r,h){h===jd.Add?this.addNotification(r):h===jd.Remove&&this.removeNotification(r)},e.prototype.removeNotification=function(r){var h=this,p=this._popRenderedNotification(r),m;if(p){m=p.node,m.classList.add("notyf__toast--disappear");var x;m.addEventListener(this.animationEndEventName,x=function(w){w.target===m&&(m.removeEventListener(h.animationEndEventName,x),h.container.removeChild(m))})}},e.prototype.addNotification=function(r){var h=this._renderNotification(r);this.notifications.push({notification:r,node:h}),this._announce(r.options.message||"Notification")},e.prototype._renderNotification=function(r){var h,p=this._buildNotificationCard(r),m=r.options.className;return m&&(h=p.classList).add.apply(h,m.split(" ")),this.container.appendChild(p),p},e.prototype._popRenderedNotification=function(r){for(var h=-1,p=0;p<this.notifications.length&&h<0;p++)this.notifications[p].notification===r&&(h=p);if(h!==-1)return this.notifications.splice(h,1)[0]},e.prototype.getXPosition=function(r){var h;return((h=r==null?void 0:r.position)===null||h===void 0?void 0:h.x)||"right"},e.prototype.getYPosition=function(r){var h;return((h=r==null?void 0:r.position)===null||h===void 0?void 0:h.y)||"bottom"},e.prototype.adjustContainerAlignment=function(r){var h=this.X_POSITION_FLEX_MAP[this.getXPosition(r)],p=this.Y_POSITION_FLEX_MAP[this.getYPosition(r)],m=this.container.style;m.setProperty("justify-content",p),m.setProperty("align-items",h)},e.prototype._buildNotificationCard=function(r){var h=this,p=r.options,m=p.icon;this.adjustContainerAlignment(p);var x=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),w=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),l=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),L=this._createHTMLElement({tagName:"div",className:"notyf__message"});L.innerHTML=p.message||"";var H=p.background||p.backgroundColor;if(m){var q=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof m=="string"||m instanceof String)&&(q.innerHTML=new String(m).valueOf()),typeof m=="object"){var J=m.tagName,oe=J===void 0?"i":J,de=m.className,ye=m.text,ne=m.color,X=ne===void 0?H:ne,pe=this._createHTMLElement({tagName:oe,className:de,text:ye});X&&(pe.style.color=X),q.appendChild(pe)}l.appendChild(q)}if(l.appendChild(L),x.appendChild(l),H&&(p.ripple?(w.style.background=H,x.appendChild(w)):x.style.background=H),p.dismissible){var ve=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),me=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});ve.appendChild(me),l.appendChild(ve),x.classList.add("notyf__toast--dismissible"),me.addEventListener("click",function(Ye){var Q,Dt;(Dt=(Q=h.events)[Xh.Dismiss])===null||Dt===void 0||Dt.call(Q,{target:r,event:Ye}),Ye.stopPropagation()})}x.addEventListener("click",function(Ye){var Q,Dt;return(Dt=(Q=h.events)[Xh.Click])===null||Dt===void 0?void 0:Dt.call(Q,{target:r,event:Ye})});var it=this.getYPosition(p)==="top"?"upper":"lower";return x.classList.add("notyf__toast--"+it),x},e.prototype._createHTMLElement=function(r){var h=r.tagName,p=r.className,m=r.text,x=document.createElement(h);return p&&(x.className=p),x.textContent=m||null,x},e.prototype._createA11yContainer=function(){var r=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.style.border="0",r.style.clip="rect(0 0 0 0)",r.style.height="1px",r.style.margin="-1px",r.style.overflow="hidden",r.style.padding="0",r.style.position="absolute",r.style.width="1px",r.style.outline="0",document.body.appendChild(r),this.a11yContainer=r},e.prototype._announce=function(r){var h=this;this.a11yContainer.textContent="",setTimeout(function(){h.a11yContainer.textContent=r},100)},e.prototype._getAnimationEndEventName=function(){var r=document.createElement("_fake"),h={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},p;for(p in h)if(r.style[p]!==void 0)return h[p];return"animationend"},e}(),tG=function(){function e(r){var h=this;this.dismiss=this._removeNotification,this.notifications=new QU,this.view=new eG;var p=this.registerTypes(r);this.options=Bl(Bl({},Q4),r),this.options.types=p,this.notifications.onUpdate(function(m,x){return h.view.update(m,x)}),this.view.on(Xh.Dismiss,function(m){var x=m.target,w=m.event;h._removeNotification(x),x.triggerEvent(Xh.Dismiss,w)}),this.view.on(Xh.Click,function(m){var x=m.target,w=m.event;return x.triggerEvent(Xh.Click,w)})}return e.prototype.error=function(r){var h=this.normalizeOptions("error",r);return this.open(h)},e.prototype.success=function(r){var h=this.normalizeOptions("success",r);return this.open(h)},e.prototype.open=function(r){var h=this.options.types.find(function(x){var w=x.type;return w===r.type})||{},p=Bl(Bl({},h),r);this.assignProps(["ripple","position","dismissible"],p);var m=new JU(p);return this._pushNotification(m),m},e.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},e.prototype.assignProps=function(r,h){var p=this;r.forEach(function(m){h[m]=h[m]==null?p.options[m]:h[m]})},e.prototype._pushNotification=function(r){var h=this;this.notifications.push(r);var p=r.options.duration!==void 0?r.options.duration:this.options.duration;p&&setTimeout(function(){return h._removeNotification(r)},p)},e.prototype._removeNotification=function(r){var h=this.notifications.indexOf(r);h!==-1&&this.notifications.splice(h,1)},e.prototype.normalizeOptions=function(r,h){var p={type:r};return typeof h=="string"?p.message=h:typeof h=="object"&&(p=Bl(Bl({},p),h)),p},e.prototype.registerTypes=function(r){var h=(r&&r.types||[]).slice(),p=Q4.types.map(function(m){var x=-1;h.forEach(function(l,L){l.type===m.type&&(x=L)});var w=x!==-1?h.splice(x,1)[0]:{};return Bl(Bl({},m),w)});return p.concat(h)},e}(),iG="#409e72",ew="#ac4946";window.notyf=new tG({duration:3e3,position:{x:"right",y:"top"},dismissible:!0,types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:iG,icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:ew,icon:{className:"notyf__icon--error",tagName:"i"}},{type:"error",backgroundColor:ew,icon:{className:"notyf__icon--error",tagName:"i"}}]});const tw=document.getElementById("success-message"),iw=document.getElementById("error-message");tw?window.notyf.success(tw.textContent):iw&&window.notyf.error(iw.textContent);/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const rG=e=>e instanceof HTMLElement,nG=(e,r=[],h=[])=>{const p={...e},m=[],x=[],w=()=>({...p}),l=()=>{const ye=[...m];return m.length=0,ye},L=()=>{const ye=[...x];x.length=0,ye.forEach(({type:ne,data:X})=>{H(ne,X)})},H=(ye,ne,X)=>{if(X&&!document.hidden){x.push({type:ye,data:ne});return}de[ye]&&de[ye](ne),m.push({type:ye,data:ne})},q=(ye,...ne)=>oe[ye]?oe[ye](...ne):null,J={getState:w,processActionQueue:l,processDispatchQueue:L,dispatch:H,query:q};let oe={};r.forEach(ye=>{oe={...ye(p),...oe}});let de={};return h.forEach(ye=>{de={...ye(H,q,p),...de}}),J},aG=(e,r,h)=>{if(typeof h=="function"){e[r]=h;return}Object.defineProperty(e,r,{...h})},Va=(e,r)=>{for(const h in e)e.hasOwnProperty(h)&&r(h,e[h])},Kh=e=>{const r={};return Va(e,h=>{aG(r,h,e[h])}),r},ss=(e,r,h=null)=>{if(h===null)return e.getAttribute(r)||e.hasAttribute(r);e.setAttribute(r,h)},sG="http://www.w3.org/2000/svg",oG=["svg","path"],rw=e=>oG.includes(e),E1=(e,r,h={})=>{typeof r=="object"&&(h=r,r=null);const p=rw(e)?document.createElementNS(sG,e):document.createElement(e);return r&&(rw(e)?ss(p,"class",r):p.className=r),Va(h,(m,x)=>{ss(p,m,x)}),p},lG=e=>(r,h)=>{typeof h<"u"&&e.children[h]?e.insertBefore(r,e.children[h]):e.appendChild(r)},cG=(e,r)=>(h,p)=>(typeof p<"u"?r.splice(p,0,h):r.push(h),h),hG=(e,r)=>h=>(r.splice(r.indexOf(h),1),h.element.parentNode&&e.removeChild(h.element),h),uG=(()=>typeof window<"u"&&typeof window.document<"u")(),ZT=()=>uG,dG=ZT()?E1("svg"):{},fG="children"in dG?e=>e.children.length:e=>e.childNodes.length,qT=(e,r,h,p)=>{const m=h[0]||e.left,x=h[1]||e.top,w=m+e.width,l=x+e.height*(p[1]||1),L={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:m,top:x,right:w,bottom:l}};return r.filter(H=>!H.isRectIgnored()).map(H=>H.rect).forEach(H=>{nw(L.inner,{...H.inner}),nw(L.outer,{...H.outer})}),aw(L.inner),L.outer.bottom+=L.element.marginBottom,L.outer.right+=L.element.marginRight,aw(L.outer),L},nw=(e,r)=>{r.top+=e.top,r.right+=e.left,r.bottom+=e.top,r.left+=e.left,r.bottom>e.bottom&&(e.bottom=r.bottom),r.right>e.right&&(e.right=r.right)},aw=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Eu=e=>typeof e=="number",pG=(e,r,h,p=.001)=>Math.abs(e-r)<p&&Math.abs(h)<p,mG=({stiffness:e=.5,damping:r=.75,mass:h=10}={})=>{let p=null,m=null,x=0,w=!1;const H=Kh({interpolate:(q,J)=>{if(w)return;if(!(Eu(p)&&Eu(m))){w=!0,x=0;return}const oe=-(m-p)*e;x+=oe/h,m+=x,x*=r,pG(m,p,x)||J?(m=p,x=0,w=!0,H.onupdate(m),H.oncomplete(m)):H.onupdate(m)},target:{set:q=>{if(Eu(q)&&!Eu(m)&&(m=q),p===null&&(p=q,m=q),p=q,m===p||typeof p>"u"){w=!0,x=0,H.onupdate(m),H.oncomplete(m);return}w=!1},get:()=>p},resting:{get:()=>w},onupdate:q=>{},oncomplete:q=>{}});return H},gG=e=>e<.5?2*e*e:-1+(4-2*e)*e,vG=({duration:e=500,easing:r=gG,delay:h=0}={})=>{let p=null,m,x,w=!0,l=!1,L=null;const q=Kh({interpolate:(J,oe)=>{w||L===null||(p===null&&(p=J),!(J-p<h)&&(m=J-p-h,m>=e||oe?(m=1,x=l?0:1,q.onupdate(x*L),q.oncomplete(x*L),w=!0):(x=m/e,q.onupdate((m>=0?r(l?1-x:x):0)*L))))},target:{get:()=>l?0:L,set:J=>{if(L===null){L=J,q.onupdate(J),q.oncomplete(J);return}J<L?(L=1,l=!0):(l=!1,L=J),w=!1,p=null}},resting:{get:()=>w},onupdate:J=>{},oncomplete:J=>{}});return q},sw={spring:mG,tween:vG},yG=(e,r,h)=>{const p=e[r]&&typeof e[r][h]=="object"?e[r][h]:e[r]||e,m=typeof p=="string"?p:p.type,x=typeof p=="object"?{...p}:{};return sw[m]?sw[m](x):null},Yy=(e,r,h,p=!1)=>{r=Array.isArray(r)?r:[r],r.forEach(m=>{e.forEach(x=>{let w=x,l=()=>h[x],L=H=>h[x]=H;typeof x=="object"&&(w=x.key,l=x.getter||l,L=x.setter||L),!(m[w]&&!p)&&(m[w]={get:l,set:L})})})},xG=({mixinConfig:e,viewProps:r,viewInternalAPI:h,viewExternalAPI:p})=>{const m={...r},x=[];return Va(e,(w,l)=>{const L=yG(l);if(!L)return;L.onupdate=q=>{r[w]=q},L.target=m[w],Yy([{key:w,setter:q=>{L.target!==q&&(L.target=q)},getter:()=>r[w]}],[h,p],r,!0),x.push(L)}),{write:w=>{let l=document.hidden,L=!0;return x.forEach(H=>{H.resting||(L=!1),H.interpolate(w,l)}),L},destroy:()=>{}}},_G=e=>(r,h)=>{e.addEventListener(r,h)},bG=e=>(r,h)=>{e.removeEventListener(r,h)},wG=({mixinConfig:e,viewProps:r,viewInternalAPI:h,viewExternalAPI:p,viewState:m,view:x})=>{const w=[],l=_G(x.element),L=bG(x.element);return p.on=(H,q)=>{w.push({type:H,fn:q}),l(H,q)},p.off=(H,q)=>{w.splice(w.findIndex(J=>J.type===H&&J.fn===q),1),L(H,q)},{write:()=>!0,destroy:()=>{w.forEach(H=>{L(H.type,H.fn)})}}},EG=({mixinConfig:e,viewProps:r,viewExternalAPI:h})=>{Yy(e,h,r)},Mo=e=>e!=null,TG={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},SG=({mixinConfig:e,viewProps:r,viewInternalAPI:h,viewExternalAPI:p,view:m})=>{const x={...r},w={};Yy(e,[h,p],r);const l=()=>[r.translateX||0,r.translateY||0],L=()=>[r.scaleX||0,r.scaleY||0],H=()=>m.rect?qT(m.rect,m.childViews,l(),L()):null;return h.rect={get:H},p.rect={get:H},e.forEach(q=>{r[q]=typeof x[q]>"u"?TG[q]:x[q]}),{write:()=>{if(AG(w,r))return MG(m.element,r),Object.assign(w,{...r}),!0},destroy:()=>{}}},AG=(e,r)=>{if(Object.keys(e).length!==Object.keys(r).length)return!0;for(const h in r)if(r[h]!==e[h])return!0;return!1},MG=(e,{opacity:r,perspective:h,translateX:p,translateY:m,scaleX:x,scaleY:w,rotateX:l,rotateY:L,rotateZ:H,originX:q,originY:J,width:oe,height:de})=>{let ye="",ne="";(Mo(q)||Mo(J))&&(ne+=`transform-origin: ${q||0}px ${J||0}px;`),Mo(h)&&(ye+=`perspective(${h}px) `),(Mo(p)||Mo(m))&&(ye+=`translate3d(${p||0}px, ${m||0}px, 0) `),(Mo(x)||Mo(w))&&(ye+=`scale3d(${Mo(x)?x:1}, ${Mo(w)?w:1}, 1) `),Mo(H)&&(ye+=`rotateZ(${H}rad) `),Mo(l)&&(ye+=`rotateX(${l}rad) `),Mo(L)&&(ye+=`rotateY(${L}rad) `),ye.length&&(ne+=`transform:${ye};`),Mo(r)&&(ne+=`opacity:${r};`,r===0&&(ne+="visibility:hidden;"),r<1&&(ne+="pointer-events:none;")),Mo(de)&&(ne+=`height:${de}px;`),Mo(oe)&&(ne+=`width:${oe}px;`);const X=e.elementCurrentStyle||"";(ne.length!==X.length||ne!==X)&&(e.style.cssText=ne,e.elementCurrentStyle=ne)},CG={styles:SG,listeners:wG,animations:xG,apis:EG},ow=(e={},r={},h={})=>(r.layoutCalculated||(e.paddingTop=parseInt(h.paddingTop,10)||0,e.marginTop=parseInt(h.marginTop,10)||0,e.marginRight=parseInt(h.marginRight,10)||0,e.marginBottom=parseInt(h.marginBottom,10)||0,e.marginLeft=parseInt(h.marginLeft,10)||0,r.layoutCalculated=!0),e.left=r.offsetLeft||0,e.top=r.offsetTop||0,e.width=r.offsetWidth||0,e.height=r.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=r.scrollTop,e.hidden=r.offsetParent===null,e),ls=({tag:e="div",name:r=null,attributes:h={},read:p=()=>{},write:m=()=>{},create:x=()=>{},destroy:w=()=>{},filterFrameActionsForChild:l=(de,ye)=>ye,didCreateView:L=()=>{},didWriteView:H=()=>{},ignoreRect:q=!1,ignoreRectUpdate:J=!1,mixins:oe=[]}={})=>(de,ye={})=>{const ne=E1(e,`filepond--${r}`,h),X=window.getComputedStyle(ne,null),pe=ow();let ve=null,me=!1;const it=[],Ye=[],Q={},Dt={},St=[m],At=[p],ui=[w],Ue=()=>ne,Pe=()=>it.concat(),De=()=>Q,te=rt=>(Ot,hi)=>Ot(rt,hi),fe=()=>ve||(ve=qT(pe,it,[0,0],[1,1]),ve),le=()=>X,Se=()=>{ve=null,it.forEach(hi=>hi._read()),!(J&&pe.width&&pe.height)&&ow(pe,ne,X);const Ot={root:Ie,props:ye,rect:pe};At.forEach(hi=>hi(Ot))},Re=(rt,Ot,hi)=>{let gi=Ot.length===0;return St.forEach(Li=>{Li({props:ye,root:Ie,actions:Ot,timestamp:rt,shouldOptimize:hi})===!1&&(gi=!1)}),Ye.forEach(Li=>{Li.write(rt)===!1&&(gi=!1)}),it.filter(Li=>!!Li.element.parentNode).forEach(Li=>{Li._write(rt,l(Li,Ot),hi)||(gi=!1)}),it.forEach((Li,ur)=>{Li.element.parentNode||(Ie.appendChild(Li.element,ur),Li._read(),Li._write(rt,l(Li,Ot),hi),gi=!1)}),me=gi,H({props:ye,root:Ie,actions:Ot,timestamp:rt}),gi},ot=()=>{Ye.forEach(rt=>rt.destroy()),ui.forEach(rt=>{rt({root:Ie,props:ye})}),it.forEach(rt=>rt._destroy())},ht={element:{get:Ue},style:{get:le},childViews:{get:Pe}},Pt={...ht,rect:{get:fe},ref:{get:De},is:rt=>r===rt,appendChild:lG(ne),createChildView:te(de),linkView:rt=>(it.push(rt),rt),unlinkView:rt=>{it.splice(it.indexOf(rt),1)},appendChildView:cG(ne,it),removeChildView:hG(ne,it),registerWriter:rt=>St.push(rt),registerReader:rt=>At.push(rt),registerDestroyer:rt=>ui.push(rt),invalidateLayout:()=>ne.layoutCalculated=!1,dispatch:de.dispatch,query:de.query},Ne={element:{get:Ue},childViews:{get:Pe},rect:{get:fe},resting:{get:()=>me},isRectIgnored:()=>q,_read:Se,_write:Re,_destroy:ot},Ze={...ht,rect:{get:()=>pe}};Object.keys(oe).sort((rt,Ot)=>rt==="styles"?1:Ot==="styles"?-1:0).forEach(rt=>{const Ot=CG[rt]({mixinConfig:oe[rt],viewProps:ye,viewState:Dt,viewInternalAPI:Pt,viewExternalAPI:Ne,view:Kh(Ze)});Ot&&Ye.push(Ot)});const Ie=Kh(Pt);x({root:Ie,props:ye});const We=fG(ne);return it.forEach((rt,Ot)=>{Ie.appendChild(rt.element,We+Ot)}),L(Ie),Kh(Ne)},IG=(e,r,h=60)=>{const p="__framePainter";if(window[p]){window[p].readers.push(e),window[p].writers.push(r);return}window[p]={readers:[e],writers:[r]};const m=window[p],x=1e3/h;let w=null,l=null,L=null,H=null;const q=()=>{document.hidden?(L=()=>window.setTimeout(()=>J(performance.now()),x),H=()=>window.clearTimeout(l)):(L=()=>window.requestAnimationFrame(J),H=()=>window.cancelAnimationFrame(l))};document.addEventListener("visibilitychange",()=>{H&&H(),q(),J(performance.now())});const J=oe=>{l=L(J),w||(w=oe);const de=oe-w;de<=x||(w=oe-de%x,m.readers.forEach(ye=>ye()),m.writers.forEach(ye=>ye(oe)))};return q(),J(performance.now()),{pause:()=>{H(l)}}},Po=(e,r)=>({root:h,props:p,actions:m=[],timestamp:x,shouldOptimize:w})=>{m.filter(l=>e[l.type]).forEach(l=>e[l.type]({root:h,props:p,action:l.data,timestamp:x,shouldOptimize:w})),r&&r({root:h,props:p,actions:m,timestamp:x,shouldOptimize:w})},lw=(e,r)=>r.parentNode.insertBefore(e,r),cw=(e,r)=>r.parentNode.insertBefore(e,r.nextSibling),nm=e=>Array.isArray(e),yh=e=>e==null,kG=e=>e.trim(),am=e=>""+e,DG=(e,r=",")=>yh(e)?[]:nm(e)?e:am(e).split(r).map(kG).filter(h=>h.length),KT=e=>typeof e=="boolean",JT=e=>KT(e)?e:e==="true",Io=e=>typeof e=="string",QT=e=>Eu(e)?e:Io(e)?am(e).replace(/[a-z]+/gi,""):0,Kp=e=>parseInt(QT(e),10),hw=e=>parseFloat(QT(e)),Jd=e=>Eu(e)&&isFinite(e)&&Math.floor(e)===e,uw=(e,r=1e3)=>{if(Jd(e))return e;let h=am(e).trim();return/MB$/i.test(h)?(h=h.replace(/MB$i/,"").trim(),Kp(h)*r*r):/KB/i.test(h)?(h=h.replace(/KB$i/,"").trim(),Kp(h)*r):Kp(h)},Tu=e=>typeof e=="function",PG=e=>{let r=self,h=e.split("."),p=null;for(;p=h.shift();)if(r=r[p],!r)return null;return r},dw={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},OG=e=>{const r={};return r.url=Io(e)?e:e.url||"",r.timeout=e.timeout?parseInt(e.timeout,10):0,r.headers=e.headers?e.headers:{},Va(dw,h=>{r[h]=LG(h,e[h],dw[h],r.timeout,r.headers)}),r.process=e.process||Io(e)||e.url?r.process:null,r.remove=e.remove||null,delete r.headers,r},LG=(e,r,h,p,m)=>{if(r===null)return null;if(typeof r=="function")return r;const x={url:h==="GET"||h==="PATCH"?`?${e}=`:"",method:h,headers:m,withCredentials:!1,timeout:p,onload:null,ondata:null,onerror:null};if(Io(r))return x.url=r,x;if(Object.assign(x,r),Io(x.headers)){const w=x.headers.split(/:(.+)/);x.headers={header:w[0],value:w[1]}}return x.withCredentials=JT(x.withCredentials),x},RG=e=>OG(e),zG=e=>e===null,zs=e=>typeof e=="object"&&e!==null,NG=e=>zs(e)&&Io(e.url)&&zs(e.process)&&zs(e.revert)&&zs(e.restore)&&zs(e.fetch),T2=e=>nm(e)?"array":zG(e)?"null":Jd(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":NG(e)?"api":typeof e,FG=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),BG={array:DG,boolean:JT,int:e=>T2(e)==="bytes"?uw(e):Kp(e),number:hw,float:hw,bytes:uw,string:e=>Tu(e)?e:am(e),function:e=>PG(e),serverapi:RG,object:e=>{try{return JSON.parse(FG(e))}catch{return null}}},jG=(e,r)=>BG[r](e),e8=(e,r,h)=>{if(e===r)return e;let p=T2(e);if(p!==h){const m=jG(e,h);if(p=T2(m),m===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${h}"`;e=m}return e},VG=(e,r)=>{let h=e;return{enumerable:!0,get:()=>h,set:p=>{h=e8(p,e,r)}}},UG=e=>{const r={};return Va(e,h=>{const p=e[h];r[h]=VG(p[0],p[1])}),Kh(r)},GG=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:UG(e)}),sm=(e,r="-")=>e.split(/(?=[A-Z])/).map(h=>h.toLowerCase()).join(r),HG=(e,r)=>{const h={};return Va(r,p=>{h[p]={get:()=>e.getState().options[p],set:m=>{e.dispatch(`SET_${sm(p,"_").toUpperCase()}`,{value:m})}}}),h},WG=e=>(r,h,p)=>{const m={};return Va(e,x=>{const w=sm(x,"_").toUpperCase();m[`SET_${w}`]=l=>{try{p.options[x]=l.value}catch{}r(`DID_SET_${w}`,{value:p.options[x]})}}),m},YG=e=>r=>{const h={};return Va(e,p=>{h[`GET_${sm(p,"_").toUpperCase()}`]=m=>r.options[p]}),h},Ul={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},$y=()=>Math.random().toString(36).substring(2,11),Xy=(e,r)=>e.splice(r,1),$G=(e,r)=>{r?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},om=()=>{const e=[],r=(p,m)=>{Xy(e,e.findIndex(x=>x.event===p&&(x.cb===m||!m)))},h=(p,m,x)=>{e.filter(w=>w.event===p).map(w=>w.cb).forEach(w=>$G(()=>w(...m),x))};return{fireSync:(p,...m)=>{h(p,m,!0)},fire:(p,...m)=>{h(p,m,!1)},on:(p,m)=>{e.push({event:p,cb:m})},onOnce:(p,m)=>{e.push({event:p,cb:(...x)=>{r(p,m),m(...x)}})},off:r}},t8=(e,r,h)=>{Object.getOwnPropertyNames(e).filter(p=>!h.includes(p)).forEach(p=>Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(e,p)))},XG=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Wo=e=>{const r={};return t8(e,r,XG),r},ZG=e=>{e.forEach((r,h)=>{r.released&&Xy(e,h)})},jr={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Rs={INPUT:1,LIMBO:2,LOCAL:3},i8=e=>/[^0-9]+/.exec(e),r8=()=>i8(1.1 .toLocaleString())[0],qG=()=>{const e=r8(),r=1e3 .toLocaleString(),h=1e3 .toString();return r!==h?i8(r)[0]:e==="."?",":"."},Ri={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Zy=[],uc=(e,r,h)=>new Promise((p,m)=>{const x=Zy.filter(l=>l.key===e).map(l=>l.cb);if(x.length===0){p(r);return}const w=x.shift();x.reduce((l,L)=>l.then(H=>L(H,h)),w(r,h)).then(l=>p(l)).catch(l=>m(l))}),ju=(e,r,h)=>Zy.filter(p=>p.key===e).map(p=>p.cb(r,h)),KG=(e,r)=>Zy.push({key:e,cb:r}),JG=e=>Object.assign(Md,e),T1=()=>({...Md}),QG=e=>{Va(e,(r,h)=>{Md[r]&&(Md[r][0]=e8(h,Md[r][0],Md[r][1]))})},Md={id:[null,Ri.STRING],name:["filepond",Ri.STRING],disabled:[!1,Ri.BOOLEAN],className:[null,Ri.STRING],required:[!1,Ri.BOOLEAN],captureMethod:[null,Ri.STRING],allowSyncAcceptAttribute:[!0,Ri.BOOLEAN],allowDrop:[!0,Ri.BOOLEAN],allowBrowse:[!0,Ri.BOOLEAN],allowPaste:[!0,Ri.BOOLEAN],allowMultiple:[!1,Ri.BOOLEAN],allowReplace:[!0,Ri.BOOLEAN],allowRevert:[!0,Ri.BOOLEAN],allowRemove:[!0,Ri.BOOLEAN],allowProcess:[!0,Ri.BOOLEAN],allowReorder:[!1,Ri.BOOLEAN],allowDirectoriesOnly:[!1,Ri.BOOLEAN],storeAsFile:[!1,Ri.BOOLEAN],forceRevert:[!1,Ri.BOOLEAN],maxFiles:[null,Ri.INT],checkValidity:[!1,Ri.BOOLEAN],itemInsertLocationFreedom:[!0,Ri.BOOLEAN],itemInsertLocation:["before",Ri.STRING],itemInsertInterval:[75,Ri.INT],dropOnPage:[!1,Ri.BOOLEAN],dropOnElement:[!0,Ri.BOOLEAN],dropValidation:[!1,Ri.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ri.ARRAY],instantUpload:[!0,Ri.BOOLEAN],maxParallelUploads:[2,Ri.INT],allowMinimumUploadDuration:[!0,Ri.BOOLEAN],chunkUploads:[!1,Ri.BOOLEAN],chunkForce:[!1,Ri.BOOLEAN],chunkSize:[5e6,Ri.INT],chunkRetryDelays:[[500,1e3,3e3],Ri.ARRAY],server:[null,Ri.SERVER_API],fileSizeBase:[1e3,Ri.INT],labelFileSizeBytes:["bytes",Ri.STRING],labelFileSizeKilobytes:["KB",Ri.STRING],labelFileSizeMegabytes:["MB",Ri.STRING],labelFileSizeGigabytes:["GB",Ri.STRING],labelDecimalSeparator:[r8(),Ri.STRING],labelThousandsSeparator:[qG(),Ri.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ri.STRING],labelInvalidField:["Field contains invalid files",Ri.STRING],labelFileWaitingForSize:["Waiting for size",Ri.STRING],labelFileSizeNotAvailable:["Size not available",Ri.STRING],labelFileCountSingular:["file in list",Ri.STRING],labelFileCountPlural:["files in list",Ri.STRING],labelFileLoading:["Loading",Ri.STRING],labelFileAdded:["Added",Ri.STRING],labelFileLoadError:["Error during load",Ri.STRING],labelFileRemoved:["Removed",Ri.STRING],labelFileRemoveError:["Error during remove",Ri.STRING],labelFileProcessing:["Uploading",Ri.STRING],labelFileProcessingComplete:["Upload complete",Ri.STRING],labelFileProcessingAborted:["Upload cancelled",Ri.STRING],labelFileProcessingError:["Error during upload",Ri.STRING],labelFileProcessingRevertError:["Error during revert",Ri.STRING],labelTapToCancel:["tap to cancel",Ri.STRING],labelTapToRetry:["tap to retry",Ri.STRING],labelTapToUndo:["tap to undo",Ri.STRING],labelButtonRemoveItem:["Remove",Ri.STRING],labelButtonAbortItemLoad:["Abort",Ri.STRING],labelButtonRetryItemLoad:["Retry",Ri.STRING],labelButtonAbortItemProcessing:["Cancel",Ri.STRING],labelButtonUndoItemProcessing:["Undo",Ri.STRING],labelButtonRetryItemProcessing:["Retry",Ri.STRING],labelButtonProcessItem:["Upload",Ri.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ri.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ri.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ri.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ri.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ri.STRING],oninit:[null,Ri.FUNCTION],onwarning:[null,Ri.FUNCTION],onerror:[null,Ri.FUNCTION],onactivatefile:[null,Ri.FUNCTION],oninitfile:[null,Ri.FUNCTION],onaddfilestart:[null,Ri.FUNCTION],onaddfileprogress:[null,Ri.FUNCTION],onaddfile:[null,Ri.FUNCTION],onprocessfilestart:[null,Ri.FUNCTION],onprocessfileprogress:[null,Ri.FUNCTION],onprocessfileabort:[null,Ri.FUNCTION],onprocessfilerevert:[null,Ri.FUNCTION],onprocessfile:[null,Ri.FUNCTION],onprocessfiles:[null,Ri.FUNCTION],onremovefile:[null,Ri.FUNCTION],onpreparefile:[null,Ri.FUNCTION],onupdatefiles:[null,Ri.FUNCTION],onreorderfiles:[null,Ri.FUNCTION],beforeDropFile:[null,Ri.FUNCTION],beforeAddFile:[null,Ri.FUNCTION],beforeRemoveFile:[null,Ri.FUNCTION],beforePrepareFile:[null,Ri.FUNCTION],stylePanelLayout:[null,Ri.STRING],stylePanelAspectRatio:[null,Ri.STRING],styleItemPanelAspectRatio:[null,Ri.STRING],styleButtonRemoveItemPosition:["left",Ri.STRING],styleButtonProcessItemPosition:["right",Ri.STRING],styleLoadIndicatorPosition:["right",Ri.STRING],styleProgressIndicatorPosition:["right",Ri.STRING],styleButtonRemoveItemAlign:[!1,Ri.BOOLEAN],files:[[],Ri.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Ri.ARRAY]},Su=(e,r)=>yh(r)?e[0]||null:Jd(r)?e[r]||null:(typeof r=="object"&&(r=r.id),e.find(h=>h.id===r)||null),n8=e=>{if(yh(e))return e;if(/:/.test(e)){const r=e.split(":");return r[1]/r[0]}return parseFloat(e)},fc=e=>e.filter(r=>!r.archived),eH={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let kp=null;const tH=()=>{if(kp===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const r=document.createElement("input");r.setAttribute("type","file"),r.files=e.files,kp=r.files.length===1}catch{kp=!1}return kp},iH=[jr.LOAD_ERROR,jr.PROCESSING_ERROR,jr.PROCESSING_REVERT_ERROR],rH=[jr.LOADING,jr.PROCESSING,jr.PROCESSING_QUEUED,jr.INIT],nH=[jr.PROCESSING_COMPLETE],aH=e=>iH.includes(e.status),sH=e=>rH.includes(e.status),oH=e=>nH.includes(e.status),fw=e=>zs(e.options.server)&&(zs(e.options.server.process)||Tu(e.options.server.process)),lH=e=>({GET_STATUS:()=>{const r=fc(e.items),{EMPTY:h,ERROR:p,BUSY:m,IDLE:x,READY:w}=eH;return r.length===0?h:r.some(aH)?p:r.some(sH)?m:r.some(oH)?w:x},GET_ITEM:r=>Su(e.items,r),GET_ACTIVE_ITEM:r=>Su(fc(e.items),r),GET_ACTIVE_ITEMS:()=>fc(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:r=>{const h=Su(e.items,r);return h?h.filename:null},GET_ITEM_SIZE:r=>{const h=Su(e.items,r);return h?h.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(r=>/^style/.test(r)).map(r=>({name:r,value:e.options[r]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:n8(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:r=>fc(e.items).filter(h=>h.status===r),GET_TOTAL_ITEMS:()=>fc(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&tH()&&!fw(e),IS_ASYNC:()=>fw(e),GET_FILE_SIZE_LABELS:r=>({labelBytes:r("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:r("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:r("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:r("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),cH=e=>{const r=fc(e.items).length;if(!e.options.allowMultiple)return r===0;const h=e.options.maxFiles;return h===null||r<h},a8=(e,r,h)=>Math.max(Math.min(h,e),r),hH=(e,r,h)=>e.splice(r,0,h),uH=(e,r,h)=>yh(r)?null:typeof h>"u"?(e.push(r),r):(h=a8(h,0,e.length),hH(e,h,r),r),S2=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Mf=e=>e.split("/").pop().split("?").shift(),lm=e=>e.split(".").pop(),dH=e=>{if(typeof e!="string")return"";const r=e.split("/").pop();return/svg/.test(r)?"svg":/zip|compressed/.test(r)?"zip":/plain/.test(r)?"txt":/msword/.test(r)?"doc":/[a-z]+/.test(r)?r==="jpeg"?"jpg":r:""},W0=(e,r="")=>(r+e).slice(-r.length),s8=(e=new Date)=>`${e.getFullYear()}-${W0(e.getMonth()+1,"00")}-${W0(e.getDate(),"00")}_${W0(e.getHours(),"00")}-${W0(e.getMinutes(),"00")}-${W0(e.getSeconds(),"00")}`,Vd=(e,r,h=null,p=null)=>{const m=typeof h=="string"?e.slice(0,e.size,h):e.slice(0,e.size,e.type);return m.lastModifiedDate=new Date,e._relativePath&&(m._relativePath=e._relativePath),Io(r)||(r=s8()),r&&p===null&&lm(r)?m.name=r:(p=p||dH(m.type),m.name=r+(p?"."+p:"")),m},fH=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o8=(e,r)=>{const h=fH();if(h){const p=new h;return p.append(e),p.getBlob(r)}return new Blob([e],{type:r})},pH=(e,r)=>{const h=new ArrayBuffer(e.length),p=new Uint8Array(h);for(let m=0;m<e.length;m++)p[m]=e.charCodeAt(m);return o8(h,r)},l8=e=>(/^data:(.+);/.exec(e)||[])[1]||null,mH=e=>e.split(",")[1].replace(/\s/g,""),gH=e=>atob(mH(e)),vH=e=>{const r=l8(e),h=gH(e);return pH(h,r)},yH=(e,r,h)=>Vd(vH(e),r,null,h),xH=e=>{if(!/^content-disposition:/i.test(e))return null;const r=e.split(/filename=|filename\*=.+''/).splice(1).map(h=>h.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(h=>h.length);return r.length?decodeURI(r[r.length-1]):null},_H=e=>{if(/content-length:/i.test(e)){const r=e.match(/[0-9]+/)[0];return r?parseInt(r,10):null}return null},bH=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,qy=e=>{const r={source:null,name:null,size:null},h=e.split(`
`);for(let p of h){const m=xH(p);if(m){r.name=m;continue}const x=_H(p);if(x){r.size=x;continue}const w=bH(p);if(w){r.source=w;continue}}return r},wH=e=>{const r={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},h=()=>r.progress,p=()=>{r.request&&r.request.abort&&r.request.abort()},m=()=>{const l=r.source;w.fire("init",l),l instanceof File?w.fire("load",l):l instanceof Blob?w.fire("load",Vd(l,l.name)):S2(l)?w.fire("load",yH(l)):x(l)},x=l=>{if(!e){w.fire("error",{type:"error",body:"Can't load URL",code:400});return}r.timestamp=Date.now(),r.request=e(l,L=>{r.duration=Date.now()-r.timestamp,r.complete=!0,L instanceof Blob&&(L=Vd(L,L.name||Mf(l))),w.fire("load",L instanceof Blob?L:L?L.body:null)},L=>{w.fire("error",typeof L=="string"?{type:"error",code:0,body:L}:L)},(L,H,q)=>{if(q&&(r.size=q),r.duration=Date.now()-r.timestamp,!L){r.progress=null;return}r.progress=H/q,w.fire("progress",r.progress)},()=>{w.fire("abort")},L=>{const H=qy(typeof L=="string"?L:L.headers);w.fire("meta",{size:r.size||H.size,filename:H.name,source:H.source})})},w={...om(),setSource:l=>r.source=l,getProgress:h,abort:p,load:m};return w},pw=e=>/GET|HEAD/.test(e),Cu=(e,r,h)=>{const p={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{m=!0,w.abort()}};let m=!1,x=!1;h={method:"POST",headers:{},withCredentials:!1,...h},r=encodeURI(r),pw(h.method)&&e&&(r=`${r}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const w=new XMLHttpRequest,l=pw(h.method)?w:w.upload;return l.onprogress=L=>{m||p.onprogress(L.lengthComputable,L.loaded,L.total)},w.onreadystatechange=()=>{w.readyState<2||w.readyState===4&&w.status===0||x||(x=!0,p.onheaders(w))},w.onload=()=>{w.status>=200&&w.status<300?p.onload(w):p.onerror(w)},w.onerror=()=>p.onerror(w),w.onabort=()=>{m=!0,p.onabort()},w.ontimeout=()=>p.ontimeout(w),w.open(h.method,r,!0),Jd(h.timeout)&&(w.timeout=h.timeout),Object.keys(h.headers).forEach(L=>{const H=unescape(encodeURIComponent(h.headers[L]));w.setRequestHeader(L,H)}),h.responseType&&(w.responseType=h.responseType),h.withCredentials&&(w.withCredentials=!0),w.send(e),p},qa=(e,r,h,p)=>({type:e,code:r,body:h,headers:p}),Iu=e=>r=>{e(qa("error",0,"Timeout",r.getAllResponseHeaders()))},mw=e=>/\?/.test(e),Q0=(...e)=>{let r="";return e.forEach(h=>{r+=mw(r)&&mw(h)?h.replace(/\?/,"&"):h}),r},pv=(e="",r)=>{if(typeof r=="function")return r;if(!r||!Io(r.url))return null;const h=r.onload||(m=>m),p=r.onerror||(m=>null);return(m,x,w,l,L,H)=>{const q=Cu(m,Q0(e,r.url),{...r,responseType:"blob"});return q.onload=J=>{const oe=J.getAllResponseHeaders(),de=qy(oe).name||Mf(m);x(qa("load",J.status,r.method==="HEAD"?null:Vd(h(J.response),de),oe))},q.onerror=J=>{w(qa("error",J.status,p(J.response)||J.statusText,J.getAllResponseHeaders()))},q.onheaders=J=>{H(qa("headers",J.status,null,J.getAllResponseHeaders()))},q.ontimeout=Iu(w),q.onprogress=l,q.onabort=L,q}},Rl={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},EH=(e,r,h,p,m,x,w,l,L,H,q)=>{const J=[],{chunkTransferId:oe,chunkServer:de,chunkSize:ye,chunkRetryDelays:ne}=q,X={serverId:oe,aborted:!1},pe=r.ondata||(te=>te),ve=r.onload||((te,fe)=>fe==="HEAD"?te.getResponseHeader("Upload-Offset"):te.response),me=r.onerror||(te=>null),it=te=>{const fe=new FormData;zs(m)&&fe.append(h,JSON.stringify(m));const le=typeof r.headers=="function"?r.headers(p,m):{...r.headers,"Upload-Length":p.size},Se={...r,headers:le},Re=Cu(pe(fe),Q0(e,r.url),Se);Re.onload=ot=>te(ve(ot,Se.method)),Re.onerror=ot=>w(qa("error",ot.status,me(ot.response)||ot.statusText,ot.getAllResponseHeaders())),Re.ontimeout=Iu(w)},Ye=te=>{const fe=Q0(e,de.url,X.serverId),Se={headers:typeof r.headers=="function"?r.headers(X.serverId):{...r.headers},method:"HEAD"},Re=Cu(null,fe,Se);Re.onload=ot=>te(ve(ot,Se.method)),Re.onerror=ot=>w(qa("error",ot.status,me(ot.response)||ot.statusText,ot.getAllResponseHeaders())),Re.ontimeout=Iu(w)},Q=Math.floor(p.size/ye);for(let te=0;te<=Q;te++){const fe=te*ye,le=p.slice(fe,fe+ye,"application/offset+octet-stream");J[te]={index:te,size:le.size,offset:fe,data:le,file:p,progress:0,retries:[...ne],status:Rl.QUEUED,error:null,request:null,timeout:null}}const Dt=()=>x(X.serverId),St=te=>te.status===Rl.QUEUED||te.status===Rl.ERROR,At=te=>{if(X.aborted)return;if(te=te||J.find(St),!te){J.every(ht=>ht.status===Rl.COMPLETE)&&Dt();return}te.status=Rl.PROCESSING,te.progress=null;const fe=de.ondata||(ht=>ht),le=de.onerror||(ht=>null),Se=Q0(e,de.url,X.serverId),Re=typeof de.headers=="function"?de.headers(te):{...de.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":te.offset,"Upload-Length":p.size,"Upload-Name":p.name},ot=te.request=Cu(fe(te.data),Se,{...de,headers:Re});ot.onload=()=>{te.status=Rl.COMPLETE,te.request=null,Pe()},ot.onprogress=(ht,Pt,Ne)=>{te.progress=ht?Pt:null,Ue()},ot.onerror=ht=>{te.status=Rl.ERROR,te.request=null,te.error=le(ht.response)||ht.statusText,ui(te)||w(qa("error",ht.status,le(ht.response)||ht.statusText,ht.getAllResponseHeaders()))},ot.ontimeout=ht=>{te.status=Rl.ERROR,te.request=null,ui(te)||Iu(w)(ht)},ot.onabort=()=>{te.status=Rl.QUEUED,te.request=null,L()}},ui=te=>te.retries.length===0?!1:(te.status=Rl.WAITING,clearTimeout(te.timeout),te.timeout=setTimeout(()=>{At(te)},te.retries.shift()),!0),Ue=()=>{const te=J.reduce((le,Se)=>le===null||Se.progress===null?null:le+Se.progress,0);if(te===null)return l(!1,0,0);const fe=J.reduce((le,Se)=>le+Se.size,0);l(!0,te,fe)},Pe=()=>{J.filter(fe=>fe.status===Rl.PROCESSING).length>=1||At()},De=()=>{J.forEach(te=>{clearTimeout(te.timeout),te.request&&te.request.abort()})};return X.serverId?Ye(te=>{X.aborted||(J.filter(fe=>fe.offset<te).forEach(fe=>{fe.status=Rl.COMPLETE,fe.progress=fe.size}),Pe())}):it(te=>{X.aborted||(H(te),X.serverId=te,Pe())}),{abort:()=>{X.aborted=!0,De()}}},TH=(e,r,h,p)=>(m,x,w,l,L,H,q)=>{if(!m)return;const J=p.chunkUploads,oe=J&&m.size>p.chunkSize,de=J&&(oe||p.chunkForce);if(m instanceof Blob&&de)return EH(e,r,h,m,x,w,l,L,H,q,p);const ye=r.ondata||(Ye=>Ye),ne=r.onload||(Ye=>Ye),X=r.onerror||(Ye=>null),pe=typeof r.headers=="function"?r.headers(m,x)||{}:{...r.headers},ve={...r,headers:pe};var me=new FormData;zs(x)&&me.append(h,JSON.stringify(x)),(m instanceof Blob?[{name:null,file:m}]:m).forEach(Ye=>{me.append(h,Ye.file,Ye.name===null?Ye.file.name:`${Ye.name}${Ye.file.name}`)});const it=Cu(ye(me),Q0(e,r.url),ve);return it.onload=Ye=>{w(qa("load",Ye.status,ne(Ye.response),Ye.getAllResponseHeaders()))},it.onerror=Ye=>{l(qa("error",Ye.status,X(Ye.response)||Ye.statusText,Ye.getAllResponseHeaders()))},it.ontimeout=Iu(l),it.onprogress=L,it.onabort=H,it},SH=(e="",r,h,p)=>typeof r=="function"?(...m)=>r(h,...m,p):!r||!Io(r.url)?null:TH(e,r,h,p),Y0=(e="",r)=>{if(typeof r=="function")return r;if(!r||!Io(r.url))return(m,x)=>x();const h=r.onload||(m=>m),p=r.onerror||(m=>null);return(m,x,w)=>{const l=Cu(m,e+r.url,r);return l.onload=L=>{x(qa("load",L.status,h(L.response),L.getAllResponseHeaders()))},l.onerror=L=>{w(qa("error",L.status,p(L.response)||L.statusText,L.getAllResponseHeaders()))},l.ontimeout=Iu(w),l}},c8=(e=0,r=1)=>e+Math.random()*(r-e),AH=(e,r=1e3,h=0,p=25,m=250)=>{let x=null;const w=Date.now(),l=()=>{let L=Date.now()-w,H=c8(p,m);L+H>r&&(H=L+H-r);let q=L/r;if(q>=1||document.hidden){e(1);return}e(q),x=setTimeout(l,H)};return r>0&&l(),{clear:()=>{clearTimeout(x)}}},MH=(e,r)=>{const h={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:p}=r,m=(q,J)=>{const oe=()=>{h.duration===0||h.progress===null||H.fire("progress",H.getProgress())},de=()=>{h.complete=!0,H.fire("load-perceived",h.response.body)};H.fire("start"),h.timestamp=Date.now(),h.perceivedPerformanceUpdater=AH(ye=>{h.perceivedProgress=ye,h.perceivedDuration=Date.now()-h.timestamp,oe(),h.response&&h.perceivedProgress===1&&!h.complete&&de()},p?c8(750,1500):0),h.request=e(q,J,ye=>{h.response=zs(ye)?ye:{type:"load",code:200,body:`${ye}`,headers:{}},h.duration=Date.now()-h.timestamp,h.progress=1,H.fire("load",h.response.body),(!p||p&&h.perceivedProgress===1)&&de()},ye=>{h.perceivedPerformanceUpdater.clear(),H.fire("error",zs(ye)?ye:{type:"error",code:0,body:`${ye}`})},(ye,ne,X)=>{h.duration=Date.now()-h.timestamp,h.progress=ye?ne/X:null,oe()},()=>{h.perceivedPerformanceUpdater.clear(),H.fire("abort",h.response?h.response.body:null)},ye=>{H.fire("transfer",ye)})},x=()=>{h.request&&(h.perceivedPerformanceUpdater.clear(),h.request.abort&&h.request.abort(),h.complete=!0)},w=()=>{x(),h.complete=!1,h.perceivedProgress=0,h.progress=0,h.timestamp=null,h.perceivedDuration=0,h.duration=0,h.request=null,h.response=null},l=p?()=>h.progress?Math.min(h.progress,h.perceivedProgress):null:()=>h.progress||null,L=p?()=>Math.min(h.duration,h.perceivedDuration):()=>h.duration,H={...om(),process:m,abort:x,getProgress:l,getDuration:L,reset:w};return H},h8=e=>e.substring(0,e.lastIndexOf("."))||e,CH=e=>{let r=[e.name,e.size,e.type];return e instanceof Blob||S2(e)?r[0]=e.name||s8():S2(e)?(r[1]=e.length,r[2]=l8(e)):Io(e)&&(r[0]=Mf(e),r[1]=0,r[2]="application/octet-stream"),{name:r[0],size:r[1],type:r[2]}},Ud=e=>!!(e instanceof File||e instanceof Blob&&e.name),u8=e=>{if(!zs(e))return e;const r=nm(e)?[]:{};for(const h in e){if(!e.hasOwnProperty(h))continue;const p=e[h];r[h]=p&&zs(p)?u8(p):p}return r},IH=(e=null,r=null,h=null)=>{const p=$y(),m={archived:!1,frozen:!1,released:!1,source:null,file:h,serverFileReference:r,transferId:null,processingAborted:!1,status:r?jr.PROCESSING_COMPLETE:jr.INIT,activeLoader:null,activeProcessor:null};let x=null;const w={},l=St=>m.status=St,L=(St,...At)=>{m.released||m.frozen||Q.fire(St,...At)},H=()=>lm(m.file.name),q=()=>m.file.type,J=()=>m.file.size,oe=()=>m.file,de=(St,At,ui)=>{if(m.source=St,Q.fireSync("init"),m.file){Q.fireSync("load-skip");return}m.file=CH(St),At.on("init",()=>{L("load-init")}),At.on("meta",Ue=>{m.file.size=Ue.size,m.file.filename=Ue.filename,Ue.source&&(e=Rs.LIMBO,m.serverFileReference=Ue.source,m.status=jr.PROCESSING_COMPLETE),L("load-meta")}),At.on("progress",Ue=>{l(jr.LOADING),L("load-progress",Ue)}),At.on("error",Ue=>{l(jr.LOAD_ERROR),L("load-request-error",Ue)}),At.on("abort",()=>{l(jr.INIT),L("load-abort")}),At.on("load",Ue=>{m.activeLoader=null;const Pe=te=>{m.file=Ud(te)?te:m.file,e===Rs.LIMBO&&m.serverFileReference?l(jr.PROCESSING_COMPLETE):l(jr.IDLE),L("load")},De=te=>{m.file=Ue,L("load-meta"),l(jr.LOAD_ERROR),L("load-file-error",te)};if(m.serverFileReference){Pe(Ue);return}ui(Ue,Pe,De)}),At.setSource(St),m.activeLoader=At,At.load()},ye=()=>{m.activeLoader&&m.activeLoader.load()},ne=()=>{if(m.activeLoader){m.activeLoader.abort();return}l(jr.INIT),L("load-abort")},X=(St,At)=>{if(m.processingAborted){m.processingAborted=!1;return}if(l(jr.PROCESSING),x=null,!(m.file instanceof Blob)){Q.on("load",()=>{X(St,At)});return}St.on("load",Pe=>{m.transferId=null,m.serverFileReference=Pe}),St.on("transfer",Pe=>{m.transferId=Pe}),St.on("load-perceived",Pe=>{m.activeProcessor=null,m.transferId=null,m.serverFileReference=Pe,l(jr.PROCESSING_COMPLETE),L("process-complete",Pe)}),St.on("start",()=>{L("process-start")}),St.on("error",Pe=>{m.activeProcessor=null,l(jr.PROCESSING_ERROR),L("process-error",Pe)}),St.on("abort",Pe=>{m.activeProcessor=null,m.serverFileReference=Pe,l(jr.IDLE),L("process-abort"),x&&x()}),St.on("progress",Pe=>{L("process-progress",Pe)});const ui=Pe=>{m.archived||St.process(Pe,{...w})},Ue=console.error;At(m.file,ui,Ue),m.activeProcessor=St},pe=()=>{m.processingAborted=!1,l(jr.PROCESSING_QUEUED)},ve=()=>new Promise(St=>{if(!m.activeProcessor){m.processingAborted=!0,l(jr.IDLE),L("process-abort"),St();return}x=()=>{St()},m.activeProcessor.abort()}),me=(St,At)=>new Promise((ui,Ue)=>{const Pe=m.serverFileReference!==null?m.serverFileReference:m.transferId;if(Pe===null){ui();return}St(Pe,()=>{m.serverFileReference=null,m.transferId=null,ui()},De=>{if(!At){ui();return}l(jr.PROCESSING_REVERT_ERROR),L("process-revert-error"),Ue(De)}),l(jr.IDLE),L("process-revert")}),it=(St,At,ui)=>{const Ue=St.split("."),Pe=Ue[0],De=Ue.pop();let te=w;Ue.forEach(fe=>te=te[fe]),JSON.stringify(te[De])!==JSON.stringify(At)&&(te[De]=At,L("metadata-update",{key:Pe,value:w[Pe],silent:ui}))},Q={id:{get:()=>p},origin:{get:()=>e,set:St=>e=St},serverId:{get:()=>m.serverFileReference},transferId:{get:()=>m.transferId},status:{get:()=>m.status},filename:{get:()=>m.file.name},filenameWithoutExtension:{get:()=>h8(m.file.name)},fileExtension:{get:H},fileType:{get:q},fileSize:{get:J},file:{get:oe},relativePath:{get:()=>m.file._relativePath},source:{get:()=>m.source},getMetadata:St=>u8(St?w[St]:w),setMetadata:(St,At,ui)=>{if(zs(St)){const Ue=St;return Object.keys(Ue).forEach(Pe=>{it(Pe,Ue[Pe],At)}),St}return it(St,At,ui),At},extend:(St,At)=>Dt[St]=At,abortLoad:ne,retryLoad:ye,requestProcessing:pe,abortProcessing:ve,load:de,process:X,revert:me,...om(),freeze:()=>m.frozen=!0,release:()=>m.released=!0,released:{get:()=>m.released},archive:()=>m.archived=!0,archived:{get:()=>m.archived}},Dt=Kh(Q);return Dt},kH=(e,r)=>yh(r)?0:Io(r)?e.findIndex(h=>h.id===r):-1,gw=(e,r)=>{const h=kH(e,r);if(!(h<0))return e[h]||null},vw=(e,r,h,p,m,x)=>{const w=Cu(null,e,{method:"GET",responseType:"blob"});return w.onload=l=>{const L=l.getAllResponseHeaders(),H=qy(L).name||Mf(e);r(qa("load",l.status,Vd(l.response,H),L))},w.onerror=l=>{h(qa("error",l.status,l.statusText,l.getAllResponseHeaders()))},w.onheaders=l=>{x(qa("headers",l.status,null,l.getAllResponseHeaders()))},w.ontimeout=Iu(h),w.onprogress=p,w.onabort=m,w},yw=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),DH=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&yw(location.href)!==yw(e),Dp=e=>(...r)=>Tu(e)?e(...r):e,PH=e=>!Ud(e.file),mv=(e,r)=>{clearTimeout(r.listUpdateTimeout),r.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:fc(r.items)})},0)},xw=(e,...r)=>new Promise(h=>{if(!e)return h(!0);const p=e(...r);if(p==null)return h(!0);if(typeof p=="boolean")return h(p);typeof p.then=="function"&&p.then(h)}),gv=(e,r)=>{e.items.sort((h,p)=>r(Wo(h),Wo(p)))},zl=(e,r)=>({query:h,success:p=()=>{},failure:m=()=>{},...x}={})=>{const w=Su(e.items,h);if(!w){m({error:qa("error",0,"Item not found"),file:null});return}r(w,p,m,x||{})},OH=(e,r,h)=>({ABORT_ALL:()=>{fc(h.items).forEach(p=>{p.freeze(),p.abortLoad(),p.abortProcessing()})},DID_SET_FILES:({value:p=[]})=>{const m=p.map(w=>({source:w.source?w.source:w,options:w.options}));let x=fc(h.items);x.forEach(w=>{m.find(l=>l.source===w.source||l.source===w.file)||e("REMOVE_ITEM",{query:w,remove:!1})}),x=fc(h.items),m.forEach((w,l)=>{x.find(L=>L.source===w.source||L.file===w.source)||e("ADD_ITEM",{...w,interactionMethod:Ul.NONE,index:l})})},DID_UPDATE_ITEM_METADATA:({id:p,action:m,change:x})=>{x.silent||(clearTimeout(h.itemUpdateTimeout),h.itemUpdateTimeout=setTimeout(()=>{const w=gw(h.items,p);if(!r("IS_ASYNC")){uc("SHOULD_PREPARE_OUTPUT",!1,{item:w,query:r,action:m,change:x}).then(q=>{const J=r("GET_BEFORE_PREPARE_FILE");J&&(q=J(w,q)),q&&e("REQUEST_PREPARE_OUTPUT",{query:p,item:w,success:oe=>{e("DID_PREPARE_OUTPUT",{id:p,file:oe})}},!0)});return}w.origin===Rs.LOCAL&&e("DID_LOAD_ITEM",{id:w.id,error:null,serverFileReference:w.source});const l=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:p})},32)},L=q=>{w.revert(Y0(h.options.server.url,h.options.server.revert),r("GET_FORCE_REVERT")).then(q?l:()=>{}).catch(()=>{})},H=q=>{w.abortProcessing().then(q?l:()=>{})};if(w.status===jr.PROCESSING_COMPLETE)return L(h.options.instantUpload);if(w.status===jr.PROCESSING)return H(h.options.instantUpload);h.options.instantUpload&&l()},0))},MOVE_ITEM:({query:p,index:m})=>{const x=Su(h.items,p);if(!x)return;const w=h.items.indexOf(x);m=a8(m,0,h.items.length-1),w!==m&&h.items.splice(m,0,h.items.splice(w,1)[0])},SORT:({compare:p})=>{gv(h,p),e("DID_SORT_ITEMS",{items:r("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:p,index:m,interactionMethod:x,success:w=()=>{},failure:l=()=>{}})=>{let L=m;if(m===-1||typeof m>"u"){const de=r("GET_ITEM_INSERT_LOCATION"),ye=r("GET_TOTAL_ITEMS");L=de==="before"?0:ye}const H=r("GET_IGNORED_FILES"),q=de=>Ud(de)?!H.includes(de.name.toLowerCase()):!yh(de),oe=p.filter(q).map(de=>new Promise((ye,ne)=>{e("ADD_ITEM",{interactionMethod:x,source:de.source||de,success:ye,failure:ne,index:L++,options:de.options||{}})}));Promise.all(oe).then(w).catch(l)},ADD_ITEM:({source:p,index:m=-1,interactionMethod:x,success:w=()=>{},failure:l=()=>{},options:L={}})=>{if(yh(p)){l({error:qa("error",0,"No source"),file:null});return}if(Ud(p)&&h.options.ignoredFiles.includes(p.name.toLowerCase()))return;if(!cH(h)){if(h.options.allowMultiple||!h.options.allowMultiple&&!h.options.allowReplace){const ve=qa("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:p,error:ve}),l({error:ve,file:null});return}const pe=fc(h.items)[0];if(pe.status===jr.PROCESSING_COMPLETE||pe.status===jr.PROCESSING_REVERT_ERROR){const ve=r("GET_FORCE_REVERT");if(pe.revert(Y0(h.options.server.url,h.options.server.revert),ve).then(()=>{ve&&e("ADD_ITEM",{source:p,index:m,interactionMethod:x,success:w,failure:l,options:L})}).catch(()=>{}),ve)return}e("REMOVE_ITEM",{query:pe.id})}const H=L.type==="local"?Rs.LOCAL:L.type==="limbo"?Rs.LIMBO:Rs.INPUT,q=IH(H,H===Rs.INPUT?null:p,L.file);Object.keys(L.metadata||{}).forEach(pe=>{q.setMetadata(pe,L.metadata[pe])}),ju("DID_CREATE_ITEM",q,{query:r,dispatch:e});const J=r("GET_ITEM_INSERT_LOCATION");h.options.itemInsertLocationFreedom||(m=J==="before"?-1:h.items.length),uH(h.items,q,m),Tu(J)&&p&&gv(h,J);const oe=q.id;q.on("init",()=>{e("DID_INIT_ITEM",{id:oe})}),q.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:oe})}),q.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:oe})}),q.on("load-progress",pe=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:oe,progress:pe})}),q.on("load-request-error",pe=>{const ve=Dp(h.options.labelFileLoadError)(pe);if(pe.code>=400&&pe.code<500){e("DID_THROW_ITEM_INVALID",{id:oe,error:pe,status:{main:ve,sub:`${pe.code} (${pe.body})`}}),l({error:pe,file:Wo(q)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:oe,error:pe,status:{main:ve,sub:h.options.labelTapToRetry}})}),q.on("load-file-error",pe=>{e("DID_THROW_ITEM_INVALID",{id:oe,error:pe.status,status:pe.status}),l({error:pe.status,file:Wo(q)})}),q.on("load-abort",()=>{e("REMOVE_ITEM",{query:oe})}),q.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:oe,item:q,data:{source:p,success:w}})}),q.on("load",()=>{const pe=ve=>{if(!ve){e("REMOVE_ITEM",{query:oe});return}q.on("metadata-update",me=>{e("DID_UPDATE_ITEM_METADATA",{id:oe,change:me})}),uc("SHOULD_PREPARE_OUTPUT",!1,{item:q,query:r}).then(me=>{const it=r("GET_BEFORE_PREPARE_FILE");it&&(me=it(q,me));const Ye=()=>{e("COMPLETE_LOAD_ITEM",{query:oe,item:q,data:{source:p,success:w}}),mv(e,h)};if(me){e("REQUEST_PREPARE_OUTPUT",{query:oe,item:q,success:Q=>{e("DID_PREPARE_OUTPUT",{id:oe,file:Q}),Ye()}},!0);return}Ye()})};uc("DID_LOAD_ITEM",q,{query:r,dispatch:e}).then(()=>{xw(r("GET_BEFORE_ADD_FILE"),Wo(q)).then(pe)}).catch(ve=>{if(!ve||!ve.error||!ve.status)return pe(!1);e("DID_THROW_ITEM_INVALID",{id:oe,error:ve.error,status:ve.status})})}),q.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:oe})}),q.on("process-progress",pe=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:oe,progress:pe})}),q.on("process-error",pe=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:oe,error:pe,status:{main:Dp(h.options.labelFileProcessingError)(pe),sub:h.options.labelTapToRetry}})}),q.on("process-revert-error",pe=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:oe,error:pe,status:{main:Dp(h.options.labelFileProcessingRevertError)(pe),sub:h.options.labelTapToRetry}})}),q.on("process-complete",pe=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:oe,error:null,serverFileReference:pe}),e("DID_DEFINE_VALUE",{id:oe,value:pe})}),q.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:oe})}),q.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:oe}),e("DID_DEFINE_VALUE",{id:oe,value:null})}),e("DID_ADD_ITEM",{id:oe,index:m,interactionMethod:x}),mv(e,h);const{url:de,load:ye,restore:ne,fetch:X}=h.options.server||{};q.load(p,wH(H===Rs.INPUT?Io(p)&&DH(p)&&X?pv(de,X):vw:H===Rs.LIMBO?pv(de,ne):pv(de,ye)),(pe,ve,me)=>{uc("LOAD_FILE",pe,{query:r}).then(ve).catch(me)})},REQUEST_PREPARE_OUTPUT:({item:p,success:m,failure:x=()=>{}})=>{const w={error:qa("error",0,"Item not found"),file:null};if(p.archived)return x(w);uc("PREPARE_OUTPUT",p.file,{query:r,item:p}).then(l=>{uc("COMPLETE_PREPARE_OUTPUT",l,{query:r,item:p}).then(L=>{if(p.archived)return x(w);m(L)})})},COMPLETE_LOAD_ITEM:({item:p,data:m})=>{const{success:x,source:w}=m,l=r("GET_ITEM_INSERT_LOCATION");if(Tu(l)&&w&&gv(h,l),e("DID_LOAD_ITEM",{id:p.id,error:null,serverFileReference:p.origin===Rs.INPUT?null:w}),x(Wo(p)),p.origin===Rs.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:p.id});return}if(p.origin===Rs.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:p.id,error:null,serverFileReference:w}),e("DID_DEFINE_VALUE",{id:p.id,value:p.serverId||w});return}r("IS_ASYNC")&&h.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:p.id})},RETRY_ITEM_LOAD:zl(h,p=>{p.retryLoad()}),REQUEST_ITEM_PREPARE:zl(h,(p,m,x)=>{e("REQUEST_PREPARE_OUTPUT",{query:p.id,item:p,success:w=>{e("DID_PREPARE_OUTPUT",{id:p.id,file:w}),m({file:p,output:w})},failure:x},!0)}),REQUEST_ITEM_PROCESSING:zl(h,(p,m,x)=>{if(!(p.status===jr.IDLE||p.status===jr.PROCESSING_ERROR)){const l=()=>e("REQUEST_ITEM_PROCESSING",{query:p,success:m,failure:x}),L=()=>document.hidden?l():setTimeout(l,32);p.status===jr.PROCESSING_COMPLETE||p.status===jr.PROCESSING_REVERT_ERROR?p.revert(Y0(h.options.server.url,h.options.server.revert),r("GET_FORCE_REVERT")).then(L).catch(()=>{}):p.status===jr.PROCESSING&&p.abortProcessing().then(L);return}p.status!==jr.PROCESSING_QUEUED&&(p.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:p.id}),e("PROCESS_ITEM",{query:p,success:m,failure:x},!0))}),PROCESS_ITEM:zl(h,(p,m,x)=>{const w=r("GET_MAX_PARALLEL_UPLOADS");if(r("GET_ITEMS_BY_STATUS",jr.PROCESSING).length===w){h.processingQueue.push({id:p.id,success:m,failure:x});return}if(p.status===jr.PROCESSING)return;const L=()=>{const q=h.processingQueue.shift();if(!q)return;const{id:J,success:oe,failure:de}=q,ye=Su(h.items,J);if(!ye||ye.archived){L();return}e("PROCESS_ITEM",{query:J,success:oe,failure:de},!0)};p.onOnce("process-complete",()=>{m(Wo(p)),L();const q=h.options.server;if(h.options.instantUpload&&p.origin===Rs.LOCAL&&Tu(q.remove)){const de=()=>{};p.origin=Rs.LIMBO,h.options.server.remove(p.source,de,de)}r("GET_ITEMS_BY_STATUS",jr.PROCESSING_COMPLETE).length===h.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),p.onOnce("process-error",q=>{x({error:q,file:Wo(p)}),L()});const H=h.options;p.process(MH(SH(H.server.url,H.server.process,H.name,{chunkTransferId:p.transferId,chunkServer:H.server.patch,chunkUploads:H.chunkUploads,chunkForce:H.chunkForce,chunkSize:H.chunkSize,chunkRetryDelays:H.chunkRetryDelays}),{allowMinimumUploadDuration:r("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(q,J,oe)=>{uc("PREPARE_OUTPUT",q,{query:r,item:p}).then(de=>{e("DID_PREPARE_OUTPUT",{id:p.id,file:de}),J(de)}).catch(oe)})}),RETRY_ITEM_PROCESSING:zl(h,p=>{e("REQUEST_ITEM_PROCESSING",{query:p})}),REQUEST_REMOVE_ITEM:zl(h,p=>{xw(r("GET_BEFORE_REMOVE_FILE"),Wo(p)).then(m=>{m&&e("REMOVE_ITEM",{query:p})})}),RELEASE_ITEM:zl(h,p=>{p.release()}),REMOVE_ITEM:zl(h,(p,m,x,w)=>{const l=()=>{const H=p.id;gw(h.items,H).archive(),e("DID_REMOVE_ITEM",{error:null,id:H,item:p}),mv(e,h),m(Wo(p))},L=h.options.server;p.origin===Rs.LOCAL&&L&&Tu(L.remove)&&w.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:p.id}),L.remove(p.source,()=>l(),H=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:p.id,error:qa("error",0,H,null),status:{main:Dp(h.options.labelFileRemoveError)(H),sub:h.options.labelTapToRetry}})})):((w.revert&&p.origin!==Rs.LOCAL&&p.serverId!==null||h.options.chunkUploads&&p.file.size>h.options.chunkSize||h.options.chunkUploads&&h.options.chunkForce)&&p.revert(Y0(h.options.server.url,h.options.server.revert),r("GET_FORCE_REVERT")),l())}),ABORT_ITEM_LOAD:zl(h,p=>{p.abortLoad()}),ABORT_ITEM_PROCESSING:zl(h,p=>{if(p.serverId){e("REVERT_ITEM_PROCESSING",{id:p.id});return}p.abortProcessing().then(()=>{h.options.instantUpload&&e("REMOVE_ITEM",{query:p.id})})}),REQUEST_REVERT_ITEM_PROCESSING:zl(h,p=>{if(!h.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:p});return}const m=l=>{l&&e("REVERT_ITEM_PROCESSING",{query:p})},x=r("GET_BEFORE_REMOVE_FILE");if(!x)return m(!0);const w=x(Wo(p));if(w==null)return m(!0);if(typeof w=="boolean")return m(w);typeof w.then=="function"&&w.then(m)}),REVERT_ITEM_PROCESSING:zl(h,p=>{p.revert(Y0(h.options.server.url,h.options.server.revert),r("GET_FORCE_REVERT")).then(()=>{(h.options.instantUpload||PH(p))&&e("REMOVE_ITEM",{query:p.id})}).catch(()=>{})}),SET_OPTIONS:({options:p})=>{const m=Object.keys(p),x=LH.filter(l=>m.includes(l));[...x,...Object.keys(p).filter(l=>!x.includes(l))].forEach(l=>{e(`SET_${sm(l,"_").toUpperCase()}`,{value:p[l]})})}}),LH=["server"],Ky=e=>e,xh=e=>document.createElement(e),Ka=(e,r)=>{let h=e.childNodes[0];h?r!==h.nodeValue&&(h.nodeValue=r):(h=document.createTextNode(r),e.appendChild(h))},_w=(e,r,h,p)=>{const m=(p%360-90)*Math.PI/180;return{x:e+h*Math.cos(m),y:r+h*Math.sin(m)}},RH=(e,r,h,p,m,x)=>{const w=_w(e,r,h,m),l=_w(e,r,h,p);return["M",w.x,w.y,"A",h,h,0,x,0,l.x,l.y].join(" ")},zH=(e,r,h,p,m)=>{let x=1;return m>p&&m-p<=.5&&(x=0),p>m&&p-m>=.5&&(x=0),RH(e,r,h,Math.min(.9999,p)*360,Math.min(.9999,m)*360,x)},NH=({root:e,props:r})=>{r.spin=!1,r.progress=0,r.opacity=0;const h=E1("svg");e.ref.path=E1("path",{"stroke-width":2,"stroke-linecap":"round"}),h.appendChild(e.ref.path),e.ref.svg=h,e.appendChild(h)},FH=({root:e,props:r})=>{if(r.opacity===0)return;r.align&&(e.element.dataset.align=r.align);const h=parseInt(ss(e.ref.path,"stroke-width"),10),p=e.rect.element.width*.5;let m=0,x=0;r.spin?(m=0,x=.5):(m=0,x=r.progress);const w=zH(p,p,p-h,m,x);ss(e.ref.path,"d",w),ss(e.ref.path,"stroke-opacity",r.spin||r.progress>0?1:0)},bw=ls({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:NH,write:FH,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),BH=({root:e,props:r})=>{e.element.innerHTML=(r.icon||"")+`<span>${r.label}</span>`,r.isDisabled=!1},jH=({root:e,props:r})=>{const{isDisabled:h}=r,p=e.query("GET_DISABLED")||r.opacity===0;p&&!h?(r.isDisabled=!0,ss(e.element,"disabled","disabled")):!p&&h&&(r.isDisabled=!1,e.element.removeAttribute("disabled"))},d8=ls({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:BH,write:jH}),f8=(e,r=".",h=1e3,p={})=>{const{labelBytes:m="bytes",labelKilobytes:x="KB",labelMegabytes:w="MB",labelGigabytes:l="GB"}=p;e=Math.round(Math.abs(e));const L=h,H=h*h,q=h*h*h;return e<L?`${e} ${m}`:e<H?`${Math.floor(e/L)} ${x}`:e<q?`${ww(e/H,1,r)} ${w}`:`${ww(e/q,2,r)} ${l}`},ww=(e,r,h)=>e.toFixed(r).split(".").filter(p=>p!=="0").join(h),VH=({root:e,props:r})=>{const h=xh("span");h.className="filepond--file-info-main",ss(h,"aria-hidden","true"),e.appendChild(h),e.ref.fileName=h;const p=xh("span");p.className="filepond--file-info-sub",e.appendChild(p),e.ref.fileSize=p,Ka(p,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Ka(h,Ky(e.query("GET_ITEM_NAME",r.id)))},A2=({root:e,props:r})=>{Ka(e.ref.fileSize,f8(e.query("GET_ITEM_SIZE",r.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),Ka(e.ref.fileName,Ky(e.query("GET_ITEM_NAME",r.id)))},Ew=({root:e,props:r})=>{if(Jd(e.query("GET_ITEM_SIZE",r.id))){A2({root:e,props:r});return}Ka(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},UH=ls({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Po({DID_LOAD_ITEM:A2,DID_UPDATE_ITEM_META:A2,DID_THROW_ITEM_LOAD_ERROR:Ew,DID_THROW_ITEM_INVALID:Ew}),didCreateView:e=>{ju("CREATE_VIEW",{...e,view:e})},create:VH,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),p8=e=>Math.round(e*100),GH=({root:e})=>{const r=xh("span");r.className="filepond--file-status-main",e.appendChild(r),e.ref.main=r;const h=xh("span");h.className="filepond--file-status-sub",e.appendChild(h),e.ref.sub=h,m8({root:e,action:{progress:null}})},m8=({root:e,action:r})=>{const h=r.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${p8(r.progress)}%`;Ka(e.ref.main,h),Ka(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},HH=({root:e,action:r})=>{const h=r.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${p8(r.progress)}%`;Ka(e.ref.main,h),Ka(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},WH=({root:e})=>{Ka(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Ka(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},YH=({root:e})=>{Ka(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Ka(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},$H=({root:e})=>{Ka(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Ka(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Tw=({root:e})=>{Ka(e.ref.main,""),Ka(e.ref.sub,"")},$0=({root:e,action:r})=>{Ka(e.ref.main,r.status.main),Ka(e.ref.sub,r.status.sub)},XH=ls({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Po({DID_LOAD_ITEM:Tw,DID_REVERT_ITEM_PROCESSING:Tw,DID_REQUEST_ITEM_PROCESSING:WH,DID_ABORT_ITEM_PROCESSING:YH,DID_COMPLETE_ITEM_PROCESSING:$H,DID_UPDATE_ITEM_PROCESS_PROGRESS:HH,DID_UPDATE_ITEM_LOAD_PROGRESS:m8,DID_THROW_ITEM_LOAD_ERROR:$0,DID_THROW_ITEM_INVALID:$0,DID_THROW_ITEM_PROCESSING_ERROR:$0,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:$0,DID_THROW_ITEM_REMOVE_ERROR:$0}),didCreateView:e=>{ju("CREATE_VIEW",{...e,view:e})},create:GH,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),M2={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},C2=[];Va(M2,e=>{C2.push(e)});const ll=e=>{if(I2(e)==="right")return 0;const r=e.ref.buttonRemoveItem.rect.element;return r.hidden?null:r.width+r.left},ZH=e=>e.ref.buttonAbortItemLoad.rect.element.width,Pp=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),qH=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),KH=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),JH=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),I2=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),QH={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:KH},processProgressIndicator:{opacity:0,align:JH},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Sw={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ll},status:{translateX:ll}},vv={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Cd={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ll},status:{translateX:ll,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ll},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:I2},info:{translateX:ll},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:I2},buttonRemoveItem:{opacity:1},info:{translateX:ll},status:{opacity:1,translateX:ll}},DID_LOAD_ITEM:Sw,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ll},status:{translateX:ll}},DID_START_ITEM_PROCESSING:vv,DID_REQUEST_ITEM_PROCESSING:vv,DID_UPDATE_ITEM_PROCESS_PROGRESS:vv,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ll}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ll},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Sw},eW=ls({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),tW=({root:e,props:r})=>{const h=Object.keys(M2).reduce((ye,ne)=>(ye[ne]={...M2[ne]},ye),{}),{id:p}=r,m=e.query("GET_ALLOW_REVERT"),x=e.query("GET_ALLOW_REMOVE"),w=e.query("GET_ALLOW_PROCESS"),l=e.query("GET_INSTANT_UPLOAD"),L=e.query("IS_ASYNC"),H=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let q;L?w&&!m?q=ye=>!/RevertItemProcessing/.test(ye):!w&&m?q=ye=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(ye):!w&&!m&&(q=ye=>!/Process/.test(ye)):q=ye=>!/Process/.test(ye);const J=q?C2.filter(q):C2.concat();if(l&&m&&(h.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",h.RevertItemProcessing.icon="GET_ICON_REMOVE"),L&&!m){const ye=Cd.DID_COMPLETE_ITEM_PROCESSING;ye.info.translateX=qH,ye.info.translateY=Pp,ye.status.translateY=Pp,ye.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(L&&!w&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(ye=>{Cd[ye].status.translateY=Pp}),Cd.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=ZH),H&&m){h.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const ye=Cd.DID_COMPLETE_ITEM_PROCESSING;ye.info.translateX=ll,ye.status.translateY=Pp,ye.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}x||(h.RemoveItem.disabled=!0),Va(h,(ye,ne)=>{const X=e.createChildView(d8,{label:e.query(ne.label),icon:e.query(ne.icon),opacity:0});J.includes(ye)&&e.appendChildView(X),ne.disabled&&(X.element.setAttribute("disabled","disabled"),X.element.setAttribute("hidden","hidden")),X.element.dataset.align=e.query(`GET_STYLE_${ne.align}`),X.element.classList.add(ne.className),X.on("click",pe=>{pe.stopPropagation(),!ne.disabled&&e.dispatch(ne.action,{query:p})}),e.ref[`button${ye}`]=X}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(eW)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(UH,{id:p})),e.ref.status=e.appendChildView(e.createChildView(XH,{id:p}));const oe=e.appendChildView(e.createChildView(bw,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));oe.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=oe;const de=e.appendChildView(e.createChildView(bw,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));de.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=de,e.ref.activeStyles=[]},iW=({root:e,actions:r,props:h})=>{rW({root:e,actions:r,props:h});let p=r.concat().filter(m=>/^DID_/.test(m.type)).reverse().find(m=>Cd[m.type]);if(p){e.ref.activeStyles=[];const m=Cd[p.type];Va(QH,(x,w)=>{const l=e.ref[x];Va(w,(L,H)=>{const q=m[x]&&typeof m[x][L]<"u"?m[x][L]:H;e.ref.activeStyles.push({control:l,key:L,value:q})})})}e.ref.activeStyles.forEach(({control:m,key:x,value:w})=>{m[x]=typeof w=="function"?w(e):w})},rW=Po({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:r})=>{e.ref.buttonAbortItemProcessing.label=r.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:r})=>{e.ref.buttonAbortItemLoad.label=r.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:r})=>{e.ref.buttonAbortItemRemoval.label=r.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:r})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=r.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:r})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=r.progress}}),nW=ls({create:tW,write:iW,didCreateView:e=>{ju("CREATE_VIEW",{...e,view:e})},name:"file"}),aW=({root:e,props:r})=>{e.ref.fileName=xh("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(nW,{id:r.id})),e.ref.data=!1},sW=({root:e,props:r})=>{Ka(e.ref.fileName,Ky(e.query("GET_ITEM_NAME",r.id)))},oW=ls({create:aW,ignoreRect:!0,write:Po({DID_LOAD_ITEM:sW}),didCreateView:e=>{ju("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Aw={type:"spring",damping:.6,mass:7},lW=({root:e,props:r})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Aw},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Aw},styles:["translateY"]}}].forEach(h=>{cW(e,h,r.name)}),e.element.classList.add(`filepond--${r.name}`),e.ref.scalable=null},cW=(e,r,h)=>{const p=ls({name:`panel-${r.name} filepond--${h}`,mixins:r.mixins,ignoreRectUpdate:!0}),m=e.createChildView(p,r.props);e.ref[r.name]=e.appendChildView(m)},hW=({root:e,props:r})=>{if((e.ref.scalable===null||r.scalable!==e.ref.scalable)&&(e.ref.scalable=KT(r.scalable)?r.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!r.height)return;const h=e.ref.top.rect.element,p=e.ref.bottom.rect.element,m=Math.max(h.height+p.height,r.height);e.ref.center.translateY=h.height,e.ref.center.scaleY=(m-h.height-p.height)/100,e.ref.bottom.translateY=m-p.height},g8=ls({name:"panel",read:({root:e,props:r})=>r.heightCurrent=e.ref.bottom.translateY,write:hW,create:lW,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),uW=e=>{const r=e.map(p=>p.id);let h;return{setIndex:p=>{h=p},getIndex:()=>h,getItemIndex:p=>r.indexOf(p.id)}},Mw={type:"spring",stiffness:.75,damping:.45,mass:10},Cw="spring",Iw={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},dW=({root:e,props:r})=>{if(e.ref.handleClick=p=>e.dispatch("DID_ACTIVATE_ITEM",{id:r.id}),e.element.id=`filepond--item-${r.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(oW,{id:r.id})),e.ref.panel=e.appendChildView(e.createChildView(g8,{name:"item-panel"})),e.ref.panel.height=null,r.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const h=p=>{if(!p.isPrimary)return;let m=!1;const x={x:p.pageX,y:p.pageY};r.dragOrigin={x:e.translateX,y:e.translateY},r.dragCenter={x:p.offsetX,y:p.offsetY};const w=uW(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:r.id,dragState:w});const l=H=>{if(!H.isPrimary)return;H.stopPropagation(),H.preventDefault(),r.dragOffset={x:H.pageX-x.x,y:H.pageY-x.y},r.dragOffset.x*r.dragOffset.x+r.dragOffset.y*r.dragOffset.y>16&&!m&&(m=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:r.id,dragState:w})},L=H=>{H.isPrimary&&(document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",L),r.dragOffset={x:H.pageX-x.x,y:H.pageY-x.y},e.dispatch("DID_DROP_ITEM",{id:r.id,dragState:w}),m&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",l),document.addEventListener("pointerup",L)};e.element.addEventListener("pointerdown",h)},fW=Po({DID_UPDATE_PANEL_HEIGHT:({root:e,action:r})=>{e.height=r.height}}),pW=Po({DID_GRAB_ITEM:({root:e,props:r})=>{r.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:r})=>{r.dragOffset=null,r.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:r,props:h,shouldOptimize:p})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let m=r.concat().filter(w=>/^DID_/.test(w.type)).reverse().find(w=>Iw[w.type]);m&&m.type!==h.currentState&&(h.currentState=m.type,e.element.dataset.filepondItemState=Iw[h.currentState]||"");const x=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");x?p||(e.height=e.rect.element.width*x):(fW({root:e,actions:r,props:h}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),p&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),mW=ls({create:dW,write:pW,destroy:({root:e,props:r})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:r.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Cw,scaleY:Cw,translateX:Mw,translateY:Mw,opacity:{type:"tween",duration:150}}}});var Jy=(e,r)=>Math.max(1,Math.floor((e+1)/r));const Qy=(e,r,h)=>{if(!h)return;const p=e.rect.element.width,m=r.length;let x=null;if(m===0||h.top<r[0].rect.element.top)return-1;const l=r[0].rect.element,L=l.marginLeft+l.marginRight,H=l.width+L,q=Jy(p,H);if(q===1){for(let de=0;de<m;de++){const ye=r[de],ne=ye.rect.outer.top+ye.rect.element.height*.5;if(h.top<ne)return de}return m}const J=l.marginTop+l.marginBottom,oe=l.height+J;for(let de=0;de<m;de++){const ye=de%q,ne=Math.floor(de/q),X=ye*H,pe=ne*oe,ve=pe-l.marginTop,me=X+H,it=pe+oe+l.marginBottom;if(h.top<it&&h.top>ve){if(h.left<me)return de;de!==m-1?x=de:x=null}}return x!==null?x:m},Op={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,r){(this.height===0||e===0)&&(this.height=e),(this.width===0||r===0)&&(this.width=r)}},gW=({root:e})=>{ss(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},vW=({root:e,action:r})=>{const{id:h,index:p,interactionMethod:m}=r;e.ref.addIndex=p;const x=Date.now();let w=x,l=1;if(m!==Ul.NONE){l=0;const L=e.query("GET_ITEM_INSERT_INTERVAL"),H=x-e.ref.lastItemSpanwDate;w=H<L?x+(L-H):x}e.ref.lastItemSpanwDate=w,e.appendChildView(e.createChildView(mW,{spawnDate:w,id:h,opacity:l,interactionMethod:m}),p)},kw=(e,r,h,p=0,m=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=r,e.translateY=h,Date.now()>e.spawnDate&&(e.opacity===0&&yW(e,r,h,p,m),e.scaleX=1,e.scaleY=1,e.opacity=1))},yW=(e,r,h,p,m)=>{e.interactionMethod===Ul.NONE?(e.translateX=null,e.translateX=r,e.translateY=null,e.translateY=h):e.interactionMethod===Ul.DROP?(e.translateX=null,e.translateX=r-p*20,e.translateY=null,e.translateY=h-m*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Ul.BROWSE?(e.translateY=null,e.translateY=h-30):e.interactionMethod===Ul.API&&(e.translateX=null,e.translateX=r-30,e.translateY=null)},xW=({root:e,action:r})=>{const{id:h}=r,p=e.childViews.find(m=>m.id===h);p&&(p.scaleX=.9,p.scaleY=.9,p.opacity=0,p.markedForRemoval=!0)},yv=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,_W=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,bW=({root:e,action:r})=>{const{id:h,dragState:p}=r,m=e.query("GET_ITEM",{id:h}),x=e.childViews.find(X=>X.id===h),w=e.childViews.length,l=p.getItemIndex(m);if(!x)return;const L={x:x.dragOrigin.x+x.dragOffset.x+x.dragCenter.x,y:x.dragOrigin.y+x.dragOffset.y+x.dragCenter.y},H=yv(x),q=_W(x);let J=Math.floor(e.rect.outer.width/q);J>w&&(J=w);const oe=Math.floor(w/J+1);Op.setHeight=H*oe,Op.setWidth=q*J;var de={y:Math.floor(L.y/H),x:Math.floor(L.x/q),getGridIndex:function(){return L.y>Op.getHeight||L.y<0||L.x>Op.getWidth||L.x<0?l:this.y*J+this.x},getColIndex:function(){const pe=e.query("GET_ACTIVE_ITEMS"),ve=e.childViews.filter(Ue=>Ue.rect.element.height),me=pe.map(Ue=>ve.find(Pe=>Pe.id===Ue.id)),it=me.findIndex(Ue=>Ue===x),Ye=yv(x),Q=me.length;let Dt=Q,St=0,At=0,ui=0;for(let Ue=0;Ue<Q;Ue++)if(St=yv(me[Ue]),ui=At,At=ui+St,L.y<At){if(it>Ue){if(L.y<ui+Ye){Dt=Ue;break}continue}Dt=Ue;break}return Dt}};const ye=J>1?de.getGridIndex():de.getColIndex();e.dispatch("MOVE_ITEM",{query:x,index:ye});const ne=p.getIndex();if(ne===void 0||ne!==ye){if(p.setIndex(ye),ne===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:l,target:ye})}},wW=Po({DID_ADD_ITEM:vW,DID_REMOVE_ITEM:xW,DID_DRAG_ITEM:bW}),EW=({root:e,props:r,actions:h,shouldOptimize:p})=>{wW({root:e,props:r,actions:h});const{dragCoordinates:m}=r,x=e.rect.element.width,w=e.childViews.filter(me=>me.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(me=>w.find(it=>it.id===me.id)).filter(me=>me),L=m?Qy(e,l,m):null,H=e.ref.addIndex||null;e.ref.addIndex=null;let q=0,J=0,oe=0;if(l.length===0)return;const de=l[0].rect.element,ye=de.marginTop+de.marginBottom,ne=de.marginLeft+de.marginRight,X=de.width+ne,pe=de.height+ye,ve=Jy(x,X);if(ve===1){let me=0,it=0;l.forEach((Ye,Q)=>{if(L){let At=Q-L;At===-2?it=-ye*.25:At===-1?it=-ye*.75:At===0?it=ye*.75:At===1?it=ye*.25:it=0}p&&(Ye.translateX=null,Ye.translateY=null),Ye.markedForRemoval||kw(Ye,0,me+it);let St=(Ye.rect.element.height+ye)*(Ye.markedForRemoval?Ye.opacity:1);me+=St})}else{let me=0,it=0;l.forEach((Ye,Q)=>{Q===L&&(q=1),Q===H&&(oe+=1),Ye.markedForRemoval&&Ye.opacity<.5&&(J-=1);const Dt=Q+oe+q+J,St=Dt%ve,At=Math.floor(Dt/ve),ui=St*X,Ue=At*pe,Pe=Math.sign(ui-me),De=Math.sign(Ue-it);me=ui,it=Ue,!Ye.markedForRemoval&&(p&&(Ye.translateX=null,Ye.translateY=null),kw(Ye,ui,Ue,Pe,De))})}},TW=(e,r)=>r.filter(h=>h.data&&h.data.id?e.id===h.data.id:!0),SW=ls({create:gW,write:EW,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(r=>r.markedForRemoval&&r.opacity===0&&r.resting).forEach(r=>{r._destroy(),e.removeChildView(r)})},filterFrameActionsForChild:TW,mixins:{apis:["dragCoordinates"]}}),AW=({root:e,props:r})=>{e.ref.list=e.appendChildView(e.createChildView(SW)),r.dragCoordinates=null,r.overflowing=!1},MW=({root:e,props:r,action:h})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(r.dragCoordinates={left:h.position.scopeLeft-e.ref.list.rect.element.left,top:h.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},CW=({props:e})=>{e.dragCoordinates=null},IW=Po({DID_DRAG:MW,DID_END_DRAG:CW}),kW=({root:e,props:r,actions:h})=>{if(IW({root:e,props:r,actions:h}),e.ref.list.dragCoordinates=r.dragCoordinates,r.overflowing&&!r.overflow&&(r.overflowing=!1,e.element.dataset.state="",e.height=null),r.overflow){const p=Math.round(r.overflow);p!==e.height&&(r.overflowing=!0,e.element.dataset.state="overflow",e.height=p)}},DW=ls({create:AW,write:kW,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),mc=(e,r,h,p="")=>{h?ss(e,r,p):e.removeAttribute(r)},PW=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const r=xh("form"),h=e.parentNode,p=e.nextSibling;r.appendChild(e),r.reset(),p?h.insertBefore(e,p):h.appendChild(e)}}},OW=({root:e,props:r})=>{e.element.id=`filepond--browser-${r.id}`,ss(e.element,"name",e.query("GET_NAME")),ss(e.element,"aria-controls",`filepond--assistant-${r.id}`),ss(e.element,"aria-labelledby",`filepond--drop-label-${r.id}`),v8({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),y8({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),x8({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),k2({root:e}),_8({root:e,action:{value:e.query("GET_REQUIRED")}}),b8({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=h=>{if(!e.element.value)return;const p=Array.from(e.element.files).map(m=>(m._relativePath=m.webkitRelativePath,m));setTimeout(()=>{r.onload(p),PW(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},v8=({root:e,action:r})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&mc(e.element,"accept",!!r.value,r.value?r.value.join(","):"")},y8=({root:e,action:r})=>{mc(e.element,"multiple",r.value)},x8=({root:e,action:r})=>{mc(e.element,"webkitdirectory",r.value)},k2=({root:e})=>{const r=e.query("GET_DISABLED"),h=e.query("GET_ALLOW_BROWSE"),p=r||!h;mc(e.element,"disabled",p)},_8=({root:e,action:r})=>{r.value?e.query("GET_TOTAL_ITEMS")===0&&mc(e.element,"required",!0):mc(e.element,"required",!1)},b8=({root:e,action:r})=>{mc(e.element,"capture",!!r.value,r.value===!0?"":r.value)},Dw=({root:e})=>{const{element:r}=e;e.query("GET_TOTAL_ITEMS")>0?(mc(r,"required",!1),mc(r,"name",!1)):(mc(r,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&r.setCustomValidity(""),e.query("GET_REQUIRED")&&mc(r,"required",!0))},LW=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},RW=ls({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:OW,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Po({DID_LOAD_ITEM:Dw,DID_REMOVE_ITEM:Dw,DID_THROW_ITEM_INVALID:LW,DID_SET_DISABLED:k2,DID_SET_ALLOW_BROWSE:k2,DID_SET_ALLOW_DIRECTORIES_ONLY:x8,DID_SET_ALLOW_MULTIPLE:y8,DID_SET_ACCEPTED_FILE_TYPES:v8,DID_SET_CAPTURE_METHOD:b8,DID_SET_REQUIRED:_8})}),Pw={ENTER:13,SPACE:32},zW=({root:e,props:r})=>{const h=xh("label");ss(h,"for",`filepond--browser-${r.id}`),ss(h,"id",`filepond--drop-label-${r.id}`),ss(h,"aria-hidden","true"),e.ref.handleKeyDown=p=>{(p.keyCode===Pw.ENTER||p.keyCode===Pw.SPACE)&&(p.preventDefault(),e.ref.label.click())},e.ref.handleClick=p=>{p.target===h||h.contains(p.target)||e.ref.label.click()},h.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),w8(h,r.caption),e.appendChild(h),e.ref.label=h},w8=(e,r)=>{e.innerHTML=r;const h=e.querySelector(".filepond--label-action");return h&&ss(h,"tabindex","0"),r},NW=ls({name:"drop-label",ignoreRect:!0,create:zW,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Po({DID_SET_LABEL_IDLE:({root:e,action:r})=>{w8(e.ref.label,r.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),FW=ls({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),BW=({root:e})=>{const r=e.rect.element.width*.5,h=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(FW,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:r,translateY:h}))},jW=({root:e,action:r})=>{if(!e.ref.blob){BW({root:e});return}e.ref.blob.translateX=r.position.scopeLeft,e.ref.blob.translateY=r.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},VW=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},UW=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},GW=({root:e,props:r,actions:h})=>{HW({root:e,props:r,actions:h});const{blob:p}=e.ref;h.length===0&&p&&p.opacity===0&&(e.removeChildView(p),e.ref.blob=null)},HW=Po({DID_DRAG:jW,DID_DROP:UW,DID_END_DRAG:VW}),WW=ls({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:GW}),E8=(e,r)=>{try{const h=new DataTransfer;r.forEach(p=>{p instanceof File?h.items.add(p):h.items.add(new File([p],p.name,{type:p.type}))}),e.files=h.files}catch{return!1}return!0},YW=({root:e})=>e.ref.fields={},cm=(e,r)=>e.ref.fields[r],ex=e=>{e.query("GET_ACTIVE_ITEMS").forEach(r=>{e.ref.fields[r.id]&&e.element.appendChild(e.ref.fields[r.id])})},Ow=({root:e})=>ex(e),$W=({root:e,action:r})=>{const m=!(e.query("GET_ITEM",r.id).origin===Rs.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),x=xh("input");x.type=m?"file":"hidden",x.name=e.query("GET_NAME"),x.disabled=e.query("GET_DISABLED"),e.ref.fields[r.id]=x,ex(e)},XW=({root:e,action:r})=>{const h=cm(e,r.id);if(!h||(r.serverFileReference!==null&&(h.value=r.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const p=e.query("GET_ITEM",r.id);E8(h,[p.file])},ZW=({root:e,action:r})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const h=cm(e,r.id);h&&E8(h,[r.file])},0)},qW=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},KW=({root:e,action:r})=>{const h=cm(e,r.id);h&&(h.parentNode&&h.parentNode.removeChild(h),delete e.ref.fields[r.id])},JW=({root:e,action:r})=>{const h=cm(e,r.id);h&&(r.value===null?h.removeAttribute("value"):h.value=r.value,ex(e))},QW=Po({DID_SET_DISABLED:qW,DID_ADD_ITEM:$W,DID_LOAD_ITEM:XW,DID_REMOVE_ITEM:KW,DID_DEFINE_VALUE:JW,DID_PREPARE_OUTPUT:ZW,DID_REORDER_ITEMS:Ow,DID_SORT_ITEMS:Ow}),eY=ls({tag:"fieldset",name:"data",create:YW,write:QW,ignoreRect:!0}),tY=e=>"getRootNode"in e?e.getRootNode():document,iY=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],rY=["css","csv","html","txt"],nY={zip:"zip|compressed",epub:"application/epub+zip"},T8=(e="")=>(e=e.toLowerCase(),iY.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):rY.includes(e)?"text/"+e:nY[e]||""),tx=e=>new Promise((r,h)=>{const p=dY(e);if(p.length&&!aY(e))return r(p);sY(e).then(r)}),aY=e=>e.files?e.files.length>0:!1,sY=e=>new Promise((r,h)=>{const p=(e.items?Array.from(e.items):[]).filter(m=>oY(m)).map(m=>lY(m));if(!p.length){r(e.files?Array.from(e.files):[]);return}Promise.all(p).then(m=>{const x=[];m.forEach(w=>{x.push.apply(x,w)}),r(x.filter(w=>w).map(w=>(w._relativePath||(w._relativePath=w.webkitRelativePath),w)))}).catch(console.error)}),oY=e=>{if(S8(e)){const r=ix(e);if(r)return r.isFile||r.isDirectory}return e.kind==="file"},lY=e=>new Promise((r,h)=>{if(uY(e)){cY(ix(e)).then(r).catch(h);return}r([e.getAsFile()])}),cY=e=>new Promise((r,h)=>{const p=[];let m=0,x=0;const w=()=>{x===0&&m===0&&r(p)},l=L=>{m++;const H=L.createReader(),q=()=>{H.readEntries(J=>{if(J.length===0){m--,w();return}J.forEach(oe=>{oe.isDirectory?l(oe):(x++,oe.file(de=>{const ye=hY(de);oe.fullPath&&(ye._relativePath=oe.fullPath),p.push(ye),x--,w()}))}),q()},h)};q()};l(e)}),hY=e=>{if(e.type.length)return e;const r=e.lastModifiedDate,h=e.name,p=T8(lm(e.name));return p.length&&(e=e.slice(0,e.size,p),e.name=h,e.lastModifiedDate=r),e},uY=e=>S8(e)&&(ix(e)||{}).isDirectory,S8=e=>"webkitGetAsEntry"in e,ix=e=>e.webkitGetAsEntry(),dY=e=>{let r=[];try{if(r=pY(e),r.length)return r;r=fY(e)}catch{}return r},fY=e=>{let r=e.getData("url");return typeof r=="string"&&r.length?[r]:[]},pY=e=>{let r=e.getData("text/html");if(typeof r=="string"&&r.length){const h=r.match(/src\s*=\s*"(.+?)"/);if(h)return[h[1]]}return[]},S1=[],ku=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),mY=(e,r,h)=>{const p=gY(r),m={element:e,filterElement:h,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return m.destroy=p.addListener(m),m},gY=e=>{const r=S1.find(p=>p.element===e);if(r)return r;const h=vY(e);return S1.push(h),h},vY=e=>{const r=[],h={dragenter:xY,dragover:_Y,dragleave:wY,drop:bY},p={};Va(h,(x,w)=>{p[x]=w(e,r),e.addEventListener(x,p[x],!1)});const m={element:e,addListener:x=>(r.push(x),()=>{r.splice(r.indexOf(x),1),r.length===0&&(S1.splice(S1.indexOf(m),1),Va(h,w=>{e.removeEventListener(w,p[w],!1)}))})};return m},yY=(e,r)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(r.x,r.y)),rx=(e,r)=>{const h=tY(r),p=yY(h,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return p===r||r.contains(p)};let A8=null;const Lp=(e,r)=>{try{e.dropEffect=r}catch{}},xY=(e,r)=>h=>{h.preventDefault(),A8=h.target,r.forEach(p=>{const{element:m,onenter:x}=p;rx(h,m)&&(p.state="enter",x(ku(h)))})},_Y=(e,r)=>h=>{h.preventDefault();const p=h.dataTransfer;tx(p).then(m=>{let x=!1;r.some(w=>{const{filterElement:l,element:L,onenter:H,onexit:q,ondrag:J,allowdrop:oe}=w;Lp(p,"copy");const de=oe(m);if(!de){Lp(p,"none");return}if(rx(h,L)){if(x=!0,w.state===null){w.state="enter",H(ku(h));return}if(w.state="over",l&&!de){Lp(p,"none");return}J(ku(h))}else l&&!x&&Lp(p,"none"),w.state&&(w.state=null,q(ku(h)))})})},bY=(e,r)=>h=>{h.preventDefault();const p=h.dataTransfer;tx(p).then(m=>{r.forEach(x=>{const{filterElement:w,element:l,ondrop:L,onexit:H,allowdrop:q}=x;if(x.state=null,!(w&&!rx(h,l))){if(!q(m))return H(ku(h));L(ku(h),m)}})})},wY=(e,r)=>h=>{A8===h.target&&r.forEach(p=>{const{onexit:m}=p;p.state=null,m(ku(h))})},EY=(e,r,h)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:p,requiresDropOnElement:m,filterItems:x=q=>q}=h,w=mY(e,p?document.documentElement:e,m);let l="",L="";w.allowdrop=q=>r(x(q)),w.ondrop=(q,J)=>{const oe=x(J);if(!r(oe)){H.ondragend(q);return}L="drag-drop",H.onload(oe,q)},w.ondrag=q=>{H.ondrag(q)},w.onenter=q=>{L="drag-over",H.ondragstart(q)},w.onexit=q=>{L="drag-exit",H.ondragend(q)};const H={updateHopperState:()=>{l!==L&&(e.dataset.hopperState=L,l=L)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{w.destroy()}};return H};let D2=!1;const Ld=[],M8=e=>{const r=document.activeElement;if(r&&/textarea|input/i.test(r.nodeName)){let h=!1,p=r;for(;p!==document.body;){if(p.classList.contains("filepond--root")){h=!0;break}p=p.parentNode}if(!h)return}tx(e.clipboardData).then(h=>{h.length&&Ld.forEach(p=>p(h))})},TY=e=>{Ld.includes(e)||(Ld.push(e),!D2&&(D2=!0,document.addEventListener("paste",M8)))},SY=e=>{Xy(Ld,Ld.indexOf(e)),Ld.length===0&&(document.removeEventListener("paste",M8),D2=!1)},AY=()=>{const e=h=>{r.onload(h)},r={destroy:()=>{SY(e)},onload:()=>{}};return TY(e),r},MY=({root:e,props:r})=>{e.element.id=`filepond--assistant-${r.id}`,ss(e.element,"role","status"),ss(e.element,"aria-live","polite"),ss(e.element,"aria-relevant","additions")};let Lw=null,Rw=null;const xv=[],hm=(e,r)=>{e.element.textContent=r},CY=e=>{e.element.textContent=""},C8=(e,r,h)=>{const p=e.query("GET_TOTAL_ITEMS");hm(e,`${h} ${r}, ${p} ${p===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Rw),Rw=setTimeout(()=>{CY(e)},1500)},I8=e=>e.element.parentNode.contains(document.activeElement),IY=({root:e,action:r})=>{if(!I8(e))return;e.element.textContent="";const h=e.query("GET_ITEM",r.id);xv.push(h.filename),clearTimeout(Lw),Lw=setTimeout(()=>{C8(e,xv.join(", "),e.query("GET_LABEL_FILE_ADDED")),xv.length=0},750)},kY=({root:e,action:r})=>{if(!I8(e))return;const h=r.item;C8(e,h.filename,e.query("GET_LABEL_FILE_REMOVED"))},DY=({root:e,action:r})=>{const p=e.query("GET_ITEM",r.id).filename,m=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");hm(e,`${p} ${m}`)},zw=({root:e,action:r})=>{const p=e.query("GET_ITEM",r.id).filename,m=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");hm(e,`${p} ${m}`)},Rp=({root:e,action:r})=>{const p=e.query("GET_ITEM",r.id).filename;hm(e,`${r.status.main} ${p} ${r.status.sub}`)},PY=ls({create:MY,ignoreRect:!0,ignoreRectUpdate:!0,write:Po({DID_LOAD_ITEM:IY,DID_REMOVE_ITEM:kY,DID_COMPLETE_ITEM_PROCESSING:DY,DID_ABORT_ITEM_PROCESSING:zw,DID_REVERT_ITEM_PROCESSING:zw,DID_THROW_ITEM_REMOVE_ERROR:Rp,DID_THROW_ITEM_LOAD_ERROR:Rp,DID_THROW_ITEM_INVALID:Rp,DID_THROW_ITEM_PROCESSING_ERROR:Rp}),tag:"span",name:"assistant"}),k8=(e,r="-")=>e.replace(new RegExp(`${r}.`,"g"),h=>h.charAt(1).toUpperCase()),D8=(e,r=16,h=!0)=>{let p=Date.now(),m=null;return(...x)=>{clearTimeout(m);const w=Date.now()-p,l=()=>{p=Date.now(),e(...x)};w<r?h||(m=setTimeout(l,r-w)):l()}},OY=1e6,A1=e=>e.preventDefault(),LY=({root:e,props:r})=>{const h=e.query("GET_ID");h&&(e.element.id=h);const p=e.query("GET_CLASS_NAME");p&&p.split(" ").filter(L=>L.length).forEach(L=>{e.element.classList.add(L)}),e.ref.label=e.appendChildView(e.createChildView(NW,{...r,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(DW,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(g8,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(PY,{...r})),e.ref.data=e.appendChildView(e.createChildView(eY,{...r})),e.ref.measure=xh("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(L=>!yh(L.value)).map(({name:L,value:H})=>{e.element.dataset[L]=H}),e.ref.widthPrevious=null,e.ref.widthUpdated=D8(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const m=window.matchMedia("(pointer: fine) and (hover: hover)").matches,x="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&x&&!m&&(e.element.addEventListener("touchmove",A1,{passive:!1}),e.element.addEventListener("gesturestart",A1));const w=e.query("GET_CREDITS");if(w.length===2){const L=document.createElement("a");L.className="filepond--credits",L.setAttribute("aria-hidden","true"),L.href=w[0],L.tabindex=-1,L.target="_blank",L.rel="noopener noreferrer",L.textContent=w[1],e.element.appendChild(L),e.ref.credits=L}},RY=({root:e,props:r,actions:h})=>{if(jY({root:e,props:r,actions:h}),h.filter(Q=>/^DID_SET_STYLE_/.test(Q.type)).filter(Q=>!yh(Q.data.value)).map(({type:Q,data:Dt})=>{const St=k8(Q.substring(8).toLowerCase(),"_");e.element.dataset[St]=Dt.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let p=e.ref.bounds;p||(p=e.ref.bounds=FY(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:m,label:x,list:w,panel:l}=e.ref;m&&m.updateHopperState();const L=e.query("GET_PANEL_ASPECT_RATIO"),H=e.query("GET_ALLOW_MULTIPLE"),q=e.query("GET_TOTAL_ITEMS"),J=H?e.query("GET_MAX_FILES")||OY:1,oe=q===J,de=h.find(Q=>Q.type==="DID_ADD_ITEM");if(oe&&de){const Q=de.data.interactionMethod;x.opacity=0,H?x.translateY=-40:Q===Ul.API?x.translateX=40:Q===Ul.BROWSE?x.translateY=40:x.translateY=30}else oe||(x.opacity=1,x.translateX=0,x.translateY=0);const ye=zY(e),ne=NY(e),X=x.rect.element.height,pe=!H||oe?0:X,ve=oe?w.rect.element.marginTop:0,me=q===0?0:w.rect.element.marginBottom,it=pe+ve+ne.visual+me,Ye=pe+ve+ne.bounds+me;if(w.translateY=Math.max(0,pe-w.rect.element.marginTop)-ye.top,L){const Q=e.rect.element.width,Dt=Q*L;L!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=L,e.ref.updateHistory=[]);const St=e.ref.updateHistory;St.push(Q);const At=2;if(St.length>At*2){const Ue=St.length,Pe=Ue-10;let De=0;for(let te=Ue;te>=Pe;te--)if(St[te]===St[te-2]&&De++,De>=At)return}l.scalable=!1,l.height=Dt;const ui=Dt-pe-(me-ye.bottom)-(oe?ve:0);ne.visual>ui?w.overflow=ui:w.overflow=null,e.height=Dt}else if(p.fixedHeight){l.scalable=!1;const Q=p.fixedHeight-pe-(me-ye.bottom)-(oe?ve:0);ne.visual>Q?w.overflow=Q:w.overflow=null}else if(p.cappedHeight){const Q=it>=p.cappedHeight,Dt=Math.min(p.cappedHeight,it);l.scalable=!0,l.height=Q?Dt:Dt-ye.top-ye.bottom;const St=Dt-pe-(me-ye.bottom)-(oe?ve:0);it>p.cappedHeight&&ne.visual>St?w.overflow=St:w.overflow=null,e.height=Math.min(p.cappedHeight,Ye-ye.top-ye.bottom)}else{const Q=q>0?ye.top+ye.bottom:0;l.scalable=!0,l.height=Math.max(X,it-Q),e.height=Math.max(X,Ye-Q)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform=`translateY(${l.heightCurrent}px)`)},zY=e=>{const r=e.ref.list.childViews[0].childViews[0];return r?{top:r.rect.element.marginTop,bottom:r.rect.element.marginBottom}:{top:0,bottom:0}},NY=e=>{let r=0,h=0;const p=e.ref.list,m=p.childViews[0],x=m.childViews.filter(ve=>ve.rect.element.height),w=e.query("GET_ACTIVE_ITEMS").map(ve=>x.find(me=>me.id===ve.id)).filter(ve=>ve);if(w.length===0)return{visual:r,bounds:h};const l=m.rect.element.width,L=Qy(m,w,p.dragCoordinates),H=w[0].rect.element,q=H.marginTop+H.marginBottom,J=H.marginLeft+H.marginRight,oe=H.width+J,de=H.height+q,ye=typeof L<"u"&&L>=0?1:0,ne=w.find(ve=>ve.markedForRemoval&&ve.opacity<.45)?-1:0,X=w.length+ye+ne,pe=Jy(l,oe);return pe===1?w.forEach(ve=>{const me=ve.rect.element.height+q;h+=me,r+=me*ve.opacity}):(h=Math.ceil(X/pe)*de,r=h),{visual:r,bounds:h}},FY=e=>{const r=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:r===0?null:r}},nx=(e,r)=>{const h=e.query("GET_ALLOW_REPLACE"),p=e.query("GET_ALLOW_MULTIPLE"),m=e.query("GET_TOTAL_ITEMS");let x=e.query("GET_MAX_FILES");const w=r.length;return!p&&w>1?(e.dispatch("DID_THROW_MAX_FILES",{source:r,error:qa("warning",0,"Max files")}),!0):(x=p?x:1,!p&&h?!1:Jd(x)&&m+w>x?(e.dispatch("DID_THROW_MAX_FILES",{source:r,error:qa("warning",0,"Max files")}),!0):!1)},BY=(e,r,h)=>{const p=e.childViews[0];return Qy(p,r,{left:h.scopeLeft-p.rect.element.left,top:h.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Nw=e=>{const r=e.query("GET_ALLOW_DROP"),h=e.query("GET_DISABLED"),p=r&&!h;if(p&&!e.ref.hopper){const m=EY(e.element,x=>{const w=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?x.every(L=>ju("ALLOW_HOPPER_ITEM",L,{query:e.query}).every(H=>H===!0)&&w(L)):!0},{filterItems:x=>{const w=e.query("GET_IGNORED_FILES");return x.filter(l=>Ud(l)?!w.includes(l.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});m.onload=(x,w)=>{const L=e.ref.list.childViews[0].childViews.filter(q=>q.rect.element.height),H=e.query("GET_ACTIVE_ITEMS").map(q=>L.find(J=>J.id===q.id)).filter(q=>q);uc("ADD_ITEMS",x,{dispatch:e.dispatch}).then(q=>{if(nx(e,q))return!1;e.dispatch("ADD_ITEMS",{items:q,index:BY(e.ref.list,H,w),interactionMethod:Ul.DROP})}),e.dispatch("DID_DROP",{position:w}),e.dispatch("DID_END_DRAG",{position:w})},m.ondragstart=x=>{e.dispatch("DID_START_DRAG",{position:x})},m.ondrag=D8(x=>{e.dispatch("DID_DRAG",{position:x})}),m.ondragend=x=>{e.dispatch("DID_END_DRAG",{position:x})},e.ref.hopper=m,e.ref.drip=e.appendChildView(e.createChildView(WW))}else!p&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Fw=(e,r)=>{const h=e.query("GET_ALLOW_BROWSE"),p=e.query("GET_DISABLED"),m=h&&!p;m&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(RW,{...r,onload:x=>{uc("ADD_ITEMS",x,{dispatch:e.dispatch}).then(w=>{if(nx(e,w))return!1;e.dispatch("ADD_ITEMS",{items:w,index:-1,interactionMethod:Ul.BROWSE})})}}),0):!m&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Bw=e=>{const r=e.query("GET_ALLOW_PASTE"),h=e.query("GET_DISABLED"),p=r&&!h;p&&!e.ref.paster?(e.ref.paster=AY(),e.ref.paster.onload=m=>{uc("ADD_ITEMS",m,{dispatch:e.dispatch}).then(x=>{if(nx(e,x))return!1;e.dispatch("ADD_ITEMS",{items:x,index:-1,interactionMethod:Ul.PASTE})})}):!p&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},jY=Po({DID_SET_ALLOW_BROWSE:({root:e,props:r})=>{Fw(e,r)},DID_SET_ALLOW_DROP:({root:e})=>{Nw(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Bw(e)},DID_SET_DISABLED:({root:e,props:r})=>{Nw(e),Bw(e),Fw(e,r),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),VY=ls({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:LY,write:RY,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",A1),e.element.removeEventListener("gesturestart",A1)},mixins:{styles:["height"]}}),UY=(e={})=>{let r=null;const h=T1(),p=nG(GG(h),[lH,YG(h)],[OH,WG(h)]);p.dispatch("SET_OPTIONS",{options:e});const m=()=>{document.hidden||p.dispatch("KICK")};document.addEventListener("visibilitychange",m);let x=null,w=!1,l=!1,L=null,H=null;const q=()=>{w||(w=!0),clearTimeout(x),x=setTimeout(()=>{w=!1,L=null,H=null,l&&(l=!1,p.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",q);const J=VY(p,{id:$y()});let oe=!1,de=!1;const ye={_read:()=>{w&&(H=window.innerWidth,L||(L=H),!l&&H!==L&&(p.dispatch("DID_START_RESIZE"),l=!0)),de&&oe&&(oe=J.element.offsetParent===null),!oe&&(J._read(),de=J.rect.element.hidden)},_write:le=>{const Se=p.processActionQueue().filter(Re=>!/^SET_/.test(Re.type));oe&&!Se.length||(ve(Se),oe=J._write(le,Se,l),ZG(p.query("GET_ITEMS")),oe&&p.processDispatchQueue())}},ne=le=>Se=>{const Re={type:le};if(!Se)return Re;if(Se.hasOwnProperty("error")&&(Re.error=Se.error?{...Se.error}:null),Se.status&&(Re.status={...Se.status}),Se.file&&(Re.output=Se.file),Se.source)Re.file=Se.source;else if(Se.item||Se.id){const ot=Se.item?Se.item:p.query("GET_ITEM",Se.id);Re.file=ot?Wo(ot):null}return Se.items&&(Re.items=Se.items.map(Wo)),/progress/.test(le)&&(Re.progress=Se.progress),Se.hasOwnProperty("origin")&&Se.hasOwnProperty("target")&&(Re.origin=Se.origin,Re.target=Se.target),Re},X={DID_DESTROY:ne("destroy"),DID_INIT:ne("init"),DID_THROW_MAX_FILES:ne("warning"),DID_INIT_ITEM:ne("initfile"),DID_START_ITEM_LOAD:ne("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:ne("addfileprogress"),DID_LOAD_ITEM:ne("addfile"),DID_THROW_ITEM_INVALID:[ne("error"),ne("addfile")],DID_THROW_ITEM_LOAD_ERROR:[ne("error"),ne("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[ne("error"),ne("removefile")],DID_PREPARE_OUTPUT:ne("preparefile"),DID_START_ITEM_PROCESSING:ne("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:ne("processfileprogress"),DID_ABORT_ITEM_PROCESSING:ne("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:ne("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:ne("processfiles"),DID_REVERT_ITEM_PROCESSING:ne("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[ne("error"),ne("processfile")],DID_REMOVE_ITEM:ne("removefile"),DID_UPDATE_ITEMS:ne("updatefiles"),DID_ACTIVATE_ITEM:ne("activatefile"),DID_REORDER_ITEMS:ne("reorderfiles")},pe=le=>{const Se={pond:fe,...le};delete Se.type,J.element.dispatchEvent(new CustomEvent(`FilePond:${le.type}`,{detail:Se,bubbles:!0,cancelable:!0,composed:!0}));const Re=[];le.hasOwnProperty("error")&&Re.push(le.error),le.hasOwnProperty("file")&&Re.push(le.file);const ot=["type","error","file"];Object.keys(le).filter(Pt=>!ot.includes(Pt)).forEach(Pt=>Re.push(le[Pt])),fe.fire(le.type,...Re);const ht=p.query(`GET_ON${le.type.toUpperCase()}`);ht&&ht(...Re)},ve=le=>{le.length&&le.filter(Se=>X[Se.type]).forEach(Se=>{const Re=X[Se.type];(Array.isArray(Re)?Re:[Re]).forEach(ot=>{Se.type==="DID_INIT_ITEM"?pe(ot(Se.data)):setTimeout(()=>{pe(ot(Se.data))},0)})})},me=le=>p.dispatch("SET_OPTIONS",{options:le}),it=le=>p.query("GET_ACTIVE_ITEM",le),Ye=le=>new Promise((Se,Re)=>{p.dispatch("REQUEST_ITEM_PREPARE",{query:le,success:ot=>{Se(ot)},failure:ot=>{Re(ot)}})}),Q=(le,Se={})=>new Promise((Re,ot)=>{At([{source:le,options:Se}],{index:Se.index}).then(ht=>Re(ht&&ht[0])).catch(ot)}),Dt=le=>le.file&&le.id,St=(le,Se)=>(typeof le=="object"&&!Dt(le)&&!Se&&(Se=le,le=void 0),p.dispatch("REMOVE_ITEM",{...Se,query:le}),p.query("GET_ACTIVE_ITEM",le)===null),At=(...le)=>new Promise((Se,Re)=>{const ot=[],ht={};if(nm(le[0]))ot.push.apply(ot,le[0]),Object.assign(ht,le[1]||{});else{const Pt=le[le.length-1];typeof Pt=="object"&&!(Pt instanceof Blob)&&Object.assign(ht,le.pop()),ot.push(...le)}p.dispatch("ADD_ITEMS",{items:ot,index:ht.index,interactionMethod:Ul.API,success:Se,failure:Re})}),ui=()=>p.query("GET_ACTIVE_ITEMS"),Ue=le=>new Promise((Se,Re)=>{p.dispatch("REQUEST_ITEM_PROCESSING",{query:le,success:ot=>{Se(ot)},failure:ot=>{Re(ot)}})}),Pe=(...le)=>{const Se=Array.isArray(le[0])?le[0]:le,Re=Se.length?Se:ui();return Promise.all(Re.map(Ye))},De=(...le)=>{const Se=Array.isArray(le[0])?le[0]:le;if(!Se.length){const Re=ui().filter(ot=>!(ot.status===jr.IDLE&&ot.origin===Rs.LOCAL)&&ot.status!==jr.PROCESSING&&ot.status!==jr.PROCESSING_COMPLETE&&ot.status!==jr.PROCESSING_REVERT_ERROR);return Promise.all(Re.map(Ue))}return Promise.all(Se.map(Ue))},te=(...le)=>{const Se=Array.isArray(le[0])?le[0]:le;let Re;typeof Se[Se.length-1]=="object"?Re=Se.pop():Array.isArray(le[0])&&(Re=le[1]);const ot=ui();return Se.length?Se.map(Pt=>Eu(Pt)?ot[Pt]?ot[Pt].id:null:Pt).filter(Pt=>Pt).map(Pt=>St(Pt,Re)):Promise.all(ot.map(Pt=>St(Pt,Re)))},fe={...om(),...ye,...HG(p,h),setOptions:me,addFile:Q,addFiles:At,getFile:it,processFile:Ue,prepareFile:Ye,removeFile:St,moveFile:(le,Se)=>p.dispatch("MOVE_ITEM",{query:le,index:Se}),getFiles:ui,processFiles:De,removeFiles:te,prepareFiles:Pe,sort:le=>p.dispatch("SORT",{compare:le}),browse:()=>{var le=J.element.querySelector("input[type=file]");le&&le.click()},destroy:()=>{fe.fire("destroy",J.element),p.dispatch("ABORT_ALL"),J._destroy(),window.removeEventListener("resize",q),document.removeEventListener("visibilitychange",m),p.dispatch("DID_DESTROY")},insertBefore:le=>lw(J.element,le),insertAfter:le=>cw(J.element,le),appendTo:le=>le.appendChild(J.element),replaceElement:le=>{lw(J.element,le),le.parentNode.removeChild(le),r=le},restoreElement:()=>{r&&(cw(r,J.element),J.element.parentNode.removeChild(J.element),r=null)},isAttachedTo:le=>J.element===le||r===le,element:{get:()=>J.element},status:{get:()=>p.query("GET_STATUS")}};return p.dispatch("DID_INIT"),Kh(fe)},P8=(e={})=>{const r={};return Va(T1(),(p,m)=>{r[p]=m[0]}),UY({...r,...e})},GY=e=>e.charAt(0).toLowerCase()+e.slice(1),HY=e=>k8(e.replace(/^data-/,"")),O8=(e,r)=>{Va(r,(h,p)=>{Va(e,(m,x)=>{const w=new RegExp(h);if(!w.test(m)||(delete e[m],p===!1))return;if(Io(p)){e[p]=x;return}const L=p.group;zs(p)&&!e[L]&&(e[L]={}),e[L][GY(m.replace(w,""))]=x}),p.mapping&&O8(e[p.group],p.mapping)})},WY=(e,r={})=>{const h=[];Va(e.attributes,m=>{h.push(e.attributes[m])});const p=h.filter(m=>m.name).reduce((m,x)=>{const w=ss(e,x.name);return m[HY(x.name)]=w===x.name?!0:w,m},{});return O8(p,r),p},YY=(e,r={})=>{const h={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ju("SET_ATTRIBUTE_TO_OPTION_MAP",h);const p={...r},m=WY(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,h);Object.keys(m).forEach(w=>{zs(m[w])?(zs(p[w])||(p[w]={}),Object.assign(p[w],m[w])):p[w]=m[w]}),p.files=(r.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(w=>({source:w.value,options:{type:w.dataset.type}})));const x=P8(p);return e.files&&Array.from(e.files).forEach(w=>{x.addFile(w)}),x.replaceElement(e),x},$Y=(...e)=>rG(e[0])?YY(...e):P8(...e),XY=["fire","_read","_write"],jw=e=>{const r={};return t8(e,r,XY),r},ZY=(e,r)=>e.replace(/(?:{([a-zA-Z]+)})/g,(h,p)=>r[p]),qY=e=>{const r=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(r),p=new Worker(h);return{transfer:(m,x)=>{},post:(m,x,w)=>{const l=$y();p.onmessage=L=>{L.data.id===l&&x(L.data.message)},p.postMessage({id:l,message:m},w)},terminate:()=>{p.terminate(),URL.revokeObjectURL(h)}}},KY=e=>new Promise((r,h)=>{const p=new Image;p.onload=()=>{r(p)},p.onerror=m=>{h(m)},p.src=e}),L8=(e,r)=>{const h=e.slice(0,e.size,e.type);return h.lastModifiedDate=e.lastModifiedDate,h.name=r,h},JY=e=>L8(e,e.name),Vw=[],QY=e=>{if(Vw.includes(e))return;Vw.push(e);const r=e({addFilter:KG,utils:{Type:Ri,forin:Va,isString:Io,isFile:Ud,toNaturalFileSize:f8,replaceInString:ZY,getExtensionFromFilename:lm,getFilenameWithoutExtension:h8,guesstimateMimeType:T8,getFileFromBlob:Vd,getFilenameFromURL:Mf,createRoute:Po,createWorker:qY,createView:ls,createItemAPI:Wo,loadImage:KY,copyFile:JY,renameFile:L8,createBlob:o8,applyFilterChain:uc,text:Ka,getNumericAspectRatioFromString:n8},views:{fileActionButton:d8}});JG(r.options)},e$=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",t$=()=>"Promise"in window,i$=()=>"slice"in Blob.prototype,r$=()=>"URL"in window&&"createObjectURL"in window.URL,n$=()=>"visibilityState"in document,a$=()=>"performance"in window,s$=()=>"supports"in(window.CSS||{}),o$=()=>/MSIE|Trident/.test(window.navigator.userAgent),Uw=(()=>{const e=ZT()&&!e$()&&n$()&&t$()&&i$()&&r$()&&a$()&&(s$()||o$());return()=>e})(),Hh={apps:[]},l$="filepond",Vu=()=>{};let Gw={},Jp=Vu,_v=Vu,Hw=Vu,Ww=Vu,P2=Vu,Yw=Vu,$w=Vu;if(Uw()){IG(()=>{Hh.apps.forEach(h=>h._read())},h=>{Hh.apps.forEach(p=>p._write(h))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Uw,create:Jp,destroy:_v,parse:Hw,find:Ww,registerPlugin:P2,setOptions:$w}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const r=()=>Va(T1(),(h,p)=>{Gw[h]=p[1]});Gw={},r(),Jp=(...h)=>{const p=$Y(...h);return p.on("destroy",_v),Hh.apps.push(p),jw(p)},_v=h=>{const p=Hh.apps.findIndex(m=>m.isAttachedTo(h));return p>=0?(Hh.apps.splice(p,1)[0].restoreElement(),!0):!1},Hw=h=>Array.from(h.querySelectorAll(`.${l$}`)).filter(x=>!Hh.apps.find(w=>w.isAttachedTo(x))).map(x=>Jp(x)),Ww=h=>{const p=Hh.apps.find(m=>m.isAttachedTo(h));return p?jw(p):null},P2=(...h)=>{h.forEach(QY),r()},Yw=()=>{const h={};return Va(T1(),(p,m)=>{h[p]=m[0]}),h},$w=h=>(zs(h)&&(Hh.apps.forEach(p=>{p.setOptions(h)}),QG(h)),Yw())}/*!
 * FilePondPluginFileEncode 2.1.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const c$=function(){self.onmessage=r=>{e(r.data.message,h=>{self.postMessage({id:r.data.id,message:h})})};const e=(r,h)=>{const{file:p}=r,m=new FileReader;m.onloadend=()=>{h(m.result.replace("data:","").replace(/^.+,/,""))},m.readAsDataURL(p)}},h$=({addFilter:e,utils:r})=>{const{Type:h,createWorker:p,createRoute:m,isFile:x}=r,w=({name:L,file:H})=>new Promise(q=>{const J=p(c$);J.post({file:H},oe=>{q({name:L,data:oe}),J.terminate()})}),l=[];return e("DID_CREATE_ITEM",(L,{query:H})=>{H("GET_ALLOW_FILE_ENCODE")&&(L.extend("getFileEncodeBase64String",()=>l[L.id]&&l[L.id].data),L.extend("getFileEncodeDataURL",()=>`data:${L.fileType};base64,${l[L.id].data}`))}),e("SHOULD_PREPARE_OUTPUT",(L,{query:H})=>new Promise(q=>{q(H("GET_ALLOW_FILE_ENCODE"))})),e("COMPLETE_PREPARE_OUTPUT",(L,{item:H,query:q})=>new Promise(J=>{if(!q("GET_ALLOW_FILE_ENCODE")||!x(L)&&!Array.isArray(L))return J(L);l[H.id]={metadata:H.getMetadata(),data:null},Promise.all((L instanceof Blob?[{name:null,file:L}]:L).map(w)).then(oe=>{l[H.id].data=L instanceof Blob?oe[0].data:oe,J(L)})})),e("CREATE_VIEW",L=>{const{is:H,view:q,query:J}=L;!H("file-wrapper")||!J("GET_ALLOW_FILE_ENCODE")||q.registerWriter(m({DID_PREPARE_OUTPUT:({root:oe,action:de})=>{if(J("IS_ASYNC"))return;const ye=J("GET_ITEM",de.id);if(!ye)return;const ne=l[ye.id],X=ne.metadata,pe=ne.data,ve=JSON.stringify({id:ye.id,name:ye.file.name,type:ye.file.type,size:ye.file.size,metadata:X,data:pe});oe.ref.data?oe.ref.data.value=ve:oe.dispatch("DID_DEFINE_VALUE",{id:ye.id,value:ve})},DID_REMOVE_ITEM:({action:oe})=>{const de=J("GET_ITEM",oe.id);de&&delete l[de.id]}}))}),{options:{allowFileEncode:[!0,h.BOOLEAN]}}},u$=typeof window<"u"&&typeof window.document<"u";u$&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:h$}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const R8=({addFilter:e,utils:r})=>{const{Type:h,isString:p,replaceInString:m,guesstimateMimeType:x,getExtensionFromFilename:w,getFilenameFromURL:l}=r,L=(de,ye)=>{const ne=(/^[^/]+/.exec(de)||[]).pop(),X=ye.slice(0,-2);return ne===X},H=(de,ye)=>de.some(ne=>/\*$/.test(ne)?L(ye,ne):ne===ye),q=de=>{let ye="";if(p(de)){const ne=l(de),X=w(ne);X&&(ye=x(X))}else ye=de.type;return ye},J=(de,ye,ne)=>{if(ye.length===0)return!0;const X=q(de);return ne?new Promise((pe,ve)=>{ne(de,X).then(me=>{H(ye,me)?pe():ve()}).catch(ve)}):H(ye,X)},oe=de=>ye=>de[ye]===null?!1:de[ye]||ye;return e("SET_ATTRIBUTE_TO_OPTION_MAP",de=>Object.assign(de,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(de,{query:ye})=>ye("GET_ALLOW_FILE_TYPE_VALIDATION")?J(de,ye("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(de,{query:ye})=>new Promise((ne,X)=>{if(!ye("GET_ALLOW_FILE_TYPE_VALIDATION")){ne(de);return}const pe=ye("GET_ACCEPTED_FILE_TYPES"),ve=ye("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),me=J(de,pe,ve),it=()=>{const Ye=pe.map(oe(ye("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(Dt=>Dt!==!1),Q=Ye.filter(function(Dt,St){return Ye.indexOf(Dt)===St});X({status:{main:ye("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:m(ye("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:Q.join(", "),allButLastType:Q.slice(0,-1).join(", "),lastType:Q[Ye.length-1]})}})};if(typeof me=="boolean")return me?ne(de):it();me.then(()=>{ne(de)}).catch(it)})),{options:{allowFileTypeValidation:[!0,h.BOOLEAN],acceptedFileTypes:[[],h.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",h.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",h.STRING],fileValidateTypeLabelExpectedTypesMap:[{},h.OBJECT],fileValidateTypeDetectType:[null,h.FUNCTION]}}},d$=typeof window<"u"&&typeof window.document<"u";d$&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:R8}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const f$=e=>/^image\/jpeg/.test(e.type),xu={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},_u=(e,r,h=!1)=>e.getUint16(r,h),Xw=(e,r,h=!1)=>e.getUint32(r,h),p$=e=>new Promise((r,h)=>{const p=new FileReader;p.onload=function(m){const x=new DataView(m.target.result);if(_u(x,0)!==xu.JPEG){r(-1);return}const w=x.byteLength;let l=2;for(;l<w;){const L=_u(x,l);if(l+=2,L===xu.APP1){if(Xw(x,l+=2)!==xu.EXIF)break;const H=_u(x,l+=6)===xu.TIFF;l+=Xw(x,l+4,H);const q=_u(x,l,H);l+=2;for(let J=0;J<q;J++)if(_u(x,l+J*12,H)===xu.Orientation){r(_u(x,l+J*12+8,H));return}}else{if((L&xu.Unknown)!==xu.Unknown)break;l+=_u(x,l)}}r(-1)},p.readAsArrayBuffer(e.slice(0,64*1024))}),m$=(()=>typeof window<"u"&&typeof window.document<"u")(),g$=()=>m$,v$="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let z8;const Qp=g$()?new Image:{};Qp.onload=()=>z8=Qp.naturalWidth>Qp.naturalHeight;Qp.src=v$;const y$=()=>z8,N8=({addFilter:e,utils:r})=>{const{Type:h,isFile:p}=r;return e("DID_LOAD_ITEM",(m,{query:x})=>new Promise((w,l)=>{const L=m.file;if(!p(L)||!f$(L)||!x("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!y$())return w(m);p$(L).then(H=>{m.setMetadata("exif",{orientation:H}),w(m)})})),{options:{allowImageExifOrientation:[!0,h.BOOLEAN]}}},x$=typeof window<"u"&&typeof window.document<"u";x$&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:N8}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const _$=e=>/^image/.test(e.type),Zw=(e,r)=>uf(e.x*r,e.y*r),qw=(e,r)=>uf(e.x+r.x,e.y+r.y),b$=e=>{const r=Math.sqrt(e.x*e.x+e.y*e.y);return r===0?{x:0,y:0}:uf(e.x/r,e.y/r)},zp=(e,r,h)=>{const p=Math.cos(r),m=Math.sin(r),x=uf(e.x-h.x,e.y-h.y);return uf(h.x+p*x.x-m*x.y,h.y+m*x.x+p*x.y)},uf=(e=0,r=0)=>({x:e,y:r}),Yo=(e,r,h=1,p)=>{if(typeof e=="string")return parseFloat(e)*h;if(typeof e=="number")return e*(p?r[p]:Math.min(r.width,r.height))},w$=(e,r,h)=>{const p=e.borderStyle||e.lineStyle||"solid",m=e.backgroundColor||e.fontColor||"transparent",x=e.borderColor||e.lineColor||"transparent",w=Yo(e.borderWidth||e.lineWidth,r,h),l=e.lineCap||"round",L=e.lineJoin||"round",H=typeof p=="string"?"":p.map(J=>Yo(J,r,h)).join(","),q=e.opacity||1;return{"stroke-linecap":l,"stroke-linejoin":L,"stroke-width":w||0,"stroke-dasharray":H,stroke:x,fill:m,opacity:q}},Nl=e=>e!=null,E$=(e,r,h=1)=>{let p=Yo(e.x,r,h,"width")||Yo(e.left,r,h,"width"),m=Yo(e.y,r,h,"height")||Yo(e.top,r,h,"height"),x=Yo(e.width,r,h,"width"),w=Yo(e.height,r,h,"height"),l=Yo(e.right,r,h,"width"),L=Yo(e.bottom,r,h,"height");return Nl(m)||(Nl(w)&&Nl(L)?m=r.height-w-L:m=L),Nl(p)||(Nl(x)&&Nl(l)?p=r.width-x-l:p=l),Nl(x)||(Nl(p)&&Nl(l)?x=r.width-p-l:x=0),Nl(w)||(Nl(m)&&Nl(L)?w=r.height-m-L:w=0),{x:p||0,y:m||0,width:x||0,height:w||0}},T$=e=>e.map((r,h)=>`${h===0?"M":"L"} ${r.x} ${r.y}`).join(" "),Hc=(e,r)=>Object.keys(r).forEach(h=>e.setAttribute(h,r[h])),S$="http://www.w3.org/2000/svg",Id=(e,r)=>{const h=document.createElementNS(S$,e);return r&&Hc(h,r),h},A$=e=>Hc(e,{...e.rect,...e.styles}),M$=e=>{const r=e.rect.x+e.rect.width*.5,h=e.rect.y+e.rect.height*.5,p=e.rect.width*.5,m=e.rect.height*.5;return Hc(e,{cx:r,cy:h,rx:p,ry:m,...e.styles})},C$={contain:"xMidYMid meet",cover:"xMidYMid slice"},I$=(e,r)=>{Hc(e,{...e.rect,...e.styles,preserveAspectRatio:C$[r.fit]||"none"})},k$={left:"start",center:"middle",right:"end"},D$=(e,r,h,p)=>{const m=Yo(r.fontSize,h,p),x=r.fontFamily||"sans-serif",w=r.fontWeight||"normal",l=k$[r.textAlign]||"start";Hc(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":w,"font-size":m,"font-family":x,"text-anchor":l}),e.text!==r.text&&(e.text=r.text,e.textContent=r.text.length?r.text:" ")},P$=(e,r,h,p)=>{Hc(e,{...e.rect,...e.styles,fill:"none"});const m=e.childNodes[0],x=e.childNodes[1],w=e.childNodes[2],l=e.rect,L={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Hc(m,{x1:l.x,y1:l.y,x2:L.x,y2:L.y}),!r.lineDecoration)return;x.style.display="none",w.style.display="none";const H=b$({x:L.x-l.x,y:L.y-l.y}),q=Yo(.05,h,p);if(r.lineDecoration.indexOf("arrow-begin")!==-1){const J=Zw(H,q),oe=qw(l,J),de=zp(l,2,oe),ye=zp(l,-2,oe);Hc(x,{style:"display:block;",d:`M${de.x},${de.y} L${l.x},${l.y} L${ye.x},${ye.y}`})}if(r.lineDecoration.indexOf("arrow-end")!==-1){const J=Zw(H,-q),oe=qw(L,J),de=zp(L,2,oe),ye=zp(L,-2,oe);Hc(w,{style:"display:block;",d:`M${de.x},${de.y} L${L.x},${L.y} L${ye.x},${ye.y}`})}},O$=(e,r,h,p)=>{Hc(e,{...e.styles,fill:"none",d:T$(r.points.map(m=>({x:Yo(m.x,h,p,"width"),y:Yo(m.y,h,p,"height")})))})},Np=e=>r=>Id(e,{id:r.id}),L$=e=>{const r=Id("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return r.onload=()=>{r.setAttribute("opacity",e.opacity||1)},r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),r},R$=e=>{const r=Id("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=Id("line");r.appendChild(h);const p=Id("path");r.appendChild(p);const m=Id("path");return r.appendChild(m),r},z$={image:L$,rect:Np("rect"),ellipse:Np("ellipse"),text:Np("text"),path:Np("path"),line:R$},N$={rect:A$,ellipse:M$,image:I$,text:D$,path:O$,line:P$},F$=(e,r)=>z$[e](r),B$=(e,r,h,p,m)=>{r!=="path"&&(e.rect=E$(h,p,m)),e.styles=w$(h,p,m),N$[r](e,h,p,m)},j$=["x","y","left","top","right","bottom","width","height"],V$=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,U$=e=>{const[r,h]=e,p=h.points?{}:j$.reduce((m,x)=>(m[x]=V$(h[x]),m),{});return[r,{zIndex:0,...h,...p}]},G$=(e,r)=>e[1].zIndex>r[1].zIndex?1:e[1].zIndex<r[1].zIndex?-1:0,H$=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:r,props:h})=>{if(!h.dirty)return;const{crop:p,resize:m,markup:x}=h,w=h.width,l=h.height;let L=p.width,H=p.height;if(m){const{size:de}=m;let ye=de&&de.width,ne=de&&de.height;const X=m.mode,pe=m.upscale;ye&&!ne&&(ne=ye),ne&&!ye&&(ye=ne);const ve=L<ye&&H<ne;if(!ve||ve&&pe){let me=ye/L,it=ne/H;if(X==="force")L=ye,H=ne;else{let Ye;X==="cover"?Ye=Math.max(me,it):X==="contain"&&(Ye=Math.min(me,it)),L=L*Ye,H=H*Ye}}}const q={width:w,height:l};r.element.setAttribute("width",q.width),r.element.setAttribute("height",q.height);const J=Math.min(w/L,l/H);r.element.innerHTML="";const oe=r.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");x.filter(oe).map(U$).sort(G$).forEach(de=>{const[ye,ne]=de,X=F$(ye,ne);B$(X,ye,ne,q,J),r.element.appendChild(X)})}}),ef=(e,r)=>({x:e,y:r}),W$=(e,r)=>e.x*r.x+e.y*r.y,Kw=(e,r)=>ef(e.x-r.x,e.y-r.y),Y$=(e,r)=>W$(Kw(e,r),Kw(e,r)),Jw=(e,r)=>Math.sqrt(Y$(e,r)),Qw=(e,r)=>{const h=e,p=1.5707963267948966,m=r,x=1.5707963267948966-r,w=Math.sin(p),l=Math.sin(m),L=Math.sin(x),H=Math.cos(x),q=h/w,J=q*l,oe=q*L;return ef(H*J,H*oe)},$$=(e,r)=>{const h=e.width,p=e.height,m=Qw(h,r),x=Qw(p,r),w=ef(e.x+Math.abs(m.x),e.y-Math.abs(m.y)),l=ef(e.x+e.width+Math.abs(x.y),e.y+Math.abs(x.x)),L=ef(e.x-Math.abs(x.y),e.y+e.height-Math.abs(x.x));return{width:Jw(w,l),height:Jw(w,L)}},X$=(e,r,h=1)=>{const p=e.height/e.width;let m=1,x=r,w=1,l=p;l>x&&(l=x,w=l/p);const L=Math.max(m/w,x/l),H=e.width/(h*L*w),q=H*r;return{width:H,height:q}},F8=(e,r,h,p)=>{const m=p.x>.5?1-p.x:p.x,x=p.y>.5?1-p.y:p.y,w=m*2*e.width,l=x*2*e.height,L=$$(r,h);return Math.max(L.width/w,L.height/l)},B8=(e,r)=>{let h=e.width,p=h*r;p>e.height&&(p=e.height,h=p/r);const m=(e.width-h)*.5,x=(e.height-p)*.5;return{x:m,y:x,width:h,height:p}},Z$=(e,r={})=>{let{zoom:h,rotation:p,center:m,aspectRatio:x}=r;x||(x=e.height/e.width);const w=X$(e,x,h),l={x:w.width*.5,y:w.height*.5},L={x:0,y:0,width:w.width,height:w.height,center:l},H=typeof r.scaleToFit>"u"||r.scaleToFit,q=F8(e,B8(L,x),p,H?m:{x:.5,y:.5}),J=h*q;return{widthFloat:w.width/J,heightFloat:w.height/J,width:Math.round(w.width/J),height:Math.round(w.height/J)}},Uc={type:"spring",stiffness:.5,damping:.45,mass:10},q$=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:r,props:h})=>{r.appendChild(h.image)}}),K$=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Uc,originY:Uc,scaleX:Uc,scaleY:Uc,translateX:Uc,translateY:Uc,rotateZ:Uc}},create:({root:r,props:h})=>{h.width=h.image.width,h.height=h.image.height,r.ref.bitmap=r.appendChildView(r.createChildView(q$(e),{image:h.image}))},write:({root:r,props:h})=>{const{flip:p}=h.crop,{bitmap:m}=r.ref;m.scaleX=p.horizontal?-1:1,m.scaleY=p.vertical?-1:1}}),J$=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:r,props:h}){h.background&&(r.element.style.backgroundColor=h.background)},create:({root:r,props:h})=>{r.ref.image=r.appendChildView(r.createChildView(K$(e),Object.assign({},h))),r.ref.createMarkup=()=>{r.ref.markup||(r.ref.markup=r.appendChildView(r.createChildView(H$(e),Object.assign({},h))))},r.ref.destroyMarkup=()=>{r.ref.markup&&(r.removeChildView(r.ref.markup),r.ref.markup=null)};const p=r.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");p!==null&&(p==="grid"?r.element.dataset.transparencyIndicator=p:r.element.dataset.transparencyIndicator="color")},write:({root:r,props:h,shouldOptimize:p})=>{const{crop:m,markup:x,resize:w,dirty:l,width:L,height:H}=h;r.ref.image.crop=m;const q={x:0,y:0,width:L,height:H,center:{x:L*.5,y:H*.5}},J={width:r.ref.image.width,height:r.ref.image.height},oe={x:m.center.x*J.width,y:m.center.y*J.height},de={x:q.center.x-J.width*m.center.x,y:q.center.y-J.height*m.center.y},ye=Math.PI*2+m.rotation%(Math.PI*2),ne=m.aspectRatio||J.height/J.width,X=typeof m.scaleToFit>"u"||m.scaleToFit,pe=F8(J,B8(q,ne),ye,X?m.center:{x:.5,y:.5}),ve=m.zoom*pe;x&&x.length?(r.ref.createMarkup(),r.ref.markup.width=L,r.ref.markup.height=H,r.ref.markup.resize=w,r.ref.markup.dirty=l,r.ref.markup.markup=x,r.ref.markup.crop=Z$(J,m)):r.ref.markup&&r.ref.destroyMarkup();const me=r.ref.image;if(p){me.originX=null,me.originY=null,me.translateX=null,me.translateY=null,me.rotateZ=null,me.scaleX=null,me.scaleY=null;return}me.originX=oe.x,me.originY=oe.y,me.translateX=de.x,me.translateY=de.y,me.rotateZ=ye,me.scaleX=ve,me.scaleY=ve}}),Q$=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Uc,scaleY:Uc,translateY:Uc,opacity:{type:"tween",duration:400}}},create:({root:r,props:h})=>{r.ref.clip=r.appendChildView(r.createChildView(J$(e),{id:h.id,image:h.image,crop:h.crop,markup:h.markup,resize:h.resize,dirty:h.dirty,background:h.background}))},write:({root:r,props:h,shouldOptimize:p})=>{const{clip:m}=r.ref,{image:x,crop:w,markup:l,resize:L,dirty:H}=h;if(m.crop=w,m.markup=l,m.resize=L,m.dirty=H,m.opacity=p?0:1,p||r.rect.element.hidden)return;const q=x.height/x.width;let J=w.aspectRatio||q;const oe=r.rect.inner.width,de=r.rect.inner.height;let ye=r.query("GET_IMAGE_PREVIEW_HEIGHT");const ne=r.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),X=r.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),pe=r.query("GET_PANEL_ASPECT_RATIO"),ve=r.query("GET_ALLOW_MULTIPLE");pe&&!ve&&(ye=oe*pe,J=pe);let me=ye!==null?ye:Math.max(ne,Math.min(oe*J,X)),it=me/J;it>oe&&(it=oe,me=it*J),me>de&&(me=de,it=de/J),m.width=it,m.height=me}});let eX=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,e5=0;const tX=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:r,props:h})=>{let p=eX;if(document.querySelector("base")){const m=new URL(window.location.href.replace(window.location.hash,"")).href;p=p.replace(/url\(\#/g,"url("+m+"#")}e5++,r.element.classList.add(`filepond--image-preview-overlay-${h.status}`),r.element.innerHTML=p.replace(/__UID__/g,e5)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),iX=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(r=>{self.postMessage({id:e.data.id,message:r},[r])})}},rX=function(){self.onmessage=e=>{const r=e.data.message.imageData,h=e.data.message.colorMatrix,p=r.data,m=p.length,x=h[0],w=h[1],l=h[2],L=h[3],H=h[4],q=h[5],J=h[6],oe=h[7],de=h[8],ye=h[9],ne=h[10],X=h[11],pe=h[12],ve=h[13],me=h[14],it=h[15],Ye=h[16],Q=h[17],Dt=h[18],St=h[19];let At=0,ui=0,Ue=0,Pe=0,De=0;for(;At<m;At+=4)ui=p[At]/255,Ue=p[At+1]/255,Pe=p[At+2]/255,De=p[At+3]/255,p[At]=Math.max(0,Math.min((ui*x+Ue*w+Pe*l+De*L+H)*255,255)),p[At+1]=Math.max(0,Math.min((ui*q+Ue*J+Pe*oe+De*de+ye)*255,255)),p[At+2]=Math.max(0,Math.min((ui*ne+Ue*X+Pe*pe+De*ve+me)*255,255)),p[At+3]=Math.max(0,Math.min((ui*it+Ue*Ye+Pe*Q+De*Dt+St)*255,255));self.postMessage({id:e.data.id,message:r},[r.data.buffer])}},nX=(e,r)=>{let h=new Image;h.onload=()=>{const p=h.naturalWidth,m=h.naturalHeight;h=null,r(p,m)},h.src=e},aX={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,r)=>[-1,0,0,-1,e,r],4:(e,r)=>[1,0,0,-1,0,r],5:()=>[0,1,1,0,0,0],6:(e,r)=>[0,1,-1,0,r,0],7:(e,r)=>[0,-1,-1,0,r,e],8:e=>[0,-1,1,0,0,e]},sX=(e,r,h,p)=>{p!==-1&&e.transform.apply(e,aX[p](r,h))},oX=(e,r,h,p)=>{r=Math.round(r),h=Math.round(h);const m=document.createElement("canvas");m.width=r,m.height=h;const x=m.getContext("2d");return p>=5&&p<=8&&([r,h]=[h,r]),sX(x,r,h,p),x.drawImage(e,0,0,r,h),m},j8=e=>/^image/.test(e.type)&&!/svg/.test(e.type),lX=10,cX=10,hX=e=>{const r=Math.min(lX/e.width,cX/e.height),h=document.createElement("canvas"),p=h.getContext("2d"),m=h.width=Math.ceil(e.width*r),x=h.height=Math.ceil(e.height*r);p.drawImage(e,0,0,m,x);let w=null;try{w=p.getImageData(0,0,m,x).data}catch{return null}const l=w.length;let L=0,H=0,q=0,J=0;for(;J<l;J+=4)L+=w[J]*w[J],H+=w[J+1]*w[J+1],q+=w[J+2]*w[J+2];return L=bv(L,l),H=bv(H,l),q=bv(q,l),{r:L,g:H,b:q}},bv=(e,r)=>Math.floor(Math.sqrt(e/(r/4))),uX=(e,r)=>(r=r||document.createElement("canvas"),r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0),r),dX=e=>{let r;try{r=new ImageData(e.width,e.height)}catch{r=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return r.data.set(new Uint8ClampedArray(e.data)),r},fX=e=>new Promise((r,h)=>{const p=new Image;p.crossOrigin="Anonymous",p.onload=()=>{r(p)},p.onerror=m=>{h(m)},p.src=e}),pX=e=>{const r=tX(e),h=Q$(e),{createWorker:p}=e.utils,m=(ve,me,it)=>new Promise(Ye=>{ve.ref.imageData||(ve.ref.imageData=it.getContext("2d").getImageData(0,0,it.width,it.height));const Q=dX(ve.ref.imageData);if(!me||me.length!==20)return it.getContext("2d").putImageData(Q,0,0),Ye();const Dt=p(rX);Dt.post({imageData:Q,colorMatrix:me},St=>{it.getContext("2d").putImageData(St,0,0),Dt.terminate(),Ye()},[Q.data.buffer])}),x=(ve,me)=>{ve.removeChildView(me),me.image.width=1,me.image.height=1,me._destroy()},w=({root:ve})=>{const me=ve.ref.images.shift();return me.opacity=0,me.translateY=-15,ve.ref.imageViewBin.push(me),me},l=({root:ve,props:me,image:it})=>{const Ye=me.id,Q=ve.query("GET_ITEM",{id:Ye});if(!Q)return;const Dt=Q.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},St=ve.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let At,ui,Ue=!1;ve.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(At=Q.getMetadata("markup")||[],ui=Q.getMetadata("resize"),Ue=!0);const Pe=ve.appendChildView(ve.createChildView(h,{id:Ye,image:it,crop:Dt,resize:ui,markup:At,dirty:Ue,background:St,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),ve.childViews.length);ve.ref.images.push(Pe),Pe.opacity=1,Pe.scaleX=1,Pe.scaleY=1,Pe.translateY=0,setTimeout(()=>{ve.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:Ye})},250)},L=({root:ve,props:me})=>{const it=ve.query("GET_ITEM",{id:me.id});if(!it)return;const Ye=ve.ref.images[ve.ref.images.length-1];Ye.crop=it.getMetadata("crop"),Ye.background=ve.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),ve.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(Ye.dirty=!0,Ye.resize=it.getMetadata("resize"),Ye.markup=it.getMetadata("markup"))},H=({root:ve,props:me,action:it})=>{if(!/crop|filter|markup|resize/.test(it.change.key)||!ve.ref.images.length)return;const Ye=ve.query("GET_ITEM",{id:me.id});if(Ye){if(/filter/.test(it.change.key)){const Q=ve.ref.images[ve.ref.images.length-1];m(ve,it.change.value,Q.image);return}if(/crop|markup|resize/.test(it.change.key)){const Q=Ye.getMetadata("crop"),Dt=ve.ref.images[ve.ref.images.length-1];if(Q&&Q.aspectRatio&&Dt.crop&&Dt.crop.aspectRatio&&Math.abs(Q.aspectRatio-Dt.crop.aspectRatio)>1e-5){const St=w({root:ve});l({root:ve,props:me,image:uX(St.image)})}else L({root:ve,props:me})}}},q=ve=>{const it=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(it?parseInt(it[1]):null)<=58?!1:"createImageBitmap"in window&&j8(ve)},J=({root:ve,props:me})=>{const{id:it}=me,Ye=ve.query("GET_ITEM",it);if(!Ye)return;const Q=URL.createObjectURL(Ye.file);nX(Q,(Dt,St)=>{ve.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:it,width:Dt,height:St})})},oe=({root:ve,props:me})=>{const{id:it}=me,Ye=ve.query("GET_ITEM",it);if(!Ye)return;const Q=URL.createObjectURL(Ye.file),Dt=()=>{fX(Q).then(St)},St=At=>{URL.revokeObjectURL(Q);const Ue=(Ye.getMetadata("exif")||{}).orientation||-1;let{width:Pe,height:De}=At;if(!Pe||!De)return;Ue>=5&&Ue<=8&&([Pe,De]=[De,Pe]);const te=Math.max(1,window.devicePixelRatio*.75),le=ve.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*te,Se=De/Pe,Re=ve.rect.element.width,ot=ve.rect.element.height;let ht=Re,Pt=ht*Se;Se>1?(ht=Math.min(Pe,Re*le),Pt=ht*Se):(Pt=Math.min(De,ot*le),ht=Pt/Se);const Ne=oX(At,ht,Pt,Ue),Ze=()=>{const We=ve.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?hX(data):null;Ye.setMetadata("color",We,!0),"close"in At&&At.close(),ve.ref.overlayShadow.opacity=1,l({root:ve,props:me,image:Ne})},Ie=Ye.getMetadata("filter");Ie?m(ve,Ie,Ne).then(Ze):Ze()};if(q(Ye.file)){const At=p(iX);At.post({file:Ye.file},ui=>{if(At.terminate(),!ui){Dt();return}St(ui)})}else Dt()},de=({root:ve})=>{const me=ve.ref.images[ve.ref.images.length-1];me.translateY=0,me.scaleX=1,me.scaleY=1,me.opacity=1},ye=({root:ve})=>{ve.ref.overlayShadow.opacity=1,ve.ref.overlayError.opacity=0,ve.ref.overlaySuccess.opacity=0},ne=({root:ve})=>{ve.ref.overlayShadow.opacity=.25,ve.ref.overlayError.opacity=1},X=({root:ve})=>{ve.ref.overlayShadow.opacity=.25,ve.ref.overlaySuccess.opacity=1},pe=({root:ve})=>{ve.ref.images=[],ve.ref.imageData=null,ve.ref.imageViewBin=[],ve.ref.overlayShadow=ve.appendChildView(ve.createChildView(r,{opacity:0,status:"idle"})),ve.ref.overlaySuccess=ve.appendChildView(ve.createChildView(r,{opacity:0,status:"success"})),ve.ref.overlayError=ve.appendChildView(ve.createChildView(r,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:pe,styles:["height"],apis:["height"],destroy:({root:ve})=>{ve.ref.images.forEach(me=>{me.image.width=1,me.image.height=1})},didWriteView:({root:ve})=>{ve.ref.images.forEach(me=>{me.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:de,DID_IMAGE_PREVIEW_CONTAINER_CREATE:J,DID_FINISH_CALCULATE_PREVIEWSIZE:oe,DID_UPDATE_ITEM_METADATA:H,DID_THROW_ITEM_LOAD_ERROR:ne,DID_THROW_ITEM_PROCESSING_ERROR:ne,DID_THROW_ITEM_INVALID:ne,DID_COMPLETE_ITEM_PROCESSING:X,DID_START_ITEM_PROCESSING:ye,DID_REVERT_ITEM_PROCESSING:ye},({root:ve})=>{const me=ve.ref.imageViewBin.filter(it=>it.opacity===0);ve.ref.imageViewBin=ve.ref.imageViewBin.filter(it=>it.opacity>0),me.forEach(it=>x(ve,it)),me.length=0})})},V8=e=>{const{addFilter:r,utils:h}=e,{Type:p,createRoute:m,isFile:x}=h,w=pX(e);return r("CREATE_VIEW",l=>{const{is:L,view:H,query:q}=l;if(!L("file")||!q("GET_ALLOW_IMAGE_PREVIEW"))return;const J=({root:X,props:pe})=>{const{id:ve}=pe,me=q("GET_ITEM",ve);if(!me||!x(me.file)||me.archived)return;const it=me.file;if(!_$(it)||!q("GET_IMAGE_PREVIEW_FILTER_ITEM")(me))return;const Ye="createImageBitmap"in(window||{}),Q=q("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!Ye&&Q&&it.size>Q)return;X.ref.imagePreview=H.appendChildView(H.createChildView(w,{id:ve}));const Dt=X.query("GET_IMAGE_PREVIEW_HEIGHT");Dt&&X.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:me.id,height:Dt});const St=!Ye&&it.size>q("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");X.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:ve},St)},oe=(X,pe)=>{if(!X.ref.imagePreview)return;let{id:ve}=pe;const me=X.query("GET_ITEM",{id:ve});if(!me)return;const it=X.query("GET_PANEL_ASPECT_RATIO"),Ye=X.query("GET_ITEM_PANEL_ASPECT_RATIO"),Q=X.query("GET_IMAGE_PREVIEW_HEIGHT");if(it||Ye||Q)return;let{imageWidth:Dt,imageHeight:St}=X.ref;if(!Dt||!St)return;const At=X.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ui=X.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Pe=(me.getMetadata("exif")||{}).orientation||-1;if(Pe>=5&&Pe<=8&&([Dt,St]=[St,Dt]),!j8(me.file)||X.query("GET_IMAGE_PREVIEW_UPSCALE")){const Re=2048/Dt;Dt*=Re,St*=Re}const De=St/Dt,te=(me.getMetadata("crop")||{}).aspectRatio||De;let fe=Math.max(At,Math.min(St,ui));const le=X.rect.element.width,Se=Math.min(le*te,fe);X.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:me.id,height:Se})},de=({root:X})=>{X.ref.shouldRescale=!0},ye=({root:X,action:pe})=>{pe.change.key==="crop"&&(X.ref.shouldRescale=!0)},ne=({root:X,action:pe})=>{X.ref.imageWidth=pe.width,X.ref.imageHeight=pe.height,X.ref.shouldRescale=!0,X.ref.shouldDrawPreview=!0,X.dispatch("KICK")};H.registerWriter(m({DID_RESIZE_ROOT:de,DID_STOP_RESIZE:de,DID_LOAD_ITEM:J,DID_IMAGE_PREVIEW_CALCULATE_SIZE:ne,DID_UPDATE_ITEM_METADATA:ye},({root:X,props:pe})=>{X.ref.imagePreview&&(X.rect.element.hidden||(X.ref.shouldRescale&&(oe(X,pe),X.ref.shouldRescale=!1),X.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{X.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:pe.id})})}),X.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,p.BOOLEAN],imagePreviewFilterItem:[()=>!0,p.FUNCTION],imagePreviewHeight:[null,p.INT],imagePreviewMinHeight:[44,p.INT],imagePreviewMaxHeight:[256,p.INT],imagePreviewMaxFileSize:[null,p.INT],imagePreviewZoomFactor:[2,p.INT],imagePreviewUpscale:[!1,p.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,p.INT],imagePreviewTransparencyIndicator:[null,p.STRING],imagePreviewCalculateAverageImageColor:[!1,p.BOOLEAN],imagePreviewMarkupShow:[!0,p.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,p.FUNCTION]}}},mX=typeof window<"u"&&typeof window.document<"u";mX&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:V8}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const t5=e=>/^image/.test(e.type),U8=({addFilter:e,utils:r})=>{const{Type:h,isFile:p,getNumericAspectRatioFromString:m}=r,x=(H,q)=>!(!t5(H.file)||!q("GET_ALLOW_IMAGE_CROP")),w=H=>typeof H=="object",l=H=>typeof H=="number",L=(H,q)=>H.setMetadata("crop",Object.assign({},H.getMetadata("crop"),q));return e("DID_CREATE_ITEM",(H,{query:q})=>{H.extend("setImageCrop",J=>{if(!(!x(H,q)||!w(center)))return H.setMetadata("crop",J),J}),H.extend("setImageCropCenter",J=>{if(!(!x(H,q)||!w(J)))return L(H,{center:J})}),H.extend("setImageCropZoom",J=>{if(!(!x(H,q)||!l(J)))return L(H,{zoom:Math.max(1,J)})}),H.extend("setImageCropRotation",J=>{if(!(!x(H,q)||!l(J)))return L(H,{rotation:J})}),H.extend("setImageCropFlip",J=>{if(!(!x(H,q)||!w(J)))return L(H,{flip:J})}),H.extend("setImageCropAspectRatio",J=>{if(!x(H,q)||typeof J>"u")return;const oe=H.getMetadata("crop"),de=m(J),ye={center:{x:.5,y:.5},flip:oe?Object.assign({},oe.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:de};return H.setMetadata("crop",ye),ye})}),e("DID_LOAD_ITEM",(H,{query:q})=>new Promise((J,oe)=>{const de=H.file;if(!p(de)||!t5(de)||!q("GET_ALLOW_IMAGE_CROP")||H.getMetadata("crop"))return J(H);const ne=q("GET_IMAGE_CROP_ASPECT_RATIO");H.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:ne?m(ne):null}),J(H)})),{options:{allowImageCrop:[!0,h.BOOLEAN],imageCropAspectRatio:[null,h.STRING]}}},gX=typeof window<"u"&&typeof window.document<"u";gX&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:U8}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const vX=e=>/^image/.test(e.type),yX=(e,r)=>{let h=new Image;h.onload=()=>{const p=h.naturalWidth,m=h.naturalHeight;h=null,r({width:p,height:m})},h.onerror=()=>r(null),h.src=e},G8=({addFilter:e,utils:r})=>{const{Type:h}=r;return e("DID_LOAD_ITEM",(p,{query:m})=>new Promise((x,w)=>{const l=p.file;if(!vX(l)||!m("GET_ALLOW_IMAGE_RESIZE"))return x(p);const L=m("GET_IMAGE_RESIZE_MODE"),H=m("GET_IMAGE_RESIZE_TARGET_WIDTH"),q=m("GET_IMAGE_RESIZE_TARGET_HEIGHT"),J=m("GET_IMAGE_RESIZE_UPSCALE");if(H===null&&q===null)return x(p);const oe=H===null?q:H,de=q===null?oe:q,ye=URL.createObjectURL(l);yX(ye,ne=>{if(URL.revokeObjectURL(ye),!ne)return x(p);let{width:X,height:pe}=ne;const ve=(p.getMetadata("exif")||{}).orientation||-1;if(ve>=5&&ve<=8&&([X,pe]=[pe,X]),X===oe&&pe===de)return x(p);if(!J){if(L==="cover"){if(X<=oe||pe<=de)return x(p)}else if(X<=oe&&pe<=oe)return x(p)}p.setMetadata("resize",{mode:L,upscale:J,size:{width:oe,height:de}}),x(p)})})),{options:{allowImageResize:[!0,h.BOOLEAN],imageResizeMode:["cover",h.STRING],imageResizeUpscale:[!0,h.BOOLEAN],imageResizeTargetWidth:[null,h.INT],imageResizeTargetHeight:[null,h.INT]}}},xX=typeof window<"u"&&typeof window.document<"u";xX&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:G8}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const _X=e=>/^image/.test(e.type),bX=e=>e.substr(0,e.lastIndexOf("."))||e,wX={jpeg:"jpg","svg+xml":"svg"},EX=(e,r)=>{const h=bX(e),p=r.split("/")[1],m=wX[p]||p;return`${h}.${m}`},TX=e=>/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg",SX=e=>/^image/.test(e.type),AX={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,r)=>[-1,0,0,-1,e,r],4:(e,r)=>[1,0,0,-1,0,r],5:()=>[0,1,1,0,0,0],6:(e,r)=>[0,1,-1,0,r,0],7:(e,r)=>[0,-1,-1,0,r,e],8:e=>[0,-1,1,0,0,e]},MX=(e,r,h)=>(h===-1&&(h=1),AX[h](e,r)),tf=(e,r)=>({x:e,y:r}),CX=(e,r)=>e.x*r.x+e.y*r.y,i5=(e,r)=>tf(e.x-r.x,e.y-r.y),IX=(e,r)=>CX(i5(e,r),i5(e,r)),r5=(e,r)=>Math.sqrt(IX(e,r)),n5=(e,r)=>{const h=e,p=1.5707963267948966,m=r,x=1.5707963267948966-r,w=Math.sin(p),l=Math.sin(m),L=Math.sin(x),H=Math.cos(x),q=h/w,J=q*l,oe=q*L;return tf(H*J,H*oe)},kX=(e,r)=>{const h=e.width,p=e.height,m=n5(h,r),x=n5(p,r),w=tf(e.x+Math.abs(m.x),e.y-Math.abs(m.y)),l=tf(e.x+e.width+Math.abs(x.y),e.y+Math.abs(x.x)),L=tf(e.x-Math.abs(x.y),e.y+e.height-Math.abs(x.x));return{width:r5(w,l),height:r5(w,L)}},H8=(e,r,h=0,p={x:.5,y:.5})=>{const m=p.x>.5?1-p.x:p.x,x=p.y>.5?1-p.y:p.y,w=m*2*e.width,l=x*2*e.height,L=kX(r,h);return Math.max(L.width/w,L.height/l)},W8=(e,r)=>{let h=e.width,p=h*r;p>e.height&&(p=e.height,h=p/r);const m=(e.width-h)*.5,x=(e.height-p)*.5;return{x:m,y:x,width:h,height:p}},a5=(e,r,h=1)=>{const p=e.height/e.width;let m=1,x=r,w=1,l=p;l>x&&(l=x,w=l/p);const L=Math.max(m/w,x/l),H=e.width/(h*L*w),q=H*r;return{width:H,height:q}},Y8=e=>{e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},s5=e=>e&&(e.horizontal||e.vertical),DX=(e,r,h)=>{if(r<=1&&!s5(h))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;const p=document.createElement("canvas"),m=e.naturalWidth,x=e.naturalHeight,w=r>=5&&r<=8;w?(p.width=x,p.height=m):(p.width=m,p.height=x);const l=p.getContext("2d");if(r&&l.transform.apply(l,MX(m,x,r)),s5(h)){const L=[1,0,0,1,0,0];(!w&&h.horizontal||w&h.vertical)&&(L[0]=-1,L[4]=m),(!w&&h.vertical||w&&h.horizontal)&&(L[3]=-1,L[5]=x),l.transform(...L)}return l.drawImage(e,0,0,m,x),p},PX=(e,r,h={},p={})=>{const{canvasMemoryLimit:m,background:x=null}=p,w=h.zoom||1,l=DX(e,r,h.flip),L={width:l.width,height:l.height},H=h.aspectRatio||L.height/L.width;let q=a5(L,H,w);if(m){const me=q.width*q.height;if(me>m){const it=Math.sqrt(m)/Math.sqrt(me);L.width=Math.floor(L.width*it),L.height=Math.floor(L.height*it),q=a5(L,H,w)}}const J=document.createElement("canvas"),oe={x:q.width*.5,y:q.height*.5},de={x:0,y:0,width:q.width,height:q.height,center:oe},ye=typeof h.scaleToFit>"u"||h.scaleToFit,ne=w*H8(L,W8(de,H),h.rotation,ye?h.center:{x:.5,y:.5});J.width=Math.round(q.width/ne),J.height=Math.round(q.height/ne),oe.x/=ne,oe.y/=ne;const X={x:oe.x-L.width*(h.center?h.center.x:.5),y:oe.y-L.height*(h.center?h.center.y:.5)},pe=J.getContext("2d");x&&(pe.fillStyle=x,pe.fillRect(0,0,J.width,J.height)),pe.translate(oe.x,oe.y),pe.rotate(h.rotation||0),pe.drawImage(l,X.x-oe.x,X.y-oe.y,L.width,L.height);const ve=pe.getImageData(0,0,J.width,J.height);return Y8(J),ve},OX=(()=>typeof window<"u"&&typeof window.document<"u")();OX&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,r,h){var p=this.toDataURL(r,h).split(",")[1];setTimeout(function(){for(var m=atob(p),x=m.length,w=new Uint8Array(x),l=0;l<x;l++)w[l]=m.charCodeAt(l);e(new Blob([w],{type:r||"image/png"}))})}}));const LX=(e,r,h=null)=>new Promise(p=>{const m=h?h(e):e;Promise.resolve(m).then(x=>{x.toBlob(p,r.type,r.quality)})}),M1=(e,r)=>df(e.x*r,e.y*r),C1=(e,r)=>df(e.x+r.x,e.y+r.y),$8=e=>{const r=Math.sqrt(e.x*e.x+e.y*e.y);return r===0?{x:0,y:0}:df(e.x/r,e.y/r)},Zh=(e,r,h)=>{const p=Math.cos(r),m=Math.sin(r),x=df(e.x-h.x,e.y-h.y);return df(h.x+p*x.x-m*x.y,h.y+m*x.x+p*x.y)},df=(e=0,r=0)=>({x:e,y:r}),$s=(e,r,h=1,p)=>{if(typeof e=="string")return parseFloat(e)*h;if(typeof e=="number")return e*(p?r[p]:Math.min(r.width,r.height))},Uu=(e,r,h)=>{const p=e.borderStyle||e.lineStyle||"solid",m=e.backgroundColor||e.fontColor||"transparent",x=e.borderColor||e.lineColor||"transparent",w=$s(e.borderWidth||e.lineWidth,r,h),l=e.lineCap||"round",L=e.lineJoin||"round",H=typeof p=="string"?"":p.map(J=>$s(J,r,h)).join(","),q=e.opacity||1;return{"stroke-linecap":l,"stroke-linejoin":L,"stroke-width":w||0,"stroke-dasharray":H,stroke:x,fill:m,opacity:q}},Fl=e=>e!=null,Qd=(e,r,h=1)=>{let p=$s(e.x,r,h,"width")||$s(e.left,r,h,"width"),m=$s(e.y,r,h,"height")||$s(e.top,r,h,"height"),x=$s(e.width,r,h,"width"),w=$s(e.height,r,h,"height"),l=$s(e.right,r,h,"width"),L=$s(e.bottom,r,h,"height");return Fl(m)||(Fl(w)&&Fl(L)?m=r.height-w-L:m=L),Fl(p)||(Fl(x)&&Fl(l)?p=r.width-x-l:p=l),Fl(x)||(Fl(p)&&Fl(l)?x=r.width-p-l:x=0),Fl(w)||(Fl(m)&&Fl(L)?w=r.height-m-L:w=0),{x:p||0,y:m||0,width:x||0,height:w||0}},RX=e=>e.map((r,h)=>`${h===0?"M":"L"} ${r.x} ${r.y}`).join(" "),Wc=(e,r)=>Object.keys(r).forEach(h=>e.setAttribute(h,r[h])),zX="http://www.w3.org/2000/svg",kd=(e,r)=>{const h=document.createElementNS(zX,e);return r&&Wc(h,r),h},NX=e=>Wc(e,{...e.rect,...e.styles}),FX=e=>{const r=e.rect.x+e.rect.width*.5,h=e.rect.y+e.rect.height*.5,p=e.rect.width*.5,m=e.rect.height*.5;return Wc(e,{cx:r,cy:h,rx:p,ry:m,...e.styles})},BX={contain:"xMidYMid meet",cover:"xMidYMid slice"},jX=(e,r)=>{Wc(e,{...e.rect,...e.styles,preserveAspectRatio:BX[r.fit]||"none"})},VX={left:"start",center:"middle",right:"end"},UX=(e,r,h,p)=>{const m=$s(r.fontSize,h,p),x=r.fontFamily||"sans-serif",w=r.fontWeight||"normal",l=VX[r.textAlign]||"start";Wc(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":w,"font-size":m,"font-family":x,"text-anchor":l}),e.text!==r.text&&(e.text=r.text,e.textContent=r.text.length?r.text:" ")},GX=(e,r,h,p)=>{Wc(e,{...e.rect,...e.styles,fill:"none"});const m=e.childNodes[0],x=e.childNodes[1],w=e.childNodes[2],l=e.rect,L={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Wc(m,{x1:l.x,y1:l.y,x2:L.x,y2:L.y}),!r.lineDecoration)return;x.style.display="none",w.style.display="none";const H=$8({x:L.x-l.x,y:L.y-l.y}),q=$s(.05,h,p);if(r.lineDecoration.indexOf("arrow-begin")!==-1){const J=M1(H,q),oe=C1(l,J),de=Zh(l,2,oe),ye=Zh(l,-2,oe);Wc(x,{style:"display:block;",d:`M${de.x},${de.y} L${l.x},${l.y} L${ye.x},${ye.y}`})}if(r.lineDecoration.indexOf("arrow-end")!==-1){const J=M1(H,-q),oe=C1(L,J),de=Zh(L,2,oe),ye=Zh(L,-2,oe);Wc(w,{style:"display:block;",d:`M${de.x},${de.y} L${L.x},${L.y} L${ye.x},${ye.y}`})}},HX=(e,r,h,p)=>{Wc(e,{...e.styles,fill:"none",d:RX(r.points.map(m=>({x:$s(m.x,h,p,"width"),y:$s(m.y,h,p,"height")})))})},Fp=e=>r=>kd(e,{id:r.id}),WX=e=>{const r=kd("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return r.onload=()=>{r.setAttribute("opacity",e.opacity||1)},r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),r},YX=e=>{const r=kd("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=kd("line");r.appendChild(h);const p=kd("path");r.appendChild(p);const m=kd("path");return r.appendChild(m),r},$X={image:WX,rect:Fp("rect"),ellipse:Fp("ellipse"),text:Fp("text"),path:Fp("path"),line:YX},XX={rect:NX,ellipse:FX,image:jX,text:UX,path:HX,line:GX},ZX=(e,r)=>$X[e](r),qX=(e,r,h,p,m)=>{r!=="path"&&(e.rect=Qd(h,p,m)),e.styles=Uu(h,p,m),XX[r](e,h,p,m)},X8=(e,r)=>e[1].zIndex>r[1].zIndex?1:e[1].zIndex<r[1].zIndex?-1:0,KX=(e,r={},h,p)=>new Promise(m=>{const{background:x=null}=p,w=new FileReader;w.onloadend=()=>{const l=w.result,L=document.createElement("div");L.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",L.innerHTML=l;const H=L.querySelector("svg");document.body.appendChild(L);const q=H.getBBox();L.parentNode.removeChild(L);const J=L.querySelector("title"),oe=H.getAttribute("viewBox")||"",de=H.getAttribute("width")||"",ye=H.getAttribute("height")||"";let ne=parseFloat(de)||null,X=parseFloat(ye)||null;const pe=(de.match(/[a-z]+/)||[])[0]||"",ve=(ye.match(/[a-z]+/)||[])[0]||"",me=oe.split(" ").map(parseFloat),it=me.length?{x:me[0],y:me[1],width:me[2],height:me[3]}:q;let Ye=ne??it.width,Q=X??it.height;H.style.overflow="visible",H.setAttribute("width",Ye),H.setAttribute("height",Q);let Dt="";if(h&&h.length){const Ie={width:Ye,height:Q};Dt=h.sort(X8).reduce((We,rt)=>{const Ot=ZX(rt[0],rt[1]);return qX(Ot,rt[0],rt[1],Ie),Ot.removeAttribute("id"),Ot.getAttribute("opacity")===1&&Ot.removeAttribute("opacity"),We+`
`+Ot.outerHTML+`
`},""),Dt=`

<g>${Dt.replace(/&nbsp;/g," ")}</g>

`}const St=r.aspectRatio||Q/Ye,At=Ye,ui=At*St,Ue=typeof r.scaleToFit>"u"||r.scaleToFit,Pe=r.center?r.center.x:.5,De=r.center?r.center.y:.5,te=H8({width:Ye,height:Q},W8({width:At,height:ui},St),r.rotation,Ue?{x:Pe,y:De}:{x:.5,y:.5}),fe=r.zoom*te,le=r.rotation*(180/Math.PI),Se={x:At*.5,y:ui*.5},Re={x:Se.x-Ye*Pe,y:Se.y-Q*De},ot=[`rotate(${le} ${Se.x} ${Se.y})`,`translate(${Se.x} ${Se.y})`,`scale(${fe})`,`translate(${-Se.x} ${-Se.y})`,`translate(${Re.x} ${Re.y})`],ht=r.flip&&r.flip.horizontal,Pt=r.flip&&r.flip.vertical,Ne=[`scale(${ht?-1:1} ${Pt?-1:1})`,`translate(${ht?-Ye:0} ${Pt?-Q:0})`],Ze=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${At}${pe}" height="${ui}${ve}" 
viewBox="0 0 ${At} ${ui}" ${x?'style="background:'+x+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${J?J.textContent:""}</title>
<g transform="${ot.join(" ")}">
<g transform="${Ne.join(" ")}">
${H.outerHTML}${Dt}
</g>
</g>
</svg>`;m(Ze)},w.readAsText(e)}),JX=e=>{let r;try{r=new ImageData(e.width,e.height)}catch{r=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return r.data.set(e.data),r},QX=()=>{const e={resize:q,filter:H},r=(J,oe)=>(J.forEach(de=>{oe=e[de.type](oe,de.data)}),oe),h=(J,oe)=>{let de=J.transforms,ye=null;if(de.forEach(ne=>{ne.type==="filter"&&(ye=ne)}),ye){let ne=null;de.forEach(X=>{X.type==="resize"&&(ne=X)}),ne&&(ne.data.matrix=ye.data,de=de.filter(X=>X.type!=="filter"))}oe(r(de,J.imageData))};self.onmessage=J=>{h(J.data.message,oe=>{self.postMessage({id:J.data.id,message:oe},[oe.data.buffer])})};const p=1,m=1,x=1;function w(J,oe,de){const ye=oe[J]/255,ne=oe[J+1]/255,X=oe[J+2]/255,pe=oe[J+3]/255,ve=ye*de[0]+ne*de[1]+X*de[2]+pe*de[3]+de[4],me=ye*de[5]+ne*de[6]+X*de[7]+pe*de[8]+de[9],it=ye*de[10]+ne*de[11]+X*de[12]+pe*de[13]+de[14],Ye=ye*de[15]+ne*de[16]+X*de[17]+pe*de[18]+de[19],Q=Math.max(0,ve*Ye)+p*(1-Ye),Dt=Math.max(0,me*Ye)+m*(1-Ye),St=Math.max(0,it*Ye)+x*(1-Ye);oe[J]=Math.max(0,Math.min(1,Q))*255,oe[J+1]=Math.max(0,Math.min(1,Dt))*255,oe[J+2]=Math.max(0,Math.min(1,St))*255}const l=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function L(J){return self.JSON.stringify(J||[])===l}function H(J,oe){if(!oe||L(oe))return J;const de=J.data,ye=de.length,ne=oe[0],X=oe[1],pe=oe[2],ve=oe[3],me=oe[4],it=oe[5],Ye=oe[6],Q=oe[7],Dt=oe[8],St=oe[9],At=oe[10],ui=oe[11],Ue=oe[12],Pe=oe[13],De=oe[14],te=oe[15],fe=oe[16],le=oe[17],Se=oe[18],Re=oe[19];let ot=0,ht=0,Pt=0,Ne=0,Ze=0,Ie=0,We=0,rt=0,Ot=0,hi=0,gi=0,Li=0;for(;ot<ye;ot+=4)ht=de[ot]/255,Pt=de[ot+1]/255,Ne=de[ot+2]/255,Ze=de[ot+3]/255,Ie=ht*ne+Pt*X+Ne*pe+Ze*ve+me,We=ht*it+Pt*Ye+Ne*Q+Ze*Dt+St,rt=ht*At+Pt*ui+Ne*Ue+Ze*Pe+De,Ot=ht*te+Pt*fe+Ne*le+Ze*Se+Re,hi=Math.max(0,Ie*Ot)+p*(1-Ot),gi=Math.max(0,We*Ot)+m*(1-Ot),Li=Math.max(0,rt*Ot)+x*(1-Ot),de[ot]=Math.max(0,Math.min(1,hi))*255,de[ot+1]=Math.max(0,Math.min(1,gi))*255,de[ot+2]=Math.max(0,Math.min(1,Li))*255;return J}function q(J,oe){let{mode:de="contain",upscale:ye=!1,width:ne,height:X,matrix:pe}=oe;if(pe=!pe||L(pe)?null:pe,!ne&&!X)return H(J,pe);if(ne===null?ne=X:X===null&&(X=ne),de!=="force"){let Pe=ne/J.width,De=X/J.height,te=1;if(de==="cover"?te=Math.max(Pe,De):de==="contain"&&(te=Math.min(Pe,De)),te>1&&ye===!1)return H(J,pe);ne=J.width*te,X=J.height*te}const ve=J.width,me=J.height,it=Math.round(ne),Ye=Math.round(X),Q=J.data,Dt=new Uint8ClampedArray(it*Ye*4),St=ve/it,At=me/Ye,ui=Math.ceil(St*.5),Ue=Math.ceil(At*.5);for(let Pe=0;Pe<Ye;Pe++)for(let De=0;De<it;De++){let te=(De+Pe*it)*4,fe=0,le=0,Se=0,Re=0,ot=0,ht=0,Pt=0,Ne=(Pe+.5)*At;for(let Ze=Math.floor(Pe*At);Ze<(Pe+1)*At;Ze++){let Ie=Math.abs(Ne-(Ze+.5))/Ue,We=(De+.5)*St,rt=Ie*Ie;for(let Ot=Math.floor(De*St);Ot<(De+1)*St;Ot++){let hi=Math.abs(We-(Ot+.5))/ui,gi=Math.sqrt(rt+hi*hi);if(gi>=-1&&gi<=1&&(fe=2*gi*gi*gi-3*gi*gi+1,fe>0)){hi=4*(Ot+Ze*ve);let Li=Q[hi+3];Pt+=fe*Li,Se+=fe,Li<255&&(fe=fe*Li/250),Re+=fe*Q[hi],ot+=fe*Q[hi+1],ht+=fe*Q[hi+2],le+=fe}}}Dt[te]=Re/le,Dt[te+1]=ot/le,Dt[te+2]=ht/le,Dt[te+3]=Pt/Se,pe&&w(te,Dt,pe)}return{data:Dt,width:it,height:Ye}}},eZ=(e,r)=>{if(e.getUint32(r+4,!1)!==1165519206)return;r+=4;const h=e.getUint16(r+=6,!1)===18761;r+=e.getUint32(r+4,h);const p=e.getUint16(r,h);r+=2;for(let m=0;m<p;m++)if(e.getUint16(r+m*12,h)===274)return e.setUint16(r+m*12+8,1,h),!0;return!1},tZ=e=>{const r=new DataView(e);if(r.getUint16(0)!==65496)return null;let h=2,p,m,x=!1;for(;h<r.byteLength&&(p=r.getUint16(h,!1),m=r.getUint16(h+2,!1)+2,!(!(p>=65504&&p<=65519||p===65534)||(x||(x=eZ(r,h)),h+m>r.byteLength)));)h+=m;return e.slice(0,h)},iZ=e=>new Promise(r=>{const h=new FileReader;h.onload=()=>r(tZ(h.result)||null),h.readAsArrayBuffer(e.slice(0,256*1024))}),rZ=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,nZ=(e,r)=>{const h=rZ();if(h){const p=new h;return p.append(e),p.getBlob(r)}return new Blob([e],{type:r})},aZ=()=>Math.random().toString(36).substr(2,9),sZ=e=>{const r=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(r),p=new Worker(h),m=[];return{transfer:()=>{},post:(x,w,l)=>{const L=aZ();m[L]=w,p.onmessage=H=>{const q=m[H.data.id];q&&(q(H.data.message),delete m[H.data.id])},p.postMessage({id:L,message:x},l)},terminate:()=>{p.terminate(),URL.revokeObjectURL(h)}}},oZ=e=>new Promise((r,h)=>{const p=new Image;p.onload=()=>{r(p)},p.onerror=m=>{h(m)},p.src=e}),lZ=e=>e.reduce((r,h)=>r.then(p=>h().then(Array.prototype.concat.bind(p))),Promise.resolve([])),cZ=(e,r)=>new Promise(h=>{const p={width:e.width,height:e.height},m=e.getContext("2d"),x=r.sort(X8).map(w=>()=>new Promise(l=>{gZ[w[0]](m,p,w[1],l)&&l()}));lZ(x).then(()=>h(e))}),e0=(e,r)=>{e.beginPath(),e.lineCap=r["stroke-linecap"],e.lineJoin=r["stroke-linejoin"],e.lineWidth=r["stroke-width"],r["stroke-dasharray"].length&&e.setLineDash(r["stroke-dasharray"].split(",")),e.fillStyle=r.fill,e.strokeStyle=r.stroke,e.globalAlpha=r.opacity||1},t0=e=>{e.fill(),e.stroke(),e.globalAlpha=1},hZ=(e,r,h)=>{const p=Qd(h,r),m=Uu(h,r);return e0(e,m),e.rect(p.x,p.y,p.width,p.height),t0(e),!0},uZ=(e,r,h)=>{const p=Qd(h,r),m=Uu(h,r);e0(e,m);const x=p.x,w=p.y,l=p.width,L=p.height,H=.5522848,q=l/2*H,J=L/2*H,oe=x+l,de=w+L,ye=x+l/2,ne=w+L/2;return e.moveTo(x,ne),e.bezierCurveTo(x,ne-J,ye-q,w,ye,w),e.bezierCurveTo(ye+q,w,oe,ne-J,oe,ne),e.bezierCurveTo(oe,ne+J,ye+q,de,ye,de),e.bezierCurveTo(ye-q,de,x,ne+J,x,ne),t0(e),!0},dZ=(e,r,h,p)=>{const m=Qd(h,r),x=Uu(h,r);e0(e,x);const w=new Image;new URL(h.src,window.location.href).origin!==window.location.origin&&(w.crossOrigin=""),w.onload=()=>{if(h.fit==="cover"){const L=m.width/m.height,H=L>1?w.width:w.height*L,q=L>1?w.width/L:w.height,J=w.width*.5-H*.5,oe=w.height*.5-q*.5;e.drawImage(w,J,oe,H,q,m.x,m.y,m.width,m.height)}else if(h.fit==="contain"){const L=Math.min(m.width/w.width,m.height/w.height),H=L*w.width,q=L*w.height,J=m.x+m.width*.5-H*.5,oe=m.y+m.height*.5-q*.5;e.drawImage(w,0,0,w.width,w.height,J,oe,H,q)}else e.drawImage(w,0,0,w.width,w.height,m.x,m.y,m.width,m.height);t0(e),p()},w.src=h.src},fZ=(e,r,h)=>{const p=Qd(h,r),m=Uu(h,r);e0(e,m);const x=$s(h.fontSize,r),w=h.fontFamily||"sans-serif",l=h.fontWeight||"normal",L=h.textAlign||"left";return e.font=`${l} ${x}px ${w}`,e.textAlign=L,e.fillText(h.text,p.x,p.y),t0(e),!0},pZ=(e,r,h)=>{const p=Uu(h,r);e0(e,p),e.beginPath();const m=h.points.map(w=>({x:$s(w.x,r,1,"width"),y:$s(w.y,r,1,"height")}));e.moveTo(m[0].x,m[0].y);const x=m.length;for(let w=1;w<x;w++)e.lineTo(m[w].x,m[w].y);return t0(e),!0},mZ=(e,r,h)=>{const p=Qd(h,r),m=Uu(h,r);e0(e,m),e.beginPath();const x={x:p.x,y:p.y},w={x:p.x+p.width,y:p.y+p.height};e.moveTo(x.x,x.y),e.lineTo(w.x,w.y);const l=$8({x:w.x-x.x,y:w.y-x.y}),L=.04*Math.min(r.width,r.height);if(h.lineDecoration.indexOf("arrow-begin")!==-1){const H=M1(l,L),q=C1(x,H),J=Zh(x,2,q),oe=Zh(x,-2,q);e.moveTo(J.x,J.y),e.lineTo(x.x,x.y),e.lineTo(oe.x,oe.y)}if(h.lineDecoration.indexOf("arrow-end")!==-1){const H=M1(l,-L),q=C1(w,H),J=Zh(w,2,q),oe=Zh(w,-2,q);e.moveTo(J.x,J.y),e.lineTo(w.x,w.y),e.lineTo(oe.x,oe.y)}return t0(e),!0},gZ={rect:hZ,ellipse:uZ,image:dZ,text:fZ,line:mZ,path:pZ},vZ=e=>{const r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r},yZ=(e,r,h={})=>new Promise((p,m)=>{if(!e||!SX(e))return m({status:"not an image file",file:e});const{stripImageHead:x,beforeCreateBlob:w,afterCreateBlob:l,canvasMemoryLimit:L}=h,{crop:H,size:q,filter:J,markup:oe,output:de}=r,ye=r.image&&r.image.orientation?Math.max(1,Math.min(8,r.image.orientation)):null,ne=de&&de.quality,X=ne===null?null:ne/100,pe=de&&de.type||null,ve=de&&de.background||null,me=[];q&&(typeof q.width=="number"||typeof q.height=="number")&&me.push({type:"resize",data:q}),J&&J.length===20&&me.push({type:"filter",data:J});const it=Dt=>{const St=l?l(Dt):Dt;Promise.resolve(St).then(p)},Ye=(Dt,St)=>{const At=vZ(Dt),ui=oe.length?cZ(At,oe):At;Promise.resolve(ui).then(Ue=>{LX(Ue,St,w).then(Pe=>{if(Y8(Ue),x)return it(Pe);iZ(e).then(De=>{De!==null&&(Pe=new Blob([De,Pe.slice(20)],{type:Pe.type})),it(Pe)})}).catch(m)})};if(/svg/.test(e.type)&&pe===null)return KX(e,H,oe,{background:ve}).then(Dt=>{p(nZ(Dt,"image/svg+xml"))});const Q=URL.createObjectURL(e);oZ(Q).then(Dt=>{URL.revokeObjectURL(Q);const St=PX(Dt,ye,H,{canvasMemoryLimit:L,background:ve}),At={quality:X,type:pe||e.type};if(!me.length)return Ye(St,At);const ui=sZ(QX);ui.post({transforms:me,imageData:St},Ue=>{Ye(JX(Ue),At),ui.terminate()},[St.data.buffer])}).catch(m)}),xZ=["x","y","left","top","right","bottom","width","height"],_Z=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,bZ=e=>{const[r,h]=e,p=h.points?{}:xZ.reduce((m,x)=>(m[x]=_Z(h[x]),m),{});return[r,{zIndex:0,...h,...p}]},wZ=e=>new Promise((r,h)=>{const p=new Image;p.src=URL.createObjectURL(e);const m=()=>{const w=p.naturalWidth,l=p.naturalHeight;w&&l&&(URL.revokeObjectURL(p.src),clearInterval(x),r({width:w,height:l}))};p.onerror=w=>{URL.revokeObjectURL(p.src),clearInterval(x),h(w)};const x=setInterval(m,1);m()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,r,h){const p=this;setTimeout(()=>{const m=p.toDataURL(r,h).split(",")[1],x=atob(m);let w=x.length;const l=new Uint8Array(w);for(;w--;)l[w]=x.charCodeAt(w);e(new Blob([l],{type:r||"image/png"}))})}}));const ax=typeof window<"u"&&typeof window.document<"u",EZ=ax&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Z8=({addFilter:e,utils:r})=>{const{Type:h,forin:p,getFileFromBlob:m,isFile:x}=r,w=["crop","resize","filter","markup","output"],l=q=>(J,oe,de)=>J(oe,q?q(de):de),L=q=>q.aspectRatio===null&&q.rotation===0&&q.zoom===1&&q.center&&q.center.x===.5&&q.center.y===.5&&q.flip&&q.flip.horizontal===!1&&q.flip.vertical===!1;e("SHOULD_PREPARE_OUTPUT",(q,{query:J})=>new Promise(oe=>{oe(!J("IS_ASYNC"))}));const H=(q,J,oe)=>new Promise(de=>{if(!q("GET_ALLOW_IMAGE_TRANSFORM")||oe.archived||!x(J)||!_X(J))return de(!1);wZ(J).then(()=>{const ye=q("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(ye){const ne=ye(J);if(ne==null)return handleRevert(!0);if(typeof ne=="boolean")return de(ne);if(typeof ne.then=="function")return ne.then(de)}de(!0)}).catch(ye=>{de(!1)})});return e("DID_CREATE_ITEM",(q,{query:J,dispatch:oe})=>{J("GET_ALLOW_IMAGE_TRANSFORM")&&q.extend("requestPrepare",()=>new Promise((de,ye)=>{oe("REQUEST_PREPARE_OUTPUT",{query:q.id,item:q,success:de,failure:ye},!0)}))}),e("PREPARE_OUTPUT",(q,{query:J,item:oe})=>new Promise(de=>{H(J,q,oe).then(ye=>{if(!ye)return de(q);const ne=[];J("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&ne.push(()=>new Promise(St=>{St({name:J("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:q})})),J("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&ne.push((St,At,ui)=>new Promise(Ue=>{St(At,ui).then(Pe=>Ue({name:J("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:Pe}))}));const X=J("GET_IMAGE_TRANSFORM_VARIANTS")||{};p(X,(St,At)=>{const ui=l(At);ne.push((Ue,Pe,De)=>new Promise(te=>{ui(Ue,Pe,De).then(fe=>te({name:St,file:fe}))}))});const pe=J("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),ve=J("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),me=pe===null?null:pe/100,it=J("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),Ye=J("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||w;oe.setMetadata("output",{type:it,quality:me,client:Ye},!0);const Q=(St,At)=>new Promise((ui,Ue)=>{const Pe={...At};Object.keys(Pe).filter(Pt=>Pt!=="exif").forEach(Pt=>{Ye.indexOf(Pt)===-1&&delete Pe[Pt]});const{resize:De,exif:te,output:fe,crop:le,filter:Se,markup:Re}=Pe,ot={image:{orientation:te?te.orientation:null},output:fe&&(fe.type||typeof fe.quality=="number"||fe.background)?{type:fe.type,quality:typeof fe.quality=="number"?fe.quality*100:null,background:fe.background||J("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:De&&(De.size.width||De.size.height)?{mode:De.mode,upscale:De.upscale,...De.size}:void 0,crop:le&&!L(le)?{...le}:void 0,markup:Re&&Re.length?Re.map(bZ):[],filter:Se};if(ot.output){const Pt=fe.type?fe.type!==St.type:!1,Ne=/\/jpe?g$/.test(St.type),Ze=fe.quality!==null?Ne&&ve==="always":!1;if(!!!(ot.size||ot.crop||ot.filter||Pt||Ze))return ui(St)}const ht={beforeCreateBlob:J("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:J("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:J("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:J("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};yZ(St,ot,ht).then(Pt=>{const Ne=m(Pt,EX(St.name,TX(Pt.type)));ui(Ne)}).catch(Ue)}),Dt=ne.map(St=>St(Q,q,oe.getMetadata()));Promise.all(Dt).then(St=>{de(St.length===1&&St[0].name===null?St[0].file:St)})})})),{options:{allowImageTransform:[!0,h.BOOLEAN],imageTransformImageFilter:[null,h.FUNCTION],imageTransformOutputMimeType:[null,h.STRING],imageTransformOutputQuality:[null,h.INT],imageTransformOutputStripImageHead:[!0,h.BOOLEAN],imageTransformClientTransforms:[null,h.ARRAY],imageTransformOutputQualityMode:["always",h.STRING],imageTransformVariants:[null,h.OBJECT],imageTransformVariantsIncludeDefault:[!0,h.BOOLEAN],imageTransformVariantsDefaultName:[null,h.STRING],imageTransformVariantsIncludeOriginal:[!1,h.BOOLEAN],imageTransformVariantsOriginalName:["original_",h.STRING],imageTransformBeforeCreateBlob:[null,h.FUNCTION],imageTransformAfterCreateBlob:[null,h.FUNCTION],imageTransformCanvasMemoryLimit:[ax&&EZ?4096*4096:null,h.INT],imageTransformCanvasBackgroundColor:[null,h.STRING]}}};ax&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Z8}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const wv=e=>/^image/.test(e.type),TZ=e=>{const{addFilter:r,utils:h,views:p}=e,{Type:m,createRoute:x,createItemAPI:w=q=>q}=h,{fileActionButton:l}=p;r("SHOULD_REMOVE_ON_REVERT",(q,{item:J,query:oe})=>new Promise(de=>{const{file:ye}=J,ne=oe("GET_ALLOW_IMAGE_EDIT")&&oe("GET_IMAGE_EDIT_ALLOW_EDIT")&&wv(ye);de(!ne)})),r("DID_LOAD_ITEM",(q,{query:J,dispatch:oe})=>new Promise((de,ye)=>{if(q.origin>1){de(q);return}const{file:ne}=q;if(!J("GET_ALLOW_IMAGE_EDIT")||!J("GET_IMAGE_EDIT_INSTANT_EDIT")){de(q);return}if(!wv(ne)){de(q);return}const X=(ve,me,it)=>Ye=>{L.shift(),Ye?me(ve):it(ve),oe("KICK"),pe()},pe=()=>{if(!L.length)return;const{item:ve,resolve:me,reject:it}=L[0];oe("EDIT_ITEM",{id:ve.id,handleEditorResponse:X(ve,me,it)})};H({item:q,resolve:de,reject:ye}),L.length===1&&pe()})),r("DID_CREATE_ITEM",(q,{query:J,dispatch:oe})=>{q.extend("edit",()=>{oe("EDIT_ITEM",{id:q.id})})});const L=[],H=q=>(L.push(q),q);return r("CREATE_VIEW",q=>{const{is:J,view:oe,query:de}=q;if(!de("GET_ALLOW_IMAGE_EDIT"))return;const ye=de("GET_ALLOW_IMAGE_PREVIEW");if(!(J("file-info")&&!ye||J("file")&&ye))return;const X=de("GET_IMAGE_EDIT_EDITOR");if(!X)return;X.filepondCallbackBridge||(X.outputData=!0,X.outputFile=!1,X.filepondCallbackBridge={onconfirm:X.onconfirm||(()=>{}),oncancel:X.oncancel||(()=>{})});const pe=({root:it,props:Ye,action:Q})=>{const{id:Dt}=Ye,{handleEditorResponse:St}=Q;X.cropAspectRatio=it.query("GET_IMAGE_CROP_ASPECT_RATIO")||X.cropAspectRatio,X.outputCanvasBackgroundColor=it.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||X.outputCanvasBackgroundColor;const At=it.query("GET_ITEM",Dt);if(!At)return;const ui=At.file,Ue=At.getMetadata("crop"),Pe={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},De=At.getMetadata("resize"),te=At.getMetadata("filter")||null,fe=At.getMetadata("filters")||null,le=At.getMetadata("colors")||null,Se=At.getMetadata("markup")||null,Re={crop:Ue||Pe,size:De?{upscale:De.upscale,mode:De.mode,width:De.size.width,height:De.size.height}:null,filter:fe?fe.id||fe.matrix:it.query("GET_ALLOW_IMAGE_FILTER")&&it.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!le?te:null,color:le,markup:Se};X.onconfirm=({data:ot})=>{const{crop:ht,size:Pt,filter:Ne,color:Ze,colorMatrix:Ie,markup:We}=ot,rt={};if(ht&&(rt.crop=ht),Pt){const Ot=(At.getMetadata("resize")||{}).size,hi={width:Pt.width,height:Pt.height};!(hi.width&&hi.height)&&Ot&&(hi.width=Ot.width,hi.height=Ot.height),(hi.width||hi.height)&&(rt.resize={upscale:Pt.upscale,mode:Pt.mode,size:hi})}We&&(rt.markup=We),rt.colors=Ze,rt.filters=Ne,rt.filter=Ie,At.setMetadata(rt),X.filepondCallbackBridge.onconfirm(ot,w(At)),St&&(X.onclose=()=>{St(!0),X.onclose=null})},X.oncancel=()=>{X.filepondCallbackBridge.oncancel(w(At)),St&&(X.onclose=()=>{St(!1),X.onclose=null})},X.open(ui,Re)},ve=({root:it,props:Ye})=>{if(!de("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:Q}=Ye,Dt=de("GET_ITEM",Q);if(!Dt)return;const St=Dt.file;if(wv(St))if(it.ref.handleEdit=At=>{At.stopPropagation(),it.dispatch("EDIT_ITEM",{id:Q})},ye){const At=oe.createChildView(l,{label:"edit",icon:de("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});At.element.classList.add("filepond--action-edit-item"),At.element.dataset.align=de("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),At.on("click",it.ref.handleEdit),it.ref.buttonEditItem=oe.appendChildView(At)}else{const At=oe.element.querySelector(".filepond--file-info-main"),ui=document.createElement("button");ui.className="filepond--action-edit-item-alt",ui.innerHTML=de("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",ui.addEventListener("click",it.ref.handleEdit),At.appendChild(ui),it.ref.editButton=ui}};oe.registerDestroyer(({root:it})=>{it.ref.buttonEditItem&&it.ref.buttonEditItem.off("click",it.ref.handleEdit),it.ref.editButton&&it.ref.editButton.removeEventListener("click",it.ref.handleEdit)});const me={EDIT_ITEM:pe,DID_LOAD_ITEM:ve};if(ye){const it=({root:Ye})=>{Ye.ref.buttonEditItem&&(Ye.ref.buttonEditItem.opacity=1)};me.DID_IMAGE_PREVIEW_SHOW=it}oe.registerWriter(x(me))}),{options:{allowImageEdit:[!0,m.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",m.STRING],imageEditInstantEdit:[!1,m.BOOLEAN],imageEditAllowEdit:[!0,m.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',m.STRING],imageEditEditor:[null,m.OBJECT]}}},SZ=typeof window<"u"&&typeof window.document<"u";SZ&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:TZ}));P2(R8,N8,V8,U8,G8,Z8);Jp(document.querySelector('input[type="file"]'),{storeAsFile:!0,labelIdle:'<span class="filepond--label-action">Select a photo</span>',imagePreviewMinHeight:100,imagePreviewMaxHeight:400,imageCropAspectRatio:"3:2",imageResizeTargetWidth:900,imageResizeTargetHeight:600,styleLoadIndicatorPosition:"center left",styleButtonRemoveItemPosition:"center bottom",credits:!1});class AZ{constructor(){this.userEmail=document.querySelector(".userlogin").innerHTML,this.events()}events(){window.addEventListener("load",()=>{this.consoleLog(),this.addEmail()})}addEmail(){progressier.add({email:this.userEmail})}consoleLog(){console.log("logged in")}}var O2={},MZ={get exports(){return O2},set exports(e){O2=e}},I1={},CZ={get exports(){return I1},set exports(e){I1=e}},q8=function(r,h){return function(){for(var m=new Array(arguments.length),x=0;x<m.length;x++)m[x]=arguments[x];return r.apply(h,m)}},IZ=q8,Gu=Object.prototype.toString;function sx(e){return Gu.call(e)==="[object Array]"}function L2(e){return typeof e>"u"}function kZ(e){return e!==null&&!L2(e)&&e.constructor!==null&&!L2(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function DZ(e){return Gu.call(e)==="[object ArrayBuffer]"}function PZ(e){return typeof FormData<"u"&&e instanceof FormData}function OZ(e){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&e.buffer instanceof ArrayBuffer,r}function LZ(e){return typeof e=="string"}function RZ(e){return typeof e=="number"}function K8(e){return e!==null&&typeof e=="object"}function e1(e){if(Gu.call(e)!=="[object Object]")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function zZ(e){return Gu.call(e)==="[object Date]"}function NZ(e){return Gu.call(e)==="[object File]"}function FZ(e){return Gu.call(e)==="[object Blob]"}function J8(e){return Gu.call(e)==="[object Function]"}function BZ(e){return K8(e)&&J8(e.pipe)}function jZ(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function VZ(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function UZ(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ox(e,r){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),sx(e))for(var h=0,p=e.length;h<p;h++)r.call(null,e[h],h,e);else for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&r.call(null,e[m],m,e)}function R2(){var e={};function r(m,x){e1(e[x])&&e1(m)?e[x]=R2(e[x],m):e1(m)?e[x]=R2({},m):sx(m)?e[x]=m.slice():e[x]=m}for(var h=0,p=arguments.length;h<p;h++)ox(arguments[h],r);return e}function GZ(e,r,h){return ox(r,function(m,x){h&&typeof m=="function"?e[x]=IZ(m,h):e[x]=m}),e}function HZ(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var fl={isArray:sx,isArrayBuffer:DZ,isBuffer:kZ,isFormData:PZ,isArrayBufferView:OZ,isString:LZ,isNumber:RZ,isObject:K8,isPlainObject:e1,isUndefined:L2,isDate:zZ,isFile:NZ,isBlob:FZ,isFunction:J8,isStream:BZ,isURLSearchParams:jZ,isStandardBrowserEnv:UZ,forEach:ox,merge:R2,extend:GZ,trim:VZ,stripBOM:HZ},xd=fl;function o5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Q8=function(r,h,p){if(!h)return r;var m;if(p)m=p(h);else if(xd.isURLSearchParams(h))m=h.toString();else{var x=[];xd.forEach(h,function(L,H){L===null||typeof L>"u"||(xd.isArray(L)?H=H+"[]":L=[L],xd.forEach(L,function(J){xd.isDate(J)?J=J.toISOString():xd.isObject(J)&&(J=JSON.stringify(J)),x.push(o5(H)+"="+o5(J))}))}),m=x.join("&")}if(m){var w=r.indexOf("#");w!==-1&&(r=r.slice(0,w)),r+=(r.indexOf("?")===-1?"?":"&")+m}return r},WZ=fl;function um(){this.handlers=[]}um.prototype.use=function(r,h,p){return this.handlers.push({fulfilled:r,rejected:h,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1};um.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};um.prototype.forEach=function(r){WZ.forEach(this.handlers,function(p){p!==null&&r(p)})};var YZ=um,$Z=fl,XZ=function(r,h){$Z.forEach(r,function(m,x){x!==h&&x.toUpperCase()===h.toUpperCase()&&(r[h]=m,delete r[x])})},e7=function(r,h,p,m,x){return r.config=h,p&&(r.code=p),r.request=m,r.response=x,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},r},Ev,l5;function t7(){if(l5)return Ev;l5=1;var e=e7;return Ev=function(h,p,m,x,w){var l=new Error(h);return e(l,p,m,x,w)},Ev}var Tv,c5;function ZZ(){if(c5)return Tv;c5=1;var e=t7();return Tv=function(h,p,m){var x=m.config.validateStatus;!m.status||!x||x(m.status)?h(m):p(e("Request failed with status code "+m.status,m.config,null,m.request,m))},Tv}var Sv,h5;function qZ(){if(h5)return Sv;h5=1;var e=fl;return Sv=e.isStandardBrowserEnv()?function(){return{write:function(p,m,x,w,l,L){var H=[];H.push(p+"="+encodeURIComponent(m)),e.isNumber(x)&&H.push("expires="+new Date(x).toGMTString()),e.isString(w)&&H.push("path="+w),e.isString(l)&&H.push("domain="+l),L===!0&&H.push("secure"),document.cookie=H.join("; ")},read:function(p){var m=document.cookie.match(new RegExp("(^|;\\s*)("+p+")=([^;]*)"));return m?decodeURIComponent(m[3]):null},remove:function(p){this.write(p,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Sv}var Av,u5;function KZ(){return u5||(u5=1,Av=function(r){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r)}),Av}var Mv,d5;function JZ(){return d5||(d5=1,Mv=function(r,h){return h?r.replace(/\/+$/,"")+"/"+h.replace(/^\/+/,""):r}),Mv}var Cv,f5;function QZ(){if(f5)return Cv;f5=1;var e=KZ(),r=JZ();return Cv=function(p,m){return p&&!e(m)?r(p,m):m},Cv}var Iv,p5;function eq(){if(p5)return Iv;p5=1;var e=fl,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Iv=function(p){var m={},x,w,l;return p&&e.forEach(p.split(`
`),function(H){if(l=H.indexOf(":"),x=e.trim(H.substr(0,l)).toLowerCase(),w=e.trim(H.substr(l+1)),x){if(m[x]&&r.indexOf(x)>=0)return;x==="set-cookie"?m[x]=(m[x]?m[x]:[]).concat([w]):m[x]=m[x]?m[x]+", "+w:w}}),m},Iv}var kv,m5;function tq(){if(m5)return kv;m5=1;var e=fl;return kv=e.isStandardBrowserEnv()?function(){var h=/(msie|trident)/i.test(navigator.userAgent),p=document.createElement("a"),m;function x(w){var l=w;return h&&(p.setAttribute("href",l),l=p.href),p.setAttribute("href",l),{href:p.href,protocol:p.protocol?p.protocol.replace(/:$/,""):"",host:p.host,search:p.search?p.search.replace(/^\?/,""):"",hash:p.hash?p.hash.replace(/^#/,""):"",hostname:p.hostname,port:p.port,pathname:p.pathname.charAt(0)==="/"?p.pathname:"/"+p.pathname}}return m=x(window.location.href),function(l){var L=e.isString(l)?x(l):l;return L.protocol===m.protocol&&L.host===m.host}}():function(){return function(){return!0}}(),kv}var Dv,g5;function v5(){if(g5)return Dv;g5=1;var e=fl,r=ZZ(),h=qZ(),p=Q8,m=QZ(),x=eq(),w=tq(),l=t7();return Dv=function(H){return new Promise(function(J,oe){var de=H.data,ye=H.headers,ne=H.responseType;e.isFormData(de)&&delete ye["Content-Type"];var X=new XMLHttpRequest;if(H.auth){var pe=H.auth.username||"",ve=H.auth.password?unescape(encodeURIComponent(H.auth.password)):"";ye.Authorization="Basic "+btoa(pe+":"+ve)}var me=m(H.baseURL,H.url);X.open(H.method.toUpperCase(),p(me,H.params,H.paramsSerializer),!0),X.timeout=H.timeout;function it(){if(X){var Q="getAllResponseHeaders"in X?x(X.getAllResponseHeaders()):null,Dt=!ne||ne==="text"||ne==="json"?X.responseText:X.response,St={data:Dt,status:X.status,statusText:X.statusText,headers:Q,config:H,request:X};r(J,oe,St),X=null}}if("onloadend"in X?X.onloadend=it:X.onreadystatechange=function(){!X||X.readyState!==4||X.status===0&&!(X.responseURL&&X.responseURL.indexOf("file:")===0)||setTimeout(it)},X.onabort=function(){X&&(oe(l("Request aborted",H,"ECONNABORTED",X)),X=null)},X.onerror=function(){oe(l("Network Error",H,null,X)),X=null},X.ontimeout=function(){var Dt="timeout of "+H.timeout+"ms exceeded";H.timeoutErrorMessage&&(Dt=H.timeoutErrorMessage),oe(l(Dt,H,H.transitional&&H.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",X)),X=null},e.isStandardBrowserEnv()){var Ye=(H.withCredentials||w(me))&&H.xsrfCookieName?h.read(H.xsrfCookieName):void 0;Ye&&(ye[H.xsrfHeaderName]=Ye)}"setRequestHeader"in X&&e.forEach(ye,function(Dt,St){typeof de>"u"&&St.toLowerCase()==="content-type"?delete ye[St]:X.setRequestHeader(St,Dt)}),e.isUndefined(H.withCredentials)||(X.withCredentials=!!H.withCredentials),ne&&ne!=="json"&&(X.responseType=H.responseType),typeof H.onDownloadProgress=="function"&&X.addEventListener("progress",H.onDownloadProgress),typeof H.onUploadProgress=="function"&&X.upload&&X.upload.addEventListener("progress",H.onUploadProgress),H.cancelToken&&H.cancelToken.promise.then(function(Dt){X&&(X.abort(),oe(Dt),X=null)}),de||(de=null),X.send(de)})},Dv}var Ys=fl,y5=XZ,iq=e7,rq={"Content-Type":"application/x-www-form-urlencoded"};function x5(e,r){!Ys.isUndefined(e)&&Ys.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function nq(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=v5()),e}function aq(e,r,h){if(Ys.isString(e))try{return(r||JSON.parse)(e),Ys.trim(e)}catch(p){if(p.name!=="SyntaxError")throw p}return(h||JSON.stringify)(e)}var dm={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:nq(),transformRequest:[function(r,h){return y5(h,"Accept"),y5(h,"Content-Type"),Ys.isFormData(r)||Ys.isArrayBuffer(r)||Ys.isBuffer(r)||Ys.isStream(r)||Ys.isFile(r)||Ys.isBlob(r)?r:Ys.isArrayBufferView(r)?r.buffer:Ys.isURLSearchParams(r)?(x5(h,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):Ys.isObject(r)||h&&h["Content-Type"]==="application/json"?(x5(h,"application/json"),aq(r)):r}],transformResponse:[function(r){var h=this.transitional,p=h&&h.silentJSONParsing,m=h&&h.forcedJSONParsing,x=!p&&this.responseType==="json";if(x||m&&Ys.isString(r)&&r.length)try{return JSON.parse(r)}catch(w){if(x)throw w.name==="SyntaxError"?iq(w,this,"E_JSON_PARSE"):w}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300}};dm.headers={common:{Accept:"application/json, text/plain, */*"}};Ys.forEach(["delete","get","head"],function(r){dm.headers[r]={}});Ys.forEach(["post","put","patch"],function(r){dm.headers[r]=Ys.merge(rq)});var lx=dm,sq=fl,oq=lx,lq=function(r,h,p){var m=this||oq;return sq.forEach(p,function(w){r=w.call(m,r,h)}),r},Pv,_5;function i7(){return _5||(_5=1,Pv=function(r){return!!(r&&r.__CANCEL__)}),Pv}var b5=fl,Ov=lq,cq=i7(),hq=lx;function Lv(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var uq=function(r){Lv(r),r.headers=r.headers||{},r.data=Ov.call(r,r.data,r.headers,r.transformRequest),r.headers=b5.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),b5.forEach(["delete","get","head","post","put","patch","common"],function(m){delete r.headers[m]});var h=r.adapter||hq.adapter;return h(r).then(function(m){return Lv(r),m.data=Ov.call(r,m.data,m.headers,r.transformResponse),m},function(m){return cq(m)||(Lv(r),m&&m.response&&(m.response.data=Ov.call(r,m.response.data,m.response.headers,r.transformResponse))),Promise.reject(m)})},lo=fl,r7=function(r,h){h=h||{};var p={},m=["url","method","data"],x=["headers","auth","proxy","params"],w=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function L(oe,de){return lo.isPlainObject(oe)&&lo.isPlainObject(de)?lo.merge(oe,de):lo.isPlainObject(de)?lo.merge({},de):lo.isArray(de)?de.slice():de}function H(oe){lo.isUndefined(h[oe])?lo.isUndefined(r[oe])||(p[oe]=L(void 0,r[oe])):p[oe]=L(r[oe],h[oe])}lo.forEach(m,function(de){lo.isUndefined(h[de])||(p[de]=L(void 0,h[de]))}),lo.forEach(x,H),lo.forEach(w,function(de){lo.isUndefined(h[de])?lo.isUndefined(r[de])||(p[de]=L(void 0,r[de])):p[de]=L(void 0,h[de])}),lo.forEach(l,function(de){de in h?p[de]=L(r[de],h[de]):de in r&&(p[de]=L(void 0,r[de]))});var q=m.concat(x).concat(w).concat(l),J=Object.keys(r).concat(Object.keys(h)).filter(function(de){return q.indexOf(de)===-1});return lo.forEach(J,H),p};const dq="axios",fq="0.21.4",pq="Promise based HTTP client for the browser and node.js",mq="index.js",gq={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},vq={type:"git",url:"https://github.com/axios/axios.git"},yq=["xhr","http","ajax","promise","node"],xq="Matt Zabriskie",_q="MIT",bq={url:"https://github.com/axios/axios/issues"},wq="https://axios-http.com",Eq={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},Tq={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},Sq="dist/axios.min.js",Aq="dist/axios.min.js",Mq="./index.d.ts",Cq={"follow-redirects":"^1.14.0"},Iq=[{path:"./dist/axios.min.js",threshold:"5kB"}],kq={name:dq,version:fq,description:pq,main:mq,scripts:gq,repository:vq,keywords:yq,author:xq,license:_q,bugs:bq,homepage:wq,devDependencies:Eq,browser:Tq,jsdelivr:Sq,unpkg:Aq,typings:Mq,dependencies:Cq,bundlesize:Iq};var n7=kq,cx={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){cx[e]=function(p){return typeof p===e||"a"+(r<1?"n ":" ")+e}});var w5={},Dq=n7.version.split(".");function a7(e,r){for(var h=r?r.split("."):Dq,p=e.split("."),m=0;m<3;m++){if(h[m]>p[m])return!0;if(h[m]<p[m])return!1}return!1}cx.transitional=function(r,h,p){var m=h&&a7(h);function x(w,l){return"[Axios v"+n7.version+"] Transitional option '"+w+"'"+l+(p?". "+p:"")}return function(w,l,L){if(r===!1)throw new Error(x(l," has been removed in "+h));return m&&!w5[l]&&(w5[l]=!0,console.warn(x(l," has been deprecated since v"+h+" and will be removed in the near future"))),r?r(w,l,L):!0}};function Pq(e,r,h){if(typeof e!="object")throw new TypeError("options must be an object");for(var p=Object.keys(e),m=p.length;m-- >0;){var x=p[m],w=r[x];if(w){var l=e[x],L=l===void 0||w(l,x,e);if(L!==!0)throw new TypeError("option "+x+" must be "+L);continue}if(h!==!0)throw Error("Unknown option "+x)}}var Oq={isOlderVersion:a7,assertOptions:Pq,validators:cx},s7=fl,Lq=Q8,E5=YZ,T5=uq,fm=r7,o7=Oq,_d=o7.validators;function Cf(e){this.defaults=e,this.interceptors={request:new E5,response:new E5}}Cf.prototype.request=function(r){typeof r=="string"?(r=arguments[1]||{},r.url=arguments[0]):r=r||{},r=fm(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var h=r.transitional;h!==void 0&&o7.assertOptions(h,{silentJSONParsing:_d.transitional(_d.boolean,"1.0.0"),forcedJSONParsing:_d.transitional(_d.boolean,"1.0.0"),clarifyTimeoutError:_d.transitional(_d.boolean,"1.0.0")},!1);var p=[],m=!0;this.interceptors.request.forEach(function(oe){typeof oe.runWhen=="function"&&oe.runWhen(r)===!1||(m=m&&oe.synchronous,p.unshift(oe.fulfilled,oe.rejected))});var x=[];this.interceptors.response.forEach(function(oe){x.push(oe.fulfilled,oe.rejected)});var w;if(!m){var l=[T5,void 0];for(Array.prototype.unshift.apply(l,p),l=l.concat(x),w=Promise.resolve(r);l.length;)w=w.then(l.shift(),l.shift());return w}for(var L=r;p.length;){var H=p.shift(),q=p.shift();try{L=H(L)}catch(J){q(J);break}}try{w=T5(L)}catch(J){return Promise.reject(J)}for(;x.length;)w=w.then(x.shift(),x.shift());return w};Cf.prototype.getUri=function(r){return r=fm(this.defaults,r),Lq(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};s7.forEach(["delete","get","head","options"],function(r){Cf.prototype[r]=function(h,p){return this.request(fm(p||{},{method:r,url:h,data:(p||{}).data}))}});s7.forEach(["post","put","patch"],function(r){Cf.prototype[r]=function(h,p,m){return this.request(fm(m||{},{method:r,url:h,data:p}))}});var Rq=Cf,Rv,S5;function l7(){if(S5)return Rv;S5=1;function e(r){this.message=r}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Rv=e,Rv}var zv,A5;function zq(){if(A5)return zv;A5=1;var e=l7();function r(h){if(typeof h!="function")throw new TypeError("executor must be a function.");var p;this.promise=new Promise(function(w){p=w});var m=this;h(function(w){m.reason||(m.reason=new e(w),p(m.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var p,m=new r(function(w){p=w});return{token:m,cancel:p}},zv=r,zv}var Nv,M5;function Nq(){return M5||(M5=1,Nv=function(r){return function(p){return r.apply(null,p)}}),Nv}var Fv,C5;function Fq(){return C5||(C5=1,Fv=function(r){return typeof r=="object"&&r.isAxiosError===!0}),Fv}var I5=fl,Bq=q8,t1=Rq,jq=r7,Vq=lx;function c7(e){var r=new t1(e),h=Bq(t1.prototype.request,r);return I5.extend(h,t1.prototype,r),I5.extend(h,r),h}var yc=c7(Vq);yc.Axios=t1;yc.create=function(r){return c7(jq(yc.defaults,r))};yc.Cancel=l7();yc.CancelToken=zq();yc.isCancel=i7();yc.all=function(r){return Promise.all(r)};yc.spread=Nq();yc.isAxiosError=Fq();CZ.exports=yc;I1.default=yc;(function(e){e.exports=I1})(MZ);const xc=j2(O2);/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */function Wh(e){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wh(e)}function z2(e,r){return z2=Object.setPrototypeOf||function(p,m){return p.__proto__=m,p},z2(e,r)}function Uq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i1(e,r,h){return Uq()?i1=Reflect.construct:i1=function(m,x,w){var l=[null];l.push.apply(l,x);var L=Function.bind.apply(m,l),H=new L;return w&&z2(H,w.prototype),H},i1.apply(null,arguments)}function hc(e){return Gq(e)||Hq(e)||Wq(e)||Yq()}function Gq(e){if(Array.isArray(e))return N2(e)}function Hq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wq(e,r){if(e){if(typeof e=="string")return N2(e,r);var h=Object.prototype.toString.call(e).slice(8,-1);if(h==="Object"&&e.constructor&&(h=e.constructor.name),h==="Map"||h==="Set")return Array.from(e);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return N2(e,r)}}function N2(e,r){(r==null||r>e.length)&&(r=e.length);for(var h=0,p=new Array(r);h<r;h++)p[h]=e[h];return p}function Yq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $q=Object.hasOwnProperty,k5=Object.setPrototypeOf,Xq=Object.isFrozen,Zq=Object.getPrototypeOf,qq=Object.getOwnPropertyDescriptor,ko=Object.freeze,_c=Object.seal,Kq=Object.create,h7=typeof Reflect<"u"&&Reflect,k1=h7.apply,F2=h7.construct;k1||(k1=function(r,h,p){return r.apply(h,p)});ko||(ko=function(r){return r});_c||(_c=function(r){return r});F2||(F2=function(r,h){return i1(r,hc(h))});var Jq=Gl(Array.prototype.forEach),D5=Gl(Array.prototype.pop),X0=Gl(Array.prototype.push),r1=Gl(String.prototype.toLowerCase),Bv=Gl(String.prototype.toString),Qq=Gl(String.prototype.match),cc=Gl(String.prototype.replace),eK=Gl(String.prototype.indexOf),tK=Gl(String.prototype.trim),Co=Gl(RegExp.prototype.test),jv=iK(TypeError);function Gl(e){return function(r){for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];return k1(e,r,p)}}function iK(e){return function(){for(var r=arguments.length,h=new Array(r),p=0;p<r;p++)h[p]=arguments[p];return F2(e,h)}}function Yr(e,r,h){h=h||r1,k5&&k5(e,null);for(var p=r.length;p--;){var m=r[p];if(typeof m=="string"){var x=h(m);x!==m&&(Xq(r)||(r[p]=x),m=x)}e[m]=!0}return e}function bu(e){var r=Kq(null),h;for(h in e)k1($q,e,[h])===!0&&(r[h]=e[h]);return r}function Bp(e,r){for(;e!==null;){var h=qq(e,r);if(h){if(h.get)return Gl(h.get);if(typeof h.value=="function")return Gl(h.value)}e=Zq(e)}function p(m){return console.warn("fallback value for",m),null}return p}var P5=ko(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Vv=ko(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Uv=ko(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rK=ko(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gv=ko(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nK=ko(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O5=ko(["#text"]),L5=ko(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Hv=ko(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R5=ko(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jp=ko(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aK=_c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sK=_c(/<%[\w\W]*|[\w\W]*%>/gm),oK=_c(/\${[\w\W]*}/gm),lK=_c(/^data-[\-\w.\u00B7-\uFFFF]/),cK=_c(/^aria-[\-\w]+$/),hK=_c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uK=_c(/^(?:\w+script|data):/i),dK=_c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fK=_c(/^html$/i),pK=function(){return typeof window>"u"?null:window},mK=function(r,h){if(Wh(r)!=="object"||typeof r.createPolicy!="function")return null;var p=null,m="data-tt-policy-suffix";h.currentScript&&h.currentScript.hasAttribute(m)&&(p=h.currentScript.getAttribute(m));var x="dompurify"+(p?"#"+p:"");try{return r.createPolicy(x,{createHTML:function(l){return l},createScriptURL:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+x+" could not be created."),null}};function u7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pK(),r=function(P){return u7(P)};if(r.version="2.4.3",r.removed=[],!e||!e.document||e.document.nodeType!==9)return r.isSupported=!1,r;var h=e.document,p=e.document,m=e.DocumentFragment,x=e.HTMLTemplateElement,w=e.Node,l=e.Element,L=e.NodeFilter,H=e.NamedNodeMap,q=H===void 0?e.NamedNodeMap||e.MozNamedAttrMap:H,J=e.HTMLFormElement,oe=e.DOMParser,de=e.trustedTypes,ye=l.prototype,ne=Bp(ye,"cloneNode"),X=Bp(ye,"nextSibling"),pe=Bp(ye,"childNodes"),ve=Bp(ye,"parentNode");if(typeof x=="function"){var me=p.createElement("template");me.content&&me.content.ownerDocument&&(p=me.content.ownerDocument)}var it=mK(de,h),Ye=it?it.createHTML(""):"",Q=p,Dt=Q.implementation,St=Q.createNodeIterator,At=Q.createDocumentFragment,ui=Q.getElementsByTagName,Ue=h.importNode,Pe={};try{Pe=bu(p).documentMode?p.documentMode:{}}catch{}var De={};r.isSupported=typeof ve=="function"&&Dt&&typeof Dt.createHTMLDocument<"u"&&Pe!==9;var te=aK,fe=sK,le=oK,Se=lK,Re=cK,ot=uK,ht=dK,Pt=hK,Ne=null,Ze=Yr({},[].concat(hc(P5),hc(Vv),hc(Uv),hc(Gv),hc(O5))),Ie=null,We=Yr({},[].concat(hc(L5),hc(Hv),hc(R5),hc(jp))),rt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ot=null,hi=null,gi=!0,Li=!0,ur=!1,Vt=!1,wi=!1,Mi=!1,Ji=!1,Ei=!1,Xi=!1,Fi=!1,Lr=!0,Vr=!1,si="user-content-",tr=!0,yr=!1,ar={},Ir=null,Ar=Yr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),En=null,kn=Yr({},["audio","video","img","source","image","track"]),oa=null,Ge=Yr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ma="http://www.w3.org/1998/Math/MathML",ra="http://www.w3.org/2000/svg",mn="http://www.w3.org/1999/xhtml",na=mn,Ua=!1,jn=null,gn=Yr({},[ma,ra,mn],Bv),qr,Pa=["application/xhtml+xml","text/html"],Oa="text/html",Ur,Vn=null,cs=p.createElement("form"),ga=function(P){return P instanceof RegExp||P instanceof Function},Xn=function(P){Vn&&Vn===P||((!P||Wh(P)!=="object")&&(P={}),P=bu(P),qr=Pa.indexOf(P.PARSER_MEDIA_TYPE)===-1?qr=Oa:qr=P.PARSER_MEDIA_TYPE,Ur=qr==="application/xhtml+xml"?Bv:r1,Ne="ALLOWED_TAGS"in P?Yr({},P.ALLOWED_TAGS,Ur):Ze,Ie="ALLOWED_ATTR"in P?Yr({},P.ALLOWED_ATTR,Ur):We,jn="ALLOWED_NAMESPACES"in P?Yr({},P.ALLOWED_NAMESPACES,Bv):gn,oa="ADD_URI_SAFE_ATTR"in P?Yr(bu(Ge),P.ADD_URI_SAFE_ATTR,Ur):Ge,En="ADD_DATA_URI_TAGS"in P?Yr(bu(kn),P.ADD_DATA_URI_TAGS,Ur):kn,Ir="FORBID_CONTENTS"in P?Yr({},P.FORBID_CONTENTS,Ur):Ar,Ot="FORBID_TAGS"in P?Yr({},P.FORBID_TAGS,Ur):{},hi="FORBID_ATTR"in P?Yr({},P.FORBID_ATTR,Ur):{},ar="USE_PROFILES"in P?P.USE_PROFILES:!1,gi=P.ALLOW_ARIA_ATTR!==!1,Li=P.ALLOW_DATA_ATTR!==!1,ur=P.ALLOW_UNKNOWN_PROTOCOLS||!1,Vt=P.SAFE_FOR_TEMPLATES||!1,wi=P.WHOLE_DOCUMENT||!1,Ei=P.RETURN_DOM||!1,Xi=P.RETURN_DOM_FRAGMENT||!1,Fi=P.RETURN_TRUSTED_TYPE||!1,Ji=P.FORCE_BODY||!1,Lr=P.SANITIZE_DOM!==!1,Vr=P.SANITIZE_NAMED_PROPS||!1,tr=P.KEEP_CONTENT!==!1,yr=P.IN_PLACE||!1,Pt=P.ALLOWED_URI_REGEXP||Pt,na=P.NAMESPACE||mn,P.CUSTOM_ELEMENT_HANDLING&&ga(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rt.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&ga(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rt.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rt.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vt&&(Li=!1),Xi&&(Ei=!0),ar&&(Ne=Yr({},hc(O5)),Ie=[],ar.html===!0&&(Yr(Ne,P5),Yr(Ie,L5)),ar.svg===!0&&(Yr(Ne,Vv),Yr(Ie,Hv),Yr(Ie,jp)),ar.svgFilters===!0&&(Yr(Ne,Uv),Yr(Ie,Hv),Yr(Ie,jp)),ar.mathMl===!0&&(Yr(Ne,Gv),Yr(Ie,R5),Yr(Ie,jp))),P.ADD_TAGS&&(Ne===Ze&&(Ne=bu(Ne)),Yr(Ne,P.ADD_TAGS,Ur)),P.ADD_ATTR&&(Ie===We&&(Ie=bu(Ie)),Yr(Ie,P.ADD_ATTR,Ur)),P.ADD_URI_SAFE_ATTR&&Yr(oa,P.ADD_URI_SAFE_ATTR,Ur),P.FORBID_CONTENTS&&(Ir===Ar&&(Ir=bu(Ir)),Yr(Ir,P.FORBID_CONTENTS,Ur)),tr&&(Ne["#text"]=!0),wi&&Yr(Ne,["html","head","body"]),Ne.table&&(Yr(Ne,["tbody"]),delete Ot.tbody),ko&&ko(P),Vn=P)},Ga=Yr({},["mi","mo","mn","ms","mtext"]),tn=Yr({},["foreignobject","desc","title","annotation-xml"]),Br=Yr({},["title","style","font","a","script"]),Zn=Yr({},Vv);Yr(Zn,Uv),Yr(Zn,rK);var ut=Yr({},Gv);Yr(ut,nK);var Ce=function(P){var N=ve(P);(!N||!N.tagName)&&(N={namespaceURI:na,tagName:"template"});var W=r1(P.tagName),K=r1(N.tagName);return jn[P.namespaceURI]?P.namespaceURI===ra?N.namespaceURI===mn?W==="svg":N.namespaceURI===ma?W==="svg"&&(K==="annotation-xml"||Ga[K]):Boolean(Zn[W]):P.namespaceURI===ma?N.namespaceURI===mn?W==="math":N.namespaceURI===ra?W==="math"&&tn[K]:Boolean(ut[W]):P.namespaceURI===mn?N.namespaceURI===ra&&!tn[K]||N.namespaceURI===ma&&!Ga[K]?!1:!ut[W]&&(Br[W]||!Zn[W]):!!(qr==="application/xhtml+xml"&&jn[P.namespaceURI]):!1},je=function(P){X0(r.removed,{element:P});try{P.parentNode.removeChild(P)}catch{try{P.outerHTML=Ye}catch{P.remove()}}},ct=function(P,N){try{X0(r.removed,{attribute:N.getAttributeNode(P),from:N})}catch{X0(r.removed,{attribute:null,from:N})}if(N.removeAttribute(P),P==="is"&&!Ie[P])if(Ei||Xi)try{je(N)}catch{}else try{N.setAttribute(P,"")}catch{}},mt=function(P){var N,W;if(Ji)P="<remove></remove>"+P;else{var K=Qq(P,/^[\r\n\t ]+/);W=K&&K[0]}qr==="application/xhtml+xml"&&na===mn&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");var ee=it?it.createHTML(P):P;if(na===mn)try{N=new oe().parseFromString(ee,qr)}catch{}if(!N||!N.documentElement){N=Dt.createDocument(na,"template",null);try{N.documentElement.innerHTML=Ua?Ye:ee}catch{}}var ue=N.body||N.documentElement;return P&&W&&ue.insertBefore(p.createTextNode(W),ue.childNodes[0]||null),na===mn?ui.call(N,wi?"html":"body")[0]:wi?N.documentElement:ue},It=function(P){return St.call(P.ownerDocument||P,P,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},Bt=function(P){return P instanceof J&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof q)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},_e=function(P){return Wh(w)==="object"?P instanceof w:P&&Wh(P)==="object"&&typeof P.nodeType=="number"&&typeof P.nodeName=="string"},n=function(P,N,W){De[P]&&Jq(De[P],function(K){K.call(r,N,W,Vn)})},o=function(P){var N;if(n("beforeSanitizeElements",P,null),Bt(P)||Co(/[\u0080-\uFFFF]/,P.nodeName))return je(P),!0;var W=Ur(P.nodeName);if(n("uponSanitizeElement",P,{tagName:W,allowedTags:Ne}),P.hasChildNodes()&&!_e(P.firstElementChild)&&(!_e(P.content)||!_e(P.content.firstElementChild))&&Co(/<[/\w]/g,P.innerHTML)&&Co(/<[/\w]/g,P.textContent)||W==="select"&&Co(/<template/i,P.innerHTML))return je(P),!0;if(!Ne[W]||Ot[W]){if(!Ot[W]&&b(W)&&(rt.tagNameCheck instanceof RegExp&&Co(rt.tagNameCheck,W)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(W)))return!1;if(tr&&!Ir[W]){var K=ve(P)||P.parentNode,ee=pe(P)||P.childNodes;if(ee&&K)for(var ue=ee.length,we=ue-1;we>=0;--we)K.insertBefore(ne(ee[we],!0),X(P))}return je(P),!0}return P instanceof l&&!Ce(P)||(W==="noscript"||W==="noembed")&&Co(/<\/no(script|embed)/i,P.innerHTML)?(je(P),!0):(Vt&&P.nodeType===3&&(N=P.textContent,N=cc(N,te," "),N=cc(N,fe," "),N=cc(N,le," "),P.textContent!==N&&(X0(r.removed,{element:P.cloneNode()}),P.textContent=N)),n("afterSanitizeElements",P,null),!1)},g=function(P,N,W){if(Lr&&(N==="id"||N==="name")&&(W in p||W in cs))return!1;if(!(Li&&!hi[N]&&Co(Se,N))){if(!(gi&&Co(Re,N))){if(!Ie[N]||hi[N]){if(!(b(P)&&(rt.tagNameCheck instanceof RegExp&&Co(rt.tagNameCheck,P)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(P))&&(rt.attributeNameCheck instanceof RegExp&&Co(rt.attributeNameCheck,N)||rt.attributeNameCheck instanceof Function&&rt.attributeNameCheck(N))||N==="is"&&rt.allowCustomizedBuiltInElements&&(rt.tagNameCheck instanceof RegExp&&Co(rt.tagNameCheck,W)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(W))))return!1}else if(!oa[N]){if(!Co(Pt,cc(W,ht,""))){if(!((N==="src"||N==="xlink:href"||N==="href")&&P!=="script"&&eK(W,"data:")===0&&En[P])){if(!(ur&&!Co(ot,cc(W,ht,"")))){if(W)return!1}}}}}}return!0},b=function(P){return P.indexOf("-")>0},E=function(P){var N,W,K,ee;n("beforeSanitizeAttributes",P,null);var ue=P.attributes;if(ue){var we={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ie};for(ee=ue.length;ee--;){N=ue[ee];var Me=N,Oe=Me.name,He=Me.namespaceURI;if(W=Oe==="value"?N.value:tK(N.value),K=Ur(Oe),we.attrName=K,we.attrValue=W,we.keepAttr=!0,we.forceKeepAttr=void 0,n("uponSanitizeAttribute",P,we),W=we.attrValue,!we.forceKeepAttr&&(ct(Oe,P),!!we.keepAttr)){if(Co(/\/>/i,W)){ct(Oe,P);continue}Vt&&(W=cc(W,te," "),W=cc(W,fe," "),W=cc(W,le," "));var Le=Ur(P.nodeName);if(g(Le,K,W)){if(Vr&&(K==="id"||K==="name")&&(ct(Oe,P),W=si+W),it&&Wh(de)==="object"&&typeof de.getAttributeType=="function"&&!He)switch(de.getAttributeType(Le,K)){case"TrustedHTML":W=it.createHTML(W);break;case"TrustedScriptURL":W=it.createScriptURL(W);break}try{He?P.setAttributeNS(He,Oe,W):P.setAttribute(Oe,W),D5(r.removed)}catch{}}}}n("afterSanitizeAttributes",P,null)}},k=function C(P){var N,W=It(P);for(n("beforeSanitizeShadowDOM",P,null);N=W.nextNode();)n("uponSanitizeShadowNode",N,null),!o(N)&&(N.content instanceof m&&C(N.content),E(N));n("afterSanitizeShadowDOM",P,null)};return r.sanitize=function(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N,W,K,ee,ue;if(Ua=!C,Ua&&(C="<!-->"),typeof C!="string"&&!_e(C)){if(typeof C.toString!="function")throw jv("toString is not a function");if(C=C.toString(),typeof C!="string")throw jv("dirty is not a string, aborting")}if(!r.isSupported){if(Wh(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof C=="string")return e.toStaticHTML(C);if(_e(C))return e.toStaticHTML(C.outerHTML)}return C}if(Mi||Xn(P),r.removed=[],typeof C=="string"&&(yr=!1),yr){if(C.nodeName){var we=Ur(C.nodeName);if(!Ne[we]||Ot[we])throw jv("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof w)N=mt("<!---->"),W=N.ownerDocument.importNode(C,!0),W.nodeType===1&&W.nodeName==="BODY"||W.nodeName==="HTML"?N=W:N.appendChild(W);else{if(!Ei&&!Vt&&!wi&&C.indexOf("<")===-1)return it&&Fi?it.createHTML(C):C;if(N=mt(C),!N)return Ei?null:Fi?Ye:""}N&&Ji&&je(N.firstChild);for(var Me=It(yr?C:N);K=Me.nextNode();)K.nodeType===3&&K===ee||o(K)||(K.content instanceof m&&k(K.content),E(K),ee=K);if(ee=null,yr)return C;if(Ei){if(Xi)for(ue=At.call(N.ownerDocument);N.firstChild;)ue.appendChild(N.firstChild);else ue=N;return Ie.shadowroot&&(ue=Ue.call(h,ue,!0)),ue}var Oe=wi?N.outerHTML:N.innerHTML;return wi&&Ne["!doctype"]&&N.ownerDocument&&N.ownerDocument.doctype&&N.ownerDocument.doctype.name&&Co(fK,N.ownerDocument.doctype.name)&&(Oe="<!DOCTYPE "+N.ownerDocument.doctype.name+`>
`+Oe),Vt&&(Oe=cc(Oe,te," "),Oe=cc(Oe,fe," "),Oe=cc(Oe,le," ")),it&&Fi?it.createHTML(Oe):Oe},r.setConfig=function(C){Xn(C),Mi=!0},r.clearConfig=function(){Vn=null,Mi=!1},r.isValidAttribute=function(C,P,N){Vn||Xn({});var W=Ur(C),K=Ur(P);return g(W,K,N)},r.addHook=function(C,P){typeof P=="function"&&(De[C]=De[C]||[],X0(De[C],P))},r.removeHook=function(C){if(De[C])return D5(De[C])},r.removeHooks=function(C){De[C]&&(De[C]=[])},r.removeAllHooks=function(){De={}},r}var gK=u7();class vK{constructor(){this._csrf=document.querySelector('[name="_csrf"]').value,this.injectHTML(),this.headerSearchIcon=document.querySelector(".header-search-icon"),this.headerSearchIconMobile=document.querySelector(".header-search-icon-mobile"),this.overlay=document.querySelector(".search-overlay"),this.closeIcon=document.querySelector(".close-live-search"),this.inputField=document.querySelector("#live-search-field"),this.resultsArea=document.querySelector(".live-search-results"),this.loaderIcon=document.querySelector(".circle-loader"),this.typingWaitTimer,this.previousValue="",this.events()}events(){this.inputField.addEventListener("keyup",()=>this.keyPressHandler()),this.closeIcon.addEventListener("click",()=>this.closeOverlay()),this.headerSearchIcon.addEventListener("click",r=>{r.preventDefault(),this.openOverlay()}),this.headerSearchIconMobile.addEventListener("click",r=>{r.preventDefault(),this.openOverlay()})}keyPressHandler(){let r=this.inputField.value;r==""&&(clearTimeout(this.typingWaitTimer),this.hideResultsArea,this.hideLoaderIcon),r!=""&&r!=this.previousValue&&(clearTimeout(this.typingWaitTimer),this.showLoaderIcon(),this.hideResultsArea(),this.typingWaitTimer=setTimeout(()=>this.sendRequest(),750)),this.previousValue=r}sendRequest(){console.log(this.inputField.value),xc.post("/search",{_csrf:this._csrf,searchTerm:this.inputField.value}).then(r=>{console.log(r.data),this.renderResultsHTML(r.data)}).catch(()=>{alert("hello the request failed")})}renderResultsHTML(r){r.length?this.resultsArea.innerHTML=gK.sanitize(`<div class="list-group shadow-sm">
            <div class="list-group-item active"><strong>Search Results</strong> (${r.length>1?`${r.length} items found`:"1 item found"})</div>
            ${r.map(h=>{let p=new Date(h.createdDate);return`<a href="/entry/${h._id}" class="list-group-item list-group-item-action">
                <strong>${h.title}</strong>
                <span class="text-muted small">by ${h.author.username} on ${p.getMonth()+1}/${p.getDate()}/${p.getFullYear()}</span>
              </a>`}).join("")}
          </div>`):this.resultsArea.innerHTML='<p class="alert alert-danger text-center shadow-sm" >Sorry, we could not find any results for that search.</p>',this.hideLoaderIcon(),this.showResultsArea()}showLoaderIcon(){this.loaderIcon.classList.add("circle-loader--visible")}hideLoaderIcon(){this.loaderIcon.classList.remove("circle-loader--visible")}showResultsArea(){this.resultsArea.classList.add("live-search-results--visible")}hideResultsArea(){this.resultsArea.classList.remove("live-search-results--visible")}openOverlay(){this.overlay.classList.add("search-overlay--visible"),setTimeout(()=>this.inputField.focus(),50)}closeOverlay(){this.overlay.classList.remove("search-overlay--visible")}injectHTML(){document.body.insertAdjacentHTML("beforeend",` <div class="search-overlay">
        <div class="search-overlay-top shadow-sm">
          <div class="container container-fluid">
            <label for="live-search-field" class="search-overlay-icon"><i class="fas fa-search"></i></label>
            <input type="text" id="live-search-field" class="live-search-field" placeholder="Search entries or explorers...">
            <span class="close-live-search mr-6"><i class="fas fa-times-circle"></i></span>
          </div>
        </div>
    
        <div class="search-overlay-bottom">
          <div class="container container--narrow py-3">
            <div class="d-flex justify-content-center">
                <div class="circle-loader"></div>
            </div>
            <div class="live-search-results"></div>
          </div>
        </div>
      </div>`)}}var z5={},yK={get exports(){return z5},set exports(e){z5=e}};(function(e,r){(function(h,p){e.exports=p()})(fn,function(){var h,p,m;function x(l,L){if(!h)h=L;else if(!p)p=L;else{var H="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+h+")(sharedChunk); ("+p+")(sharedChunk); self.onerror = null;",q={};h(q),m=L(q),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(m.workerUrl=window.URL.createObjectURL(new Blob([H],{type:"text/javascript"})))}}x(["exports"],function(l){var L=typeof self<"u"?self:{},H="2.12.0";let q;const J={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(q==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{q={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{q=a}}return q},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},oe={supported:!1,testSupport:function(a){!ne&&ye&&(X?pe(a):de=a)}};let de,ye,ne=!1,X=!1;function pe(a){const t=a.createTexture();a.bindTexture(a.TEXTURE_2D,t);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,ye),a.isContextLost())return;oe.supported=!0}catch{}a.deleteTexture(t),ne=!0}L.document&&(ye=L.document.createElement("img"),ye.onload=function(){de&&pe(de),de=null,X=!0},ye.onerror=function(){ne=!0,de=null},ye.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const ve="01";var me=it;function it(a,t,s,d){this.cx=3*a,this.bx=3*(s-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(d-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=t,this.p2x=s,this.p2y=d}it.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,t){if(t===void 0&&(t=1e-6),a<0)return 0;if(a>1)return 1;for(var s=a,d=0;d<8;d++){var y=this.sampleCurveX(s)-a;if(Math.abs(y)<t)return s;var S=this.sampleCurveDerivativeX(s);if(Math.abs(S)<1e-6)break;s-=y/S}var I=0,O=1;for(s=a,d=0;d<20&&(y=this.sampleCurveX(s),!(Math.abs(y-a)<t));d++)a>y?I=s:O=s,s=.5*(O-I)+I;return s},solve:function(a,t){return this.sampleCurveY(this.solveCurveX(a,t))}};var Ye=Q;function Q(a,t){this.x=a,this.y=t}Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,t){return this.clone()._rotateAround(a,t)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var t=a.x-this.x,s=a.y-this.y;return t*t+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,t){return Math.atan2(this.x*t-this.y*a,this.x*a+this.y*t)},_matMult:function(a){var t=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=t,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var t=Math.cos(a),s=Math.sin(a),d=s*this.x+t*this.y;return this.x=t*this.x-s*this.y,this.y=d,this},_rotateAround:function(a,t){var s=Math.cos(a),d=Math.sin(a),y=t.y+d*(this.x-t.x)+s*(this.y-t.y);return this.x=t.x+s*(this.x-t.x)-d*(this.y-t.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Q.convert=function(a){return a instanceof Q?a:Array.isArray(a)?new Q(a[0],a[1]):a};const Dt=Math.PI/180,St=180/Math.PI;function At(a){return a*Dt}function ui(a){return a*St}const Ue=[[0,0],[1,0],[1,1],[0,1]];function Pe(a){if(a<=0)return 0;if(a>=1)return 1;const t=a*a,s=t*a;return 4*(a<.5?s:3*(a-t)+s-.75)}function De(a,t,s,d){const y=new me(a,t,s,d);return function(S){return y.solve(S)}}const te=De(.25,.1,.25,1);function fe(a,t,s){return Math.min(s,Math.max(t,a))}function le(a,t,s){return(s=fe((s-a)/(t-a),0,1))*s*(3-2*s)}function Se(a,t,s){const d=s-t,y=((a-t)%d+d)%d+t;return y===t?s:y}function Re(a,t,s){if(!a.length)return s(null,[]);let d=a.length;const y=new Array(a.length);let S=null;a.forEach((I,O)=>{t(I,(j,U)=>{j&&(S=j),y[O]=U,--d==0&&s(S,y)})})}function ot(a){const t=[];for(const s in a)t.push(a[s]);return t}function ht(a,...t){for(const s of t)for(const d in s)a[d]=s[d];return a}let Pt=1;function Ne(){return Pt++}function Ze(){return function a(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function Ie(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function We(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function rt(a,t){a.forEach(s=>{t[s]&&(t[s]=t[s].bind(t))})}function Ot(a,t){return a.indexOf(t,a.length-t.length)!==-1}function hi(a,t,s){const d={};for(const y in a)d[y]=t.call(s||this,a[y],y,a);return d}function gi(a,t,s){const d={};for(const y in a)t.call(s||this,a[y],y,a)&&(d[y]=a[y]);return d}function Li(a){return Array.isArray(a)?a.map(Li):typeof a=="object"&&a?hi(a,Li):a}const ur={};function Vt(a){ur[a]||(typeof console<"u"&&console.warn(a),ur[a]=!0)}function wi(a,t,s){return(s.y-a.y)*(t.x-a.x)>(t.y-a.y)*(s.x-a.x)}function Mi(a){let t=0;for(let s,d,y=0,S=a.length,I=S-1;y<S;I=y++)s=a[y],d=a[I],t+=(d.x-s.x)*(s.y+d.y);return t}function Ji(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ei(a){const t={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(s,d,y,S)=>{const I=y||S;return t[d]=!I||I.toLowerCase(),""}),t["max-age"]){const s=parseInt(t["max-age"],10);isNaN(s)?delete t["max-age"]:t["max-age"]=s}return t}let Xi=null;function Fi(a){if(Xi==null){const t=a.navigator?a.navigator.userAgent:null;Xi=!!a.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Xi}function Lr(a){try{const t=L[a];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch{return!1}}function Vr(a,t){return[a[4*t],a[4*t+1],a[4*t+2],a[4*t+3]]}const si="mapbox-tiles";let tr,yr,ar=500,Ir=50;function Ar(){try{return L.caches}catch{}}function En(){Ar()&&!tr&&(tr=L.caches.open(si))}function kn(a){const t=a.indexOf("?");if(t<0)return a;const s=function(y){const S=y.indexOf("?");return S>0?y.slice(S+1).split("&"):[]}(a),d=s.filter(y=>{const S=y.split("=");return S[0]==="language"||S[0]==="worldview"});return d.length?`${a.slice(0,t)}?${d.join("&")}`:a.slice(0,t)}let oa=1/0;const Ge={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ge);class ma extends Error{constructor(t,s,d){s===401&&Vn(d)&&(t+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(t),this.status=s,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ra=Ji()?()=>self.worker&&self.worker.referrer:()=>(L.location.protocol==="blob:"?L.parent:L).location.href,mn=function(a,t){if(!(/^file:/.test(s=a.url)||/^file:/.test(ra())&&!/^\w+:/.test(s))){if(L.fetch&&L.Request&&L.AbortController&&L.Request.prototype.hasOwnProperty("signal"))return function(d,y){const S=new L.AbortController,I=new L.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:ra(),signal:S.signal});let O=!1,j=!1;const U=(re=I.url).indexOf("sku=")>0&&Vn(re);var re;d.type==="json"&&I.headers.set("Accept","application/json");const ce=(Te,Ae,Be)=>{if(j)return;if(Te&&Te.message!=="SecurityError"&&Vt(Te),Ae&&Be)return ge(Ae);const nt=Date.now();L.fetch(I).then(ft=>{if(ft.ok){const Et=U?ft.clone():null;return ge(ft,Et,nt)}return y(new ma(ft.statusText,ft.status,d.url))}).catch(ft=>{ft.code!==20&&y(new Error(ft.message))})},ge=(Te,Ae,Be)=>{(d.type==="arrayBuffer"?Te.arrayBuffer():d.type==="json"?Te.json():Te.text()).then(nt=>{j||(Ae&&Be&&function(ft,Et,dt){if(En(),!tr)return;const yt={status:Et.status,statusText:Et.statusText,headers:new L.Headers};Et.headers.forEach((Kt,Zt)=>yt.headers.set(Zt,Kt));const kt=Ei(Et.headers.get("Cache-Control")||"");if(kt["no-store"])return;kt["max-age"]&&yt.headers.set("Expires",new Date(dt+1e3*kt["max-age"]).toUTCString());const Tt=yt.headers.get("Expires");Tt&&(new Date(Tt).getTime()-dt<42e4||function(Kt,Zt){if(yr===void 0)try{new Response(new ReadableStream),yr=!0}catch{yr=!1}yr?Zt(Kt.body):Kt.blob().then(Zt)}(Et,Kt=>{const Zt=new L.Response(Kt,yt);En(),tr&&tr.then(fi=>fi.put(kn(ft.url),Zt)).catch(fi=>Vt(fi.message))}))}(I,Ae,Be),O=!0,y(null,nt,Te.headers.get("Cache-Control"),Te.headers.get("Expires")))}).catch(nt=>{j||y(new Error(nt.message))})};return U?function(Te,Ae){if(En(),!tr)return Ae(null);const Be=kn(Te.url);tr.then(nt=>{nt.match(Be).then(ft=>{const Et=function(dt){if(!dt)return!1;const yt=new Date(dt.headers.get("Expires")||0),kt=Ei(dt.headers.get("Cache-Control")||"");return yt>Date.now()&&!kt["no-cache"]}(ft);nt.delete(Be),Et&&nt.put(Be,ft.clone()),Ae(null,ft,Et)}).catch(Ae)}).catch(Ae)}(I,ce):ce(null,null),{cancel:()=>{j=!0,O||S.abort()}}}(a,t);if(Ji()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,t,void 0,!0)}var s;return function(d,y){const S=new L.XMLHttpRequest;S.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(S.responseType="arraybuffer");for(const I in d.headers)S.setRequestHeader(I,d.headers[I]);return d.type==="json"&&(S.responseType="text",S.setRequestHeader("Accept","application/json")),S.withCredentials=d.credentials==="include",S.onerror=()=>{y(new Error(S.statusText))},S.onload=()=>{if((S.status>=200&&S.status<300||S.status===0)&&S.response!==null){let I=S.response;if(d.type==="json")try{I=JSON.parse(S.response)}catch(O){return y(O)}y(null,I,S.getResponseHeader("Cache-Control"),S.getResponseHeader("Expires"))}else y(new ma(S.statusText,S.status,d.url))},S.send(d.body),{cancel:()=>S.abort()}}(a,t)},na=function(a,t){return mn(ht(a,{type:"arrayBuffer"}),t)};function Ua(a){const t=L.document.createElement("a");return t.href=a,t.protocol===L.document.location.protocol&&t.host===L.document.location.host}const jn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let gn,qr;gn=[],qr=0;const Pa=function(a,t){if(oe.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),qr>=J.MAX_PARALLEL_IMAGE_REQUESTS){const S={requestParameters:a,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return gn.push(S),S}qr++;let s=!1;const d=()=>{if(!s)for(s=!0,qr--;gn.length&&qr<J.MAX_PARALLEL_IMAGE_REQUESTS;){const S=gn.shift(),{requestParameters:I,callback:O,cancelled:j}=S;j||(S.cancel=Pa(I,O).cancel)}},y=na(a,(S,I,O,j)=>{d(),S?t(S):I&&(L.createImageBitmap?function(U,re){const ce=new L.Blob([new Uint8Array(U)],{type:"image/png"});L.createImageBitmap(ce).then(ge=>{re(null,ge)}).catch(ge=>{re(new Error(`Could not load image because of ${ge.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(I,(U,re)=>t(U,re,O,j)):function(U,re){const ce=new L.Image,ge=L.URL;ce.onload=()=>{re(null,ce),ge.revokeObjectURL(ce.src),ce.onload=null,L.requestAnimationFrame(()=>{ce.src=jn})},ce.onerror=()=>re(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Te=new L.Blob([new Uint8Array(U)],{type:"image/png"});ce.src=U.byteLength?ge.createObjectURL(Te):jn}(I,(U,re)=>t(U,re,O,j)))});return{cancel:()=>{y.cancel(),d()}}},Oa="NO_ACCESS_TOKEN";function Ur(a){return a.indexOf("mapbox:")===0}function Vn(a){return J.API_URL_REGEX.test(a)}function cs(a){return J.API_CDN_URL_REGEX.test(a)}function ga(a){return J.API_STYLE_REGEX.test(a)&&!Xn(a)}function Xn(a){return J.API_SPRITE_REGEX.test(a)}const Ga=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function tn(a){const t=a.match(Ga);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Br(a){const t=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${t}`}function Zn(a){if(!a)return null;const t=a.split(".");if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(L.atob(t[1]).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ut{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const s=Zn(J.ACCESS_TOKEN);let d="";return d=s&&s.u?L.btoa(encodeURIComponent(s.u).replace(/%([0-9A-F]{2})/g,(y,S)=>String.fromCharCode(Number("0x"+S)))):J.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${d}`:`mapbox.eventData:${d}`}fetchEventData(){const t=Lr("localStorage"),s=this.getStorageKey(),d=this.getStorageKey("uuid");if(t)try{const y=L.localStorage.getItem(s);y&&(this.eventData=JSON.parse(y));const S=L.localStorage.getItem(d);S&&(this.anonId=S)}catch{Vt("Unable to read from LocalStorage")}}saveEventData(){const t=Lr("localStorage"),s=this.getStorageKey(),d=this.getStorageKey("uuid");if(t)try{L.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&L.localStorage.setItem(s,JSON.stringify(this.eventData))}catch{Vt("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,s,d,y){if(!J.EVENTS_URL)return;const S=tn(J.EVENTS_URL);S.params.push(`access_token=${y||J.ACCESS_TOKEN||""}`);const I={event:this.type,created:new Date(t).toISOString()},O=s?ht(I,s):I,j={url:Br(S),headers:{"Content-Type":"text/plain"},body:JSON.stringify([O])};this.pendingRequest=function(U,re){return mn(ht(U,{method:"POST"}),re)}(j,U=>{this.pendingRequest=null,d(U),this.saveEventData(),this.processRequests(y)})}queueRequest(t,s){this.queue.push(t),this.processRequests(s)}}const Ce=new class extends ut{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,t){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(a)&&a.some(s=>Ur(s)||Vn(s))&&this.queueRequest(Date.now(),t)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Zn(J.ACCESS_TOKEN),s=t?t.u:J.ACCESS_TOKEN;let d=s!==this.eventData.tokenU;We(this.anonId)||(this.anonId=Ze(),d=!0);const y=this.queue.shift();if(this.eventData.lastSuccess){const S=new Date(this.eventData.lastSuccess),I=new Date(y),O=(y-this.eventData.lastSuccess)/864e5;d=d||O>=1||O<-1||S.getDate()!==I.getDate()}else d=!0;d?this.postEvent(y,{sdkIdentifier:"mapbox-gl-js",sdkVersion:H,skuId:ve,"enabled.telemetry":!1,userId:this.anonId},S=>{S||(this.eventData.lastSuccess=y,this.eventData.tokenU=s)},a):this.processRequests()}},je=Ce.postTurnstileEvent.bind(Ce),ct=new class extends ut{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,t,s,d){this.skuToken=t,this.errorCb=d,J.EVENTS_URL&&(s||J.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},s):this.errorCb(new Error(Oa)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:s}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),We(this.anonId)||(this.anonId=Ze()),this.postEvent(s,{sdkIdentifier:"mapbox-gl-js",sdkVersion:H,skuId:ve,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):t&&(this.success[t]=!0)},a))}},mt=ct.postMapLoadEvent.bind(ct),It=new class extends ut{constructor(){super("gljs.performance")}postPerformanceEvent(a,t){J.EVENTS_URL&&(a||J.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:t,performanceData:s}=this.queue.shift(),d=function(y){const S=L.performance.getEntriesByType("resource"),I=L.performance.getEntriesByType("mark"),O=function(ge){const Te={};if(ge){for(const Ae in ge)if(Ae!=="other")for(const Be of ge[Ae]){const nt=`${Ae}ResolveRangeMin`,ft=`${Ae}ResolveRangeMax`,Et=`${Ae}RequestCount`,dt=`${Ae}RequestCachedCount`;Te[nt]=Math.min(Te[nt]||1/0,Be.startTime),Te[ft]=Math.max(Te[ft]||-1/0,Be.responseEnd);const yt=kt=>{Te[kt]===void 0&&(Te[kt]=0),++Te[kt]};Be.transferSize!==void 0&&Be.transferSize===0&&yt(dt),yt(Et)}}return Te}(function(ge,Te){const Ae={};if(ge)for(const Be of ge){const nt=Te(Be);Ae[nt]===void 0&&(Ae[nt]=[]),Ae[nt].push(Be)}return Ae}(S,E)),j=L.devicePixelRatio,U=L.navigator.connection||L.navigator.mozConnection||L.navigator.webkitConnection,re={counters:[],metadata:[],attributes:[]},ce=(ge,Te,Ae)=>{Ae!=null&&ge.push({name:Te,value:Ae.toString()})};for(const ge in O)ce(re.counters,ge,O[ge]);if(y.interactionRange[0]!==1/0&&y.interactionRange[1]!==-1/0&&(ce(re.counters,"interactionRangeMin",y.interactionRange[0]),ce(re.counters,"interactionRangeMax",y.interactionRange[1])),I)for(const ge of Object.keys(g)){const Te=g[ge],Ae=I.find(Be=>Be.name===Te);Ae&&ce(re.counters,Te,Ae.startTime)}return ce(re.counters,"visibilityHidden",y.visibilityHidden),ce(re.attributes,"style",function(ge){if(ge)for(const Te of ge){const Ae=Te.name.split("?")[0];if(ga(Ae)){const Be=Ae.split("/").slice(-2);if(Be.length===2)return`mapbox://styles/${Be[0]}/${Be[1]}`}}}(S)),ce(re.attributes,"terrainEnabled",y.terrainEnabled?"true":"false"),ce(re.attributes,"fogEnabled",y.fogEnabled?"true":"false"),ce(re.attributes,"projection",y.projection),ce(re.attributes,"zoom",y.zoom),ce(re.metadata,"devicePixelRatio",j),ce(re.metadata,"connectionEffectiveType",U?U.effectiveType:void 0),ce(re.metadata,"navigatorUserAgent",L.navigator.userAgent),ce(re.metadata,"screenWidth",L.screen.width),ce(re.metadata,"screenHeight",L.screen.height),ce(re.metadata,"windowWidth",L.innerWidth),ce(re.metadata,"windowHeight",L.innerHeight),ce(re.metadata,"mapWidth",y.width/j),ce(re.metadata,"mapHeight",y.height/j),ce(re.metadata,"webglRenderer",y.renderer),ce(re.metadata,"webglVendor",y.vendor),ce(re.metadata,"sdkVersion",H),ce(re.metadata,"sdkIdentifier","mapbox-gl-js"),re}(s);for(const y of d.metadata);for(const y of d.counters);for(const y of d.attributes);this.postEvent(t,d,()=>{},a)}},Bt=It.postPerformanceEvent.bind(It),_e=new class extends ut{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,t,s,d){if(!J.API_URL||!J.SESSION_PATH)return;const y=tn(J.API_URL+J.SESSION_PATH);y.params.push(`sku=${t||""}`),y.params.push(`access_token=${d||J.ACCESS_TOKEN||""}`);const S={url:Br(y),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(I,O){return mn(ht(I,{method:"GET"}),O)}(S,I=>{this.pendingRequest=null,s(I),this.saveEventData(),this.processRequests(d)})}getSessionAPI(a,t,s,d){this.skuToken=t,this.errorCb=d,J.SESSION_PATH&&J.API_URL&&(s||J.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},s):this.errorCb(new Error(Oa)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:s}=this.queue.shift();t&&this.success[t]||this.getSession(s,this.skuToken,d=>{d?this.errorCb(d):t&&(this.success[t]=!0)},a)}},n=_e.getSessionAPI.bind(_e),o=new Set,g={create:"create",load:"load",fullLoad:"fullLoad"},b={mark(a){L.performance.mark(a)},measure(a,t,s){L.performance.measure(a,t,s)}};function E(a){const t=a.name.split("?")[0];return cs(t)&&t.includes("mapbox-gl.js")?"javascript":cs(t)&&t.includes("mapbox-gl.css")?"css":function(s){return J.API_FONTS_REGEX.test(s)}(t)?"fontRange":Xn(t)?"sprite":ga(t)?"style":function(s){return J.API_TILEJSON_REGEX.test(s)}(t)?"tilejson":"other"}const k=L.performance;function C(a){const t=a?a.url.toString():void 0;return k.getEntriesByName(t)}let P,N,W,K;const ee={now:()=>W!==void 0?W:L.performance.now(),setNow(a){W=a},restoreNow(){W=void 0},frame(a){const t=L.requestAnimationFrame(a);return{cancel:()=>L.cancelAnimationFrame(t)}},getImageData(a,t=0){const{width:s,height:d}=a;K||(K=L.document.createElement("canvas"));const y=K.getContext("2d",{willReadFrequently:!0});if(!y)throw new Error("failed to create canvas 2d context");return(s>K.width||d>K.height)&&(K.width=s,K.height=d),y.clearRect(-t,-t,s+2*t,d+2*t),y.drawImage(a,0,0,s,d),y.getImageData(-t,-t,s+2*t,d+2*t)},resolveURL:a=>(P||(P=L.document.createElement("a")),P.href=a,P.href),get devicePixelRatio(){return L.devicePixelRatio},get prefersReducedMotion(){return!!L.matchMedia&&(N==null&&(N=L.matchMedia("(prefers-reduced-motion: reduce)")),N.matches)}};function ue(a,t,s){s[a]&&s[a].indexOf(t)!==-1||(s[a]=s[a]||[],s[a].push(t))}function we(a,t,s){if(s&&s[a]){const d=s[a].indexOf(t);d!==-1&&s[a].splice(d,1)}}class Me{constructor(t,s={}){ht(this,s),this.type=t}}class Oe extends Me{constructor(t,s={}){super("error",ht({error:t},s))}}class He{on(t,s){return this._listeners=this._listeners||{},ue(t,s,this._listeners),this}off(t,s){return we(t,s,this._listeners),we(t,s,this._oneTimeListeners),this}once(t,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},ue(t,s,this._oneTimeListeners),this):new Promise(d=>this.once(t,d))}fire(t,s){typeof t=="string"&&(t=new Me(t,s||{}));const d=t.type;if(this.listens(d)){t.target=this;const y=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const O of y)O.call(this,t);const S=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const O of S)we(d,O,this._oneTimeListeners),O.call(this,t);const I=this._eventedParent;I&&(ht(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),I.fire(t))}else t instanceof Oe&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,s){return this._eventedParent=t,this._eventedParentData=s,this}}var Le=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function gt(a,...t){for(const s of t)for(const d in s)a[d]=s[d];return a}function B(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function se(a){if(Array.isArray(a))return a.map(se);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const t={};for(const s in a)t[s]=se(a[s]);return t}return B(a)}class ke extends Error{constructor(t,s){super(s),this.message=s,this.key=t}}var Ke=ke;class zt{constructor(t,s=[]){this.parent=t,this.bindings={};for(const[d,y]of s)this.bindings[d]=y}concat(t){return new zt(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var ai=zt;const Xt={kind:"null"},Wt={kind:"number"},li={kind:"string"},mi={kind:"boolean"},Yi={kind:"color"},Gr={kind:"object"},Gi={kind:"value"},Rr={kind:"collator"},vn={kind:"formatted"},qn={kind:"resolvedImage"};function rn(a,t){return{kind:"array",itemType:a,N:t}}function kr(a){if(a.kind==="array"){const t=kr(a.itemType);return typeof a.N=="number"?`array<${t}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${t}>`}return a.kind}const Kn=[Xt,Wt,li,mi,Yi,vn,Gr,rn(Gi),qn];function La(a,t){if(t.kind==="error")return null;if(a.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!La(a.itemType,t.itemType))&&(typeof a.N!="number"||a.N===t.N))return null}else{if(a.kind===t.kind)return null;if(a.kind==="value"){for(const s of Kn)if(!La(s,t))return null}}return`Expected ${kr(a)} but found ${kr(t)} instead.`}function hs(a,t){return t.some(s=>s.kind===a.kind)}function _s(a,t){return t.some(s=>s==="null"?a===null:s==="array"?Array.isArray(a):s==="object"?a&&!Array.isArray(a)&&typeof a=="object":s===typeof a)}var Un,$r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ha(a){return(a=Math.round(a))<0?0:a>255?255:a}function fo(a){return Ha(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function $o(a){return(t=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:t>1?1:t;var t}function bs(a,t,s){return s<0?s+=1:s>1&&(s-=1),6*s<1?a+(t-a)*s*6:2*s<1?t:3*s<2?a+(t-a)*(2/3-s)*6:a}try{Un={}.parseCSSColor=function(a){var t,s=a.replace(/ /g,"").toLowerCase();if(s in $r)return $r[s].slice();if(s[0]==="#")return s.length===4?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:s.length===7&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var d=s.indexOf("("),y=s.indexOf(")");if(d!==-1&&y+1===s.length){var S=s.substr(0,d),I=s.substr(d+1,y-(d+1)).split(","),O=1;switch(S){case"rgba":if(I.length!==4)return null;O=$o(I.pop());case"rgb":return I.length!==3?null:[fo(I[0]),fo(I[1]),fo(I[2]),O];case"hsla":if(I.length!==4)return null;O=$o(I.pop());case"hsl":if(I.length!==3)return null;var j=(parseFloat(I[0])%360+360)%360/360,U=$o(I[1]),re=$o(I[2]),ce=re<=.5?re*(U+1):re+U-re*U,ge=2*re-ce;return[Ha(255*bs(ge,ce,j+1/3)),Ha(255*bs(ge,ce,j)),Ha(255*bs(ge,ce,j-1/3)),O];default:return null}}return null}}catch{}class Wn{constructor(t,s,d,y=1){this.r=t,this.g=s,this.b=d,this.a=y}static parse(t){if(!t)return;if(t instanceof Wn)return t;if(typeof t!="string")return;const s=Un(t);return s?new Wn(s[0]/255*s[3],s[1]/255*s[3],s[2]/255*s[3],s[3]):void 0}toString(){const[t,s,d,y]=this.toArray();return`rgba(${Math.round(t)},${Math.round(s)},${Math.round(d)},${y})`}toArray(){const{r:t,g:s,b:d,a:y}=this;return y===0?[0,0,0,0]:[255*t/y,255*s/y,255*d/y,y]}toArray01(){const{r:t,g:s,b:d,a:y}=this;return y===0?[0,0,0,0]:[t/y,s/y,d/y,y]}toArray01PremultipliedAlpha(){const{r:t,g:s,b:d,a:y}=this;return[t,s,d,y]}}Wn.black=new Wn(0,0,0,1),Wn.white=new Wn(1,1,1,1),Wn.transparent=new Wn(0,0,0,0),Wn.red=new Wn(1,0,0,1),Wn.blue=new Wn(0,0,1,1);var cn=Wn;class Fs{constructor(t,s,d){this.sensitivity=t?s?"variant":"case":s?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,s){return this.collator.compare(t,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Xs{constructor(t,s,d,y,S){this.text=t.normalize?t.normalize():t,this.image=s,this.scale=d,this.fontStack=y,this.textColor=S}}class nn{constructor(t){this.sections=t}static fromString(t){return new nn([new Xs(t,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof nn?t:nn.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const s of this.sections){if(s.image){t.push(["image",s.image.name]);continue}t.push(s.text);const d={};s.fontStack&&(d["text-font"]=["literal",s.fontStack.split(",")]),s.scale&&(d["font-scale"]=s.scale),s.textColor&&(d["text-color"]=["rgba"].concat(s.textColor.toArray())),t.push(d)}return t}}class la{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new la({name:t,available:!1}):null}serialize(){return["image",this.name]}}function pl(a,t,s,d){return typeof a=="number"&&a>=0&&a<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof s=="number"&&s>=0&&s<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[a,t,s,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[a,t,s,d]:[a,t,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Zs(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof cn||a instanceof Fs||a instanceof nn||a instanceof la)return!0;if(Array.isArray(a)){for(const t of a)if(!Zs(t))return!1;return!0}if(typeof a=="object"){for(const t in a)if(!Zs(a[t]))return!1;return!0}return!1}function Tn(a){if(a===null)return Xt;if(typeof a=="string")return li;if(typeof a=="boolean")return mi;if(typeof a=="number")return Wt;if(a instanceof cn)return Yi;if(a instanceof Fs)return Rr;if(a instanceof nn)return vn;if(a instanceof la)return qn;if(Array.isArray(a)){const t=a.length;let s;for(const d of a){const y=Tn(d);if(s){if(s===y)continue;s=Gi;break}s=y}return rn(s||Gi,t)}return Gr}function Xo(a){const t=typeof a;return a===null?"":t==="string"||t==="number"||t==="boolean"?String(a):a instanceof cn||a instanceof nn||a instanceof la?a.toString():JSON.stringify(a)}class po{constructor(t,s){this.type=t,this.value=s}static parse(t,s){if(t.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Zs(t[1]))return s.error("invalid value");const d=t[1];let y=Tn(d);const S=s.expectedType;return y.kind!=="array"||y.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(y=S),new po(y,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof cn?["rgba"].concat(this.value.toArray()):this.value instanceof nn?this.value.serialize():this.value}}var mo=po,Ln=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const qs={string:li,number:Wt,boolean:mi,object:Gr};class ml{constructor(t,s){this.type=t,this.args=s}static parse(t,s){if(t.length<2)return s.error("Expected at least one argument.");let d,y=1;const S=t[0];if(S==="array"){let O,j;if(t.length>2){const U=t[1];if(typeof U!="string"||!(U in qs)||U==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);O=qs[U],y++}else O=Gi;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return s.error('The length argument to "array" must be a positive integer literal',2);j=t[2],y++}d=rn(O,j)}else d=qs[S];const I=[];for(;y<t.length;y++){const O=s.parse(t[y],y,Gi);if(!O)return null;I.push(O)}return new ml(d,I)}evaluate(t){for(let s=0;s<this.args.length;s++){const d=this.args[s].evaluate(t);if(!La(this.type,Tn(d)))return d;if(s===this.args.length-1)throw new Ln(`Expected value to be of type ${kr(this.type)}, but found ${kr(Tn(d))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,s=[t.kind];if(t.kind==="array"){const d=t.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){s.push(d.kind);const y=t.N;(typeof y=="number"||this.args.length>1)&&s.push(y)}}return s.concat(this.args.map(d=>d.serialize()))}}var ws=ml;class Es{constructor(t){this.type=vn,this.sections=t}static parse(t,s){if(t.length<2)return s.error("Expected at least one argument.");const d=t[1];if(!Array.isArray(d)&&typeof d=="object")return s.error("First argument must be an image or text section.");const y=[];let S=!1;for(let I=1;I<=t.length-1;++I){const O=t[I];if(S&&typeof O=="object"&&!Array.isArray(O)){S=!1;let j=null;if(O["font-scale"]&&(j=s.parse(O["font-scale"],1,Wt),!j))return null;let U=null;if(O["text-font"]&&(U=s.parse(O["text-font"],1,rn(li)),!U))return null;let re=null;if(O["text-color"]&&(re=s.parse(O["text-color"],1,Yi),!re))return null;const ce=y[y.length-1];ce.scale=j,ce.font=U,ce.textColor=re}else{const j=s.parse(t[I],1,Gi);if(!j)return null;const U=j.type.kind;if(U!=="string"&&U!=="value"&&U!=="null"&&U!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,y.push({content:j,scale:null,font:null,textColor:null})}}return new Es(y)}evaluate(t){return new nn(this.sections.map(s=>{const d=s.content.evaluate(t);return Tn(d)===qn?new Xs("",d,null,null,null):new Xs(Xo(d),null,s.scale?s.scale.evaluate(t):null,s.font?s.font.evaluate(t).join(","):null,s.textColor?s.textColor.evaluate(t):null)}))}eachChild(t){for(const s of this.sections)t(s.content),s.scale&&t(s.scale),s.font&&t(s.font),s.textColor&&t(s.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const s of this.sections){t.push(s.content.serialize());const d={};s.scale&&(d["font-scale"]=s.scale.serialize()),s.font&&(d["text-font"]=s.font.serialize()),s.textColor&&(d["text-color"]=s.textColor.serialize()),t.push(d)}return t}}class Zo{constructor(t){this.type=qn,this.input=t}static parse(t,s){if(t.length!==2)return s.error("Expected two arguments.");const d=s.parse(t[1],1,li);return d?new Zo(d):s.error("No image name provided.")}evaluate(t){const s=this.input.evaluate(t),d=la.fromString(s);return d&&t.availableImages&&(d.available=t.availableImages.indexOf(s)>-1),d}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ja={"to-boolean":mi,"to-color":Yi,"to-number":Wt,"to-string":li};class $l{constructor(t,s){this.type=t,this.args=s}static parse(t,s){if(t.length<2)return s.error("Expected at least one argument.");const d=t[0];if((d==="to-boolean"||d==="to-string")&&t.length!==2)return s.error("Expected one argument.");const y=Ja[d],S=[];for(let I=1;I<t.length;I++){const O=s.parse(t[I],I,Gi);if(!O)return null;S.push(O)}return new $l(y,S)}evaluate(t){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(t));if(this.type.kind==="color"){let s,d;for(const y of this.args){if(s=y.evaluate(t),d=null,s instanceof cn)return s;if(typeof s=="string"){const S=t.parseColor(s);if(S)return S}else if(Array.isArray(s)&&(d=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:pl(s[0],s[1],s[2],s[3]),!d))return new cn(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new Ln(d||`Could not parse color from value '${typeof s=="string"?s:String(JSON.stringify(s))}'`)}if(this.type.kind==="number"){let s=null;for(const d of this.args){if(s=d.evaluate(t),s===null)return 0;const y=Number(s);if(!isNaN(y))return y}throw new Ln(`Could not convert ${JSON.stringify(s)} to number.`)}return this.type.kind==="formatted"?nn.fromString(Xo(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?la.fromString(Xo(this.args[0].evaluate(t))):Xo(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Es([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Zo(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(s=>{t.push(s.serialize())}),t}}var us=$l;const qo=["Unknown","Point","LineString","Polygon"];var gl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?qo[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:s,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(s*t-a[0])+this.featureDistanceData.bearing[1]*(d*t-a[1])}return 0}parseColor(a){let t=this._parseColorCache[a];return t||(t=this._parseColorCache[a]=cn.parse(a)),t}};class ln{constructor(t,s,d,y){this.name=t,this.type=s,this._evaluate=d,this.args=y}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,s){const d=t[0],y=ln.definitions[d];if(!y)return s.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const S=Array.isArray(y)?y[0]:y.type,I=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,O=I.filter(([U])=>!Array.isArray(U)||U.length===t.length-1);let j=null;for(const[U,re]of O){j=new zr(s.registry,s.path,null,s.scope);const ce=[];let ge=!1;for(let Te=1;Te<t.length;Te++){const Ae=t[Te],Be=Array.isArray(U)?U[Te-1]:U.type,nt=j.parse(Ae,1+ce.length,Be);if(!nt){ge=!0;break}ce.push(nt)}if(!ge)if(Array.isArray(U)&&U.length!==ce.length)j.error(`Expected ${U.length} arguments, but found ${ce.length} instead.`);else{for(let Te=0;Te<ce.length;Te++){const Ae=Array.isArray(U)?U[Te]:U.type,Be=ce[Te];j.concat(Te+1).checkSubtype(Ae,Be.type)}if(j.errors.length===0)return new ln(d,S,re,ce)}}if(O.length===1)s.errors.push(...j.errors);else{const U=(O.length?O:I).map(([ce])=>{return ge=ce,Array.isArray(ge)?`(${ge.map(kr).join(", ")})`:`(${kr(ge.type)}...)`;var ge}).join(" | "),re=[];for(let ce=1;ce<t.length;ce++){const ge=s.parse(t[ce],1+re.length);if(!ge)return null;re.push(kr(ge.type))}s.error(`Expected arguments of type ${U}, but found (${re.join(", ")}) instead.`)}return null}static register(t,s){ln.definitions=s;for(const d in s)t[d]=ln}}var Ma=ln;class Oo{constructor(t,s,d){this.type=Rr,this.locale=d,this.caseSensitive=t,this.diacriticSensitive=s}static parse(t,s){if(t.length!==2)return s.error("Expected one argument.");const d=t[1];if(typeof d!="object"||Array.isArray(d))return s.error("Collator options argument must be an object.");const y=s.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,mi);if(!y)return null;const S=s.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,mi);if(!S)return null;let I=null;return d.locale&&(I=s.parse(d.locale,1,li),!I)?null:new Oo(y,S,I)}evaluate(t){return new Fs(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const z=8192;function Z(a,t){a[0]=Math.min(a[0],t[0]),a[1]=Math.min(a[1],t[1]),a[2]=Math.max(a[2],t[0]),a[3]=Math.max(a[3],t[1])}function he(a,t){return!(a[0]<=t[0]||a[2]>=t[2]||a[1]<=t[1]||a[3]>=t[3])}function xe(a,t){const s=(180+a[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,y=Math.pow(2,t.z);return[Math.round(s*y*z),Math.round(d*y*z)]}function ze(a,t,s){const d=a[0]-t[0],y=a[1]-t[1],S=a[0]-s[0],I=a[1]-s[1];return d*I-S*y==0&&d*S<=0&&y*I<=0}function Ve(a,t){let s=!1;for(let I=0,O=t.length;I<O;I++){const j=t[I];for(let U=0,re=j.length;U<re-1;U++){if(ze(a,j[U],j[U+1]))return!1;(y=j[U])[1]>(d=a)[1]!=(S=j[U+1])[1]>d[1]&&d[0]<(S[0]-y[0])*(d[1]-y[1])/(S[1]-y[1])+y[0]&&(s=!s)}}var d,y,S;return s}function Qe(a,t){for(let s=0;s<t.length;s++)if(Ve(a,t[s]))return!0;return!1}function Ct(a,t,s,d){const y=d[0]-s[0],S=d[1]-s[1],I=(a[0]-s[0])*S-y*(a[1]-s[1]),O=(t[0]-s[0])*S-y*(t[1]-s[1]);return I>0&&O<0||I<0&&O>0}function Mt(a,t,s){for(const U of s)for(let re=0;re<U.length-1;++re)if((O=[(I=U[re+1])[0]-(S=U[re])[0],I[1]-S[1]])[0]*(j=[(y=t)[0]-(d=a)[0],y[1]-d[1]])[1]-O[1]*j[0]!=0&&Ct(d,y,S,I)&&Ct(S,I,d,y))return!0;var d,y,S,I,O,j;return!1}function Ht(a,t){for(let s=0;s<a.length;++s)if(!Ve(a[s],t))return!1;for(let s=0;s<a.length-1;++s)if(Mt(a[s],a[s+1],t))return!1;return!0}function ci(a,t){for(let s=0;s<t.length;s++)if(Ht(a,t[s]))return!0;return!1}function Pi(a,t,s){const d=[];for(let y=0;y<a.length;y++){const S=[];for(let I=0;I<a[y].length;I++){const O=xe(a[y][I],s);Z(t,O),S.push(O)}d.push(S)}return d}function Jt(a,t,s){const d=[];for(let y=0;y<a.length;y++){const S=Pi(a[y],t,s);d.push(S)}return d}function di(a,t,s,d){if(a[0]<s[0]||a[0]>s[2]){const y=.5*d;let S=a[0]-s[0]>y?-d:s[0]-a[0]>y?d:0;S===0&&(S=a[0]-s[2]>y?-d:s[2]-a[0]>y?d:0),a[0]+=S}Z(t,a)}function Ni(a,t,s,d){const y=Math.pow(2,d.z)*z,S=[d.x*z,d.y*z],I=[];if(!a)return I;for(const O of a)for(const j of O){const U=[j.x+S[0],j.y+S[1]];di(U,t,s,y),I.push(U)}return I}function wr(a,t,s,d){const y=Math.pow(2,d.z)*z,S=[d.x*z,d.y*z],I=[];if(!a)return I;for(const j of a){const U=[];for(const re of j){const ce=[re.x+S[0],re.y+S[1]];Z(t,ce),U.push(ce)}I.push(U)}if(t[2]-t[0]<=y/2){(O=t)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const j of I)for(const U of j)di(U,t,s,y)}var O;return I}class rr{constructor(t,s){this.type=mi,this.geojson=t,this.geometries=s}static parse(t,s){if(t.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Zs(t[1])){const d=t[1];if(d.type==="FeatureCollection")for(let y=0;y<d.features.length;++y){const S=d.features[y].geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new rr(d,d.features[y].geometry)}else if(d.type==="Feature"){const y=d.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new rr(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new rr(d,d)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(s,d){const y=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],I=s.canonicalID();if(!I)return!1;if(d.type==="Polygon"){const O=Pi(d.coordinates,S,I),j=Ni(s.geometry(),y,S,I);if(!he(y,S))return!1;for(const U of j)if(!Ve(U,O))return!1}if(d.type==="MultiPolygon"){const O=Jt(d.coordinates,S,I),j=Ni(s.geometry(),y,S,I);if(!he(y,S))return!1;for(const U of j)if(!Qe(U,O))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(s,d){const y=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],I=s.canonicalID();if(!I)return!1;if(d.type==="Polygon"){const O=Pi(d.coordinates,S,I),j=wr(s.geometry(),y,S,I);if(!he(y,S))return!1;for(const U of j)if(!Ht(U,O))return!1}if(d.type==="MultiPolygon"){const O=Jt(d.coordinates,S,I),j=wr(s.geometry(),y,S,I);if(!he(y,S))return!1;for(const U of j)if(!ci(U,O))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Rn=rr;function yn(a){if(a instanceof Ma&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof Rn)return!1;let t=!0;return a.eachChild(s=>{t&&!yn(s)&&(t=!1)}),t}function va(a){if(a instanceof Ma&&a.name==="feature-state")return!1;let t=!0;return a.eachChild(s=>{t&&!va(s)&&(t=!1)}),t}function Hr(a,t){if(a instanceof Ma&&t.indexOf(a.name)>=0)return!1;let s=!0;return a.eachChild(d=>{s&&!Hr(d,t)&&(s=!1)}),s}class _r{constructor(t,s){this.type=s.type,this.name=t,this.boundExpression=s}static parse(t,s){if(t.length!==2||typeof t[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const d=t[1];return s.scope.has(d)?new _r(d,s.scope.get(d)):s.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var zn=_r;class Qi{constructor(t,s=[],d,y=new ai,S=[]){this.registry=t,this.path=s,this.key=s.map(I=>`[${I}]`).join(""),this.scope=y,this.errors=S,this.expectedType=d}parse(t,s,d,y,S={}){return s?this.concat(s,d,y)._parse(t,S):this._parse(t,S)}_parse(t,s){function d(y,S,I){return I==="assert"?new ws(S,[y]):I==="coerce"?new us(S,[y]):y}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=t[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const S=this.registry[y];if(S){let I=S.parse(t,this);if(!I)return null;if(this.expectedType){const O=this.expectedType,j=I.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||j.kind!=="value")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||j.kind!=="value"&&j.kind!=="string"){if(this.checkSubtype(O,j))return null}else I=d(I,O,s.typeAnnotation||"coerce");else I=d(I,O,s.typeAnnotation||"assert")}if(!(I instanceof mo)&&I.type.kind!=="resolvedImage"&&Jn(I)){const O=new gl;try{I=new mo(I.type,I.evaluate(O))}catch(j){return this.error(j.message),null}}return I}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,s,d){const y=typeof t=="number"?this.path.concat(t):this.path,S=d?this.scope.concat(d):this.scope;return new Qi(this.registry,y,s||null,S,this.errors)}error(t,...s){const d=`${this.key}${s.map(y=>`[${y}]`).join("")}`;this.errors.push(new Ke(d,t))}checkSubtype(t,s){const d=La(t,s);return d&&this.error(d),d}}var zr=Qi;function Jn(a){if(a instanceof zn)return Jn(a.boundExpression);if(a instanceof Ma&&a.name==="error"||a instanceof Oo||a instanceof Rn)return!1;const t=a instanceof us||a instanceof ws;let s=!0;return a.eachChild(d=>{s=t?s&&Jn(d):s&&d instanceof mo}),!!s&&yn(a)&&Hr(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Bs(a,t){const s=a.length-1;let d,y,S=0,I=s,O=0;for(;S<=I;)if(O=Math.floor((S+I)/2),d=a[O],y=a[O+1],d<=t){if(O===s||t<y)return O;S=O+1}else{if(!(d>t))throw new Ln("Input is not a number.");I=O-1}return 0}class aa{constructor(t,s,d){this.type=t,this.input=s,this.labels=[],this.outputs=[];for(const[y,S]of d)this.labels.push(y),this.outputs.push(S)}static parse(t,s){if(t.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return s.error("Expected an even number of arguments.");const d=s.parse(t[1],1,Wt);if(!d)return null;const y=[];let S=null;s.expectedType&&s.expectedType.kind!=="value"&&(S=s.expectedType);for(let I=1;I<t.length;I+=2){const O=I===1?-1/0:t[I],j=t[I+1],U=I,re=I+1;if(typeof O!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(y.length&&y[y.length-1][0]>=O)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',U);const ce=s.parse(j,re,S);if(!ce)return null;S=S||ce.type,y.push([O,ce])}return new aa(S,d,y)}evaluate(t){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(t);const y=this.input.evaluate(t);if(y<=s[0])return d[0].evaluate(t);const S=s.length;return y>=s[S-1]?d[S-1].evaluate(t):d[Bs(s,y)].evaluate(t)}eachChild(t){t(this.input);for(const s of this.outputs)t(s)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let s=0;s<this.labels.length;s++)s>0&&t.push(this.labels[s]),t.push(this.outputs[s].serialize());return t}}var Qn=aa;function xr(a,t,s){return a*(1-s)+t*s}var sa=Object.freeze({__proto__:null,number:xr,color:function(a,t,s){return new cn(xr(a.r,t.r,s),xr(a.g,t.g,s),xr(a.b,t.b,s),xr(a.a,t.a,s))},array:function(a,t,s){return a.map((d,y)=>xr(d,t[y],s))}});const Qa=.95047,ca=1.08883,Ts=4/29,Ko=6/29,ds=3*Ko*Ko,Jo=Math.PI/180,Kr=180/Math.PI;function Ss(a){return a>.008856451679035631?Math.pow(a,1/3):a/ds+Ts}function Ks(a){return a>Ko?a*a*a:ds*(a-Ts)}function Wa(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function vl(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function As(a){const t=vl(a.r),s=vl(a.g),d=vl(a.b),y=Ss((.4124564*t+.3575761*s+.1804375*d)/Qa),S=Ss((.2126729*t+.7151522*s+.072175*d)/1);return{l:116*S-16,a:500*(y-S),b:200*(S-Ss((.0193339*t+.119192*s+.9503041*d)/ca)),alpha:a.a}}function es(a){let t=(a.l+16)/116,s=isNaN(a.a)?t:t+a.a/500,d=isNaN(a.b)?t:t-a.b/200;return t=1*Ks(t),s=Qa*Ks(s),d=ca*Ks(d),new cn(Wa(3.2404542*s-1.5371385*t-.4985314*d),Wa(-.969266*s+1.8760108*t+.041556*d),Wa(.0556434*s-.2040259*t+1.0572252*d),a.alpha)}function Sc(a,t,s){const d=t-a;return a+s*(d>180||d<-180?d-360*Math.round(d/360):d)}const go={forward:As,reverse:es,interpolate:function(a,t,s){return{l:xr(a.l,t.l,s),a:xr(a.a,t.a,s),b:xr(a.b,t.b,s),alpha:xr(a.alpha,t.alpha,s)}}},vo={forward:function(a){const{l:t,a:s,b:d}=As(a),y=Math.atan2(d,s)*Kr;return{h:y<0?y+360:y,c:Math.sqrt(s*s+d*d),l:t,alpha:a.a}},reverse:function(a){const t=a.h*Jo,s=a.c;return es({l:a.l,a:Math.cos(t)*s,b:Math.sin(t)*s,alpha:a.alpha})},interpolate:function(a,t,s){return{h:Sc(a.h,t.h,s),c:xr(a.c,t.c,s),l:xr(a.l,t.l,s),alpha:xr(a.alpha,t.alpha,s)}}};var Xl=Object.freeze({__proto__:null,lab:go,hcl:vo});class Ra{constructor(t,s,d,y,S){this.type=t,this.operator=s,this.interpolation=d,this.input=y,this.labels=[],this.outputs=[];for(const[I,O]of S)this.labels.push(I),this.outputs.push(O)}static interpolationFactor(t,s,d,y){let S=0;if(t.name==="exponential")S=Sr(s,t.base,d,y);else if(t.name==="linear")S=Sr(s,1,d,y);else if(t.name==="cubic-bezier"){const I=t.controlPoints;S=new me(I[0],I[1],I[2],I[3]).solve(Sr(s,1,d,y))}return S}static parse(t,s){let[d,y,S,...I]=t;if(!Array.isArray(y)||y.length===0)return s.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const U=y[1];if(typeof U!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:U}}else{if(y[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const U=y.slice(1);if(U.length!==4||U.some(re=>typeof re!="number"||re<0||re>1))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:U}}}if(t.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(S=s.parse(S,2,Wt),!S)return null;const O=[];let j=null;d==="interpolate-hcl"||d==="interpolate-lab"?j=Yi:s.expectedType&&s.expectedType.kind!=="value"&&(j=s.expectedType);for(let U=0;U<I.length;U+=2){const re=I[U],ce=I[U+1],ge=U+3,Te=U+4;if(typeof re!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(O.length&&O[O.length-1][0]>=re)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ge);const Ae=s.parse(ce,Te,j);if(!Ae)return null;j=j||Ae.type,O.push([re,Ae])}return j.kind==="number"||j.kind==="color"||j.kind==="array"&&j.itemType.kind==="number"&&typeof j.N=="number"?new Ra(j,d,y,S,O):s.error(`Type ${kr(j)} is not interpolatable.`)}evaluate(t){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(t);const y=this.input.evaluate(t);if(y<=s[0])return d[0].evaluate(t);const S=s.length;if(y>=s[S-1])return d[S-1].evaluate(t);const I=Bs(s,y),O=Ra.interpolationFactor(this.interpolation,y,s[I],s[I+1]),j=d[I].evaluate(t),U=d[I+1].evaluate(t);return this.operator==="interpolate"?sa[this.type.kind.toLowerCase()](j,U,O):this.operator==="interpolate-hcl"?vo.reverse(vo.interpolate(vo.forward(j),vo.forward(U),O)):go.reverse(go.interpolate(go.forward(j),go.forward(U),O))}eachChild(t){t(this.input);for(const s of this.outputs)t(s)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const s=[this.operator,t,this.input.serialize()];for(let d=0;d<this.labels.length;d++)s.push(this.labels[d],this.outputs[d].serialize());return s}}function Sr(a,t,s,d){const y=d-s,S=a-s;return y===0?0:t===1?S/y:(Math.pow(t,S)-1)/(Math.pow(t,y)-1)}var Ms=Ra;class za{constructor(t,s){this.type=t,this.args=s}static parse(t,s){if(t.length<2)return s.error("Expectected at least one argument.");let d=null;const y=s.expectedType;y&&y.kind!=="value"&&(d=y);const S=[];for(const O of t.slice(1)){const j=s.parse(O,1+S.length,d,void 0,{typeAnnotation:"omit"});if(!j)return null;d=d||j.type,S.push(j)}const I=y&&S.some(O=>La(y,O.type));return new za(I?Gi:d,S)}evaluate(t){let s,d=null,y=0;for(const S of this.args){if(y++,d=S.evaluate(t),d&&d instanceof la&&!d.available&&(s||(s=d),d=null,y===this.args.length))return s;if(d!==null)break}return d}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(s=>{t.push(s.serialize())}),t}}var ts=za;class yl{constructor(t,s){this.type=s.type,this.bindings=[].concat(t),this.result=s}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const s of this.bindings)t(s[1]);t(this.result)}static parse(t,s){if(t.length<4)return s.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const d=[];for(let S=1;S<t.length-1;S+=2){const I=t[S];if(typeof I!="string")return s.error(`Expected string, but found ${typeof I} instead.`,S);if(/[^a-zA-Z0-9_]/.test(I))return s.error("Variable names must contain only alphanumeric characters or '_'.",S);const O=s.parse(t[S+1],S+1);if(!O)return null;d.push([I,O])}const y=s.parse(t[t.length-1],t.length-1,s.expectedType,d);return y?new yl(d,y):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[s,d]of this.bindings)t.push(s,d.serialize());return t.push(this.result.serialize()),t}}var Cs=yl;class ea{constructor(t,s,d){this.type=t,this.index=s,this.input=d}static parse(t,s){if(t.length!==3)return s.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const d=s.parse(t[1],1,Wt),y=s.parse(t[2],2,rn(s.expectedType||Gi));return d&&y?new ea(y.type.itemType,d,y):null}evaluate(t){const s=this.index.evaluate(t),d=this.input.evaluate(t);if(s<0)throw new Ln(`Array index out of bounds: ${s} < 0.`);if(s>=d.length)throw new Ln(`Array index out of bounds: ${s} > ${d.length-1}.`);if(s!==Math.floor(s))throw new Ln(`Array index must be an integer, but found ${s} instead.`);return d[s]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ya=ea;class js{constructor(t,s){this.type=mi,this.needle=t,this.haystack=s}static parse(t,s){if(t.length!==3)return s.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const d=s.parse(t[1],1,Gi),y=s.parse(t[2],2,Gi);return d&&y?hs(d.type,[mi,li,Wt,Xt,Gi])?new js(d,y):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${kr(d.type)} instead`):null}evaluate(t){const s=this.needle.evaluate(t),d=this.haystack.evaluate(t);if(d==null)return!1;if(!_s(s,["boolean","string","number","null"]))throw new Ln(`Expected first argument to be of type boolean, string, number or null, but found ${kr(Tn(s))} instead.`);if(!_s(d,["string","array"]))throw new Ln(`Expected second argument to be of type array or string, but found ${kr(Tn(d))} instead.`);return d.indexOf(s)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Ya=js;class is{constructor(t,s,d){this.type=Wt,this.needle=t,this.haystack=s,this.fromIndex=d}static parse(t,s){if(t.length<=2||t.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const d=s.parse(t[1],1,Gi),y=s.parse(t[2],2,Gi);if(!d||!y)return null;if(!hs(d.type,[mi,li,Wt,Xt,Gi]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${kr(d.type)} instead`);if(t.length===4){const S=s.parse(t[3],3,Wt);return S?new is(d,y,S):null}return new is(d,y)}evaluate(t){const s=this.needle.evaluate(t),d=this.haystack.evaluate(t);if(!_s(s,["boolean","string","number","null"]))throw new Ln(`Expected first argument to be of type boolean, string, number or null, but found ${kr(Tn(s))} instead.`);if(!_s(d,["string","array"]))throw new Ln(`Expected second argument to be of type array or string, but found ${kr(Tn(d))} instead.`);if(this.fromIndex){const y=this.fromIndex.evaluate(t);return d.indexOf(s,y)}return d.indexOf(s)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Zc=is;class an{constructor(t,s,d,y,S,I){this.inputType=t,this.type=s,this.input=d,this.cases=y,this.outputs=S,this.otherwise=I}static parse(t,s){if(t.length<5)return s.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return s.error("Expected an even number of arguments.");let d,y;s.expectedType&&s.expectedType.kind!=="value"&&(y=s.expectedType);const S={},I=[];for(let U=2;U<t.length-1;U+=2){let re=t[U];const ce=t[U+1];Array.isArray(re)||(re=[re]);const ge=s.concat(U);if(re.length===0)return ge.error("Expected at least one branch label.");for(const Ae of re){if(typeof Ae!="number"&&typeof Ae!="string")return ge.error("Branch labels must be numbers or strings.");if(typeof Ae=="number"&&Math.abs(Ae)>Number.MAX_SAFE_INTEGER)return ge.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ae=="number"&&Math.floor(Ae)!==Ae)return ge.error("Numeric branch labels must be integer values.");if(d){if(ge.checkSubtype(d,Tn(Ae)))return null}else d=Tn(Ae);if(S[String(Ae)]!==void 0)return ge.error("Branch labels must be unique.");S[String(Ae)]=I.length}const Te=s.parse(ce,U,y);if(!Te)return null;y=y||Te.type,I.push(Te)}const O=s.parse(t[1],1,Gi);if(!O)return null;const j=s.parse(t[t.length-1],t.length-1,y);return j?O.type.kind!=="value"&&s.concat(1).checkSubtype(d,O.type)?null:new an(d,y,O,S,I,j):null}evaluate(t){const s=this.input.evaluate(t);return(Tn(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],s=Object.keys(this.cases).sort(),d=[],y={};for(const I of s){const O=y[this.cases[I]];O===void 0?(y[this.cases[I]]=d.length,d.push([this.cases[I],[I]])):d[O][1].push(I)}const S=I=>this.inputType.kind==="number"?Number(I):I;for(const[I,O]of d)t.push(O.length===1?S(O[0]):O.map(S)),t.push(this.outputs[I].serialize());return t.push(this.otherwise.serialize()),t}}var Is=an;class Gn{constructor(t,s,d){this.type=t,this.branches=s,this.otherwise=d}static parse(t,s){if(t.length<4)return s.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return s.error("Expected an odd number of arguments.");let d;s.expectedType&&s.expectedType.kind!=="value"&&(d=s.expectedType);const y=[];for(let I=1;I<t.length-1;I+=2){const O=s.parse(t[I],I,mi);if(!O)return null;const j=s.parse(t[I+1],I+1,d);if(!j)return null;y.push([O,j]),d=d||j.type}const S=s.parse(t[t.length-1],t.length-1,d);return S?new Gn(d,y,S):null}evaluate(t){for(const[s,d]of this.branches)if(s.evaluate(t))return d.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[s,d]of this.branches)t(s),t(d);t(this.otherwise)}outputDefined(){return this.branches.every(([t,s])=>s.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(s=>{t.push(s.serialize())}),t}}var xa=Gn;class rs{constructor(t,s,d,y){this.type=t,this.input=s,this.beginIndex=d,this.endIndex=y}static parse(t,s){if(t.length<=2||t.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const d=s.parse(t[1],1,Gi),y=s.parse(t[2],2,Wt);if(!d||!y)return null;if(!hs(d.type,[rn(Gi),li,Gi]))return s.error(`Expected first argument to be of type array or string, but found ${kr(d.type)} instead`);if(t.length===4){const S=s.parse(t[3],3,Wt);return S?new rs(d.type,d,y,S):null}return new rs(d.type,d,y)}evaluate(t){const s=this.input.evaluate(t),d=this.beginIndex.evaluate(t);if(!_s(s,["string","array"]))throw new Ln(`Expected first argument to be of type array or string, but found ${kr(Tn(s))} instead.`);if(this.endIndex){const y=this.endIndex.evaluate(t);return s.slice(d,y)}return s.slice(d)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var $a=rs;function xl(a,t){return a==="=="||a==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Qo(a,t,s,d){return d.compare(t,s)===0}function Js(a,t,s){const d=a!=="=="&&a!=="!=";return class d7{constructor(S,I,O){this.type=mi,this.lhs=S,this.rhs=I,this.collator=O,this.hasUntypedArgument=S.type.kind==="value"||I.type.kind==="value"}static parse(S,I){if(S.length!==3&&S.length!==4)return I.error("Expected two or three arguments.");const O=S[0];let j=I.parse(S[1],1,Gi);if(!j)return null;if(!xl(O,j.type))return I.concat(1).error(`"${O}" comparisons are not supported for type '${kr(j.type)}'.`);let U=I.parse(S[2],2,Gi);if(!U)return null;if(!xl(O,U.type))return I.concat(2).error(`"${O}" comparisons are not supported for type '${kr(U.type)}'.`);if(j.type.kind!==U.type.kind&&j.type.kind!=="value"&&U.type.kind!=="value")return I.error(`Cannot compare types '${kr(j.type)}' and '${kr(U.type)}'.`);d&&(j.type.kind==="value"&&U.type.kind!=="value"?j=new ws(U.type,[j]):j.type.kind!=="value"&&U.type.kind==="value"&&(U=new ws(j.type,[U])));let re=null;if(S.length===4){if(j.type.kind!=="string"&&U.type.kind!=="string"&&j.type.kind!=="value"&&U.type.kind!=="value")return I.error("Cannot use collator to compare non-string types.");if(re=I.parse(S[3],3,Rr),!re)return null}return new d7(j,U,re)}evaluate(S){const I=this.lhs.evaluate(S),O=this.rhs.evaluate(S);if(d&&this.hasUntypedArgument){const j=Tn(I),U=Tn(O);if(j.kind!==U.kind||j.kind!=="string"&&j.kind!=="number")throw new Ln(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${j.kind}, ${U.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const j=Tn(I),U=Tn(O);if(j.kind!=="string"||U.kind!=="string")return t(S,I,O)}return this.collator?s(S,I,O,this.collator.evaluate(S)):t(S,I,O)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}serialize(){const S=[a];return this.eachChild(I=>{S.push(I.serialize())}),S}}}const Qs=Js("==",function(a,t,s){return t===s},Qo),_l=Js("!=",function(a,t,s){return t!==s},function(a,t,s,d){return!Qo(0,t,s,d)}),bl=Js("<",function(a,t,s){return t<s},function(a,t,s,d){return d.compare(t,s)<0}),yo=Js(">",function(a,t,s){return t>s},function(a,t,s,d){return d.compare(t,s)>0}),Lo=Js("<=",function(a,t,s){return t<=s},function(a,t,s,d){return d.compare(t,s)<=0}),_a=Js(">=",function(a,t,s){return t>=s},function(a,t,s,d){return d.compare(t,s)>=0});class el{constructor(t,s,d,y,S,I){this.type=li,this.number=t,this.locale=s,this.currency=d,this.unit=y,this.minFractionDigits=S,this.maxFractionDigits=I}static parse(t,s){if(t.length!==3)return s.error("Expected two arguments.");const d=s.parse(t[1],1,Wt);if(!d)return null;const y=t[2];if(typeof y!="object"||Array.isArray(y))return s.error("NumberFormat options argument must be an object.");let S=null;if(y.locale&&(S=s.parse(y.locale,1,li),!S))return null;let I=null;if(y.currency&&(I=s.parse(y.currency,1,li),!I))return null;let O=null;if(y.unit&&(O=s.parse(y.unit,1,li),!O))return null;let j=null;if(y["min-fraction-digits"]&&(j=s.parse(y["min-fraction-digits"],1,Wt),!j))return null;let U=null;return y["max-fraction-digits"]&&(U=s.parse(y["max-fraction-digits"],1,Wt),!U)?null:new el(d,S,I,O,j,U)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class Vs{constructor(t){this.type=Wt,this.input=t}static parse(t,s){if(t.length!==2)return s.error(`Expected 1 argument, but found ${t.length-1} instead.`);const d=s.parse(t[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${kr(d.type)} instead.`):new Vs(d):null}evaluate(t){const s=this.input.evaluate(t);if(typeof s=="string"||Array.isArray(s))return s.length;throw new Ln(`Expected value to be of type string or array, but found ${kr(Tn(s))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(s=>{t.push(s.serialize())}),t}}const fs={"==":Qs,"!=":_l,">":yo,"<":bl,">=":_a,"<=":Lo,array:ws,at:ya,boolean:ws,case:xa,coalesce:ts,collator:Oo,format:Es,image:Zo,in:Ya,"index-of":Zc,interpolate:Ms,"interpolate-hcl":Ms,"interpolate-lab":Ms,length:Vs,let:Cs,literal:mo,match:Is,number:ws,"number-format":el,object:ws,slice:$a,step:Qn,string:ws,"to-boolean":us,"to-color":us,"to-number":us,"to-string":us,var:zn,within:Rn};function wl(a,[t,s,d,y]){t=t.evaluate(a),s=s.evaluate(a),d=d.evaluate(a);const S=y?y.evaluate(a):1,I=pl(t,s,d,S);if(I)throw new Ln(I);return new cn(t/255*S,s/255*S,d/255*S,S)}function Ro(a,t){return a in t}function at(a,t){const s=t[a];return s===void 0?null:s}function wt(a){return{type:a}}Ma.register(fs,{error:[{kind:"error"},[li],(a,[t])=>{throw new Ln(t.evaluate(a))}],typeof:[li,[Gi],(a,[t])=>kr(Tn(t.evaluate(a)))],"to-rgba":[rn(Wt,4),[Yi],(a,[t])=>t.evaluate(a).toArray()],rgb:[Yi,[Wt,Wt,Wt],wl],rgba:[Yi,[Wt,Wt,Wt,Wt],wl],has:{type:mi,overloads:[[[li],(a,[t])=>Ro(t.evaluate(a),a.properties())],[[li,Gr],(a,[t,s])=>Ro(t.evaluate(a),s.evaluate(a))]]},get:{type:Gi,overloads:[[[li],(a,[t])=>at(t.evaluate(a),a.properties())],[[li,Gr],(a,[t,s])=>at(t.evaluate(a),s.evaluate(a))]]},"feature-state":[Gi,[li],(a,[t])=>at(t.evaluate(a),a.featureState||{})],properties:[Gr,[],a=>a.properties()],"geometry-type":[li,[],a=>a.geometryType()],id:[Gi,[],a=>a.id()],zoom:[Wt,[],a=>a.globals.zoom],pitch:[Wt,[],a=>a.globals.pitch||0],"distance-from-center":[Wt,[],a=>a.distanceFromCenter()],"heatmap-density":[Wt,[],a=>a.globals.heatmapDensity||0],"line-progress":[Wt,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[Wt,[],a=>a.globals.skyRadialProgress||0],accumulated:[Gi,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[Wt,wt(Wt),(a,t)=>{let s=0;for(const d of t)s+=d.evaluate(a);return s}],"*":[Wt,wt(Wt),(a,t)=>{let s=1;for(const d of t)s*=d.evaluate(a);return s}],"-":{type:Wt,overloads:[[[Wt,Wt],(a,[t,s])=>t.evaluate(a)-s.evaluate(a)],[[Wt],(a,[t])=>-t.evaluate(a)]]},"/":[Wt,[Wt,Wt],(a,[t,s])=>t.evaluate(a)/s.evaluate(a)],"%":[Wt,[Wt,Wt],(a,[t,s])=>t.evaluate(a)%s.evaluate(a)],ln2:[Wt,[],()=>Math.LN2],pi:[Wt,[],()=>Math.PI],e:[Wt,[],()=>Math.E],"^":[Wt,[Wt,Wt],(a,[t,s])=>Math.pow(t.evaluate(a),s.evaluate(a))],sqrt:[Wt,[Wt],(a,[t])=>Math.sqrt(t.evaluate(a))],log10:[Wt,[Wt],(a,[t])=>Math.log(t.evaluate(a))/Math.LN10],ln:[Wt,[Wt],(a,[t])=>Math.log(t.evaluate(a))],log2:[Wt,[Wt],(a,[t])=>Math.log(t.evaluate(a))/Math.LN2],sin:[Wt,[Wt],(a,[t])=>Math.sin(t.evaluate(a))],cos:[Wt,[Wt],(a,[t])=>Math.cos(t.evaluate(a))],tan:[Wt,[Wt],(a,[t])=>Math.tan(t.evaluate(a))],asin:[Wt,[Wt],(a,[t])=>Math.asin(t.evaluate(a))],acos:[Wt,[Wt],(a,[t])=>Math.acos(t.evaluate(a))],atan:[Wt,[Wt],(a,[t])=>Math.atan(t.evaluate(a))],min:[Wt,wt(Wt),(a,t)=>Math.min(...t.map(s=>s.evaluate(a)))],max:[Wt,wt(Wt),(a,t)=>Math.max(...t.map(s=>s.evaluate(a)))],abs:[Wt,[Wt],(a,[t])=>Math.abs(t.evaluate(a))],round:[Wt,[Wt],(a,[t])=>{const s=t.evaluate(a);return s<0?-Math.round(-s):Math.round(s)}],floor:[Wt,[Wt],(a,[t])=>Math.floor(t.evaluate(a))],ceil:[Wt,[Wt],(a,[t])=>Math.ceil(t.evaluate(a))],"filter-==":[mi,[li,Gi],(a,[t,s])=>a.properties()[t.value]===s.value],"filter-id-==":[mi,[Gi],(a,[t])=>a.id()===t.value],"filter-type-==":[mi,[li],(a,[t])=>a.geometryType()===t.value],"filter-<":[mi,[li,Gi],(a,[t,s])=>{const d=a.properties()[t.value],y=s.value;return typeof d==typeof y&&d<y}],"filter-id-<":[mi,[Gi],(a,[t])=>{const s=a.id(),d=t.value;return typeof s==typeof d&&s<d}],"filter->":[mi,[li,Gi],(a,[t,s])=>{const d=a.properties()[t.value],y=s.value;return typeof d==typeof y&&d>y}],"filter-id->":[mi,[Gi],(a,[t])=>{const s=a.id(),d=t.value;return typeof s==typeof d&&s>d}],"filter-<=":[mi,[li,Gi],(a,[t,s])=>{const d=a.properties()[t.value],y=s.value;return typeof d==typeof y&&d<=y}],"filter-id-<=":[mi,[Gi],(a,[t])=>{const s=a.id(),d=t.value;return typeof s==typeof d&&s<=d}],"filter->=":[mi,[li,Gi],(a,[t,s])=>{const d=a.properties()[t.value],y=s.value;return typeof d==typeof y&&d>=y}],"filter-id->=":[mi,[Gi],(a,[t])=>{const s=a.id(),d=t.value;return typeof s==typeof d&&s>=d}],"filter-has":[mi,[Gi],(a,[t])=>t.value in a.properties()],"filter-has-id":[mi,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[mi,[rn(li)],(a,[t])=>t.value.indexOf(a.geometryType())>=0],"filter-id-in":[mi,[rn(Gi)],(a,[t])=>t.value.indexOf(a.id())>=0],"filter-in-small":[mi,[li,rn(Gi)],(a,[t,s])=>s.value.indexOf(a.properties()[t.value])>=0],"filter-in-large":[mi,[li,rn(Gi)],(a,[t,s])=>function(d,y,S,I){for(;S<=I;){const O=S+I>>1;if(y[O]===d)return!0;y[O]>d?I=O-1:S=O+1}return!1}(a.properties()[t.value],s.value,0,s.value.length-1)],all:{type:mi,overloads:[[[mi,mi],(a,[t,s])=>t.evaluate(a)&&s.evaluate(a)],[wt(mi),(a,t)=>{for(const s of t)if(!s.evaluate(a))return!1;return!0}]]},any:{type:mi,overloads:[[[mi,mi],(a,[t,s])=>t.evaluate(a)||s.evaluate(a)],[wt(mi),(a,t)=>{for(const s of t)if(s.evaluate(a))return!0;return!1}]]},"!":[mi,[mi],(a,[t])=>!t.evaluate(a)],"is-supported-script":[mi,[li],(a,[t])=>{const s=a.globals&&a.globals.isSupportedScript;return!s||s(t.evaluate(a))}],upcase:[li,[li],(a,[t])=>t.evaluate(a).toUpperCase()],downcase:[li,[li],(a,[t])=>t.evaluate(a).toLowerCase()],concat:[li,wt(Gi),(a,t)=>t.map(s=>Xo(s.evaluate(a))).join("")],"resolved-locale":[li,[Rr],(a,[t])=>t.evaluate(a).resolvedLocale()]});var Ft=fs;function yi(a){return{result:"success",value:a}}function Ut(a){return{result:"error",value:a}}function _i(a){return a["property-type"]==="data-driven"}function Si(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Ui(a){return!!a.expression&&a.expression.interpolated}function Ci(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function ir(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function dr(a){return a}function cr(a,t){const s=t.type==="color",d=a.stops&&typeof a.stops[0][0]=="object",y=d||!(d||a.property!==void 0),S=a.type||(Ui(t)?"exponential":"interval");if(s&&((a=gt({},a)).stops&&(a.stops=a.stops.map(U=>[U[0],cn.parse(U[1])])),a.default=cn.parse(a.default?a.default:t.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Xl[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let I,O,j;if(S==="exponential")I=Sn;else if(S==="interval")I=fr;else if(S==="categorical"){I=sn,O=Object.create(null);for(const U of a.stops)O[U[0]]=U[1];j=typeof a.stops[0][0]}else{if(S!=="identity")throw new Error(`Unknown function type "${S}"`);I=ta}if(d){const U={},re=[];for(let Te=0;Te<a.stops.length;Te++){const Ae=a.stops[Te],Be=Ae[0].zoom;U[Be]===void 0&&(U[Be]={zoom:Be,type:a.type,property:a.property,default:a.default,stops:[]},re.push(Be)),U[Be].stops.push([Ae[0].value,Ae[1]])}const ce=[];for(const Te of re)ce.push([U[Te].zoom,cr(U[Te],t)]);const ge={name:"linear"};return{kind:"composite",interpolationType:ge,interpolationFactor:Ms.interpolationFactor.bind(void 0,ge),zoomStops:ce.map(Te=>Te[0]),evaluate:({zoom:Te},Ae)=>Sn({stops:ce,base:a.base},t,Te).evaluate(Te,Ae)}}if(y){const U=S==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:U,interpolationFactor:Ms.interpolationFactor.bind(void 0,U),zoomStops:a.stops.map(re=>re[0]),evaluate:({zoom:re})=>I(a,t,re,O,j)}}return{kind:"source",evaluate(U,re){const ce=re&&re.properties?re.properties[a.property]:void 0;return ce===void 0?sr(a.default,t.default):I(a,t,ce,O,j)}}}function sr(a,t,s){return a!==void 0?a:t!==void 0?t:s!==void 0?s:void 0}function sn(a,t,s,d,y){return sr(typeof s===y?d[s]:void 0,a.default,t.default)}function fr(a,t,s){if(Ci(s)!=="number")return sr(a.default,t.default);const d=a.stops.length;if(d===1||s<=a.stops[0][0])return a.stops[0][1];if(s>=a.stops[d-1][0])return a.stops[d-1][1];const y=Bs(a.stops.map(S=>S[0]),s);return a.stops[y][1]}function Sn(a,t,s){const d=a.base!==void 0?a.base:1;if(Ci(s)!=="number")return sr(a.default,t.default);const y=a.stops.length;if(y===1||s<=a.stops[0][0])return a.stops[0][1];if(s>=a.stops[y-1][0])return a.stops[y-1][1];const S=Bs(a.stops.map(re=>re[0]),s),I=function(re,ce,ge,Te){const Ae=Te-ge,Be=re-ge;return Ae===0?0:ce===1?Be/Ae:(Math.pow(ce,Be)-1)/(Math.pow(ce,Ae)-1)}(s,d,a.stops[S][0],a.stops[S+1][0]),O=a.stops[S][1],j=a.stops[S+1][1];let U=sa[t.type]||dr;if(a.colorSpace&&a.colorSpace!=="rgb"){const re=Xl[a.colorSpace];U=(ce,ge)=>re.reverse(re.interpolate(re.forward(ce),re.forward(ge),I))}return typeof O.evaluate=="function"?{evaluate(...re){const ce=O.evaluate.apply(void 0,re),ge=j.evaluate.apply(void 0,re);if(ce!==void 0&&ge!==void 0)return U(ce,ge,I)}}:U(O,j,I)}function ta(a,t,s){return t.type==="color"?s=cn.parse(s):t.type==="formatted"?s=nn.fromString(s.toString()):t.type==="resolvedImage"?s=la.fromString(s.toString()):Ci(s)===t.type||t.type==="enum"&&t.values[s]||(s=void 0),sr(s,a.default,t.default)}class ba{constructor(t,s){this.expression=t,this._warningHistory={},this._evaluator=new gl,this._defaultValue=s?function(d){return d.type==="color"&&(ir(d.default)||Array.isArray(d.default))?new cn(0,0,0,0):d.type==="color"?cn.parse(d.default)||null:d.default===void 0?null:d.default}(s):null,this._enumValues=s&&s.type==="enum"?s.values:null}evaluateWithoutErrorHandling(t,s,d,y,S,I,O,j){return this._evaluator.globals=t,this._evaluator.feature=s,this._evaluator.featureState=d,this._evaluator.canonical=y||null,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=I,this._evaluator.featureTileCoord=O||null,this._evaluator.featureDistanceData=j||null,this.expression.evaluate(this._evaluator)}evaluate(t,s,d,y,S,I,O,j){this._evaluator.globals=t,this._evaluator.feature=s||null,this._evaluator.featureState=d||null,this._evaluator.canonical=y||null,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=I||null,this._evaluator.featureTileCoord=O||null,this._evaluator.featureDistanceData=j||null;try{const U=this.expression.evaluate(this._evaluator);if(U==null||typeof U=="number"&&U!=U)return this._defaultValue;if(this._enumValues&&!(U in this._enumValues))throw new Ln(`Expected value to be one of ${Object.keys(this._enumValues).map(re=>JSON.stringify(re)).join(", ")}, but found ${JSON.stringify(U)} instead.`);return U}catch(U){return this._warningHistory[U.message]||(this._warningHistory[U.message]=!0,typeof console<"u"&&console.warn(U.message)),this._defaultValue}}}function Xr(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in Ft}function Ca(a,t){const s=new zr(Ft,[],t?function(y){const S={color:Yi,string:li,number:Wt,enum:li,boolean:mi,formatted:vn,resolvedImage:qn};return y.type==="array"?rn(S[y.value]||Gi,y.length):S[y.type]}(t):void 0),d=s.parse(a,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?yi(new ba(d,t)):Ut(s.errors)}class ha{constructor(t,s){this.kind=t,this._styleExpression=s,this.isStateDependent=t!=="constant"&&!va(s.expression)}evaluateWithoutErrorHandling(t,s,d,y,S,I){return this._styleExpression.evaluateWithoutErrorHandling(t,s,d,y,S,I)}evaluate(t,s,d,y,S,I){return this._styleExpression.evaluate(t,s,d,y,S,I)}}class Yn{constructor(t,s,d,y){this.kind=t,this.zoomStops=d,this._styleExpression=s,this.isStateDependent=t!=="camera"&&!va(s.expression),this.interpolationType=y}evaluateWithoutErrorHandling(t,s,d,y,S,I){return this._styleExpression.evaluateWithoutErrorHandling(t,s,d,y,S,I)}evaluate(t,s,d,y,S,I){return this._styleExpression.evaluate(t,s,d,y,S,I)}interpolationFactor(t,s,d){return this.interpolationType?Ms.interpolationFactor(this.interpolationType,t,s,d):0}}function Zl(a,t){if((a=Ca(a,t)).result==="error")return a;const s=a.value.expression,d=yn(s);if(!d&&!_i(t))return Ut([new Ke("","data expressions not supported")]);const y=Hr(s,["zoom","pitch","distance-from-center"]);if(!y&&!Si(t))return Ut([new Ke("","zoom expressions not supported")]);const S=eo(s);return S||y?S instanceof Ke?Ut([S]):S instanceof Ms&&!Ui(t)?Ut([new Ke("",'"interpolate" expressions cannot be used with this property')]):yi(S?new Yn(d?"camera":"composite",a.value,S.labels,S instanceof Ms?S.interpolation:void 0):new ha(d?"constant":"source",a.value)):Ut([new Ke("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class xo{constructor(t,s){this._parameters=t,this._specification=s,gt(this,cr(this._parameters,this._specification))}static deserialize(t){return new xo(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function eo(a){let t=null;if(a instanceof Cs)t=eo(a.result);else if(a instanceof ts){for(const s of a.args)if(t=eo(s),t)break}else(a instanceof Qn||a instanceof Ms)&&a.input instanceof Ma&&a.input.name==="zoom"&&(t=a);return t instanceof Ke||a.eachChild(s=>{const d=eo(s);d instanceof Ke?t=d:!t&&d?t=new Ke("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&d&&t!==d&&(t=new Ke("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}class Hi{constructor(t,s,d,y){this.message=(t?`${t}: `:"")+d,y&&(this.identifier=y),s!=null&&s.__line__&&(this.line=s.__line__)}}function ks(a){const t=a.key,s=a.value,d=a.valueSpec||{},y=a.objectElementValidators||{},S=a.style,I=a.styleSpec;let O=[];const j=Ci(s);if(j!=="object")return[new Hi(t,s,`object expected, ${j} found`)];for(const U in s){const re=U.split(".")[0],ce=d[re]||d["*"];let ge;y[re]?ge=y[re]:d[re]?ge=Ia:y["*"]?ge=y["*"]:d["*"]&&(ge=Ia),ge?O=O.concat(ge({key:(t&&`${t}.`)+U,value:s[U],valueSpec:ce,style:S,styleSpec:I,object:s,objectKey:U},s)):O.push(new Hi(t,s[U],`unknown property "${U}"`))}for(const U in d)y[U]||d[U].required&&d[U].default===void 0&&s[U]===void 0&&O.push(new Hi(t,s,`missing required property "${U}"`));return O}function ql(a){const t=a.value,s=a.valueSpec,d=a.style,y=a.styleSpec,S=a.key,I=a.arrayElementValidator||Ia;if(Ci(t)!=="array")return[new Hi(S,t,`array expected, ${Ci(t)} found`)];if(s.length&&t.length!==s.length)return[new Hi(S,t,`array length ${s.length} expected, length ${t.length} found`)];if(s["min-length"]&&t.length<s["min-length"])return[new Hi(S,t,`array length at least ${s["min-length"]} expected, length ${t.length} found`)];let O={type:s.value,values:s.values,minimum:s.minimum,maximum:s.maximum,function:void 0};y.$version<7&&(O.function=s.function),Ci(s.value)==="object"&&(O=s.value);let j=[];for(let U=0;U<t.length;U++)j=j.concat(I({array:t,arrayIndex:U,value:t[U],valueSpec:O,style:d,styleSpec:y,key:`${S}[${U}]`}));return j}function Eh(a){const t=a.key,s=a.value,d=a.valueSpec;let y=Ci(s);if(y==="number"&&s!=s&&(y="NaN"),y!=="number")return[new Hi(t,s,`number expected, ${y} found`)];if("minimum"in d){let S=d.minimum;if(Ci(d.minimum)==="array"&&(S=d.minimum[a.arrayIndex]),s<S)return[new Hi(t,s,`${s} is less than the minimum value ${S}`)]}if("maximum"in d){let S=d.maximum;if(Ci(d.maximum)==="array"&&(S=d.maximum[a.arrayIndex]),s>S)return[new Hi(t,s,`${s} is greater than the maximum value ${S}`)]}return[]}function Th(a){const t=a.valueSpec,s=B(a.value.type);let d,y,S,I={};const O=s!=="categorical"&&a.value.property===void 0,j=!O,U=Ci(a.value.stops)==="array"&&Ci(a.value.stops[0])==="array"&&Ci(a.value.stops[0][0])==="object",re=ks({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Te){if(s==="identity")return[new Hi(Te.key,Te.value,'identity function may not have a "stops" property')];let Ae=[];const Be=Te.value;return Ae=Ae.concat(ql({key:Te.key,value:Be,valueSpec:Te.valueSpec,style:Te.style,styleSpec:Te.styleSpec,arrayElementValidator:ce})),Ci(Be)==="array"&&Be.length===0&&Ae.push(new Hi(Te.key,Be,"array must have at least one stop")),Ae},default:function(Te){return Ia({key:Te.key,value:Te.value,valueSpec:t,style:Te.style,styleSpec:Te.styleSpec})}}});return s==="identity"&&O&&re.push(new Hi(a.key,a.value,'missing required property "property"')),s==="identity"||a.value.stops||re.push(new Hi(a.key,a.value,'missing required property "stops"')),s==="exponential"&&a.valueSpec.expression&&!Ui(a.valueSpec)&&re.push(new Hi(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(j&&!_i(a.valueSpec)?re.push(new Hi(a.key,a.value,"property functions not supported")):O&&!Si(a.valueSpec)&&re.push(new Hi(a.key,a.value,"zoom functions not supported"))),s!=="categorical"&&!U||a.value.property!==void 0||re.push(new Hi(a.key,a.value,'"property" property is required')),re;function ce(Te){let Ae=[];const Be=Te.value,nt=Te.key;if(Ci(Be)!=="array")return[new Hi(nt,Be,`array expected, ${Ci(Be)} found`)];if(Be.length!==2)return[new Hi(nt,Be,`array length 2 expected, length ${Be.length} found`)];if(U){if(Ci(Be[0])!=="object")return[new Hi(nt,Be,`object expected, ${Ci(Be[0])} found`)];if(Be[0].zoom===void 0)return[new Hi(nt,Be,"object stop key must have zoom")];if(Be[0].value===void 0)return[new Hi(nt,Be,"object stop key must have value")];const ft=B(Be[0].zoom);if(typeof ft!="number")return[new Hi(nt,Be[0].zoom,"stop zoom values must be numbers")];if(S&&S>ft)return[new Hi(nt,Be[0].zoom,"stop zoom values must appear in ascending order")];ft!==S&&(S=ft,y=void 0,I={}),Ae=Ae.concat(ks({key:`${nt}[0]`,value:Be[0],valueSpec:{zoom:{}},style:Te.style,styleSpec:Te.styleSpec,objectElementValidators:{zoom:Eh,value:ge}}))}else Ae=Ae.concat(ge({key:`${nt}[0]`,value:Be[0],valueSpec:{},style:Te.style,styleSpec:Te.styleSpec},Be));return Xr(se(Be[1]))?Ae.concat([new Hi(`${nt}[1]`,Be[1],"expressions are not allowed in function stops.")]):Ae.concat(Ia({key:`${nt}[1]`,value:Be[1],valueSpec:t,style:Te.style,styleSpec:Te.styleSpec}))}function ge(Te,Ae){const Be=Ci(Te.value),nt=B(Te.value),ft=Te.value!==null?Te.value:Ae;if(d){if(Be!==d)return[new Hi(Te.key,ft,`${Be} stop domain type must match previous stop domain type ${d}`)]}else d=Be;if(Be!=="number"&&Be!=="string"&&Be!=="boolean"&&typeof nt!="number"&&typeof nt!="string"&&typeof nt!="boolean")return[new Hi(Te.key,ft,"stop domain value must be a number, string, or boolean")];if(Be!=="number"&&s!=="categorical"){let Et=`number expected, ${Be} found`;return _i(t)&&s===void 0&&(Et+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Hi(Te.key,ft,Et)]}return s!=="categorical"||Be!=="number"||typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt?s!=="categorical"&&Be==="number"&&typeof nt=="number"&&typeof y=="number"&&y!==void 0&&nt<y?[new Hi(Te.key,ft,"stop domain values must appear in ascending order")]:(y=nt,s==="categorical"&&nt in I?[new Hi(Te.key,ft,"stop domain values must be unique")]:(I[nt]=!0,[])):[new Hi(Te.key,ft,`integer expected, found ${String(nt)}`)]}}function El(a){const t=(a.expressionContext==="property"?Zl:Ca)(se(a.value),a.valueSpec);if(t.result==="error")return t.value.map(d=>new Hi(`${a.key}${d.key}`,a.value,d.message));const s=t.value.expression||t.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!s.outputDefined())return[new Hi(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!va(s))return[new Hi(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Kl(s,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!Hr(s,["zoom","feature-state"]))return[new Hi(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!yn(s))return[new Hi(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Kl(a,t){const s=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const y of t.valueSpec.expression.parameters)s.delete(y);if(s.size===0)return[];const d=[];return a instanceof Ma&&s.has(a.name)?[new Hi(t.key,t.value,`["${a.name}"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(a.eachChild(y=>{d.push(...Kl(y,t))}),d)}function Jl(a){const t=a.key,s=a.value,d=a.valueSpec,y=[];return Array.isArray(d.values)?d.values.indexOf(B(s))===-1&&y.push(new Hi(t,s,`expected one of [${d.values.join(", ")}], ${JSON.stringify(s)} found`)):Object.keys(d.values).indexOf(B(s))===-1&&y.push(new Hi(t,s,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(s)} found`)),y}function to(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const t of a.slice(1))if(!to(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function _o(a,t="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};to(a)||(a=il(a));const s=a;let d=!0;try{d=function(U){if(!tl(U))return U;let re=se(U);return Tl(re),re=Na(re),re}(s)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(s,null,2)}
        `)}const y=Le[`filter_${t}`],S=Ca(d,y);let I=null;if(S.result==="error")throw new Error(S.value.map(U=>`${U.key}: ${U.message}`).join(", "));I=(U,re,ce)=>S.value.evaluate(U,re,{},ce);let O=null,j=null;if(d!==s){const U=Ca(s,y);if(U.result==="error")throw new Error(U.value.map(re=>`${re.key}: ${re.message}`).join(", "));O=(re,ce,ge,Te,Ae)=>U.value.evaluate(re,ce,{},ge,void 0,void 0,Te,Ae),j=!yn(U.value.expression)}return{filter:I,dynamicFilter:O||void 0,needGeometry:Fa(d),needFeature:!!j}}function Na(a){if(!Array.isArray(a))return a;const t=function(s){if(qc.has(s[0])){for(let d=1;d<s.length;d++)if(tl(s[d]))return!0}return s}(a);return t===!0?t:t.map(s=>Na(s))}function Tl(a){let t=!1;const s=[];if(a[0]==="case"){for(let d=1;d<a.length-1;d+=2)t=t||tl(a[d]),s.push(a[d+1]);s.push(a[a.length-1])}else if(a[0]==="match"){t=t||tl(a[1]);for(let d=2;d<a.length-1;d+=2)s.push(a[d+1]);s.push(a[a.length-1])}else if(a[0]==="step"){t=t||tl(a[1]);for(let d=1;d<a.length-1;d+=2)s.push(a[d+1])}t&&(a.length=0,a.push("any",...s));for(let d=1;d<a.length;d++)Tl(a[d])}function tl(a){if(!Array.isArray(a))return!1;if((t=a[0])==="pitch"||t==="distance-from-center")return!0;var t;for(let s=1;s<a.length;s++)if(tl(a[s]))return!0;return!1}const qc=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ql(a,t){return a<t?-1:a>t?1:0}function Fa(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let t=1;t<a.length;t++)if(Fa(a[t]))return!0;return!1}function il(a){if(!a)return!0;const t=a[0];return a.length<=1?t!=="any":t==="=="?Kc(a[1],a[2],"=="):t==="!="?bo(Kc(a[1],a[2],"==")):t==="<"||t===">"||t==="<="||t===">="?Kc(a[1],a[2],t):t==="any"?(s=a.slice(1),["any"].concat(s.map(il))):t==="all"?["all"].concat(a.slice(1).map(il)):t==="none"?["all"].concat(a.slice(1).map(il).map(bo)):t==="in"?ec(a[1],a.slice(2)):t==="!in"?bo(ec(a[1],a.slice(2))):t==="has"?rl(a[1]):t==="!has"?bo(rl(a[1])):t!=="within"||a;var s}function Kc(a,t,s){switch(a){case"$type":return[`filter-type-${s}`,t];case"$id":return[`filter-id-${s}`,t];default:return[`filter-${s}`,a,t]}}function ec(a,t){if(t.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(s=>typeof s!=typeof t[0])?["filter-in-large",a,["literal",t.sort(Ql)]]:["filter-in-small",a,["literal",t]]}}function rl(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function bo(a){return["!",a]}function tc(a){return to(se(a.value))?El(gt({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):io(a)}function io(a){const t=a.value,s=a.key;if(Ci(t)!=="array")return[new Hi(s,t,`array expected, ${Ci(t)} found`)];const d=a.styleSpec;let y,S=[];if(t.length<1)return[new Hi(s,t,"filter array must have at least 1 element")];switch(S=S.concat(Jl({key:`${s}[0]`,value:t[0],valueSpec:d.filter_operator,style:a.style,styleSpec:a.styleSpec})),B(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&B(t[1])==="$type"&&S.push(new Hi(s,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&S.push(new Hi(s,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(y=Ci(t[1]),y!=="string"&&S.push(new Hi(`${s}[1]`,t[1],`string expected, ${y} found`)));for(let I=2;I<t.length;I++)y=Ci(t[I]),B(t[1])==="$type"?S=S.concat(Jl({key:`${s}[${I}]`,value:t[I],valueSpec:d.geometry_type,style:a.style,styleSpec:a.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&S.push(new Hi(`${s}[${I}]`,t[I],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let I=1;I<t.length;I++)S=S.concat(io({key:`${s}[${I}]`,value:t[I],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":y=Ci(t[1]),t.length!==2?S.push(new Hi(s,t,`filter array for "${t[0]}" operator must have 2 elements`)):y!=="string"&&S.push(new Hi(`${s}[1]`,t[1],`string expected, ${y} found`));break;case"within":y=Ci(t[1]),t.length!==2?S.push(new Hi(s,t,`filter array for "${t[0]}" operator must have 2 elements`)):y!=="object"&&S.push(new Hi(`${s}[1]`,t[1],`object expected, ${y} found`))}return S}function wo(a,t){const s=a.key,d=a.style,y=a.styleSpec,S=a.value,I=a.objectKey,O=y[`${t}_${a.layerType}`];if(!O)return[];const j=I.match(/^(.*)-transition$/);if(t==="paint"&&j&&O[j[1]]&&O[j[1]].transition)return Ia({key:s,value:S,valueSpec:y.transition,style:d,styleSpec:y});const U=a.valueSpec||O[I];if(!U)return[new Hi(s,S,`unknown property "${I}"`)];let re;if(Ci(S)==="string"&&_i(U)&&!U.tokens&&(re=/^{([^}]+)}$/.exec(S)))return[new Hi(s,S,`"${I}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(re[1])} }\`.`)];const ce=[];return a.layerType==="symbol"&&(I==="text-field"&&d&&!d.glyphs&&ce.push(new Hi(s,S,'use of "text-field" requires a style "glyphs" property')),I==="text-font"&&ir(se(S))&&B(S.type)==="identity"&&ce.push(new Hi(s,S,'"text-font" does not support identity functions'))),ce.concat(Ia({key:a.key,value:S,valueSpec:U,style:d,styleSpec:y,expressionContext:"property",propertyType:t,propertyKey:I}))}function Eo(a){return wo(a,"paint")}function Ac(a){return wo(a,"layout")}function Mc(a){let t=[];const s=a.value,d=a.key,y=a.style,S=a.styleSpec;s.type||s.ref||t.push(new Hi(d,s,'either "type" or "ref" is required'));let I=B(s.type);const O=B(s.ref);if(s.id){const j=B(s.id);for(let U=0;U<a.arrayIndex;U++){const re=y.layers[U];B(re.id)===j&&t.push(new Hi(d,s.id,`duplicate layer id "${s.id}", previously used at line ${re.id.__line__}`))}}if("ref"in s){let j;["type","source","source-layer","filter","layout"].forEach(U=>{U in s&&t.push(new Hi(d,s[U],`"${U}" is prohibited for ref layers`))}),y.layers.forEach(U=>{B(U.id)===O&&(j=U)}),j?j.ref?t.push(new Hi(d,s.ref,"ref cannot reference another ref layer")):I=B(j.type):typeof O=="string"&&t.push(new Hi(d,s.ref,`ref layer "${O}" not found`))}else if(I!=="background"&&I!=="sky")if(s.source){const j=y.sources&&y.sources[s.source],U=j&&B(j.type);j?U==="vector"&&I==="raster"?t.push(new Hi(d,s.source,`layer "${s.id}" requires a raster source`)):U==="raster"&&I!=="raster"?t.push(new Hi(d,s.source,`layer "${s.id}" requires a vector source`)):U!=="vector"||s["source-layer"]?U==="raster-dem"&&I!=="hillshade"?t.push(new Hi(d,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):I!=="line"||!s.paint||!s.paint["line-gradient"]&&!s.paint["line-trim-offset"]||U==="geojson"&&j.lineMetrics||t.push(new Hi(d,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Hi(d,s,`layer "${s.id}" must specify a "source-layer"`)):t.push(new Hi(d,s.source,`source "${s.source}" not found`))}else t.push(new Hi(d,s,'missing required property "source"'));return t=t.concat(ks({key:d,value:s,valueSpec:S.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ia({key:`${d}.type`,value:s.type,valueSpec:S.layer.type,style:a.style,styleSpec:a.styleSpec,object:s,objectKey:"type"}),filter:j=>tc(gt({layerType:I},j)),layout:j=>ks({layer:s,key:j.key,value:j.value,valueSpec:{},style:j.style,styleSpec:j.styleSpec,objectElementValidators:{"*":U=>Ac(gt({layerType:I},U))}}),paint:j=>ks({layer:s,key:j.key,value:j.value,valueSpec:{},style:j.style,styleSpec:j.styleSpec,objectElementValidators:{"*":U=>Eo(gt({layerType:I},U))}})}})),t}function To(a){const t=a.value,s=a.key,d=Ci(t);return d!=="string"?[new Hi(s,t,`string expected, ${d} found`)]:[]}const Jc={promoteId:function({key:a,value:t}){if(Ci(t)==="string")return To({key:a,value:t});{const s=[];for(const d in t)s.push(...To({key:`${a}.${d}`,value:t[d]}));return s}}};function Sh(a){const t=a.value,s=a.key,d=a.styleSpec,y=a.style;if(!t.type)return[new Hi(s,t,'"type" is required')];const S=B(t.type);let I;switch(S){case"vector":case"raster":case"raster-dem":return I=ks({key:s,value:t,valueSpec:d[`source_${S.replace("-","_")}`],style:a.style,styleSpec:d,objectElementValidators:Jc}),I;case"geojson":if(I=ks({key:s,value:t,valueSpec:d.source_geojson,style:y,styleSpec:d,objectElementValidators:Jc}),t.cluster)for(const O in t.clusterProperties){const[j,U]=t.clusterProperties[O],re=typeof j=="string"?[j,["accumulated"],["get",O]]:j;I.push(...El({key:`${s}.${O}.map`,value:U,expressionContext:"cluster-map"})),I.push(...El({key:`${s}.${O}.reduce`,value:re,expressionContext:"cluster-reduce"}))}return I;case"video":return ks({key:s,value:t,valueSpec:d.source_video,style:y,styleSpec:d});case"image":return ks({key:s,value:t,valueSpec:d.source_image,style:y,styleSpec:d});case"canvas":return[new Hi(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Jl({key:`${s}.type`,value:t.type,valueSpec:{values:Ah(d)},style:y,styleSpec:d})}}function Ah(a){return a.source.reduce((t,s)=>{const d=a[s];return d.type.type==="enum"&&(t=t.concat(Object.keys(d.type.values))),t},[])}function Cc(a){const t=a.value,s=a.styleSpec,d=s.light,y=a.style;let S=[];const I=Ci(t);if(t===void 0)return S;if(I!=="object")return S=S.concat([new Hi("light",t,`object expected, ${I} found`)]),S;for(const O in t){const j=O.match(/^(.*)-transition$/);S=S.concat(j&&d[j[1]]&&d[j[1]].transition?Ia({key:O,value:t[O],valueSpec:s.transition,style:y,styleSpec:s}):d[O]?Ia({key:O,value:t[O],valueSpec:d[O],style:y,styleSpec:s}):[new Hi(O,t[O],`unknown property "${O}"`)])}return S}function zo(a){const t=a.value,s=a.key,d=a.style,y=a.styleSpec,S=y.terrain;let I=[];const O=Ci(t);if(t===void 0)return I;if(O!=="object")return I=I.concat([new Hi("terrain",t,`object expected, ${O} found`)]),I;for(const j in t){const U=j.match(/^(.*)-transition$/);I=I.concat(U&&S[U[1]]&&S[U[1]].transition?Ia({key:j,value:t[j],valueSpec:y.transition,style:d,styleSpec:y}):S[j]?Ia({key:j,value:t[j],valueSpec:S[j],style:d,styleSpec:y}):[new Hi(j,t[j],`unknown property "${j}"`)])}if(t.source){const j=d.sources&&d.sources[t.source],U=j&&B(j.type);j?U!=="raster-dem"&&I.push(new Hi(s,t.source,`terrain cannot be used with a source of type ${String(U)}, it only be used with a "raster-dem" source type`)):I.push(new Hi(s,t.source,`source "${t.source}" not found`))}else I.push(new Hi(s,t,'terrain is missing required property "source"'));return I}function Ic(a){const t=a.value,s=a.style,d=a.styleSpec,y=d.fog;let S=[];const I=Ci(t);if(t===void 0)return S;if(I!=="object")return S=S.concat([new Hi("fog",t,`object expected, ${I} found`)]),S;for(const O in t){const j=O.match(/^(.*)-transition$/);S=S.concat(j&&y[j[1]]&&y[j[1]].transition?Ia({key:O,value:t[O],valueSpec:d.transition,style:s,styleSpec:d}):y[O]?Ia({key:O,value:t[O],valueSpec:y[O],style:s,styleSpec:d}):[new Hi(O,t[O],`unknown property "${O}"`)])}return S}const Mh={"*":()=>[],array:ql,boolean:function(a){const t=a.value,s=a.key,d=Ci(t);return d!=="boolean"?[new Hi(s,t,`boolean expected, ${d} found`)]:[]},number:Eh,color:function(a){const t=a.key,s=a.value,d=Ci(s);return d!=="string"?[new Hi(t,s,`color expected, ${d} found`)]:Un(s)===null?[new Hi(t,s,`color expected, "${s}" found`)]:[]},enum:Jl,filter:tc,function:Th,layer:Mc,object:ks,source:Sh,light:Cc,terrain:zo,fog:Ic,string:To,formatted:function(a){return To(a).length===0?[]:El(a)},resolvedImage:function(a){return To(a).length===0?[]:El(a)},projection:function(a){const t=a.value,s=a.styleSpec,d=s.projection,y=a.style;let S=[];const I=Ci(t);if(I==="object")for(const O in t)S=S.concat(Ia({key:O,value:t[O],valueSpec:d[O],style:y,styleSpec:s}));else I!=="string"&&(S=S.concat([new Hi("projection",t,`object or string expected, ${I} found`)]));return S}};function Ia(a){const t=a.value,s=a.valueSpec,d=a.styleSpec;return s.expression&&ir(B(t))?Th(a):s.expression&&Xr(se(t))?El(a):s.type&&Mh[s.type]?Mh[s.type](a):ks(gt({},a,{valueSpec:s.type?d[s.type]:s}))}function tu(a){const t=a.value,s=a.key,d=To(a);return d.length||(t.indexOf("{fontstack}")===-1&&d.push(new Hi(s,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&d.push(new Hi(s,t,'"glyphs" url must include a "{range}" token'))),d}function Sl(a,t=Le){return _t(Ia({key:"",value:a,valueSpec:t.$root,styleSpec:t,style:a,objectElementValidators:{glyphs:tu,"*":()=>[]}}))}const ti=a=>_t(Eo(a)),Rt=a=>_t(Ac(a));function _t(a){return a.slice().sort((t,s)=>t.line&&s.line?t.line-s.line:0)}function Ee(a,t){let s=!1;if(t&&t.length)for(const d of t)a.fire(new Oe(new Error(d.message))),s=!0;return s}var et=vt;function vt(a,t,s){var d=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var y=new Int32Array(this.arrayBuffer);a=y[0],this.d=(t=y[1])+2*(s=y[2]);for(var S=0;S<this.d*this.d;S++){var I=y[3+S],O=y[3+S+1];d.push(I===O?null:y.subarray(I,O))}var j=y[3+d.length+1];this.keys=y.subarray(y[3+d.length],j),this.bboxes=y.subarray(j),this.insert=this._insertReadonly}else{this.d=t+2*s;for(var U=0;U<this.d*this.d;U++)d.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=a,this.padding=s,this.scale=t/a,this.uid=0;var re=s/t*a;this.min=-re,this.max=a+re}vt.prototype.insert=function(a,t,s,d,y){this._forEachCell(t,s,d,y,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(t),this.bboxes.push(s),this.bboxes.push(d),this.bboxes.push(y)},vt.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},vt.prototype._insertCell=function(a,t,s,d,y,S){this.cells[y].push(S)},vt.prototype.query=function(a,t,s,d,y){var S=this.min,I=this.max;if(a<=S&&t<=S&&I<=s&&I<=d&&!y)return Array.prototype.slice.call(this.keys);var O=[];return this._forEachCell(a,t,s,d,this._queryCell,O,{},y),O},vt.prototype._queryCell=function(a,t,s,d,y,S,I,O){var j=this.cells[y];if(j!==null)for(var U=this.keys,re=this.bboxes,ce=0;ce<j.length;ce++){var ge=j[ce];if(I[ge]===void 0){var Te=4*ge;(O?O(re[Te+0],re[Te+1],re[Te+2],re[Te+3]):a<=re[Te+2]&&t<=re[Te+3]&&s>=re[Te+0]&&d>=re[Te+1])?(I[ge]=!0,S.push(U[ge])):I[ge]=!1}}},vt.prototype._forEachCell=function(a,t,s,d,y,S,I,O){for(var j=this._convertToCellCoord(a),U=this._convertToCellCoord(t),re=this._convertToCellCoord(s),ce=this._convertToCellCoord(d),ge=j;ge<=re;ge++)for(var Te=U;Te<=ce;Te++){var Ae=this.d*Te+ge;if((!O||O(this._convertFromCellCoord(ge),this._convertFromCellCoord(Te),this._convertFromCellCoord(ge+1),this._convertFromCellCoord(Te+1)))&&y.call(this,a,t,s,d,Ae,S,I,O))return}},vt.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},vt.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},vt.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,t=3+this.cells.length+1+1,s=0,d=0;d<this.cells.length;d++)s+=this.cells[d].length;var y=new Int32Array(t+s+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;for(var S=t,I=0;I<a.length;I++){var O=a[I];y[3+I]=S,y.set(O,S),S+=O.length}return y[3+a.length]=S,y.set(this.keys,S),y[3+a.length+1]=S+=this.keys.length,y.set(this.bboxes,S),S+=this.bboxes.length,y.buffer};const oi={};function Nt(a,t,s={}){Object.defineProperty(a,"_classRegistryKey",{value:t,writeable:!1}),oi[t]={klass:a,omit:s.omit||[]}}Nt(Object,"Object"),et.serialize=function(a,t){const s=a.toArrayBuffer();return t&&t.push(s),{buffer:s}},et.deserialize=function(a){return new et(a.buffer)},Object.defineProperty(et,"name",{value:"Grid"}),Nt(et,"Grid"),Nt(cn,"Color"),Nt(Error,"Error"),Nt(ma,"AJAXError"),Nt(la,"ResolvedImage"),Nt(xo,"StylePropertyFunction"),Nt(ba,"StyleExpression",{omit:["_evaluator"]}),Nt(Yn,"ZoomDependentExpression"),Nt(ha,"ZoomConstantExpression"),Nt(Ma,"CompoundExpression",{omit:["_evaluate"]});for(const a in Ft)oi[Ft[a]._classRegistryKey]||Nt(Ft[a],`Expression${a}`);function zi(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function Er(a){return L.ImageBitmap&&a instanceof L.ImageBitmap}function Pr(a,t){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(zi(a)||Er(a))return t&&t.push(a),a;if(ArrayBuffer.isView(a)){const s=a;return t&&t.push(s.buffer),s}if(a instanceof L.ImageData)return t&&t.push(a.data.buffer),a;if(Array.isArray(a)){const s=[];for(const d of a)s.push(Pr(d,t));return s}if(typeof a=="object"){const s=a.constructor,d=s._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const y=s.serialize?s.serialize(a,t):{};if(!s.serialize){for(const S in a)a.hasOwnProperty(S)&&(oi[d].omit.indexOf(S)>=0||(y[S]=Pr(a[S],t)));a instanceof Error&&(y.message=a.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(y.$name=d),y}throw new Error("can't serialize object of type "+typeof a)}function Mr(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||zi(a)||Er(a)||ArrayBuffer.isView(a)||a instanceof L.ImageData)return a;if(Array.isArray(a))return a.map(Mr);if(typeof a=="object"){const t=a.$name||"Object",{klass:s}=oi[t];if(!s)throw new Error(`can't deserialize unregistered class ${t}`);if(s.deserialize)return s.deserialize(a);const d=Object.create(s.prototype);for(const y of Object.keys(a))y!=="$name"&&(d[y]=Mr(a[y]));return d}throw new Error("can't deserialize object of type "+typeof a)}const xn=a=>a>=1536&&a<=1791,ps=a=>a>=1872&&a<=1919,ns=a=>a>=2208&&a<=2303,So=a=>a>=11904&&a<=12031,ic=a=>a>=12032&&a<=12255,Us=a=>a>=12272&&a<=12287,No=a=>a>=12288&&a<=12351,kc=a=>a>=12352&&a<=12447,Ch=a=>a>=12448&&a<=12543,nl=a=>a>=12544&&a<=12591,iu=a=>a>=12704&&a<=12735,Hu=a=>a>=12736&&a<=12783,Wu=a=>a>=12784&&a<=12799,ru=a=>a>=12800&&a<=13055,Yu=a=>a>=13056&&a<=13311,u=a=>a>=13312&&a<=19903,_=a=>a>=19968&&a<=40959,M=a=>a>=40960&&a<=42127,D=a=>a>=42128&&a<=42191,F=a=>a>=44032&&a<=55215,Y=a=>a>=63744&&a<=64255,f=a=>a>=64336&&a<=65023,i=a=>a>=65040&&a<=65055,c=a=>a>=65072&&a<=65103,v=a=>a>=65104&&a<=65135,T=a=>a>=65136&&a<=65279,A=a=>a>=65280&&a<=65519;function R(a){for(const t of a)if(ie(t.charCodeAt(0)))return!0;return!1}function V(a){for(const t of a)if(!G(t.charCodeAt(0)))return!1;return!0}function G(a){return!(xn(a)||ps(a)||ns(a)||f(a)||T(a))}function ie(a){return!(a!==746&&a!==747&&(a<4352||!(iu(a)||nl(a)||c(a)&&!(a>=65097&&a<=65103)||Y(a)||Yu(a)||So(a)||Hu(a)||!(!No(a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||u(a)||_(a)||ru(a)||(t=>t>=12592&&t<=12687)(a)||(t=>t>=43360&&t<=43391)(a)||(t=>t>=55216&&t<=55295)(a)||(t=>t>=4352&&t<=4607)(a)||F(a)||kc(a)||Us(a)||(t=>t>=12688&&t<=12703)(a)||ic(a)||Wu(a)||Ch(a)&&a!==12540||!(!A(a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!v(a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(t=>t>=5120&&t<=5759)(a)||(t=>t>=6320&&t<=6399)(a)||i(a)||(t=>t>=19904&&t<=19967)(a)||M(a)||D(a))))}function ae(a){return!(ie(a)||function(t){return!!((s=>s>=128&&s<=255)(t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||(s=>s>=8192&&s<=8303)(t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||(s=>s>=8448&&s<=8527)(t)||(s=>s>=8528&&s<=8591)(t)||(s=>s>=8960&&s<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||(s=>s>=9216&&s<=9279)(t)&&t!==9251||(s=>s>=9280&&s<=9311)(t)||(s=>s>=9312&&s<=9471)(t)||(s=>s>=9632&&s<=9727)(t)||(s=>s>=9728&&s<=9983)(t)&&!(t>=9754&&t<=9759)||(s=>s>=11008&&s<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||No(t)||Ch(t)||(s=>s>=57344&&s<=63743)(t)||c(t)||v(t)||A(t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(a))}function be(a){return a>=1424&&a<=2303||f(a)||T(a)}function Fe(a,t){return!(!t&&be(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||(s=>s>=6016&&s<=6143)(a))}function $e(a){for(const t of a)if(be(t.charCodeAt(0)))return!0;return!1}const Je="deferred",tt="loading",Xe="loaded";let qe=null,lt="unavailable",st=null;const pt=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(lt="error"),qe&&qe(a)};function bt(){xt.fire(new Me("pluginStateChange",{pluginStatus:lt,pluginURL:st}))}const xt=new He,Lt=function(){return lt},qt=function(){if(lt!==Je||!st)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");lt=tt,bt(),st&&na({url:st},a=>{a?pt(a):(lt=Xe,bt())})},Yt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>lt===Xe||Yt.applyArabicShaping!=null,isLoading:()=>lt===tt,setState(a){lt=a.pluginStatus,st=a.pluginURL},isParsed:()=>Yt.applyArabicShaping!=null&&Yt.processBidirectionalText!=null&&Yt.processStyledBidirectionalText!=null,getPluginURL:()=>st};class jt{constructor(t,s){this.zoom=t,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.transition=s.transition,this.pitch=s.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(t){return function(s,d){for(const y of s)if(!Fe(y.charCodeAt(0),d))return!1;return!0}(t,Yt.isLoaded())}}class ki{constructor(t,s){this.property=t,this.value=s,this.expression=function(d,y){if(ir(d))return new xo(d,y);if(Xr(d)){const S=Zl(d,y);if(S.result==="error")throw new Error(S.value.map(I=>`${I.key}: ${I.message}`).join(", "));return S.value}{let S=d;return typeof d=="string"&&y.type==="color"&&(S=cn.parse(d)),{kind:"constant",evaluate:()=>S}}}(s===void 0?t.specification.default:s,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,s,d){return this.property.possiblyEvaluate(this,t,s,d)}}class $t{constructor(t){this.property=t,this.value=new ki(t,void 0)}transitioned(t,s){return new ei(this.property,this.value,s,ht({},t.transition,this.transition),t.now)}untransitioned(){return new ei(this.property,this.value,null,{},0)}}class pi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Li(this._values[t].value.value)}setValue(t,s){this._values.hasOwnProperty(t)||(this._values[t]=new $t(this._values[t].property)),this._values[t].value=new ki(this._values[t].property,s===null?void 0:Li(s))}getTransition(t){return Li(this._values[t].transition)}setTransition(t,s){this._values.hasOwnProperty(t)||(this._values[t]=new $t(this._values[t].property)),this._values[t].transition=Li(s)||void 0}serialize(){const t={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(t[s]=d);const y=this.getTransition(s);y!==void 0&&(t[`${s}-transition`]=y)}return t}transitioned(t,s){const d=new Ai(this._properties);for(const y of Object.keys(this._values))d._values[y]=this._values[y].transitioned(t,s._values[y]);return d}untransitioned(){const t=new Ai(this._properties);for(const s of Object.keys(this._values))t._values[s]=this._values[s].untransitioned();return t}}class ei{constructor(t,s,d,y,S){const I=y.delay||0,O=y.duration||0;S=S||0,this.property=t,this.value=s,this.begin=S+I,this.end=this.begin+O,t.specification.transition&&(y.delay||y.duration)&&(this.prior=d)}possiblyEvaluate(t,s,d){const y=t.now||0,S=this.value.possiblyEvaluate(t,s,d),I=this.prior;if(I){if(y>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(y<this.begin)return I.possiblyEvaluate(t,s,d);{const O=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(t,s,d),S,Pe(O))}}return S}}class Ai{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,s,d){const y=new Oi(this._properties);for(const S of Object.keys(this._values))y._values[S]=this._values[S].possiblyEvaluate(t,s,d);return y}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class ni{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return Li(this._values[t].value)}setValue(t,s){this._values[t]=new ki(this._values[t].property,s===null?void 0:Li(s))}serialize(){const t={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(t[s]=d)}return t}possiblyEvaluate(t,s,d){const y=new Oi(this._properties);for(const S of Object.keys(this._values))y._values[S]=this._values[S].possiblyEvaluate(t,s,d);return y}}class bi{constructor(t,s,d){this.property=t,this.value=s,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,s,d,y){return this.property.evaluate(this.value,this.parameters,t,s,d,y)}}class Oi{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class Gt{constructor(t){this.specification=t}possiblyEvaluate(t,s){return t.expression.evaluate(s)}interpolate(t,s,d){const y=sa[this.specification.type];return y?y(t,s,d):t}}class Qt{constructor(t,s){this.specification=t,this.overrides=s}possiblyEvaluate(t,s,d,y){return new bi(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(s,null,{},d,y)}:t.expression,s)}interpolate(t,s,d){if(t.value.kind!=="constant"||s.value.kind!=="constant")return t;if(t.value.value===void 0||s.value.value===void 0)return new bi(this,{kind:"constant",value:void 0},t.parameters);const y=sa[this.specification.type];return y?new bi(this,{kind:"constant",value:y(t.value.value,s.value.value,d)},t.parameters):t}evaluate(t,s,d,y,S,I){return t.kind==="constant"?t.value:t.evaluate(s,d,y,S,I)}}class Zi{constructor(t){this.specification=t}possiblyEvaluate(t,s,d,y){return!!t.expression.evaluate(s,null,{},d,y)}interpolate(){return!1}}class or{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const s=new jt(0,{});for(const d in t){const y=t[d];y.specification.overridable&&this.overridableProperties.push(d);const S=this.defaultPropertyValues[d]=new ki(y,void 0),I=this.defaultTransitionablePropertyValues[d]=new $t(y);this.defaultTransitioningPropertyValues[d]=I.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=S.possiblyEvaluate(s)}}}function qi(a,t){return 256*(a=fe(Math.floor(a),0,255))+fe(Math.floor(t),0,255)}Nt(Qt,"DataDrivenProperty"),Nt(Gt,"DataConstantProperty"),Nt(Zi,"ColorRampProperty");const mr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Cr{constructor(t,s){this._structArray=t,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class lr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,s){return t._trim(),s&&(t.isTransferred=!0,s.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const s=Object.create(this.prototype);return s.arrayBuffer=t.arrayBuffer,s.length=t.length,s.capacity=t.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function $i(a,t=1){let s=0,d=0;return{members:a.map(y=>{const S=mr[y.type].BYTES_PER_ELEMENT,I=s=hn(s,Math.max(t,S)),O=y.components||1;return d=Math.max(d,S),s+=S*O,{name:y.name,type:y.type,components:O,offset:I}}),size:hn(s,Math.max(d,t)),alignment:t}}function hn(a,t){return Math.ceil(a/t)*t}class on extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,s){const d=this.length;return this.resize(d+1),this.emplace(d,t,s)}emplace(t,s,d){const y=2*t;return this.int16[y+0]=s,this.int16[y+1]=d,t}}on.prototype.bytesPerElement=4,Nt(on,"StructArrayLayout2i4");class An extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,s,d){const y=this.length;return this.resize(y+1),this.emplace(y,t,s,d)}emplace(t,s,d,y){const S=3*t;return this.int16[S+0]=s,this.int16[S+1]=d,this.int16[S+2]=y,t}}An.prototype.bytesPerElement=6,Nt(An,"StructArrayLayout3i6");class _n extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,s,d,y){const S=this.length;return this.resize(S+1),this.emplace(S,t,s,d,y)}emplace(t,s,d,y,S){const I=4*t;return this.int16[I+0]=s,this.int16[I+1]=d,this.int16[I+2]=y,this.int16[I+3]=S,t}}_n.prototype.bytesPerElement=8,Nt(_n,"StructArrayLayout4i8");class ro extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I,O){const j=this.length;return this.resize(j+1),this.emplace(j,t,s,d,y,S,I,O)}emplace(t,s,d,y,S,I,O,j){const U=6*t,re=12*t,ce=3*t;return this.int16[U+0]=s,this.int16[U+1]=d,this.uint8[re+4]=y,this.uint8[re+5]=S,this.uint8[re+6]=I,this.uint8[re+7]=O,this.float32[ce+2]=j,t}}ro.prototype.bytesPerElement=12,Nt(ro,"StructArrayLayout2i4ub1f12");class Ao extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d,y){const S=this.length;return this.resize(S+1),this.emplace(S,t,s,d,y)}emplace(t,s,d,y,S){const I=4*t;return this.float32[I+0]=s,this.float32[I+1]=d,this.float32[I+2]=y,this.float32[I+3]=S,t}}Ao.prototype.bytesPerElement=16,Nt(Ao,"StructArrayLayout4f16");class Gs extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S){const I=this.length;return this.resize(I+1),this.emplace(I,t,s,d,y,S)}emplace(t,s,d,y,S,I){const O=6*t,j=3*t;return this.uint16[O+0]=s,this.uint16[O+1]=d,this.uint16[O+2]=y,this.uint16[O+3]=S,this.float32[j+2]=I,t}}Gs.prototype.bytesPerElement=12,Nt(Gs,"StructArrayLayout4ui1f12");class Al extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,s,d,y){const S=this.length;return this.resize(S+1),this.emplace(S,t,s,d,y)}emplace(t,s,d,y,S){const I=4*t;return this.uint16[I+0]=s,this.uint16[I+1]=d,this.uint16[I+2]=y,this.uint16[I+3]=S,t}}Al.prototype.bytesPerElement=8,Nt(Al,"StructArrayLayout4ui8");class Nn extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,s,d,y,S,I)}emplace(t,s,d,y,S,I,O){const j=6*t;return this.int16[j+0]=s,this.int16[j+1]=d,this.int16[j+2]=y,this.int16[j+3]=S,this.int16[j+4]=I,this.int16[j+5]=O,t}}Nn.prototype.bytesPerElement=12,Nt(Nn,"StructArrayLayout6i12");class Mn extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I,O,j,U,re,ce,ge){const Te=this.length;return this.resize(Te+1),this.emplace(Te,t,s,d,y,S,I,O,j,U,re,ce,ge)}emplace(t,s,d,y,S,I,O,j,U,re,ce,ge,Te){const Ae=12*t;return this.int16[Ae+0]=s,this.int16[Ae+1]=d,this.int16[Ae+2]=y,this.int16[Ae+3]=S,this.uint16[Ae+4]=I,this.uint16[Ae+5]=O,this.uint16[Ae+6]=j,this.uint16[Ae+7]=U,this.int16[Ae+8]=re,this.int16[Ae+9]=ce,this.int16[Ae+10]=ge,this.int16[Ae+11]=Te,t}}Mn.prototype.bytesPerElement=24,Nt(Mn,"StructArrayLayout4i4ui4i24");class Jr extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,s,d,y,S,I)}emplace(t,s,d,y,S,I,O){const j=10*t,U=5*t;return this.int16[j+0]=s,this.int16[j+1]=d,this.int16[j+2]=y,this.float32[U+2]=S,this.float32[U+3]=I,this.float32[U+4]=O,t}}Jr.prototype.bytesPerElement=20,Nt(Jr,"StructArrayLayout3i3f20");class wa extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const s=this.length;return this.resize(s+1),this.emplace(s,t)}emplace(t,s){return this.uint32[1*t+0]=s,t}}wa.prototype.bytesPerElement=4,Nt(wa,"StructArrayLayout1ul4");class Ds extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I,O,j,U,re,ce,ge,Te){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,t,s,d,y,S,I,O,j,U,re,ce,ge,Te)}emplace(t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae){const Be=20*t,nt=10*t;return this.int16[Be+0]=s,this.int16[Be+1]=d,this.int16[Be+2]=y,this.int16[Be+3]=S,this.int16[Be+4]=I,this.float32[nt+3]=O,this.float32[nt+4]=j,this.float32[nt+5]=U,this.float32[nt+6]=re,this.int16[Be+14]=ce,this.uint32[nt+8]=ge,this.uint16[Be+18]=Te,this.uint16[Be+19]=Ae,t}}Ds.prototype.bytesPerElement=40,Nt(Ds,"StructArrayLayout5i4f1i1ul2ui40");class Dn extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I,O){const j=this.length;return this.resize(j+1),this.emplace(j,t,s,d,y,S,I,O)}emplace(t,s,d,y,S,I,O,j){const U=8*t;return this.int16[U+0]=s,this.int16[U+1]=d,this.int16[U+2]=y,this.int16[U+4]=S,this.int16[U+5]=I,this.int16[U+6]=O,this.int16[U+7]=j,t}}Dn.prototype.bytesPerElement=16,Nt(Dn,"StructArrayLayout3i2i2i16");class Hs extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S){const I=this.length;return this.resize(I+1),this.emplace(I,t,s,d,y,S)}emplace(t,s,d,y,S,I){const O=4*t,j=8*t;return this.float32[O+0]=s,this.float32[O+1]=d,this.float32[O+2]=y,this.int16[j+6]=S,this.int16[j+7]=I,t}}Hs.prototype.bytesPerElement=16,Nt(Hs,"StructArrayLayout2f1f2i16");class nu extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d,y){const S=this.length;return this.resize(S+1),this.emplace(S,t,s,d,y)}emplace(t,s,d,y,S){const I=12*t,O=3*t;return this.uint8[I+0]=s,this.uint8[I+1]=d,this.float32[O+1]=y,this.float32[O+2]=S,t}}nu.prototype.bytesPerElement=12,Nt(nu,"StructArrayLayout2ub2f12");class rc extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d){const y=this.length;return this.resize(y+1),this.emplace(y,t,s,d)}emplace(t,s,d,y){const S=3*t;return this.float32[S+0]=s,this.float32[S+1]=d,this.float32[S+2]=y,t}}rc.prototype.bytesPerElement=12,Nt(rc,"StructArrayLayout3f12");class Ps extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,s,d){const y=this.length;return this.resize(y+1),this.emplace(y,t,s,d)}emplace(t,s,d,y){const S=3*t;return this.uint16[S+0]=s,this.uint16[S+1]=d,this.uint16[S+2]=y,t}}Ps.prototype.bytesPerElement=6,Nt(Ps,"StructArrayLayout3ui6");class Fo extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt,ft,Et,dt,yt,kt){const Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt,ft,Et,dt,yt,kt)}emplace(t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt,ft,Et,dt,yt,kt,Tt){const Kt=30*t,Zt=15*t,fi=60*t;return this.int16[Kt+0]=s,this.int16[Kt+1]=d,this.int16[Kt+2]=y,this.float32[Zt+2]=S,this.float32[Zt+3]=I,this.uint16[Kt+8]=O,this.uint16[Kt+9]=j,this.uint32[Zt+5]=U,this.uint32[Zt+6]=re,this.uint32[Zt+7]=ce,this.uint16[Kt+16]=ge,this.uint16[Kt+17]=Te,this.uint16[Kt+18]=Ae,this.float32[Zt+10]=Be,this.float32[Zt+11]=nt,this.uint8[fi+48]=ft,this.uint8[fi+49]=Et,this.uint8[fi+50]=dt,this.uint32[Zt+13]=yt,this.int16[Kt+28]=kt,this.uint8[fi+58]=Tt,t}}Fo.prototype.bytesPerElement=60,Nt(Fo,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ml extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt,ft,Et,dt,yt,kt,Tt,Kt,Zt,fi,Ii,ii,vi,xi,Ti){const Di=this.length;return this.resize(Di+1),this.emplace(Di,t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt,ft,Et,dt,yt,kt,Tt,Kt,Zt,fi,Ii,ii,vi,xi,Ti)}emplace(t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt,ft,Et,dt,yt,kt,Tt,Kt,Zt,fi,Ii,ii,vi,xi,Ti,Di){const ri=38*t,Bi=19*t;return this.int16[ri+0]=s,this.int16[ri+1]=d,this.int16[ri+2]=y,this.float32[Bi+2]=S,this.float32[Bi+3]=I,this.int16[ri+8]=O,this.int16[ri+9]=j,this.int16[ri+10]=U,this.int16[ri+11]=re,this.int16[ri+12]=ce,this.int16[ri+13]=ge,this.uint16[ri+14]=Te,this.uint16[ri+15]=Ae,this.uint16[ri+16]=Be,this.uint16[ri+17]=nt,this.uint16[ri+18]=ft,this.uint16[ri+19]=Et,this.uint16[ri+20]=dt,this.uint16[ri+21]=yt,this.uint16[ri+22]=kt,this.uint16[ri+23]=Tt,this.uint16[ri+24]=Kt,this.uint16[ri+25]=Zt,this.uint16[ri+26]=fi,this.uint16[ri+27]=Ii,this.uint16[ri+28]=ii,this.uint32[Bi+15]=vi,this.float32[Bi+16]=xi,this.float32[Bi+17]=Ti,this.float32[Bi+18]=Di,t}}Ml.prototype.bytesPerElement=76,Nt(Ml,"StructArrayLayout3i2f6i15ui1ul3f76");class Cl extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const s=this.length;return this.resize(s+1),this.emplace(s,t)}emplace(t,s){return this.float32[1*t+0]=s,t}}Cl.prototype.bytesPerElement=4,Nt(Cl,"StructArrayLayout1f4");class au extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s,d,y,S){const I=this.length;return this.resize(I+1),this.emplace(I,t,s,d,y,S)}emplace(t,s,d,y,S,I){const O=5*t;return this.float32[O+0]=s,this.float32[O+1]=d,this.float32[O+2]=y,this.float32[O+3]=S,this.float32[O+4]=I,t}}au.prototype.bytesPerElement=20,Nt(au,"StructArrayLayout5f20");class Ih extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,s,d,y){const S=this.length;return this.resize(S+1),this.emplace(S,t,s,d,y)}emplace(t,s,d,y,S){const I=6*t;return this.uint32[3*t+0]=s,this.uint16[I+2]=d,this.uint16[I+3]=y,this.uint16[I+4]=S,t}}Ih.prototype.bytesPerElement=12,Nt(Ih,"StructArrayLayout1ul3ui12");class Il extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,s){const d=this.length;return this.resize(d+1),this.emplace(d,t,s)}emplace(t,s,d){const y=2*t;return this.uint16[y+0]=s,this.uint16[y+1]=d,t}}Il.prototype.bytesPerElement=4,Nt(Il,"StructArrayLayout2ui4");class i0 extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const s=this.length;return this.resize(s+1),this.emplace(s,t)}emplace(t,s){return this.uint16[1*t+0]=s,t}}i0.prototype.bytesPerElement=2,Nt(i0,"StructArrayLayout1ui2");class If extends lr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,s){const d=this.length;return this.resize(d+1),this.emplace(d,t,s)}emplace(t,s,d){const y=2*t;return this.float32[y+0]=s,this.float32[y+1]=d,t}}If.prototype.bytesPerElement=8,Nt(If,"StructArrayLayout2f8");class hx extends Cr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}hx.prototype.size=40;class mm extends Ds{get(t){return new hx(this,t)}}Nt(mm,"CollisionBoxArray");class ux extends Cr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t}}ux.prototype.size=60;class dx extends Fo{get(t){return new ux(this,t)}}Nt(dx,"PlacedSymbolArray");class fx extends Cr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}fx.prototype.size=76;class px extends Ml{get(t){return new fx(this,t)}}Nt(px,"SymbolInstanceArray");class mx extends Cl{getoffsetX(t){return this.float32[1*t+0]}}Nt(mx,"GlyphOffsetArray");class gx extends on{getx(t){return this.int16[2*t+0]}gety(t){return this.int16[2*t+1]}}Nt(gx,"SymbolLineVertexArray");class vx extends Cr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}vx.prototype.size=12;class yx extends Ih{get(t){return new vx(this,t)}}Nt(yx,"FeatureIndexArray");class xx extends Il{geta_centroid_pos0(t){return this.uint16[2*t+0]}geta_centroid_pos1(t){return this.uint16[2*t+1]}}Nt(xx,"FillExtrusionCentroidArray");const p7=$i([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),m7=$i([{name:"a_dash",components:4,type:"Uint16"}]);var $u={exports:{}},_x={exports:{}};_x.exports=function(a,t){var s,d,y,S,I,O,j,U;for(d=a.length-(s=3&a.length),y=t,I=3432918353,O=461845907,U=0;U<d;)j=255&a.charCodeAt(U)|(255&a.charCodeAt(++U))<<8|(255&a.charCodeAt(++U))<<16|(255&a.charCodeAt(++U))<<24,++U,y=27492+(65535&(S=5*(65535&(y=(y^=j=(65535&(j=(j=(65535&j)*I+(((j>>>16)*I&65535)<<16)&4294967295)<<15|j>>>17))*O+(((j>>>16)*O&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(j=0,s){case 3:j^=(255&a.charCodeAt(U+2))<<16;case 2:j^=(255&a.charCodeAt(U+1))<<8;case 1:y^=j=(65535&(j=(j=(65535&(j^=255&a.charCodeAt(U)))*I+(((j>>>16)*I&65535)<<16)&4294967295)<<15|j>>>17))*O+(((j>>>16)*O&65535)<<16)&4294967295}return y^=a.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0};var bx={exports:{}};bx.exports=function(a,t){for(var s,d=a.length,y=t^d,S=0;d>=4;)s=1540483477*(65535&(s=255&a.charCodeAt(S)|(255&a.charCodeAt(++S))<<8|(255&a.charCodeAt(++S))<<16|(255&a.charCodeAt(++S))<<24))+((1540483477*(s>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(s=1540483477*(65535&(s^=s>>>24))+((1540483477*(s>>>16)&65535)<<16)),d-=4,++S;switch(d){case 3:y^=(255&a.charCodeAt(S+2))<<16;case 2:y^=(255&a.charCodeAt(S+1))<<8;case 1:y=1540483477*(65535&(y^=255&a.charCodeAt(S)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0};var wx=_x.exports,g7=bx.exports;$u.exports=wx,$u.exports.murmur3=wx,$u.exports.murmur2=g7;class kf{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,s,d,y){this.ids.push(Ex(t)),this.positions.push(s,d,y)}getPositions(t){const s=Ex(t);let d=0,y=this.ids.length-1;for(;d<y;){const I=d+y>>1;this.ids[I]>=s?y=I:d=I+1}const S=[];for(;this.ids[d]===s;)S.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return S}static serialize(t,s){const d=new Float64Array(t.ids),y=new Uint32Array(t.positions);return gm(d,y,0,d.length-1),s&&s.push(d.buffer,y.buffer),{ids:d,positions:y}}static deserialize(t){const s=new kf;return s.ids=t.ids,s.positions=t.positions,s.indexed=!0,s}}function Ex(a){const t=+a;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:$u.exports(String(a))}function gm(a,t,s,d){for(;s<d;){const y=a[s+d>>1];let S=s-1,I=d+1;for(;;){do S++;while(a[S]<y);do I--;while(a[I]>y);if(S>=I)break;Df(a,S,I),Df(t,3*S,3*I),Df(t,3*S+1,3*I+1),Df(t,3*S+2,3*I+2)}I-s<d-I?(gm(a,t,s,I),s=I+1):(gm(a,t,I+1,d),d=I)}}function Df(a,t,s){const d=a[t];a[t]=a[s],a[s]=d}Nt(kf,"FeaturePositionMap");class Qc{constructor(t){this.gl=t.gl,this.initialized=!1}fetchUniformLocation(t,s){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,s),this.initialized=!0),!!this.location}}class Pf extends Qc{constructor(t){super(t),this.current=0}set(t,s,d){this.fetchUniformLocation(t,s)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class Tx extends Qc{constructor(t){super(t),this.current=[0,0,0,0]}set(t,s,d){this.fetchUniformLocation(t,s)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class Sx extends Qc{constructor(t){super(t),this.current=cn.transparent}set(t,s,d){this.fetchUniformLocation(t,s)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const v7=new Float32Array(16),y7=new Float32Array(9),x7=new Float32Array(4);function vm(a){return[qi(255*a.r,255*a.g),qi(255*a.b,255*a.a)]}class r0{constructor(t,s,d){this.value=t,this.uniformNames=s.map(y=>`u_${y}`),this.type=d}setUniform(t,s,d,y,S){s.set(t,S,y.constantOr(this.value))}getBinding(t,s){return this.type==="color"?new Sx(t):new Pf(t)}}class Xu{constructor(t,s){this.uniformNames=s.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(t){this.pixelRatio=t.pixelRatio||1,this.pattern=t.tl.concat(t.br)}setUniform(t,s,d,y,S){const I=S==="u_pattern"||S==="u_dash"?this.pattern:S==="u_pixel_ratio"?this.pixelRatio:null;I&&s.set(t,S,I)}getBinding(t,s){return s==="u_pattern"||s==="u_dash"?new Tx(t):new Pf(t)}}class eh{constructor(t,s,d,y){this.expression=t,this.type=d,this.maxValue=0,this.paintVertexAttributes=s.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new y}populatePaintArray(t,s,d,y,S,I){const O=this.paintVertexArray.length,j=this.expression.evaluate(new jt(0),s,{},S,y,I);this.paintVertexArray.resize(t),this._setPaintValue(O,t,j)}updatePaintArray(t,s,d,y,S){const I=this.expression.evaluate({zoom:0},d,y,void 0,S);this._setPaintValue(t,s,I)}_setPaintValue(t,s,d){if(this.type==="color"){const y=vm(d);for(let S=t;S<s;S++)this.paintVertexArray.emplace(S,y[0],y[1])}else{for(let y=t;y<s;y++)this.paintVertexArray.emplace(y,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class nc{constructor(t,s,d,y,S,I){this.expression=t,this.uniformNames=s.map(O=>`u_${O}_t`),this.type=d,this.useIntegerZoom=y,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=s.map(O=>({name:`a_${O}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new I}populatePaintArray(t,s,d,y,S,I){const O=this.expression.evaluate(new jt(this.zoom),s,{},S,y,I),j=this.expression.evaluate(new jt(this.zoom+1),s,{},S,y,I),U=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(U,t,O,j)}updatePaintArray(t,s,d,y,S){const I=this.expression.evaluate({zoom:this.zoom},d,y,void 0,S),O=this.expression.evaluate({zoom:this.zoom+1},d,y,void 0,S);this._setPaintValue(t,s,I,O)}_setPaintValue(t,s,d,y){if(this.type==="color"){const S=vm(d),I=vm(y);for(let O=t;O<s;O++)this.paintVertexArray.emplace(O,S[0],S[1],I[0],I[1])}else{for(let S=t;S<s;S++)this.paintVertexArray.emplace(S,d,y);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(y))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,s,d,y,S){const I=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,O=fe(this.expression.interpolationFactor(I,this.zoom,this.zoom+1),0,1);s.set(t,S,O)}getBinding(t,s){return new Pf(t)}}class kh{constructor(t,s,d,y,S){this.expression=t,this.layerId=S,this.paintVertexAttributes=(d==="array"?m7:p7).members;for(let I=0;I<s.length;++I);this.paintVertexArray=new y}populatePaintArray(t,s,d){const y=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValues(y,t,s.patterns&&s.patterns[this.layerId],d)}updatePaintArray(t,s,d,y,S,I){this._setPaintValues(t,s,d.patterns&&d.patterns[this.layerId],I)}_setPaintValues(t,s,d,y){if(!y||!d)return;const S=y[d];if(!S)return;const{tl:I,br:O,pixelRatio:j}=S;for(let U=t;U<s;U++)this.paintVertexArray.emplace(U,I[0],I[1],O[0],O[1],j)}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Dh{constructor(t,s,d=()=>!0){this.binders={},this._buffers=[];const y=[];for(const S in t.paint._values){if(!d(S))continue;const I=t.paint.get(S);if(!(I instanceof bi&&_i(I.property.specification)))continue;const O=b7(S,t.type),j=I.value,U=I.property.specification.type,re=I.property.useIntegerZoom,ce=S==="line-dasharray"||S.endsWith("pattern"),ge=S==="line-dasharray"&&t.layout.get("line-cap").value.kind!=="constant";if(j.kind!=="constant"||ge)if(j.kind==="source"||ge||ce){const Te=Ax(S,U,"source");this.binders[S]=ce?new kh(j,O,U,Te,t.id):new eh(j,O,U,Te),y.push(`/a_${S}`)}else{const Te=Ax(S,U,"composite");this.binders[S]=new nc(j,O,U,re,s,Te),y.push(`/z_${S}`)}else this.binders[S]=ce?new Xu(j.value,O):new r0(j.value,O,U),y.push(`/u_${S}`)}this.cacheKey=y.sort().join("")}getMaxValue(t){const s=this.binders[t];return s instanceof eh||s instanceof nc?s.maxValue:0}populatePaintArrays(t,s,d,y,S,I){for(const O in this.binders){const j=this.binders[O];(j instanceof eh||j instanceof nc||j instanceof kh)&&j.populatePaintArray(t,s,d,y,S,I)}}setConstantPatternPositions(t){for(const s in this.binders){const d=this.binders[s];d instanceof Xu&&d.setConstantPatternPositions(t)}}updatePaintArrays(t,s,d,y,S,I){let O=!1;for(const j in t){const U=s.getPositions(j);for(const re of U){const ce=d.feature(re.index);for(const ge in this.binders){const Te=this.binders[ge];if((Te instanceof eh||Te instanceof nc||Te instanceof kh)&&Te.expression.isStateDependent===!0){const Ae=y.paint.get(ge);Te.expression=Ae.value,Te.updatePaintArray(re.start,re.end,ce,t[j],S,I),O=!0}}}}return O}defines(){const t=[];for(const s in this.binders){const d=this.binders[s];(d instanceof r0||d instanceof Xu)&&t.push(...d.uniformNames.map(y=>`#define HAS_UNIFORM_${y}`))}return t}getBinderAttributes(){const t=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof eh||d instanceof nc||d instanceof kh)for(let y=0;y<d.paintVertexAttributes.length;y++)t.push(d.paintVertexAttributes[y].name)}return t}getBinderUniforms(){const t=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof r0||d instanceof Xu||d instanceof nc)for(const y of d.uniformNames)t.push(y)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const s=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof r0||y instanceof Xu||y instanceof nc)for(const S of y.uniformNames)s.push({name:S,property:d,binding:y.getBinding(t,S)})}return s}setUniforms(t,s,d,y,S){for(const{name:I,property:O,binding:j}of d)this.binders[O].setUniform(t,j,S,y.get(O),I)}updatePaintBuffers(){this._buffers=[];for(const t in this.binders){const s=this.binders[t];(s instanceof eh||s instanceof nc||s instanceof kh)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(t){for(const s in this.binders){const d=this.binders[s];(d instanceof eh||d instanceof nc||d instanceof kh)&&d.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const s=this.binders[t];(s instanceof eh||s instanceof nc||s instanceof kh)&&s.destroy()}}}class su{constructor(t,s,d=()=>!0){this.programConfigurations={};for(const y of t)this.programConfigurations[y.id]=new Dh(y,s,d);this.needsUpload=!1,this._featureMap=new kf,this._bufferOffset=0}populatePaintArrays(t,s,d,y,S,I,O){for(const j in this.programConfigurations)this.programConfigurations[j].populatePaintArrays(t,s,y,S,I,O);s.id!==void 0&&this._featureMap.add(s.id,d,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,s,d,y,S){for(const I of d)this.needsUpload=this.programConfigurations[I.id].updatePaintArrays(t,this._featureMap,s,I,y,S)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const _7={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function b7(a,t){return _7[a]||[a.replace(`${t}-`,"").replace(/-/g,"_")]}const w7={"line-pattern":{source:Gs,composite:Gs},"fill-pattern":{source:Gs,composite:Gs},"fill-extrusion-pattern":{source:Gs,composite:Gs},"line-dasharray":{source:Al,composite:Al}},E7={color:{source:If,composite:Ao},number:{source:Cl,composite:If}};function Ax(a,t,s){const d=w7[a];return d&&d[s]||E7[t][s]}Nt(r0,"ConstantBinder"),Nt(Xu,"PatternConstantBinder"),Nt(eh,"SourceExpressionBinder"),Nt(kh,"PatternCompositeBinder"),Nt(nc,"CompositeExpressionBinder"),Nt(Dh,"ProgramConfiguration",{omit:["_buffers"]}),Nt(su,"ProgramConfigurationSet");const Of="-transition";class ac extends He{constructor(t,s){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&t.type!=="sky"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),s.layout&&(this._unevaluatedLayout=new ni(s.layout)),s.paint)){this._transitionablePaint=new pi(s.paint);for(const d in t.paint)this.setPaintProperty(d,t.paint[d],{validate:!1});for(const d in t.layout)this.setLayoutProperty(d,t.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Oi(s.paint)}}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,s,d={}){s!=null&&this._validate(Rt,`layers.${this.id}.layout.${t}`,t,s,d)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,s):this.visibility=s)}getPaintProperty(t){return Ot(t,Of)?this._transitionablePaint.getTransition(t.slice(0,-Of.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,s,d={}){if(s!=null&&this._validate(ti,`layers.${this.id}.paint.${t}`,t,s,d))return!1;if(Ot(t,Of))return this._transitionablePaint.setTransition(t.slice(0,-Of.length),s||void 0),!1;{const y=this._transitionablePaint._values[t],S=y.value.isDataDriven(),I=y.value;this._transitionablePaint.setValue(t,s),this._handleSpecialPaintPropertyUpdate(t);const O=this._transitionablePaint._values[t].value,j=O.isDataDriven(),U=Ot(t,"pattern")||t==="line-dasharray";return j||S||U||this._handleOverridablePaintPropertyUpdate(t,I,O)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,s,d){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,s){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,s)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),gi(t,(s,d)=>!(s===void 0||d==="layout"&&!Object.keys(s).length||d==="paint"&&!Object.keys(s).length))}_validate(t,s,d,y,S={}){return(!S||S.validate!==!1)&&Ee(this,t.call(Sl,{key:s,layerType:this.type,objectKey:d,value:y,styleSpec:Le,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const s=this.paint.get(t);if(s instanceof bi&&_i(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=_o(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const T7=$i([{name:"a_pos",components:2,type:"Int16"}],4),S7=$i([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ba{constructor(t=[]){this.segments=t}prepareSegment(t,s,d,y){let S=this.segments[this.segments.length-1];return t>Ba.MAX_VERTEX_ARRAY_LENGTH&&Vt(`Max vertices per segment is ${Ba.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!S||S.vertexLength+t>Ba.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==y)&&(S={vertexOffset:s.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},y!==void 0&&(S.sortKey=y),this.segments.push(S)),S}get(){return this.segments}destroy(){for(const t of this.segments)for(const s in t.vaos)t.vaos[s].destroy()}static simpleSegment(t,s,d,y){return new Ba([{vertexOffset:t,primitiveOffset:s,vertexLength:d,primitiveLength:y,vaos:{},sortKey:0}])}}Ba.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nt(Ba,"SegmentVector");var vr=8192;class Ph{constructor(t,s){t&&(s?this.setSouthWest(t).setNorthEast(s):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof Zr?new Zr(t.lng,t.lat):Zr.convert(t),this}setSouthWest(t){return this._sw=t instanceof Zr?new Zr(t.lng,t.lat):Zr.convert(t),this}extend(t){const s=this._sw,d=this._ne;let y,S;if(t instanceof Zr)y=t,S=t;else{if(!(t instanceof Ph))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(Ph.convert(t)):this.extend(Zr.convert(t)):typeof t=="object"&&t!==null&&t.hasOwnProperty("lat")&&t.hasOwnProperty("lon")?this.extend(Zr.convert(t)):this;if(y=t._sw,S=t._ne,!y||!S)return this}return s||d?(s.lng=Math.min(y.lng,s.lng),s.lat=Math.min(y.lat,s.lat),d.lng=Math.max(S.lng,d.lng),d.lat=Math.max(S.lat,d.lat)):(this._sw=new Zr(y.lng,y.lat),this._ne=new Zr(S.lng,S.lat)),this}getCenter(){return new Zr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Zr(this.getWest(),this.getNorth())}getSouthEast(){return new Zr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:s,lat:d}=Zr.convert(t);let y=this._sw.lng<=s&&s<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=s&&s>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&y}static convert(t){return!t||t instanceof Ph?t:new Ph(t)}}const Lf=63710088e-1;class Zr{constructor(t,s){if(isNaN(t)||isNaN(s))throw new Error(`Invalid LngLat object: (${t}, ${s})`);if(this.lng=+t,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Zr(Se(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const s=Math.PI/180,d=this.lat*s,y=t.lat*s,S=Math.sin(d)*Math.sin(y)+Math.cos(d)*Math.cos(y)*Math.cos((t.lng-this.lng)*s);return Lf*Math.acos(Math.min(S,1))}toBounds(t=0){const s=360*t/40075017,d=s/Math.cos(Math.PI/180*this.lat);return new Ph(new Zr(this.lng-d,this.lat-s),new Zr(this.lng+d,this.lat+s))}static convert(t){if(t instanceof Zr)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Zr(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Zr(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Mx=2*Math.PI*Lf;function ym(a){return Mx*Math.cos(a*Math.PI/180)}function Dc(a){return(180+a)/360}function Pc(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function kl(a,t){return a/ym(t)}function al(a){return 360*a-180}function Os(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function Cx(a,t){return a*ym(Os(t))}const Oc=85.051129;function Ix(a){return 1/Math.cos(a*Math.PI/180)}class Zu{constructor(t,s,d=0){this.x=+t,this.y=+s,this.z=+d}static fromLngLat(t,s=0){const d=Zr.convert(t);return new Zu(Dc(d.lng),Pc(d.lat),kl(s,d.lat))}toLngLat(){return new Zr(al(this.x),Os(this.y))}toAltitude(){return Cx(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Mx*Ix(Os(this.y))}}function xm(a,t,s,d,y,S,I,O,j){const U=(t+d)/2,re=(s+y)/2,ce=new Ye(U,re);O(ce),function(ge,Te,Ae,Be,nt,ft){const Et=Ae-nt,dt=Be-ft;return Math.abs((Be-Te)*Et-(Ae-ge)*dt)/Math.hypot(Et,dt)}(ce.x,ce.y,S.x,S.y,I.x,I.y)>=j?(xm(a,t,s,U,re,S,ce,O,j),xm(a,U,re,d,y,ce,I,O,j)):a.push(I)}function kx(a,t,s){let d=a[0],y=d.x,S=d.y;t(d);const I=[d];for(let O=1;O<a.length;O++){const j=a[O],{x:U,y:re}=j;t(j),xm(I,y,S,U,re,d,j,t,s),y=U,S=re,d=j}return I}function _m(a,t,s,d){if(d(t,s)){const y=t.add(s)._mult(.5);_m(a,t,y,d),_m(a,y,s,d)}else a.push(s)}function A7(a,t){let s=a[0];const d=[s];for(let y=1;y<a.length;y++){const S=a[y];_m(d,s,S,t),s=S}return d}const bm=Math.pow(2,14)-1,Dx=-bm-1;function M7(a,t){const s=Math.round(a.x*t),d=Math.round(a.y*t);return a.x=fe(s,Dx,bm),a.y=fe(d,Dx,bm),(s<a.x||s>a.x+1||d<a.y||d>a.y+1)&&Vt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function th(a,t,s){const d=a.loadGeometry(),y=a.extent,S=vr/y;if(t&&s&&s.projection.isReprojectedInTileSpace){const I=1<<t.z,{scale:O,x:j,y:U,projection:re}=s,ce=ge=>{const Te=al((t.x+ge.x/y)/I),Ae=Os((t.y+ge.y/y)/I),Be=re.project(Te,Ae);ge.x=(Be.x*O-j)*y,ge.y=(Be.y*O-U)*y};for(let ge=0;ge<d.length;ge++)if(a.type!==1)d[ge]=kx(d[ge],ce,1);else{const Te=[];for(const Ae of d[ge])Ae.x<0||Ae.x>=y||Ae.y<0||Ae.y>=y||(ce(Ae),Te.push(Ae));d[ge]=Te}}for(const I of d)for(const O of I)M7(O,S);return d}function ou(a,t){return{type:a.type,id:a.id,properties:a.properties,geometry:t?th(a):[]}}function Rf(a,t,s,d,y){a.emplaceBack(2*t+(d+1)/2,2*s+(y+1)/2)}function zf(a,t,s){a.emplaceBack(t.x,t.y,t.z,s[0]*16384,s[1]*16384,s[2]*16384)}class wm{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(s=>s.id),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new on,this.indexArray=new Ps,this.segments=new Ba,this.programConfigurations=new su(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(t,s,d,y){const S=this.layers[0],I=[];let O=null;S.type==="circle"&&(O=S.layout.get("circle-sort-key"));for(const{feature:U,id:re,index:ce,sourceLayerIndex:ge}of t){const Te=this.layers[0]._featureFilter.needGeometry,Ae=ou(U,Te);if(!this.layers[0]._featureFilter.filter(new jt(this.zoom),Ae,d))continue;const Be=O?O.evaluate(Ae,{},d):void 0,nt={id:re,properties:U.properties,type:U.type,sourceLayerIndex:ge,index:ce,geometry:Te?Ae.geometry:th(U,d,y),patterns:{},sortKey:Be};I.push(nt)}O&&I.sort((U,re)=>U.sortKey-re.sortKey);let j=null;y.projection.name==="globe"&&(this.globeExtVertexArray=new Nn,j=y.projection);for(const U of I){const{geometry:re,index:ce,sourceLayerIndex:ge}=U,Te=t[ce].feature;this.addFeature(U,re,ce,s.availableImages,d,j),s.featureIndex.insert(Te,re,ce,ge,this.index)}}update(t,s,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,s,this.stateDependentLayers,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,T7.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,S7.members))),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(t,s,d,y,S,I){for(const O of s)for(const j of O){const U=j.x,re=j.y;if(U<0||U>=vr||re<0||re>=vr)continue;if(I){const Te=I.projectTilePoint(U,re,S),Ae=I.upVector(S,U,re),Be=this.globeExtVertexArray;zf(Be,Te,Ae),zf(Be,Te,Ae),zf(Be,Te,Ae),zf(Be,Te,Ae)}const ce=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),ge=ce.vertexLength;Rf(this.layoutVertexArray,U,re,-1,-1),Rf(this.layoutVertexArray,U,re,1,-1),Rf(this.layoutVertexArray,U,re,1,1),Rf(this.layoutVertexArray,U,re,-1,1),this.indexArray.emplaceBack(ge,ge+1,ge+2),this.indexArray.emplaceBack(ge,ge+2,ge+3),ce.vertexLength+=4,ce.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,{},y,S)}}function Px(a,t){for(let s=0;s<a.length;s++)if(lu(t,a[s]))return!0;for(let s=0;s<t.length;s++)if(lu(a,t[s]))return!0;return!!Em(a,t)}function C7(a,t,s){return!!lu(a,t)||!!Tm(t,a,s)}function Ox(a,t){if(a.length===1)return Rx(t,a[0]);for(let s=0;s<t.length;s++){const d=t[s];for(let y=0;y<d.length;y++)if(lu(a,d[y]))return!0}for(let s=0;s<a.length;s++)if(Rx(t,a[s]))return!0;for(let s=0;s<t.length;s++)if(Em(a,t[s]))return!0;return!1}function I7(a,t,s){if(a.length>1){if(Em(a,t))return!0;for(let d=0;d<t.length;d++)if(Tm(t[d],a,s))return!0}for(let d=0;d<a.length;d++)if(Tm(a[d],t,s))return!0;return!1}function Em(a,t){if(a.length===0||t.length===0)return!1;for(let s=0;s<a.length-1;s++){const d=a[s],y=a[s+1];for(let S=0;S<t.length-1;S++)if(k7(d,y,t[S],t[S+1]))return!0}return!1}function k7(a,t,s,d){return wi(a,s,d)!==wi(t,s,d)&&wi(a,t,s)!==wi(a,t,d)}function Tm(a,t,s){const d=s*s;if(t.length===1)return a.distSqr(t[0])<d;for(let y=1;y<t.length;y++)if(Lx(a,t[y-1],t[y])<d)return!0;return!1}function Lx(a,t,s){const d=t.distSqr(s);if(d===0)return a.distSqr(t);const y=((a.x-t.x)*(s.x-t.x)+(a.y-t.y)*(s.y-t.y))/d;return a.distSqr(y<0?t:y>1?s:s.sub(t)._mult(y)._add(t))}function Rx(a,t){let s,d,y,S=!1;for(let I=0;I<a.length;I++){s=a[I];for(let O=0,j=s.length-1;O<s.length;j=O++)d=s[O],y=s[j],d.y>t.y!=y.y>t.y&&t.x<(y.x-d.x)*(t.y-d.y)/(y.y-d.y)+d.x&&(S=!S)}return S}function lu(a,t){let s=!1;for(let d=0,y=a.length-1;d<a.length;y=d++){const S=a[d],I=a[y];S.y>t.y!=I.y>t.y&&t.x<(I.x-S.x)*(t.y-S.y)/(I.y-S.y)+S.x&&(s=!s)}return s}function zx(a,t,s,d,y){for(const I of a)if(t<=I.x&&s<=I.y&&d>=I.x&&y>=I.y)return!0;const S=[new Ye(t,s),new Ye(t,y),new Ye(d,y),new Ye(d,s)];if(a.length>2){for(const I of S)if(lu(a,I))return!0}for(let I=0;I<a.length-1;I++)if(D7(a[I],a[I+1],S))return!0;return!1}function D7(a,t,s){const d=s[0],y=s[2];if(a.x<d.x&&t.x<d.x||a.x>y.x&&t.x>y.x||a.y<d.y&&t.y<d.y||a.y>y.y&&t.y>y.y)return!1;const S=wi(a,t,s[0]);return S!==wi(a,t,s[1])||S!==wi(a,t,s[2])||S!==wi(a,t,s[3])}function qu(a,t,s){const d=t.paint.get(a).value;return d.kind==="constant"?d.value:s.programConfigurations.get(t.id).getMaxValue(a)}function Nf(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Nx(a,t,s,d,y){if(!t[0]&&!t[1])return a;const S=Ye.convert(t)._mult(y);s==="viewport"&&S._rotate(-d);const I=[];for(let O=0;O<a.length;O++)I.push(a[O].sub(S));return I}function Fx(a,t,s,d){const y=Ye.convert(a)._mult(d);return t==="viewport"&&y._rotate(-s),y}Nt(wm,"CircleBucket",{omit:["layers"]});const P7=new or({"circle-sort-key":new Qt(Le.layout_circle["circle-sort-key"])});var O7={paint:new or({"circle-radius":new Qt(Le.paint_circle["circle-radius"]),"circle-color":new Qt(Le.paint_circle["circle-color"]),"circle-blur":new Qt(Le.paint_circle["circle-blur"]),"circle-opacity":new Qt(Le.paint_circle["circle-opacity"]),"circle-translate":new Gt(Le.paint_circle["circle-translate"]),"circle-translate-anchor":new Gt(Le.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Gt(Le.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Gt(Le.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qt(Le.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qt(Le.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qt(Le.paint_circle["circle-stroke-opacity"])}),layout:P7},Ff=1e-6,Bo=typeof Float32Array<"u"?Float32Array:Array;function Bx(){var a=new Bo(9);return Bo!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function jx(a,t,s){var d=t[0],y=t[1],S=t[2],I=t[3],O=t[4],j=t[5],U=t[6],re=t[7],ce=t[8],ge=s[0],Te=s[1],Ae=s[2],Be=s[3],nt=s[4],ft=s[5],Et=s[6],dt=s[7],yt=s[8];return a[0]=ge*d+Te*I+Ae*U,a[1]=ge*y+Te*O+Ae*re,a[2]=ge*S+Te*j+Ae*ce,a[3]=Be*d+nt*I+ft*U,a[4]=Be*y+nt*O+ft*re,a[5]=Be*S+nt*j+ft*ce,a[6]=Et*d+dt*I+yt*U,a[7]=Et*y+dt*O+yt*re,a[8]=Et*S+dt*j+yt*ce,a}function sc(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Sm(a,t){var s=t[0],d=t[1],y=t[2],S=t[3],I=t[4],O=t[5],j=t[6],U=t[7],re=t[8],ce=t[9],ge=t[10],Te=t[11],Ae=t[12],Be=t[13],nt=t[14],ft=t[15],Et=s*O-d*I,dt=s*j-y*I,yt=s*U-S*I,kt=d*j-y*O,Tt=d*U-S*O,Kt=y*U-S*j,Zt=re*Be-ce*Ae,fi=re*nt-ge*Ae,Ii=re*ft-Te*Ae,ii=ce*nt-ge*Be,vi=ce*ft-Te*Be,xi=ge*ft-Te*nt,Ti=Et*xi-dt*vi+yt*ii+kt*Ii-Tt*fi+Kt*Zt;return Ti?(a[0]=(O*xi-j*vi+U*ii)*(Ti=1/Ti),a[1]=(y*vi-d*xi-S*ii)*Ti,a[2]=(Be*Kt-nt*Tt+ft*kt)*Ti,a[3]=(ge*Tt-ce*Kt-Te*kt)*Ti,a[4]=(j*Ii-I*xi-U*fi)*Ti,a[5]=(s*xi-y*Ii+S*fi)*Ti,a[6]=(nt*yt-Ae*Kt-ft*dt)*Ti,a[7]=(re*Kt-ge*yt+Te*dt)*Ti,a[8]=(I*vi-O*Ii+U*Zt)*Ti,a[9]=(d*Ii-s*vi-S*Zt)*Ti,a[10]=(Ae*Tt-Be*yt+ft*Et)*Ti,a[11]=(ce*yt-re*Tt-Te*Et)*Ti,a[12]=(O*fi-I*ii-j*Zt)*Ti,a[13]=(s*ii-d*fi+y*Zt)*Ti,a[14]=(Be*dt-Ae*kt-nt*Et)*Ti,a[15]=(re*kt-ce*dt+ge*Et)*Ti,a):null}function cu(a,t,s){var d=t[0],y=t[1],S=t[2],I=t[3],O=t[4],j=t[5],U=t[6],re=t[7],ce=t[8],ge=t[9],Te=t[10],Ae=t[11],Be=t[12],nt=t[13],ft=t[14],Et=t[15],dt=s[0],yt=s[1],kt=s[2],Tt=s[3];return a[0]=dt*d+yt*O+kt*ce+Tt*Be,a[1]=dt*y+yt*j+kt*ge+Tt*nt,a[2]=dt*S+yt*U+kt*Te+Tt*ft,a[3]=dt*I+yt*re+kt*Ae+Tt*Et,a[4]=(dt=s[4])*d+(yt=s[5])*O+(kt=s[6])*ce+(Tt=s[7])*Be,a[5]=dt*y+yt*j+kt*ge+Tt*nt,a[6]=dt*S+yt*U+kt*Te+Tt*ft,a[7]=dt*I+yt*re+kt*Ae+Tt*Et,a[8]=(dt=s[8])*d+(yt=s[9])*O+(kt=s[10])*ce+(Tt=s[11])*Be,a[9]=dt*y+yt*j+kt*ge+Tt*nt,a[10]=dt*S+yt*U+kt*Te+Tt*ft,a[11]=dt*I+yt*re+kt*Ae+Tt*Et,a[12]=(dt=s[12])*d+(yt=s[13])*O+(kt=s[14])*ce+(Tt=s[15])*Be,a[13]=dt*y+yt*j+kt*ge+Tt*nt,a[14]=dt*S+yt*U+kt*Te+Tt*ft,a[15]=dt*I+yt*re+kt*Ae+Tt*Et,a}function n0(a,t,s){var d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be=s[0],nt=s[1],ft=s[2];return t===a?(a[12]=t[0]*Be+t[4]*nt+t[8]*ft+t[12],a[13]=t[1]*Be+t[5]*nt+t[9]*ft+t[13],a[14]=t[2]*Be+t[6]*nt+t[10]*ft+t[14],a[15]=t[3]*Be+t[7]*nt+t[11]*ft+t[15]):(y=t[1],S=t[2],I=t[3],O=t[4],j=t[5],U=t[6],re=t[7],ce=t[8],ge=t[9],Te=t[10],Ae=t[11],a[0]=d=t[0],a[1]=y,a[2]=S,a[3]=I,a[4]=O,a[5]=j,a[6]=U,a[7]=re,a[8]=ce,a[9]=ge,a[10]=Te,a[11]=Ae,a[12]=d*Be+O*nt+ce*ft+t[12],a[13]=y*Be+j*nt+ge*ft+t[13],a[14]=S*Be+U*nt+Te*ft+t[14],a[15]=I*Be+re*nt+Ae*ft+t[15]),a}function hu(a,t,s){var d=s[0],y=s[1],S=s[2];return a[0]=t[0]*d,a[1]=t[1]*d,a[2]=t[2]*d,a[3]=t[3]*d,a[4]=t[4]*y,a[5]=t[5]*y,a[6]=t[6]*y,a[7]=t[7]*y,a[8]=t[8]*S,a[9]=t[9]*S,a[10]=t[10]*S,a[11]=t[11]*S,a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a}function Am(a,t,s){var d=Math.sin(s),y=Math.cos(s),S=t[4],I=t[5],O=t[6],j=t[7],U=t[8],re=t[9],ce=t[10],ge=t[11];return t!==a&&(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[4]=S*y+U*d,a[5]=I*y+re*d,a[6]=O*y+ce*d,a[7]=j*y+ge*d,a[8]=U*y-S*d,a[9]=re*y-I*d,a[10]=ce*y-O*d,a[11]=ge*y-j*d,a}function Bf(a,t,s){var d=Math.sin(s),y=Math.cos(s),S=t[0],I=t[1],O=t[2],j=t[3],U=t[8],re=t[9],ce=t[10],ge=t[11];return t!==a&&(a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=S*y-U*d,a[1]=I*y-re*d,a[2]=O*y-ce*d,a[3]=j*y-ge*d,a[8]=S*d+U*y,a[9]=I*d+re*y,a[10]=O*d+ce*y,a[11]=j*d+ge*y,a}function Vx(a,t){return a[0]=t[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=t[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=t[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Ux(a,t,s){var d,y,S,I=s[0],O=s[1],j=s[2],U=Math.hypot(I,O,j);return U<Ff?null:(I*=U=1/U,O*=U,j*=U,d=Math.sin(t),y=Math.cos(t),a[0]=I*I*(S=1-y)+y,a[1]=O*I*S+j*d,a[2]=j*I*S-O*d,a[3]=0,a[4]=I*O*S-j*d,a[5]=O*O*S+y,a[6]=j*O*S+I*d,a[7]=0,a[8]=I*j*S+O*d,a[9]=O*j*S-I*d,a[10]=j*j*S+y,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,t=arguments.length;t--;)a+=arguments[t]*arguments[t];return Math.sqrt(a)});var L7=cu;function Mm(){var a=new Bo(3);return Bo!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function Gx(a){var t=new Bo(3);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}function a0(a){return Math.hypot(a[0],a[1],a[2])}function Ku(a,t,s){var d=new Bo(3);return d[0]=a,d[1]=t,d[2]=s,d}function ih(a,t,s){return a[0]=t[0]+s[0],a[1]=t[1]+s[1],a[2]=t[2]+s[2],a}function Cm(a,t,s){return a[0]=t[0]-s[0],a[1]=t[1]-s[1],a[2]=t[2]-s[2],a}function Hx(a,t,s){return a[0]=t[0]*s[0],a[1]=t[1]*s[1],a[2]=t[2]*s[2],a}function s0(a,t,s){return a[0]=Math.min(t[0],s[0]),a[1]=Math.min(t[1],s[1]),a[2]=Math.min(t[2],s[2]),a}function o0(a,t,s){return a[0]=Math.max(t[0],s[0]),a[1]=Math.max(t[1],s[1]),a[2]=Math.max(t[2],s[2]),a}function sl(a,t,s){return a[0]=t[0]*s,a[1]=t[1]*s,a[2]=t[2]*s,a}function l0(a,t,s,d){return a[0]=t[0]+s[0]*d,a[1]=t[1]+s[1]*d,a[2]=t[2]+s[2]*d,a}function no(a,t){var s=t[0],d=t[1],y=t[2],S=s*s+d*d+y*y;return S>0&&(S=1/Math.sqrt(S)),a[0]=t[0]*S,a[1]=t[1]*S,a[2]=t[2]*S,a}function Dl(a,t){return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]}function Im(a,t,s){var d=t[0],y=t[1],S=t[2],I=s[0],O=s[1],j=s[2];return a[0]=y*j-S*O,a[1]=S*I-d*j,a[2]=d*O-y*I,a}function Ea(a,t,s){var d=t[0],y=t[1],S=t[2],I=s[3]*d+s[7]*y+s[11]*S+s[15];return a[0]=(s[0]*d+s[4]*y+s[8]*S+s[12])/(I=I||1),a[1]=(s[1]*d+s[5]*y+s[9]*S+s[13])/I,a[2]=(s[2]*d+s[6]*y+s[10]*S+s[14])/I,a}function Wx(a,t,s){var d=s[0],y=s[1],S=s[2],I=t[0],O=t[1],j=t[2],U=y*j-S*O,re=S*I-d*j,ce=d*O-y*I,ge=y*ce-S*re,Te=S*U-d*ce,Ae=d*re-y*U,Be=2*s[3];return re*=Be,ce*=Be,Te*=2,Ae*=2,a[0]=I+(U*=Be)+(ge*=2),a[1]=O+re+Te,a[2]=j+ce+Ae,a}var c0,oc=Cm,R7=Hx,z7=a0;function Yx(a,t,s){return a[0]=t[0]*s,a[1]=t[1]*s,a[2]=t[2]*s,a[3]=t[3]*s,a}function $x(a,t){var s=t[0],d=t[1],y=t[2],S=t[3],I=s*s+d*d+y*y+S*S;return I>0&&(I=1/Math.sqrt(I)),a[0]=s*I,a[1]=d*I,a[2]=y*I,a[3]=S*I,a}function uu(a,t,s){var d=t[0],y=t[1],S=t[2],I=t[3];return a[0]=s[0]*d+s[4]*y+s[8]*S+s[12]*I,a[1]=s[1]*d+s[5]*y+s[9]*S+s[13]*I,a[2]=s[2]*d+s[6]*y+s[10]*S+s[14]*I,a[3]=s[3]*d+s[7]*y+s[11]*S+s[15]*I,a}function Xx(){var a=new Bo(4);return Bo!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function Zx(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function qx(a,t,s){s*=.5;var d=t[0],y=t[1],S=t[2],I=t[3],O=Math.sin(s),j=Math.cos(s);return a[0]=d*j+I*O,a[1]=y*j+S*O,a[2]=S*j-y*O,a[3]=I*j-d*O,a}function Kx(a,t,s){s*=.5;var d=t[0],y=t[1],S=t[2],I=t[3],O=Math.sin(s),j=Math.cos(s);return a[0]=d*j-S*O,a[1]=y*j+I*O,a[2]=S*j+d*O,a[3]=I*j-y*O,a}Mm(),c0=new Bo(4),Bo!=Float32Array&&(c0[0]=0,c0[1]=0,c0[2]=0,c0[3]=0);var N7=$x;Mm(),Ku(1,0,0),Ku(0,1,0),Xx(),Xx(),Bx();class km{constructor(t,s){this.pos=t,this.dir=s}intersectsPlane(t,s,d){const y=Dl(s,this.dir);if(Math.abs(y)<1e-6)return!1;const S=((t[0]-this.pos[0])*s[0]+(t[1]-this.pos[1])*s[1]+(t[2]-this.pos[2])*s[2])/y;return d[0]=this.pos[0]+this.dir[0]*S,d[1]=this.pos[1]+this.dir[1]*S,d[2]=this.pos[2]+this.dir[2]*S,!0}closestPointOnSphere(t,s,d){if(function(Te,Ae){var Be=Te[0],nt=Te[1],ft=Te[2],Et=Ae[0],dt=Ae[1],yt=Ae[2];return Math.abs(Be-Et)<=Ff*Math.max(1,Math.abs(Be),Math.abs(Et))&&Math.abs(nt-dt)<=Ff*Math.max(1,Math.abs(nt),Math.abs(dt))&&Math.abs(ft-yt)<=Ff*Math.max(1,Math.abs(ft),Math.abs(yt))}(this.pos,t)||s===0)return d[0]=d[1]=d[2]=0,!1;const[y,S,I]=this.dir,O=this.pos[0]-t[0],j=this.pos[1]-t[1],U=this.pos[2]-t[2],re=y*y+S*S+I*I,ce=2*(O*y+j*S+U*I),ge=ce*ce-4*re*(O*O+j*j+U*U-s*s);if(ge<0){const Te=Math.max(-ce/2,0),Ae=O+y*Te,Be=j+S*Te,nt=U+I*Te,ft=Math.hypot(Ae,Be,nt);return d[0]=Ae*s/ft,d[1]=Be*s/ft,d[2]=nt*s/ft,!1}{const Te=(-ce-Math.sqrt(ge))/(2*re);if(Te<0){const Ae=Math.hypot(O,j,U);return d[0]=O*s/Ae,d[1]=j*s/Ae,d[2]=U*s/Ae,!1}return d[0]=O+y*Te,d[1]=j+S*Te,d[2]=U+I*Te,!0}}}class Dm{constructor(t,s,d,y,S){this.TL=t,this.TR=s,this.BR=d,this.BL=y,this.horizon=S}static fromInvProjectionMatrix(t,s,d){const y=[-1,1,1],S=[1,1,1],I=[1,-1,1],O=[-1,-1,1],j=Ea(y,y,t),U=Ea(S,S,t),re=Ea(I,I,t),ce=Ea(O,O,t);return new Dm(j,U,re,ce,s/d)}}class Pm{constructor(t,s){this.points=t,this.planes=s}static fromInvProjectionMatrix(t,s,d,y){const S=Math.pow(2,d),I=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const U=uu([],j,t),re=1/U[3]/s*S;return function(ce,ge,Te){return ce[0]=ge[0]*Te[0],ce[1]=ge[1]*Te[1],ce[2]=ge[2]*Te[2],ce[3]=ge[3]*Te[3],ce}(U,U,[re,re,y?1/U[3]:re,re])}),O=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const U=no([],Im([],oc([],I[j[0]],I[j[1]]),oc([],I[j[2]],I[j[1]]))),re=-Dl(U,I[j[1]]);return U.concat(re)});return new Pm(I,O)}}class ao{static fromPoints(t){const s=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const y of t)s0(s,s,y),o0(d,d,y);return new ao(s,d)}static applyTransform(t,s){const d=t.getCorners();for(let y=0;y<d.length;++y)Ea(d[y],d[y],s);return ao.fromPoints(d)}constructor(t,s){this.min=t,this.max=s,this.center=sl([],ih([],this.min,this.max),.5)}quadrant(t){const s=[t%2==0,t<2],d=Gx(this.min),y=Gx(this.max);for(let S=0;S<s.length;S++)d[S]=s[S]?this.min[S]:this.center[S],y[S]=s[S]?this.center[S]:this.max[S];return y[2]=this.max[2],new ao(d,y)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,s=this.max;return[[t[0],t[1],t[2]],[s[0],t[1],t[2]],[s[0],s[1],t[2]],[t[0],s[1],t[2]],[t[0],t[1],s[2]],[s[0],t[1],s[2]],[s[0],s[1],s[2]],[t[0],s[1],s[2]]]}intersects(t){const s=this.getCorners();let d=!0;for(let y=0;y<t.planes.length;y++){const S=t.planes[y];let I=0;for(let O=0;O<s.length;O++)I+=Dl(S,s[O])+S[3]>=0;if(I===0)return 0;I!==s.length&&(d=!1)}if(d)return 2;for(let y=0;y<3;y++){let S=Number.MAX_VALUE,I=-Number.MAX_VALUE;for(let O=0;O<t.points.length;O++){const j=t.points[O][y]-this.min[y];S=Math.min(S,j),I=Math.max(I,j)}if(I<0||S>this.max[y]-this.min[y])return 0}return 1}}function Jx(a,t,s,d,y,S,I,O,j){if(S&&a.queryGeometry.isAboveHorizon)return!1;S&&(j*=a.pixelToTileUnitsFactor);const U=a.tileID.canonical,re=s.projection.upVectorScale(U,s.center.lat,s.worldSize).metersToTile;for(const ce of t)for(const ge of ce){const Te=ge.add(O),Ae=y&&s.elevation?s.elevation.exaggeration()*y.getElevationAt(Te.x,Te.y,!0):0,Be=s.projection.projectTilePoint(Te.x,Te.y,U);if(Ae>0){const dt=s.projection.upVector(U,Te.x,Te.y);Be.x+=dt[0]*re*Ae,Be.y+=dt[1]*re*Ae,Be.z+=dt[2]*re*Ae}const nt=S?Te:F7(Be.x,Be.y,Be.z,d),ft=S?a.tilespaceRays.map(dt=>j7(dt,Ae)):a.queryGeometry.screenGeometry,Et=uu([],[Be.x,Be.y,Be.z,1],d);if(!I&&S?j*=Et[3]/s.cameraToCenterDistance:I&&!S&&(j*=s.cameraToCenterDistance/Et[3]),S){const dt=Os((ge.y/vr+U.y)/(1<<U.z));j/=s.projection.pixelsPerMeter(dt,1)/kl(1,dt)}if(C7(ft,nt,j))return!0}return!1}function F7(a,t,s,d){const y=uu([],[a,t,s,1],d);return new Ye(y[0]/y[3],y[1]/y[3])}const Qx=Ku(0,0,0),B7=Ku(0,0,1);function j7(a,t){const s=Mm();return Qx[2]=t,a.intersectsPlane(Qx,B7,s),new Ye(s[0],s[1])}class e_ extends wm{}function t_(a,{width:t,height:s},d,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==t*s*d)throw new RangeError("mismatched image size")}else y=new Uint8Array(t*s*d);return a.width=t,a.height=s,a.data=y,a}function i_(a,t,s){const{width:d,height:y}=t;d===a.width&&y===a.height||(Om(a,t,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,d),height:Math.min(a.height,y)},s),a.width=d,a.height=y,a.data=t.data)}function Om(a,t,s,d,y,S){if(y.width===0||y.height===0)return t;if(y.width>a.width||y.height>a.height||s.x>a.width-y.width||s.y>a.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>t.width||y.height>t.height||d.x>t.width-y.width||d.y>t.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const I=a.data,O=t.data;for(let j=0;j<y.height;j++){const U=((s.y+j)*a.width+s.x)*S,re=((d.y+j)*t.width+d.x)*S;for(let ce=0;ce<y.width*S;ce++)O[re+ce]=I[U+ce]}return t}Nt(e_,"HeatmapBucket",{omit:["layers"]});class rh{constructor(t,s){t_(this,t,1,s)}resize(t){i_(this,new rh(t),1)}clone(){return new rh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,s,d,y,S){Om(t,s,d,y,S,1)}}class jo{constructor(t,s){t_(this,t,4,s)}resize(t){i_(this,new jo(t),4)}replace(t,s){s?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new jo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,s,d,y,S){Om(t,s,d,y,S,4)}}Nt(rh,"AlphaImage"),Nt(jo,"RGBAImage");var V7={paint:new or({"heatmap-radius":new Qt(Le.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qt(Le.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Gt(Le.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Zi(Le.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Gt(Le.paint_heatmap["heatmap-opacity"])})};function Lm(a){const t={},s=a.resolution||256,d=a.clips?a.clips.length:1,y=a.image||new jo({width:s,height:d}),S=(I,O,j)=>{t[a.evaluationKey]=j;const U=a.expression.evaluate(t);y.data[I+O+0]=Math.floor(255*U.r/U.a),y.data[I+O+1]=Math.floor(255*U.g/U.a),y.data[I+O+2]=Math.floor(255*U.b/U.a),y.data[I+O+3]=Math.floor(255*U.a)};if(a.clips)for(let I=0,O=0;I<d;++I,O+=4*s)for(let j=0,U=0;j<s;j++,U+=4){const re=j/(s-1),{start:ce,end:ge}=a.clips[I];S(O,U,ce*(1-re)+ge*re)}else for(let I=0,O=0;I<s;I++,O+=4)S(0,O,I/(s-1));return y}var U7={paint:new or({"hillshade-illumination-direction":new Gt(Le.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Gt(Le.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Gt(Le.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Gt(Le.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Gt(Le.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Gt(Le.paint_hillshade["hillshade-accent-color"])})};const G7=$i([{name:"a_pos",components:2,type:"Int16"}],4),{members:H7}=G7;var h0={exports:{}};function jf(a,t,s){s=s||2;var d,y,S,I,O,j,U,re=t&&t.length,ce=re?t[0]*s:a.length,ge=r_(a,0,ce,s,!0),Te=[];if(!ge||ge.next===ge.prev)return Te;if(re&&(ge=function(Be,nt,ft,Et){var dt,yt,kt,Tt=[];for(dt=0,yt=nt.length;dt<yt;dt++)(kt=r_(Be,nt[dt]*Et,dt<yt-1?nt[dt+1]*Et:Be.length,Et,!1))===kt.next&&(kt.steiner=!0),Tt.push(J7(kt));for(Tt.sort(Z7),dt=0;dt<Tt.length;dt++)ft=q7(Tt[dt],ft);return ft}(a,t,ge,s)),a.length>80*s){d=S=a[0],y=I=a[1];for(var Ae=s;Ae<ce;Ae+=s)(O=a[Ae])<d&&(d=O),(j=a[Ae+1])<y&&(y=j),O>S&&(S=O),j>I&&(I=j);U=(U=Math.max(S-d,I-y))!==0?32767/U:0}return u0(ge,Te,s,d,y,U,0),Te}function r_(a,t,s,d,y){var S,I;if(y===Nm(a,t,s,d)>0)for(S=t;S<s;S+=d)I=s_(S,a[S],a[S+1],I);else for(S=s-d;S>=t;S-=d)I=s_(S,a[S],a[S+1],I);return I&&Vf(I,I.next)&&(f0(I),I=I.next),I}function du(a,t){if(!a)return a;t||(t=a);var s,d=a;do if(s=!1,d.steiner||!Vf(d,d.next)&&ka(d.prev,d,d.next)!==0)d=d.next;else{if(f0(d),(d=t=d.prev)===d.next)break;s=!0}while(s||d!==t);return t}function u0(a,t,s,d,y,S,I){if(a){!I&&S&&function(re,ce,ge,Te){var Ae=re;do Ae.z===0&&(Ae.z=Rm(Ae.x,Ae.y,ce,ge,Te)),Ae.prevZ=Ae.prev,Ae.nextZ=Ae.next,Ae=Ae.next;while(Ae!==re);Ae.prevZ.nextZ=null,Ae.prevZ=null,function(Be){var nt,ft,Et,dt,yt,kt,Tt,Kt,Zt=1;do{for(ft=Be,Be=null,yt=null,kt=0;ft;){for(kt++,Et=ft,Tt=0,nt=0;nt<Zt&&(Tt++,Et=Et.nextZ);nt++);for(Kt=Zt;Tt>0||Kt>0&&Et;)Tt!==0&&(Kt===0||!Et||ft.z<=Et.z)?(dt=ft,ft=ft.nextZ,Tt--):(dt=Et,Et=Et.nextZ,Kt--),yt?yt.nextZ=dt:Be=dt,dt.prevZ=yt,yt=dt;ft=Et}yt.nextZ=null,Zt*=2}while(kt>1)}(Ae)}(a,d,y,S);for(var O,j,U=a;a.prev!==a.next;)if(O=a.prev,j=a.next,S?Y7(a,d,y,S):W7(a))t.push(O.i/s|0),t.push(a.i/s|0),t.push(j.i/s|0),f0(a),a=j.next,U=j.next;else if((a=j)===U){I?I===1?u0(a=$7(du(a),t,s),t,s,d,y,S,2):I===2&&X7(a,t,s,d,y,S):u0(du(a),t,s,d,y,S,1);break}}}function W7(a){var t=a.prev,s=a,d=a.next;if(ka(t,s,d)>=0)return!1;for(var y=t.x,S=s.x,I=d.x,O=t.y,j=s.y,U=d.y,re=y<S?y<I?y:I:S<I?S:I,ce=O<j?O<U?O:U:j<U?j:U,ge=y>S?y>I?y:I:S>I?S:I,Te=O>j?O>U?O:U:j>U?j:U,Ae=d.next;Ae!==t;){if(Ae.x>=re&&Ae.x<=ge&&Ae.y>=ce&&Ae.y<=Te&&Ju(y,O,S,j,I,U,Ae.x,Ae.y)&&ka(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.next}return!0}function Y7(a,t,s,d){var y=a.prev,S=a,I=a.next;if(ka(y,S,I)>=0)return!1;for(var O=y.x,j=S.x,U=I.x,re=y.y,ce=S.y,ge=I.y,Te=O<j?O<U?O:U:j<U?j:U,Ae=re<ce?re<ge?re:ge:ce<ge?ce:ge,Be=O>j?O>U?O:U:j>U?j:U,nt=re>ce?re>ge?re:ge:ce>ge?ce:ge,ft=Rm(Te,Ae,t,s,d),Et=Rm(Be,nt,t,s,d),dt=a.prevZ,yt=a.nextZ;dt&&dt.z>=ft&&yt&&yt.z<=Et;){if(dt.x>=Te&&dt.x<=Be&&dt.y>=Ae&&dt.y<=nt&&dt!==y&&dt!==I&&Ju(O,re,j,ce,U,ge,dt.x,dt.y)&&ka(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,yt.x>=Te&&yt.x<=Be&&yt.y>=Ae&&yt.y<=nt&&yt!==y&&yt!==I&&Ju(O,re,j,ce,U,ge,yt.x,yt.y)&&ka(yt.prev,yt,yt.next)>=0))return!1;yt=yt.nextZ}for(;dt&&dt.z>=ft;){if(dt.x>=Te&&dt.x<=Be&&dt.y>=Ae&&dt.y<=nt&&dt!==y&&dt!==I&&Ju(O,re,j,ce,U,ge,dt.x,dt.y)&&ka(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;yt&&yt.z<=Et;){if(yt.x>=Te&&yt.x<=Be&&yt.y>=Ae&&yt.y<=nt&&yt!==y&&yt!==I&&Ju(O,re,j,ce,U,ge,yt.x,yt.y)&&ka(yt.prev,yt,yt.next)>=0)return!1;yt=yt.nextZ}return!0}function $7(a,t,s){var d=a;do{var y=d.prev,S=d.next.next;!Vf(y,S)&&n_(y,d,d.next,S)&&d0(y,S)&&d0(S,y)&&(t.push(y.i/s|0),t.push(d.i/s|0),t.push(S.i/s|0),f0(d),f0(d.next),d=a=S),d=d.next}while(d!==a);return du(d)}function X7(a,t,s,d,y,S){var I=a;do{for(var O=I.next.next;O!==I.prev;){if(I.i!==O.i&&Q7(I,O)){var j=a_(I,O);return I=du(I,I.next),j=du(j,j.next),u0(I,t,s,d,y,S,0),void u0(j,t,s,d,y,S,0)}O=O.next}I=I.next}while(I!==a)}function Z7(a,t){return a.x-t.x}function q7(a,t){var s=function(y,S){var I,O=S,j=y.x,U=y.y,re=-1/0;do{if(U<=O.y&&U>=O.next.y&&O.next.y!==O.y){var ce=O.x+(U-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(ce<=j&&ce>re&&(re=ce,I=O.x<O.next.x?O:O.next,ce===j))return I}O=O.next}while(O!==S);if(!I)return null;var ge,Te=I,Ae=I.x,Be=I.y,nt=1/0;O=I;do j>=O.x&&O.x>=Ae&&j!==O.x&&Ju(U<Be?j:re,U,Ae,Be,U<Be?re:j,U,O.x,O.y)&&(ge=Math.abs(U-O.y)/(j-O.x),d0(O,y)&&(ge<nt||ge===nt&&(O.x>I.x||O.x===I.x&&K7(I,O)))&&(I=O,nt=ge)),O=O.next;while(O!==Te);return I}(a,t);if(!s)return t;var d=a_(s,a);return du(d,d.next),du(s,s.next)}function K7(a,t){return ka(a.prev,a,t.prev)<0&&ka(t.next,a,a.next)<0}function Rm(a,t,s,d,y){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-s)*y|0)|a<<8))|a<<4))|a<<2))|a<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-d)*y|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function J7(a){var t=a,s=a;do(t.x<s.x||t.x===s.x&&t.y<s.y)&&(s=t),t=t.next;while(t!==a);return s}function Ju(a,t,s,d,y,S,I,O){return(y-I)*(t-O)>=(a-I)*(S-O)&&(a-I)*(d-O)>=(s-I)*(t-O)&&(s-I)*(S-O)>=(y-I)*(d-O)}function Q7(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!function(s,d){var y=s;do{if(y.i!==s.i&&y.next.i!==s.i&&y.i!==d.i&&y.next.i!==d.i&&n_(y,y.next,s,d))return!0;y=y.next}while(y!==s);return!1}(a,t)&&(d0(a,t)&&d0(t,a)&&function(s,d){var y=s,S=!1,I=(s.x+d.x)/2,O=(s.y+d.y)/2;do y.y>O!=y.next.y>O&&y.next.y!==y.y&&I<(y.next.x-y.x)*(O-y.y)/(y.next.y-y.y)+y.x&&(S=!S),y=y.next;while(y!==s);return S}(a,t)&&(ka(a.prev,a,t.prev)||ka(a,t.prev,t))||Vf(a,t)&&ka(a.prev,a,a.next)>0&&ka(t.prev,t,t.next)>0)}function ka(a,t,s){return(t.y-a.y)*(s.x-t.x)-(t.x-a.x)*(s.y-t.y)}function Vf(a,t){return a.x===t.x&&a.y===t.y}function n_(a,t,s,d){var y=Gf(ka(a,t,s)),S=Gf(ka(a,t,d)),I=Gf(ka(s,d,a)),O=Gf(ka(s,d,t));return y!==S&&I!==O||!(y!==0||!Uf(a,s,t))||!(S!==0||!Uf(a,d,t))||!(I!==0||!Uf(s,a,d))||!(O!==0||!Uf(s,t,d))}function Uf(a,t,s){return t.x<=Math.max(a.x,s.x)&&t.x>=Math.min(a.x,s.x)&&t.y<=Math.max(a.y,s.y)&&t.y>=Math.min(a.y,s.y)}function Gf(a){return a>0?1:a<0?-1:0}function d0(a,t){return ka(a.prev,a,a.next)<0?ka(a,t,a.next)>=0&&ka(a,a.prev,t)>=0:ka(a,t,a.prev)<0||ka(a,a.next,t)<0}function a_(a,t){var s=new zm(a.i,a.x,a.y),d=new zm(t.i,t.x,t.y),y=a.next,S=t.prev;return a.next=t,t.prev=a,s.next=y,y.prev=s,d.next=s,s.prev=d,S.next=d,d.prev=S,d}function s_(a,t,s,d){var y=new zm(a,t,s);return d?(y.next=d.next,y.prev=d,d.next.prev=y,d.next=y):(y.prev=y,y.next=y),y}function f0(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function zm(a,t,s){this.i=a,this.x=t,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nm(a,t,s,d){for(var y=0,S=t,I=s-d;S<s;S+=d)y+=(a[I]-a[S])*(a[S+1]+a[I+1]),I=S;return y}function eS(a,t,s,d,y){o_(a,t,s||0,d||a.length-1,y||tS)}function o_(a,t,s,d,y){for(;d>s;){if(d-s>600){var S=d-s+1,I=t-s+1,O=Math.log(S),j=.5*Math.exp(2*O/3),U=.5*Math.sqrt(O*j*(S-j)/S)*(I-S/2<0?-1:1);o_(a,t,Math.max(s,Math.floor(t-I*j/S+U)),Math.min(d,Math.floor(t+(S-I)*j/S+U)),y)}var re=a[t],ce=s,ge=d;for(p0(a,s,t),y(a[d],re)>0&&p0(a,s,d);ce<ge;){for(p0(a,ce,ge),ce++,ge--;y(a[ce],re)<0;)ce++;for(;y(a[ge],re)>0;)ge--}y(a[s],re)===0?p0(a,s,ge):p0(a,++ge,d),ge<=t&&(s=ge+1),t<=ge&&(d=ge-1)}}function p0(a,t,s){var d=a[t];a[t]=a[s],a[s]=d}function tS(a,t){return a<t?-1:a>t?1:0}function Fm(a,t){const s=a.length;if(s<=1)return[a];const d=[];let y,S;for(let I=0;I<s;I++){const O=Mi(a[I]);O!==0&&(a[I].area=Math.abs(O),S===void 0&&(S=O<0),S===O<0?(y&&d.push(y),y=[a[I]]):y.push(a[I]))}if(y&&d.push(y),t>1)for(let I=0;I<d.length;I++)d[I].length<=t||(eS(d[I],t,1,d[I].length-1,iS),d[I]=d[I].slice(0,t));return d}function iS(a,t){return t.area-a.area}function Bm(a,t,s){const d=s.patternDependencies;let y=!1;for(const S of t){const I=S.paint.get(`${a}-pattern`);I.isConstant()||(y=!0);const O=I.constantOr(null);O&&(y=!0,d[O]=!0)}return y}function jm(a,t,s,d,y){const S=y.patternDependencies;for(const I of t){const O=I.paint.get(`${a}-pattern`).value;if(O.kind!=="constant"){let j=O.evaluate({zoom:d},s,{},y.availableImages);j=j&&j.name?j.name:j,S[j]=!0,s.patterns[I.id]=j}}return s}h0.exports=jf,h0.exports.default=jf,jf.deviation=function(a,t,s,d){var y=t&&t.length,S=Math.abs(Nm(a,0,y?t[0]*s:a.length,s));if(y)for(var I=0,O=t.length;I<O;I++)S-=Math.abs(Nm(a,t[I]*s,I<O-1?t[I+1]*s:a.length,s));var j=0;for(I=0;I<d.length;I+=3){var U=d[I]*s,re=d[I+1]*s,ce=d[I+2]*s;j+=Math.abs((a[U]-a[ce])*(a[re+1]-a[U+1])-(a[U]-a[re])*(a[ce+1]-a[U+1]))}return S===0&&j===0?0:Math.abs((j-S)/S)},jf.flatten=function(a){for(var t=a[0][0].length,s={vertices:[],holes:[],dimensions:t},d=0,y=0;y<a.length;y++){for(var S=0;S<a[y].length;S++)for(var I=0;I<t;I++)s.vertices.push(a[y][S][I]);y>0&&s.holes.push(d+=a[y-1].length)}return s};class Hf{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(s=>s.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new on,this.indexArray=new Ps,this.indexArray2=new Il,this.programConfigurations=new su(t.layers,t.zoom),this.segments=new Ba,this.segments2=new Ba,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.projection=t.projection}populate(t,s,d,y){this.hasPattern=Bm("fill",this.layers,s);const S=this.layers[0].layout.get("fill-sort-key"),I=[];for(const{feature:O,id:j,index:U,sourceLayerIndex:re}of t){const ce=this.layers[0]._featureFilter.needGeometry,ge=ou(O,ce);if(!this.layers[0]._featureFilter.filter(new jt(this.zoom),ge,d))continue;const Te=S?S.evaluate(ge,{},d,s.availableImages):void 0,Ae={id:j,properties:O.properties,type:O.type,sourceLayerIndex:re,index:U,geometry:ce?ge.geometry:th(O,d,y),patterns:{},sortKey:Te};I.push(Ae)}S&&I.sort((O,j)=>O.sortKey-j.sortKey);for(const O of I){const{geometry:j,index:U,sourceLayerIndex:re}=O;if(this.hasPattern){const ce=jm("fill",this.layers,O,this.zoom,s);this.patternFeatures.push(ce)}else this.addFeature(O,j,U,d,{},s.availableImages);s.featureIndex.insert(t[U].feature,j,U,re,this.index)}}update(t,s,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,s,this.stateDependentLayers,d,y)}addFeatures(t,s,d,y,S){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,s,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,H7),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,s,d,y,S,I=[]){for(const O of Fm(s,500)){let j=0;for(const Ae of O)j+=Ae.length;const U=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray),re=U.vertexLength,ce=[],ge=[];for(const Ae of O){if(Ae.length===0)continue;Ae!==O[0]&&ge.push(ce.length/2);const Be=this.segments2.prepareSegment(Ae.length,this.layoutVertexArray,this.indexArray2),nt=Be.vertexLength;this.layoutVertexArray.emplaceBack(Ae[0].x,Ae[0].y),this.indexArray2.emplaceBack(nt+Ae.length-1,nt),ce.push(Ae[0].x),ce.push(Ae[0].y);for(let ft=1;ft<Ae.length;ft++)this.layoutVertexArray.emplaceBack(Ae[ft].x,Ae[ft].y),this.indexArray2.emplaceBack(nt+ft-1,nt+ft),ce.push(Ae[ft].x),ce.push(Ae[ft].y);Be.vertexLength+=Ae.length,Be.primitiveLength+=Ae.length}const Te=h0.exports(ce,ge);for(let Ae=0;Ae<Te.length;Ae+=3)this.indexArray.emplaceBack(re+Te[Ae],re+Te[Ae+1],re+Te[Ae+2]);U.vertexLength+=j,U.primitiveLength+=Te.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,S,I,y)}}Nt(Hf,"FillBucket",{omit:["layers","patternFeatures"]});const rS=new or({"fill-sort-key":new Qt(Le.layout_fill["fill-sort-key"])});var nS={paint:new or({"fill-antialias":new Gt(Le.paint_fill["fill-antialias"]),"fill-opacity":new Qt(Le.paint_fill["fill-opacity"]),"fill-color":new Qt(Le.paint_fill["fill-color"]),"fill-outline-color":new Qt(Le.paint_fill["fill-outline-color"]),"fill-translate":new Gt(Le.paint_fill["fill-translate"]),"fill-translate-anchor":new Gt(Le.paint_fill["fill-translate-anchor"]),"fill-pattern":new Qt(Le.paint_fill["fill-pattern"])}),layout:rS};const aS=$i([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),sS=$i([{name:"a_centroid_pos",components:2,type:"Uint16"}]),oS=$i([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:lS}=aS;var Wf={},cS=Ye,l_=Qu;function Qu(a,t,s,d,y){this.properties={},this.extent=s,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=y,a.readFields(hS,this,t)}function hS(a,t,s){a==1?t.id=s.readVarint():a==2?function(d,y){for(var S=d.readVarint()+d.pos;d.pos<S;){var I=y._keys[d.readVarint()],O=y._values[d.readVarint()];y.properties[I]=O}}(s,t):a==3?t.type=s.readVarint():a==4&&(t._geometry=s.pos)}function uS(a){for(var t,s,d=0,y=0,S=a.length,I=S-1;y<S;I=y++)d+=((s=a[I]).x-(t=a[y]).x)*(t.y+s.y);return d}Qu.types=["Unknown","Point","LineString","Polygon"],Qu.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var t,s=a.readVarint()+a.pos,d=1,y=0,S=0,I=0,O=[];a.pos<s;){if(y<=0){var j=a.readVarint();d=7&j,y=j>>3}if(y--,d===1||d===2)S+=a.readSVarint(),I+=a.readSVarint(),d===1&&(t&&O.push(t),t=[]),t.push(new cS(S,I));else{if(d!==7)throw new Error("unknown command "+d);t&&t.push(t[0].clone())}}return t&&O.push(t),O},Qu.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var t=a.readVarint()+a.pos,s=1,d=0,y=0,S=0,I=1/0,O=-1/0,j=1/0,U=-1/0;a.pos<t;){if(d<=0){var re=a.readVarint();s=7&re,d=re>>3}if(d--,s===1||s===2)(y+=a.readSVarint())<I&&(I=y),y>O&&(O=y),(S+=a.readSVarint())<j&&(j=S),S>U&&(U=S);else if(s!==7)throw new Error("unknown command "+s)}return[I,j,O,U]},Qu.prototype.toGeoJSON=function(a,t,s){var d,y,S=this.extent*Math.pow(2,s),I=this.extent*a,O=this.extent*t,j=this.loadGeometry(),U=Qu.types[this.type];function re(Te){for(var Ae=0;Ae<Te.length;Ae++){var Be=Te[Ae];Te[Ae]=[360*(Be.x+I)/S-180,360/Math.PI*Math.atan(Math.exp((180-360*(Be.y+O)/S)*Math.PI/180))-90]}}switch(this.type){case 1:var ce=[];for(d=0;d<j.length;d++)ce[d]=j[d][0];re(j=ce);break;case 2:for(d=0;d<j.length;d++)re(j[d]);break;case 3:for(j=function(Te){var Ae=Te.length;if(Ae<=1)return[Te];for(var Be,nt,ft=[],Et=0;Et<Ae;Et++){var dt=uS(Te[Et]);dt!==0&&(nt===void 0&&(nt=dt<0),nt===dt<0?(Be&&ft.push(Be),Be=[Te[Et]]):Be.push(Te[Et]))}return Be&&ft.push(Be),ft}(j),d=0;d<j.length;d++)for(y=0;y<j[d].length;y++)re(j[d][y])}j.length===1?j=j[0]:U="Multi"+U;var ge={type:"Feature",geometry:{type:U,coordinates:j},properties:this.properties};return"id"in this&&(ge.id=this.id),ge};var dS=l_,c_=h_;function h_(a,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(fS,this,t),this.length=this._features.length}function fS(a,t,s){a===15?t.version=s.readVarint():a===1?t.name=s.readString():a===5?t.extent=s.readVarint():a===2?t._features.push(s.pos):a===3?t._keys.push(s.readString()):a===4&&t._values.push(function(d){for(var y=null,S=d.readVarint()+d.pos;d.pos<S;){var I=d.readVarint()>>3;y=I===1?d.readString():I===2?d.readFloat():I===3?d.readDouble():I===4?d.readVarint64():I===5?d.readVarint():I===6?d.readSVarint():I===7?d.readBoolean():null}return y}(s))}h_.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var t=this._pbf.readVarint()+this._pbf.pos;return new dS(this._pbf,t,this.extent,this._keys,this._values)};var pS=c_;function mS(a,t,s){if(a===3){var d=new pS(s,s.readVarint()+s.pos);d.length&&(t[d.name]=d)}}var Vm=Wf.VectorTile=function(a,t){this.layers=a.readFields(mS,{},t)},Yf=Wf.VectorTileFeature=l_;function $f(a,t,s,d){const y=[],S=d===0?(I,O,j,U,re,ce)=>{I.push(new Ye(ce,j+(ce-O)/(U-O)*(re-j)))}:(I,O,j,U,re,ce)=>{I.push(new Ye(O+(ce-j)/(re-j)*(U-O),ce))};for(const I of a){const O=[];for(const j of I){if(j.length<=2)continue;const U=[];for(let ge=0;ge<j.length-1;ge++){const Te=j[ge].x,Ae=j[ge].y,Be=j[ge+1].x,nt=j[ge+1].y,ft=d===0?Te:Ae,Et=d===0?Be:nt;ft<t?Et>t&&S(U,Te,Ae,Be,nt,t):ft>s?Et<s&&S(U,Te,Ae,Be,nt,s):U.push(j[ge]),Et<t&&ft>=t&&S(U,Te,Ae,Be,nt,t),Et>s&&ft<=s&&S(U,Te,Ae,Be,nt,s)}let re=j[j.length-1];const ce=d===0?re.x:re.y;ce>=t&&ce<=s&&U.push(re),U.length&&(re=U[U.length-1],U[0].x===re.x&&U[0].y===re.y||U.push(U[0]),O.push(U))}O.length&&y.push(O)}return y}Wf.VectorTileLayer=c_;const gS=Yf.types,vS=Math.pow(2,13);function m0(a,t,s,d,y,S,I,O){a.emplaceBack((t<<1)+I,(s<<1)+S,(Math.floor(d*vS)<<1)+y,Math.round(O))}function g0(a,t,s){a.emplaceBack(t.x,t.y,t.z,s[0]*16384,s[1]*16384,s[2]*16384)}class u_{constructor(){this.acc=new Ye(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Ye(t.x,t.y),this.max=new Ye(t.x,t.y))}append(t,s){this.currentPolyCount.edges++,this.acc._add(t);const d=this.min,y=this.max;t.x<d.x?d.x=t.x:t.x>y.x&&(y.x=t.x),t.y<d.y?d.y=t.y:t.y>y.y&&(y.y=t.y),((t.x===0||t.x===vr)&&t.x===s.x)!=((t.y===0||t.y===vr)&&t.y===s.y)&&this.processBorderOverlap(t,s),s.x<0!=t.x<0&&this.addBorderIntersection(0,xr(s.y,t.y,(0-s.x)/(t.x-s.x))),s.x>vr!=t.x>vr&&this.addBorderIntersection(1,xr(s.y,t.y,(vr-s.x)/(t.x-s.x))),s.y<0!=t.y<0&&this.addBorderIntersection(2,xr(s.x,t.x,(0-s.y)/(t.y-s.y))),s.y>vr!=t.y>vr&&this.addBorderIntersection(3,xr(s.x,t.x,(vr-s.y)/(t.y-s.y)))}addBorderIntersection(t,s){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[t];s<d[0]&&(d[0]=s),s>d[1]&&(d[1]=s)}processBorderOverlap(t,s){if(t.x===s.x){if(t.y===s.y)return;const d=t.x===0?0:1;this.addBorderIntersection(d,s.y),this.addBorderIntersection(d,t.y)}else{const d=t.y===0?2:3;this.addBorderIntersection(d,s.x),this.addBorderIntersection(d,t.x)}}centroid(){const t=this.polyCount.reduce((s,d)=>s+d.edges,0);return t!==0?this.acc.div(t)._round():new Ye(0,0)}span(){return new Ye(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((t,s)=>t+ +(s[0]!==Number.MAX_VALUE),0)}}class v0{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(s=>s.id),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new _n,this.centroidVertexArray=new xx,this.indexArray=new Ps,this.programConfigurations=new su(t.layers,t.zoom),this.segments=new Ba,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.enableTerrain=t.enableTerrain}populate(t,s,d,y){this.features=[],this.hasPattern=Bm("fill-extrusion",this.layers,s),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(S){const I=Math.exp(Math.PI*(1-S.y/(1<<S.z)*2));return 80150034*I/(I*I+1)/vr/(1<<S.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:S,id:I,index:O,sourceLayerIndex:j}of t){const U=this.layers[0]._featureFilter.needGeometry,re=ou(S,U);if(!this.layers[0]._featureFilter.filter(new jt(this.zoom),re,d))continue;const ce={id:I,sourceLayerIndex:j,index:O,geometry:U?re.geometry:th(S,d,y),properties:S.properties,type:S.type,patterns:{}},ge=this.layoutVertexArray.length;this.hasPattern?this.features.push(jm("fill-extrusion",this.layers,ce,this.zoom,s)):this.addFeature(ce,ce.geometry,O,d,{},s.availableImages,y),s.featureIndex.insert(S,ce.geometry,O,j,this.index,ge)}this.sortBorders()}addFeatures(t,s,d,y,S){for(const I of this.features){const{geometry:O}=I;this.addFeature(I,O,I.index,s,d,y,S)}this.sortBorders()}update(t,s,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,s,this.stateDependentLayers,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,lS),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,oS.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,sS.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,s,d,y,S,I,O){const j=[new Ye(0,0),new Ye(vr,vr)],U=O.projection,re=U.name==="globe",ce=this.enableTerrain&&!re?new u_:null,ge=gS[t.type]==="Polygon";re&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Nn);const Te=Fm(s,500);for(let ft=Te.length-1;ft>=0;ft--){const Et=Te[ft];(Et.length===0||(Ae=Et[0]).every(dt=>dt.x<=0)||Ae.every(dt=>dt.x>=vr)||Ae.every(dt=>dt.y<=0)||Ae.every(dt=>dt.y>=vr))&&Te.splice(ft,1)}var Ae;let Be;if(re)Be=y_(Te,j,y);else{Be=[];for(const ft of Te)Be.push({polygon:ft,bounds:j})}const nt=ge?this.edgeRadius:0;for(const{polygon:ft,bounds:Et}of Be){let dt=0,yt=0;for(const Tt of ft)ge&&!Tt[0].equals(Tt[Tt.length-1])&&Tt.push(Tt[0]),yt+=ge?Tt.length-1:Tt.length;const kt=this.segments.prepareSegment((ge?5:4)*yt,this.layoutVertexArray,this.indexArray);if(ge){const Tt=[],Kt=[];dt=kt.vertexLength;for(const fi of ft){let Ii,ii;fi.length&&fi!==ft[0]&&Kt.push(Tt.length/2),Ii=fi[1].sub(fi[0])._perp()._unit();for(let vi=1;vi<fi.length;vi++){const xi=fi[vi],Ti=fi[vi===fi.length-1?1:vi+1];let{x:Di,y:ri}=xi;if(nt){ii=Ti.sub(xi)._perp()._unit();const Bi=Ii.add(ii)._unit(),hr=nt*Math.min(4,1/(Ii.x*Bi.x+Ii.y*Bi.y));Di+=hr*Bi.x,ri+=hr*Bi.y,Ii=ii}m0(this.layoutVertexArray,Di,ri,0,0,1,1,0),kt.vertexLength++,Tt.push(xi.x,xi.y),re&&g0(this.layoutVertexExtArray,U.projectTilePoint(Di,ri,y),U.upVector(y,Di,ri))}}const Zt=h0.exports(Tt,Kt);for(let fi=0;fi<Zt.length;fi+=3)this.indexArray.emplaceBack(dt+Zt[fi],dt+Zt[fi+2],dt+Zt[fi+1]),kt.primitiveLength++}for(const Tt of ft){ce&&Tt.length&&ce.startRing(Tt[0]);let Kt,Zt,fi,Ii=Tt.length>4&&m_(Tt[Tt.length-2],Tt[0],Tt[1]),ii=nt?yS(Tt[Tt.length-2],Tt[0],Tt[1],nt):0;Zt=Tt[1].sub(Tt[0])._perp()._unit();let vi=!0;for(let xi=1,Ti=0;xi<Tt.length;xi++){let Di=Tt[xi-1],ri=Tt[xi];const Bi=Tt[xi===Tt.length-1?1:xi+1];if(ce&&ge&&ce.currentPolyCount.top++,p_(ri,Di,Et)){nt&&(Zt=Bi.sub(ri)._perp()._unit(),vi=!vi);continue}ce&&ce.append(ri,Di);const hr=ri.sub(Di)._perp(),Wi=hr.x/(Math.abs(hr.x)+Math.abs(hr.y)),Ki=hr.y>0?1:0,ji=Di.dist(ri);if(Ti+ji>32768&&(Ti=0),nt){fi=Bi.sub(ri)._perp()._unit();let Dr=f_(Di,ri,Bi,d_(Zt,fi),nt);isNaN(Dr)&&(Dr=0);const gr=ri.sub(Di)._unit();Di=Di.add(gr.mult(ii))._round(),ri=ri.add(gr.mult(-Dr))._round(),ii=Dr,Zt=fi}const pr=kt.vertexLength,Nr=Tt.length>4&&m_(Di,ri,Bi);let Or=g_(Ti,Ii,vi);if(m0(this.layoutVertexArray,Di.x,Di.y,Wi,Ki,0,0,Or),m0(this.layoutVertexArray,Di.x,Di.y,Wi,Ki,0,1,Or),Ti+=ji,Or=g_(Ti,Nr,!vi),Ii=Nr,m0(this.layoutVertexArray,ri.x,ri.y,Wi,Ki,0,0,Or),m0(this.layoutVertexArray,ri.x,ri.y,Wi,Ki,0,1,Or),kt.vertexLength+=4,this.indexArray.emplaceBack(pr+0,pr+1,pr+2),this.indexArray.emplaceBack(pr+1,pr+3,pr+2),kt.primitiveLength+=2,nt){const Dr=dt+(xi===1?Tt.length-2:xi-2),gr=xi===1?dt:Dr+1;if(this.indexArray.emplaceBack(pr+1,Dr,pr+3),this.indexArray.emplaceBack(Dr,gr,pr+3),kt.primitiveLength+=2,Kt===void 0&&(Kt=pr),!p_(Bi,Tt[xi],Et)){const un=xi===Tt.length-1?Kt:kt.vertexLength;this.indexArray.emplaceBack(pr+2,pr+3,un),this.indexArray.emplaceBack(pr+3,un+1,un),this.indexArray.emplaceBack(pr+3,gr,un+1),kt.primitiveLength+=3}vi=!vi}if(re){const Dr=this.layoutVertexExtArray,gr=U.projectTilePoint(Di.x,Di.y,y),un=U.projectTilePoint(ri.x,ri.y,y),Tr=U.upVector(y,Di.x,Di.y),Fr=U.upVector(y,ri.x,ri.y);g0(Dr,gr,Tr),g0(Dr,gr,Tr),g0(Dr,un,Fr),g0(Dr,un,Fr)}}ge&&(dt+=Tt.length-1)}}if(ce&&ce.polyCount.length>0){if(ce.borders){ce.vertexArrayOffset=this.centroidVertexArray.length;const ft=ce.borders,Et=this.featuresOnBorder.push(ce)-1;for(let dt=0;dt<4;dt++)ft[dt][0]!==Number.MAX_VALUE&&this.borders[dt].push(Et)}this.encodeCentroid(ce.borders?void 0:ce.centroid(),ce)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,S,I,y)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort((s,d)=>this.featuresOnBorder[s].borders[t][0]-this.featuresOnBorder[d].borders[t][0])}encodeCentroid(t,s,d=!0){let y,S;if(t)if(t.y!==0){const O=s.span()._mult(this.tileToMeter);y=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(O.x/10)),S=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(O.y/10))}else y=Math.ceil(7*(t.x+450)),S=0;else y=0,S=+d;let I=d?this.centroidVertexArray.length:s.vertexArrayOffset;for(const O of s.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*O.edges+O.top);for(let j=0;j<O.top;j++)this.centroidVertexArray.emplace(I++,y,S);for(let j=0;j<2*O.edges;j++)this.centroidVertexArray.emplace(I++,0,S),this.centroidVertexArray.emplace(I++,y,S)}}}function d_(a,t){const s=a.add(t)._unit();return a.x*s.x+a.y*s.y}function yS(a,t,s,d){const y=t.sub(a)._perp()._unit(),S=s.sub(t)._perp()._unit();return f_(a,t,s,d_(y,S),d)}function f_(a,t,s,d,y){const S=Math.sqrt(1-d*d);return Math.min(a.dist(t)/3,t.dist(s)/3,y*S/d)}function p_(a,t,s){return a.x<s[0].x&&t.x<s[0].x||a.x>s[1].x&&t.x>s[1].x||a.y<s[0].y&&t.y<s[0].y||a.y>s[1].y&&t.y>s[1].y}function m_(a,t,s){if(a.x<0||a.x>=vr||t.x<0||t.x>=vr||s.x<0||s.x>=vr)return!1;const d=s.sub(t),y=d.perp(),S=a.sub(t);return(d.x*S.x+d.y*S.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(S.x*S.x+S.y*S.y))>-.866&&y.x*S.x+y.y*S.y<0}function g_(a,t,s){const d=t?2|a:-3&a;return s?1|d:-2&d}function v_(){const a=Math.PI/32,t=Math.tan(a),s=Lf;return s*Math.sqrt(1+2*t*t)-s}function y_(a,t,s){const d=1<<s.z,y=al(s.x/d),S=al((s.x+1)/d),I=Os(s.y/d),O=Os((s.y+1)/d);return function(j,U,re,ce,ge=0,Te){const Ae=[];if(!j.length||!re||!ce)return Ae;const Be=(Tt,Kt)=>{for(const Zt of Tt)Ae.push({polygon:Zt,bounds:Kt})},nt=Math.ceil(Math.log2(re)),ft=Math.ceil(Math.log2(ce)),Et=nt-ft,dt=[];for(let Tt=0;Tt<Math.abs(Et);Tt++)dt.push(Et>0?0:1);for(let Tt=0;Tt<Math.min(nt,ft);Tt++)dt.push(0),dt.push(1);let yt=j;if(yt=$f(yt,U[0].y-ge,U[1].y+ge,1),yt=$f(yt,U[0].x-ge,U[1].x+ge,0),!yt.length)return Ae;const kt=[];for(dt.length?kt.push({polygons:yt,bounds:U,depth:0}):Be(yt,U);kt.length;){const Tt=kt.pop(),Kt=Tt.depth,Zt=dt[Kt],fi=Tt.bounds[0],Ii=Tt.bounds[1],ii=Zt===0?fi.x:fi.y,vi=Zt===0?Ii.x:Ii.y,xi=Te?Te(Zt,ii,vi):.5*(ii+vi),Ti=$f(Tt.polygons,ii-ge,xi+ge,Zt),Di=$f(Tt.polygons,xi-ge,vi+ge,Zt);if(Ti.length){const ri=[fi,new Ye(Zt===0?xi:Ii.x,Zt===1?xi:Ii.y)];dt.length>Kt+1?kt.push({polygons:Ti,bounds:ri,depth:Kt+1}):Be(Ti,ri)}if(Di.length){const ri=[new Ye(Zt===0?xi:fi.x,Zt===1?xi:fi.y),Ii];dt.length>Kt+1?kt.push({polygons:Di,bounds:ri,depth:Kt+1}):Be(Di,ri)}}return Ae}(a,t,Math.ceil((S-y)/11.25),Math.ceil((I-O)/11.25),1,(j,U,re)=>{if(j===0)return .5*(U+re);{const ce=Os((s.y+U/vr)/d);return(Pc(.5*(Os((s.y+re/vr)/d)+ce))*d-s.y)*vr}})}Nt(v0,"FillExtrusionBucket",{omit:["layers","features"]}),Nt(u_,"PartMetadata");const xS=new or({"fill-extrusion-edge-radius":new Gt(Le["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var _S={paint:new or({"fill-extrusion-opacity":new Gt(Le["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qt(Le["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Gt(Le["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Gt(Le["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Qt(Le["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qt(Le["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qt(Le["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Gt(Le["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Gt(Le["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Gt(Le["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:xS};function x_(a,t,s){var d=2*Math.PI*6378137/256/Math.pow(2,s);return[a*d-2*Math.PI*6378137/2,t*d-2*Math.PI*6378137/2]}class Xf{constructor(t,s,d){this.z=t,this.x=s,this.y=d,this.key=y0(0,t,t,s,d)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,s){const d=function(S,I,O){var j=x_(256*S,256*(I=Math.pow(2,O)-I-1),O),U=x_(256*(S+1),256*(I+1),O);return j[0]+","+j[1]+","+U[0]+","+U[1]}(this.x,this.y,this.z),y=function(S,I,O){let j,U="";for(let re=S;re>0;re--)j=1<<re-1,U+=(I&j?1:0)+(O&j?2:0);return U}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",y).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class __{constructor(t,s){this.wrap=t,this.canonical=s,this.key=y0(t,s.z,s.z,s.x,s.y)}}class so{constructor(t,s,d,y,S){this.overscaledZ=t,this.wrap=s,this.canonical=new Xf(d,+y,+S),this.key=s===0&&t===d?this.canonical.key:y0(s,t,d,y,S)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const s=this.canonical.z-t;return t>this.canonical.z?new so(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new so(t,this.wrap,t,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(t,s=!0){if(this.overscaledZ===t&&s)return this.key;if(t>this.canonical.z)return y0(this.wrap*+s,t,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-t;return y0(this.wrap*+s,t,t,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const s=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>s&&t.canonical.y===this.canonical.y>>s}children(t){if(this.overscaledZ>=t)return[new so(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,d=2*this.canonical.x,y=2*this.canonical.y;return[new so(s,this.wrap,s,d,y),new so(s,this.wrap,s,d+1,y),new so(s,this.wrap,s,d,y+1),new so(s,this.wrap,s,d+1,y+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new so(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new so(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new __(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function y0(a,t,s,d,y){const S=1<<Math.min(s,22);let I=S*(y%S)+d%S;return a&&s<22&&(I+=S*S*((a<0?-2*a-1:2*a)%(1<<2*(22-s)))),16*(32*I+s)+(t-s)}Nt(Xf,"CanonicalTileID"),Nt(so,"OverscaledTileID",{omit:["projMatrix"]});class ed extends Ye{constructor(t,s,d){super(t,s),this.z=d}}function x0(a,t){return a.x*t.x+a.y*t.y}function b_(a,t){if(a.length===1){let s=0;const d=t[s++];let y;for(;!y||d.equals(y);)if(y=t[s++],!y)return 1/0;for(;s<t.length;s++){const S=t[s],I=a[0],O=y.sub(d),j=S.sub(d),U=I.sub(d),re=x0(O,O),ce=x0(O,j),ge=x0(j,j),Te=x0(U,O),Ae=x0(U,j),Be=re*ge-ce*ce,nt=(ge*Te-ce*Ae)/Be,ft=(re*Ae-ce*Te)/Be,Et=d.z*(1-nt-ft)+y.z*nt+S.z*ft;if(isFinite(Et))return Et}return 1/0}{let s=1/0;for(const d of t)s=Math.min(s,d.z);return s}}function w_(a,t,s,d,y,S,I,O){const j=I*y.getElevationAt(a,t,!0,!0),U=S[0]!==0,re=U?S[1]===0?I*(S[0]/7-450):I*function(ce,ge,Te){const Ae=Math.floor(ge[0]/8),Be=Math.floor(ge[1]/8),nt=10*(ge[0]-8*Ae),ft=10*(ge[1]-8*Be),Et=ce.getElevationAt(Ae,Be,!0,!0),dt=ce.getMeterToDEM(Te),yt=Math.floor(.5*(nt*dt-1)),kt=Math.floor(.5*(ft*dt-1)),Tt=ce.tileCoordToPixel(Ae,Be),Kt=2*yt+1,Zt=2*kt+1,fi=function(Di,ri,Bi,hr,Wi){return[Di.getElevationAtPixel(ri,Bi,!0),Di.getElevationAtPixel(ri+Wi,Bi,!0),Di.getElevationAtPixel(ri,Bi+Wi,!0),Di.getElevationAtPixel(ri+hr,Bi+Wi,!0)]}(ce,Tt.x-yt,Tt.y-kt,Kt,Zt),Ii=Math.abs(fi[0]-fi[1]),ii=Math.abs(fi[2]-fi[3]),vi=Math.abs(fi[0]-fi[2])+Math.abs(fi[1]-fi[3]),xi=Math.min(.25,.5*dt*(Ii+ii)/Kt),Ti=Math.min(.25,.5*dt*vi/Zt);return Et+Math.max(xi*nt,Ti*ft)}(y,S,O):j;return{base:j+(s===0)?-1:s,top:U?Math.max(re+d,j+s+2):j+d}}const bS=$i([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:wS}=bS,ES=$i([{name:"a_packed",components:4,type:"Float32"}]),{members:TS}=ES,SS=Yf.types,AS=Math.cos(Math.PI/180*37.5);class Zf{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(s=>s.id),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(s=>{this.gradients[s.id]={}}),this.layoutVertexArray=new ro,this.layoutVertexArray2=new Ao,this.indexArray=new Ps,this.programConfigurations=new su(t.layers,t.zoom),this.segments=new Ba,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(t,s,d,y){this.hasPattern=Bm("line",this.layers,s);const S=this.layers[0].layout.get("line-sort-key"),I=[];for(const{feature:re,id:ce,index:ge,sourceLayerIndex:Te}of t){const Ae=this.layers[0]._featureFilter.needGeometry,Be=ou(re,Ae);if(!this.layers[0]._featureFilter.filter(new jt(this.zoom),Be,d))continue;const nt=S?S.evaluate(Be,{},d):void 0,ft={id:ce,properties:re.properties,type:re.type,sourceLayerIndex:Te,index:ge,geometry:Ae?Be.geometry:th(re,d,y),patterns:{},sortKey:nt};I.push(ft)}S&&I.sort((re,ce)=>re.sortKey-ce.sortKey);const{lineAtlas:O,featureIndex:j}=s,U=this.addConstantDashes(O);for(const re of I){const{geometry:ce,index:ge,sourceLayerIndex:Te}=re;if(U&&this.addFeatureDashes(re,O),this.hasPattern){const Ae=jm("line",this.layers,re,this.zoom,s);this.patternFeatures.push(Ae)}else this.addFeature(re,ce,ge,d,O.positions,s.availableImages);j.insert(t[ge].feature,ce,ge,Te,this.index)}}addConstantDashes(t){let s=!1;for(const d of this.layers){const y=d.paint.get("line-dasharray").value,S=d.layout.get("line-cap").value;if(y.kind!=="constant"||S.kind!=="constant")s=!0;else{const I=S.value,O=y.value;if(!O)continue;t.addDash(O,I)}}return s}addFeatureDashes(t,s){const d=this.zoom;for(const y of this.layers){const S=y.paint.get("line-dasharray").value,I=y.layout.get("line-cap").value;if(S.kind==="constant"&&I.kind==="constant")continue;let O,j;if(S.kind==="constant"){if(O=S.value,!O)continue}else O=S.evaluate({zoom:d},t);j=I.kind==="constant"?I.value:I.evaluate({zoom:d},t),s.addDash(O,j),t.patterns[y.id]=s.getKey(O,j)}}update(t,s,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,s,this.stateDependentLayers,d,y)}addFeatures(t,s,d,y,S){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,s,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,TS)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,wS),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,s,d,y,S,I){const O=this.layers[0].layout,j=O.get("line-join").evaluate(t,{}),U=O.get("line-cap").evaluate(t,{}),re=O.get("line-miter-limit"),ce=O.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const ge of s)this.addLine(ge,t,j,U,re,ce);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,d,S,I,y)}addLine(t,s,d,y,S,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ft=0;ft<t.length-1;ft++)this.totalDistance+=t[ft].dist(t[ft+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O=SS[s.type]==="Polygon";let j=t.length;for(;j>=2&&t[j-1].equals(t[j-2]);)j--;let U=0;for(;U<j-1&&t[U].equals(t[U+1]);)U++;if(j<(O?3:2))return;d==="bevel"&&(S=1.05);const re=this.overscaling<=16?122880/(512*this.overscaling):0,ce=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);let ge,Te,Ae,Be,nt;this.e1=this.e2=-1,O&&(ge=t[j-2],nt=t[U].sub(ge)._unit()._perp());for(let ft=U;ft<j;ft++){if(Ae=ft===j-1?O?t[U+1]:void 0:t[ft+1],Ae&&t[ft].equals(Ae))continue;nt&&(Be=nt),ge&&(Te=ge),ge=t[ft],nt=Ae?Ae.sub(ge)._unit()._perp():Be,Be=Be||nt;let Et=Be.add(nt);Et.x===0&&Et.y===0||Et._unit();const dt=Be.x*nt.x+Be.y*nt.y,yt=Et.x*nt.x+Et.y*nt.y,kt=yt!==0?1/yt:1/0,Tt=2*Math.sqrt(2-2*yt),Kt=yt<AS&&Te&&Ae,Zt=Be.x*nt.y-Be.y*nt.x>0;if(Kt&&ft>U){const ii=ge.dist(Te);if(ii>2*re){const vi=ge.sub(ge.sub(Te)._mult(re/ii)._round());this.updateDistance(Te,vi),this.addCurrentVertex(vi,Be,0,0,ce),Te=vi}}const fi=Te&&Ae;let Ii=fi?d:O?"butt":y;if(fi&&Ii==="round"&&(kt<I?Ii="miter":kt<=2&&(Ii="fakeround")),Ii==="miter"&&kt>S&&(Ii="bevel"),Ii==="bevel"&&(kt>2&&(Ii="flipbevel"),kt<S&&(Ii="miter")),Te&&this.updateDistance(Te,ge),Ii==="miter")Et._mult(kt),this.addCurrentVertex(ge,Et,0,0,ce);else if(Ii==="flipbevel"){if(kt>100)Et=nt.mult(-1);else{const ii=kt*Be.add(nt).mag()/Be.sub(nt).mag();Et._perp()._mult(ii*(Zt?-1:1))}this.addCurrentVertex(ge,Et,0,0,ce),this.addCurrentVertex(ge,Et.mult(-1),0,0,ce)}else if(Ii==="bevel"||Ii==="fakeround"){const ii=-Math.sqrt(kt*kt-1),vi=Zt?ii:0,xi=Zt?0:ii;if(Te&&this.addCurrentVertex(ge,Be,vi,xi,ce),Ii==="fakeround"){const Ti=Math.round(180*Tt/Math.PI/20);for(let Di=1;Di<Ti;Di++){let ri=Di/Ti;if(ri!==.5){const hr=ri-.5;ri+=ri*hr*(ri-1)*((1.0904+dt*(dt*(3.55645-1.43519*dt)-3.2452))*hr*hr+(.848013+dt*(.215638*dt-1.06021)))}const Bi=nt.sub(Be)._mult(ri)._add(Be)._unit()._mult(Zt?-1:1);this.addHalfVertex(ge,Bi.x,Bi.y,!1,Zt,0,ce)}}Ae&&this.addCurrentVertex(ge,nt,-vi,-xi,ce)}else if(Ii==="butt")this.addCurrentVertex(ge,Et,0,0,ce);else if(Ii==="square"){const ii=Te?1:-1;Te||this.addCurrentVertex(ge,Et,ii,ii,ce),this.addCurrentVertex(ge,Et,0,0,ce),Te&&this.addCurrentVertex(ge,Et,ii,ii,ce)}else Ii==="round"&&(Te&&(this.addCurrentVertex(ge,Be,0,0,ce),this.addCurrentVertex(ge,Be,1,1,ce,!0)),Ae&&(this.addCurrentVertex(ge,nt,-1,-1,ce,!0),this.addCurrentVertex(ge,nt,0,0,ce)));if(Kt&&ft<j-1){const ii=ge.dist(Ae);if(ii>2*re){const vi=ge.add(Ae.sub(ge)._mult(re/ii)._round());this.updateDistance(ge,vi),this.addCurrentVertex(vi,nt,0,0,ce),ge=vi}}}}addCurrentVertex(t,s,d,y,S,I=!1){const O=s.y*y-s.x,j=-s.y-s.x*y;this.addHalfVertex(t,s.x+s.y*d,s.y-s.x*d,I,!1,d,S),this.addHalfVertex(t,O,j,I,!0,-y,S)}addHalfVertex({x:t,y:s},d,y,S,I,O,j){this.layoutVertexArray.emplaceBack((t<<1)+(S?1:0),(s<<1)+(I?1:0),Math.round(63*d)+128,Math.round(63*y)+128,1+(O===0?0:O<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const U=j.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,U),j.primitiveLength++),I?this.e2=U:this.e1=U}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,s){this.distance+=t.dist(s),this.updateScaledDistance()}}Nt(Zf,"LineBucket",{omit:["layers","patternFeatures"]});const MS=new or({"line-cap":new Qt(Le.layout_line["line-cap"]),"line-join":new Qt(Le.layout_line["line-join"]),"line-miter-limit":new Gt(Le.layout_line["line-miter-limit"]),"line-round-limit":new Gt(Le.layout_line["line-round-limit"]),"line-sort-key":new Qt(Le.layout_line["line-sort-key"])});var E_={paint:new or({"line-opacity":new Qt(Le.paint_line["line-opacity"]),"line-color":new Qt(Le.paint_line["line-color"]),"line-translate":new Gt(Le.paint_line["line-translate"]),"line-translate-anchor":new Gt(Le.paint_line["line-translate-anchor"]),"line-width":new Qt(Le.paint_line["line-width"]),"line-gap-width":new Qt(Le.paint_line["line-gap-width"]),"line-offset":new Qt(Le.paint_line["line-offset"]),"line-blur":new Qt(Le.paint_line["line-blur"]),"line-dasharray":new Qt(Le.paint_line["line-dasharray"]),"line-pattern":new Qt(Le.paint_line["line-pattern"]),"line-gradient":new Zi(Le.paint_line["line-gradient"]),"line-trim-offset":new Gt(Le.paint_line["line-trim-offset"])}),layout:MS};const T_=new class extends Qt{possiblyEvaluate(a,t){return t=new jt(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(a,t)}evaluate(a,t,s,d){return t=ht({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(a,t,s,d)}}(E_.paint.properties["line-width"].specification);function S_(a,t){return t>0?t+2*a:a}T_.useIntegerZoom=!0;const CS=$i([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),IS=$i([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),kS=$i([{name:"a_projected_pos",components:4,type:"Float32"}],4);$i([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const DS=$i([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),PS=$i([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);$i([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const A_=$i([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),OS=$i([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);$i([{name:"triangle",components:3,type:"Uint16"}]),$i([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),$i([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),$i([{type:"Float32",name:"offsetX"}]),$i([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Ls=24;const Lc=128;function Um(a,t){const{expression:s}=t;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new jt(a+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:y}=s;let S=0;for(;S<d.length&&d[S]<=a;)S++;S=Math.max(0,S-1);let I=S;for(;I<d.length&&d[I]<a+1;)I++;I=Math.min(d.length-1,I);const O=d[S],j=d[I];return s.kind==="composite"?{kind:"composite",minZoom:O,maxZoom:j,interpolationType:y}:{kind:"camera",minZoom:O,maxZoom:j,minSize:s.evaluate(new jt(O)),maxSize:s.evaluate(new jt(j)),interpolationType:y}}}function qf(a,{uSize:t,uSizeT:s},{lowerSize:d,upperSize:y}){return a.kind==="source"?d/Lc:a.kind==="composite"?xr(d/Lc,y/Lc,s):t}function td(a,t){let s=0,d=0;if(a.kind==="constant")d=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:y,minZoom:S,maxZoom:I}=a,O=y?fe(Ms.interpolationFactor(y,t,S,I),0,1):0;a.kind==="camera"?d=xr(a.minSize,a.maxSize,O):s=O}return{uSizeT:s,uSize:d}}var LS=Object.freeze({__proto__:null,getSizeData:Um,evaluateSizeForFeature:qf,evaluateSizeForZoom:td,SIZE_PACK_FACTOR:Lc});function RS(a,t,s){return a.sections.forEach(d=>{d.text=function(y,S,I){const O=S.layout.get("text-transform").evaluate(I,{});return O==="uppercase"?y=y.toLocaleUpperCase():O==="lowercase"&&(y=y.toLocaleLowerCase()),Yt.applyArabicShaping&&(y=Yt.applyArabicShaping(y)),y}(d.text,t,s)}),a}const _0={"!":"ï¸","#":"ï¼",$:"ï¼","%":"ï¼","&":"ï¼","(":"ï¸µ",")":"ï¸¶","*":"ï¼","+":"ï¼",",":"ï¸","-":"ï¸²",".":"ã»","/":"ï¼",":":"ï¸",";":"ï¸","<":"ï¸¿","=":"ï¼",">":"ï¹","?":"ï¸","@":"ï¼ ","[":"ï¹","\\":"ï¼¼","]":"ï¹","^":"ï¼¾",_:"ï¸³","`":"ï½","{":"ï¸·","|":"â","}":"ï¸¸","~":"ï½","Â¢":"ï¿ ","Â£":"ï¿¡","Â¥":"ï¿¥","Â¦":"ï¿¤","Â¬":"ï¿¢","Â¯":"ï¿£","â":"ï¸²","â":"ï¸±","â":"ï¹","â":"ï¹","â":"ï¹","â":"ï¹","â¦":"ï¸","â§":"ã»","â©":"ï¿¦","ã":"ï¸","ã":"ï¸","ã":"ï¸¿","ã":"ï¹","ã":"ï¸½","ã":"ï¸¾","ã":"ï¹","ã":"ï¹","ã":"ï¹","ã":"ï¹","ã":"ï¸»","ã":"ï¸¼","ã":"ï¸¹","ã":"ï¸º","ã":"ï¸","ã":"ï¸","ï¼":"ï¸","ï¼":"ï¸µ","ï¼":"ï¸¶","ï¼":"ï¸","ï¼":"ï¸²","ï¼":"ã»","ï¼":"ï¸","ï¼":"ï¸","ï¼":"ï¸¿","ï¼":"ï¹","ï¼":"ï¸","ï¼»":"ï¹","ï¼½":"ï¹","ï¼¿":"ï¸³","ï½":"ï¸·","ï½":"â","ï½":"ï¸¸","ï½":"ï¸µ","ï½ ":"ï¸¶","ï½¡":"ï¸","ï½¢":"ï¹","ï½£":"ï¹"};function zS(a){return a==="ï¸¶"||a==="ï¹"||a==="ï¸¸"||a==="ï¹"||a==="ï¹"||a==="ï¸¾"||a==="ï¸¼"||a==="ï¸º"||a==="ï¸"||a==="ï¹"||a==="ï¸"||a==="ï¸"||a==="ï¸"||a==="ï½"||a==="ï¿£"||a==="ï¸"||a==="ï¸"}function NS(a){return a==="ï¸µ"||a==="ï¹"||a==="ï¸·"||a==="ï¹"||a==="ï¹"||a==="ï¸½"||a==="ï¸»"||a==="ï¸¹"||a==="ï¸"||a==="ï¸¿"}var b0=Pn,M_=function(a,t,s,d,y){var S,I,O=8*y-d-1,j=(1<<O)-1,U=j>>1,re=-7,ce=s?y-1:0,ge=s?-1:1,Te=a[t+ce];for(ce+=ge,S=Te&(1<<-re)-1,Te>>=-re,re+=O;re>0;S=256*S+a[t+ce],ce+=ge,re-=8);for(I=S&(1<<-re)-1,S>>=-re,re+=d;re>0;I=256*I+a[t+ce],ce+=ge,re-=8);if(S===0)S=1-U;else{if(S===j)return I?NaN:1/0*(Te?-1:1);I+=Math.pow(2,d),S-=U}return(Te?-1:1)*I*Math.pow(2,S-d)},C_=function(a,t,s,d,y,S){var I,O,j,U=8*S-y-1,re=(1<<U)-1,ce=re>>1,ge=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,Te=d?0:S-1,Ae=d?1:-1,Be=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(O=isNaN(t)?1:0,I=re):(I=Math.floor(Math.log(t)/Math.LN2),t*(j=Math.pow(2,-I))<1&&(I--,j*=2),(t+=I+ce>=1?ge/j:ge*Math.pow(2,1-ce))*j>=2&&(I++,j/=2),I+ce>=re?(O=0,I=re):I+ce>=1?(O=(t*j-1)*Math.pow(2,y),I+=ce):(O=t*Math.pow(2,ce-1)*Math.pow(2,y),I=0));y>=8;a[s+Te]=255&O,Te+=Ae,O/=256,y-=8);for(I=I<<y|O,U+=y;U>0;a[s+Te]=255&I,Te+=Ae,I/=256,U-=8);a[s+Te-Ae]|=128*Be};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Pn(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}Pn.Varint=0,Pn.Fixed64=1,Pn.Bytes=2,Pn.Fixed32=5;var Gm=4294967296,I_=1/Gm,k_=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function nh(a){return a.type===Pn.Bytes?a.readVarint()+a.pos:a.pos+1}function id(a,t,s){return s?4294967296*t+(a>>>0):4294967296*(t>>>0)+(a>>>0)}function D_(a,t,s){var d=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));s.realloc(d);for(var y=s.pos-1;y>=a;y--)s.buf[y+d]=s.buf[y]}function FS(a,t){for(var s=0;s<a.length;s++)t.writeVarint(a[s])}function BS(a,t){for(var s=0;s<a.length;s++)t.writeSVarint(a[s])}function jS(a,t){for(var s=0;s<a.length;s++)t.writeFloat(a[s])}function VS(a,t){for(var s=0;s<a.length;s++)t.writeDouble(a[s])}function US(a,t){for(var s=0;s<a.length;s++)t.writeBoolean(a[s])}function GS(a,t){for(var s=0;s<a.length;s++)t.writeFixed32(a[s])}function HS(a,t){for(var s=0;s<a.length;s++)t.writeSFixed32(a[s])}function WS(a,t){for(var s=0;s<a.length;s++)t.writeFixed64(a[s])}function YS(a,t){for(var s=0;s<a.length;s++)t.writeSFixed64(a[s])}function Kf(a,t){return(a[t]|a[t+1]<<8|a[t+2]<<16)+16777216*a[t+3]}function rd(a,t,s){a[s]=t,a[s+1]=t>>>8,a[s+2]=t>>>16,a[s+3]=t>>>24}function P_(a,t){return(a[t]|a[t+1]<<8|a[t+2]<<16)+(a[t+3]<<24)}function $S(a,t,s){t.glyphs=[],a===1&&s.readMessage(XS,t)}function XS(a,t,s){if(a===3){const{id:d,bitmap:y,width:S,height:I,left:O,top:j,advance:U}=s.readMessage(ZS,{});t.glyphs.push({id:d,bitmap:new rh({width:S+6,height:I+6},y),metrics:{width:S,height:I,left:O,top:j,advance:U}})}else a===4?t.ascender=s.readSVarint():a===5&&(t.descender=s.readSVarint())}function ZS(a,t,s){a===1?t.id=s.readVarint():a===2?t.bitmap=s.readBytes():a===3?t.width=s.readVarint():a===4?t.height=s.readVarint():a===5?t.left=s.readSVarint():a===6?t.top=s.readSVarint():a===7&&(t.advance=s.readVarint())}function Hm(a){let t=0,s=0;for(const I of a)t+=I.w*I.h,s=Math.max(s,I.w);a.sort((I,O)=>O.h-I.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),s),h:1/0}];let y=0,S=0;for(const I of a)for(let O=d.length-1;O>=0;O--){const j=d[O];if(!(I.w>j.w||I.h>j.h)){if(I.x=j.x,I.y=j.y,S=Math.max(S,I.y+I.h),y=Math.max(y,I.x+I.w),I.w===j.w&&I.h===j.h){const U=d.pop();O<d.length&&(d[O]=U)}else I.h===j.h?(j.x+=I.w,j.w-=I.w):I.w===j.w?(j.y+=I.h,j.h-=I.h):(d.push({x:j.x+I.w,y:j.y,w:j.w-I.w,h:I.h}),j.y+=I.h,j.h-=I.h);break}}return{w:y,h:S,fill:t/(y*S)||0}}Pn.prototype={destroy:function(){this.buf=null},readFields:function(a,t,s){for(s=s||this.length;this.pos<s;){var d=this.readVarint(),y=d>>3,S=this.pos;this.type=7&d,a(y,t,this),this.pos===S&&this.skip(d)}return t},readMessage:function(a,t){return this.readFields(a,t,this.readVarint()+this.pos)},readFixed32:function(){var a=Kf(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=P_(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Kf(this.buf,this.pos)+Kf(this.buf,this.pos+4)*Gm;return this.pos+=8,a},readSFixed64:function(){var a=Kf(this.buf,this.pos)+P_(this.buf,this.pos+4)*Gm;return this.pos+=8,a},readFloat:function(){var a=M_(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=M_(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var t,s,d=this.buf;return t=127&(s=d[this.pos++]),s<128?t:(t|=(127&(s=d[this.pos++]))<<7,s<128?t:(t|=(127&(s=d[this.pos++]))<<14,s<128?t:(t|=(127&(s=d[this.pos++]))<<21,s<128?t:function(y,S,I){var O,j,U=I.buf;if(O=(112&(j=U[I.pos++]))>>4,j<128||(O|=(127&(j=U[I.pos++]))<<3,j<128)||(O|=(127&(j=U[I.pos++]))<<10,j<128)||(O|=(127&(j=U[I.pos++]))<<17,j<128)||(O|=(127&(j=U[I.pos++]))<<24,j<128)||(O|=(1&(j=U[I.pos++]))<<31,j<128))return id(y,O,S);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(s=d[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,t=this.pos;return this.pos=a,a-t>=12&&k_?function(s,d,y){return k_.decode(s.subarray(d,y))}(this.buf,t,a):function(s,d,y){for(var S="",I=d;I<y;){var O,j,U,re=s[I],ce=null,ge=re>239?4:re>223?3:re>191?2:1;if(I+ge>y)break;ge===1?re<128&&(ce=re):ge===2?(192&(O=s[I+1]))==128&&(ce=(31&re)<<6|63&O)<=127&&(ce=null):ge===3?(j=s[I+2],(192&(O=s[I+1]))==128&&(192&j)==128&&((ce=(15&re)<<12|(63&O)<<6|63&j)<=2047||ce>=55296&&ce<=57343)&&(ce=null)):ge===4&&(j=s[I+2],U=s[I+3],(192&(O=s[I+1]))==128&&(192&j)==128&&(192&U)==128&&((ce=(15&re)<<18|(63&O)<<12|(63&j)<<6|63&U)<=65535||ce>=1114112)&&(ce=null)),ce===null?(ce=65533,ge=1):ce>65535&&(ce-=65536,S+=String.fromCharCode(ce>>>10&1023|55296),ce=56320|1023&ce),S+=String.fromCharCode(ce),I+=ge}return S}(this.buf,t,a)},readBytes:function(){var a=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,a);return this.pos=a,t},readPackedVarint:function(a,t){if(this.type!==Pn.Bytes)return a.push(this.readVarint(t));var s=nh(this);for(a=a||[];this.pos<s;)a.push(this.readVarint(t));return a},readPackedSVarint:function(a){if(this.type!==Pn.Bytes)return a.push(this.readSVarint());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==Pn.Bytes)return a.push(this.readBoolean());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==Pn.Bytes)return a.push(this.readFloat());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==Pn.Bytes)return a.push(this.readDouble());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==Pn.Bytes)return a.push(this.readFixed32());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==Pn.Bytes)return a.push(this.readSFixed32());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==Pn.Bytes)return a.push(this.readFixed64());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==Pn.Bytes)return a.push(this.readSFixed64());var t=nh(this);for(a=a||[];this.pos<t;)a.push(this.readSFixed64());return a},skip:function(a){var t=7&a;if(t===Pn.Varint)for(;this.buf[this.pos++]>127;);else if(t===Pn.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Pn.Fixed32)this.pos+=4;else{if(t!==Pn.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(a,t){this.writeVarint(a<<3|t)},realloc:function(a){for(var t=this.length||16;t<this.pos+a;)t*=2;if(t!==this.length){var s=new Uint8Array(t);s.set(this.buf),this.buf=s,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),rd(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),rd(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),rd(this.buf,-1&a,this.pos),rd(this.buf,Math.floor(a*I_),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),rd(this.buf,-1&a,this.pos),rd(this.buf,Math.floor(a*I_),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(t,s){var d,y;if(t>=0?(d=t%4294967296|0,y=t/4294967296|0):(y=~(-t/4294967296),4294967295^(d=~(-t%4294967296))?d=d+1|0:(d=0,y=y+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),function(S,I,O){O.buf[O.pos++]=127&S|128,S>>>=7,O.buf[O.pos++]=127&S|128,S>>>=7,O.buf[O.pos++]=127&S|128,S>>>=7,O.buf[O.pos++]=127&S|128,O.buf[O.pos]=127&(S>>>=7)}(d,0,s),function(S,I){var O=(7&S)<<4;I.buf[I.pos++]|=O|((S>>>=3)?128:0),S&&(I.buf[I.pos++]=127&S|((S>>>=7)?128:0),S&&(I.buf[I.pos++]=127&S|((S>>>=7)?128:0),S&&(I.buf[I.pos++]=127&S|((S>>>=7)?128:0),S&&(I.buf[I.pos++]=127&S|((S>>>=7)?128:0),S&&(I.buf[I.pos++]=127&S)))))}(y,s)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var t=this.pos;this.pos=function(d,y,S){for(var I,O,j=0;j<y.length;j++){if((I=y.charCodeAt(j))>55295&&I<57344){if(!O){I>56319||j+1===y.length?(d[S++]=239,d[S++]=191,d[S++]=189):O=I;continue}if(I<56320){d[S++]=239,d[S++]=191,d[S++]=189,O=I;continue}I=O-55296<<10|I-56320|65536,O=null}else O&&(d[S++]=239,d[S++]=191,d[S++]=189,O=null);I<128?d[S++]=I:(I<2048?d[S++]=I>>6|192:(I<65536?d[S++]=I>>12|224:(d[S++]=I>>18|240,d[S++]=I>>12&63|128),d[S++]=I>>6&63|128),d[S++]=63&I|128)}return S}(this.buf,a,this.pos);var s=this.pos-t;s>=128&&D_(t,s,this),this.pos=t-1,this.writeVarint(s),this.pos+=s},writeFloat:function(a){this.realloc(4),C_(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),C_(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var t=a.length;this.writeVarint(t),this.realloc(t);for(var s=0;s<t;s++)this.buf[this.pos++]=a[s]},writeRawMessage:function(a,t){this.pos++;var s=this.pos;a(t,this);var d=this.pos-s;d>=128&&D_(s,d,this),this.pos=s-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,t,s){this.writeTag(a,Pn.Bytes),this.writeRawMessage(t,s)},writePackedVarint:function(a,t){t.length&&this.writeMessage(a,FS,t)},writePackedSVarint:function(a,t){t.length&&this.writeMessage(a,BS,t)},writePackedBoolean:function(a,t){t.length&&this.writeMessage(a,US,t)},writePackedFloat:function(a,t){t.length&&this.writeMessage(a,jS,t)},writePackedDouble:function(a,t){t.length&&this.writeMessage(a,VS,t)},writePackedFixed32:function(a,t){t.length&&this.writeMessage(a,GS,t)},writePackedSFixed32:function(a,t){t.length&&this.writeMessage(a,HS,t)},writePackedFixed64:function(a,t){t.length&&this.writeMessage(a,WS,t)},writePackedSFixed64:function(a,t){t.length&&this.writeMessage(a,YS,t)},writeBytesField:function(a,t){this.writeTag(a,Pn.Bytes),this.writeBytes(t)},writeFixed32Field:function(a,t){this.writeTag(a,Pn.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(a,t){this.writeTag(a,Pn.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(a,t){this.writeTag(a,Pn.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(a,t){this.writeTag(a,Pn.Fixed64),this.writeSFixed64(t)},writeVarintField:function(a,t){this.writeTag(a,Pn.Varint),this.writeVarint(t)},writeSVarintField:function(a,t){this.writeTag(a,Pn.Varint),this.writeSVarint(t)},writeStringField:function(a,t){this.writeTag(a,Pn.Bytes),this.writeString(t)},writeFloatField:function(a,t){this.writeTag(a,Pn.Fixed32),this.writeFloat(t)},writeDoubleField:function(a,t){this.writeTag(a,Pn.Fixed64),this.writeDouble(t)},writeBooleanField:function(a,t){this.writeVarintField(a,Boolean(t))}};class Wm{constructor(t,{pixelRatio:s,version:d,stretchX:y,stretchY:S,content:I}){this.paddedRect=t,this.pixelRatio=s,this.stretchX=y,this.stretchY=S,this.content=I,this.version=d}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class O_{constructor(t,s){const d={},y={};this.haveRenderCallbacks=[];const S=[];this.addImages(t,d,S),this.addImages(s,y,S);const{w:I,h:O}=Hm(S),j=new jo({width:I||1,height:O||1});for(const U in t){const re=t[U],ce=d[U].paddedRect;jo.copy(re.data,j,{x:0,y:0},{x:ce.x+1,y:ce.y+1},re.data)}for(const U in s){const re=s[U],ce=y[U].paddedRect,ge=ce.x+1,Te=ce.y+1,Ae=re.data.width,Be=re.data.height;jo.copy(re.data,j,{x:0,y:0},{x:ge,y:Te},re.data),jo.copy(re.data,j,{x:0,y:Be-1},{x:ge,y:Te-1},{width:Ae,height:1}),jo.copy(re.data,j,{x:0,y:0},{x:ge,y:Te+Be},{width:Ae,height:1}),jo.copy(re.data,j,{x:Ae-1,y:0},{x:ge-1,y:Te},{width:1,height:Be}),jo.copy(re.data,j,{x:0,y:0},{x:ge+Ae,y:Te},{width:1,height:Be})}this.image=j,this.iconPositions=d,this.patternPositions=y}addImages(t,s,d){for(const y in t){const S=t[y],I={x:0,y:0,w:S.data.width+2,h:S.data.height+2};d.push(I),s[y]=new Wm(I,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(t,s){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>t.hasImage(d)),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in t.updatedImages)this.patchUpdatedImage(this.iconPositions[d],t.getImage(d),s),this.patchUpdatedImage(this.patternPositions[d],t.getImage(d),s)}patchUpdatedImage(t,s,d){if(!t||!s||t.version===s.version)return;t.version=s.version;const[y,S]=t.tl;d.update(s.data,void 0,{x:y,y:S})}}Nt(Wm,"ImagePosition"),Nt(O_,"ImageAtlas");const ol={horizontal:1,vertical:2,horizontalOnly:3};class w0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,s){const d=new w0;return d.scale=t||1,d.fontStack=s,d}static forImage(t){const s=new w0;return s.imageName=t,s}}class nd{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,s){const d=new nd;for(let y=0;y<t.sections.length;y++){const S=t.sections[y];S.image?d.addImageSection(S):d.addTextSection(S,s)}return d}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(s,d){let y="";for(let S=0;S<s.length;S++){const I=s.charCodeAt(S+1)||null,O=s.charCodeAt(S-1)||null;y+=!d&&(I&&ae(I)&&!_0[s[S+1]]||O&&ae(O)&&!_0[s[S-1]])||!_0[s[S]]?s[S]:_0[s[S]]}return y}(this.text,t)}trim(){let t=0;for(let d=0;d<this.text.length&&Jf[this.text.charCodeAt(d)];d++)t++;let s=this.text.length;for(let d=this.text.length-1;d>=0&&d>=t&&Jf[this.text.charCodeAt(d)];d--)s--;this.text=this.text.substring(t,s),this.sectionIndex=this.sectionIndex.slice(t,s)}substring(t,s){const d=new nd;return d.text=this.text.substring(t,s),d.sectionIndex=this.sectionIndex.slice(t,s),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,s)=>Math.max(t,this.sections[s].scale),0)}addTextSection(t,s){this.text+=t.text,this.sections.push(w0.forText(t.scale,t.fontStack||s));const d=this.sections.length-1;for(let y=0;y<t.text.length;++y)this.sectionIndex.push(d)}addImageSection(t){const s=t.image?t.image.name:"";if(s.length===0)return void Vt("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(w0.forImage(s)),this.sectionIndex.push(this.sections.length-1)):Vt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ym(a,t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae){const Be=nd.fromFeature(a,y);ce===ol.vertical&&Be.verticalizePunctuation(ge);let nt=[];const ft=function(Tt,Kt,Zt,fi,Ii,ii){if(!Tt)return[];const vi=[],xi=function(Bi,hr,Wi,Ki,ji,pr){let Nr=0;for(let Or=0;Or<Bi.length();Or++){const Dr=Bi.getSection(Or);Nr+=L_(Bi.getCharCode(Or),Dr,Ki,ji,hr,pr)}return Nr/Math.max(1,Math.ceil(Nr/Wi))}(Tt,Kt,Zt,fi,Ii,ii),Ti=Tt.text.indexOf("â")>=0;let Di=0;for(let Bi=0;Bi<Tt.length();Bi++){const hr=Tt.getSection(Bi),Wi=Tt.getCharCode(Bi);if(Jf[Wi]||(Di+=L_(Wi,hr,fi,Ii,Kt,ii)),Bi<Tt.length()-1){const Ki=!((ri=Wi)<11904||!(iu(ri)||nl(ri)||c(ri)||Y(ri)||Yu(ri)||So(ri)||Hu(ri)||No(ri)||u(ri)||_(ri)||ru(ri)||A(ri)||kc(ri)||Us(ri)||ic(ri)||Wu(ri)||Ch(ri)||i(ri)||D(ri)||M(ri)));(qS[Wi]||Ki||hr.imageName)&&vi.push(z_(Bi+1,Di,xi,vi,KS(Wi,Tt.getCharCode(Bi+1),Ki&&Ti),!1))}}var ri;return N_(z_(Tt.length(),Di,xi,vi,0,!0))}(Be,U,S,t,d,Te),{processBidirectionalText:Et,processStyledBidirectionalText:dt}=Yt;if(Et&&Be.sections.length===1){const Tt=Et(Be.toString(),ft);for(const Kt of Tt){const Zt=new nd;Zt.text=Kt,Zt.sections=Be.sections;for(let fi=0;fi<Kt.length;fi++)Zt.sectionIndex.push(0);nt.push(Zt)}}else if(dt){const Tt=dt(Be.text,Be.sectionIndex,ft);for(const Kt of Tt){const Zt=new nd;Zt.text=Kt[0],Zt.sectionIndex=Kt[1],Zt.sections=Be.sections,nt.push(Zt)}}else nt=function(Tt,Kt){const Zt=[],fi=Tt.text;let Ii=0;for(const ii of Kt)Zt.push(Tt.substring(Ii,ii)),Ii=ii;return Ii<fi.length&&Zt.push(Tt.substring(Ii,fi.length)),Zt}(Be,ft);const yt=[],kt={positionedLines:yt,text:Be.toString(),top:re[1],bottom:re[1],left:re[0],right:re[0],writingMode:ce,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Tt,Kt,Zt,fi,Ii,ii,vi,xi,Ti,Di,ri,Bi){let hr=0,Wi=0,Ki=0;const ji=xi==="right"?1:xi==="left"?0:.5;let pr=!1;for(const Tr of Ii){const Fr=Tr.getSections();for(const bn of Fr){if(bn.imageName)continue;const Fn=Kt[bn.fontStack];if(Fn&&(pr=Fn.ascender!==void 0&&Fn.descender!==void 0,!pr))break}if(!pr)break}let Nr=0;for(const Tr of Ii){Tr.trim();const Fr=Tr.getMaxScale(),bn=(Fr-1)*Ls,Fn={positionedGlyphs:[],lineOffset:0};Tt.positionedLines[Nr]=Fn;const On=Fn.positionedGlyphs;let Bn=0;if(!Tr.length()){Wi+=ii,++Nr;continue}let Hn=0,ua=0;for(let dn=0;dn<Tr.length();dn++){const ja=Tr.getSection(dn),Da=Tr.getSectionIndex(dn),Qr=Tr.getCharCode(dn);let ia=ja.scale,Xa=null,wn=null,Ta=null,Ws=Ls,gs=0;const vs=!(Ti===ol.horizontal||!ri&&!ie(Qr)||ri&&(Jf[Qr]||(Or=Qr,xn(Or)||ps(Or)||ns(Or)||f(Or)||T(Or))));if(ja.imageName){const oo=fi[ja.imageName];if(!oo)continue;Ta=ja.imageName,Tt.iconsInText=Tt.iconsInText||!0,wn=oo.paddedRect;const ys=oo.displaySize;ia=ia*Ls/Bi,Xa={width:ys[0],height:ys[1],left:1,top:-3,advance:vs?ys[1]:ys[0],localGlyph:!1},gs=pr?-Xa.height*ia:Fr*Ls-17-ys[1]*ia,Ws=Xa.advance;const oh=(vs?ys[0]:ys[1])*ia-Ls*Fr;oh>0&&oh>Bn&&(Bn=oh)}else{const oo=Zt[ja.fontStack];if(!oo)continue;oo[Qr]&&(wn=oo[Qr]);const ys=Kt[ja.fontStack];if(!ys)continue;const oh=ys.glyphs[Qr];if(!oh)continue;if(Xa=oh.metrics,Ws=Qr!==8203?Ls:0,pr){const fd=ys.ascender!==void 0?Math.abs(ys.ascender):0,L0=ys.descender!==void 0?Math.abs(ys.descender):0,R0=(fd+L0)*ia;Hn<R0&&(Hn=R0,ua=(fd-L0)/2*ia),gs=-fd*ia}else gs=(Fr-ia)*Ls-17}vs?(Tt.verticalizable=!0,On.push({glyph:Qr,imageName:Ta,x:hr,y:Wi+gs,vertical:vs,scale:ia,localGlyph:Xa.localGlyph,fontStack:ja.fontStack,sectionIndex:Da,metrics:Xa,rect:wn}),hr+=Ws*ia+Di):(On.push({glyph:Qr,imageName:Ta,x:hr,y:Wi+gs,vertical:vs,scale:ia,localGlyph:Xa.localGlyph,fontStack:ja.fontStack,sectionIndex:Da,metrics:Xa,rect:wn}),hr+=Xa.advance*ia+Di)}On.length!==0&&(Ki=Math.max(hr-Di,Ki),pr?F_(On,ji,Bn,ua,ii*Fr/2):F_(On,ji,Bn,0,ii/2)),hr=0;const ms=ii*Fr+Bn;Fn.lineOffset=Math.max(Bn,bn),Wi+=ms,++Nr}var Or;const Dr=Wi,{horizontalAlign:gr,verticalAlign:un}=$m(vi);(function(Tr,Fr,bn,Fn,On,Bn){const Hn=(Fr-bn)*On,ua=-Bn*Fn;for(const ms of Tr)for(const dn of ms.positionedGlyphs)dn.x+=Hn,dn.y+=ua})(Tt.positionedLines,ji,gr,un,Ki,Dr),Tt.top+=-un*Dr,Tt.bottom=Tt.top+Dr,Tt.left+=-gr*Ki,Tt.right=Tt.left+Ki,Tt.hasBaseline=pr}(kt,t,s,d,nt,I,O,j,ce,U,ge,Ae),!function(Tt){for(const Kt of Tt)if(Kt.positionedGlyphs.length!==0)return!1;return!0}(yt)&&kt}const Jf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},qS={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function L_(a,t,s,d,y,S){if(t.imageName){const I=d[t.imageName];return I?I.displaySize[0]*t.scale*Ls/S+y:0}{const I=s[t.fontStack],O=I&&I.glyphs[a];return O?O.metrics.advance*t.scale+y:0}}function R_(a,t,s,d){const y=Math.pow(a-t,2);return d?a<t?y/2:2*y:y+Math.abs(s)*s}function KS(a,t,s){let d=0;return a===10&&(d-=1e4),s&&(d+=150),a!==40&&a!==65288||(d+=50),t!==41&&t!==65289||(d+=50),d}function z_(a,t,s,d,y,S){let I=null,O=R_(t,s,y,S);for(const j of d){const U=R_(t-j.x,s,y,S)+j.badness;U<=O&&(I=j,O=U)}return{index:a,x:t,priorBreak:I,badness:O}}function N_(a){return a?N_(a.priorBreak).concat(a.index):[]}function $m(a){let t=.5,s=.5;switch(a){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:t,verticalAlign:s}}function F_(a,t,s,d,y){if(!(t||s||d||y))return;const S=a.length-1,I=a[S],O=(I.x+I.metrics.advance*I.scale)*t;for(let j=0;j<=S;j++)a[j].x-=O,a[j].y+=s+d+y}function JS(a,t,s){const{horizontalAlign:d,verticalAlign:y}=$m(s),S=t[0]-a.displaySize[0]*d,I=t[1]-a.displaySize[1]*y;return{image:a,top:I,bottom:I+a.displaySize[1],left:S,right:S+a.displaySize[0]}}function B_(a,t,s,d,y,S){const I=a.image;let O;if(I.content){const nt=I.content,ft=I.pixelRatio||1;O=[nt[0]/ft,nt[1]/ft,I.displaySize[0]-nt[2]/ft,I.displaySize[1]-nt[3]/ft]}const j=t.left*S,U=t.right*S;let re,ce,ge,Te;s==="width"||s==="both"?(Te=y[0]+j-d[3],ce=y[0]+U+d[1]):(Te=y[0]+(j+U-I.displaySize[0])/2,ce=Te+I.displaySize[0]);const Ae=t.top*S,Be=t.bottom*S;return s==="height"||s==="both"?(re=y[1]+Ae-d[0],ge=y[1]+Be+d[2]):(re=y[1]+(Ae+Be-I.displaySize[1])/2,ge=re+I.displaySize[1]),{image:I,top:re,right:ce,bottom:ge,left:Te,collisionPadding:O}}class ah extends Ye{constructor(t,s,d,y,S){super(t,s),this.angle=y,this.z=d,S!==void 0&&(this.segment=S)}clone(){return new ah(this.x,this.y,this.z,this.angle,this.segment)}}function j_(a,t,s,d,y){if(t.segment===void 0)return!0;let S=t,I=t.segment+1,O=0;for(;O>-s/2;){if(I--,I<0)return!1;O-=a[I].dist(S),S=a[I]}O+=a[I].dist(a[I+1]),I++;const j=[];let U=0;for(;O<s/2;){const re=a[I],ce=a[I+1];if(!ce)return!1;let ge=a[I-1].angleTo(re)-re.angleTo(ce);for(ge=Math.abs((ge+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:O,angleDelta:ge}),U+=ge;O-j[0].distance>d;)U-=j.shift().angleDelta;if(U>y)return!1;I++,O+=re.dist(ce)}return!0}function V_(a){let t=0;for(let s=0;s<a.length-1;s++)t+=a[s].dist(a[s+1]);return t}function U_(a,t,s){return a?.6*t*s:0}function G_(a,t){return Math.max(a?a.right-a.left:0,t?t.right-t.left:0)}function QS(a,t,s,d,y,S){const I=U_(s,y,S),O=G_(s,d)*S;let j=0;const U=V_(a)/2;for(let re=0;re<a.length-1;re++){const ce=a[re],ge=a[re+1],Te=ce.dist(ge);if(j+Te>U){const Ae=(U-j)/Te,Be=xr(ce.x,ge.x,Ae),nt=xr(ce.y,ge.y,Ae),ft=new ah(Be,nt,0,ge.angleTo(ce),re);return!I||j_(a,ft,O,I,t)?ft:void 0}j+=Te}}function e9(a,t,s,d,y,S,I,O,j){const U=U_(d,S,I),re=G_(d,y),ce=re*I,ge=a[0].x===0||a[0].x===j||a[0].y===0||a[0].y===j;return t-ce<t/4&&(t=ce+t/4),H_(a,ge?t/2*O%t:(re/2+2*S)*I*O%t,t,U,s,ce,ge,!1,j)}function H_(a,t,s,d,y,S,I,O,j){const U=S/2,re=V_(a);let ce=0,ge=t-s,Te=[];for(let Ae=0;Ae<a.length-1;Ae++){const Be=a[Ae],nt=a[Ae+1],ft=Be.dist(nt),Et=nt.angleTo(Be);for(;ge+s<ce+ft;){ge+=s;const dt=(ge-ce)/ft,yt=xr(Be.x,nt.x,dt),kt=xr(Be.y,nt.y,dt);if(yt>=0&&yt<j&&kt>=0&&kt<j&&ge-U>=0&&ge+U<=re){const Tt=new ah(yt,kt,0,Et,Ae);Tt._round(),d&&!j_(a,Tt,S,d,y)||Te.push(Tt)}}ce+=ft}return O||Te.length||I||(Te=H_(a,ce/2,s,d,y,S,I,!0,j)),Te}function W_(a,t,s,d,y){const S=[];for(let I=0;I<a.length;I++){const O=a[I];let j;for(let U=0;U<O.length-1;U++){let re=O[U],ce=O[U+1];re.x<t&&ce.x<t||(re.x<t?re=new Ye(t,re.y+(t-re.x)/(ce.x-re.x)*(ce.y-re.y))._round():ce.x<t&&(ce=new Ye(t,re.y+(t-re.x)/(ce.x-re.x)*(ce.y-re.y))._round()),re.y<s&&ce.y<s||(re.y<s?re=new Ye(re.x+(s-re.y)/(ce.y-re.y)*(ce.x-re.x),s)._round():ce.y<s&&(ce=new Ye(re.x+(s-re.y)/(ce.y-re.y)*(ce.x-re.x),s)._round()),re.x>=d&&ce.x>=d||(re.x>=d?re=new Ye(d,re.y+(d-re.x)/(ce.x-re.x)*(ce.y-re.y))._round():ce.x>=d&&(ce=new Ye(d,re.y+(d-re.x)/(ce.x-re.x)*(ce.y-re.y))._round()),re.y>=y&&ce.y>=y||(re.y>=y?re=new Ye(re.x+(y-re.y)/(ce.y-re.y)*(ce.x-re.x),y)._round():ce.y>=y&&(ce=new Ye(re.x+(y-re.y)/(ce.y-re.y)*(ce.x-re.x),y)._round()),j&&re.equals(j[j.length-1])||(j=[re],S.push(j)),j.push(ce)))))}}return S}Nt(ah,"Anchor");const E0=1e20;function Y_(a,t,s,d,y,S,I,O,j){for(let U=t;U<t+d;U++)$_(a,s*S+U,S,y,I,O,j);for(let U=s;U<s+y;U++)$_(a,U*S+t,1,d,I,O,j)}function $_(a,t,s,d,y,S,I){S[0]=0,I[0]=-E0,I[1]=E0,y[0]=a[t];for(let O=1,j=0,U=0;O<d;O++){y[O]=a[t+O*s];const re=O*O;do{const ce=S[j];U=(y[O]-y[ce]+re-ce*ce)/(O-ce)/2}while(U<=I[j]&&--j>-1);j++,S[j]=O,I[j]=U,I[j+1]=E0}for(let O=0,j=0;O<d;O++){for(;I[j+1]<O;)j++;const U=S[j],re=O-U;a[t+O*s]=y[U]+re*re}}const Xm={none:0,ideographs:1,all:2};class ad{constructor(t,s,d){this.requestManager=t,this.localGlyphMode=s,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,s){const d=[];for(const y in t)for(const S of t[y])d.push({stack:y,id:S});Re(d,({stack:y,id:S},I)=>{let O=this.entries[y];O||(O=this.entries[y]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let j=O.glyphs[S];if(j!==void 0)return void I(null,{stack:y,id:S,glyph:j});if(j=this._tinySDF(O,y,S),j)return O.glyphs[S]=j,void I(null,{stack:y,id:S,glyph:j});const U=Math.floor(S/256);if(256*U>65535)return void I(new Error("glyphs > 65535 not supported"));if(O.ranges[U])return void I(null,{stack:y,id:S,glyph:j});let re=O.requests[U];re||(re=O.requests[U]=[],ad.loadGlyphRange(y,U,this.url,this.requestManager,(ce,ge)=>{if(ge){O.ascender=ge.ascender,O.descender=ge.descender;for(const Te in ge.glyphs)this._doesCharSupportLocalGlyph(+Te)||(O.glyphs[+Te]=ge.glyphs[+Te]);O.ranges[U]=!0}for(const Te of re)Te(ce,ge);delete O.requests[U]})),re.push((ce,ge)=>{ce?I(ce):ge&&I(null,{stack:y,id:S,glyph:ge.glyphs[S]||null})})},(y,S)=>{if(y)s(y);else if(S){const I={};for(const{stack:O,id:j,glyph:U}of S)I[O]===void 0&&(I[O]={}),I[O].glyphs===void 0&&(I[O].glyphs={}),I[O].glyphs[j]=U&&{id:U.id,bitmap:U.bitmap.clone(),metrics:U.metrics},I[O].ascender=this.entries[O].ascender,I[O].descender=this.entries[O].descender;s(null,I)}})}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==Xm.none&&(this.localGlyphMode===Xm.all?!!this.localFontFamily:!!this.localFontFamily&&(_(t)||F(t)||kc(t)||Ch(t)||No(t)))}_tinySDF(t,s,d){const y=this.localFontFamily;if(!y||!this._doesCharSupportLocalGlyph(d))return;let S=t.tinySDF;if(!S){let Be="400";/bold/i.test(s)?Be="900":/medium/i.test(s)?Be="500":/light/i.test(s)&&(Be="200"),S=t.tinySDF=new ad.TinySDF({fontFamily:y,fontWeight:Be,fontSize:48,buffer:6,radius:16}),S.fontWeight=Be}if(this.localGlyphs[S.fontWeight][d])return this.localGlyphs[S.fontWeight][d];const I=String.fromCharCode(d),{data:O,width:j,height:U,glyphWidth:re,glyphHeight:ce,glyphLeft:ge,glyphTop:Te,glyphAdvance:Ae}=S.draw(I);return this.localGlyphs[S.fontWeight][d]={id:d,bitmap:new rh({width:j,height:U},O),metrics:{width:re/2,height:ce/2,left:ge/2,top:Te/2-27,advance:Ae/2,localGlyph:!0}}}}function X_(a,t,s,d){const y=[],S=a.image,I=S.pixelRatio,O=S.paddedRect.w-2,j=S.paddedRect.h-2,U=a.right-a.left,re=a.bottom-a.top,ce=S.stretchX||[[0,O]],ge=S.stretchY||[[0,j]],Te=(ii,vi)=>ii+vi[1]-vi[0],Ae=ce.reduce(Te,0),Be=ge.reduce(Te,0),nt=O-Ae,ft=j-Be;let Et=0,dt=Ae,yt=0,kt=Be,Tt=0,Kt=nt,Zt=0,fi=ft;if(S.content&&d){const ii=S.content;Et=Qf(ce,0,ii[0]),yt=Qf(ge,0,ii[1]),dt=Qf(ce,ii[0],ii[2]),kt=Qf(ge,ii[1],ii[3]),Tt=ii[0]-Et,Zt=ii[1]-yt,Kt=ii[2]-ii[0]-dt,fi=ii[3]-ii[1]-kt}const Ii=(ii,vi,xi,Ti)=>{const Di=ep(ii.stretch-Et,dt,U,a.left),ri=tp(ii.fixed-Tt,Kt,ii.stretch,Ae),Bi=ep(vi.stretch-yt,kt,re,a.top),hr=tp(vi.fixed-Zt,fi,vi.stretch,Be),Wi=ep(xi.stretch-Et,dt,U,a.left),Ki=tp(xi.fixed-Tt,Kt,xi.stretch,Ae),ji=ep(Ti.stretch-yt,kt,re,a.top),pr=tp(Ti.fixed-Zt,fi,Ti.stretch,Be),Nr=new Ye(Di,Bi),Or=new Ye(Wi,Bi),Dr=new Ye(Wi,ji),gr=new Ye(Di,ji),un=new Ye(ri/I,hr/I),Tr=new Ye(Ki/I,pr/I),Fr=t*Math.PI/180;if(Fr){const On=Math.sin(Fr),Bn=Math.cos(Fr),Hn=[Bn,-On,On,Bn];Nr._matMult(Hn),Or._matMult(Hn),gr._matMult(Hn),Dr._matMult(Hn)}const bn=ii.stretch+ii.fixed,Fn=vi.stretch+vi.fixed;return{tl:Nr,tr:Or,bl:gr,br:Dr,tex:{x:S.paddedRect.x+1+bn,y:S.paddedRect.y+1+Fn,w:xi.stretch+xi.fixed-bn,h:Ti.stretch+Ti.fixed-Fn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:un,pixelOffsetBR:Tr,minFontScaleX:Kt/I/U,minFontScaleY:fi/I/re,isSDF:s}};if(d&&(S.stretchX||S.stretchY)){const ii=Z_(ce,nt,Ae),vi=Z_(ge,ft,Be);for(let xi=0;xi<ii.length-1;xi++){const Ti=ii[xi],Di=ii[xi+1];for(let ri=0;ri<vi.length-1;ri++)y.push(Ii(Ti,vi[ri],Di,vi[ri+1]))}}else y.push(Ii({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:j+1}));return y}function Qf(a,t,s){let d=0;for(const y of a)d+=Math.max(t,Math.min(s,y[1]))-Math.max(t,Math.min(s,y[0]));return d}function Z_(a,t,s){const d=[{fixed:-1,stretch:0}];for(const[y,S]of a){const I=d[d.length-1];d.push({fixed:y-I.stretch,stretch:I.stretch}),d.push({fixed:y-I.stretch,stretch:I.stretch+(S-y)})}return d.push({fixed:t+1,stretch:s}),d}function ep(a,t,s,d){return a/t*s+d}function tp(a,t,s,d){return a-t*s/d}function t9(a,t,s,d){const y=t+a.positionedLines[d].lineOffset;return d===0?s+y/2:s+(y+(t+a.positionedLines[d-1].lineOffset))/2}ad.loadGlyphRange=function(a,t,s,d,y){const S=256*t,I=S+255,O=d.transformRequest(d.normalizeGlyphsURL(s).replace("{fontstack}",a).replace("{range}",`${S}-${I}`),Ge.Glyphs);na(O,(j,U)=>{if(j)y(j);else if(U){const re={},ce=function(ge){return new b0(ge).readFields($S,{})}(U);for(const ge of ce.glyphs)re[ge.id]=ge;y(null,{glyphs:re,ascender:ce.ascender,descender:ce.descender})}})},ad.TinySDF=class{constructor({fontSize:a=24,buffer:t=3,radius:s=8,cutoff:d=.25,fontFamily:y="sans-serif",fontWeight:S="normal",fontStyle:I="normal"}={}){this.buffer=t,this.cutoff=d,this.radius=s;const O=this.size=a+4*t,j=this._createCanvas(O),U=this.ctx=j.getContext("2d",{willReadFrequently:!0});U.font=`${I} ${S} ${a}px ${y}`,U.textBaseline="alphabetic",U.textAlign="left",U.fillStyle="black",this.gridOuter=new Float64Array(O*O),this.gridInner=new Float64Array(O*O),this.f=new Float64Array(O),this.z=new Float64Array(O+1),this.v=new Uint16Array(O)}_createCanvas(a){const t=document.createElement("canvas");return t.width=t.height=a,t}draw(a){const{width:t,actualBoundingBoxAscent:s,actualBoundingBoxDescent:d,actualBoundingBoxLeft:y,actualBoundingBoxRight:S}=this.ctx.measureText(a),I=Math.ceil(s),O=Math.min(this.size-this.buffer,Math.ceil(S-y)),j=Math.min(this.size-this.buffer,I+Math.ceil(d)),U=O+2*this.buffer,re=j+2*this.buffer,ce=Math.max(U*re,0),ge=new Uint8ClampedArray(ce),Te={data:ge,width:U,height:re,glyphWidth:O,glyphHeight:j,glyphTop:I,glyphLeft:0,glyphAdvance:t};if(O===0||j===0)return Te;const{ctx:Ae,buffer:Be,gridInner:nt,gridOuter:ft}=this;Ae.clearRect(Be,Be,O,j),Ae.fillText(a,Be,Be+I);const Et=Ae.getImageData(Be,Be,O,j);ft.fill(E0,0,ce),nt.fill(0,0,ce);for(let dt=0;dt<j;dt++)for(let yt=0;yt<O;yt++){const kt=Et.data[4*(dt*O+yt)+3]/255;if(kt===0)continue;const Tt=(dt+Be)*U+yt+Be;if(kt===1)ft[Tt]=0,nt[Tt]=E0;else{const Kt=.5-kt;ft[Tt]=Kt>0?Kt*Kt:0,nt[Tt]=Kt<0?Kt*Kt:0}}Y_(ft,0,0,U,re,U,this.f,this.v,this.z),Y_(nt,Be,Be,O,j,U,this.f,this.v,this.z);for(let dt=0;dt<ce;dt++){const yt=Math.sqrt(ft[dt])-Math.sqrt(nt[dt]);ge[dt]=Math.round(255-255*(yt/this.radius+this.cutoff))}return Te}};class i9{constructor(t=[],s=r9){if(this.data=t,this.length=this.data.length,this.compare=s,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:s,compare:d}=this,y=s[t];for(;t>0;){const S=t-1>>1,I=s[S];if(d(y,I)>=0)break;s[t]=I,t=S}s[t]=y}_down(t){const{data:s,compare:d}=this,y=this.length>>1,S=s[t];for(;t<y;){let I=1+(t<<1),O=s[I];const j=I+1;if(j<this.length&&d(s[j],O)<0&&(I=j,O=s[j]),d(O,S)>=0)break;s[t]=O,t=I}s[t]=S}}function r9(a,t){return a<t?-1:a>t?1:0}function n9(a,t=1,s=!1){let d=1/0,y=1/0,S=-1/0,I=-1/0;const O=a[0];for(let Te=0;Te<O.length;Te++){const Ae=O[Te];(!Te||Ae.x<d)&&(d=Ae.x),(!Te||Ae.y<y)&&(y=Ae.y),(!Te||Ae.x>S)&&(S=Ae.x),(!Te||Ae.y>I)&&(I=Ae.y)}const j=Math.min(S-d,I-y);let U=j/2;const re=new i9([],a9);if(j===0)return new Ye(d,y);for(let Te=d;Te<S;Te+=j)for(let Ae=y;Ae<I;Ae+=j)re.push(new sd(Te+U,Ae+U,U,a));let ce=function(Te){let Ae=0,Be=0,nt=0;const ft=Te[0];for(let Et=0,dt=ft.length,yt=dt-1;Et<dt;yt=Et++){const kt=ft[Et],Tt=ft[yt],Kt=kt.x*Tt.y-Tt.x*kt.y;Be+=(kt.x+Tt.x)*Kt,nt+=(kt.y+Tt.y)*Kt,Ae+=3*Kt}return new sd(Be/Ae,nt/Ae,0,Te)}(a),ge=re.length;for(;re.length;){const Te=re.pop();(Te.d>ce.d||!ce.d)&&(ce=Te,s&&console.log("found best %d after %d probes",Math.round(1e4*Te.d)/1e4,ge)),Te.max-ce.d<=t||(U=Te.h/2,re.push(new sd(Te.p.x-U,Te.p.y-U,U,a)),re.push(new sd(Te.p.x+U,Te.p.y-U,U,a)),re.push(new sd(Te.p.x-U,Te.p.y+U,U,a)),re.push(new sd(Te.p.x+U,Te.p.y+U,U,a)),ge+=4)}return s&&(console.log(`num probes: ${ge}`),console.log(`best distance: ${ce.d}`)),ce.p}function a9(a,t){return t.max-a.max}function sd(a,t,s,d){this.p=new Ye(a,t),this.h=s,this.d=function(y,S){let I=!1,O=1/0;for(let j=0;j<S.length;j++){const U=S[j];for(let re=0,ce=U.length,ge=ce-1;re<ce;ge=re++){const Te=U[re],Ae=U[ge];Te.y>y.y!=Ae.y>y.y&&y.x<(Ae.x-Te.x)*(y.y-Te.y)/(Ae.y-Te.y)+Te.x&&(I=!I),O=Math.min(O,Lx(y,Te,Ae))}}return(I?1:-1)*Math.sqrt(O)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}const Zm=Number.POSITIVE_INFINITY,s9=Math.sqrt(2);function q_(a,[t,s]){let d=0,y=0;if(s===Zm){t<0&&(t=0);const S=t/s9;switch(a){case"top-right":case"top-left":y=S-7;break;case"bottom-right":case"bottom-left":y=7-S;break;case"bottom":y=7-t;break;case"top":y=t-7}switch(a){case"top-right":case"bottom-right":d=-S;break;case"top-left":case"bottom-left":d=S;break;case"left":d=t;break;case"right":d=-t}}else{switch(t=Math.abs(t),s=Math.abs(s),a){case"top-right":case"top-left":case"top":y=s-7;break;case"bottom-right":case"bottom-left":case"bottom":y=7-s}switch(a){case"top-right":case"bottom-right":case"right":d=-t;break;case"top-left":case"bottom-left":case"left":d=t}}return[d,y]}function o9(a,t,s,d,y,S,I,O,j,U){a.createArrays(),a.tilePixelRatio=vr/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const re=a.layers[0].layout,ce=a.layers[0]._unevaluatedLayout._values,ge={};if(a.textSizeData.kind==="composite"){const{minZoom:Be,maxZoom:nt}=a.textSizeData;ge.compositeTextSizes=[ce["text-size"].possiblyEvaluate(new jt(Be),O),ce["text-size"].possiblyEvaluate(new jt(nt),O)]}if(a.iconSizeData.kind==="composite"){const{minZoom:Be,maxZoom:nt}=a.iconSizeData;ge.compositeIconSizes=[ce["icon-size"].possiblyEvaluate(new jt(Be),O),ce["icon-size"].possiblyEvaluate(new jt(nt),O)]}ge.layoutTextSize=ce["text-size"].possiblyEvaluate(new jt(j+1),O),ge.layoutIconSize=ce["icon-size"].possiblyEvaluate(new jt(j+1),O),ge.textMaxSize=ce["text-size"].possiblyEvaluate(new jt(18),O);const Te=re.get("text-rotation-alignment")==="map"&&re.get("symbol-placement")!=="point",Ae=re.get("text-size");for(const Be of a.features){const nt=re.get("text-font").evaluate(Be,{},O).join(","),ft=Ae.evaluate(Be,{},O),Et=ge.layoutTextSize.evaluate(Be,{},O),dt=(ge.layoutIconSize.evaluate(Be,{},O),{horizontal:{},vertical:void 0}),yt=Be.text;let kt,Tt=[0,0];if(yt){const fi=yt.toString(),Ii=re.get("text-letter-spacing").evaluate(Be,{},O)*Ls,ii=re.get("text-line-height").evaluate(Be,{},O)*Ls,vi=V(fi)?Ii:0,xi=re.get("text-anchor").evaluate(Be,{},O),Ti=re.get("text-variable-anchor");if(!Ti){const Wi=re.get("text-radial-offset").evaluate(Be,{},O);Tt=Wi?q_(xi,[Wi*Ls,Zm]):re.get("text-offset").evaluate(Be,{},O).map(Ki=>Ki*Ls)}let Di=Te?"center":re.get("text-justify").evaluate(Be,{},O);const ri=re.get("symbol-placement")==="point",Bi=ri?re.get("text-max-width").evaluate(Be,{},O)*Ls:1/0,hr=Wi=>{a.allowVerticalPlacement&&R(fi)&&(dt.vertical=Ym(yt,t,s,y,nt,Bi,ii,xi,Wi,vi,Tt,ol.vertical,!0,Et,ft))};if(!Te&&Ti){const Wi=Di==="auto"?Ti.map(ji=>qm(ji)):[Di];let Ki=!1;for(let ji=0;ji<Wi.length;ji++){const pr=Wi[ji];if(!dt.horizontal[pr])if(Ki)dt.horizontal[pr]=dt.horizontal[0];else{const Nr=Ym(yt,t,s,y,nt,Bi,ii,"center",pr,vi,Tt,ol.horizontal,!1,Et,ft);Nr&&(dt.horizontal[pr]=Nr,Ki=Nr.positionedLines.length===1)}}hr("left")}else{if(Di==="auto"&&(Di=qm(xi)),ri||re.get("text-writing-mode").indexOf("horizontal")>=0||!R(fi)){const Wi=Ym(yt,t,s,y,nt,Bi,ii,xi,Di,vi,Tt,ol.horizontal,!1,Et,ft);Wi&&(dt.horizontal[Di]=Wi)}hr(ri?"left":Di)}}let Kt=!1;if(Be.icon&&Be.icon.name){const fi=d[Be.icon.name];fi&&(kt=JS(y[Be.icon.name],re.get("icon-offset").evaluate(Be,{},O),re.get("icon-anchor").evaluate(Be,{},O)),Kt=fi.sdf,a.sdfIcons===void 0?a.sdfIcons=fi.sdf:a.sdfIcons!==fi.sdf&&Vt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(fi.pixelRatio!==a.pixelRatio||re.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const Zt=J_(dt.horizontal)||dt.vertical;a.iconsInText||(a.iconsInText=!!Zt&&Zt.iconsInText),(Zt||kt)&&l9(a,Be,dt,kt,d,ge,Et,0,Tt,Kt,I,O,U)}S&&a.generateCollisionDebugBuffers(j,a.collisionBoxArray)}function qm(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function l9(a,t,s,d,y,S,I,O,j,U,re,ce,ge){let Te=S.textMaxSize.evaluate(t,{},ce);Te===void 0&&(Te=I);const Ae=a.layers[0].layout,Be=Ae.get("icon-offset").evaluate(t,{},ce),nt=J_(s.horizontal)||s.vertical,ft=ge.name==="globe",Et=I/24,dt=a.tilePixelRatio*Te/24,yt=(vi=a.overscaling,a.zoom>18&&vi>2&&(vi>>=1),Math.max(vr/(512*vi),1)*Ae.get("symbol-spacing")),kt=Ae.get("text-padding")*a.tilePixelRatio,Tt=Ae.get("icon-padding")*a.tilePixelRatio,Kt=At(Ae.get("text-max-angle")),Zt=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point",fi=Ae.get("icon-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point",Ii=Ae.get("symbol-placement"),ii=yt/2;var vi;const xi=Ae.get("icon-text-fit");let Ti;d&&xi!=="none"&&(a.allowVerticalPlacement&&s.vertical&&(Ti=B_(d,s.vertical,xi,Ae.get("icon-text-fit-padding"),Be,Et)),nt&&(d=B_(d,nt,xi,Ae.get("icon-text-fit-padding"),Be,Et)));const Di=(ri,Bi,hr)=>{if(Bi.x<0||Bi.x>=vr||Bi.y<0||Bi.y>=vr)return;let Wi=null;if(ft){const{x:Ki,y:ji,z:pr}=ge.projectTilePoint(Bi.x,Bi.y,hr);Wi={anchor:new ah(Ki,ji,pr,0,void 0),up:ge.upVector(hr,Bi.x,Bi.y)}}(function(Ki,ji,pr,Nr,Or,Dr,gr,un,Tr,Fr,bn,Fn,On,Bn,Hn,ua,ms,dn,ja,Da,Qr,ia,Xa,wn,Ta){const Ws=Ki.addToLineVertexArray(ji,Nr);let gs,vs,oo,ys,oh,fd,L0,R0=0,zb=0,Nb=0,Fb=0,fg=-1,pg=-1;const Bc={};let Bb=$u.exports("");const gu=pr?pr.anchor:ji;let mg=0,gg=0;if(Tr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[mg,gg]=Tr.layout.get("text-offset").evaluate(Qr,{},Ta).map(Vo=>Vo*Ls):(mg=Tr.layout.get("text-radial-offset").evaluate(Qr,{},Ta)*Ls,gg=Zm),Ki.allowVerticalPlacement&&Or.vertical){const Vo=Or.vertical;if(Hn)fd=Km(Vo),un&&(L0=Km(un));else{const Uo=Tr.layout.get("text-rotate").evaluate(Qr,{},Ta)+90;oo=ip(Fr,gu,ji,bn,Fn,On,Vo,Bn,Uo,ua),un&&(ys=ip(Fr,gu,ji,bn,Fn,On,un,dn,Uo))}}if(Dr){const Vo=Tr.layout.get("icon-rotate").evaluate(Qr,{},Ta),Uo=Tr.layout.get("icon-text-fit")!=="none",z0=X_(Dr,Vo,Xa,Uo),yg=un?X_(un,Vo,Xa,Uo):void 0;vs=ip(Fr,gu,ji,bn,Fn,On,Dr,dn,Vo),R0=4*z0.length;const jb=Ki.iconSizeData;let vu=null;jb.kind==="source"?(vu=[Lc*Tr.layout.get("icon-size").evaluate(Qr,{},Ta)],vu[0]>Oh&&Vt(`${Ki.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):jb.kind==="composite"&&(vu=[Lc*ia.compositeIconSizes[0].evaluate(Qr,{},Ta),Lc*ia.compositeIconSizes[1].evaluate(Qr,{},Ta)],(vu[0]>Oh||vu[1]>Oh)&&Vt(`${Ki.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Ki.addSymbols(Ki.icon,z0,vu,Da,ja,Qr,!1,pr,ji,Ws.lineStartIndex,Ws.lineLength,-1,wn,Ta),fg=Ki.icon.placedSymbolArray.length-1,yg&&(zb=4*yg.length,Ki.addSymbols(Ki.icon,yg,vu,Da,ja,Qr,ol.vertical,pr,ji,Ws.lineStartIndex,Ws.lineLength,-1,wn,Ta),pg=Ki.icon.placedSymbolArray.length-1)}for(const Vo in Or.horizontal){const Uo=Or.horizontal[Vo];gs||(Bb=$u.exports(Uo.text),Hn?oh=Km(Uo):gs=ip(Fr,gu,ji,bn,Fn,On,Uo,Bn,Tr.layout.get("text-rotate").evaluate(Qr,{},Ta),ua));const z0=Uo.positionedLines.length===1;if(Nb+=K_(Ki,pr,ji,Uo,gr,Tr,Hn,Qr,ua,Ws,Or.vertical?ol.horizontal:ol.horizontalOnly,z0?Object.keys(Or.horizontal):[Vo],Bc,fg,ia,wn,Ta),z0)break}Or.vertical&&(Fb+=K_(Ki,pr,ji,Or.vertical,gr,Tr,Hn,Qr,ua,Ws,ol.vertical,["vertical"],Bc,pg,ia,wn,Ta));let Bh=-1;const vg=(Vo,Uo)=>Vo?Math.max(Vo,Uo):Uo;Bh=vg(oh,Bh),Bh=vg(fd,Bh),Bh=vg(L0,Bh);const j9=Bh>-1?1:0;Ki.glyphOffsetArray.length>=Rh.MAX_GLYPHS&&Vt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Qr.sortKey!==void 0&&Ki.addToSortKeyRanges(Ki.symbolInstances.length,Qr.sortKey),Ki.symbolInstances.emplaceBack(gu.x,gu.y,gu.z,ji.x,ji.y,Bc.right>=0?Bc.right:-1,Bc.center>=0?Bc.center:-1,Bc.left>=0?Bc.left:-1,Bc.vertical>=0?Bc.vertical:-1,fg,pg,Bb,gs!==void 0?gs:Ki.collisionBoxArray.length,gs!==void 0?gs+1:Ki.collisionBoxArray.length,oo!==void 0?oo:Ki.collisionBoxArray.length,oo!==void 0?oo+1:Ki.collisionBoxArray.length,vs!==void 0?vs:Ki.collisionBoxArray.length,vs!==void 0?vs+1:Ki.collisionBoxArray.length,ys||Ki.collisionBoxArray.length,ys?ys+1:Ki.collisionBoxArray.length,bn,Nb,Fb,R0,zb,j9,0,mg,gg,Bh)})(a,Bi,Wi,ri,s,d,y,Ti,a.layers[0],a.collisionBoxArray,t.index,t.sourceLayerIndex,a.index,kt,Zt,j,0,Tt,fi,Be,t,S,U,re,ce)};if(Ii==="line")for(const ri of W_(t.geometry,0,0,vr,vr)){const Bi=e9(ri,yt,Kt,s.vertical||nt,d,24,dt,a.overscaling,vr);for(const hr of Bi){const Wi=nt;Wi&&c9(a,Wi.text,ii,hr)||Di(ri,hr,ce)}}else if(Ii==="line-center"){for(const ri of t.geometry)if(ri.length>1){const Bi=QS(ri,Kt,s.vertical||nt,d,24,dt);Bi&&Di(ri,Bi,ce)}}else if(t.type==="Polygon")for(const ri of Fm(t.geometry,0)){const Bi=n9(ri,16);Di(ri[0],new ah(Bi.x,Bi.y,0,0,void 0),ce)}else if(t.type==="LineString")for(const ri of t.geometry)Di(ri,new ah(ri[0].x,ri[0].y,0,0,void 0),ce);else if(t.type==="Point")for(const ri of t.geometry)for(const Bi of ri)Di([Bi],new ah(Bi.x,Bi.y,0,0,void 0),ce)}const Oh=32640;function K_(a,t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae,Be,nt){const ft=function(yt,kt,Tt,Kt,Zt,fi,Ii,ii){const vi=[];if(kt.positionedLines.length===0)return vi;const xi=Kt.layout.get("text-rotate").evaluate(fi,{})*Math.PI/180,Ti=function(Wi){const Ki=Wi[0],ji=Wi[1],pr=Ki*ji;return pr>0?[Ki,-ji]:pr<0?[-Ki,ji]:Ki===0?[ji,Ki]:[ji,-Ki]}(Tt);let Di=Math.abs(kt.top-kt.bottom);for(const Wi of kt.positionedLines)Di-=Wi.lineOffset;const ri=kt.positionedLines.length,Bi=Di/ri;let hr=kt.top-Tt[1];for(let Wi=0;Wi<ri;++Wi){const Ki=kt.positionedLines[Wi];hr=t9(kt,Bi,hr,Wi);for(const ji of Ki.positionedGlyphs){if(!ji.rect)continue;const pr=ji.rect||{};let Nr=4,Or=!0,Dr=1,gr=0;if(ji.imageName){const wn=Ii[ji.imageName];if(!wn)continue;if(wn.sdf){Vt("SDF images are not supported in formatted text and will be ignored.");continue}Or=!1,Dr=wn.pixelRatio,Nr=1/Dr}const un=(Zt||ii)&&ji.vertical,Tr=ji.metrics.advance*ji.scale/2,Fr=ji.metrics,bn=ji.rect;if(bn===null)continue;ii&&kt.verticalizable&&(gr=ji.imageName?Tr-ji.metrics.width*ji.scale/2:0);const Fn=Zt?[ji.x+Tr,ji.y]:[0,0];let On=[0,0],Bn=[0,0],Hn=!1;Zt||(un?(Bn=[ji.x+Tr+Ti[0],ji.y+Ti[1]-gr],Hn=!0):On=[ji.x+Tr+Tt[0],ji.y+Tt[1]-gr]);const ua=bn.w*ji.scale/(Dr*(ji.localGlyph?2:1)),ms=bn.h*ji.scale/(Dr*(ji.localGlyph?2:1));let dn,ja,Da,Qr;if(un){const wn=ji.y-hr,Ta=new Ye(-Tr,Tr-wn),Ws=-Math.PI/2,gs=new Ye(...Bn);dn=new Ye(-Tr+On[0],On[1]),dn._rotateAround(Ws,Ta)._add(gs),dn.x+=-wn+Tr,dn.y-=(Fr.left-Nr)*ji.scale;const vs=ji.imageName?Fr.advance*ji.scale:Ls*ji.scale,oo=String.fromCharCode(ji.glyph);zS(oo)?dn.x+=(1-Nr)*ji.scale:NS(oo)?dn.x+=vs-Fr.height*ji.scale+(-Nr-1)*ji.scale:dn.x+=ji.imageName||Fr.width+2*Nr===bn.w&&Fr.height+2*Nr===bn.h?(vs-ms)/2:(vs-(Fr.height+2*Nr)*ji.scale)/2,ja=new Ye(dn.x,dn.y-ua),Da=new Ye(dn.x+ms,dn.y),Qr=new Ye(dn.x+ms,dn.y-ua)}else{const wn=(Fr.left-Nr)*ji.scale-Tr+On[0],Ta=(-Fr.top-Nr)*ji.scale+On[1],Ws=wn+ua,gs=Ta+ms;dn=new Ye(wn,Ta),ja=new Ye(Ws,Ta),Da=new Ye(wn,gs),Qr=new Ye(Ws,gs)}if(xi){let wn;wn=Zt?new Ye(0,0):Hn?new Ye(Ti[0],Ti[1]):new Ye(Tt[0],Tt[1]),dn._rotateAround(xi,wn),ja._rotateAround(xi,wn),Da._rotateAround(xi,wn),Qr._rotateAround(xi,wn)}const ia=new Ye(0,0),Xa=new Ye(0,0);vi.push({tl:dn,tr:ja,bl:Da,br:Qr,tex:pr,writingMode:kt.writingMode,glyphOffset:Fn,sectionIndex:ji.sectionIndex,isSDF:Or,pixelOffsetTL:ia,pixelOffsetBR:Xa,minFontScaleX:0,minFontScaleY:0})}}return vi}(0,d,j,S,I,O,y,a.allowVerticalPlacement),Et=a.textSizeData;let dt=null;Et.kind==="source"?(dt=[Lc*S.layout.get("text-size").evaluate(O,{},nt)],dt[0]>Oh&&Vt(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Et.kind==="composite"&&(dt=[Lc*Ae.compositeTextSizes[0].evaluate(O,{},nt),Lc*Ae.compositeTextSizes[1].evaluate(O,{},nt)],(dt[0]>Oh||dt[1]>Oh)&&Vt(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,ft,dt,j,I,O,re,t,s,U.lineStartIndex,U.lineLength,Te,Be,nt);for(const yt of ce)ge[yt]=a.text.placedSymbolArray.length-1;return 4*ft.length}function J_(a){for(const t in a)return a[t];return null}function ip(a,t,s,d,y,S,I,O,j,U){let re=I.top,ce=I.bottom,ge=I.left,Te=I.right;const Ae=I.collisionPadding;if(Ae&&(ge-=Ae[0],re-=Ae[1],Te+=Ae[2],ce+=Ae[3]),j){const Be=new Ye(ge,re),nt=new Ye(Te,re),ft=new Ye(ge,ce),Et=new Ye(Te,ce),dt=At(j);let yt=new Ye(0,0);U&&(yt=new Ye(U[0],U[1])),Be._rotateAround(dt,yt),nt._rotateAround(dt,yt),ft._rotateAround(dt,yt),Et._rotateAround(dt,yt),ge=Math.min(Be.x,nt.x,ft.x,Et.x),Te=Math.max(Be.x,nt.x,ft.x,Et.x),re=Math.min(Be.y,nt.y,ft.y,Et.y),ce=Math.max(Be.y,nt.y,ft.y,Et.y)}return a.emplaceBack(t.x,t.y,t.z,s.x,s.y,ge,re,Te,ce,O,d,y,S),a.length-1}function Km(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const t=a.bottom-a.top;return t>0?Math.max(10,t):null}function c9(a,t,s,d){const y=a.compareText;if(t in y){const S=y[t];for(let I=S.length-1;I>=0;I--)if(d.dist(S[I])<s)return!0}else y[t]=[];return y[t].push(d),!1}const h9=$i([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Q_}=h9,eb=$i([{name:"a_pos_3",components:3,type:"Int16"}]);var T0=$i([{name:"a_pos",type:"Int16",components:2}]);const sh=vr/Math.PI/2,Jm=2*kl(1,0)*sh*Math.PI,od=64,ld=[od,32,16],Pl=-sh,Ol=sh,u9=[new ao([Pl,Pl,Pl],[Ol,Ol,Ol]),new ao([Pl,Pl,Pl],[0,0,Ol]),new ao([0,Pl,Pl],[Ol,0,Ol]),new ao([Pl,0,Pl],[0,Ol,Ol]),new ao([0,0,Pl],[Ol,Ol,Ol])];function tb(a,t,s,d=!0){const y=sl([],a._camera.position,a.worldSize),S=[t,s,1,1];uu(S,S,a.pixelMatrixInverse),Yx(S,S,1/S[3]);const I=no([],oc([],S,y)),O=a.globeMatrix,j=[O[12],O[13],O[14]],U=oc([],j,y),re=a0(U),ce=no([],U),ge=a.worldSize/(2*Math.PI),Te=Dl(ce,I),Ae=Math.asin(ge/re);if(Ae<Math.acos(Te)){if(!d)return null;const Ii=[],ii=[];sl(Ii,I,re/Te),no(ii,oc(ii,Ii,U)),no(I,ih(I,U,sl(I,ii,Math.tan(Ae)*re)))}const Be=[];new km(y,I).closestPointOnSphere(j,ge,Be);const nt=no([],Vr(O,0)),ft=no([],Vr(O,1)),Et=no([],Vr(O,2)),dt=Dl(nt,Be),yt=Dl(ft,Be),kt=Dl(Et,Be),Tt=ui(Math.asin(-yt/ge));let Kt=ui(Math.atan2(dt,kt));Kt=a.center.lng+function(Ii,ii){const vi=(ii-Ii+180)%360-180;return vi<-180?vi+360:vi}(a.center.lng,Kt);const Zt=Dc(Kt),fi=fe(Pc(Tt),0,1);return new Zu(Zt,fi)}class d9{constructor(t,s,d){this.a=oc([],t,d),this.b=oc([],s,d),this.center=d;const y=no([],this.a),S=no([],this.b);this.angle=Math.acos(Dl(y,S))}}function Qm(a,t){if(a.angle===0)return null;let s;return s=a.a[t]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[t]/a.a[t]/Math.sin(a.angle)-1/Math.tan(a.angle)),s<0||s>1?null:function(d,y,S,I){const O=Math.sin(S);return d*(Math.sin((1-I)*S)/O)+y*(Math.sin(I*S)/O)}(a.a[t],a.b[t],a.angle,fe(s,0,1))+a.center[t]}function Rc(a){if(a.z<=1)return u9[a.z+2*a.y+a.x];const t=eg(rp(a));return ao.fromPoints(t)}function fu(a,t,s){return sl(a,a,1-s),l0(a,a,t,s)}function ib(a,t){const s=hd(t.zoom);if(s===0)return Rc(a);const d=rp(a),y=eg(d),S=Dc(d.getWest())*t.worldSize,I=Dc(d.getEast())*t.worldSize,O=Pc(d.getNorth())*t.worldSize,j=Pc(d.getSouth())*t.worldSize,U=[S,O,0],re=[I,O,0],ce=[S,j,0],ge=[I,j,0],Te=Sm([],t.globeMatrix);return Ea(U,U,Te),Ea(re,re,Te),Ea(ce,ce,Te),Ea(ge,ge,Te),y[0]=fu(y[0],ce,s),y[1]=fu(y[1],ge,s),y[2]=fu(y[2],re,s),y[3]=fu(y[3],U,s),ao.fromPoints(y)}function rb(a,t,s){for(const d of a)Ea(d,d,t),sl(d,d,s)}function f9(a,t,s){const d=t/a.worldSize,y=a.globeMatrix;if(s.z<=1){const Zt=Rc(s).getCorners();return rb(Zt,y,d),ao.fromPoints(Zt)}const S=rp(s),I=eg(S);rb(I,y,d);const O=Number.MAX_VALUE,j=[-O,-O,-O],U=[O,O,O];if(S.contains(a.center)){for(const Ii of I)s0(U,U,Ii),o0(j,j,Ii);j[2]=0;const Zt=a.point,fi=[Zt.x*d,Zt.y*d,0];return s0(U,U,fi),o0(j,j,fi),new ao(U,j)}const re=[y[12]*d,y[13]*d,y[14]*d],ce=S.getCenter(),ge=fe(a.center.lat,-85.051129,Oc),Te=fe(ce.lat,-85.051129,Oc),Ae=Dc(a.center.lng),Be=Pc(ge);let nt=Ae-Dc(ce.lng);const ft=Be-Pc(Te);nt>.5?nt-=1:nt<-.5&&(nt+=1);let Et=0;Math.abs(nt)>Math.abs(ft)?Et=nt>=0?1:3:(Et=ft>=0?0:2,l0(re,re,[y[4]*d,y[5]*d,y[6]*d],-Math.sin(At(ft>=0?S.getSouth():S.getNorth()))*sh));const dt=I[Et],yt=I[(Et+1)%4],kt=new d9(dt,yt,re),Tt=[Qm(kt,0)||dt[0],Qm(kt,1)||dt[1],Qm(kt,2)||dt[2]],Kt=hd(a.zoom);if(Kt>0){const Zt=function({x:Ii,y:ii,z:vi},xi,Ti,Di,ri){const Bi=1/(1<<vi);let hr=Ii*Bi,Wi=hr+Bi,Ki=ii*Bi,ji=Ki+Bi,pr=0;const Nr=(hr+Wi)/2-Di;return Nr>.5?pr=-1:Nr<-.5&&(pr=1),hr=((hr+pr)*xi-(Di*=xi))*Ti+Di,Wi=((Wi+pr)*xi-Di)*Ti+Di,Ki=(Ki*xi-(ri*=xi))*Ti+ri,ji=(ji*xi-ri)*Ti+ri,[[hr,ji,0],[Wi,ji,0],[Wi,Ki,0],[hr,Ki,0]]}(s,t,a._pixelsPerMercatorPixel,Ae,Be);for(let Ii=0;Ii<I.length;Ii++)fu(I[Ii],Zt[Ii],Kt);const fi=ih([],Zt[Et],Zt[(Et+1)%4]);sl(fi,fi,.5),fu(Tt,fi,Kt)}for(const Zt of I)s0(U,U,Zt),o0(j,j,Zt);return U[2]=Math.min(dt[2],yt[2]),s0(U,U,Tt),o0(j,j,Tt),new ao(U,j)}function rp({x:a,y:t,z:s}){const d=1/(1<<s),y=new Zr(al(a*d),Os((t+1)*d)),S=new Zr(al((a+1)*d),Os(t*d));return new Ph(y,S)}function eg(a){const t=At(a.getNorth()),s=At(a.getSouth()),d=Math.cos(t),y=Math.cos(s),S=Math.sin(t),I=Math.sin(s),O=a.getWest(),j=a.getEast();return[cd(y,I,O),cd(y,I,j),cd(d,S,j),cd(d,S,O)]}function cd(a,t,s,d=sh){return s=At(s),[a*Math.sin(s)*d,-t*d,a*Math.cos(s)*d]}function S0(a,t,s){return cd(Math.cos(At(a)),Math.sin(At(a)),t,s)}function A0(a,t,s,d){const y=1<<s.z,S=(a/vr+s.x)/y;return S0(Os((t/vr+s.y)/y),al(S),d)}function np({min:a,max:t}){return 16383/Math.max(t[0]-a[0],t[1]-a[1],t[2]-a[2])}const nb=new Float64Array(16);function M0(a){const t=np(a),s=Vx(nb,[t,t,t]);return n0(s,s,((d=[])[0]=-(y=a.min)[0],d[1]=-y[1],d[2]=-y[2],d));var d,y}function tg(a){const t=(d=a.min,(s=nb)[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=d[0],s[13]=d[1],s[14]=d[2],s[15]=1,s);var s,d;const y=1/np(a);return hu(t,t,[y,y,y])}function ab(a,t,s,d,y){const S=function(j){const U=vr/(2*Math.PI);return j/(2*Math.PI)/U}(s),I=[a,t,-s/(2*Math.PI)],O=sc(new Float64Array(16));return n0(O,O,I),hu(O,O,[S,S,S]),Am(O,O,At(-y)),Bf(O,O,At(-d)),O}function hd(a){return le(5,6,a)}function sb(a,t){const s=S0(t.lat,t.lng),d=function(Ae){const Be=S0(Ae._center.lat,Ae._center.lng);let nt=Im([],Ku(0,1,0),Be);const ft=Ux([],-Ae.angle,Be);nt=Ea(nt,nt,ft),Ux(ft,-Ae._pitch,nt);const Et=no([],Be);return sl(Et,Et,Ae.cameraToCenterDistance/Ae.pixelsPerMeter*Jm),Ea(Et,Et,ft),ih([],Be,Et)}(a);return I=(y=Cm([],d,s))[0],O=y[1],j=y[2],U=(S=s)[0],re=S[1],ce=S[2],Te=(ge=Math.sqrt(I*I+O*O+j*j)*Math.sqrt(U*U+re*re+ce*ce))&&Dl(y,S)/ge,Math.acos(Math.min(Math.max(Te,-1),1));var y,S,I,O,j,U,re,ce,ge,Te}function ig(a,t){return sb(a,t)>Math.PI/2*1.01}const ob=At(85),p9=Math.cos(ob),m9=Math.sin(ob);function lb(a,t){const s=a.fovAboveCenter,d=a.elevation?a.elevation.getMinElevationBelowMSL()*t:0,y=(a._camera.position[2]*a.worldSize-d)/Math.cos(a._pitch),S=Math.sin(s)*y/Math.sin(Math.max(Math.PI/2-a._pitch-s,.01)),I=Math.sin(a._pitch)*S+y;return Math.min(1.01*I,y*(1/a._horizonShift))}function pu(a,t){if(!t.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:t};const s=Math.pow(2,-a.z),d=a.x*s,y=(a.x+1)*s,S=a.y*s,I=(a.y+1)*s,O=al(d),j=al(y),U=Os(S),re=Os(I),ce=t.project(O,U),ge=t.project(j,U),Te=t.project(j,re),Ae=t.project(O,re);let Be=Math.min(ce.x,ge.x,Te.x,Ae.x),nt=Math.min(ce.y,ge.y,Te.y,Ae.y),ft=Math.max(ce.x,ge.x,Te.x,Ae.x),Et=Math.max(ce.y,ge.y,Te.y,Ae.y);const dt=s/16;function yt(Tt,Kt,Zt,fi,Ii,ii){const vi=(Zt+Ii)/2,xi=(fi+ii)/2,Ti=t.project(al(vi),Os(xi)),Di=Math.max(0,Be-Ti.x,nt-Ti.y,Ti.x-ft,Ti.y-Et);Be=Math.min(Be,Ti.x),ft=Math.max(ft,Ti.x),nt=Math.min(nt,Ti.y),Et=Math.max(Et,Ti.y),Di>dt&&(yt(Tt,Ti,Zt,fi,vi,xi),yt(Ti,Kt,vi,xi,Ii,ii))}yt(ce,ge,d,S,y,S),yt(ge,Te,y,S,y,I),yt(Te,Ae,y,I,d,I),yt(Ae,ce,d,I,d,S),Be-=dt,nt-=dt,ft+=dt,Et+=dt;const kt=1/Math.max(ft-Be,Et-nt);return{scale:kt,x:Be*kt,y:nt*kt,x2:ft*kt,y2:Et*kt,projection:t}}const g9=sc(new Float32Array(16));class Lh{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(t,s){return{x:0,y:0,z:0}}unproject(t,s){return new Zr(0,0)}projectTilePoint(t,s,d){return{x:t,y:s,z:0}}locationPoint(t,s,d=!0){return t._coordinatePoint(t.locationCoordinate(s),d)}pixelsPerMeter(t,s){return kl(1,t)*s}pixelSpaceConversion(t,s,d){return 1}farthestPixelDistance(t){return lb(t,t.pixelsPerMeter)}pointCoordinate(t,s,d,y){const S=t.horizonLineFromTop(!1),I=new Ye(s,Math.max(S,d));return t.rayIntersectionCoordinate(t.pointRayIntersection(I,y))}pointCoordinate3D(t,s,d){const y=new Ye(s,d);if(t.elevation)return t.elevation.pointCoordinate(y);{const S=this.pointCoordinate(t,y.x,y.y,0);return[S.x,S.y,S.z]}}isPointAboveHorizon(t,s){if(t.elevation)return!this.pointCoordinate3D(t,s.x,s.y);const d=t.horizonLineFromTop();return s.y<d}createInversionMatrix(t,s){return g9}createTileMatrix(t,s,d){let y,S,I;const O=d.canonical,j=sc(new Float64Array(16));if(this.isReprojectedInTileSpace){const U=pu(O,this);y=1,S=U.x+d.wrap*U.scale,I=U.y,hu(j,j,[y/U.scale,y/U.scale,t.pixelsPerMeter/s])}else y=s/t.zoomScale(O.z),S=(O.x+Math.pow(2,O.z)*d.wrap)*y,I=O.y*y;return n0(j,j,[S,I,0]),hu(j,j,[y/vr,y/vr,1]),j}upVector(t,s,d){return[0,0,1]}upVectorScale(t,s,d){return{metersToTile:1}}}class v9 extends Lh{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[s,d]=this.parallels=t.parallels||[29.5,45.5],y=Math.sin(At(s));this.n=(y+Math.sin(At(d)))/2,this.c=1+y*(2*this.n-y),this.r0=Math.sqrt(this.c)/this.n}project(t,s){const{n:d,c:y,r0:S}=this,I=At(t-this.center[0]),O=At(s),j=Math.sqrt(y-2*d*Math.sin(O))/d;return{x:j*Math.sin(I*d),y:j*Math.cos(I*d)-S,z:0}}unproject(t,s){const{n:d,c:y,r0:S}=this,I=S+s;let O=Math.atan2(t,Math.abs(I))*Math.sign(I);I*d<0&&(O-=Math.PI*Math.sign(t)*Math.sign(I));const j=At(this.center[0])*d;O=Se(O,-Math.PI-j,Math.PI-j);const U=fe(ui(O/d)+this.center[0],-180,180),re=Math.asin(fe((y-(t*t+I*I)*d*d)/(2*d),-1,1)),ce=fe(ui(re),-85.051129,Oc);return new Zr(U,ce)}}const C0=1.340264,I0=-.081106,k0=893e-6,D0=.003796,ap=Math.sqrt(3)/2;class y9 extends Lh{project(t,s){s=s/180*Math.PI,t=t/180*Math.PI;const d=Math.asin(ap*Math.sin(s)),y=d*d,S=y*y*y;return{x:.5*(t*Math.cos(d)/(ap*(C0+3*I0*y+S*(7*k0+9*D0*y)))/Math.PI+.5),y:1-.5*(d*(C0+I0*y+S*(k0+D0*y))/Math.PI+1),z:0}}unproject(t,s){t=(2*t-.5)*Math.PI;let d=s=(2*(1-s)-1)*Math.PI,y=d*d,S=y*y*y;for(let re,ce,ge,Te=0;Te<12&&(ce=d*(C0+I0*y+S*(k0+D0*y))-s,ge=C0+3*I0*y+S*(7*k0+9*D0*y),re=ce/ge,d=fe(d-re,-Math.PI/3,Math.PI/3),y=d*d,S=y*y*y,!(Math.abs(re)<1e-12));++Te);const I=ap*t*(C0+3*I0*y+S*(7*k0+9*D0*y))/Math.cos(d),O=Math.asin(Math.sin(d)/ap),j=fe(180*I/Math.PI,-180,180),U=fe(180*O/Math.PI,-85.051129,Oc);return new Zr(j,U)}}class x9 extends Lh{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0}project(t,s){return{x:.5+t/360,y:.5-s/360,z:0}}unproject(t,s){const d=360*(t-.5),y=fe(360*(.5-s),-85.051129,Oc);return new Zr(d,y)}}const ud=Math.PI/2;function sp(a){return Math.tan((ud+a)/2)}class _9 extends Lh{constructor(t){super(t),this.center=t.center||[0,30];const[s,d]=this.parallels=t.parallels||[30,30];let y=At(s),S=At(d);this.southernCenter=y+S<0,this.southernCenter&&(y=-y,S=-S);const I=Math.cos(y),O=sp(y);this.n=y===S?Math.sin(y):Math.log(I/Math.cos(S))/Math.log(sp(S)/O),this.f=I*Math.pow(sp(y),this.n)/this.n}project(t,s){s=At(s),this.southernCenter&&(s=-s),t=At(t-this.center[0]);const d=1e-6,{n:y,f:S}=this;S>0?s<-ud+d&&(s=-ud+d):s>ud-d&&(s=ud-d);const I=S/Math.pow(sp(s),y);let O=I*Math.sin(y*t),j=S-I*Math.cos(y*t);return O=.5*(O/Math.PI+.5),j=.5*(j/Math.PI+.5),{x:O,y:this.southernCenter?j:1-j,z:0}}unproject(t,s){t=(2*t-.5)*Math.PI,this.southernCenter&&(s=1-s),s=(2*(1-s)-.5)*Math.PI;const{n:d,f:y}=this,S=y-s,I=Math.sign(S),O=Math.sign(d)*Math.sqrt(t*t+S*S);let j=Math.atan2(t,Math.abs(S))*I;S*d<0&&(j-=Math.PI*Math.sign(t)*I);const U=fe(ui(j/d)+this.center[0],-180,180),re=fe(ui(2*Math.atan(Math.pow(y/O,1/d))-ud),-85.051129,Oc);return new Zr(U,this.southernCenter?-re:re)}}class cb extends Lh{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(t,s){return{x:Dc(t),y:Pc(s),z:0}}unproject(t,s){const d=al(t),y=Os(s);return new Zr(d,y)}}const hb=At(Oc);class b9 extends Lh{project(t,s){const d=(s=At(s))*s,y=d*d;return{x:.5*((t=At(t))*(.8707-.131979*d+y*(y*(.003971*d-.001529*y)-.013791))/Math.PI+.5),y:1-.5*(s*(1.007226+d*(.015085+y*(.028874*d-.044475-.005916*y)))/Math.PI+1),z:0}}unproject(t,s){t=(2*t-.5)*Math.PI;let d=s=(2*(1-s)-1)*Math.PI,y=25,S=0,I=d*d;do{I=d*d;const U=I*I;S=(d*(1.007226+I*(.015085+U*(.028874*I-.044475-.005916*U)))-s)/(1.007226+I*(.045255+U*(.259866*I-.311325-.005916*11*U))),d=fe(d-S,-hb,hb)}while(Math.abs(S)>1e-6&&--y>0);I=d*d;const O=fe(ui(t/(.8707+I*(I*(I*I*I*(.003971-.001529*I)-.013791)-.131979))),-180,180),j=ui(d);return new Zr(O,j)}}const ub=At(Oc);class w9 extends Lh{project(t,s){s=At(s),t=At(t);const d=Math.cos(s),y=2/Math.PI,S=Math.acos(d*Math.cos(t/2)),I=Math.sin(S)/S,O=.5*(t*y+2*d*Math.sin(t/2)/I)||0,j=.5*(s+Math.sin(s)/I)||0;return{x:.5*(O/Math.PI+.5),y:1-.5*(j/Math.PI+1),z:0}}unproject(t,s){let d=t=(2*t-.5)*Math.PI,y=s=(2*(1-s)-1)*Math.PI,S=25;const I=1e-6;let O=0,j=0;do{const U=Math.cos(y),re=Math.sin(y),ce=2*re*U,ge=re*re,Te=U*U,Ae=Math.cos(d/2),Be=Math.sin(d/2),nt=2*Ae*Be,ft=Be*Be,Et=1-Te*Ae*Ae,dt=Et?1/Et:0,yt=Et?Math.acos(U*Ae)*Math.sqrt(1/Et):0,kt=.5*(2*yt*U*Be+2*d/Math.PI)-t,Tt=.5*(yt*re+y)-s,Kt=.5*dt*(Te*ft+yt*U*Ae*ge)+1/Math.PI,Zt=dt*(nt*ce/4-yt*re*Be),fi=.125*dt*(ce*Be-yt*re*Te*nt),Ii=.5*dt*(ge*Ae+yt*ft*U)+.5,ii=Zt*fi-Ii*Kt;O=(Tt*Zt-kt*Ii)/ii,j=(kt*fi-Tt*Kt)/ii,d=fe(d-O,-Math.PI,Math.PI),y=fe(y-j,-ub,ub)}while((Math.abs(O)>I||Math.abs(j)>I)&&--S>0);return new Zr(ui(d),ui(y))}}class db extends Lh{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(At(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(t,s){const{scale:d,cosPhi:y}=this;return{x:At(t)*y*d+.5,y:-Math.sin(At(s))/y*d+.5,z:0}}unproject(t,s){const{scale:d,cosPhi:y}=this,S=-(s-.5)/d,I=fe(ui((t-.5)/d)/y,-180,180),O=Math.asin(fe(S*y,-1,1)),j=fe(ui(O),-85.051129,Oc);return new Zr(I,j)}}class E9 extends cb{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(t,s,d){const y=A0(t,s,d);return Ea(y,y,M0(Rc(d))),{x:y[0],y:y[1],z:y[2]}}locationPoint(t,s){const d=S0(s.lat,s.lng),y=no([],d),S=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(s),t._centerAltitude):t._centerAltitude;l0(d,d,y,kl(1,0)*vr*S);const I=sc(new Float64Array(16));return cu(I,t.pixelMatrix,t.globeMatrix),Ea(d,d,I),new Ye(d[0],d[1])}pixelsPerMeter(t,s){return kl(1,0)*s}pixelSpaceConversion(t,s,d){const y=kl(1,t)*s,S=xr(kl(1,45)*s,y,d);return this.pixelsPerMeter(t,s)/S}createTileMatrix(t,s,d){const y=tg(Rc(d.canonical));return cu(new Float64Array(16),t.globeMatrix,y)}createInversionMatrix(t,s){const{center:d}=t,y=M0(Rc(s));return Bf(y,y,At(d.lng)),Am(y,y,At(d.lat)),hu(y,y,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(y)}pointCoordinate(t,s,d,y){return tb(t,s,d,!0)||new Zu(0,0)}pointCoordinate3D(t,s,d){const y=this.pointCoordinate(t,s,d,0);return[y.x,y.y,y.z]}isPointAboveHorizon(t,s){return!tb(t,s.x,s.y,!1)}farthestPixelDistance(t){const s=function(y,S){const I=y.cameraToCenterDistance,O=y._centerAltitude*S,j=y._camera,U=y._camera.forward(),re=ih([],sl([],U,-I),[0,0,O]),ce=y.worldSize/(2*Math.PI),ge=[0,0,-ce],Te=y.width/y.height,Ae=Math.tan(y.fovAboveCenter),Be=sl([],j.up(),Ae),nt=sl([],j.right(),Ae*Te),ft=no([],ih([],ih([],U,Be),nt)),Et=[];let dt;if(new km(re,ft).closestPointOnSphere(ge,ce,Et)){const yt=ih([],Et,ge),kt=oc([],yt,re);dt=Math.cos(y.fovAboveCenter)*a0(kt)}else{const yt=oc([],re,ge),kt=oc([],ge,re);no(kt,kt);const Tt=a0(yt)-ce;dt=Math.sqrt(Tt*(Tt+2*ce));const Kt=Math.acos(dt/(ce+Tt))-Math.acos(Dl(U,kt));dt*=Math.cos(Kt)}return 1.01*dt}(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),d=hd(t.zoom);if(d>0){const y=lb(t,kl(1,t.center.lat)*t.worldSize),S=t.worldSize/(2*Math.PI),I=Math.max(t.width,t.height)/t.worldSize*Math.PI;return xr(s,y+S*(1-Math.cos(I)),Math.pow(d,10))}return s}upVector(t,s,d){return A0(s,d,t,1)}upVectorScale(t){return{metersToTile:Jm*np(Rc(t))}}}function fb(a){const t=a.parallels,s=!!t&&Math.abs(t[0]+t[1])<.01;switch(a.name){case"mercator":return new cb(a);case"equirectangular":return new x9(a);case"naturalEarth":return new b9(a);case"equalEarth":return new y9(a);case"winkelTripel":return new w9(a);case"albers":return s?new db(a):new v9(a);case"lambertConformalConic":return s?new db(a):new _9(a);case"globe":return new E9(a)}throw new Error(`Invalid projection name: ${a.name}`)}const T9=Yf.types,S9=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function op(a,t,s,d,y,S,I,O,j,U,re,ce,ge){const Te=O?Math.min(Oh,Math.round(O[0])):0,Ae=O?Math.min(Oh,Math.round(O[1])):0;a.emplaceBack(t,s,Math.round(32*d),Math.round(32*y),S,I,(Te<<1)+(j?1:0),Ae,16*U,16*re,256*ce,256*ge)}function lp(a,t,s,d,y,S,I){a.emplaceBack(t,s,d,y,S,I)}function cp(a,t,s,d,y){a.emplaceBack(t,s,d,y),a.emplaceBack(t,s,d,y),a.emplaceBack(t,s,d,y),a.emplaceBack(t,s,d,y)}function A9(a){for(const t of a.sections)if($e(t.text))return!0;return!1}class rg{constructor(t){this.layoutVertexArray=new Mn,this.indexArray=new Ps,this.programConfigurations=t,this.segments=new Ba,this.dynamicLayoutVertexArray=new Ao,this.opacityVertexArray=new wa,this.placedSymbolArray=new dx,this.globeExtVertexArray=new Jr}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,s,d,y){this.isEmpty()||(d&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,CS.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,kS.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,S9,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,IS.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||y)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Nt(rg,"SymbolBuffers");class ng{constructor(t,s,d){this.layoutVertexArray=new t,this.layoutAttributes=s,this.indexArray=new d,this.segments=new Ba,this.collisionVertexArray=new nu,this.collisionVertexArrayExt=new rc}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,DS.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,PS.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Nt(ng,"CollisionBuffers");class Rh{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(I=>I.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sc([]),this.placementViewportMatrix=sc([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Um(this.zoom,s["text-size"]),this.iconSizeData=Um(this.zoom,s["icon-size"]);const d=this.layers[0].layout,y=d.get("symbol-sort-key"),S=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&y.constantOr(1)!==void 0,this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(I=>ol[I]),this.stateDependentLayerIds=this.layers.filter(I=>I.isStateDependent()).map(I=>I.id),this.sourceID=t.sourceID,this.projection=t.projection}createArrays(){this.text=new rg(new su(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new rg(new su(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new mx,this.lineVertexArray=new gx,this.symbolInstances=new px}calculateGlyphDependencies(t,s,d,y,S){for(let I=0;I<t.length;I++)if(s[t.charCodeAt(I)]=!0,y&&S){const O=_0[t.charAt(I)];O&&(s[O.charCodeAt(0)]=!0)}}populate(t,s,d,y){const S=this.layers[0],I=S.layout,O=this.projection.name==="globe",j=I.get("text-font"),U=I.get("text-field"),re=I.get("icon-image"),ce=(U.value.kind!=="constant"||U.value.value instanceof nn&&!U.value.value.isEmpty()||U.value.value.toString().length>0)&&(j.value.kind!=="constant"||j.value.value.length>0),ge=re.value.kind!=="constant"||!!re.value.value||Object.keys(re.parameters).length>0,Te=I.get("symbol-sort-key");if(this.features=[],!ce&&!ge)return;const Ae=s.iconDependencies,Be=s.glyphDependencies,nt=s.availableImages,ft=new jt(this.zoom);for(const{feature:Et,id:dt,index:yt,sourceLayerIndex:kt}of t){const Tt=S._featureFilter.needGeometry,Kt=ou(Et,Tt);if(!S._featureFilter.filter(ft,Kt,d))continue;if(Tt||(Kt.geometry=th(Et,d,y)),O&&Et.type!==1&&d.z<=5){const ii=Kt.geometry,vi=.98078528056,xi=(Ti,Di)=>Dl(A0(Ti.x,Ti.y,d,1),A0(Di.x,Di.y,d,1))<vi;for(let Ti=0;Ti<ii.length;Ti++)ii[Ti]=A7(ii[Ti],xi)}let Zt,fi;if(ce){const ii=S.getValueAndResolveTokens("text-field",Kt,d,nt),vi=nn.factory(ii);A9(vi)&&(this.hasRTLText=!0),(!this.hasRTLText||Lt()==="unavailable"||this.hasRTLText&&Yt.isParsed())&&(Zt=RS(vi,S,Kt))}if(ge){const ii=S.getValueAndResolveTokens("icon-image",Kt,d,nt);fi=ii instanceof la?ii:la.fromString(ii)}if(!Zt&&!fi)continue;const Ii=this.sortFeaturesByKey?Te.evaluate(Kt,{},d):void 0;if(this.features.push({id:dt,text:Zt,icon:fi,index:yt,sourceLayerIndex:kt,geometry:Kt.geometry,properties:Et.properties,type:T9[Et.type],sortKey:Ii}),fi&&(Ae[fi.name]=!0),Zt){const ii=j.evaluate(Kt,{},d).join(","),vi=I.get("text-rotation-alignment")==="map"&&I.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ol.vertical)>=0;for(const xi of Zt.sections)if(xi.image)Ae[xi.image.name]=!0;else{const Ti=R(Zt.toString()),Di=xi.fontStack||ii,ri=Be[Di]=Be[Di]||{};this.calculateGlyphDependencies(xi.text,ri,vi,this.allowVerticalPlacement,Ti)}}}I.get("symbol-placement")==="line"&&(this.features=function(Et){const dt={},yt={},kt=[];let Tt=0;function Kt(ii){kt.push(Et[ii]),Tt++}function Zt(ii,vi,xi){const Ti=yt[ii];return delete yt[ii],yt[vi]=Ti,kt[Ti].geometry[0].pop(),kt[Ti].geometry[0]=kt[Ti].geometry[0].concat(xi[0]),Ti}function fi(ii,vi,xi){const Ti=dt[vi];return delete dt[vi],dt[ii]=Ti,kt[Ti].geometry[0].shift(),kt[Ti].geometry[0]=xi[0].concat(kt[Ti].geometry[0]),Ti}function Ii(ii,vi,xi){const Ti=xi?vi[0][vi[0].length-1]:vi[0][0];return`${ii}:${Ti.x}:${Ti.y}`}for(let ii=0;ii<Et.length;ii++){const vi=Et[ii],xi=vi.geometry,Ti=vi.text?vi.text.toString():null;if(!Ti){Kt(ii);continue}const Di=Ii(Ti,xi),ri=Ii(Ti,xi,!0);if(Di in yt&&ri in dt&&yt[Di]!==dt[ri]){const Bi=fi(Di,ri,xi),hr=Zt(Di,ri,kt[Bi].geometry);delete dt[Di],delete yt[ri],yt[Ii(Ti,kt[hr].geometry,!0)]=hr,kt[Bi].geometry=null}else Di in yt?Zt(Di,ri,xi):ri in dt?fi(Di,ri,xi):(Kt(ii),dt[Di]=Tt-1,yt[ri]=Tt-1)}return kt.filter(ii=>ii.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Et,dt)=>Et.sortKey-dt.sortKey)}update(t,s,d,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,s,this.layers,d,y),this.icon.programConfigurations.updatePaintArrays(t,s,this.layers,d,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=fb(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,s){const d=this.lineVertexArray.length;if(t.segment!==void 0)for(const{x:y,y:S}of s)this.lineVertexArray.emplaceBack(y,S);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(t,s,d,y,S,I,O,j,U,re,ce,ge,Te,Ae){const Be=t.indexArray,nt=t.layoutVertexArray,ft=t.globeExtVertexArray,Et=t.segments.prepareSegment(4*s.length,nt,Be,this.canOverlap?I.sortKey:void 0),dt=this.glyphOffsetArray.length,yt=Et.vertexLength,kt=this.allowVerticalPlacement&&O===ol.vertical?Math.PI/2:0,Tt=I.text&&I.text.sections;for(let Zt=0;Zt<s.length;Zt++){const{tl:fi,tr:Ii,bl:ii,br:vi,tex:xi,pixelOffsetTL:Ti,pixelOffsetBR:Di,minFontScaleX:ri,minFontScaleY:Bi,glyphOffset:hr,isSDF:Wi,sectionIndex:Ki}=s[Zt],ji=Et.vertexLength,pr=hr[1];if(op(nt,U.x,U.y,fi.x,pr+fi.y,xi.x,xi.y,d,Wi,Ti.x,Ti.y,ri,Bi),op(nt,U.x,U.y,Ii.x,pr+Ii.y,xi.x+xi.w,xi.y,d,Wi,Di.x,Ti.y,ri,Bi),op(nt,U.x,U.y,ii.x,pr+ii.y,xi.x,xi.y+xi.h,d,Wi,Ti.x,Di.y,ri,Bi),op(nt,U.x,U.y,vi.x,pr+vi.y,xi.x+xi.w,xi.y+xi.h,d,Wi,Di.x,Di.y,ri,Bi),j){const{x:Nr,y:Or,z:Dr}=j.anchor,[gr,un,Tr]=j.up;lp(ft,Nr,Or,Dr,gr,un,Tr),lp(ft,Nr,Or,Dr,gr,un,Tr),lp(ft,Nr,Or,Dr,gr,un,Tr),lp(ft,Nr,Or,Dr,gr,un,Tr),cp(t.dynamicLayoutVertexArray,Nr,Or,Dr,kt)}else cp(t.dynamicLayoutVertexArray,U.x,U.y,U.z,kt);Be.emplaceBack(ji,ji+1,ji+2),Be.emplaceBack(ji+1,ji+2,ji+3),Et.vertexLength+=4,Et.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(hr[0]),Zt!==s.length-1&&Ki===s[Zt+1].sectionIndex||t.programConfigurations.populatePaintArrays(nt.length,I,I.index,{},Te,Ae,Tt&&Tt[Ki])}const Kt=j?j.anchor:U;t.placedSymbolArray.emplaceBack(Kt.x,Kt.y,Kt.z,U.x,U.y,dt,this.glyphOffsetArray.length-dt,yt,re,ce,U.segment,d?d[0]:0,d?d[1]:0,y[0],y[1],O,0,!1,0,ge,0)}_commitLayoutVertex(t,s,d,y,S,I,O){t.emplaceBack(s,d,y,S,I,Math.round(O.x),Math.round(O.y))}_addCollisionDebugVertices(t,s,d,y,S,I,O){const j=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),U=j.vertexLength,re=O.tileAnchorX,ce=O.tileAnchorY;for(let Te=0;Te<4;Te++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(s,-t.padding,-t.padding),d.collisionVertexArrayExt.emplaceBack(s,t.padding,-t.padding),d.collisionVertexArrayExt.emplaceBack(s,t.padding,t.padding),d.collisionVertexArrayExt.emplaceBack(s,-t.padding,t.padding),this._commitLayoutVertex(d.layoutVertexArray,y,S,I,re,ce,new Ye(t.x1,t.y1)),this._commitLayoutVertex(d.layoutVertexArray,y,S,I,re,ce,new Ye(t.x2,t.y1)),this._commitLayoutVertex(d.layoutVertexArray,y,S,I,re,ce,new Ye(t.x2,t.y2)),this._commitLayoutVertex(d.layoutVertexArray,y,S,I,re,ce,new Ye(t.x1,t.y2)),j.vertexLength+=4;const ge=d.indexArray;ge.emplaceBack(U,U+1),ge.emplaceBack(U+1,U+2),ge.emplaceBack(U+2,U+3),ge.emplaceBack(U+3,U),j.primitiveLength+=4}_addTextDebugCollisionBoxes(t,s,d,y,S,I){for(let O=y;O<S;O++){const j=d.get(O),U=this.getSymbolInstanceTextSize(t,I,s,O);this._addCollisionDebugVertices(j,U,this.textCollisionBox,j.projectedAnchorX,j.projectedAnchorY,j.projectedAnchorZ,I)}}_addIconDebugCollisionBoxes(t,s,d,y,S,I){for(let O=y;O<S;O++){const j=d.get(O),U=this.getSymbolInstanceIconSize(t,s,I.placedIconSymbolIndex);this._addCollisionDebugVertices(j,U,this.iconCollisionBox,j.projectedAnchorX,j.projectedAnchorY,j.projectedAnchorZ,I)}}generateCollisionDebugBuffers(t,s){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ng(Dn,A_.members,Il),this.iconCollisionBox=new ng(Dn,A_.members,Il);const d=td(this.iconSizeData,t),y=td(this.textSizeData,t);for(let S=0;S<this.symbolInstances.length;S++){const I=this.symbolInstances.get(S);this._addTextDebugCollisionBoxes(y,t,s,I.textBoxStartIndex,I.textBoxEndIndex,I),this._addTextDebugCollisionBoxes(y,t,s,I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I),this._addIconDebugCollisionBoxes(d,t,s,I.iconBoxStartIndex,I.iconBoxEndIndex,I),this._addIconDebugCollisionBoxes(d,t,s,I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex,I)}}getSymbolInstanceTextSize(t,s,d,y){const S=this.text.placedSymbolArray.get(s.rightJustifiedTextSymbolIndex>=0?s.rightJustifiedTextSymbolIndex:s.centerJustifiedTextSymbolIndex>=0?s.centerJustifiedTextSymbolIndex:s.leftJustifiedTextSymbolIndex>=0?s.leftJustifiedTextSymbolIndex:s.verticalPlacedTextSymbolIndex>=0?s.verticalPlacedTextSymbolIndex:y),I=qf(this.textSizeData,t,S)/Ls;return this.tilePixelRatio*I}getSymbolInstanceIconSize(t,s,d){const y=this.icon.placedSymbolArray.get(d),S=qf(this.iconSizeData,t,y);return this.tilePixelRatio*S}_commitDebugCollisionVertexUpdate(t,s,d){t.emplaceBack(s,-d,-d),t.emplaceBack(s,d,-d),t.emplaceBack(s,d,d),t.emplaceBack(s,-d,d)}_updateTextDebugCollisionBoxes(t,s,d,y,S,I){for(let O=y;O<S;O++){const j=d.get(O),U=this.getSymbolInstanceTextSize(t,I,s,O);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,U,j.padding)}}_updateIconDebugCollisionBoxes(t,s,d,y,S,I){for(let O=y;O<S;O++){const j=d.get(O),U=this.getSymbolInstanceIconSize(t,s,I);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,U,j.padding)}}updateCollisionDebugBuffers(t,s){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=td(this.iconSizeData,t),y=td(this.textSizeData,t);for(let S=0;S<this.symbolInstances.length;S++){const I=this.symbolInstances.get(S);this._updateTextDebugCollisionBoxes(y,t,s,I.textBoxStartIndex,I.textBoxEndIndex,I),this._updateTextDebugCollisionBoxes(y,t,s,I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I),this._updateIconDebugCollisionBoxes(d,t,s,I.iconBoxStartIndex,I.iconBoxEndIndex,I.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,t,s,I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex,I.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,s,d,y,S,I,O,j,U){const re={};if(s<d){const{x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt,featureIndex:kt}=t.get(s);re.textBox={x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt},re.textFeatureIndex=kt}if(y<S){const{x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt,featureIndex:kt}=t.get(y);re.verticalTextBox={x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt},re.verticalTextFeatureIndex=kt}if(I<O){const{x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt,featureIndex:kt}=t.get(I);re.iconBox={x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt},re.iconFeatureIndex=kt}if(j<U){const{x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt,featureIndex:kt}=t.get(j);re.verticalIconBox={x1:ce,y1:ge,x2:Te,y2:Ae,padding:Be,projectedAnchorX:nt,projectedAnchorY:ft,projectedAnchorZ:Et,tileAnchorX:dt,tileAnchorY:yt},re.verticalIconFeatureIndex=kt}return re}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const d=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,s){const d=t.placedSymbolArray.get(s),y=d.vertexStartIndex+4*d.numGlyphs;for(let S=d.vertexStartIndex;S<y;S+=4)t.indexArray.emplaceBack(S,S+1,S+2),t.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(t),d=Math.cos(t),y=[],S=[],I=[];for(let O=0;O<this.symbolInstances.length;++O){I.push(O);const j=this.symbolInstances.get(O);y.push(0|Math.round(s*j.tileAnchorX+d*j.tileAnchorY)),S.push(j.featureIndex)}return I.sort((O,j)=>y[O]-y[j]||S[j]-S[O]),I}addToSortKeyRanges(t,s){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===s?d.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const d=this.symbolInstances.get(s);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:y,centerJustifiedTextSymbolIndex:S,leftJustifiedTextSymbolIndex:I,verticalPlacedTextSymbolIndex:O,placedIconSymbolIndex:j,verticalPlacedIconSymbolIndex:U}=d;y>=0&&this.addIndicesForPlacedSymbol(this.text,y),S>=0&&S!==y&&this.addIndicesForPlacedSymbol(this.text,S),I>=0&&I!==S&&I!==y&&this.addIndicesForPlacedSymbol(this.text,I),O>=0&&this.addIndicesForPlacedSymbol(this.text,O),j>=0&&this.addIndicesForPlacedSymbol(this.icon,j),U>=0&&this.addIndicesForPlacedSymbol(this.icon,U)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Nt(Rh,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Rh.MAX_GLYPHS=65535,Rh.addDynamicAttributes=cp;const M9=new or({"symbol-placement":new Gt(Le.layout_symbol["symbol-placement"]),"symbol-spacing":new Gt(Le.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Gt(Le.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qt(Le.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Gt(Le.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Gt(Le.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Gt(Le.layout_symbol["icon-ignore-placement"]),"icon-optional":new Gt(Le.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Gt(Le.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qt(Le.layout_symbol["icon-size"]),"icon-text-fit":new Gt(Le.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Gt(Le.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qt(Le.layout_symbol["icon-image"]),"icon-rotate":new Qt(Le.layout_symbol["icon-rotate"]),"icon-padding":new Gt(Le.layout_symbol["icon-padding"]),"icon-keep-upright":new Gt(Le.layout_symbol["icon-keep-upright"]),"icon-offset":new Qt(Le.layout_symbol["icon-offset"]),"icon-anchor":new Qt(Le.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Gt(Le.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Gt(Le.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Gt(Le.layout_symbol["text-rotation-alignment"]),"text-field":new Qt(Le.layout_symbol["text-field"]),"text-font":new Qt(Le.layout_symbol["text-font"]),"text-size":new Qt(Le.layout_symbol["text-size"]),"text-max-width":new Qt(Le.layout_symbol["text-max-width"]),"text-line-height":new Qt(Le.layout_symbol["text-line-height"]),"text-letter-spacing":new Qt(Le.layout_symbol["text-letter-spacing"]),"text-justify":new Qt(Le.layout_symbol["text-justify"]),"text-radial-offset":new Qt(Le.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Gt(Le.layout_symbol["text-variable-anchor"]),"text-anchor":new Qt(Le.layout_symbol["text-anchor"]),"text-max-angle":new Gt(Le.layout_symbol["text-max-angle"]),"text-writing-mode":new Gt(Le.layout_symbol["text-writing-mode"]),"text-rotate":new Qt(Le.layout_symbol["text-rotate"]),"text-padding":new Gt(Le.layout_symbol["text-padding"]),"text-keep-upright":new Gt(Le.layout_symbol["text-keep-upright"]),"text-transform":new Qt(Le.layout_symbol["text-transform"]),"text-offset":new Qt(Le.layout_symbol["text-offset"]),"text-allow-overlap":new Gt(Le.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Gt(Le.layout_symbol["text-ignore-placement"]),"text-optional":new Gt(Le.layout_symbol["text-optional"])});var ag={paint:new or({"icon-opacity":new Qt(Le.paint_symbol["icon-opacity"]),"icon-color":new Qt(Le.paint_symbol["icon-color"]),"icon-halo-color":new Qt(Le.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qt(Le.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qt(Le.paint_symbol["icon-halo-blur"]),"icon-translate":new Gt(Le.paint_symbol["icon-translate"]),"icon-translate-anchor":new Gt(Le.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qt(Le.paint_symbol["text-opacity"]),"text-color":new Qt(Le.paint_symbol["text-color"],{runtimeType:Yi,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new Qt(Le.paint_symbol["text-halo-color"]),"text-halo-width":new Qt(Le.paint_symbol["text-halo-width"]),"text-halo-blur":new Qt(Le.paint_symbol["text-halo-blur"]),"text-translate":new Gt(Le.paint_symbol["text-translate"]),"text-translate-anchor":new Gt(Le.paint_symbol["text-translate-anchor"])}),layout:M9};class pb{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Xt,this.defaultValue=t}evaluate(t){if(t.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(t.formattedSection))return s.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nt(pb,"FormatSectionOverride",{omit:["defaultValue"]});class hp extends ac{constructor(t){super(t,ag)}recalculate(t,s){super.recalculate(t,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const y=[];for(const S of d)y.indexOf(S)<0&&y.push(S);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,s,d,y){const S=this.layout.get(t).evaluate(s,{},d,y),I=this._unevaluatedLayout._values[t];return I.isDataDriven()||Xr(I.value)||!S?S:function(O,j){return j.replace(/{([^{}]+)}/g,(U,re)=>re in O?String(O[re]):"")}(s.properties,S)}createBucket(t){return new Rh(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of ag.paint.overridableProperties){if(!hp.hasPaintOverride(this.layout,t))continue;const s=this.paint.get(t),d=new pb(s),y=new ba(d,s.property.specification);let S=null;S=s.value.kind==="constant"||s.value.kind==="source"?new ha("source",y):new Yn("composite",y,s.value.zoomStops,s.value._interpolationType),this.paint._values[t]=new bi(s.property,S,s.parameters)}}_handleOverridablePaintPropertyUpdate(t,s,d){return!(!this.layout||s.isDataDriven()||d.isDataDriven())&&hp.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,s){const d=t.get("text-field"),y=ag.paint.properties[s];let S=!1;const I=O=>{for(const j of O)if(y.overrides&&y.overrides.hasOverride(j))return void(S=!0)};if(d.value.kind==="constant"&&d.value.value instanceof nn)I(d.value.value.sections);else if(d.value.kind==="source"){const O=U=>{S||(U instanceof mo&&Tn(U.value)===vn?I(U.value.sections):U instanceof Es?I(U.sections):U.eachChild(O))},j=d.value;j._styleExpression&&O(j._styleExpression.expression)}return S}getProgramConfiguration(t){return new Dh(this,t)}}var C9={paint:new or({"background-color":new Gt(Le.paint_background["background-color"]),"background-pattern":new Gt(Le.paint_background["background-pattern"]),"background-opacity":new Gt(Le.paint_background["background-opacity"])})},I9={paint:new or({"raster-opacity":new Gt(Le.paint_raster["raster-opacity"]),"raster-hue-rotate":new Gt(Le.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Gt(Le.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Gt(Le.paint_raster["raster-brightness-max"]),"raster-saturation":new Gt(Le.paint_raster["raster-saturation"]),"raster-contrast":new Gt(Le.paint_raster["raster-contrast"]),"raster-resampling":new Gt(Le.paint_raster["raster-resampling"]),"raster-fade-duration":new Gt(Le.paint_raster["raster-fade-duration"])})};class k9 extends ac{constructor(t){super(t,{}),this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var D9={paint:new or({"sky-type":new Gt(Le.paint_sky["sky-type"]),"sky-atmosphere-sun":new Gt(Le.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Gt(Le.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Gt(Le.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Gt(Le.paint_sky["sky-gradient-radius"]),"sky-gradient":new Zi(Le.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Gt(Le.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Gt(Le.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Gt(Le.paint_sky["sky-opacity"])})};function sg(a,t,s){const d=[0,0,1],y=Zx([]);return Kx(y,y,s?-At(a)+Math.PI:At(a)),qx(y,y,-At(t)),Wx(d,d,y),no(d,d)}const P9={circle:class extends ac{constructor(a){super(a,O7)}createBucket(a){return new wm(a)}queryRadius(a){const t=a;return qu("circle-radius",this,t)+qu("circle-stroke-width",this,t)+Nf(this.paint.get("circle-translate"))}queryIntersectsFeature(a,t,s,d,y,S,I,O){const j=Fx(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,a.pixelToTileUnitsFactor),U=this.paint.get("circle-radius").evaluate(t,s)+this.paint.get("circle-stroke-width").evaluate(t,s);return Jx(a,d,S,I,O,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",j,U)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new Dh(this,a)}},heatmap:class extends ac{createBucket(a){return new e_(a)}constructor(a){super(a,V7),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Lm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return qu("heatmap-radius",this,a)}queryIntersectsFeature(a,t,s,d,y,S,I,O){const j=this.paint.get("heatmap-radius").evaluate(t,s);return Jx(a,d,S,I,O,!0,!0,new Ye(0,0),j)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new Dh(this,a)}},hillshade:class extends ac{constructor(a){super(a,U7)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ac{constructor(a){super(a,nS)}getProgramIds(){const a=this.paint.get("fill-pattern"),t=a&&a.constantOr(1),s=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&s.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),s}getProgramConfiguration(a){return new Dh(this,a)}recalculate(a,t){super.recalculate(a,t);const s=this.paint._values["fill-outline-color"];s.value.kind==="constant"&&s.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Hf(a)}queryRadius(){return Nf(this.paint.get("fill-translate"))}queryIntersectsFeature(a,t,s,d,y,S){return!a.queryGeometry.isAboveHorizon&&Ox(Nx(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,a.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends ac{constructor(a){super(a,_S)}createBucket(a){return new v0(a)}queryRadius(){return Nf(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new Dh(this,a)}queryIntersectsFeature(a,t,s,d,y,S,I,O,j){const U=Fx(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,a.pixelToTileUnitsFactor),re=this.paint.get("fill-extrusion-height").evaluate(t,s),ce=this.paint.get("fill-extrusion-base").evaluate(t,s),ge=[0,0],Te=O&&S.elevation,Ae=S.elevation?S.elevation.exaggeration():1,Be=a.tile.getBucket(this);if(Te&&Be instanceof v0){const yt=Be.centroidVertexArray,kt=j+1;kt<yt.length&&(ge[0]=yt.geta_centroid_pos0(kt),ge[1]=yt.geta_centroid_pos1(kt))}if(ge[0]===0&&ge[1]===1)return!1;S.projection.name==="globe"&&(d=y_([d],[new Ye(0,0),new Ye(vr,vr)],a.tileID.canonical).map(yt=>yt.polygon).flat());const nt=Te?O:null,[ft,Et]=function(yt,kt,Tt,Kt,Zt,fi,Ii,ii,vi,xi,Ti){return yt.projection.name==="globe"?function(Di,ri,Bi,hr,Wi,Ki,ji,pr,Nr,Or,Dr){const gr=[],un=[],Tr=Di.projection.upVectorScale(Dr,Di.center.lat,Di.worldSize).metersToTile,Fr=[0,0,0,1],bn=[0,0,0,1],Fn=(Bn,Hn,ua,ms)=>{Bn[0]=Hn,Bn[1]=ua,Bn[2]=ms,Bn[3]=1},On=v_();Bi>0&&(Bi+=On),hr+=On;for(const Bn of ri){const Hn=[],ua=[];for(const ms of Bn){const dn=ms.x+Wi.x,ja=ms.y+Wi.y,Da=Di.projection.projectTilePoint(dn,ja,Dr),Qr=Di.projection.upVector(Dr,ms.x,ms.y);let ia=Bi,Xa=hr;if(ji){const wn=w_(dn,ja,Bi,hr,ji,pr,Nr,Or);ia+=wn.base,Xa+=wn.top}Bi!==0?Fn(Fr,Da.x+Qr[0]*Tr*ia,Da.y+Qr[1]*Tr*ia,Da.z+Qr[2]*Tr*ia):Fn(Fr,Da.x,Da.y,Da.z),Fn(bn,Da.x+Qr[0]*Tr*Xa,Da.y+Qr[1]*Tr*Xa,Da.z+Qr[2]*Tr*Xa),Ea(Fr,Fr,Ki),Ea(bn,bn,Ki),Hn.push(new ed(Fr[0],Fr[1],Fr[2])),ua.push(new ed(bn[0],bn[1],bn[2]))}gr.push(Hn),un.push(ua)}return[gr,un]}(yt,kt,Tt,Kt,Zt,fi,Ii,ii,vi,xi,Ti):Ii?function(Di,ri,Bi,hr,Wi,Ki,ji,pr,Nr){const Or=[],Dr=[],gr=[0,0,0,1];for(const un of Di){const Tr=[],Fr=[];for(const bn of un){const Fn=bn.x+hr.x,On=bn.y+hr.y,Bn=w_(Fn,On,ri,Bi,Ki,ji,pr,Nr);gr[0]=Fn,gr[1]=On,gr[2]=Bn.base,gr[3]=1,uu(gr,gr,Wi),gr[3]=Math.max(gr[3],1e-5);const Hn=new ed(gr[0]/gr[3],gr[1]/gr[3],gr[2]/gr[3]);gr[0]=Fn,gr[1]=On,gr[2]=Bn.top,gr[3]=1,uu(gr,gr,Wi),gr[3]=Math.max(gr[3],1e-5);const ua=new ed(gr[0]/gr[3],gr[1]/gr[3],gr[2]/gr[3]);Tr.push(Hn),Fr.push(ua)}Or.push(Tr),Dr.push(Fr)}return[Or,Dr]}(kt,Tt,Kt,Zt,fi,Ii,ii,vi,xi):function(Di,ri,Bi,hr,Wi){const Ki=[],ji=[],pr=Wi[8]*ri,Nr=Wi[9]*ri,Or=Wi[10]*ri,Dr=Wi[11]*ri,gr=Wi[8]*Bi,un=Wi[9]*Bi,Tr=Wi[10]*Bi,Fr=Wi[11]*Bi;for(const bn of Di){const Fn=[],On=[];for(const Bn of bn){const Hn=Bn.x+hr.x,ua=Bn.y+hr.y,ms=Wi[0]*Hn+Wi[4]*ua+Wi[12],dn=Wi[1]*Hn+Wi[5]*ua+Wi[13],ja=Wi[2]*Hn+Wi[6]*ua+Wi[14],Da=Wi[3]*Hn+Wi[7]*ua+Wi[15],Qr=ms+pr,ia=dn+Nr,Xa=ja+Or,wn=Math.max(Da+Dr,1e-5),Ta=ms+gr,Ws=dn+un,gs=ja+Tr,vs=Math.max(Da+Fr,1e-5);Fn.push(new ed(Qr/wn,ia/wn,Xa/wn)),On.push(new ed(Ta/vs,Ws/vs,gs/vs))}Ki.push(Fn),ji.push(On)}return[Ki,ji]}(kt,Tt,Kt,Zt,fi)}(S,d,ce,re,U,I,nt,ge,Ae,S.center.lat,a.tileID.canonical),dt=a.queryGeometry;return function(yt,kt,Tt){let Kt=1/0;Ox(Tt,kt)&&(Kt=b_(Tt,kt[0]));for(let Zt=0;Zt<kt.length;Zt++){const fi=kt[Zt],Ii=yt[Zt];for(let ii=0;ii<fi.length-1;ii++){const vi=fi[ii],xi=[vi,fi[ii+1],Ii[ii+1],Ii[ii],vi];Px(Tt,xi)&&(Kt=Math.min(Kt,b_(Tt,xi)))}}return Kt!==1/0&&Kt}(ft,Et,dt.isPointQuery()?dt.screenBounds:dt.screenGeometry)}},line:class extends ac{constructor(a){super(a,E_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Qn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,t){super.recalculate(a,t),this.paint._values["line-floorwidth"]=T_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Zf(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new Dh(this,a)}queryRadius(a){const t=a,s=S_(qu("line-width",this,t),qu("line-gap-width",this,t)),d=qu("line-offset",this,t);return s/2+Math.abs(d)+Nf(this.paint.get("line-translate"))}queryIntersectsFeature(a,t,s,d,y,S){if(a.queryGeometry.isAboveHorizon)return!1;const I=Nx(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,a.pixelToTileUnitsFactor),O=a.pixelToTileUnitsFactor/2*S_(this.paint.get("line-width").evaluate(t,s),this.paint.get("line-gap-width").evaluate(t,s)),j=this.paint.get("line-offset").evaluate(t,s);return j&&(d=function(U,re){const ce=[],ge=new Ye(0,0);for(let Te=0;Te<U.length;Te++){const Ae=U[Te],Be=[];for(let nt=0;nt<Ae.length;nt++){const ft=Ae[nt-1],Et=Ae[nt],dt=Ae[nt+1],yt=nt===0?ge:Et.sub(ft)._unit()._perp(),kt=nt===Ae.length-1?ge:dt.sub(Et)._unit()._perp(),Tt=yt._add(kt)._unit();Tt._mult(1/(Tt.x*kt.x+Tt.y*kt.y)),Be.push(Tt._mult(re)._add(Et))}ce.push(Be)}return ce}(d,j*a.pixelToTileUnitsFactor)),function(U,re,ce){for(let ge=0;ge<re.length;ge++){const Te=re[ge];if(U.length>=3){for(let Ae=0;Ae<Te.length;Ae++)if(lu(U,Te[Ae]))return!0}if(I7(U,Te,ce))return!0}return!1}(I,d,O)}isTileClipped(){return!0}},symbol:hp,background:class extends ac{constructor(a){super(a,C9)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ac{constructor(a){super(a,I9)}getProgramIds(){return["raster"]}},sky:class extends ac{constructor(a){super(a,D9),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Lm({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(a,t){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),y=!d,S=a.style.light,I=S.properties.get("position");return y&&S.properties.get("anchor")==="viewport"&&Vt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),y?sg(I.azimuthal,90-I.polar,t):sg(d[0],90-d[1],t)}const s=this.paint.get("sky-gradient-center");return sg(s[0],90-s[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class P0{constructor(t,s,d,y){this.context=t,this.format=d,this.texture=t.gl.createTexture(),this.update(s,y)}update(t,s,d){const{width:y,height:S}=t,{context:I}=this,{gl:O}=I,{HTMLImageElement:j,HTMLCanvasElement:U,HTMLVideoElement:re,ImageData:ce,ImageBitmap:ge}=L;if(O.bindTexture(O.TEXTURE_2D,this.texture),I.pixelStoreUnpackFlipY.set(!1),I.pixelStoreUnpack.set(1),I.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!s||s.premultiply!==!1)),d||this.size&&this.size[0]===y&&this.size[1]===S){const{x:Te,y:Ae}=d||{x:0,y:0};t instanceof j||t instanceof U||t instanceof re||t instanceof ce||ge&&t instanceof ge?O.texSubImage2D(O.TEXTURE_2D,0,Te,Ae,O.RGBA,O.UNSIGNED_BYTE,t):O.texSubImage2D(O.TEXTURE_2D,0,Te,Ae,y,S,O.RGBA,O.UNSIGNED_BYTE,t.data)}else this.size=[y,S],t instanceof j||t instanceof U||t instanceof re||t instanceof ce||ge&&t instanceof ge?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,t):O.texImage2D(O.TEXTURE_2D,0,this.format,y,S,0,this.format,O.UNSIGNED_BYTE,t.data);this.useMipmap=Boolean(s&&s.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&O.generateMipmap(O.TEXTURE_2D)}bind(t,s){const{context:d}=this,{gl:y}=d;y.bindTexture(y.TEXTURE_2D,this.texture),t!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,t),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.useMipmap?t===y.NEAREST?y.NEAREST_MIPMAP_NEAREST:y.LINEAR_MIPMAP_NEAREST:t),this.filter=t),s!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,s),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,s),this.wrap=s)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class O9{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class L9{constructor(){this.tasks={},this.taskQueue=[],rt(["process"],this),this.invoker=new O9(this.process),this.nextId=0}add(t,s){const d=this.nextId++,y=function({type:S,isSymbolTile:I,zoom:O}){return O=O||0,S==="message"?0:S!=="maybePrepare"||I?S!=="parseTile"||I?S==="parseTile"&&I?300-O:S==="maybePrepare"&&I?400-O:500:200-O:100-O}(s);if(y===0){Ji();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:t,metadata:s,priority:y,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){Ji();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const t=this.pick();if(t===null)return;const s=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!s)return;s.fn()}finally{}}pick(){let t=null,s=1/0;for(let y=0;y<this.taskQueue.length;y++){const S=this.tasks[this.taskQueue[y]];S.priority<s&&(s=S.priority,t=y)}if(t===null)return null;const d=this.taskQueue[t];return this.taskQueue.splice(t,1),d}remove(){this.invoker.remove()}}class mb{constructor(t){this._stringToNumber={},this._numberToString=[];for(let s=0;s<t.length;s++){const d=t[s];this._stringToNumber[d]=s,this._numberToString[s]=d}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const R9=["tile","layer","source","sourceLayer","state"];class gb{constructor(t,s,d,y,S){this.type="Feature",this._vectorTileFeature=t,this._z=s,this._x=d,this._y=y,this.properties=t.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(t.id=this.id);for(const s of R9)this[s]!==void 0&&(t[s]=this[s]);return t}}const Ll=32,zc=33,zh=new Uint16Array(8184);for(let a=0;a<2046;a++){let t=a+2,s=0,d=0,y=0,S=0,I=0,O=0;for(1&t?y=S=I=Ll:s=d=O=Ll;(t>>=1)>1;){const U=s+y>>1,re=d+S>>1;1&t?(y=s,S=d,s=I,d=O):(s=y,d=S,y=I,S=O),I=U,O=re}const j=4*a;zh[j+0]=s,zh[j+1]=d,zh[j+2]=y,zh[j+3]=S}const Nc=new Uint16Array(2178),Nh=new Uint8Array(1089),up=new Uint16Array(1089);function vb(a){return a===0?-.03125:a===32?.03125:0}var yb=$i([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const xb={type:2,extent:vr,loadGeometry:()=>[[new Ye(0,0),new Ye(8193,0),new Ye(8193,8193),new Ye(0,8193),new Ye(0,0)]]};class og{constructor(t,s,d,y,S){this.tileID=t,this.uid=Ne(),this.uses=0,this.tileSize=s,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=S,this.expiredRequestCount=0,this.state="loading",y&&y.transform&&(this.projection=y.transform.projection)}registerFadeDuration(t){const s=t+this.timeAdded;s<ee.now()||this.fadeEndTime&&s<this.fadeEndTime||(this.fadeEndTime=s)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=pu(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,s,d){if(this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(y,S){const I={};if(!S)return I;for(const O of y){const j=O.layerIds.map(U=>S.getLayer(U)).filter(Boolean);if(j.length!==0){O.layers=j,O.stateDependentLayerIds&&(O.stateDependentLayers=O.stateDependentLayerIds.map(U=>j.filter(re=>re.id===U)[0]));for(const U of j)I[U.id]=O}}return I}(t.buckets,s.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const S=this.buckets[y];if(S instanceof Rh){if(this.hasSymbolBuckets=!0,!d)break;S.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const S=this.buckets[y];if(S instanceof Rh&&S.hasRTLText){this.hasRTLText=!0,Yt.isLoading()||Yt.isLoaded()||Lt()!=="deferred"||qt();break}}this.queryPadding=0;for(const y in this.buckets){const S=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,s.style.getLayer(y).queryRadius(S))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new mm}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(t){return this.buckets[t.id]}upload(t){for(const d in this.buckets){const y=this.buckets[d];y.uploadPending()&&y.upload(t)}const s=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new P0(t,this.imageAtlas.image,s.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new P0(t,this.glyphAtlasImage,s.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new P0(t,this.lineAtlas.image,s.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,s,d,y,S,I,O,j){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:y,pixelPosMatrix:O,transform:I,params:S,tileTransform:this.tileTransform},t,s,d):{}}querySourceFeatures(t,s){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const y=d.loadVTLayers(),S=s?s.sourceLayer:"",I=y._geojsonTileLayer||y[S];if(!I)return;const O=_o(s&&s.filter),{z:j,x:U,y:re}=this.tileID.canonical,ce={z:j,x:U,y:re};for(let ge=0;ge<I.length;ge++){const Te=I.feature(ge);if(O.needGeometry){const nt=ou(Te,!0);if(!O.filter(new jt(this.tileID.overscaledZ),nt,this.tileID.canonical))continue}else if(!O.filter(new jt(this.tileID.overscaledZ),Te))continue;const Ae=d.getId(Te,S),Be=new gb(Te,j,U,re,Ae);Be.tile=ce,t.push(Be)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const s=this.expirationTime;if(t.cacheControl){const d=Ei(t.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const d=Date.now();let y=!1;if(this.expirationTime>d)y=!1;else if(s)if(this.expirationTime<s)y=!0;else{const S=this.expirationTime-s;S?this.expirationTime=d+Math.max(S,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(t,s){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(t).length===0||!s)return;const d=this.latestFeatureIndex.loadVTLayers(),y=s.style.listImages();for(const S in this.buckets){if(!s.style.hasLayer(S))continue;const I=this.buckets[S],O=I.layers[0].sourceLayer||"_geojsonTileLayer",j=d[O],U=t[O];if(!j||!U||Object.keys(U).length===0)continue;if(I.update(U,j,y,this.imageAtlas&&this.imageAtlas.patternPositions||{}),I instanceof Zf||I instanceof Hf){const ce=s.style._getSourceCache(I.layers[0].source);s._terrain&&s._terrain.enabled&&ce&&I.programConfigurations.needsUpload&&s._terrain._clearRenderCacheForTile(ce.id,this.tileID)}const re=s&&s.style&&s.style.getLayer(S);re&&(this.queryPadding=Math.max(this.queryPadding,re.queryRadius(I)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ee.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=ee.now()+t}setTexture(t,s){const d=s.context,y=d.gl;this.texture=this.texture||s.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new P0(d,t,y.RGBA,{useMipmap:!0}),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),d.extTextureFilterAnisotropic&&y.texParameterf(y.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax))}setDependencies(t,s){const d={};for(const y of s)d[y]=!0;this.dependencies[t]=d}hasDependency(t,s){for(const d of t){const y=this.dependencies[d];if(y){for(const S of s)if(y[S])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,s){if(!s||s.name==="mercator"||this._tileDebugBuffer)return;const d=th(xb,this.tileID.canonical,this.tileTransform)[0],y=new on,S=new i0;for(let I=0;I<d.length;I++){const{x:O,y:j}=d[I];y.emplaceBack(O,j),S.emplaceBack(I)}S.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(S),this._tileDebugBuffer=t.createVertexBuffer(y,T0.members),this._tileDebugSegments=Ba.simpleSegment(0,0,y.length,S.length)}_makeTileBoundsBuffers(t,s){if(this._tileBoundsBuffer||!s||s.name==="mercator")return;const d=th(xb,this.tileID.canonical,this.tileTransform)[0];let y,S;if(this.isRaster){const I=function(O,j){const U=pu(O,j),re=Math.pow(2,O.z);for(let nt=0;nt<zc;nt++)for(let ft=0;ft<zc;ft++){const Et=al((O.x+(ft+vb(ft))/Ll)/re),dt=Os((O.y+(nt+vb(nt))/Ll)/re),yt=j.project(Et,dt),kt=nt*zc+ft;Nc[2*kt+0]=Math.round((yt.x*U.scale-U.x)*vr),Nc[2*kt+1]=Math.round((yt.y*U.scale-U.y)*vr)}Nh.fill(0),up.fill(0);for(let nt=2045;nt>=0;nt--){const ft=4*nt,Et=zh[ft+0],dt=zh[ft+1],yt=zh[ft+2],kt=zh[ft+3],Tt=Et+yt>>1,Kt=dt+kt>>1,Zt=Tt+Kt-dt,fi=Kt+Et-Tt,Ii=dt*zc+Et,ii=kt*zc+yt,vi=Kt*zc+Tt,xi=Math.hypot((Nc[2*Ii+0]+Nc[2*ii+0])/2-Nc[2*vi+0],(Nc[2*Ii+1]+Nc[2*ii+1])/2-Nc[2*vi+1])>=16;if(Nh[vi]=Nh[vi]||(xi?1:0),nt<1022){const Ti=(dt+fi>>1)*zc+(Et+Zt>>1),Di=(kt+fi>>1)*zc+(yt+Zt>>1);Nh[vi]=Nh[vi]||Nh[Ti]||Nh[Di]}}const ce=new _n,ge=new Ps;let Te=0;function Ae(nt,ft){const Et=ft*zc+nt;return up[Et]===0&&(ce.emplaceBack(Nc[2*Et+0],Nc[2*Et+1],nt*vr/Ll,ft*vr/Ll),up[Et]=++Te),up[Et]-1}function Be(nt,ft,Et,dt,yt,kt){const Tt=nt+Et>>1,Kt=ft+dt>>1;if(Math.abs(nt-yt)+Math.abs(ft-kt)>1&&Nh[Kt*zc+Tt])Be(yt,kt,nt,ft,Tt,Kt),Be(Et,dt,yt,kt,Tt,Kt);else{const Zt=Ae(nt,ft),fi=Ae(Et,dt),Ii=Ae(yt,kt);ge.emplaceBack(Zt,fi,Ii)}}return Be(0,0,Ll,Ll,Ll,0),Be(Ll,Ll,0,0,0,Ll),{vertices:ce,indices:ge}}(this.tileID.canonical,s);y=I.vertices,S=I.indices}else{y=new _n,S=new Ps;for(const{x:O,y:j}of d)y.emplaceBack(O,j,0,0);const I=h0.exports(y.int16,void 0,4);for(let O=0;O<I.length;O+=3)S.emplaceBack(I[O],I[O+1],I[O+2])}this._tileBoundsBuffer=t.createVertexBuffer(y,yb.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(S),this._tileBoundsSegments=Ba.simpleSegment(0,0,y.length,S.length)}_makeGlobeTileDebugBuffers(t,s){const d=s.projection;if(!d||d.name!=="globe"||s.freezeTileCoverage)return;const y=this.tileID.canonical,S=M0(ib(y,s)),I=hd(s.zoom);let O;I>0&&(O=Sm(new Float64Array(16),s.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,y,s,S,O,I),this._makeGlobeTileDebugTextBuffer(t,y,s,S,O,I)}_globePoint(t,s,d,y,S,I,O){let j=A0(t,s,d);if(I){const U=1<<d.z,re=Dc(y.center.lng),ce=Pc(y.center.lat),ge=(d.x+.5)/U-re;let Te=0;ge>.5?Te=-1:ge<-.5&&(Te=1);let Ae=(t/vr+d.x)/U+Te,Be=(s/vr+d.y)/U;Ae=(Ae-re)*y._pixelsPerMercatorPixel+re,Be=(Be-ce)*y._pixelsPerMercatorPixel+ce;const nt=[Ae*y.worldSize,Be*y.worldSize,0];Ea(nt,nt,I),j=fu(j,nt,O)}return Ea(j,j,S)}_makeGlobeTileDebugBorderBuffer(t,s,d,y,S,I){const O=new on,j=new i0,U=new An,re=(ge,Te,Ae,Be,nt)=>{const ft=(Ae-ge)/(nt-1),Et=(Be-Te)/(nt-1),dt=O.length;for(let yt=0;yt<nt;yt++){const kt=ge+yt*ft,Tt=Te+yt*Et;O.emplaceBack(kt,Tt);const Kt=this._globePoint(kt,Tt,s,d,y,S,I);U.emplaceBack(Kt[0],Kt[1],Kt[2]),j.emplaceBack(dt+yt)}},ce=vr;re(0,0,ce,0,16),re(ce,0,ce,ce,16),re(ce,ce,0,ce,16),re(0,ce,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(j),this._tileDebugBuffer=t.createVertexBuffer(O,T0.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(U,eb.members),this._tileDebugSegments=Ba.simpleSegment(0,0,O.length,j.length)}_makeGlobeTileDebugTextBuffer(t,s,d,y,S,I){const O=new on,j=new Ps,U=new An,re=25;j.reserve(32),O.reserve(re),U.reserve(re);const ce=(ge,Te)=>re*ge+Te;for(let ge=0;ge<re;ge++){const Te=2048*ge;for(let Ae=0;Ae<re;Ae++){const Be=2048*Ae;O.emplaceBack(Be,Te);const nt=this._globePoint(Be,Te,s,d,y,S,I);U.emplaceBack(nt[0],nt[1],nt[2])}}for(let ge=0;ge<4;ge++)for(let Te=0;Te<4;Te++){const Ae=ce(ge,Te),Be=ce(ge,Te+1),nt=ce(ge+1,Te),ft=ce(ge+1,Te+1);j.emplaceBack(Ae,Be,nt),j.emplaceBack(nt,Be,ft)}this._tileDebugTextIndexBuffer=t.createIndexBuffer(j),this._tileDebugTextBuffer=t.createVertexBuffer(O,T0.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(U,eb.members),this._tileDebugTextSegments=Ba.simpleSegment(0,0,re,32)}}class z9{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,s,d){const y=String(s);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][y]=this.stateChanges[t][y]||{},ht(this.stateChanges[t][y],d),this.deletedStates[t]===null){this.deletedStates[t]={};for(const S in this.state[t])S!==y&&(this.deletedStates[t][S]=null)}else if(this.deletedStates[t]&&this.deletedStates[t][y]===null){this.deletedStates[t][y]={};for(const S in this.state[t][y])d[S]||(this.deletedStates[t][y][S]=null)}else for(const S in d)this.deletedStates[t]&&this.deletedStates[t][y]&&this.deletedStates[t][y][S]===null&&delete this.deletedStates[t][y][S]}removeFeatureState(t,s,d){if(this.deletedStates[t]===null)return;const y=String(s);if(this.deletedStates[t]=this.deletedStates[t]||{},d&&s!==void 0)this.deletedStates[t][y]!==null&&(this.deletedStates[t][y]=this.deletedStates[t][y]||{},this.deletedStates[t][y][d]=null);else if(s!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][y])for(d in this.deletedStates[t][y]={},this.stateChanges[t][y])this.deletedStates[t][y][d]=null;else this.deletedStates[t][y]=null;else this.deletedStates[t]=null}getState(t,s){const d=String(s),y=ht({},(this.state[t]||{})[d],(this.stateChanges[t]||{})[d]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){const S=this.deletedStates[t][s];if(S===null)return{};for(const I in S)delete y[I]}return y}initializeTileState(t,s){t.setFeatureState(this.state,s)}coalesceChanges(t,s){const d={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const S={};for(const I in this.stateChanges[y])this.state[y][I]||(this.state[y][I]={}),ht(this.state[y][I],this.stateChanges[y][I]),S[I]=this.state[y][I];d[y]=S}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const S={};if(this.deletedStates[y]===null)for(const I in this.state[y])S[I]={},this.state[y][I]={};else for(const I in this.deletedStates[y]){if(this.deletedStates[y][I]===null)this.state[y][I]={};else for(const O of Object.keys(this.deletedStates[y][I]))delete this.state[y][I][O];S[I]=this.state[y][I]}d[y]=d[y]||{},ht(d[y],S)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const y in t)t[y].setFeatureState(d,s)}}class _b{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,s){const d=this.toIdx(t,s);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(t,s){return this.leaves[this.toIdx(t,s)]}toIdx(t,s){return s*this.size+t}}function bb(a,t,s,d){let y=0,S=Number.MAX_VALUE;for(let I=0;I<3;I++)if(Math.abs(d[I])<1e-15){if(s[I]<a[I]||s[I]>t[I])return null}else{const O=1/d[I];let j=(a[I]-s[I])*O,U=(t[I]-s[I])*O;if(j>U){const re=j;j=U,U=re}if(j>y&&(y=j),U<S&&(S=U),y>S)return null}return y}function wb(a,t,s,d,y,S,I,O,j,U,re){const ce=d-a,ge=y-t,Te=S-s,Ae=I-a,Be=O-t,nt=j-s,ft=re[1]*nt-re[2]*Be,Et=re[2]*Ae-re[0]*nt,dt=re[0]*Be-re[1]*Ae,yt=ce*ft+ge*Et+Te*dt;if(Math.abs(yt)<1e-15)return null;const kt=1/yt,Tt=U[0]-a,Kt=U[1]-t,Zt=U[2]-s,fi=(Tt*ft+Kt*Et+Zt*dt)*kt;if(fi<0||fi>1)return null;const Ii=Kt*Te-Zt*ge,ii=Zt*ce-Tt*Te,vi=Tt*ge-Kt*ce,xi=(re[0]*Ii+re[1]*ii+re[2]*vi)*kt;return xi<0||fi+xi>1?null:(Ae*Ii+Be*ii+nt*vi)*kt}function Eb(a,t,s){return(a-t)/(s-t)}function Tb(a,t,s,d,y,S,I,O,j){const U=1<<s,re=S-d,ce=I-y,ge=(a+1)/U*re+d,Te=(t+0)/U*ce+y,Ae=(t+1)/U*ce+y;O[0]=(a+0)/U*re+d,O[1]=Te,j[0]=ge,j[1]=Ae}class Sb{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const s=function(S){const I=Math.ceil(Math.log2(S.dim/8)),O=[];let j=Math.ceil(Math.pow(2,I));const U=1/j,re=(Te,Ae,Be,nt,ft)=>{const Et=nt?1:0,dt=(Te+1)*Be-Et,yt=Ae*Be,kt=(Ae+1)*Be-Et;ft[0]=Te*Be,ft[1]=yt,ft[2]=dt,ft[3]=kt};let ce=new _b(j);const ge=[];for(let Te=0;Te<j*j;Te++){re(Te%j,Math.floor(Te/j),U,!1,ge);const Ae=Fh(ge[0],ge[1],S),Be=Fh(ge[2],ge[1],S),nt=Fh(ge[2],ge[3],S),ft=Fh(ge[0],ge[3],S);ce.minimums.push(Math.min(Ae,Be,nt,ft)),ce.maximums.push(Math.max(Ae,Be,nt,ft)),ce.leaves.push(1)}for(O.push(ce),j/=2;j>=1;j/=2){const Te=O[O.length-1];ce=new _b(j);for(let Ae=0;Ae<j*j;Ae++){re(Ae%j,Math.floor(Ae/j),2,!0,ge);const Be=Te.getElevation(ge[0],ge[1]),nt=Te.getElevation(ge[2],ge[1]),ft=Te.getElevation(ge[2],ge[3]),Et=Te.getElevation(ge[0],ge[3]),dt=Te.isLeaf(ge[0],ge[1]),yt=Te.isLeaf(ge[2],ge[1]),kt=Te.isLeaf(ge[2],ge[3]),Tt=Te.isLeaf(ge[0],ge[3]),Kt=Math.min(Be.min,nt.min,ft.min,Et.min),Zt=Math.max(Be.max,nt.max,ft.max,Et.max),fi=dt&&yt&&kt&&Tt;ce.maximums.push(Zt),ce.minimums.push(Kt),ce.leaves.push(Zt-Kt<=5&&fi?1:0)}O.push(ce)}return O}(this.dem),d=s.length-1,y=s[d];this._addNode(y.minimums[0],y.maximums[0],y.leaves[0]),this._construct(s,0,0,d,0)}raycastRoot(t,s,d,y,S,I,O=1){return bb([t,s,-100],[d,y,this.maximums[0]*O],S,I)}raycast(t,s,d,y,S,I,O=1){if(!this.nodeCount)return null;const j=this.raycastRoot(t,s,d,y,S,I,O);if(j==null)return null;const U=[],re=[],ce=[],ge=[],Te=[{idx:0,t:j,nodex:0,nodey:0,depth:0}];for(;Te.length>0;){const{idx:Ae,t:Be,nodex:nt,nodey:ft,depth:Et}=Te.pop();if(this.leaves[Ae]){Tb(nt,ft,Et,t,s,d,y,ce,ge);const yt=1<<Et,kt=(nt+0)/yt,Tt=(nt+1)/yt,Kt=(ft+0)/yt,Zt=(ft+1)/yt,fi=Fh(kt,Kt,this.dem)*O,Ii=Fh(Tt,Kt,this.dem)*O,ii=Fh(Tt,Zt,this.dem)*O,vi=Fh(kt,Zt,this.dem)*O,xi=wb(ce[0],ce[1],fi,ge[0],ce[1],Ii,ge[0],ge[1],ii,S,I),Ti=wb(ge[0],ge[1],ii,ce[0],ge[1],vi,ce[0],ce[1],fi,S,I),Di=Math.min(xi!==null?xi:Number.MAX_VALUE,Ti!==null?Ti:Number.MAX_VALUE);if(Di!==Number.MAX_VALUE)return Di;{const ri=l0([],S,I,Be);if(Ab(fi,Ii,vi,ii,Eb(ri[0],ce[0],ge[0]),Eb(ri[1],ce[1],ge[1]))>=ri[2])return Be}continue}let dt=0;for(let yt=0;yt<this._siblingOffset.length;yt++){Tb((nt<<1)+this._siblingOffset[yt][0],(ft<<1)+this._siblingOffset[yt][1],Et+1,t,s,d,y,ce,ge),ce[2]=-100,ge[2]=this.maximums[this.childOffsets[Ae]+yt]*O;const kt=bb(ce,ge,S,I);if(kt!=null){const Tt=kt;U[yt]=Tt;let Kt=!1;for(let Zt=0;Zt<dt&&!Kt;Zt++)Tt>=U[re[Zt]]&&(re.splice(Zt,0,yt),Kt=!0);Kt||(re[dt]=yt),dt++}}for(let yt=0;yt<dt;yt++){const kt=re[yt];Te.push({idx:this.childOffsets[Ae]+kt,t:U[kt],nodex:(nt<<1)+this._siblingOffset[kt][0],nodey:(ft<<1)+this._siblingOffset[kt][1],depth:Et+1})}}return null}_addNode(t,s,d){return this.minimums.push(t),this.maximums.push(s),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(t,s,d,y,S){if(t[y].isLeaf(s,d)===1)return;this.childOffsets[S]||(this.childOffsets[S]=this.nodeCount);const I=y-1,O=t[I];let j=0,U=0;for(let re=0;re<this._siblingOffset.length;re++){const ce=2*s+this._siblingOffset[re][0],ge=2*d+this._siblingOffset[re][1],Te=O.getElevation(ce,ge),Ae=O.isLeaf(ce,ge),Be=this._addNode(Te.min,Te.max,Ae);Ae&&(j|=1<<re),U||(U=Be)}for(let re=0;re<this._siblingOffset.length;re++)j&1<<re||this._construct(t,2*s+this._siblingOffset[re][0],2*d+this._siblingOffset[re][1],I,U+re)}}function Ab(a,t,s,d,y,S){return xr(xr(a,s,S),xr(t,d,S),y)}function Fh(a,t,s){const d=s.dim,y=fe(a*d-.5,0,d-1),S=fe(t*d-.5,0,d-1),I=Math.floor(y),O=Math.floor(S),j=Math.min(I+1,d-1),U=Math.min(O+1,d-1);return Ab(s.get(I,O),s.get(j,O),s.get(I,U),s.get(j,U),y-I,S-O)}const Mb={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class dp{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,s,d,y=!1,S=!1){if(this.uid=t,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return Vt(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=s.height;const I=this.dim=s.height-2,O=new Uint32Array(s.data.buffer);if(this.pixels=new Uint8Array(s.data.buffer),this.encoding=d||"mapbox",this.borderReady=y,!y){for(let j=0;j<I;j++)O[this._idx(-1,j)]=O[this._idx(0,j)],O[this._idx(I,j)]=O[this._idx(I-1,j)],O[this._idx(j,-1)]=O[this._idx(j,0)],O[this._idx(j,I)]=O[this._idx(j,I-1)];O[this._idx(-1,-1)]=O[this._idx(0,0)],O[this._idx(I,-1)]=O[this._idx(I-1,0)],O[this._idx(-1,I)]=O[this._idx(0,I-1)],O[this._idx(I,I)]=O[this._idx(I-1,I-1)],S&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Sb(this)}get(t,s,d=!1){d&&(t=fe(t,-1,this.dim),s=fe(s,-1,this.dim));const y=4*this._idx(t,s);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[y],this.pixels[y+1],this.pixels[y+2])}static getUnpackVector(t){return Mb[t]}get unpackVector(){return Mb[this.encoding]}_idx(t,s){if(t<-1||t>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(t+1)}_unpackMapbox(t,s,d){return(256*t*256+256*s+d)/10-1e4}_unpackTerrarium(t,s,d){return 256*t+s+d/256-32768}static pack(t,s){const d=[0,0,0,0],y=dp.getUnpackVector(s);let S=Math.floor((t+y[3])/y[2]);return d[2]=S%256,S=Math.floor(S/256),d[1]=S%256,S=Math.floor(S/256),d[0]=S,d}getPixels(){return new jo({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,s,d){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let y=s*this.dim,S=s*this.dim+this.dim,I=d*this.dim,O=d*this.dim+this.dim;switch(s){case-1:y=S-1;break;case 1:S=y+1}switch(d){case-1:I=O-1;break;case 1:O=I+1}const j=-s*this.dim,U=-d*this.dim;for(let re=I;re<O;re++)for(let ce=y;ce<S;ce++){const ge=4*this._idx(ce,re),Te=4*this._idx(ce+j,re+U);this.pixels[ge+0]=t.pixels[Te+0],this.pixels[ge+1]=t.pixels[Te+1],this.pixels[ge+2]=t.pixels[Te+2],this.pixels[ge+3]=t.pixels[Te+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Nt(dp,"DEMData"),Nt(Sb,"DemMinMaxQuadTree",{omit:["dem"]});class N9{constructor(t,s){this.max=t,this.onRemove=s,this.reset()}reset(){for(const t in this.data)for(const s of this.data[t])s.timeout&&clearTimeout(s.timeout),this.onRemove(s.value);return this.data={},this.order=[],this}add(t,s,d){const y=t.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);const S={value:s,timeout:void 0};if(d!==void 0&&(S.timeout=setTimeout(()=>{this.remove(t,S)},d)),this.data[y].push(S),this.order.push(y),this.order.length>this.max){const I=this._getAndRemoveByKey(this.order[0]);I&&this.onRemove(I)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const s=this.data[t].shift();return s.timeout&&clearTimeout(s.timeout),this.data[t].length===0&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),s.value}getByKey(t){const s=this.data[t];return s?s[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,s){if(!this.has(t))return this;const d=t.wrapped().key,y=s===void 0?0:this.data[d].indexOf(s),S=this.data[d][y];return this.data[d].splice(y,1),S.timeout&&clearTimeout(S.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(S.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const s=this._getAndRemoveByKey(this.order[0]);s&&this.onRemove(s)}return this}filter(t){const s=[];for(const d in this.data)for(const y of this.data[d])t(y.value)||s.push(y);for(const d of s)this.remove(d.value.tileID,d)}}class dd{constructor(t,s,d){this.func=t,this.mask=s,this.range=d}}dd.ReadOnly=!1,dd.ReadWrite=!0,dd.disabled=new dd(519,dd.ReadOnly,[0,1]);const lg=7680;class cg{constructor(t,s,d,y,S,I){this.test=t,this.ref=s,this.mask=d,this.fail=y,this.depthFail=S,this.pass=I}}cg.disabled=new cg({func:519,mask:0},0,0,lg,lg,lg);class Fc{constructor(t,s,d){this.blendFunction=t,this.blendColor=s,this.mask=d}}Fc.Replace=[1,0],Fc.disabled=new Fc(Fc.Replace,cn.transparent,[!1,!1,!1,!1]),Fc.unblended=new Fc(Fc.Replace,cn.transparent,[!0,!0,!0,!0]),Fc.alphaBlended=new Fc([1,771],cn.transparent,[!0,!0,!0,!0]);const hg=1029,ug=2305;class lc{constructor(t,s,d){this.enable=t,this.mode=s,this.frontFace=d}}lc.disabled=new lc(!1,hg,ug),lc.backCCW=new lc(!0,hg,ug),lc.backCW=new lc(!0,hg,2304),lc.frontCW=new lc(!0,1028,2304),lc.frontCCW=new lc(!0,1028,ug);class mu extends He{constructor(t,s,d){super(),this.id=t,this._onlySymbols=d,s.on("data",y=>{y.dataType==="source"&&y.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&y.dataType==="source"&&y.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),s.on("error",()=>{this._sourceErrored=!0}),this._source=s,this._tiles={},this._cache=new N9(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=s.minTileCacheSize,this._maxTileCacheSize=s.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new z9,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(t){this.map=t,this._minTileCacheSize=this._minTileCacheSize===void 0&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&t?t._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const t in this._tiles){const s=this._tiles[t];if(s.state!=="loaded"&&s.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,s){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,s)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,()=>{})}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,()=>{})}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const s in this._tiles){const d=this._tiles[s];d.upload(t),d.prepare(this.map.style.imageManager)}}getIds(){return ot(this._tiles).map(t=>t.tileID).sort(Cb).map(t=>t.key)}getRenderableIds(t){const s=[];for(const d in this._tiles)this._isIdRenderable(+d,t)&&s.push(this._tiles[d]);return t?s.sort((d,y)=>{const S=d.tileID,I=y.tileID,O=new Ye(S.canonical.x,S.canonical.y)._rotate(this.transform.angle),j=new Ye(I.canonical.x,I.canonical.y)._rotate(this.transform.angle);return S.overscaledZ-I.overscaledZ||j.y-O.y||j.x-O.x}).map(d=>d.tileID.key):s.map(d=>d.tileID).sort(Cb).map(d=>d.key)}hasRenderableParent(t){const s=this.findLoadedParent(t,0);return!!s&&this._isIdRenderable(s.tileID.key)}_isIdRenderable(t,s){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(s||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)this._tiles[t].state!=="errored"&&this._reloadTile(+t,"reloading")}}_reloadTile(t,s){const d=this._tiles[t];d&&(d.state!=="loading"&&(d.state=s),this._loadTile(d,this._tileLoaded.bind(this,d,t,s)))}_tileLoaded(t,s,d,y){if(y)if(t.state="errored",y.status!==404)this._source.fire(new Oe(y,{tile:t}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const S=this.map.painter.terrain;this.update(this.transform,S.getScaledDemTileSize(),!0),S.resetTileLookupCache(this.id)}else this.update(this.transform);else t.timeAdded=ee.now(),d==="expired"&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(s,t),this._source.type==="raster-dem"&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new Me("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const s=this.getRenderableIds();for(let y=0;y<s.length;y++){const S=s[y];if(t.neighboringTiles&&t.neighboringTiles[S]){const I=this.getTileByID(S);d(t,I),d(I,t)}}function d(y,S){if(!y.dem||y.dem.borderReady)return;y.needsHillshadePrepare=!0,y.needsDEMTextureUpload=!0;let I=S.tileID.canonical.x-y.tileID.canonical.x;const O=S.tileID.canonical.y-y.tileID.canonical.y,j=Math.pow(2,y.tileID.canonical.z),U=S.tileID.key;I===0&&O===0||Math.abs(O)>1||(Math.abs(I)>1&&(Math.abs(I+j)===1?I+=j:Math.abs(I-j)===1&&(I-=j)),S.dem&&y.dem&&(y.dem.backfillBorder(S.dem,I,O),y.neighboringTiles&&y.neighboringTiles[U]&&(y.neighboringTiles[U].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,s,d,y){for(const S in this._tiles){let I=this._tiles[S];if(y[S]||!I.hasData()||I.tileID.overscaledZ<=s||I.tileID.overscaledZ>d)continue;let O=I.tileID;for(;I&&I.tileID.overscaledZ>s+1;){const U=I.tileID.scaledTo(I.tileID.overscaledZ-1);I=this._tiles[U.key],I&&I.hasData()&&(O=U)}let j=O;for(;j.overscaledZ>s;)if(j=j.scaledTo(j.overscaledZ-1),t[j.key]){y[O.key]=O;break}}}findLoadedParent(t,s){if(t.key in this._loadedParentTiles){const d=this._loadedParentTiles[t.key];return d&&d.tileID.overscaledZ>=s?d:null}for(let d=t.overscaledZ-1;d>=s;d--){const y=t.scaledTo(d),S=this._getLoadedTile(y);if(S)return S}}_getLoadedTile(t){const s=this._tiles[t.key];return s&&s.hasData()?s:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,s){s=s||this._source.tileSize;const d=Math.ceil(t.width/s)+1,y=Math.ceil(t.height/s)+1,S=Math.floor(d*y*5),I=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,S):S,O=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,I):I;this._cache.setMaxSize(O)}handleWrapJump(t){const s=Math.round((t-(this._prevLng===void 0?t:this._prevLng))/360);if(this._prevLng=t,s){const d={};for(const y in this._tiles){const S=this._tiles[y];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+s),d[S.tileID.key]=S}this._tiles=d;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(+y,this._tiles[y])}}update(t,s,d){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let y;this.updateCacheSize(t,s),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(O=>new so(O.canonical.z,O.wrap,O.canonical.z,O.canonical.x,O.canonical.y)):(y=t.coveringTiles({tileSize:s||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(y=y.filter(O=>this._source.hasTile(O)))):y=[];const S=this._updateRetainedTiles(y);if(Ib(this._source.type)&&y.length!==0){const O={},j={},U=Object.keys(S);for(const ce of U){const ge=S[ce],Te=this._tiles[ce];if(!Te||Te.fadeEndTime&&Te.fadeEndTime<=ee.now())continue;const Ae=this.findLoadedParent(ge,Math.max(ge.overscaledZ-mu.maxOverzooming,this._source.minzoom));Ae&&(this._addTile(Ae.tileID),O[Ae.tileID.key]=Ae.tileID),j[ce]=ge}const re=y[y.length-1].overscaledZ;for(const ce in this._tiles){const ge=this._tiles[ce];if(S[ce]||!ge.hasData())continue;let Te=ge.tileID;for(;Te.overscaledZ>re;){Te=Te.scaledTo(Te.overscaledZ-1);const Ae=this._tiles[Te.key];if(Ae&&Ae.hasData()&&j[Te.key]){S[ce]=ge.tileID;break}}}for(const ce in O)S[ce]||(this._coveredTiles[ce]=!0,S[ce]=O[ce])}for(const O in S)this._tiles[O].clearFadeHold();const I=function(O,j){const U=[];for(const re in O)re in j||U.push(re);return U}(this._tiles,S);for(const O of I){const j=this._tiles[O];j.hasSymbolBuckets&&!j.holdingForFade()?j.setHoldDuration(this.map._fadeDuration):j.hasSymbolBuckets&&!j.symbolFadeFinished()||this._removeTile(+O)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const s={};if(t.length===0)return s;const d={},y=t.reduce((U,re)=>Math.min(U,re.overscaledZ),1/0),S=t[0].overscaledZ,I=Math.max(S-mu.maxOverzooming,this._source.minzoom),O=Math.max(S+mu.maxUnderzooming,this._source.minzoom),j={};for(const U of t){const re=this._addTile(U);s[U.key]=U,re.hasData()||y<this._source.maxzoom&&(j[U.key]=U)}this._retainLoadedChildren(j,y,O,s);for(const U of t){let re=this._tiles[U.key];if(re.hasData())continue;if(U.canonical.z>=this._source.maxzoom){const ge=U.children(this._source.maxzoom)[0],Te=this.getTile(ge);if(Te&&Te.hasData()){s[ge.key]=ge;continue}}else{const ge=U.children(this._source.maxzoom);if(s[ge[0].key]&&s[ge[1].key]&&s[ge[2].key]&&s[ge[3].key])continue}let ce=re.wasRequested();for(let ge=U.overscaledZ-1;ge>=I;--ge){const Te=U.scaledTo(ge);if(d[Te.key]||(d[Te.key]=!0,re=this.getTile(Te),!re&&ce&&(re=this._addTile(Te)),re&&(s[Te.key]=Te,ce=re.wasRequested(),re.hasData())))break}}return s}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const s=[];let d,y=this._tiles[t].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){d=this._loadedParentTiles[y.key];break}s.push(y.key);const S=y.scaledTo(y.overscaledZ-1);if(d=this._getLoadedTile(S),d)break;y=S}for(const S of s)this._loadedParentTiles[S]=d}}_addTile(t){let s=this._tiles[t.key];if(s)return s;s=this._cache.getAndRemove(t),s&&(this._setTileReloadTimer(t.key,s),s.tileID=t,this._state.initializeTileState(s,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,s)));const d=Boolean(s);if(!d){const y=this.map?this.map.painter:null;s=new og(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,y,this._isRaster),this._loadTile(s,this._tileLoaded.bind(this,s,t.key,s.state))}return s?(s.uses++,this._tiles[t.key]=s,d||this._source.fire(new Me("dataloading",{tile:s,coord:s.tileID,dataType:"source"})),s):null}_setTileReloadTimer(t,s){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const d=s.getExpiryTimeout();d&&(this._timers[t]=setTimeout(()=>{this._reloadTile(t,"expired"),delete this._timers[t]},d))}_removeTile(t){const s=this._tiles[t];s&&(s.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),s.uses>0||(s.hasData()&&s.state!=="reloading"?this._cache.add(s.tileID,s,s.getExpiryTimeout()):(s.aborted=!0,this._abortTile(s),this._unloadTile(s))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(t,s,d){const y=[],S=this.transform;if(!S)return y;const I=S.projection.name==="globe",O=Dc(S.center.lng);for(const j in this._tiles){const U=this._tiles[j];if(d&&U.clearQueryDebugViz(),U.holdingForFade())continue;let re;if(I){const ce=U.tileID.canonical;if(ce.z===0){const ge=[Math.abs(fe(O,...O0(ce,-1))-O),Math.abs(fe(O,...O0(ce,1))-O)];re=[0,2*ge.indexOf(Math.min(...ge))-1]}else{const ge=[Math.abs(fe(O,...O0(ce,-1))-O),Math.abs(fe(O,...O0(ce,0))-O),Math.abs(fe(O,...O0(ce,1))-O)];re=[ge.indexOf(Math.min(...ge))-1]}}else re=[0];for(const ce of re){const ge=t.containsTile(U,S,s,ce);ge&&y.push(ge)}}return y}getVisibleCoordinates(t){const s=this.getRenderableIds(t).map(d=>this._tiles[d].tileID);for(const d of s)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return s}hasTransition(){if(this._source.hasTransition())return!0;if(Ib(this._source.type))for(const t in this._tiles){const s=this._tiles[t];if(s.fadeEndTime!==void 0&&s.fadeEndTime>=ee.now())return!0}return!1}setFeatureState(t,s,d){this._state.updateState(t=t||"_geojsonTileLayer",s,d)}removeFeatureState(t,s,d){this._state.removeFeatureState(t=t||"_geojsonTileLayer",s,d)}getFeatureState(t,s){return this._state.getState(t=t||"_geojsonTileLayer",s)}setDependencies(t,s,d){const y=this._tiles[t];y&&y.setDependencies(s,d)}reloadTilesForDependencies(t,s){for(const d in this._tiles)this._tiles[d].hasDependency(t,s)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(t,s))}_preloadTiles(t,s){const d=new Map,y=Array.isArray(t)?t:[t],S=this.map.painter.terrain,I=this.usedForTerrain&&S?S.getScaledDemTileSize():this._source.tileSize;for(const O of y){const j=O.coveringTiles({tileSize:I,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const U of j)d.set(U.key,U);this.usedForTerrain&&O.updateElevation(!1)}Re(Array.from(d.values()),(O,j)=>{const U=new og(O,this._source.tileSize*O.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(U,re=>{this._source.type==="raster-dem"&&U.dem&&this._backfillDEM(U),j(re,U)})},s)}}function Cb(a,t){const s=Math.abs(2*a.wrap)-+(a.wrap<0),d=Math.abs(2*t.wrap)-+(t.wrap<0);return a.overscaledZ-t.overscaledZ||d-s||t.canonical.y-a.canonical.y||t.canonical.x-a.canonical.x}function Ib(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function O0(a,t){const s=1<<a.z;return[a.x/s+t,(a.x+1)/s+t]}mu.maxOverzooming=10,mu.maxUnderzooming=3;class fp{constructor(t,s,d){this._demTile=t,this._dem=this._demTile.dem,this._scale=s,this._offset=d}static create(t,s,d){const y=d||t.findDEMTileFor(s);if(!y||!y.dem)return;const S=y.dem,I=y.tileID,O=1<<s.canonical.z-I.canonical.z;return new fp(y,y.tileSize/vr/O,[(s.canonical.x/O-I.canonical.x)*S.dim,(s.canonical.y/O-I.canonical.y)*S.dim])}tileCoordToPixel(t,s){const d=s*this._scale+this._offset[1],y=Math.floor(t*this._scale+this._offset[0]),S=Math.floor(d);return new Ye(y,S)}getElevationAt(t,s,d,y){const S=t*this._scale+this._offset[0],I=s*this._scale+this._offset[1],O=Math.floor(S),j=Math.floor(I),U=this._dem;return y=!!y,d?xr(xr(U.get(O,j,y),U.get(O,j+1,y),I-j),xr(U.get(O+1,j,y),U.get(O+1,j+1,y),I-j),S-O):U.get(O,j,y)}getElevationAtPixel(t,s,d){return this._dem.get(t,s,!!d)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*kl(1,t)*this._dem.stride}}class kb{constructor(t,s){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new et(vr,16,0),this.featureIndexArray=new yx,this.promoteId=s}insert(t,s,d,y,S,I=0){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,y,S,I);const j=this.grid;for(let U=0;U<s.length;U++){const re=s[U],ce=[1/0,1/0,-1/0,-1/0];for(let ge=0;ge<re.length;ge++){const Te=re[ge];ce[0]=Math.min(ce[0],Te.x),ce[1]=Math.min(ce[1],Te.y),ce[2]=Math.max(ce[2],Te.x),ce[3]=Math.max(ce[3],Te.y)}ce[0]<vr&&ce[1]<vr&&ce[2]>=0&&ce[3]>=0&&j.insert(O,ce[0],ce[1],ce[2],ce[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Vm(new b0(this.rawTileData)).layers,this.sourceLayerCoder=new mb(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[]}return this.vtLayers}query(t,s,d,y){this.loadVTLayers();const S=t.params||{},I=_o(S.filter),O=t.tileResult,j=t.transform,U=O.bufferedTilespaceBounds,re=this.grid.query(U.min.x,U.min.y,U.max.x,U.max.y,(Ae,Be,nt,ft)=>zx(O.bufferedTilespaceGeometry,Ae,Be,nt,ft));re.sort(F9);let ce=null;j.elevation&&re.length>0&&(ce=fp.create(j.elevation,this.tileID));const ge={};let Te;for(let Ae=0;Ae<re.length;Ae++){const Be=re[Ae];if(Be===Te)continue;Te=Be;const nt=this.featureIndexArray.get(Be);let ft=null;this.loadMatchingFeature(ge,nt,I,S.layers,S.availableImages,s,d,y,(Et,dt,yt,kt=0)=>(ft||(ft=th(Et,this.tileID.canonical,t.tileTransform)),dt.queryIntersectsFeature(O,Et,yt,ft,this.z,t.transform,t.pixelPosMatrix,ce,kt)))}return ge}loadMatchingFeature(t,s,d,y,S,I,O,j,U){const{featureIndex:re,bucketIndex:ce,sourceLayerIndex:ge,layoutVertexArrayOffset:Te}=s,Ae=this.bucketLayerIDs[ce];if(y&&!function(Et,dt){for(let yt=0;yt<Et.length;yt++)if(dt.indexOf(Et[yt])>=0)return!0;return!1}(y,Ae))return;const Be=this.sourceLayerCoder.decode(ge),nt=this.vtLayers[Be].feature(re);if(d.needGeometry){const Et=ou(nt,!0);if(!d.filter(new jt(this.tileID.overscaledZ),Et,this.tileID.canonical))return}else if(!d.filter(new jt(this.tileID.overscaledZ),nt))return;const ft=this.getId(nt,Be);for(let Et=0;Et<Ae.length;Et++){const dt=Ae[Et];if(y&&y.indexOf(dt)<0)continue;const yt=I[dt];if(!yt)continue;let kt={};ft!==void 0&&j&&(kt=j.getState(yt.sourceLayer||"_geojsonTileLayer",ft));const Tt=ht({},O[dt]);Tt.paint=Db(Tt.paint,yt.paint,nt,kt,S),Tt.layout=Db(Tt.layout,yt.layout,nt,kt,S);const Kt=!U||U(nt,yt,kt,Te);if(!Kt)continue;const Zt=new gb(nt,this.z,this.x,this.y,ft);Zt.layer=Tt;let fi=t[dt];fi===void 0&&(fi=t[dt]=[]),fi.push({featureIndex:re,feature:Zt,intersectionZ:Kt})}}lookupSymbolFeatures(t,s,d,y,S,I,O,j){const U={};this.loadVTLayers();const re=_o(S);for(const ce of t)this.loadMatchingFeature(U,{bucketIndex:d,sourceLayerIndex:y,featureIndex:ce,layoutVertexArrayOffset:0},re,I,O,j,s);return U}loadFeature(t){const{featureIndex:s,sourceLayerIndex:d}=t;this.loadVTLayers();const y=this.sourceLayerCoder.decode(d),S=this.vtFeatures[y];if(S[s])return S[s];const I=this.vtLayers[y].feature(s);return S[s]=I,I}hasLayer(t){for(const s of this.bucketLayerIDs)for(const d of s)if(t===d)return!0;return!1}getId(t,s){let d=t.id;if(this.promoteId){const y=typeof this.promoteId=="string"?this.promoteId:this.promoteId[s];y!=null&&(d=t.properties[y]),typeof d=="boolean"&&(d=Number(d))}return d}}function Db(a,t,s,d,y){return hi(a,(S,I)=>{const O=t instanceof Oi?t.get(I):null;return O&&O.evaluate?O.evaluate(s,d,y):O})}function F9(a,t){return t-a}Nt(kb,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Pb{constructor(t,s){this.width=t,this.height=s,this.nextRow=0,this.image=new rh({width:t,height:s}),this.positions={},this.uploaded=!1}getDash(t,s){const d=this.getKey(t,s);return this.positions[d]}trim(){const t=this.width,s=this.height=Ie(this.nextRow);this.image.resize({width:t,height:s})}getKey(t,s){return t.join(",")+s}getDashRanges(t,s,d){const y=[];let S=t.length%2==1?-t[t.length-1]*d:0,I=t[0]*d,O=!0;y.push({left:S,right:I,isDash:O,zeroLength:t[0]===0});let j=t[0];for(let U=1;U<t.length;U++){O=!O;const re=t[U];S=j*d,j+=re,I=j*d,y.push({left:S,right:I,isDash:O,zeroLength:re===0})}return y}addRoundDash(t,s,d){const y=s/2;for(let S=-d;S<=d;S++){const I=this.width*(this.nextRow+d+S);let O=0,j=t[O];for(let U=0;U<this.width;U++){U/j.right>1&&(j=t[++O]);const re=Math.abs(U-j.left),ce=Math.abs(U-j.right),ge=Math.min(re,ce);let Te;const Ae=S/d*(y+1);if(j.isDash){const Be=y-Math.abs(Ae);Te=Math.sqrt(ge*ge+Be*Be)}else Te=y-Math.sqrt(ge*ge+Ae*Ae);this.image.data[I+U]=Math.max(0,Math.min(255,Te+128))}}}addRegularDash(t,s){for(let j=t.length-1;j>=0;--j){const U=t[j],re=t[j+1];U.zeroLength?t.splice(j,1):re&&re.isDash===U.isDash&&(re.left=U.left,t.splice(j,1))}const d=t[0],y=t[t.length-1];d.isDash===y.isDash&&(d.left=y.left-this.width,y.right=d.right+this.width);const S=this.width*this.nextRow;let I=0,O=t[I];for(let j=0;j<this.width;j++){j/O.right>1&&(O=t[++I]);const U=Math.abs(j-O.left),re=Math.abs(j-O.right),ce=Math.min(U,re);this.image.data[S+j]=Math.max(0,Math.min(255,(O.isDash?ce:-ce)+s+128))}}addDash(t,s){const d=this.getKey(t,s);if(this.positions[d])return this.positions[d];const y=s==="round",S=y?7:0,I=2*S+1;if(this.nextRow+I>this.height)return Vt("LineAtlas out of space"),null;t.length===0&&t.push(1);let O=0;for(let re=0;re<t.length;re++)t[re]<0&&(Vt("Negative value is found in line dasharray, replacing values with 0"),t[re]=0),O+=t[re];if(O!==0){const re=this.width/O,ce=this.getDashRanges(t,this.width,re);y?this.addRoundDash(ce,re,S):this.addRegularDash(ce,s==="square"?.5*re:0)}const j=this.nextRow+S;this.nextRow+=I;const U={tl:[j,S],br:[O,0]};return this.positions[d]=U,U}}Nt(Pb,"LineAtlas");class Ob{constructor(t){const s={},d=[];for(const O in t){const j=t[O],U=s[O]={};for(const re in j.glyphs){const ce=j.glyphs[+re];if(!ce||ce.bitmap.width===0||ce.bitmap.height===0)continue;const ge=ce.metrics.localGlyph?2:1,Te={x:0,y:0,w:ce.bitmap.width+2*ge,h:ce.bitmap.height+2*ge};d.push(Te),U[re]=Te}}const{w:y,h:S}=Hm(d),I=new rh({width:y||1,height:S||1});for(const O in t){const j=t[O];for(const U in j.glyphs){const re=j.glyphs[+U];if(!re||re.bitmap.width===0||re.bitmap.height===0)continue;const ce=s[O][U],ge=re.metrics.localGlyph?2:1;rh.copy(re.bitmap,I,{x:0,y:0},{x:ce.x+ge,y:ce.y+ge},re.bitmap)}}this.image=I,this.positions=s}}Nt(Ob,"GlyphAtlas");class B9{constructor(t){this.tileID=new so(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=pu(t.tileID.canonical,t.projection),this.projection=t.projection}parse(t,s,d,y,S){this.status="parsing",this.data=t,this.collisionBoxArray=new mm;const I=new mb(Object.keys(t.layers).sort()),O=new kb(this.tileID,this.promoteId);O.bucketLayerIDs=[];const j={},U=new Pb(256,256),re={featureIndex:O,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:U,availableImages:d},ce=s.familiesBySource[this.source];for(const kt in ce){const Tt=t.layers[kt];if(!Tt)continue;let Kt=!1,Zt=!1;for(const ii of ce[kt])ii[0].type==="symbol"?Kt=!0:Zt=!0;if(this.isSymbolTile===!0&&!Kt||this.isSymbolTile===!1&&!Zt)continue;Tt.version===1&&Vt(`Vector tile source "${this.source}" layer "${kt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const fi=I.encode(kt),Ii=[];for(let ii=0;ii<Tt.length;ii++){const vi=Tt.feature(ii),xi=O.getId(vi,kt);Ii.push({feature:vi,id:xi,index:ii,sourceLayerIndex:fi})}for(const ii of ce[kt]){const vi=ii[0];this.isSymbolTile!==void 0&&vi.type==="symbol"!==this.isSymbolTile||vi.minzoom&&this.zoom<Math.floor(vi.minzoom)||vi.maxzoom&&this.zoom>=vi.maxzoom||vi.visibility!=="none"&&(dg(ii,this.zoom,d),(j[vi.id]=vi.createBucket({index:O.bucketLayerIDs.length,layers:ii,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:fi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(Ii,re,this.tileID.canonical,this.tileTransform),O.bucketLayerIDs.push(ii.map(xi=>xi.id)))}}let ge,Te,Ae,Be;U.trim();const nt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},ft=hi(re.glyphDependencies,kt=>Object.keys(kt).map(Number));Object.keys(ft).length?y.send("getGlyphs",{uid:this.uid,stacks:ft},(kt,Tt)=>{ge||(ge=kt,Te=Tt,yt.call(this))},void 0,!1,nt):Te={};const Et=Object.keys(re.iconDependencies);Et.length?y.send("getImages",{icons:Et,source:this.source,tileID:this.tileID,type:"icons"},(kt,Tt)=>{ge||(ge=kt,Ae=Tt,yt.call(this))},void 0,!1,nt):Ae={};const dt=Object.keys(re.patternDependencies);function yt(){if(ge)return S(ge);if(Te&&Ae&&Be){const kt=new Ob(Te),Tt=new O_(Ae,Be);for(const Kt in j){const Zt=j[Kt];Zt instanceof Rh?(dg(Zt.layers,this.zoom,d),o9(Zt,Te,kt.positions,Ae,Tt.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):Zt.hasPattern&&(Zt instanceof Zf||Zt instanceof Hf||Zt instanceof v0)&&(dg(Zt.layers,this.zoom,d),Zt.addFeatures(re,this.tileID.canonical,Tt.patternPositions,d,this.tileTransform))}this.status="done",S(null,{buckets:ot(j).filter(Kt=>!Kt.isEmpty()),featureIndex:O,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:kt.image,lineAtlas:U,imageAtlas:Tt,glyphMap:this.returnDependencies?Te:null,iconMap:this.returnDependencies?Ae:null,glyphPositions:this.returnDependencies?kt.positions:null})}}dt.length?y.send("getImages",{icons:dt,source:this.source,tileID:this.tileID,type:"patterns"},(kt,Tt)=>{ge||(ge=kt,Be=Tt,yt.call(this))},void 0,!1,nt):Be={},yt.call(this)}}function dg(a,t,s){const d=new jt(t);for(const y of a)y.recalculate(d,s)}class Lb{constructor(t){this.entries={},this.scheduler=t}request(t,s,d,y){const S=this.entries[t]=this.entries[t]||{callbacks:[]};if(S.result){const[I,O]=S.result;return this.scheduler?this.scheduler.add(()=>{y(I,O)},s):y(I,O),()=>{}}return S.callbacks.push(y),S.cancel||(S.cancel=d((I,O)=>{S.result=[I,O];for(const j of S.callbacks)this.scheduler?this.scheduler.add(()=>{j(I,O)},s):j(I,O);setTimeout(()=>delete this.entries[t],3e3)})),()=>{S.result||(S.callbacks=S.callbacks.filter(I=>I!==y),S.callbacks.length||(S.cancel(),delete this.entries[t]))}}}function Rb(a,t,s){const d=JSON.stringify(a.request);return a.data&&(this.deduped.entries[d]={result:[null,a.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},y=>{const S=na(a.request,(I,O,j,U)=>{I?y(I):O&&y(null,{vectorTile:s?void 0:new Vm(new b0(O)),rawData:O,cacheControl:j,expires:U})});return()=>{S.cancel(),y()}},t)}l.ARRAY_TYPE=Bo,l.AUTH_ERR_MSG=Oa,l.Aabb=ao,l.Actor=class{constructor(a,t,s){this.target=a,this.parent=t,this.mapId=s,this.callbacks={},this.cancelCallbacks={},rt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ji()?a:L,this.scheduler=new L9}send(a,t,s,d,y=!1,S){const I=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(s.metadata=S,this.callbacks[I]=s);const O=Fi(this.globalScope)?void 0:[];return this.target.postMessage({id:I,type:a,hasCallback:!!s,targetMapId:d,mustQueue:y,sourceMapId:this.mapId,data:Pr(t,O)},O),{cancel:()=>{s&&delete this.callbacks[I],this.target.postMessage({id:I,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(a){const t=a.data,s=t.id;if(s&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type==="<cancel>"){const d=this.cancelCallbacks[s];delete this.cancelCallbacks[s],d&&d.cancel()}else if(t.mustQueue||Ji()){const d=this.callbacks[s];this.cancelCallbacks[s]=this.scheduler.add(()=>this.processTask(s,t),d&&d.metadata||{type:"message"})}else this.processTask(s,t)}processTask(a,t){if(t.type==="<response>"){const s=this.callbacks[a];delete this.callbacks[a],s&&(t.error?s(Mr(t.error)):s(null,Mr(t.data)))}else{const s=Fi(this.globalScope)?void 0:[],d=t.hasCallback?(S,I)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:S?Pr(S):null,data:Pr(I,s)},s)}:S=>{},y=Mr(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,y,d);else if(this.parent.getWorkerSource){const S=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,S[0],y.source)[S[1]](y,d)}else d(new Error(`Could not find function ${t.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},l.CanonicalTileID=Xf,l.Color=cn,l.ColorMode=Fc,l.CullFaceMode=lc,l.DEMData=dp,l.DataConstantProperty=Gt,l.DedupedRequest=Lb,l.DepthMode=dd,l.EXTENT=vr,l.Elevation=class{isDataAvailableAtPoint(a){const t=this._source();if(this.isUsingMockSource()||!t||a.y<0||a.y>1)return!1;const s=t.getSource().maxzoom,d=1<<s,y=Math.floor(a.x),S=Math.floor((a.x-y)*d),I=Math.floor(a.y*d),O=this.findDEMTileFor(new so(s,y,s,S,I));return!(!O||!O.dem)}getAtPointOrZero(a,t=0){return this.getAtPoint(a,t)||0}getAtPoint(a,t,s=!0){if(this.isUsingMockSource())return null;t==null&&(t=null);const d=this._source();if(!d||a.y<0||a.y>1)return t;const y=d.getSource().maxzoom,S=1<<y,I=Math.floor(a.x),O=a.x-I,j=new so(y,I,y,Math.floor(O*S),Math.floor(a.y*S)),U=this.findDEMTileFor(j);if(!U||!U.dem)return t;const re=U.dem,ce=1<<U.tileID.canonical.z,ge=(O*ce-U.tileID.canonical.x)*re.dim,Te=(a.y*ce-U.tileID.canonical.y)*re.dim,Ae=Math.floor(ge),Be=Math.floor(Te);return(s?this.exaggeration():1)*xr(xr(re.get(Ae,Be),re.get(Ae,Be+1),Te-Be),xr(re.get(Ae+1,Be),re.get(Ae+1,Be+1),Te-Be),ge-Ae)}getAtTileOffset(a,t,s){const d=1<<a.canonical.z;return this.getAtPointOrZero(new Zu(a.wrap+(a.canonical.x+t/vr)/d,(a.canonical.y+s/vr)/d))}getAtTileOffsetFunc(a,t,s,d){return y=>{const S=this.getAtTileOffset(a,y.x,y.y),I=d.upVector(a.canonical,y.x,y.y);return sl(I,I,S*d.upVectorScale(a.canonical,t,s).metersToTile),I}}getForTilePoints(a,t,s,d){if(this.isUsingMockSource())return!1;const y=fp.create(this,a,d);return!!y&&(t.forEach(S=>{S[2]=this.exaggeration()*y.getElevationAt(S[0],S[1],s)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(a);if(!t||!t.dem)return null;const s=t.dem.tree,d=t.tileID,y=1<<a.canonical.z-d.canonical.z;let S=a.canonical.x/y-d.canonical.x,I=a.canonical.y/y-d.canonical.y,O=0;for(let j=0;j<a.canonical.z-d.canonical.z&&!s.leaves[O];j++){S*=2,I*=2;const U=2*Math.floor(I)+Math.floor(S);O=s.childOffsets[O]+U,S%=1,I%=1}return{min:this.exaggeration()*s.minimums[O],max:this.exaggeration()*s.maximums[O]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,t,s){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},l.ErrorEvent=Oe,l.EvaluationParameters=jt,l.Event=Me,l.Evented=He,l.FillExtrusionBucket=v0,l.Frustum=Pm,l.FrustumCorners=Dm,l.GLOBE_METERS_TO_ECEF=Jm,l.GLOBE_RADIUS=sh,l.GLOBE_SCALE_MATCH_LATITUDE=45,l.GLOBE_ZOOM_THRESHOLD_MAX=6,l.GLOBE_ZOOM_THRESHOLD_MIN=5,l.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_createGrid(a){const t=new on,s=new Ps,d=65;for(let y=0;y<d;y++)for(let S=0;S<d;S++)t.emplaceBack(S,y);this._gridSegments=[];for(let y=0,S=0;y<ld.length;y++){const I=ld[y];for(let j=0;j<I;j++)for(let U=0;U<64;U++){const re=j*d+U;s.emplaceBack(re+1,re,re+d),s.emplaceBack(re+d,re+d+1,re+1)}const O=64*I*2;this._gridSegments.push(Ba.simpleSegment(0,S,(I+1)*d,O)),S+=O}this._gridBuffer=a.createVertexBuffer(t,T0.members),this._gridIndexBuffer=a.createIndexBuffer(s,!0)}_createPoles(a){const t=new Ps;for(let y=0;y<=od;y++)t.emplaceBack(0,y+1,y+2);this._poleIndexBuffer=a.createIndexBuffer(t,!0);const s=new au,d=new au;this._poleSegments=[];for(let y=0,S=0;y<5;y++){const I=360/(1<<y);s.emplaceBack(0,-sh,0,.5,0),d.emplaceBack(0,-sh,0,.5,1);for(let O=0;O<=od;O++){const j=O/od,U=xr(0,I,j),[re,ce,ge]=cd(p9,m9,U,sh);s.emplaceBack(re,ce,ge,j,0),d.emplaceBack(re,ce,ge,j,1)}this._poleSegments.push(Ba.simpleSegment(S,0,66,64)),S+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(s,Q_,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(d,Q_,!1)}getGridBuffers(a){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[a]]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,t){if(!this._wireframeSegments){const s=new Il,d=od,y=d+1;this._wireframeSegments=[];for(let S=0,I=0;S<ld.length;S++){const O=ld[S];for(let U=0;U<O;U++)for(let re=0;re<d;re++){const ce=U*y+re;s.emplaceBack(ce,ce+1),s.emplaceBack(ce,ce+y),s.emplaceBack(ce,ce+y+1)}const j=O*d*3;this._wireframeSegments.push(Ba.simpleSegment(0,I,(O+1)*y,j)),I+=j}this._wireframeIndexBuffer=a.createIndexBuffer(s)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},l.GlyphManager=ad,l.ImagePosition=Wm,l.LivePerformanceUtils=b,l.LngLat=Zr,l.LngLatBounds=Ph,l.LocalGlyphMode=Xm,l.MAX_MERCATOR_LATITUDE=Oc,l.MercatorCoordinate=Zu,l.ONE_EM=Ls,l.OverscaledTileID=so,l.PerformanceMarkers=g,l.Properties=or,l.RGBAImage=jo,l.Ray=km,l.RequestManager=class{constructor(a,t,s){this._transformRequestFn=a,this._customAccessToken=t,this._silenceAuthErrors=!!s,this._createSkuToken()}_createSkuToken(){const a=function(){let t="";for(let s=0;s<10;s++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ve,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,t){return this._transformRequestFn&&this._transformRequestFn(a,t)||{url:a}}normalizeStyleURL(a,t){if(!Ur(a))return a;const s=tn(a);return s.path=`/styles/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||t)}normalizeGlyphsURL(a,t){if(!Ur(a))return a;const s=tn(a);return s.path=`/fonts/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||t)}normalizeSourceURL(a,t,s,d){if(!Ur(a))return a;const y=tn(a);return y.path=`/v4/${y.authority}.json`,y.params.push("secure"),s&&y.params.push(`language=${s}`),d&&y.params.push(`worldview=${d}`),this._makeAPIURL(y,this._customAccessToken||t)}normalizeSpriteURL(a,t,s,d){const y=tn(a);return Ur(a)?(y.path=`/styles/v1${y.path}/sprite${t}${s}`,this._makeAPIURL(y,this._customAccessToken||d)):(y.path+=`${t}${s}`,Br(y))}normalizeTileURL(a,t,s){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!Ur(a))return a;const d=tn(a);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||s&&d.authority!=="raster"&&s===512?"@2x":""}${oe.supported?".webp":"$1"}`),d.authority==="raster"?d.path=`/${J.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${J.TILE_URL_VERSION}${d.path}`);const y=this._customAccessToken||function(S){for(const I of S){const O=I.match(/^access_token=(.*)$/);if(O)return O[1]}return null}(d.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&y&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,y)}canonicalizeTileURL(a,t){const s=tn(a);if(!s.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!s.path.match(/\.[\w]+$/))return a;let d="mapbox://";s.path.match(/^\/raster\/v1\//)?d+=`raster/${s.path.replace(`/${J.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${s.path.replace(`/${J.TILE_URL_VERSION}/`,"")}`;let y=s.params;return t&&(y=y.filter(S=>!S.match(/^access_token=/))),y.length&&(d+=`?${y.join("&")}`),d}canonicalizeTileset(a,t){const s=!!t&&Ur(t),d=[];for(const y of a.tiles||[])Vn(y)?d.push(this.canonicalizeTileURL(y,s)):d.push(y);return d}_makeAPIURL(a,t){const s="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=tn(J.API_URL);if(a.protocol=d.protocol,a.authority=d.authority,a.protocol==="http"){const y=a.params.indexOf("secure");y>=0&&a.params.splice(y,1)}if(d.path!=="/"&&(a.path=`${d.path}${a.path}`),!J.REQUIRE_ACCESS_TOKEN)return Br(a);if(t=t||J.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${s}`);if(t[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${s}`)}return a.params=a.params.filter(y=>y.indexOf("access_token")===-1),a.params.push(`access_token=${t||""}`),Br(a)}},l.ResourceType=Ge,l.SegmentVector=Ba,l.SourceCache=mu,l.StencilMode=cg,l.StructArrayLayout1ui2=i0,l.StructArrayLayout2f1f2i16=Hs,l.StructArrayLayout2i4=on,l.StructArrayLayout2ui4=Il,l.StructArrayLayout3f12=rc,l.StructArrayLayout3ui6=Ps,l.StructArrayLayout4i8=_n,l.StructArrayLayout5f20=au,l.Texture=P0,l.Tile=og,l.Transitionable=pi,l.Uniform1f=Pf,l.Uniform1i=class extends Qc{constructor(a){super(a),this.current=0}set(a,t,s){this.fetchUniformLocation(a,t)&&this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},l.Uniform2f=class extends Qc{constructor(a){super(a),this.current=[0,0]}set(a,t,s){this.fetchUniformLocation(a,t)&&(s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1])))}},l.Uniform3f=class extends Qc{constructor(a){super(a),this.current=[0,0,0]}set(a,t,s){this.fetchUniformLocation(a,t)&&(s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2])))}},l.Uniform4f=Tx,l.UniformColor=Sx,l.UniformMatrix2f=class extends Qc{constructor(a){super(a),this.current=x7}set(a,t,s){if(this.fetchUniformLocation(a,t)){for(let d=0;d<4;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix2fv(this.location,!1,s);break}}}},l.UniformMatrix3f=class extends Qc{constructor(a){super(a),this.current=y7}set(a,t,s){if(this.fetchUniformLocation(a,t)){for(let d=0;d<9;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix3fv(this.location,!1,s);break}}}},l.UniformMatrix4f=class extends Qc{constructor(a){super(a),this.current=v7}set(a,t,s){if(this.fetchUniformLocation(a,t)){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let d=1;d<16;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}}},l.UnwrappedTileID=__,l.ValidationError=Hi,l.VectorTileFeature=Yf,l.VectorTileWorkerSource=class extends He{constructor(a,t,s,d,y){super(),this.actor=a,this.layerIndex=t,this.availableImages=s,this.loadVectorData=y||Rb,this.loading={},this.loaded={},this.deduped=new Lb(a.scheduler),this.isSpriteLoaded=d,this.scheduler=a.scheduler}loadTile(a,t){const s=a.uid,d=a&&a.request,y=d&&d.collectResourceTiming,S=this.loading[s]=new B9(a);S.abort=this.loadVectorData(a,(I,O)=>{const j=!this.loading[s];if(delete this.loading[s],j||I||!O)return S.status="done",j||(this.loaded[s]=S),t(I);const U=O.rawData,re={};O.expires&&(re.expires=O.expires),O.cacheControl&&(re.cacheControl=O.cacheControl),S.vectorTile=O.vectorTile||new Vm(new b0(U));const ce=()=>{S.parse(S.vectorTile,this.layerIndex,this.availableImages,this.actor,(ge,Te)=>{if(ge||!Te)return t(ge);const Ae={};if(y){const Be=C(d);Be.length>0&&(Ae.resourceTiming=JSON.parse(JSON.stringify(Be)))}t(null,ht({rawTileData:U.slice(0)},Te,re,Ae))})};this.isSpriteLoaded?ce():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(ce,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):ce()}),this.loaded=this.loaded||{},this.loaded[s]=S})}reloadTile(a,t){const s=this.loaded,d=a.uid,y=this;if(s&&s[d]){const S=s[d];S.showCollisionBoxes=a.showCollisionBoxes,S.enableTerrain=!!a.enableTerrain,S.projection=a.projection,S.tileTransform=pu(a.tileID.canonical,a.projection);const I=(O,j)=>{const U=S.reloadCallback;U&&(delete S.reloadCallback,S.parse(S.vectorTile,y.layerIndex,this.availableImages,y.actor,U)),t(O,j)};S.status==="parsing"?S.reloadCallback=I:S.status==="done"&&(S.vectorTile?S.parse(S.vectorTile,this.layerIndex,this.availableImages,this.actor,I):I())}}abortTile(a,t){const s=a.uid,d=this.loading[s];d&&(d.abort&&d.abort(),delete this.loading[s]),t()}removeTile(a,t){const s=this.loaded,d=a.uid;s&&s[d]&&delete s[d],t()}},l.WritingMode=ol,l.add=ih,l.addDynamicAttributes=cp,l.adjoint=function(a,t){var s=t[0],d=t[1],y=t[2],S=t[3],I=t[4],O=t[5],j=t[6],U=t[7],re=t[8];return a[0]=I*re-O*U,a[1]=y*U-d*re,a[2]=d*O-y*I,a[3]=O*j-S*re,a[4]=s*re-y*j,a[5]=y*S-s*O,a[6]=S*U-I*j,a[7]=d*j-s*U,a[8]=s*I-d*S,a},l.asyncAll=Re,l.bezier=De,l.bindAll=rt,l.boundsAttributes=yb,l.bufferConvexPolygon=function(a,t){const s=[];for(let d=0;d<a.length;d++){const y=Se(d-1,-1,a.length-1),S=Se(d+1,-1,a.length-1),I=a[d],O=a[S],j=a[y].sub(I).unit(),U=O.sub(I).unit(),re=U.angleWithSep(j.x,j.y),ce=j.add(U).unit().mult(-1*t/Math.sin(re/2));s.push(I.add(ce))}return s},l.cacheEntryPossiblyAdded=function(a){oa++,oa>Ir&&(a.getActor().send("enforceCacheSizeLimit",ar),oa=0)},l.calculateGlobeLabelMatrix=function(a,t){const{x:s,y:d}=a.point,y=ab(s,d,a.worldSize/a._pixelsPerMercatorPixel,0,0);return cu(y,y,tg(Rc(t)))},l.calculateGlobeMatrix=function(a){const{x:t,y:s}=a.point,{lng:d,lat:y}=a._center;return ab(t,s,a.worldSize,d,y)},l.calculateGlobeMercatorMatrix=function(a){const t=a.pixelsPerMeter,s=t/kl(1,a.center.lat),d=sc(new Float64Array(16));return n0(d,d,[a.point.x,a.point.y,0]),hu(d,d,[s,s,t]),Float32Array.from(d)},l.circumferenceAtLatitude=ym,l.clamp=fe,l.clearTileCache=function(a){if(!Ar())return;const t=L.caches.delete(si);a&&t.catch(a).then(()=>a())},l.clipLine=W_,l.clone=function(a){var t=new Bo(16);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},l.clone$1=Li,l.collisionCircleLayout=OS,l.config=J,l.conjugate=function(a,t){return a[0]=-t[0],a[1]=-t[1],a[2]=-t[2],a[3]=t[3],a},l.create=function(){var a=new Bo(16);return Bo!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},l.create$1=Bx,l.createExpression=Ca,l.createLayout=$i,l.createStyleLayer=function(a){return a.type==="custom"?new k9(a):new P9[a.type](a)},l.cross=Im,l.degToRad=At,l.distance=function(a,t){return Math.hypot(t[0]-a[0],t[1]-a[1],t[2]-a[2])},l.div=function(a,t,s){return a[0]=t[0]/s[0],a[1]=t[1]/s[1],a[2]=t[2]/s[2],a},l.dot=Dl,l.earthRadius=Lf,l.ease=te,l.easeCubicInOut=Pe,l.ecefToLatLng=function([a,t,s]){const d=Math.hypot(a,t,s),y=Math.atan2(a,s),S=.5*Math.PI-Math.acos(-t/d);return new Zr(ui(y),ui(S))},l.emitValidationErrors=Ee,l.endsWith=Ot,l.enforceCacheSizeLimit=function(a){En(),tr&&tr.then(t=>{t.keys().then(s=>{for(let d=0;d<s.length-a;d++)t.delete(s[d])})})},l.evaluateSizeForFeature=qf,l.evaluateSizeForZoom=td,l.evaluateVariableOffset=q_,l.evented=xt,l.exactEquals=function(a,t){return a[0]===t[0]&&a[1]===t[1]&&a[2]===t[2]&&a[3]===t[3]},l.exactEquals$1=function(a,t){return a[0]===t[0]&&a[1]===t[1]&&a[2]===t[2]},l.exported=ee,l.exported$1=oe,l.extend=ht,l.extend$1=gt,l.fillExtrusionHeightLift=v_,l.filterObject=gi,l.fromMat4=function(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[4],a[4]=t[5],a[5]=t[6],a[6]=t[8],a[7]=t[9],a[8]=t[10],a},l.fromQuat=function(a,t){var s=t[0],d=t[1],y=t[2],S=t[3],I=s+s,O=d+d,j=y+y,U=s*I,re=d*I,ce=d*O,ge=y*I,Te=y*O,Ae=y*j,Be=S*I,nt=S*O,ft=S*j;return a[0]=1-ce-Ae,a[1]=re+ft,a[2]=ge-nt,a[3]=0,a[4]=re-ft,a[5]=1-U-Ae,a[6]=Te+Be,a[7]=0,a[8]=ge+nt,a[9]=Te-Be,a[10]=1-U-ce,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},l.fromRotation=function(a,t){var s=Math.sin(t),d=Math.cos(t);return a[0]=d,a[1]=s,a[2]=0,a[3]=-s,a[4]=d,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.fromScaling=Vx,l.furthestTileCorner=function(a){const t=Math.round((a+45+360)%360/90)%4;return Ue[t]},l.getAABBPointSquareDist=function(a,t,s){let d=0;for(let y=0;y<2;++y){const S=s?s[y]:0;a[y]>S&&(d+=(a[y]-S)*(a[y]-S)),t[y]<S&&(d+=(S-t[y])*(S-t[y]))}return d},l.getAnchorAlignment=$m,l.getAnchorJustification=qm,l.getBounds=function(a){let t=1/0,s=1/0,d=-1/0,y=-1/0;for(const S of a)t=Math.min(t,S.x),s=Math.min(s,S.y),d=Math.max(d,S.x),y=Math.max(y,S.y);return{min:new Ye(t,s),max:new Ye(d,y)}},l.getColumn=Vr,l.getGridMatrix=function(a,t,s,d){const y=t.getNorth(),S=t.getSouth(),I=t.getWest(),O=t.getEast(),j=1<<a.z,U=O-I,re=y-S,ce=U/od,ge=-re/ld[s],Te=[0,ce,0,ge,0,0,y,I,0];if(a.z>0){const Ae=180/d;jx(Te,Te,[Ae/U+1,0,0,0,Ae/re+1,0,-.5*Ae/ce,.5*Ae/ge,1])}return Te[2]=j,Te[5]=a.x,Te[8]=a.y,Te},l.getImage=Pa,l.getJSON=function(a,t){return mn(ht(a,{type:"json"}),t)},l.getLatitudinalLod=function(a){const t=80.051129;a=fe(a,-80.051129,t)/t*90;const s=Math.pow(Math.abs(Math.sin(At(a))),3);return Math.round(s*(ld.length-1))},l.getMapSessionAPI=n,l.getPerformanceMeasurement=C,l.getProjection=fb,l.getRTLTextPluginStatus=Lt,l.getReferrer=ra,l.getTilePoint=function(a,{x:t,y:s},d=0){return new Ye(((t-d)*a.scale-a.x)*vr,(s*a.scale-a.y)*vr)},l.getTileVec3=function(a,t,s=0){return Ku(((t.x-s)*a.scale-a.x)*vr,(t.y*a.scale-a.y)*vr,Cx(t.z,t.y))},l.getVideo=function(a,t){const s=L.document.createElement("video");s.muted=!0,s.onloadstart=function(){t(null,s)};for(let d=0;d<a.length;d++){const y=L.document.createElement("source");Ua(a[d])||(s.crossOrigin="Anonymous"),y.src=a[d],s.appendChild(y)}return{cancel:()=>{}}},l.globeCenterToScreenPoint=function(a){const t=[0,0,0],s=sc(new Float64Array(16));return cu(s,a.pixelMatrix,a.globeMatrix),Ea(t,t,s),new Ye(t[0],t[1])},l.globeDenormalizeECEF=tg,l.globeECEFOrigin=function(a,t){const s=[0,0,0];return Ea(s,s,M0(Rc(t.canonical))),Ea(s,s,a),s},l.globeNormalizeECEF=M0,l.globePixelsToTileUnits=function(a,t){return vr/(512*Math.pow(2,a))*np(Rc(t))},l.globePoleMatrixForTile=function(a,t,s){const d=sc(new Float64Array(16)),y=(t/(1<<a)-.5)*Math.PI*2;return Bf(d,s.globeMatrix,y),Float32Array.from(d)},l.globeTileBounds=Rc,l.globeTiltAtLngLat=sb,l.globeToMercatorTransition=hd,l.globeUseCustomAntiAliasing=function(a,t,s){const d=hd(s.zoom),y=a.style.map._antialias,S=!!t.extStandardDerivatives,I=t.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return d===0&&!y&&!I&&S},l.identity=sc,l.identity$1=Zx,l.invert=Sm,l.isFullscreen=function(){return!!L.document.fullscreenElement||!!L.document.webkitFullscreenElement},l.isLngLatBehindGlobe=ig,l.isMapAuthenticated=function(a){return o.has(a)},l.isMapboxURL=Ur,l.isSafariWithAntialiasingBug=function(a){const t=a.navigator?a.navigator.userAgent:null;return!!Fi(a)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},l.latFromMercatorY=Os,l.latLngToECEF=S0,l.len=z7,l.length=a0,l.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},l.lngFromMercatorX=al,l.loadVectorTile=Rb,l.makeRequest=mn,l.mapValue=function(a,t,s,d,y){return fe((a-t)/(s-t)*(y-d)+d,d,y)},l.mercatorScale=Ix,l.mercatorXfromLng=Dc,l.mercatorYfromLat=Pc,l.mercatorZfromAltitude=kl,l.mul=L7,l.mul$1=R7,l.multiply=cu,l.multiply$1=jx,l.multiply$2=Hx,l.nextPowerOfTwo=Ie,l.normalize=no,l.normalize$1=N7,l.normalize$2=$x,l.number=xr,l.ortho=function(a,t,s,d,y,S,I){var O=1/(t-s),j=1/(d-y),U=1/(S-I);return a[0]=-2*O,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*j,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*U,a[11]=0,a[12]=(t+s)*O,a[13]=(y+d)*j,a[14]=(I+S)*U,a[15]=1,a},l.pbf=b0,l.perspective=function(a,t,s,d,y){var S,I=1/Math.tan(t/2);return a[0]=I/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=I,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,y!=null&&y!==1/0?(a[10]=(y+d)*(S=1/(d-y)),a[14]=2*y*d*S):(a[10]=-1,a[14]=-2*d),a},l.pick=function(a,t){const s={};for(let d=0;d<t.length;d++){const y=t[d];y in a&&(s[y]=a[y])}return s},l.plugin=Yt,l.pointGeometry=Ye,l.polesInViewport=function(a){const t=sc(new Float64Array(16));cu(t,a.pixelMatrix,a.globeMatrix);const s=[0,Pl,0],d=[0,Ol,0];return Ea(s,s,t),Ea(d,d,t),[s[0]>0&&s[0]<=a.width&&s[1]>0&&s[1]<=a.height&&!ig(a,new Zr(a.center.lat,90)),d[0]>0&&d[0]<=a.width&&d[1]>0&&d[1]<=a.height&&!ig(a,new Zr(a.center.lat,-90))]},l.polygonContainsPoint=lu,l.polygonIntersectsBox=zx,l.polygonIntersectsPolygon=Px,l.polygonizeBounds=function(a,t,s=0,d=!0){const y=new Ye(s,s),S=a.sub(y),I=t.add(y),O=[S,new Ye(I.x,S.y),I,new Ye(S.x,I.y)];return d&&O.push(S.clone()),O},l.posAttributes=T0,l.postMapLoadEvent=mt,l.postPerformanceEvent=Bt,l.postTurnstileEvent=je,l.potpack=Hm,l.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},l.radToDeg=ui,l.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],l.registerForPluginStateChange=function(a){return a({pluginStatus:lt,pluginURL:st}),xt.on("pluginStateChange",a),a},l.removeAuthState=function(a){o.delete(a)},l.renderColorRamp=Lm,l.resample=kx,l.rotateX=Am,l.rotateX$1=qx,l.rotateY=Bf,l.rotateY$1=Kx,l.rotateZ=function(a,t,s){var d=Math.sin(s),y=Math.cos(s),S=t[0],I=t[1],O=t[2],j=t[3],U=t[4],re=t[5],ce=t[6],ge=t[7];return t!==a&&(a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=S*y+U*d,a[1]=I*y+re*d,a[2]=O*y+ce*d,a[3]=j*y+ge*d,a[4]=U*y-S*d,a[5]=re*y-I*d,a[6]=ce*y-O*d,a[7]=ge*y-j*d,a},l.rotateZ$1=function(a,t,s){s*=.5;var d=t[0],y=t[1],S=t[2],I=t[3],O=Math.sin(s),j=Math.cos(s);return a[0]=d*j+y*O,a[1]=y*j-d*O,a[2]=S*j+I*O,a[3]=I*j-S*O,a},l.scale=hu,l.scale$1=Yx,l.scale$2=sl,l.scaleAndAdd=l0,l.set=function(a,t,s,d){return a[0]=t,a[1]=s,a[2]=d,a},l.setCacheLimits=function(a,t){ar=a,Ir=t},l.setColumn=function(a,t,s){a[4*t+0]=s[0],a[4*t+1]=s[1],a[4*t+2]=s[2],a[4*t+3]=s[3]},l.setRTLTextPlugin=function(a,t,s=!1){if(lt===Je||lt===tt||lt===Xe)throw new Error("setRTLTextPlugin cannot be called multiple times.");st=ee.resolveURL(a),lt=Je,qe=t,bt(),s||qt()},l.smoothstep=le,l.spec=Le,l.squaredLength=function(a){var t=a[0],s=a[1],d=a[2];return t*t+s*s+d*d},l.storeAuthState=function(a,t){t?o.add(a):o.delete(a)},l.sub=oc,l.subtract=Cm,l.symbolSize=LS,l.tileAABB=function(a,t,s,d,y,S,I,O,j){if(j.name==="globe")return f9(a,t,new Xf(s,d,y));const U=pu({z:s,x:d,y},j);return new ao([(S+U.x/U.scale)*t,t*(U.y/U.scale),I],[(S+U.x2/U.scale)*t,t*(U.y2/U.scale),O])},l.tileCornersToBounds=rp,l.tileTransform=pu,l.transformMat3=function(a,t,s){var d=t[0],y=t[1],S=t[2];return a[0]=d*s[0]+y*s[3]+S*s[6],a[1]=d*s[1]+y*s[4]+S*s[7],a[2]=d*s[2]+y*s[5]+S*s[8],a},l.transformMat4=Ea,l.transformMat4$1=uu,l.transformQuat=Wx,l.transitionTileAABBinECEF=ib,l.translate=n0,l.transpose=function(a,t){if(a===t){var s=t[1],d=t[2],y=t[5];a[1]=t[3],a[2]=t[6],a[3]=s,a[5]=t[7],a[6]=d,a[7]=y}else a[0]=t[0],a[1]=t[3],a[2]=t[6],a[3]=t[1],a[4]=t[4],a[5]=t[7],a[6]=t[2],a[7]=t[5],a[8]=t[8];return a},l.triggerPluginCompletionEvent=pt,l.uniqueId=Ne,l.updateGlobeVertexNormal=function(a,t,s,d,y){const S=5*t+2;a.float32[S+0]=s,a.float32[S+1]=d,a.float32[S+2]=y},l.validateCustomStyleLayer=function(a){const t=[],s=a.id;return s===void 0&&t.push({message:`layers.${s}: missing required property "id"`}),a.render===void 0&&t.push({message:`layers.${s}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&t.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),t},l.validateFilter=a=>_t(tc(a)),l.validateFog=a=>_t(Ic(a)),l.validateLayer=a=>_t(Mc(a)),l.validateLight=a=>_t(Cc(a)),l.validateSource=a=>_t(Sh(a)),l.validateStyle=Sl,l.validateTerrain=a=>_t(zo(a)),l.values=ot,l.vectorTile=Wf,l.version=H,l.warnOnce=Vt,l.window=L,l.wrap=Se}),x(["./shared"],function(l){function L(ut){if(typeof ut=="number"||typeof ut=="boolean"||typeof ut=="string"||ut==null)return JSON.stringify(ut);if(Array.isArray(ut)){let je="[";for(const ct of ut)je+=`${L(ct)},`;return`${je}]`}let Ce="{";for(const je of Object.keys(ut).sort())Ce+=`${je}:${L(ut[je])},`;return`${Ce}}`}function H(ut){let Ce="";for(const je of l.refProperties)Ce+=`/${L(ut[je])}`;return Ce}class q{constructor(Ce){this.keyCache={},Ce&&this.replace(Ce)}replace(Ce){this._layerConfigs={},this._layers={},this.update(Ce,[])}update(Ce,je){for(const mt of Ce)this._layerConfigs[mt.id]=mt,(this._layers[mt.id]=l.createStyleLayer(mt)).compileFilter(),this.keyCache[mt.id]&&delete this.keyCache[mt.id];for(const mt of je)delete this.keyCache[mt],delete this._layerConfigs[mt],delete this._layers[mt];this.familiesBySource={};const ct=function(mt,It){const Bt={};for(let n=0;n<mt.length;n++){const o=It&&It[mt[n].id]||H(mt[n]);It&&(It[mt[n].id]=o);let g=Bt[o];g||(g=Bt[o]=[]),g.push(mt[n])}const _e=[];for(const n in Bt)_e.push(Bt[n]);return _e}(l.values(this._layerConfigs),this.keyCache);for(const mt of ct){const It=mt.map(b=>this._layers[b.id]),Bt=It[0];if(Bt.visibility==="none")continue;const _e=Bt.source||"";let n=this.familiesBySource[_e];n||(n=this.familiesBySource[_e]={});const o=Bt.sourceLayer||"_geojsonTileLayer";let g=n[o];g||(g=n[o]=[]),g.push(It)}}}class J{loadTile(Ce,je){const{uid:ct,encoding:mt,rawImageData:It,padding:Bt,buildQuadTree:_e}=Ce,n=l.window.ImageBitmap&&It instanceof l.window.ImageBitmap?this.getImageData(It,Bt):It;je(null,new l.DEMData(ct,n,mt,Bt<1,_e))}getImageData(Ce,je){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ce.width,Ce.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Ce.width,this.offscreenCanvas.height=Ce.height,this.offscreenCanvasContext.drawImage(Ce,0,0,Ce.width,Ce.height);const ct=this.offscreenCanvasContext.getImageData(-je,-je,Ce.width+2*je,Ce.height+2*je);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ct}}var oe=function ut(Ce,je){var ct,mt=Ce&&Ce.type;if(mt==="FeatureCollection")for(ct=0;ct<Ce.features.length;ct++)ut(Ce.features[ct],je);else if(mt==="GeometryCollection")for(ct=0;ct<Ce.geometries.length;ct++)ut(Ce.geometries[ct],je);else if(mt==="Feature")ut(Ce.geometry,je);else if(mt==="Polygon")de(Ce.coordinates,je);else if(mt==="MultiPolygon")for(ct=0;ct<Ce.coordinates.length;ct++)de(Ce.coordinates[ct],je);return Ce};function de(ut,Ce){if(ut.length!==0){ye(ut[0],Ce);for(var je=1;je<ut.length;je++)ye(ut[je],!Ce)}}function ye(ut,Ce){for(var je=0,ct=0,mt=0,It=ut.length,Bt=It-1;mt<It;Bt=mt++){var _e=(ut[mt][0]-ut[Bt][0])*(ut[Bt][1]+ut[mt][1]),n=je+_e;ct+=Math.abs(je)>=Math.abs(_e)?je-n+_e:_e-n+je,je=n}je+ct>=0!=!!Ce&&ut.reverse()}const ne=l.VectorTileFeature.prototype.toGeoJSON;class X{constructor(Ce){this._feature=Ce,this.extent=l.EXTENT,this.type=Ce.type,this.properties=Ce.tags,"id"in Ce&&!isNaN(Ce.id)&&(this.id=parseInt(Ce.id,10))}loadGeometry(){if(this._feature.type===1){const Ce=[];for(const je of this._feature.geometry)Ce.push([new l.pointGeometry(je[0],je[1])]);return Ce}{const Ce=[];for(const je of this._feature.geometry){const ct=[];for(const mt of je)ct.push(new l.pointGeometry(mt[0],mt[1]));Ce.push(ct)}return Ce}}toGeoJSON(Ce,je,ct){return ne.call(this,Ce,je,ct)}}class pe{constructor(Ce){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=l.EXTENT,this.length=Ce.length,this._features=Ce}feature(Ce){return new X(this._features[Ce])}}var ve={exports:{}},me=l.pointGeometry,it=l.vectorTile.VectorTileFeature,Ye=Q;function Q(ut,Ce){this.options=Ce||{},this.features=ut,this.length=ut.length}function Dt(ut,Ce){this.id=typeof ut.id=="number"?ut.id:void 0,this.type=ut.type,this.rawGeometry=ut.type===1?[ut.geometry]:ut.geometry,this.properties=ut.tags,this.extent=Ce||4096}Q.prototype.feature=function(ut){return new Dt(this.features[ut],this.options.extent)},Dt.prototype.loadGeometry=function(){var ut=this.rawGeometry;this.geometry=[];for(var Ce=0;Ce<ut.length;Ce++){for(var je=ut[Ce],ct=[],mt=0;mt<je.length;mt++)ct.push(new me(je[mt][0],je[mt][1]));this.geometry.push(ct)}return this.geometry},Dt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ut=this.geometry,Ce=1/0,je=-1/0,ct=1/0,mt=-1/0,It=0;It<ut.length;It++)for(var Bt=ut[It],_e=0;_e<Bt.length;_e++){var n=Bt[_e];Ce=Math.min(Ce,n.x),je=Math.max(je,n.x),ct=Math.min(ct,n.y),mt=Math.max(mt,n.y)}return[Ce,ct,je,mt]},Dt.prototype.toGeoJSON=it.prototype.toGeoJSON;var St=l.pbf,At=Ye;function ui(ut){var Ce=new St;return function(je,ct){for(var mt in je.layers)ct.writeMessage(3,Ue,je.layers[mt])}(ut,Ce),Ce.finish()}function Ue(ut,Ce){var je;Ce.writeVarintField(15,ut.version||1),Ce.writeStringField(1,ut.name||""),Ce.writeVarintField(5,ut.extent||4096);var ct={keys:[],values:[],keycache:{},valuecache:{}};for(je=0;je<ut.length;je++)ct.feature=ut.feature(je),Ce.writeMessage(2,Pe,ct);var mt=ct.keys;for(je=0;je<mt.length;je++)Ce.writeStringField(3,mt[je]);var It=ct.values;for(je=0;je<It.length;je++)Ce.writeMessage(4,Se,It[je])}function Pe(ut,Ce){var je=ut.feature;je.id!==void 0&&Ce.writeVarintField(1,je.id),Ce.writeMessage(2,De,ut),Ce.writeVarintField(3,je.type),Ce.writeMessage(4,le,je)}function De(ut,Ce){var je=ut.feature,ct=ut.keys,mt=ut.values,It=ut.keycache,Bt=ut.valuecache;for(var _e in je.properties){var n=je.properties[_e],o=It[_e];if(n!==null){o===void 0&&(ct.push(_e),It[_e]=o=ct.length-1),Ce.writeVarint(o);var g=typeof n;g!=="string"&&g!=="boolean"&&g!=="number"&&(n=JSON.stringify(n));var b=g+":"+n,E=Bt[b];E===void 0&&(mt.push(n),Bt[b]=E=mt.length-1),Ce.writeVarint(E)}}}function te(ut,Ce){return(Ce<<3)+(7&ut)}function fe(ut){return ut<<1^ut>>31}function le(ut,Ce){for(var je=ut.loadGeometry(),ct=ut.type,mt=0,It=0,Bt=je.length,_e=0;_e<Bt;_e++){var n=je[_e],o=1;ct===1&&(o=n.length),Ce.writeVarint(te(1,o));for(var g=ct===3?n.length-1:n.length,b=0;b<g;b++){b===1&&ct!==1&&Ce.writeVarint(te(2,g-1));var E=n[b].x-mt,k=n[b].y-It;Ce.writeVarint(fe(E)),Ce.writeVarint(fe(k)),mt+=E,It+=k}ct===3&&Ce.writeVarint(te(7,1))}}function Se(ut,Ce){var je=typeof ut;je==="string"?Ce.writeStringField(1,ut):je==="boolean"?Ce.writeBooleanField(7,ut):je==="number"&&(ut%1!=0?Ce.writeDoubleField(3,ut):ut<0?Ce.writeSVarintField(6,ut):Ce.writeVarintField(5,ut))}function Re(ut,Ce,je,ct,mt,It){if(mt-ct<=je)return;const Bt=ct+mt>>1;ot(ut,Ce,Bt,ct,mt,It%2),Re(ut,Ce,je,ct,Bt-1,It+1),Re(ut,Ce,je,Bt+1,mt,It+1)}function ot(ut,Ce,je,ct,mt,It){for(;mt>ct;){if(mt-ct>600){const o=mt-ct+1,g=je-ct+1,b=Math.log(o),E=.5*Math.exp(2*b/3),k=.5*Math.sqrt(b*E*(o-E)/o)*(g-o/2<0?-1:1);ot(ut,Ce,je,Math.max(ct,Math.floor(je-g*E/o+k)),Math.min(mt,Math.floor(je+(o-g)*E/o+k)),It)}const Bt=Ce[2*je+It];let _e=ct,n=mt;for(ht(ut,Ce,ct,je),Ce[2*mt+It]>Bt&&ht(ut,Ce,ct,mt);_e<n;){for(ht(ut,Ce,_e,n),_e++,n--;Ce[2*_e+It]<Bt;)_e++;for(;Ce[2*n+It]>Bt;)n--}Ce[2*ct+It]===Bt?ht(ut,Ce,ct,n):(n++,ht(ut,Ce,n,mt)),n<=je&&(ct=n+1),je<=n&&(mt=n-1)}}function ht(ut,Ce,je,ct){Pt(ut,je,ct),Pt(Ce,2*je,2*ct),Pt(Ce,2*je+1,2*ct+1)}function Pt(ut,Ce,je){const ct=ut[Ce];ut[Ce]=ut[je],ut[je]=ct}function Ne(ut,Ce,je,ct){const mt=ut-je,It=Ce-ct;return mt*mt+It*It}ve.exports=ui,ve.exports.fromVectorTileJs=ui,ve.exports.fromGeojsonVt=function(ut,Ce){Ce=Ce||{};var je={};for(var ct in ut)je[ct]=new At(ut[ct].features,Ce),je[ct].name=ct,je[ct].version=Ce.version,je[ct].extent=Ce.extent;return ui({layers:je})},ve.exports.GeoJSONWrapper=At;const Ze=ut=>ut[0],Ie=ut=>ut[1];class We{constructor(Ce,je=Ze,ct=Ie,mt=64,It=Float64Array){this.nodeSize=mt,this.points=Ce;const Bt=Ce.length<65536?Uint16Array:Uint32Array,_e=this.ids=new Bt(Ce.length),n=this.coords=new It(2*Ce.length);for(let o=0;o<Ce.length;o++)_e[o]=o,n[2*o]=je(Ce[o]),n[2*o+1]=ct(Ce[o]);Re(_e,n,mt,0,_e.length-1,0)}range(Ce,je,ct,mt){return function(It,Bt,_e,n,o,g,b){const E=[0,It.length-1,0],k=[];let C,P;for(;E.length;){const N=E.pop(),W=E.pop(),K=E.pop();if(W-K<=b){for(let we=K;we<=W;we++)C=Bt[2*we],P=Bt[2*we+1],C>=_e&&C<=o&&P>=n&&P<=g&&k.push(It[we]);continue}const ee=Math.floor((K+W)/2);C=Bt[2*ee],P=Bt[2*ee+1],C>=_e&&C<=o&&P>=n&&P<=g&&k.push(It[ee]);const ue=(N+1)%2;(N===0?_e<=C:n<=P)&&(E.push(K),E.push(ee-1),E.push(ue)),(N===0?o>=C:g>=P)&&(E.push(ee+1),E.push(W),E.push(ue))}return k}(this.ids,this.coords,Ce,je,ct,mt,this.nodeSize)}within(Ce,je,ct){return function(mt,It,Bt,_e,n,o){const g=[0,mt.length-1,0],b=[],E=n*n;for(;g.length;){const k=g.pop(),C=g.pop(),P=g.pop();if(C-P<=o){for(let ue=P;ue<=C;ue++)Ne(It[2*ue],It[2*ue+1],Bt,_e)<=E&&b.push(mt[ue]);continue}const N=Math.floor((P+C)/2),W=It[2*N],K=It[2*N+1];Ne(W,K,Bt,_e)<=E&&b.push(mt[N]);const ee=(k+1)%2;(k===0?Bt-n<=W:_e-n<=K)&&(g.push(P),g.push(N-1),g.push(ee)),(k===0?Bt+n>=W:_e+n>=K)&&(g.push(N+1),g.push(C),g.push(ee))}return b}(this.ids,this.coords,Ce,je,ct,this.nodeSize)}}const rt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ut=>ut},Ot=Math.fround||(hi=new Float32Array(1),ut=>(hi[0]=+ut,hi[0]));var hi;class gi{constructor(Ce){this.options=Xi(Object.create(rt),Ce),this.trees=new Array(this.options.maxZoom+1)}load(Ce){const{log:je,minZoom:ct,maxZoom:mt,nodeSize:It}=this.options;je&&console.time("total time");const Bt=`prepare ${Ce.length} points`;je&&console.time(Bt),this.points=Ce;let _e=[];for(let n=0;n<Ce.length;n++)Ce[n].geometry&&_e.push(ur(Ce[n],n));this.trees[mt+1]=new We(_e,Fi,Lr,It,Float32Array),je&&console.timeEnd(Bt);for(let n=mt;n>=ct;n--){const o=+Date.now();_e=this._cluster(_e,n),this.trees[n]=new We(_e,Fi,Lr,It,Float32Array),je&&console.log("z%d: %d clusters in %dms",n,_e.length,+Date.now()-o)}return je&&console.timeEnd("total time"),this}getClusters(Ce,je){let ct=((Ce[0]+180)%360+360)%360-180;const mt=Math.max(-90,Math.min(90,Ce[1]));let It=Ce[2]===180?180:((Ce[2]+180)%360+360)%360-180;const Bt=Math.max(-90,Math.min(90,Ce[3]));if(Ce[2]-Ce[0]>=360)ct=-180,It=180;else if(ct>It){const g=this.getClusters([ct,mt,180,Bt],je),b=this.getClusters([-180,mt,It,Bt],je);return g.concat(b)}const _e=this.trees[this._limitZoom(je)],n=_e.range(Mi(ct),Ji(Bt),Mi(It),Ji(mt)),o=[];for(const g of n){const b=_e.points[g];o.push(b.numPoints?Vt(b):this.points[b.index])}return o}getChildren(Ce){const je=this._getOriginId(Ce),ct=this._getOriginZoom(Ce),mt="No cluster with the specified id.",It=this.trees[ct];if(!It)throw new Error(mt);const Bt=It.points[je];if(!Bt)throw new Error(mt);const _e=this.options.radius/(this.options.extent*Math.pow(2,ct-1)),n=It.within(Bt.x,Bt.y,_e),o=[];for(const g of n){const b=It.points[g];b.parentId===Ce&&o.push(b.numPoints?Vt(b):this.points[b.index])}if(o.length===0)throw new Error(mt);return o}getLeaves(Ce,je,ct){const mt=[];return this._appendLeaves(mt,Ce,je=je||10,ct=ct||0,0),mt}getTile(Ce,je,ct){const mt=this.trees[this._limitZoom(Ce)],It=Math.pow(2,Ce),{extent:Bt,radius:_e}=this.options,n=_e/Bt,o=(ct-n)/It,g=(ct+1+n)/It,b={features:[]};return this._addTileFeatures(mt.range((je-n)/It,o,(je+1+n)/It,g),mt.points,je,ct,It,b),je===0&&this._addTileFeatures(mt.range(1-n/It,o,1,g),mt.points,It,ct,It,b),je===It-1&&this._addTileFeatures(mt.range(0,o,n/It,g),mt.points,-1,ct,It,b),b.features.length?b:null}getClusterExpansionZoom(Ce){let je=this._getOriginZoom(Ce)-1;for(;je<=this.options.maxZoom;){const ct=this.getChildren(Ce);if(je++,ct.length!==1)break;Ce=ct[0].properties.cluster_id}return je}_appendLeaves(Ce,je,ct,mt,It){const Bt=this.getChildren(je);for(const _e of Bt){const n=_e.properties;if(n&&n.cluster?It+n.point_count<=mt?It+=n.point_count:It=this._appendLeaves(Ce,n.cluster_id,ct,mt,It):It<mt?It++:Ce.push(_e),Ce.length===ct)break}return It}_addTileFeatures(Ce,je,ct,mt,It,Bt){for(const _e of Ce){const n=je[_e],o=n.numPoints;let g,b,E;if(o)g=wi(n),b=n.x,E=n.y;else{const P=this.points[n.index];g=P.properties,b=Mi(P.geometry.coordinates[0]),E=Ji(P.geometry.coordinates[1])}const k={type:1,geometry:[[Math.round(this.options.extent*(b*It-ct)),Math.round(this.options.extent*(E*It-mt))]],tags:g};let C;o?C=n.id:this.options.generateId?C=n.index:this.points[n.index].id&&(C=this.points[n.index].id),C!==void 0&&(k.id=C),Bt.features.push(k)}}_limitZoom(Ce){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ce),this.options.maxZoom+1))}_cluster(Ce,je){const ct=[],{radius:mt,extent:It,reduce:Bt,minPoints:_e}=this.options,n=mt/(It*Math.pow(2,je));for(let o=0;o<Ce.length;o++){const g=Ce[o];if(g.zoom<=je)continue;g.zoom=je;const b=this.trees[je+1],E=b.within(g.x,g.y,n),k=g.numPoints||1;let C=k;for(const P of E){const N=b.points[P];N.zoom>je&&(C+=N.numPoints||1)}if(C>k&&C>=_e){let P=g.x*k,N=g.y*k,W=Bt&&k>1?this._map(g,!0):null;const K=(o<<5)+(je+1)+this.points.length;for(const ee of E){const ue=b.points[ee];if(ue.zoom<=je)continue;ue.zoom=je;const we=ue.numPoints||1;P+=ue.x*we,N+=ue.y*we,ue.parentId=K,Bt&&(W||(W=this._map(g,!0)),Bt(W,this._map(ue)))}g.parentId=K,ct.push(Li(P/C,N/C,K,C,W))}else if(ct.push(g),C>1)for(const P of E){const N=b.points[P];N.zoom<=je||(N.zoom=je,ct.push(N))}}return ct}_getOriginId(Ce){return Ce-this.points.length>>5}_getOriginZoom(Ce){return(Ce-this.points.length)%32}_map(Ce,je){if(Ce.numPoints)return je?Xi({},Ce.properties):Ce.properties;const ct=this.points[Ce.index].properties,mt=this.options.map(ct);return je&&mt===ct?Xi({},mt):mt}}function Li(ut,Ce,je,ct,mt){return{x:Ot(ut),y:Ot(Ce),zoom:1/0,id:je,parentId:-1,numPoints:ct,properties:mt}}function ur(ut,Ce){const[je,ct]=ut.geometry.coordinates;return{x:Ot(Mi(je)),y:Ot(Ji(ct)),zoom:1/0,index:Ce,parentId:-1}}function Vt(ut){return{type:"Feature",id:ut.id,properties:wi(ut),geometry:{type:"Point",coordinates:[(Ce=ut.x,360*(Ce-.5)),Ei(ut.y)]}};var Ce}function wi(ut){const Ce=ut.numPoints,je=Ce>=1e4?`${Math.round(Ce/1e3)}k`:Ce>=1e3?Math.round(Ce/100)/10+"k":Ce;return Xi(Xi({},ut.properties),{cluster:!0,cluster_id:ut.id,point_count:Ce,point_count_abbreviated:je})}function Mi(ut){return ut/360+.5}function Ji(ut){const Ce=Math.sin(ut*Math.PI/180),je=.5-.25*Math.log((1+Ce)/(1-Ce))/Math.PI;return je<0?0:je>1?1:je}function Ei(ut){const Ce=(180-360*ut)*Math.PI/180;return 360*Math.atan(Math.exp(Ce))/Math.PI-90}function Xi(ut,Ce){for(const je in Ce)ut[je]=Ce[je];return ut}function Fi(ut){return ut.x}function Lr(ut){return ut.y}function Vr(ut,Ce,je,ct){for(var mt,It=ct,Bt=je-Ce>>1,_e=je-Ce,n=ut[Ce],o=ut[Ce+1],g=ut[je],b=ut[je+1],E=Ce+3;E<je;E+=3){var k=si(ut[E],ut[E+1],n,o,g,b);if(k>It)mt=E,It=k;else if(k===It){var C=Math.abs(E-Bt);C<_e&&(mt=E,_e=C)}}It>ct&&(mt-Ce>3&&Vr(ut,Ce,mt,ct),ut[mt+2]=It,je-mt>3&&Vr(ut,mt,je,ct))}function si(ut,Ce,je,ct,mt,It){var Bt=mt-je,_e=It-ct;if(Bt!==0||_e!==0){var n=((ut-je)*Bt+(Ce-ct)*_e)/(Bt*Bt+_e*_e);n>1?(je=mt,ct=It):n>0&&(je+=Bt*n,ct+=_e*n)}return(Bt=ut-je)*Bt+(_e=Ce-ct)*_e}function tr(ut,Ce,je,ct){var mt={id:ut===void 0?null:ut,type:Ce,geometry:je,tags:ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(It){var Bt=It.geometry,_e=It.type;if(_e==="Point"||_e==="MultiPoint"||_e==="LineString")yr(It,Bt);else if(_e==="Polygon"||_e==="MultiLineString")for(var n=0;n<Bt.length;n++)yr(It,Bt[n]);else if(_e==="MultiPolygon")for(n=0;n<Bt.length;n++)for(var o=0;o<Bt[n].length;o++)yr(It,Bt[n][o])}(mt),mt}function yr(ut,Ce){for(var je=0;je<Ce.length;je+=3)ut.minX=Math.min(ut.minX,Ce[je]),ut.minY=Math.min(ut.minY,Ce[je+1]),ut.maxX=Math.max(ut.maxX,Ce[je]),ut.maxY=Math.max(ut.maxY,Ce[je+1])}function ar(ut,Ce,je,ct){if(Ce.geometry){var mt=Ce.geometry.coordinates,It=Ce.geometry.type,Bt=Math.pow(je.tolerance/((1<<je.maxZoom)*je.extent),2),_e=[],n=Ce.id;if(je.promoteId?n=Ce.properties[je.promoteId]:je.generateId&&(n=ct||0),It==="Point")Ir(mt,_e);else if(It==="MultiPoint")for(var o=0;o<mt.length;o++)Ir(mt[o],_e);else if(It==="LineString")Ar(mt,_e,Bt,!1);else if(It==="MultiLineString"){if(je.lineMetrics){for(o=0;o<mt.length;o++)Ar(mt[o],_e=[],Bt,!1),ut.push(tr(n,"LineString",_e,Ce.properties));return}En(mt,_e,Bt,!1)}else if(It==="Polygon")En(mt,_e,Bt,!0);else{if(It!=="MultiPolygon"){if(It==="GeometryCollection"){for(o=0;o<Ce.geometry.geometries.length;o++)ar(ut,{id:n,geometry:Ce.geometry.geometries[o],properties:Ce.properties},je,ct);return}throw new Error("Input data is not a valid GeoJSON object.")}for(o=0;o<mt.length;o++){var g=[];En(mt[o],g,Bt,!0),_e.push(g)}}ut.push(tr(n,It,_e,Ce.properties))}}function Ir(ut,Ce){Ce.push(kn(ut[0])),Ce.push(oa(ut[1])),Ce.push(0)}function Ar(ut,Ce,je,ct){for(var mt,It,Bt=0,_e=0;_e<ut.length;_e++){var n=kn(ut[_e][0]),o=oa(ut[_e][1]);Ce.push(n),Ce.push(o),Ce.push(0),_e>0&&(Bt+=ct?(mt*o-n*It)/2:Math.sqrt(Math.pow(n-mt,2)+Math.pow(o-It,2))),mt=n,It=o}var g=Ce.length-3;Ce[2]=1,Vr(Ce,0,g,je),Ce[g+2]=1,Ce.size=Math.abs(Bt),Ce.start=0,Ce.end=Ce.size}function En(ut,Ce,je,ct){for(var mt=0;mt<ut.length;mt++){var It=[];Ar(ut[mt],It,je,ct),Ce.push(It)}}function kn(ut){return ut/360+.5}function oa(ut){var Ce=Math.sin(ut*Math.PI/180),je=.5-.25*Math.log((1+Ce)/(1-Ce))/Math.PI;return je<0?0:je>1?1:je}function Ge(ut,Ce,je,ct,mt,It,Bt,_e){if(ct/=Ce,It>=(je/=Ce)&&Bt<ct)return ut;if(Bt<je||It>=ct)return null;for(var n=[],o=0;o<ut.length;o++){var g=ut[o],b=g.geometry,E=g.type,k=mt===0?g.minX:g.minY,C=mt===0?g.maxX:g.maxY;if(k>=je&&C<ct)n.push(g);else if(!(C<je||k>=ct)){var P=[];if(E==="Point"||E==="MultiPoint")ma(b,P,je,ct,mt);else if(E==="LineString")ra(b,P,je,ct,mt,!1,_e.lineMetrics);else if(E==="MultiLineString")na(b,P,je,ct,mt,!1);else if(E==="Polygon")na(b,P,je,ct,mt,!0);else if(E==="MultiPolygon")for(var N=0;N<b.length;N++){var W=[];na(b[N],W,je,ct,mt,!0),W.length&&P.push(W)}if(P.length){if(_e.lineMetrics&&E==="LineString"){for(N=0;N<P.length;N++)n.push(tr(g.id,E,P[N],g.tags));continue}E!=="LineString"&&E!=="MultiLineString"||(P.length===1?(E="LineString",P=P[0]):E="MultiLineString"),E!=="Point"&&E!=="MultiPoint"||(E=P.length===3?"Point":"MultiPoint"),n.push(tr(g.id,E,P,g.tags))}}}return n.length?n:null}function ma(ut,Ce,je,ct,mt){for(var It=0;It<ut.length;It+=3){var Bt=ut[It+mt];Bt>=je&&Bt<=ct&&(Ce.push(ut[It]),Ce.push(ut[It+1]),Ce.push(ut[It+2]))}}function ra(ut,Ce,je,ct,mt,It,Bt){for(var _e,n,o=mn(ut),g=mt===0?jn:gn,b=ut.start,E=0;E<ut.length-3;E+=3){var k=ut[E],C=ut[E+1],P=ut[E+2],N=ut[E+3],W=ut[E+4],K=mt===0?k:C,ee=mt===0?N:W,ue=!1;Bt&&(_e=Math.sqrt(Math.pow(k-N,2)+Math.pow(C-W,2))),K<je?ee>je&&(n=g(o,k,C,N,W,je),Bt&&(o.start=b+_e*n)):K>ct?ee<ct&&(n=g(o,k,C,N,W,ct),Bt&&(o.start=b+_e*n)):Ua(o,k,C,P),ee<je&&K>=je&&(n=g(o,k,C,N,W,je),ue=!0),ee>ct&&K<=ct&&(n=g(o,k,C,N,W,ct),ue=!0),!It&&ue&&(Bt&&(o.end=b+_e*n),Ce.push(o),o=mn(ut)),Bt&&(b+=_e)}var we=ut.length-3;k=ut[we],C=ut[we+1],P=ut[we+2],(K=mt===0?k:C)>=je&&K<=ct&&Ua(o,k,C,P),we=o.length-3,It&&we>=3&&(o[we]!==o[0]||o[we+1]!==o[1])&&Ua(o,o[0],o[1],o[2]),o.length&&Ce.push(o)}function mn(ut){var Ce=[];return Ce.size=ut.size,Ce.start=ut.start,Ce.end=ut.end,Ce}function na(ut,Ce,je,ct,mt,It){for(var Bt=0;Bt<ut.length;Bt++)ra(ut[Bt],Ce,je,ct,mt,It,!1)}function Ua(ut,Ce,je,ct){ut.push(Ce),ut.push(je),ut.push(ct)}function jn(ut,Ce,je,ct,mt,It){var Bt=(It-Ce)/(ct-Ce);return ut.push(It),ut.push(je+(mt-je)*Bt),ut.push(1),Bt}function gn(ut,Ce,je,ct,mt,It){var Bt=(It-je)/(mt-je);return ut.push(Ce+(ct-Ce)*Bt),ut.push(It),ut.push(1),Bt}function qr(ut,Ce){for(var je=[],ct=0;ct<ut.length;ct++){var mt,It=ut[ct],Bt=It.type;if(Bt==="Point"||Bt==="MultiPoint"||Bt==="LineString")mt=Pa(It.geometry,Ce);else if(Bt==="MultiLineString"||Bt==="Polygon"){mt=[];for(var _e=0;_e<It.geometry.length;_e++)mt.push(Pa(It.geometry[_e],Ce))}else if(Bt==="MultiPolygon")for(mt=[],_e=0;_e<It.geometry.length;_e++){for(var n=[],o=0;o<It.geometry[_e].length;o++)n.push(Pa(It.geometry[_e][o],Ce));mt.push(n)}je.push(tr(It.id,Bt,mt,It.tags))}return je}function Pa(ut,Ce){var je=[];je.size=ut.size,ut.start!==void 0&&(je.start=ut.start,je.end=ut.end);for(var ct=0;ct<ut.length;ct+=3)je.push(ut[ct]+Ce,ut[ct+1],ut[ct+2]);return je}function Oa(ut,Ce){if(ut.transformed)return ut;var je,ct,mt,It=1<<ut.z,Bt=ut.x,_e=ut.y;for(je=0;je<ut.features.length;je++){var n=ut.features[je],o=n.geometry,g=n.type;if(n.geometry=[],g===1)for(ct=0;ct<o.length;ct+=2)n.geometry.push(Ur(o[ct],o[ct+1],Ce,It,Bt,_e));else for(ct=0;ct<o.length;ct++){var b=[];for(mt=0;mt<o[ct].length;mt+=2)b.push(Ur(o[ct][mt],o[ct][mt+1],Ce,It,Bt,_e));n.geometry.push(b)}}return ut.transformed=!0,ut}function Ur(ut,Ce,je,ct,mt,It){return[Math.round(je*(ut*ct-mt)),Math.round(je*(Ce*ct-It))]}function Vn(ut,Ce,je,ct,mt){for(var It=Ce===mt.maxZoom?0:mt.tolerance/((1<<Ce)*mt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:je,y:ct,z:Ce,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},_e=0;_e<ut.length;_e++){Bt.numFeatures++,cs(Bt,ut[_e],It,mt);var n=ut[_e].minX,o=ut[_e].minY,g=ut[_e].maxX,b=ut[_e].maxY;n<Bt.minX&&(Bt.minX=n),o<Bt.minY&&(Bt.minY=o),g>Bt.maxX&&(Bt.maxX=g),b>Bt.maxY&&(Bt.maxY=b)}return Bt}function cs(ut,Ce,je,ct){var mt=Ce.geometry,It=Ce.type,Bt=[];if(It==="Point"||It==="MultiPoint")for(var _e=0;_e<mt.length;_e+=3)Bt.push(mt[_e]),Bt.push(mt[_e+1]),ut.numPoints++,ut.numSimplified++;else if(It==="LineString")ga(Bt,mt,ut,je,!1,!1);else if(It==="MultiLineString"||It==="Polygon")for(_e=0;_e<mt.length;_e++)ga(Bt,mt[_e],ut,je,It==="Polygon",_e===0);else if(It==="MultiPolygon")for(var n=0;n<mt.length;n++){var o=mt[n];for(_e=0;_e<o.length;_e++)ga(Bt,o[_e],ut,je,!0,_e===0)}if(Bt.length){var g=Ce.tags||null;if(It==="LineString"&&ct.lineMetrics){for(var b in g={},Ce.tags)g[b]=Ce.tags[b];g.mapbox_clip_start=mt.start/mt.size,g.mapbox_clip_end=mt.end/mt.size}var E={geometry:Bt,type:It==="Polygon"||It==="MultiPolygon"?3:It==="LineString"||It==="MultiLineString"?2:1,tags:g};Ce.id!==null&&(E.id=Ce.id),ut.features.push(E)}}function ga(ut,Ce,je,ct,mt,It){var Bt=ct*ct;if(ct>0&&Ce.size<(mt?Bt:ct))je.numPoints+=Ce.length/3;else{for(var _e=[],n=0;n<Ce.length;n+=3)(ct===0||Ce[n+2]>Bt)&&(je.numSimplified++,_e.push(Ce[n]),_e.push(Ce[n+1])),je.numPoints++;mt&&function(o,g){for(var b=0,E=0,k=o.length,C=k-2;E<k;C=E,E+=2)b+=(o[E]-o[C])*(o[E+1]+o[C+1]);if(b>0===g)for(E=0,k=o.length;E<k/2;E+=2){var P=o[E],N=o[E+1];o[E]=o[k-2-E],o[E+1]=o[k-1-E],o[k-2-E]=P,o[k-1-E]=N}}(_e,It),ut.push(_e)}}function Xn(ut,Ce){var je=(Ce=this.options=function(mt,It){for(var Bt in It)mt[Bt]=It[Bt];return mt}(Object.create(this.options),Ce)).debug;if(je&&console.time("preprocess data"),Ce.maxZoom<0||Ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ce.promoteId&&Ce.generateId)throw new Error("promoteId and generateId cannot be used together.");var ct=function(mt,It){var Bt=[];if(mt.type==="FeatureCollection")for(var _e=0;_e<mt.features.length;_e++)ar(Bt,mt.features[_e],It,_e);else ar(Bt,mt.type==="Feature"?mt:{geometry:mt},It);return Bt}(ut,Ce);this.tiles={},this.tileCoords=[],je&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ce.indexMaxZoom,Ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ct=function(mt,It){var Bt=It.buffer/It.extent,_e=mt,n=Ge(mt,1,-1-Bt,Bt,0,-1,2,It),o=Ge(mt,1,1-Bt,2+Bt,0,-1,2,It);return(n||o)&&(_e=Ge(mt,1,-Bt,1+Bt,0,-1,2,It)||[],n&&(_e=qr(n,1).concat(_e)),o&&(_e=_e.concat(qr(o,-1)))),_e}(ct,Ce),ct.length&&this.splitTile(ct,0,0,0),je&&(ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ga(ut,Ce,je){return 32*((1<<ut)*je+Ce)+ut}function tn(ut,Ce){const je=ut.tileID.canonical;if(!this._geoJSONIndex)return Ce(null,null);const ct=this._geoJSONIndex.getTile(je.z,je.x,je.y);if(!ct)return Ce(null,null);const mt=new pe(ct.features);let It=ve.exports(mt);It.byteOffset===0&&It.byteLength===It.buffer.byteLength||(It=new Uint8Array(It)),Ce(null,{vectorTile:mt,rawData:It.buffer})}Xn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Xn.prototype.splitTile=function(ut,Ce,je,ct,mt,It,Bt){for(var _e=[ut,Ce,je,ct],n=this.options,o=n.debug;_e.length;){ct=_e.pop(),je=_e.pop(),Ce=_e.pop(),ut=_e.pop();var g=1<<Ce,b=Ga(Ce,je,ct),E=this.tiles[b];if(!E&&(o>1&&console.time("creation"),E=this.tiles[b]=Vn(ut,Ce,je,ct,n),this.tileCoords.push({z:Ce,x:je,y:ct}),o)){o>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ce,je,ct,E.numFeatures,E.numPoints,E.numSimplified),console.timeEnd("creation"));var k="z"+Ce;this.stats[k]=(this.stats[k]||0)+1,this.total++}if(E.source=ut,mt){if(Ce===n.maxZoom||Ce===mt)continue;var C=1<<mt-Ce;if(je!==Math.floor(It/C)||ct!==Math.floor(Bt/C))continue}else if(Ce===n.indexMaxZoom||E.numPoints<=n.indexMaxPoints)continue;if(E.source=null,ut.length!==0){o>1&&console.time("clipping");var P,N,W,K,ee,ue,we=.5*n.buffer/n.extent,Me=.5-we,Oe=.5+we,He=1+we;P=N=W=K=null,ee=Ge(ut,g,je-we,je+Oe,0,E.minX,E.maxX,n),ue=Ge(ut,g,je+Me,je+He,0,E.minX,E.maxX,n),ut=null,ee&&(P=Ge(ee,g,ct-we,ct+Oe,1,E.minY,E.maxY,n),N=Ge(ee,g,ct+Me,ct+He,1,E.minY,E.maxY,n),ee=null),ue&&(W=Ge(ue,g,ct-we,ct+Oe,1,E.minY,E.maxY,n),K=Ge(ue,g,ct+Me,ct+He,1,E.minY,E.maxY,n),ue=null),o>1&&console.timeEnd("clipping"),_e.push(P||[],Ce+1,2*je,2*ct),_e.push(N||[],Ce+1,2*je,2*ct+1),_e.push(W||[],Ce+1,2*je+1,2*ct),_e.push(K||[],Ce+1,2*je+1,2*ct+1)}}},Xn.prototype.getTile=function(ut,Ce,je){var ct=this.options,mt=ct.extent,It=ct.debug;if(ut<0||ut>24)return null;var Bt=1<<ut,_e=Ga(ut,Ce=(Ce%Bt+Bt)%Bt,je);if(this.tiles[_e])return Oa(this.tiles[_e],mt);It>1&&console.log("drilling down to z%d-%d-%d",ut,Ce,je);for(var n,o=ut,g=Ce,b=je;!n&&o>0;)o--,g=Math.floor(g/2),b=Math.floor(b/2),n=this.tiles[Ga(o,g,b)];return n&&n.source?(It>1&&console.log("found parent tile z%d-%d-%d",o,g,b),It>1&&console.time("drilling down"),this.splitTile(n.source,o,g,b,ut,Ce,je),It>1&&console.timeEnd("drilling down"),this.tiles[_e]?Oa(this.tiles[_e],mt):null):null};class Br extends l.VectorTileWorkerSource{constructor(Ce,je,ct,mt,It){super(Ce,je,ct,mt,tn),It&&(this.loadGeoJSON=It)}loadData(Ce,je){const ct=Ce&&Ce.request,mt=ct&&ct.collectResourceTiming;this.loadGeoJSON(Ce,(It,Bt)=>{if(It||!Bt)return je(It);if(typeof Bt!="object")return je(new Error(`Input data given to '${Ce.source}' is not a valid GeoJSON object.`));{oe(Bt,!0);try{if(Ce.filter){const n=l.createExpression(Ce.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(n.result==="error")throw new Error(n.value.map(g=>`${g.key}: ${g.message}`).join(", "));Bt={type:"FeatureCollection",features:Bt.features.filter(g=>n.value.evaluate({zoom:0},g))}}this._geoJSONIndex=Ce.cluster?new gi(function({superclusterOptions:n,clusterProperties:o}){if(!o||!n)return n;const g={},b={},E={accumulated:null,zoom:0},k={properties:null},C=Object.keys(o);for(const P of C){const[N,W]=o[P],K=l.createExpression(W),ee=l.createExpression(typeof N=="string"?[N,["accumulated"],["get",P]]:N);g[P]=K.value,b[P]=ee.value}return n.map=P=>{k.properties=P;const N={};for(const W of C)N[W]=g[W].evaluate(E,k);return N},n.reduce=(P,N)=>{k.properties=N;for(const W of C)E.accumulated=P[W],P[W]=b[W].evaluate(E,k)},n}(Ce)).load(Bt.features):function(n,o){return new Xn(n,o)}(Bt,Ce.geojsonVtOptions)}catch(n){return je(n)}this.loaded={};const _e={};if(mt){const n=l.getPerformanceMeasurement(ct);n&&(_e.resourceTiming={},_e.resourceTiming[Ce.source]=JSON.parse(JSON.stringify(n)))}je(null,_e)}})}reloadTile(Ce,je){const ct=this.loaded;return ct&&ct[Ce.uid]?super.reloadTile(Ce,je):this.loadTile(Ce,je)}loadGeoJSON(Ce,je){if(Ce.request)l.getJSON(Ce.request,je);else{if(typeof Ce.data!="string")return je(new Error(`Input data given to '${Ce.source}' is not a valid GeoJSON object.`));try{return je(null,JSON.parse(Ce.data))}catch{return je(new Error(`Input data given to '${Ce.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Ce,je){try{je(null,this._geoJSONIndex.getClusterExpansionZoom(Ce.clusterId))}catch(ct){je(ct)}}getClusterChildren(Ce,je){try{je(null,this._geoJSONIndex.getChildren(Ce.clusterId))}catch(ct){je(ct)}}getClusterLeaves(Ce,je){try{je(null,this._geoJSONIndex.getLeaves(Ce.clusterId,Ce.limit,Ce.offset))}catch(ct){je(ct)}}}class Zn{constructor(Ce){this.self=Ce,this.actor=new l.Actor(Ce,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=l.getProjection({name:"mercator"}),this.workerSourceTypes={vector:l.VectorTileWorkerSource,geojson:Br},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(je,ct)=>{if(this.workerSourceTypes[je])throw new Error(`Worker source with name "${je}" already registered.`);this.workerSourceTypes[je]=ct},this.self.registerRTLTextPlugin=je=>{if(l.plugin.isParsed())throw new Error("RTL text plugin already registered.");l.plugin.applyArabicShaping=je.applyArabicShaping,l.plugin.processBidirectionalText=je.processBidirectionalText,l.plugin.processStyledBidirectionalText=je.processStyledBidirectionalText}}clearCaches(Ce,je,ct){delete this.layerIndexes[Ce],delete this.availableImages[Ce],delete this.workerSources[Ce],delete this.demWorkerSources[Ce],ct()}checkIfReady(Ce,je,ct){ct()}setReferrer(Ce,je){this.referrer=je}spriteLoaded(Ce,je){this.isSpriteLoaded[Ce]=je;for(const ct in this.workerSources[Ce]){const mt=this.workerSources[Ce][ct];for(const It in mt)mt[It]instanceof l.VectorTileWorkerSource&&(mt[It].isSpriteLoaded=je,mt[It].fire(new l.Event("isSpriteLoaded")))}}setImages(Ce,je,ct){this.availableImages[Ce]=je;for(const mt in this.workerSources[Ce]){const It=this.workerSources[Ce][mt];for(const Bt in It)It[Bt].availableImages=je}ct()}enableTerrain(Ce,je,ct){this.terrain=je,ct()}setProjection(Ce,je){this.projections[Ce]=l.getProjection(je)}setLayers(Ce,je,ct){this.getLayerIndex(Ce).replace(je),ct()}updateLayers(Ce,je,ct){this.getLayerIndex(Ce).update(je.layers,je.removedIds),ct()}loadTile(Ce,je,ct){const mt=this.enableTerrain?l.extend({enableTerrain:this.terrain},je):je;mt.projection=this.projections[Ce]||this.defaultProjection,this.getWorkerSource(Ce,je.type,je.source).loadTile(mt,ct)}loadDEMTile(Ce,je,ct){const mt=this.enableTerrain?l.extend({buildQuadTree:this.terrain},je):je;this.getDEMWorkerSource(Ce,je.source).loadTile(mt,ct)}reloadTile(Ce,je,ct){const mt=this.enableTerrain?l.extend({enableTerrain:this.terrain},je):je;mt.projection=this.projections[Ce]||this.defaultProjection,this.getWorkerSource(Ce,je.type,je.source).reloadTile(mt,ct)}abortTile(Ce,je,ct){this.getWorkerSource(Ce,je.type,je.source).abortTile(je,ct)}removeTile(Ce,je,ct){this.getWorkerSource(Ce,je.type,je.source).removeTile(je,ct)}removeSource(Ce,je,ct){if(!this.workerSources[Ce]||!this.workerSources[Ce][je.type]||!this.workerSources[Ce][je.type][je.source])return;const mt=this.workerSources[Ce][je.type][je.source];delete this.workerSources[Ce][je.type][je.source],mt.removeSource!==void 0?mt.removeSource(je,ct):ct()}loadWorkerSource(Ce,je,ct){try{this.self.importScripts(je.url),ct()}catch(mt){ct(mt.toString())}}syncRTLPluginState(Ce,je,ct){try{l.plugin.setState(je);const mt=l.plugin.getPluginURL();if(l.plugin.isLoaded()&&!l.plugin.isParsed()&&mt!=null){this.self.importScripts(mt);const It=l.plugin.isParsed();ct(It?void 0:new Error(`RTL Text Plugin failed to import scripts from ${mt}`),It)}}catch(mt){ct(mt.toString())}}getAvailableImages(Ce){let je=this.availableImages[Ce];return je||(je=[]),je}getLayerIndex(Ce){let je=this.layerIndexes[Ce];return je||(je=this.layerIndexes[Ce]=new q),je}getWorkerSource(Ce,je,ct){if(this.workerSources[Ce]||(this.workerSources[Ce]={}),this.workerSources[Ce][je]||(this.workerSources[Ce][je]={}),!this.workerSources[Ce][je][ct]){const mt={send:(It,Bt,_e,n,o,g)=>{this.actor.send(It,Bt,_e,Ce,o,g)},scheduler:this.actor.scheduler};this.workerSources[Ce][je][ct]=new this.workerSourceTypes[je](mt,this.getLayerIndex(Ce),this.getAvailableImages(Ce),this.isSpriteLoaded[Ce])}return this.workerSources[Ce][je][ct]}getDEMWorkerSource(Ce,je){return this.demWorkerSources[Ce]||(this.demWorkerSources[Ce]={}),this.demWorkerSources[Ce][je]||(this.demWorkerSources[Ce][je]=new J),this.demWorkerSources[Ce][je]}enforceCacheSizeLimit(Ce,je){l.enforceCacheSizeLimit(je)}getWorkerPerformanceMetrics(Ce,je,ct){ct(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Zn(self)),Zn}),x(["./shared"],function(l){function L(f,i){if(Array.isArray(f)){if(!Array.isArray(i)||f.length!==i.length)return!1;for(let c=0;c<f.length;c++)if(!L(f[c],i[c]))return!1;return!0}if(typeof f=="object"&&f!==null&&i!==null){if(typeof i!="object"||Object.keys(f).length!==Object.keys(i).length)return!1;for(const c in f)if(!L(f[c],i[c]))return!1;return!0}return f===i}var H=q;function q(f){return!function(i){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var v,T,A=new Blob([""],{type:"text/javascript"}),R=URL.createObjectURL(A);try{T=new Worker(R),v=!0}catch{v=!1}return T&&T.terminate(),URL.revokeObjectURL(R),v}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var v=document.createElement("canvas");v.width=v.height=1;var T=v.getContext("2d");if(!T)return!1;var A=T.getImageData(0,0,1,1);return A&&A.width===v.width}()?(J[c=i&&i.failIfMajorPerformanceCaveat]===void 0&&(J[c]=function(v){var T,A=function(R){var V=document.createElement("canvas"),G=Object.create(q.webGLContextAttributes);return G.failIfMajorPerformanceCaveat=R,V.getContext("webgl",G)||V.getContext("experimental-webgl",G)}(v);if(!A)return!1;try{T=A.createShader(A.VERTEX_SHADER)}catch{return!1}return!(!T||A.isContextLost())&&(A.shaderSource(T,"void main() {}"),A.compileShader(T),A.getShaderParameter(T,A.COMPILE_STATUS)===!0)}(c)),J[c]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var c}(f)}var J={};function oe(f,i,c){const v=l.window.document.createElement(f);return i!==void 0&&(v.className=i),c&&c.appendChild(v),v}function de(f,i,c){const v=l.window.document.createElementNS("http://www.w3.org/2000/svg",f);for(const T of Object.keys(i))v.setAttributeNS(null,T,i[T]);return c&&c.appendChild(v),v}q.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ye=l.window.document&&l.window.document.documentElement.style,ne=ye&&ye.userSelect!==void 0?"userSelect":"WebkitUserSelect";let X;function pe(){ye&&ne&&(X=ye[ne],ye[ne]="none")}function ve(){ye&&ne&&(ye[ne]=X)}function me(f){f.preventDefault(),f.stopPropagation(),l.window.removeEventListener("click",me,!0)}function it(){l.window.addEventListener("click",me,!0),l.window.setTimeout(()=>{l.window.removeEventListener("click",me,!0)},0)}function Ye(f,i){const c=f.getBoundingClientRect();return St(f,c,i)}function Q(f,i){const c=f.getBoundingClientRect(),v=[];for(let T=0;T<i.length;T++)v.push(St(f,c,i[T]));return v}function Dt(f){return l.window.InstallTrigger!==void 0&&f.button===2&&f.ctrlKey&&l.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:f.button}function St(f,i,c){const v=f.offsetWidth===i.width?1:f.offsetWidth/i.width;return new l.pointGeometry((c.clientX-i.left)*v,(c.clientY-i.top)*v)}function At(f,i){var c=i[0],v=i[1],T=i[2],A=i[3],R=c*A-T*v;return R?(f[0]=A*(R=1/R),f[1]=-v*R,f[2]=-T*R,f[3]=c*R,f):null}function ui(f){const{userImage:i}=f;return!!(i&&i.render&&i.render())&&(f.data.replace(new Uint8Array(i.data.buffer)),!0)}class Ue extends l.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:c,callback:v}of this.requestors)this._notify(c,v);this.requestors=[]}}hasImage(i){return!!this.getImage(i)}getImage(i){return this.images[i]}addImage(i,c){this._validate(i,c)&&(this.images[i]=c)}_validate(i,c){let v=!0;return this._validateStretch(c.stretchX,c.data&&c.data.width)||(this.fire(new l.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),v=!1),this._validateStretch(c.stretchY,c.data&&c.data.height)||(this.fire(new l.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),v=!1),this._validateContent(c.content,c)||(this.fire(new l.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),v=!1),v}_validateStretch(i,c){if(!i)return!0;let v=0;for(const T of i){if(T[0]<v||T[1]<T[0]||c<T[1])return!1;v=T[1]}return!0}_validateContent(i,c){return!(i&&(i.length!==4||i[0]<0||c.data.width<i[0]||i[1]<0||c.data.height<i[1]||i[2]<0||c.data.width<i[2]||i[3]<0||c.data.height<i[3]||i[2]<i[0]||i[3]<i[1]))}updateImage(i,c){c.version=this.images[i].version+1,this.images[i]=c,this.updatedImages[i]=!0}removeImage(i){const c=this.images[i];delete this.images[i],delete this.patterns[i],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,c){let v=!0;if(!this.isLoaded())for(const T of i)this.images[T]||(v=!1);this.isLoaded()||v?this._notify(i,c):this.requestors.push({ids:i,callback:c})}_notify(i,c){const v={};for(const T of i){this.images[T]||this.fire(new l.Event("styleimagemissing",{id:T}));const A=this.images[T];A?v[T]={data:A.data.clone(),pixelRatio:A.pixelRatio,sdf:A.sdf,version:A.version,stretchX:A.stretchX,stretchY:A.stretchY,content:A.content,hasRenderCallback:Boolean(A.userImage&&A.userImage.render)}:l.warnOnce(`Image "${T}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}c(null,v)}getPixelSize(){const{width:i,height:c}=this.atlasImage;return{width:i,height:c}}getPattern(i){const c=this.patterns[i],v=this.getImage(i);if(!v)return null;if(c&&c.position.version===v.version)return c.position;if(c)c.position.version=v.version;else{const T={w:v.data.width+2,h:v.data.height+2,x:0,y:0},A=new l.ImagePosition(T,v);this.patterns[i]={bin:T,position:A}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const c=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l.Texture(i,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const A in this.patterns)i.push(this.patterns[A].bin);const{w:c,h:v}=l.potpack(i),T=this.atlasImage;T.resize({width:c||1,height:v||1});for(const A in this.patterns){const{bin:R}=this.patterns[A],V=R.x+1,G=R.y+1,ie=this.images[A].data,ae=ie.width,be=ie.height;l.RGBAImage.copy(ie,T,{x:0,y:0},{x:V,y:G},{width:ae,height:be}),l.RGBAImage.copy(ie,T,{x:0,y:be-1},{x:V,y:G-1},{width:ae,height:1}),l.RGBAImage.copy(ie,T,{x:0,y:0},{x:V,y:G+be},{width:ae,height:1}),l.RGBAImage.copy(ie,T,{x:ae-1,y:0},{x:V-1,y:G},{width:1,height:be}),l.RGBAImage.copy(ie,T,{x:0,y:0},{x:V+ae,y:G},{width:1,height:be})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const c of i){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const v=this.images[c];ui(v)&&this.updateImage(c,v)}}}const Pe=new l.Properties({anchor:new l.DataConstantProperty(l.spec.light.anchor),position:new class{constructor(){this.specification=l.spec.light.position}possiblyEvaluate(f,i){return function([c,v,T]){const A=l.degToRad(v+90),R=l.degToRad(T);return{x:c*Math.cos(A)*Math.sin(R),y:c*Math.sin(A)*Math.sin(R),z:c*Math.cos(R),azimuthal:v,polar:T}}(f.expression.evaluate(i))}interpolate(f,i,c){return{x:l.number(f.x,i.x,c),y:l.number(f.y,i.y,c),z:l.number(f.z,i.z,c),azimuthal:l.number(f.azimuthal,i.azimuthal,c),polar:l.number(f.polar,i.polar,c)}}},color:new l.DataConstantProperty(l.spec.light.color),intensity:new l.DataConstantProperty(l.spec.light.intensity)}),De="-transition";class te extends l.Evented{constructor(i){super(),this._transitionable=new l.Transitionable(Pe),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,c={}){if(!this._validate(l.validateLight,i,c))for(const v in i){const T=i[v];l.endsWith(v,De)?this._transitionable.setTransition(v.slice(0,-De.length),T):this._transitionable.setValue(v,T)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,c,v){return(!v||v.validate!==!1)&&l.emitValidationErrors(this,i.call(l.validateStyle,l.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:l.spec})))}}const fe=new l.Properties({source:new l.DataConstantProperty(l.spec.terrain.source),exaggeration:new l.DataConstantProperty(l.spec.terrain.exaggeration)}),le="-transition";class Se extends l.Evented{constructor(i,c){super(),this._transitionable=new l.Transitionable(fe),this.set(i),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=c}get(){return this._transitionable.serialize()}set(i){for(const c in i){const v=i[c];l.endsWith(c,le)?this._transitionable.setTransition(c.slice(0,-le.length),v):this._transitionable.setValue(c,v)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}}function Re(f,i,c,v){const T=l.smoothstep(45,65,c),[A,R]=ot(f,v),V=l.length(i);let G=1-Math.min(1,Math.exp((V-A)/(R-A)*-6));return G*=G*G,G=Math.min(1,1.00747*G),G*T*f.alpha}function ot(f,i){const c=.5/Math.tan(.5*i);return[f.range[0]+c,f.range[1]+c]}const ht=new l.Properties({range:new l.DataConstantProperty(l.spec.fog.range),color:new l.DataConstantProperty(l.spec.fog.color),"high-color":new l.DataConstantProperty(l.spec.fog["high-color"]),"space-color":new l.DataConstantProperty(l.spec.fog["space-color"]),"horizon-blend":new l.DataConstantProperty(l.spec.fog["horizon-blend"]),"star-intensity":new l.DataConstantProperty(l.spec.fog["star-intensity"])}),Pt="-transition";class Ne extends l.Evented{constructor(i,c){super(),this._transitionable=new l.Transitionable(ht),this.set(i),this._transitioning=this._transitionable.untransitioned(),this._transform=c}get state(){const i=this._transform,c=i.projection.name==="globe",v=l.globeToMercatorTransition(i.zoom),T=this.properties.get("range"),A=[.5,3];return{range:c?[l.number(A[0],T[0],v),l.number(A[1],T[1],v)]:T,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(i,c={}){if(!this._validate(l.validateFog,i,c)){for(const v of Object.keys(l.spec.fog))i&&i[v]===void 0&&(i[v]=l.spec.fog[v].default);for(const v in i){const T=i[v];l.endsWith(v,Pt)?this._transitionable.setTransition(v.slice(0,-Pt.length),T):this._transitionable.setValue(v,T)}}}getOpacity(i){if(!this._transform.projection.supportsFog)return 0;const c=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:l.smoothstep(45,65,i))*c.a}getOpacityAtLatLng(i,c){return this._transform.projection.supportsFog?function(v,T,A){const R=l.MercatorCoordinate.fromLngLat(T),V=A.elevation?A.elevation.getAtPointOrZero(R):0,G=[R.x,R.y,V];return l.transformMat4(G,G,A.mercatorFogMatrix),Re(v,G,A.pitch,A._fov)}(this.state,i,c):0}getFovAdjustedRange(i){return this._transform.projection.supportsFog?ot(this.state,i):[0,1]}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,c,v){return(!v||v.validate!==!1)&&l.emitValidationErrors(this,i.call(l.validateStyle,l.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:l.spec})))}}class Ze{constructor(i,c){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=l.uniqueId();const v=this.workerPool.acquire(this.id);for(let T=0;T<v.length;T++){const A=new Ze.Actor(v[T],c,this.id);A.name=`Worker ${T}`,this.actors.push(A)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(i,c,v){l.asyncAll(this.actors,(T,A)=>{T.send(i,c,A)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(i=>{i.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ie(f,i,c){return i*(l.EXTENT/(f.tileSize*Math.pow(2,c-f.tileID.overscaledZ)))}Ze.Actor=l.Actor;class We{constructor(i,c,v,T){this.screenBounds=i,this.cameraPoint=c,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=v,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,T)}static createFromScreenPoints(i,c){let v,T;if(i instanceof l.pointGeometry||typeof i[0]=="number"){const A=l.pointGeometry.convert(i);v=[A],T=c.isPointAboveHorizon(A)}else{const A=l.pointGeometry.convert(i[0]),R=l.pointGeometry.convert(i[1]);v=[A,R],T=l.polygonizeBounds(A,R).every(V=>c.isPointAboveHorizon(V))}return new We(v,c.getCameraPoint(),T,c)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(i){return l.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],i)}bufferedCameraGeometry(i){const c=this.screenBounds[0],v=this.screenBounds.length===1?this.screenBounds[0].add(new l.pointGeometry(1,1)):this.screenBounds[1],T=l.polygonizeBounds(c,v,0,!1);return this.cameraPoint.y>v.y&&(this.cameraPoint.x>c.x&&this.cameraPoint.x<v.x?T.splice(3,0,this.cameraPoint):this.cameraPoint.x>=v.x?T[2]=this.cameraPoint:this.cameraPoint.x<=c.x&&(T[3]=this.cameraPoint)),l.bufferConvexPolygon(T,i)}bufferedCameraGeometryGlobe(i){const c=this.screenBounds[0],v=this.screenBounds.length===1?this.screenBounds[0].add(new l.pointGeometry(1,1)):this.screenBounds[1],T=l.polygonizeBounds(c,v,i),A=this.cameraPoint.clone();switch(3*((A.y>c.y)+(A.y>v.y))+((A.x>c.x)+(A.x>v.x))){case 0:T[0]=A,T[4]=A.clone();break;case 1:T.splice(1,0,A);break;case 2:T[1]=A;break;case 3:T.splice(4,0,A);break;case 5:T.splice(2,0,A);break;case 6:T[3]=A;break;case 7:T.splice(3,0,A);break;case 8:T[2]=A}return T}containsTile(i,c,v,T=0){const A=i.queryPadding/c._pixelsPerMercatorPixel+1,R=v?this._bufferedCameraMercator(A,c):this._bufferedScreenMercator(A,c);let V=i.tileID.wrap+(R.unwrapped?T:0);const G=R.polygon.map(Xe=>l.getTilePoint(i.tileTransform,Xe,V));if(!l.polygonIntersectsBox(G,0,0,l.EXTENT,l.EXTENT))return;V=i.tileID.wrap+(this.screenGeometryMercator.unwrapped?T:0);const ie=this.screenGeometryMercator.polygon.map(Xe=>l.getTileVec3(i.tileTransform,Xe,V)),ae=ie.map(Xe=>new l.pointGeometry(Xe[0],Xe[1])),be=c.getFreeCameraOptions().position||new l.MercatorCoordinate(0,0,0),Fe=l.getTileVec3(i.tileTransform,be,V),$e=ie.map(Xe=>{const qe=l.sub(Xe,Xe,Fe);return l.normalize(qe,qe),new l.Ray(Fe,qe)}),Je=Ie(i,1,c.zoom)*c._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:ae,tilespaceRays:$e,bufferedTilespaceGeometry:G,bufferedTilespaceBounds:(tt=l.getBounds(G),tt.min.x=l.clamp(tt.min.x,0,l.EXTENT),tt.min.y=l.clamp(tt.min.y,0,l.EXTENT),tt.max.x=l.clamp(tt.max.x,0,l.EXTENT),tt.max.y=l.clamp(tt.max.y,0,l.EXTENT),tt),tile:i,tileID:i.tileID,pixelToTileUnitsFactor:Je};var tt}_bufferedScreenMercator(i,c){const v=hi(i);if(this._screenRaycastCache[v])return this._screenRaycastCache[v];{let T;return T=c.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(i),c):{polygon:this.bufferedScreenGeometry(i).map(A=>c.pointCoordinate3D(A)),unwrapped:!0},this._screenRaycastCache[v]=T,T}}_bufferedCameraMercator(i,c){const v=hi(i);if(this._cameraRaycastCache[v])return this._cameraRaycastCache[v];{let T;return T=c.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(i),c):{polygon:this.bufferedCameraGeometry(i).map(A=>c.pointCoordinate3D(A)),unwrapped:!0},this._cameraRaycastCache[v]=T,T}}_projectAndResample(i,c){const v=function(A,R){const V=l.multiply([],R.pixelMatrix,R.globeMatrix),G=[0,-l.GLOBE_RADIUS,0,1],ie=[0,l.GLOBE_RADIUS,0,1],ae=[0,0,0,1];l.transformMat4$1(G,G,V),l.transformMat4$1(ie,ie,V),l.transformMat4$1(ae,ae,V);const be=new l.pointGeometry(G[0]/G[3],G[1]/G[3]),Fe=new l.pointGeometry(ie[0]/ie[3],ie[1]/ie[3]),$e=l.polygonContainsPoint(A,be)&&G[3]<ae[3],Je=l.polygonContainsPoint(A,Fe)&&ie[3]<ae[3];if(!$e&&!Je)return null;const tt=function(Lt,qt,Yt){for(let jt=1;jt<Lt.length;jt++){const ki=Ot(qt.pointCoordinate3D(Lt[jt-1]).x),$t=Ot(qt.pointCoordinate3D(Lt[jt]).x);if(Yt<0){if(ki<$t)return{idx:jt,t:-ki/($t-1-ki)}}else if($t<ki)return{idx:jt,t:(1-ki)/($t+1-ki)}}return null}(A,R,$e?-1:1);if(!tt)return null;const{idx:Xe,t:qe}=tt;let lt=Xe>1?rt(A.slice(0,Xe),R):[],st=Xe<A.length?rt(A.slice(Xe),R):[];lt=lt.map(Lt=>new l.pointGeometry(Ot(Lt.x),Lt.y)),st=st.map(Lt=>new l.pointGeometry(Ot(Lt.x),Lt.y));const pt=[...lt];pt.length===0&&pt.push(st[st.length-1]);const bt=l.number(pt[pt.length-1].y,(st.length===0?lt[0]:st[0]).y,qe);let xt;return xt=$e?[new l.pointGeometry(0,bt),new l.pointGeometry(0,0),new l.pointGeometry(1,0),new l.pointGeometry(1,bt)]:[new l.pointGeometry(1,bt),new l.pointGeometry(1,1),new l.pointGeometry(0,1),new l.pointGeometry(0,bt)],pt.push(...xt),st.length===0?pt.push(lt[0]):pt.push(...st),{polygon:pt.map(Lt=>new l.MercatorCoordinate(Lt.x,Lt.y)),unwrapped:!1}}(i,c);if(v)return v;const T=function(A,R){let V=!1,G=-1/0,ie=0;for(let be=0;be<A.length-1;be++)A[be].x>G&&(G=A[be].x,ie=be);for(let be=0;be<A.length-1;be++){const Fe=(ie+be)%(A.length-1),$e=A[Fe],Je=A[Fe+1];Math.abs($e.x-Je.x)>.5&&($e.x<Je.x?($e.x+=1,Fe===0&&(A[A.length-1].x+=1)):(Je.x+=1,Fe+1===A.length-1&&(A[0].x+=1)),V=!0)}const ae=l.mercatorXfromLng(R.center.lng);return V&&ae<Math.abs(ae-1)&&A.forEach(be=>{be.x-=1}),{polygon:A,unwrapped:V}}(rt(i,c).map(A=>new l.pointGeometry(Ot(A.x),A.y)),c);return{polygon:T.polygon.map(A=>new l.MercatorCoordinate(A.x,A.y)),unwrapped:T.unwrapped}}}function rt(f,i){return l.resample(f,c=>{const v=i.pointCoordinate3D(c);c.x=v.x,c.y=v.y},1/256)}function Ot(f){return f<0?1+f%1:f%1}function hi(f){return 100*f|0}function gi(f,i,c,v,T){const A=function(R,V){if(R)return T(R);if(V){f.url&&V.tiles&&f.tiles&&delete f.tiles;const G=l.pick(l.extend(V,f),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);V.vector_layers&&(G.vectorLayers=V.vector_layers,G.vectorLayerIds=G.vectorLayers.map(ie=>ie.id)),G.tiles=i.canonicalizeTileset(G,f.url),T(null,G)}};return f.url?l.getJSON(i.transformRequest(i.normalizeSourceURL(f.url,null,c,v),l.ResourceType.Source),A):l.exported.frame(()=>A(null,f))}class Li{constructor(i,c,v){this.bounds=l.LngLatBounds.convert(this.validateBounds(i)),this.minzoom=c||0,this.maxzoom=v||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const c=Math.pow(2,i.z),v=Math.floor(l.mercatorXfromLng(this.bounds.getWest())*c),T=Math.floor(l.mercatorYfromLat(this.bounds.getNorth())*c),A=Math.ceil(l.mercatorXfromLng(this.bounds.getEast())*c),R=Math.ceil(l.mercatorYfromLat(this.bounds.getSouth())*c);return i.x>=v&&i.x<A&&i.y>=T&&i.y<R}}class ur{constructor(i,c,v){this.context=i;const T=i.gl;this.buffer=T.createBuffer(),this.dynamicDraw=Boolean(v),this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),T.bufferData(T.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?T.DYNAMIC_DRAW:T.STATIC_DRAW),this.dynamicDraw||c.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Vt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class wi{constructor(i,c,v,T){this.length=c.length,this.attributes=v,this.itemSize=c.bytesPerElement,this.dynamicDraw=T,this.context=i;const A=i.gl;this.buffer=A.createBuffer(),i.bindVertexBuffer.set(this.buffer),A.bufferData(A.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||c.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,c){for(let v=0;v<this.attributes.length;v++){const T=c.attributes[this.attributes[v].name];T!==void 0&&i.enableVertexAttribArray(T)}}setVertexAttribPointers(i,c,v){for(let T=0;T<this.attributes.length;T++){const A=this.attributes[T],R=c.attributes[A.name];R!==void 0&&i.vertexAttribPointer(R,A.components,i[Vt[A.type]],!1,this.itemSize,A.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Mi{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ji extends Mi{getDefault(){return l.Color.transparent}set(i){const c=this.current;(i.r!==c.r||i.g!==c.g||i.b!==c.b||i.a!==c.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Ei extends Mi{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class Xi extends Mi{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Fi extends Mi{getDefault(){return[!0,!0,!0,!0]}set(i){const c=this.current;(i[0]!==c[0]||i[1]!==c[1]||i[2]!==c[2]||i[3]!==c[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Lr extends Mi{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class Vr extends Mi{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class si extends Mi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const c=this.current;(i.func!==c.func||i.ref!==c.ref||i.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class tr extends Mi{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const c=this.current;(i[0]!==c[0]||i[1]!==c[1]||i[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class yr extends Mi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;i?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=i,this.dirty=!1}}class ar extends Mi{getDefault(){return[0,1]}set(i){const c=this.current;(i[0]!==c[0]||i[1]!==c[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class Ir extends Mi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;i?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=i,this.dirty=!1}}class Ar extends Mi{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class En extends Mi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;i?c.enable(c.BLEND):c.disable(c.BLEND),this.current=i,this.dirty=!1}}class kn extends Mi{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const c=this.current;(i[0]!==c[0]||i[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class oa extends Mi{getDefault(){return l.Color.transparent}set(i){const c=this.current;(i.r!==c.r||i.g!==c.g||i.b!==c.b||i.a!==c.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Ge extends Mi{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class ma extends Mi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;i?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=i,this.dirty=!1}}class ra extends Mi{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class mn extends Mi{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class na extends Mi{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Ua extends Mi{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class jn extends Mi{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const c=this.current;(i[0]!==c[0]||i[1]!==c[1]||i[2]!==c[2]||i[3]!==c[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class gn extends Mi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class qr extends Mi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Pa extends Mi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Oa extends Mi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Ur extends Mi{getDefault(){return null}set(i){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Vn extends Mi{constructor(i){super(i),this.vao=i.extVertexArrayObject}getDefault(){return null}set(i){this.vao&&(i!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(i),this.current=i,this.dirty=!1)}}class cs extends Mi{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class ga extends Mi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class Xn extends Mi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Ga extends Mi{constructor(i,c){super(i),this.context=i,this.parent=c}getDefault(){return null}}class tn extends Ga{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Br extends Ga{attachment(){return this.gl.DEPTH_ATTACHMENT}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,this.attachment(),c.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Zn extends Br{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ut{constructor(i,c,v,T){this.context=i,this.width=c,this.height=v;const A=this.framebuffer=i.gl.createFramebuffer();this.colorAttachment=new tn(i,A),T&&(this.depthAttachment=new Br(i,A))}destroy(){const i=this.context.gl,c=this.colorAttachment.get();if(c&&i.deleteTexture(c),this.depthAttachment){const v=this.depthAttachment.get();v&&i.deleteRenderbuffer(v)}i.deleteFramebuffer(this.framebuffer)}}class Ce{constructor(i){this.gl=i,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ji(this),this.clearDepth=new Ei(this),this.clearStencil=new Xi(this),this.colorMask=new Fi(this),this.depthMask=new Lr(this),this.stencilMask=new Vr(this),this.stencilFunc=new si(this),this.stencilOp=new tr(this),this.stencilTest=new yr(this),this.depthRange=new ar(this),this.depthTest=new Ir(this),this.depthFunc=new Ar(this),this.blend=new En(this),this.blendFunc=new kn(this),this.blendColor=new oa(this),this.blendEquation=new Ge(this),this.cullFace=new ma(this),this.cullFaceSide=new ra(this),this.frontFace=new mn(this),this.program=new na(this),this.activeTexture=new Ua(this),this.viewport=new jn(this),this.bindFramebuffer=new gn(this),this.bindRenderbuffer=new qr(this),this.bindTexture=new Pa(this),this.bindVertexBuffer=new Oa(this),this.bindElementBuffer=new Ur(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Vn(this),this.pixelStoreUnpack=new cs(this),this.pixelStoreUnpackPremultiplyAlpha=new ga(this),this.pixelStoreUnpackFlipY=new Xn(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=i.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=i.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=i.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=i.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(i.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=i.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=i.getExtension("OES_standard_derivatives"),this.extTimerQuery=i.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,c){return new ur(this,i,c)}createVertexBuffer(i,c,v){return new wi(this,i,c,v)}createRenderbuffer(i,c,v){const T=this.gl,A=T.createRenderbuffer();return this.bindRenderbuffer.set(A),T.renderbufferStorage(T.RENDERBUFFER,i,c,v),this.bindRenderbuffer.set(null),A}createFramebuffer(i,c,v){return new ut(this,i,c,v)}clear({color:i,depth:c,stencil:v}){const T=this.gl;let A=0;i&&(A|=T.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(A|=T.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),v!==void 0&&(A|=T.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),T.clear(A)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){L(i.blendFunction,l.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class je extends l.Evented{constructor(i,c,v,T){super(),this.id=i,this.dispatcher=v,this.setEventedParent(T),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.extend({type:"raster"},c),l.extend(this,l.pick(c,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=gi(this._options,this.map._requestManager,null,null,(i,c)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new l.ErrorEvent(i)):c&&(l.extend(this,c),c.bounds&&(this.tileBounds=new Li(c.bounds,this.minzoom,this.maxzoom)),l.postTurnstileEvent(c.tiles),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return l.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,c){const v=l.exported.devicePixelRatio>=2,T=this.map._requestManager.normalizeTileURL(i.tileID.canonical.url(this.tiles,this.scheme),v,this.tileSize);i.request=l.getImage(this.map._requestManager.transformRequest(T,l.ResourceType.Tile),(A,R,V,G)=>(delete i.request,i.aborted?(i.state="unloaded",c(null)):A?(i.state="errored",c(A)):R?(this.map._refreshExpiredTiles&&i.setExpiryData({cacheControl:V,expires:G}),i.setTexture(R,this.map.painter),i.state="loaded",l.cacheEntryPossiblyAdded(this.dispatcher),void c(null)):c(null)))}static loadTileData(i,c,v){i.setTexture(c,v)}static unloadTileData(i,c){i.texture&&c.saveTileTexture(i.texture)}abortTile(i,c){i.request&&(i.request.cancel(),delete i.request),c()}unloadTile(i,c){i.texture&&this.map.painter.saveTileTexture(i.texture),c()}hasTransition(){return!1}}let ct;function mt(f,i,c,v,T,A,R,V){const G=[f,c,T,i,v,A,1,1,1],ie=[R,V,1],ae=l.adjoint([],G),[be,Fe,$e]=l.transformMat3(ie,ie,l.transpose(ae,ae));return l.multiply$1(G,[be,0,0,0,Fe,0,0,0,$e],G)}class It extends l.Evented{constructor(i,c,v,T){super(),this.id=i,this.dispatcher=v,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(T),this.options=c,this._dirty=!1}load(i,c){this._loaded=c||!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=l.getImage(this.map._requestManager.transformRequest(this.url,l.ResourceType.Image),(v,T)=>{if(this._imageRequest=null,this._loaded=!0,v)this.fire(new l.ErrorEvent(v));else if(T){const{HTMLImageElement:A}=l.window;this.image=T instanceof A?l.exported.getImageData(T):T,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,i&&(this.coordinates=i),this._finishLoading()}})}loaded(){return this._loaded}updateImage(i){return this.image&&i.url?(this._imageRequest&&i.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=i.url,this.load(i.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(i){this.coordinates=i,this._boundsArray=void 0;const c=i.map(l.MercatorCoordinate.fromLngLat);return this.tileID=function(v){let T=1/0,A=1/0,R=-1/0,V=-1/0;for(const be of v)T=Math.min(T,be.x),A=Math.min(A,be.y),R=Math.max(R,be.x),V=Math.max(V,be.y);const G=Math.max(R-T,V-A),ie=Math.max(0,Math.floor(-Math.log(G)/Math.LN2)),ae=Math.pow(2,ie);return new l.CanonicalTileID(ie,Math.floor((T+R)/2*ae),Math.floor((A+V)/2*ae))}(c),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(i){for(const G in this.tiles){const ie=this.tiles[G];ie.state!=="loaded"&&(ie.state="loaded",ie.texture=this.texture)}if(this._boundsArray)return;const c=l.tileTransform(this.tileID,this.map.transform.projection),[v,T,A,R]=this.coordinates.map(G=>{const ie=c.projection.project(G[0],G[1]);return l.getTilePoint(c,ie)._round()});this.perspectiveTransform=function(G,ie,ae,be,Fe,$e,Je,tt,Xe,qe){const lt=mt(0,0,G,0,0,ie,G,ie),st=mt(ae,be,Fe,$e,Je,tt,Xe,qe);return l.multiply$1(st,l.adjoint(lt,lt),st),[st[6]/st[8]*G/l.EXTENT,st[7]/st[8]*ie/l.EXTENT]}(this.width,this.height,v.x,v.y,T.x,T.y,R.x,R.y,A.x,A.y);const V=this._boundsArray=new l.StructArrayLayout4i8;V.emplaceBack(v.x,v.y,0,0),V.emplaceBack(T.x,T.y,l.EXTENT,0),V.emplaceBack(R.x,R.y,0,l.EXTENT),V.emplaceBack(A.x,A.y,l.EXTENT,l.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=i.createVertexBuffer(V,l.boundsAttributes.members),this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,c=i.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new l.Texture(i,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(i)}loadTile(i,c){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},c(null)):(i.state="errored",c(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Bt={vector:class extends l.Evented{constructor(f,i,c,v){if(super(),this.id=f,this.dispatcher=c,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.extend(this,l.pick(i,["url","scheme","tileSize","promoteId"])),this._options=l.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v),this._tileWorkers={},this._deduped=new l.DedupedRequest}load(f){this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"}));const i=Array.isArray(this.map._language)?this.map._language.join():this.map._language,c=this.map._worldview;this._tileJSONRequest=gi(this._options,this.map._requestManager,i,c,(v,T)=>{this._tileJSONRequest=null,this._loaded=!0,v?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${i}`),c&&c.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${c}`),this.fire(new l.ErrorEvent(v))):T&&(l.extend(this,T),T.bounds&&(this.tileBounds=new Li(T.bounds,this.minzoom,this.maxzoom)),l.postTurnstileEvent(T.tiles,this.map._requestManager._customAccessToken),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"}))),f&&f(v)})}loaded(){return this._loaded}hasTile(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)}onAdd(f){this.map=f,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const f=this.map.style._getSourceCaches(this.id);for(const i of f)i.clearTiles()})}setSourceProperty(f){f(),this.reload()}setTiles(f){return this._options.tiles=f,this.reload(),this}setUrl(f){return this.url=f,this._options.url=f,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return l.extend({},this._options)}loadTile(f,i){const c=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme)),v={request:this.map._requestManager.transformRequest(c,l.ResourceType.Tile),data:void 0,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:l.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:f.isSymbolTile};if(v.request.collectResourceTiming=this._collectResourceTiming,f.actor&&f.state!=="expired")f.state==="loading"?f.reloadCallback=i:f.request=f.actor.send("reloadTile",v,T.bind(this));else if(f.actor=this._tileWorkers[c]=this._tileWorkers[c]||this.dispatcher.getActor(),this.dispatcher.ready)f.request=f.actor.send("loadTile",v,T.bind(this),void 0,!0);else{const A=l.loadVectorTile.call({deduped:this._deduped},v,(R,V)=>{R||!V?T.call(this,R):(v.data={cacheControl:V.cacheControl,expires:V.expires,rawData:V.rawData.slice(0)},f.actor&&f.actor.send("loadTile",v,T.bind(this),void 0,!0))},!0);f.request={cancel:A}}function T(A,R){return delete f.request,f.aborted?i(null):A&&A.status!==404?i(A):(R&&R.resourceTiming&&(f.resourceTiming=R.resourceTiming),this.map._refreshExpiredTiles&&R&&f.setExpiryData(R),f.loadVectorData(R,this.map.painter),l.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(f.reloadCallback&&(this.loadTile(f,f.reloadCallback),f.reloadCallback=null)))}}abortTile(f){f.request&&(f.request.cancel(),delete f.request),f.actor&&f.actor.send("abortTile",{uid:f.uid,type:this.type,source:this.id})}unloadTile(f){f.unloadVectorData(),f.actor&&f.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:je,"raster-dem":class extends je{constructor(f,i,c,v){super(f,i,c,v),this.type="raster-dem",this.maxzoom=22,this._options=l.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}loadTile(f,i){const c=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function v(T,A){T&&(f.state="errored",i(T)),A&&(f.dem=A,f.dem.onDeserialize(),f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0,f.state="loaded",i(null))}f.request=l.getImage(this.map._requestManager.transformRequest(c,l.ResourceType.Tile),function(T,A,R,V){if(delete f.request,f.aborted)f.state="unloaded",i(null);else if(T)f.state="errored",i(T);else if(A){this.map._refreshExpiredTiles&&f.setExpiryData({cacheControl:R,expires:V});const G=l.window.ImageBitmap&&A instanceof l.window.ImageBitmap&&(ct==null&&(ct=l.window.OffscreenCanvas&&new l.window.OffscreenCanvas(1,1).getContext("2d")&&typeof l.window.createImageBitmap=="function"),ct),ie=1-(A.width-l.prevPowerOfTwo(A.width))/2;ie<1||f.neighboringTiles||(f.neighboringTiles=this._getNeighboringTiles(f.tileID));const ae=G?A:l.exported.getImageData(A,ie),be={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:ae,encoding:this.encoding,padding:ie};f.actor&&f.state!=="expired"||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",be,v.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(f){const i=f.canonical,c=Math.pow(2,i.z),v=(i.x-1+c)%c,T=i.x===0?f.wrap-1:f.wrap,A=(i.x+1+c)%c,R=i.x+1===c?f.wrap+1:f.wrap,V={};return V[new l.OverscaledTileID(f.overscaledZ,T,i.z,v,i.y).key]={backfilled:!1},V[new l.OverscaledTileID(f.overscaledZ,R,i.z,A,i.y).key]={backfilled:!1},i.y>0&&(V[new l.OverscaledTileID(f.overscaledZ,T,i.z,v,i.y-1).key]={backfilled:!1},V[new l.OverscaledTileID(f.overscaledZ,f.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},V[new l.OverscaledTileID(f.overscaledZ,R,i.z,A,i.y-1).key]={backfilled:!1}),i.y+1<c&&(V[new l.OverscaledTileID(f.overscaledZ,T,i.z,v,i.y+1).key]={backfilled:!1},V[new l.OverscaledTileID(f.overscaledZ,f.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},V[new l.OverscaledTileID(f.overscaledZ,R,i.z,A,i.y+1).key]={backfilled:!1}),V}unloadTile(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded"}},geojson:class extends l.Evented{constructor(f,i,c,v){super(),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=c.getActor(),this.setEventedParent(v),this._data=i.data,this._options=l.extend({},i),this._collectResourceTiming=i.collectResourceTiming,i.maxzoom!==void 0&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const T=l.EXTENT/this.tileSize;this.workerOptions=l.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(i.buffer!==void 0?i.buffer:128)*T,tolerance:(i.tolerance!==void 0?i.tolerance:.375)*T,extent:l.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:i.clusterMaxZoom!==void 0?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:l.EXTENT,radius:(i.clusterRadius!==void 0?i.clusterRadius:50)*T,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}onAdd(f){this.map=f,this.setData(this._data)}setData(f){return this._data=f,this._updateWorkerData(),this}getClusterExpansionZoom(f,i){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},i),this}getClusterChildren(f,i){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},i),this}getClusterLeaves(f,i,c,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:i,offset:c},v),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new l.Event("dataloading",{dataType:"source"})),this._loaded=!1;const f=l.extend({},this.workerOptions),i=this._data;typeof i=="string"?(f.request=this.map._requestManager.transformRequest(l.exported.resolveURL(i),l.ResourceType.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,f,(c,v)=>{if(this._loaded=!0,this._pendingLoad=null,c)this.fire(new l.ErrorEvent(c));else{const T={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&v&&v.resourceTiming&&v.resourceTiming[this.id]&&(T.resourceTiming=v.resourceTiming[this.id]),this.fire(new l.Event("data",T)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(f,i){const c=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(c,{type:this.type,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:l.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(v,T)=>(delete f.request,f.unloadVectorData(),f.aborted?i(null):v?i(v):(f.loadVectorData(T,this.map.painter,c==="reloadTile"),i(null))),void 0,c==="loadTile")}abortTile(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0}unloadTile(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return l.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends It{constructor(f,i,c,v){super(f,i,c,v),this.roundZoom=!0,this.type="video",this.options=i}load(){this._loaded=!1;const f=this.options;this.urls=[];for(const i of f.urls)this.urls.push(this.map._requestManager.transformRequest(i,l.ResourceType.Source).url);l.getVideo(this.urls,(i,c)=>{this._loaded=!0,i?this.fire(new l.ErrorEvent(i)):c&&(this.video=c,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(f){if(this.video){const i=this.video.seekable;f<i.start(0)||f>i.end(0)?this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=f}}getVideo(){return this.video}onAdd(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const f=this.map.painter.context,i=f.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new l.Texture(f,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(f)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:It,canvas:class extends It{constructor(f,i,c,v){super(f,i,c,v),i.coordinates?Array.isArray(i.coordinates)&&i.coordinates.length===4&&!i.coordinates.some(T=>!Array.isArray(T)||T.length!==2||T.some(A=>typeof A!="number"))||this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${f}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${f}`,null,'missing required property "coordinates"'))),i.animate&&typeof i.animate!="boolean"&&this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${f}`,null,'optional "animate" property must be a boolean value'))),i.canvas?typeof i.canvas=="string"||i.canvas instanceof l.window.HTMLCanvasElement||this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${f}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${f}`,null,'missing required property "canvas"'))),this.options=i,this.animate=i.animate===void 0||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof l.window.HTMLCanvasElement?this.options.canvas:l.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const i=this.map.painter.context;this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new l.Texture(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const f of[this.canvas.width,this.canvas.height])if(isNaN(f)||f<=0)return!0;return!1}},custom:class extends l.Evented{constructor(f,i,c,v){super(),this.id=f,this.type="custom",this._dataType="raster",this._dispatcher=c,this._implementation=i,this.setEventedParent(v),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new l.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new l.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Li(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.clearTiles=this._clearTiles.bind(this),i.coveringTiles=this._coveringTiles.bind(this),l.extend(this,l.pick(i,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return l.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(f){this._map=f,this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(f),this.load()}onRemove(f){this._implementation.onRemove&&this._implementation.onRemove(f)}hasTile(f){if(this._implementation.hasTile){const{x:i,y:c,z:v}=f.canonical;return this._implementation.hasTile({x:i,y:c,z:v})}return!this.tileBounds||this.tileBounds.contains(f.canonical)}loadTile(f,i){const{x:c,y:v,z:T}=f.tileID.canonical,A=new l.window.AbortController;f.request=Promise.resolve(this._implementation.loadTile({x:c,y:v,z:T},{signal:A.signal})).then(function(R){return delete f.request,f.aborted?(f.state="unloaded",i(null)):R===void 0?(f.state="errored",i(null)):R===null?(this.loadTileData(f,{width:this.tileSize,height:this.tileSize,data:null}),f.state="loaded",i(null)):function(V){return V instanceof l.window.ImageData||V instanceof l.window.HTMLCanvasElement||V instanceof l.window.ImageBitmap||V instanceof l.window.HTMLImageElement}(R)?(this.loadTileData(f,R),f.state="loaded",void i(null)):(f.state="errored",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(R=>{R.code!==20&&(f.state="errored",i(R))}),f.request.cancel=()=>A.abort()}loadTileData(f,i){je.loadTileData(f,i,this._map.painter)}unloadTileData(f){je.unloadTileData(f,this._map.painter)}unloadTile(f,i){if(this.unloadTileData(f),this._implementation.unloadTile){const{x:c,y:v,z:T}=f.tileID.canonical;this._implementation.unloadTile({x:c,y:v,z:T})}i()}abortTile(f,i){f.request&&f.request.cancel&&(f.request.cancel(),delete f.request),i()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(f=>({x:f.canonical.x,y:f.canonical.y,z:f.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"}))}}},_e=function(f,i,c,v){const T=new Bt[i.type](f,i,c,v);if(T.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${T.id}`);return l.bindAll(["load","abort","unload","serialize","prepare"],T),T};function n(f,i){const c=l.identity([]);return l.scale(c,c,[.5*f.width,.5*-f.height,1]),l.translate(c,c,[1,-1,0]),l.multiply(c,c,f.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(c)}function o(f,i,c,v,T,A,R,V=!1){const G=f.tilesIn(v,R,V);G.sort(b);const ie=[];for(const be of G)ie.push({wrappedTileID:be.tile.tileID.wrapped().key,queryResults:be.tile.queryRenderedFeatures(i,c,f._state,be,T,A,n(f.transform,be.tile.tileID),V)});const ae=function(be){const Fe={},$e={};for(const Je of be){const tt=Je.queryResults,Xe=Je.wrappedTileID,qe=$e[Xe]=$e[Xe]||{};for(const lt in tt){const st=tt[lt],pt=qe[lt]=qe[lt]||{},bt=Fe[lt]=Fe[lt]||[];for(const xt of st)pt[xt.featureIndex]||(pt[xt.featureIndex]=!0,bt.push(xt))}}return Fe}(ie);for(const be in ae)ae[be].forEach(Fe=>{const $e=Fe.feature,Je=$e.layer;Je&&Je.type!=="background"&&Je.type!=="sky"&&($e.source=Je.source,Je["source-layer"]&&($e.sourceLayer=Je["source-layer"]),$e.state=$e.id!==void 0?f.getFeatureState(Je["source-layer"],$e.id):{})});return ae}function g(f,i){const c=f.getRenderableIds().map(A=>f.getTileByID(A)),v=[],T={};for(let A=0;A<c.length;A++){const R=c[A],V=R.tileID.canonical.key;T[V]||(T[V]=!0,R.querySourceFeatures(v,i))}return v}function b(f,i){const c=f.tileID,v=i.tileID;return c.overscaledZ-v.overscaledZ||c.canonical.y-v.canonical.y||c.wrap-v.wrap||c.canonical.x-v.canonical.x}function E(){return Y.workerClass!=null?new Y.workerClass:new l.window.Worker(Y.workerUrl)}const k="mapboxgl_preloaded_worker_pool";class C{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<C.workerCount;)this.workers.push(new E);return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[k]}numActive(){return Object.keys(this.active).length}}let P;function N(){return P||(P=new C),P}function W(f,i){const c={};for(const v in f)v!=="ref"&&(c[v]=f[v]);return l.refProperties.forEach(v=>{v in i&&(c[v]=i[v])}),c}function K(f){f=f.slice();const i=Object.create(null);for(let c=0;c<f.length;c++)i[f[c].id]=f[c];for(let c=0;c<f.length;c++)"ref"in f[c]&&(f[c]=W(f[c],i[f[c].ref]));return f}C.workerCount=2;const ee={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ue(f,i,c){c.push({command:ee.addSource,args:[f,i[f]]})}function we(f,i,c){i.push({command:ee.removeSource,args:[f]}),c[f]=!0}function Me(f,i,c,v){we(f,c,v),ue(f,i,c)}function Oe(f,i,c){let v;for(v in f[c])if(f[c].hasOwnProperty(v)&&v!=="data"&&!L(f[c][v],i[c][v]))return!1;for(v in i[c])if(i[c].hasOwnProperty(v)&&v!=="data"&&!L(f[c][v],i[c][v]))return!1;return!0}function He(f,i,c,v,T,A){let R;for(R in i=i||{},f=f||{})f.hasOwnProperty(R)&&(L(f[R],i[R])||c.push({command:A,args:[v,R,i[R],T]}));for(R in i)i.hasOwnProperty(R)&&!f.hasOwnProperty(R)&&(L(f[R],i[R])||c.push({command:A,args:[v,R,i[R],T]}))}function Le(f){return f.id}function gt(f,i){return f[i.id]=i,f}class B{constructor(i,c){this.reset(i,c)}reset(i,c){this.points=i||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=l.clamp(i,0,1);let c=1,v=this._distances[c];const T=i*this.paddedLength+this.padding;for(;v<T&&c<this._distances.length;)v=this._distances[++c];const A=c-1,R=this._distances[A],V=v-R,G=V>0?(T-R)/V:0;return this.points[A].mult(1-G).add(this.points[c].mult(G))}}class se{constructor(i,c,v){const T=this.boxCells=[],A=this.circleCells=[];this.xCellCount=Math.ceil(i/v),this.yCellCount=Math.ceil(c/v);for(let R=0;R<this.xCellCount*this.yCellCount;R++)T.push([]),A.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=c,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,c,v,T,A){this._forEachCell(c,v,T,A,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(c),this.bboxes.push(v),this.bboxes.push(T),this.bboxes.push(A)}insertCircle(i,c,v,T){this._forEachCell(c-T,v-T,c+T,v+T,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(c),this.circles.push(v),this.circles.push(T)}_insertBoxCell(i,c,v,T,A,R){this.boxCells[A].push(R)}_insertCircleCell(i,c,v,T,A,R){this.circleCells[A].push(R)}_query(i,c,v,T,A,R){if(v<0||i>this.width||T<0||c>this.height)return!A&&[];const V=[];if(i<=0&&c<=0&&this.width<=v&&this.height<=T){if(A)return!0;for(let G=0;G<this.boxKeys.length;G++)V.push({key:this.boxKeys[G],x1:this.bboxes[4*G],y1:this.bboxes[4*G+1],x2:this.bboxes[4*G+2],y2:this.bboxes[4*G+3]});for(let G=0;G<this.circleKeys.length;G++){const ie=this.circles[3*G],ae=this.circles[3*G+1],be=this.circles[3*G+2];V.push({key:this.circleKeys[G],x1:ie-be,y1:ae-be,x2:ie+be,y2:ae+be})}return R?V.filter(R):V}return this._forEachCell(i,c,v,T,this._queryCell,V,{hitTest:A,seenUids:{box:{},circle:{}}},R),A?V.length>0:V}_queryCircle(i,c,v,T,A){const R=i-v,V=i+v,G=c-v,ie=c+v;if(V<0||R>this.width||ie<0||G>this.height)return!T&&[];const ae=[];return this._forEachCell(R,G,V,ie,this._queryCellCircle,ae,{hitTest:T,circle:{x:i,y:c,radius:v},seenUids:{box:{},circle:{}}},A),T?ae.length>0:ae}query(i,c,v,T,A){return this._query(i,c,v,T,!1,A)}hitTest(i,c,v,T,A){return this._query(i,c,v,T,!0,A)}hitTestCircle(i,c,v,T){return this._queryCircle(i,c,v,!0,T)}_queryCell(i,c,v,T,A,R,V,G){const ie=V.seenUids,ae=this.boxCells[A];if(ae!==null){const Fe=this.bboxes;for(const $e of ae)if(!ie.box[$e]){ie.box[$e]=!0;const Je=4*$e;if(i<=Fe[Je+2]&&c<=Fe[Je+3]&&v>=Fe[Je+0]&&T>=Fe[Je+1]&&(!G||G(this.boxKeys[$e]))){if(V.hitTest)return R.push(!0),!0;R.push({key:this.boxKeys[$e],x1:Fe[Je],y1:Fe[Je+1],x2:Fe[Je+2],y2:Fe[Je+3]})}}}const be=this.circleCells[A];if(be!==null){const Fe=this.circles;for(const $e of be)if(!ie.circle[$e]){ie.circle[$e]=!0;const Je=3*$e;if(this._circleAndRectCollide(Fe[Je],Fe[Je+1],Fe[Je+2],i,c,v,T)&&(!G||G(this.circleKeys[$e]))){if(V.hitTest)return R.push(!0),!0;{const tt=Fe[Je],Xe=Fe[Je+1],qe=Fe[Je+2];R.push({key:this.circleKeys[$e],x1:tt-qe,y1:Xe-qe,x2:tt+qe,y2:Xe+qe})}}}}}_queryCellCircle(i,c,v,T,A,R,V,G){const ie=V.circle,ae=V.seenUids,be=this.boxCells[A];if(be!==null){const $e=this.bboxes;for(const Je of be)if(!ae.box[Je]){ae.box[Je]=!0;const tt=4*Je;if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,$e[tt+0],$e[tt+1],$e[tt+2],$e[tt+3])&&(!G||G(this.boxKeys[Je])))return R.push(!0),!0}}const Fe=this.circleCells[A];if(Fe!==null){const $e=this.circles;for(const Je of Fe)if(!ae.circle[Je]){ae.circle[Je]=!0;const tt=3*Je;if(this._circlesCollide($e[tt],$e[tt+1],$e[tt+2],ie.x,ie.y,ie.radius)&&(!G||G(this.circleKeys[Je])))return R.push(!0),!0}}}_forEachCell(i,c,v,T,A,R,V,G){const ie=this._convertToXCellCoord(i),ae=this._convertToYCellCoord(c),be=this._convertToXCellCoord(v),Fe=this._convertToYCellCoord(T);for(let $e=ie;$e<=be;$e++)for(let Je=ae;Je<=Fe;Je++)if(A.call(this,i,c,v,T,this.xCellCount*Je+$e,R,V,G))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,c,v,T,A,R){const V=T-i,G=A-c,ie=v+R;return ie*ie>V*V+G*G}_circleAndRectCollide(i,c,v,T,A,R,V){const G=(R-T)/2,ie=Math.abs(i-(T+G));if(ie>G+v)return!1;const ae=(V-A)/2,be=Math.abs(c-(A+ae));if(be>ae+v)return!1;if(ie<=G||be<=ae)return!0;const Fe=ie-G,$e=be-ae;return Fe*Fe+$e*$e<=v*v}}const ke=Math.tan(85*Math.PI/180);function Ke(f,i,c,v,T,A,R){const V=l.create();if(c)if(A.name==="globe"){const G=l.calculateGlobeLabelMatrix(T,i);l.multiply(V,V,G)}else{const G=At([],R);V[0]=G[0],V[1]=G[1],V[4]=G[2],V[5]=G[3],v||l.rotateZ(V,V,T.angle)}else l.multiply(V,T.labelPlaneMatrix,f);return V}function zt(f,i,c,v,T,A,R){const V=Ke(f,i,c,v,T,A,R);return A.name==="globe"&&c||(V[2]=V[6]=V[10]=V[14]=0),V}function ai(f,i,c,v,T,A,R){if(c){if(A.name==="globe"){const V=Ke(f,i,c,v,T,A,R);return l.invert(V,V),l.multiply(V,f,V),V}{const V=l.clone(f),G=l.identity([]);return G[0]=R[0],G[1]=R[1],G[4]=R[2],G[5]=R[3],l.multiply(V,V,G),v||l.rotateZ(V,V,-T.angle),V}}return T.glCoordMatrix}function Xt(f,i,c,v){const T=[f,i,c,1];c?l.transformMat4$1(T,T,v):kr(T,T,v);const A=T[3];return T[0]/=A,T[1]/=A,T[2]/=A,T}function Wt(f,i){return Math.min(.5+f/i*.5,1.5)}function li(f,i){const c=f[0]/f[3],v=f[1]/f[3];return c>=-i[0]&&c<=i[0]&&v>=-i[1]&&v<=i[1]}function mi(f,i,c,v,T,A,R,V,G,ie){const ae=c.transform,be=v?f.textSizeData:f.iconSizeData,Fe=l.evaluateSizeForZoom(be,c.transform.zoom),$e=ae.projection.name==="globe",Je=[256/c.width*2+1,256/c.height*2+1],tt=v?f.text.dynamicLayoutVertexArray:f.icon.dynamicLayoutVertexArray;tt.clear();let Xe=null;$e&&(Xe=v?f.text.globeExtVertexArray:f.icon.globeExtVertexArray);const qe=f.lineVertexArray,lt=v?f.text.placedSymbolArray:f.icon.placedSymbolArray,st=c.transform.width/c.transform.height;let pt,bt=!1;for(let xt=0;xt<lt.length;xt++){const Lt=lt.get(xt),{numGlyphs:qt,writingMode:Yt}=Lt;if(Yt!==l.WritingMode.vertical||bt||pt===l.WritingMode.horizontal||(bt=!0),pt=Yt,(Lt.hidden||Yt===l.WritingMode.vertical)&&!bt){rn(qt,tt);continue}bt=!1;const jt=new l.pointGeometry(Lt.tileAnchorX,Lt.tileAnchorY);let{x:ki,y:$t,z:pi}=ae.projection.projectTilePoint(jt.x,jt.y,ie.canonical);if(G){const[or,qi,mr]=G(jt);ki+=or,$t+=qi,pi+=mr}const ei=[ki,$t,pi,1];if(l.transformMat4$1(ei,ei,i),!li(ei,Je)){rn(qt,tt);continue}const Ai=Wt(c.transform.cameraToCenterDistance,ei[3]),ni=l.evaluateSizeForFeature(be,Fe,Lt),bi=R?ni/Ai:ni*Ai,Oi=Xt(ki,$t,pi,T);if(Oi[3]<=0){rn(qt,tt);continue}let Gt={};const Qt=R?null:G,Zi=Gi(Lt,bi,!1,V,i,T,A,f.glyphOffsetArray,qe,tt,Xe,Oi,jt,Gt,st,Qt,ae.projection,ie,R);bt=Zi.useVertical,Qt&&Zi.needsFlipping&&(Gt={}),(Zi.notEnoughRoom||bt||Zi.needsFlipping&&Gi(Lt,bi,!0,V,i,T,A,f.glyphOffsetArray,qe,tt,Xe,Oi,jt,Gt,st,Qt,ae.projection,ie,R).notEnoughRoom)&&rn(qt,tt)}v?(f.text.dynamicLayoutVertexBuffer.updateData(tt),Xe&&f.text.globeExtVertexBuffer.updateData(Xe)):(f.icon.dynamicLayoutVertexBuffer.updateData(tt),Xe&&f.icon.globeExtVertexBuffer.updateData(Xe))}function Yi(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt){const{lineStartIndex:Xe,glyphStartIndex:qe,segment:lt}=V,st=qe+V.numGlyphs,pt=Xe+V.lineLength,bt=i.getoffsetX(qe),xt=i.getoffsetX(st-1),Lt=qn(f*bt,c,v,T,A,R,lt,Xe,pt,G,ie,ae,be,Fe,!0,$e,Je,tt);if(!Lt)return null;const qt=qn(f*xt,c,v,T,A,R,lt,Xe,pt,G,ie,ae,be,Fe,!0,$e,Je,tt);return qt?{first:Lt,last:qt}:null}function Gr(f,i,c,v){return f===l.WritingMode.horizontal&&Math.abs(v)>Math.abs(c)?{useVertical:!0}:f===l.WritingMode.vertical?v>0?{needsFlipping:!0}:null:i!==0&&function(T,A){return T===0||Math.abs(A/T)>ke}(c,v)?i===1?{needsFlipping:!0}:null:c<0?{needsFlipping:!0}:null}function Gi(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt,Xe,qe,lt){const st=i/24,pt=f.lineOffsetX*st,bt=f.lineOffsetY*st,{lineStartIndex:xt,glyphStartIndex:Lt,numGlyphs:qt,segment:Yt,writingMode:jt,flipState:ki}=f,$t=xt+f.lineLength,pi=ei=>{if(ae){const[Oi,Gt,Qt]=ei.up,Zi=ie.length;l.updateGlobeVertexNormal(ae,Zi+0,Oi,Gt,Qt),l.updateGlobeVertexNormal(ae,Zi+1,Oi,Gt,Qt),l.updateGlobeVertexNormal(ae,Zi+2,Oi,Gt,Qt),l.updateGlobeVertexNormal(ae,Zi+3,Oi,Gt,Qt)}const[Ai,ni,bi]=ei.point;l.addDynamicAttributes(ie,Ai,ni,bi,ei.angle)};if(qt>1){const ei=Yi(st,V,pt,bt,c,be,Fe,f,G,A,$e,tt,!1,Xe,qe,lt);if(!ei)return{notEnoughRoom:!0};if(v&&!c){let[Ai,ni,bi]=ei.first.point,[Oi,Gt,Qt]=ei.last.point;[Ai,ni]=Xt(Ai,ni,bi,R),[Oi,Gt]=Xt(Oi,Gt,Qt,R);const Zi=Gr(jt,ki,(Oi-Ai)*Je,Gt-ni);if(f.flipState=Zi&&Zi.needsFlipping?1:2,Zi)return Zi}pi(ei.first);for(let Ai=Lt+1;Ai<Lt+qt-1;Ai++){const ni=qn(st*V.getoffsetX(Ai),pt,bt,c,be,Fe,Yt,xt,$t,G,A,$e,tt,!1,!1,Xe,qe,lt);if(!ni)return ie.length-=4*(Ai-Lt),{notEnoughRoom:!0};pi(ni)}pi(ei.last)}else{if(v&&!c){const Ai=Xt(Fe.x,Fe.y,0,T),ni=xt+Yt+1,bi=new l.pointGeometry(G.getx(ni),G.gety(ni)),Oi=Xt(bi.x,bi.y,0,T),Gt=Oi[3]>0?Oi:vn(Fe,bi,Ai,1,T,void 0,Xe,qe.canonical),Qt=Gr(jt,ki,(Gt[0]-Ai[0])*Je,Gt[1]-Ai[1]);if(f.flipState=Qt&&Qt.needsFlipping?1:2,Qt)return Qt}const ei=qn(st*V.getoffsetX(Lt),pt,bt,c,be,Fe,Yt,xt,$t,G,A,$e,tt,!1,!1,Xe,qe,lt);if(!ei)return{notEnoughRoom:!0};pi(ei)}return{}}function Rr(f,i,c,v,T){const{x:A,y:R,z:V}=v.projectTilePoint(f.x,f.y,i);if(!T)return Xt(A,R,V,c);const[G,ie,ae]=T(f);return Xt(A+G,R+ie,V+ae,c)}function vn(f,i,c,v,T,A,R,V){const G=Rr(f.sub(i)._unit()._add(f),V,T,R,A);return l.sub(G,c,G),l.normalize(G,G),l.scaleAndAdd(G,c,G,v)}function qn(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt,Xe,qe){const lt=v?f-i:f+i;let st=lt>0?1:-1,pt=0;v&&(st*=-1,pt=Math.PI),st<0&&(pt+=Math.PI);let bt=V+R+(st>0?0:1)|0,xt=T,Lt=T,qt=0,Yt=0;const jt=Math.abs(lt),ki=[],$t=[];let pi=A,ei=pi;const Ai=()=>vn(ei,pi,Lt,jt-qt+1,ae,Fe,tt,Xe.canonical);for(;qt+Yt<=jt;){if(bt+=st,bt<V||bt>=G)return null;if(Lt=xt,ei=pi,ki.push(Lt),$e&&$t.push(ei),pi=new l.pointGeometry(ie.getx(bt),ie.gety(bt)),xt=be[bt],!xt){const mr=Rr(pi,Xe.canonical,ae,tt,Fe);xt=mr[3]>0?be[bt]=mr:Ai()}qt+=Yt,Yt=l.distance(Lt,xt)}Je&&Fe&&(be[bt]&&(xt=Ai(),Yt=l.distance(Lt,xt)),be[bt]=xt);const ni=(jt-qt)/Yt,bi=pi.sub(ei)._mult(ni)._add(ei),Oi=l.sub([],xt,Lt),Gt=l.scaleAndAdd([],Lt,Oi,ni);let Qt=[0,0,1],Zi=Oi[0],or=Oi[1];if(qe&&(Qt=tt.upVector(Xe.canonical,bi.x,bi.y),Qt[0]!==0||Qt[1]!==0||Qt[2]!==1)){const mr=[Qt[2],0,-Qt[0]],Cr=l.cross([],Qt,mr);l.normalize(mr,mr),l.normalize(Cr,Cr),Zi=l.dot(Oi,mr),or=l.dot(Oi,Cr)}if(c){const mr=l.cross([],Qt,Oi);l.normalize(mr,mr),l.scaleAndAdd(Gt,Gt,mr,c*st)}const qi=pt+Math.atan2(or,Zi);return ki.push(Gt),$e&&$t.push(bi),{point:Gt,angle:qi,path:ki,tilePath:$t,up:Qt}}function rn(f,i){const c=i.length,v=c+4*f;i.resize(v),i.float32.fill(-1/0,4*c,4*v)}function kr(f,i,c){const v=i[0],T=i[1];return f[0]=c[0]*v+c[4]*T+c[12],f[1]=c[1]*v+c[5]*T+c[13],f[3]=c[3]*v+c[7]*T+c[15],f}const Kn=100;class La{constructor(i,c,v=new se(i.width+200,i.height+200,25),T=new se(i.width+200,i.height+200,25)){this.transform=i,this.grid=v,this.ignoredGrid=T,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Kn,this.screenBottomBoundary=i.height+Kn,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.fogState=c}placeCollisionBox(i,c,v,T,A,R,V,G){let ie=v.projectedAnchorX,ae=v.projectedAnchorY,be=v.projectedAnchorZ;const Fe=v.elevation,$e=v.tileID,Je=i.getProjection();if(Fe&&$e){const[xt,Lt,qt]=Je.upVector($e.canonical,v.tileAnchorX,v.tileAnchorY),Yt=Je.upVectorScale($e.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ie+=xt*Fe*Yt,ae+=Lt*Fe*Yt,be+=qt*Fe*Yt}const tt=this.projectAndGetPerspectiveRatio(V,ie,ae,be,v.tileID,Je.name==="globe"||!!Fe||this.transform.pitch>0,Je),Xe=R*tt.perspectiveRatio,qe=(v.x1*c+T.x-v.padding)*Xe+tt.point.x,lt=(v.y1*c+T.y-v.padding)*Xe+tt.point.y,st=(v.x2*c+T.x+v.padding)*Xe+tt.point.x,pt=(v.y2*c+T.y+v.padding)*Xe+tt.point.y,bt=tt.perspectiveRatio<=.55||tt.occluded;return!this.isInsideGrid(qe,lt,st,pt)||!A&&this.grid.hitTest(qe,lt,st,pt,G)||bt?{box:[],offscreen:!1,occluded:tt.occluded}:{box:[qe,lt,st,pt],offscreen:this.isOffscreen(qe,lt,st,pt),occluded:!1}}placeCollisionCircles(i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt){const Xe=[],qe=this.transform.elevation,lt=i.getProjection(),st=qe?qe.getAtTileOffsetFunc(tt,this.transform.center.lat,this.transform.worldSize,lt):null,pt=new l.pointGeometry(v.tileAnchorX,v.tileAnchorY);let{x:bt,y:xt,z:Lt}=lt.projectTilePoint(pt.x,pt.y,tt.canonical);if(st){const[bi,Oi,Gt]=st(pt);bt+=bi,xt+=Oi,Lt+=Gt}const qt=lt.name==="globe",Yt=this.projectAndGetPerspectiveRatio(V,bt,xt,Lt,tt,qt||!!qe||this.transform.pitch>0,lt),{perspectiveRatio:jt}=Yt,ki=(be?R/jt:R*jt)/l.ONE_EM,$t=Xt(bt,xt,Lt,G),pi=Yt.signedDistanceFromCamera>0?Yi(ki,A,v.lineOffsetX*ki,v.lineOffsetY*ki,!1,$t,pt,v,T,G,{},qe&&!be?st:null,be&&!!qe,lt,tt,be):null;let ei=!1,Ai=!1,ni=!0;if(pi&&!Yt.occluded){const bi=.5*$e*jt+Je,Oi=new l.pointGeometry(-100,-100),Gt=new l.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Qt=new B,{first:Zi,last:or}=pi,qi=Zi.path.length;let mr=[];for(let $i=qi-1;$i>=1;$i--)mr.push(Zi.path[$i]);for(let $i=1;$i<or.path.length;$i++)mr.push(or.path[$i]);const Cr=2.5*bi;ie&&(mr=mr.map(([$i,hn,on],An)=>(st&&!qt&&(on=st(An<qi-1?Zi.tilePath[qi-1-An]:or.tilePath[An-qi+2])[2]),Xt($i,hn,on,ie))),mr.some($i=>$i[3]<=0)&&(mr=[]));let lr=[];if(mr.length>0){let $i=1/0,hn=-1/0,on=1/0,An=-1/0;for(const _n of mr)$i=Math.min($i,_n[0]),on=Math.min(on,_n[1]),hn=Math.max(hn,_n[0]),An=Math.max(An,_n[1]);hn>=Oi.x&&$i<=Gt.x&&An>=Oi.y&&on<=Gt.y&&(lr=[mr.map(_n=>new l.pointGeometry(_n[0],_n[1]))],($i<Oi.x||hn>Gt.x||on<Oi.y||An>Gt.y)&&(lr=l.clipLine(lr,Oi.x,Oi.y,Gt.x,Gt.y)))}for(const $i of lr){Qt.reset($i,.25*bi);let hn=0;hn=Qt.length<=.5*bi?1:Math.ceil(Qt.paddedLength/Cr)+1;for(let on=0;on<hn;on++){const An=on/Math.max(hn-1,1),_n=Qt.lerp(An),ro=_n.x+Kn,Ao=_n.y+Kn;Xe.push(ro,Ao,bi,0);const Gs=ro-bi,Al=Ao-bi,Nn=ro+bi,Mn=Ao+bi;if(ni=ni&&this.isOffscreen(Gs,Al,Nn,Mn),Ai=Ai||this.isInsideGrid(Gs,Al,Nn,Mn),!c&&this.grid.hitTestCircle(ro,Ao,bi,Fe)&&(ei=!0,!ae))return{circles:[],offscreen:!1,collisionDetected:ei,occluded:!1}}}}return{circles:!ae&&ei||!Ai?[]:Xe,offscreen:ni,collisionDetected:ei,occluded:Yt.occluded}}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let v=1/0,T=1/0,A=-1/0,R=-1/0;for(const ae of i){const be=new l.pointGeometry(ae.x+Kn,ae.y+Kn);v=Math.min(v,be.x),T=Math.min(T,be.y),A=Math.max(A,be.x),R=Math.max(R,be.y),c.push(be)}const V=this.grid.query(v,T,A,R).concat(this.ignoredGrid.query(v,T,A,R)),G={},ie={};for(const ae of V){const be=ae.key;if(G[be.bucketInstanceId]===void 0&&(G[be.bucketInstanceId]={}),G[be.bucketInstanceId][be.featureIndex])continue;const Fe=[new l.pointGeometry(ae.x1,ae.y1),new l.pointGeometry(ae.x2,ae.y1),new l.pointGeometry(ae.x2,ae.y2),new l.pointGeometry(ae.x1,ae.y2)];l.polygonIntersectsPolygon(c,Fe)&&(G[be.bucketInstanceId][be.featureIndex]=!0,ie[be.bucketInstanceId]===void 0&&(ie[be.bucketInstanceId]=[]),ie[be.bucketInstanceId].push(be.featureIndex))}return ie}insertCollisionBox(i,c,v,T,A){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:T,collisionGroupID:A},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,c,v,T,A){const R=c?this.ignoredGrid:this.grid,V={bucketInstanceId:v,featureIndex:T,collisionGroupID:A};for(let G=0;G<i.length;G+=4)R.insertCircle(V,i[G],i[G+1],i[G+2])}projectAndGetPerspectiveRatio(i,c,v,T,A,R,V){const G=[c,v,T,1];let ie=!1;if(T||this.transform.pitch>0){l.transformMat4$1(G,G,i);const be=V.name==="globe";this.fogState&&A&&!be&&(ie=function($e,Je,tt,Xe,qe,lt){const st=lt.calculateFogTileMatrix(qe),pt=[Je,tt,Xe];return l.transformMat4(pt,pt,st),Re($e,pt,lt.pitch,lt._fov)}(this.fogState,c,v,T,A.toUnwrapped(),this.transform)>.9)}else kr(G,G,i);const ae=G[3];return{point:new l.pointGeometry((G[0]/ae+1)/2*this.transform.width+Kn,(-G[1]/ae+1)/2*this.transform.height+Kn),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(V)/ae*.5,1.5),signedDistanceFromCamera:ae,occluded:R&&G[2]>ae||ie}}isOffscreen(i,c,v,T){return v<Kn||i>=this.screenRightBoundary||T<Kn||c>this.screenBottomBoundary}isInsideGrid(i,c,v,T){return v>=0&&i<this.gridRightBoundary&&T>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const i=l.identity([]);return l.translate(i,i,[-100,-100,0]),i}}function hs(f,i,c){const v=i.createTileMatrix(f,f.worldSize,c.toUnwrapped());return l.multiply(new Float32Array(16),f.projMatrix,v)}function _s(f,i,c){if(i.projection.name===c.projection.name)return f.projMatrix;const v=c.clone();return v.setProjection(i.projection),hs(v,i.getProjection(),f)}function Un(f,i,c){return i.name===c.projection.name?f.projMatrix:hs(c,i,f)}class $r{constructor(i,c,v,T){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?c:-c))):T&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class Ha{constructor(i,c,v,T,A,R=!1){this.text=new $r(i?i.text:null,c,v,A),this.icon=new $r(i?i.icon:null,c,T,A),this.clipped=R}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class fo{constructor(i,c,v,T=!1){this.text=i,this.icon=c,this.skipFade=v,this.clipped=T}}class $o{constructor(){this.invProjMatrix=l.create(),this.viewportMatrix=l.create(),this.circles=[]}}class bs{constructor(i,c,v,T,A){this.bucketInstanceId=i,this.featureIndex=c,this.sourceLayerIndex=v,this.bucketIndex=T,this.tileID=A}}class Wn{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const c=++this.maxGroupID;this.collisionGroups[i]={ID:c,predicate:v=>v.collisionGroupID===c}}return this.collisionGroups[i]}}function cn(f,i,c,v,T){const{horizontalAlign:A,verticalAlign:R}=l.getAnchorAlignment(f),V=-(A-.5)*i,G=-(R-.5)*c,ie=l.evaluateVariableOffset(f,v);return new l.pointGeometry(V+ie[0]*T,G+ie[1]*T)}function Fs(f,i,c,v,T){const A=new l.pointGeometry(f,i);return c&&A._rotate(v?T:-T),A}class Xs{constructor(i,c,v,T,A){this.transform=i.clone(),this.projection=i.projection.name,this.collisionIndex=new La(this.transform,A),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new Wn(v),this.collisionCircleArrays={},this.prevPlacement=T,T&&(T.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,c,v,T){const A=v.getBucket(c),R=v.latestFeatureIndex;if(!A||!R||c.id!==A.layerIds[0])return;const V=A.layers[0].layout,G=v.collisionBoxArray,ie=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),ae=v.tileSize/l.EXTENT,be=v.tileID.toUnwrapped();this.transform.setProjection(A.projection);const Fe=($e=v.tileID,Je=A.getProjection(),tt=this.transform,Je.name===this.projection?tt.calculateProjMatrix($e.toUnwrapped()):hs(tt,Je,$e));var $e,Je,tt;const Xe=V.get("text-pitch-alignment")==="map",qe=V.get("text-rotation-alignment")==="map";c.compileFilter();const lt=c.dynamicFilter(),st=c.dynamicFilterNeedsFeature(),pt=this.transform.calculatePixelsToTileUnitsMatrix(v),bt=zt(Fe,v.tileID.canonical,Xe,qe,this.transform,A.getProjection(),pt);let xt=null;if(Xe){const Yt=ai(Fe,v.tileID.canonical,Xe,qe,this.transform,A.getProjection(),pt);xt=l.multiply([],this.transform.labelPlaneMatrix,Yt)}let Lt=null;lt&&v.latestFeatureIndex&&(Lt={unwrappedTileID:be,dynamicFilter:lt,dynamicFilterNeedsFeature:st,featureIndex:v.latestFeatureIndex}),this.retainedQueryData[A.bucketInstanceId]=new bs(A.bucketInstanceId,R,A.sourceLayerIndex,A.index,v.tileID);const qt={bucket:A,layout:V,posMatrix:Fe,textLabelPlaneMatrix:bt,labelToScreenMatrix:xt,clippingData:Lt,scale:ie,textPixelRatio:ae,holdingForFade:v.holdingForFade(),collisionBoxArray:G,partiallyEvaluatedTextSize:l.evaluateSizeForZoom(A.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:l.evaluateSizeForZoom(A.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(A.sourceID)};if(T)for(const Yt of A.sortKeyRanges){const{sortKey:jt,symbolInstanceStart:ki,symbolInstanceEnd:$t}=Yt;i.push({sortKey:jt,symbolInstanceStart:ki,symbolInstanceEnd:$t,parameters:qt})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:A.symbolInstances.length,parameters:qt})}attemptAnchorPlacement(i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt,Xe,qe,lt){const{textOffset0:st,textOffset1:pt,crossTileID:bt}=Fe,xt=[st,pt],Lt=cn(i,v,T,xt,A),qt=this.collisionIndex.placeCollisionBox(Je,A,c,Fs(Lt.x,Lt.y,R,V,this.transform.angle),be,G,ie,ae.predicate);if(Xe){const Yt=Je.getSymbolInstanceIconSize(lt,this.transform.zoom,Fe.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Je,Yt,Xe,Fs(Lt.x,Lt.y,R,V,this.transform.angle),be,G,ie,ae.predicate).box.length===0)return}if(qt.box.length>0){let Yt;return this.prevPlacement&&this.prevPlacement.variableOffsets[bt]&&this.prevPlacement.placements[bt]&&this.prevPlacement.placements[bt].text&&(Yt=this.prevPlacement.variableOffsets[bt].anchor),this.variableOffsets[bt]={textOffset:xt,width:v,height:T,anchor:i,textScale:A,prevAnchor:Yt},this.markUsedJustification(Je,i,Fe,tt),Je.allowVerticalPlacement&&(this.markUsedOrientation(Je,tt,Fe),this.placedOrientations[bt]=tt),{shift:Lt,placedGlyphBoxes:qt}}}placeLayerBucketPart(i,c,v,T){const{bucket:A,layout:R,posMatrix:V,textLabelPlaneMatrix:G,labelToScreenMatrix:ie,clippingData:ae,textPixelRatio:be,holdingForFade:Fe,collisionBoxArray:$e,partiallyEvaluatedTextSize:Je,partiallyEvaluatedIconSize:tt,collisionGroup:Xe}=i.parameters,qe=R.get("text-optional"),lt=R.get("icon-optional"),st=R.get("text-allow-overlap"),pt=R.get("icon-allow-overlap"),bt=R.get("text-rotation-alignment")==="map",xt=R.get("text-pitch-alignment")==="map",Lt=R.get("icon-text-fit")!=="none",qt=R.get("symbol-z-order")==="viewport-y";this.transform.setProjection(A.projection);let Yt=st&&(pt||!A.hasIconData()||lt),jt=pt&&(st||!A.hasTextData()||qe);!A.collisionArrays&&$e&&A.deserializeCollisionBoxes($e),v&&T&&A.updateCollisionDebugBuffers(this.transform.zoom,$e);const ki=($t,pi,ei)=>{const{crossTileID:Ai,numVerticalGlyphVertices:ni}=$t;if(ae){const Nn={zoom:this.transform.zoom,pitch:this.transform.pitch};let Mn=null;if(ae.dynamicFilterNeedsFeature){const Jr=this.retainedQueryData[A.bucketInstanceId];Mn=ae.featureIndex.loadFeature({featureIndex:$t.featureIndex,bucketIndex:Jr.bucketIndex,sourceLayerIndex:Jr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,ae.dynamicFilter)(Nn,Mn,this.retainedQueryData[A.bucketInstanceId].tileID.canonical,new l.pointGeometry($t.tileAnchorX,$t.tileAnchorY),this.transform.calculateDistanceTileData(ae.unwrappedTileID)))return this.placements[Ai]=new fo(!1,!1,!1,!0),void(c[Ai]=!0)}if(c[Ai])return;if(Fe)return void(this.placements[Ai]=new fo(!1,!1,!1));let bi=!1,Oi=!1,Gt=!0,Qt=!1,Zi=!1,or=null,qi={box:null,offscreen:null,occluded:null},mr={box:null,offscreen:null,occluded:null},Cr=null,lr=null,$i=null,hn=0,on=0,An=0;ei.textFeatureIndex?hn=ei.textFeatureIndex:$t.useRuntimeCollisionCircles&&(hn=$t.featureIndex),ei.verticalTextFeatureIndex&&(on=ei.verticalTextFeatureIndex);const _n=Nn=>{Nn.tileID=this.retainedQueryData[A.bucketInstanceId].tileID;const Mn=this.transform.elevation;(Mn||Nn.elevation)&&(Nn.elevation=Mn?Mn.getAtTileOffset(Nn.tileID,Nn.tileAnchorX,Nn.tileAnchorY):0)},ro=ei.textBox;if(ro){_n(ro);const Nn=Jr=>{let wa=l.WritingMode.horizontal;if(A.allowVerticalPlacement&&!Jr&&this.prevPlacement){const Ds=this.prevPlacement.placedOrientations[Ai];Ds&&(this.placedOrientations[Ai]=Ds,wa=Ds,this.markUsedOrientation(A,wa,$t))}return wa},Mn=(Jr,wa)=>{if(A.allowVerticalPlacement&&ni>0&&ei.verticalTextBox){for(const Ds of A.writingModes)if(Ds===l.WritingMode.vertical?(qi=wa(),mr=qi):qi=Jr(),qi&&qi.box&&qi.box.length)break}else qi=Jr()};if(R.get("text-variable-anchor")){let Jr=R.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ai]){const Dn=this.prevPlacement.variableOffsets[Ai];Jr.indexOf(Dn.anchor)>0&&(Jr=Jr.filter(Hs=>Hs!==Dn.anchor),Jr.unshift(Dn.anchor))}const wa=(Dn,Hs,nu)=>{const rc=A.getSymbolInstanceTextSize(Je,$t,this.transform.zoom,pi),Ps=(Dn.x2-Dn.x1)*rc+2*Dn.padding,Fo=(Dn.y2-Dn.y1)*rc+2*Dn.padding,Ml=Lt&&!pt?Hs:null;Ml&&_n(Ml);let Cl={box:[],offscreen:!1,occluded:!1};const au=st?2*Jr.length:Jr.length;for(let Ih=0;Ih<au;++Ih){const Il=this.attemptAnchorPlacement(Jr[Ih%Jr.length],Dn,Ps,Fo,rc,bt,xt,be,V,Xe,Ih>=Jr.length,$t,pi,A,nu,Ml,Je,tt);if(Il&&(Cl=Il.placedGlyphBoxes,Cl&&Cl.box&&Cl.box.length)){bi=!0,or=Il.shift;break}}return Cl};Mn(()=>wa(ro,ei.iconBox,l.WritingMode.horizontal),()=>{const Dn=ei.verticalTextBox;return Dn&&_n(Dn),A.allowVerticalPlacement&&!(qi&&qi.box&&qi.box.length)&&ni>0&&Dn?wa(Dn,ei.verticalIconBox,l.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),qi&&(bi=qi.box,Gt=qi.offscreen,Qt=qi.occluded);const Ds=Nn(qi&&qi.box);if(!bi&&this.prevPlacement){const Dn=this.prevPlacement.variableOffsets[Ai];Dn&&(this.variableOffsets[Ai]=Dn,this.markUsedJustification(A,Dn.anchor,$t,Ds))}}else{const Jr=(wa,Ds)=>{const Dn=A.getSymbolInstanceTextSize(Je,$t,this.transform.zoom,pi),Hs=this.collisionIndex.placeCollisionBox(A,Dn,wa,new l.pointGeometry(0,0),st,be,V,Xe.predicate);return Hs&&Hs.box&&Hs.box.length&&(this.markUsedOrientation(A,Ds,$t),this.placedOrientations[Ai]=Ds),Hs};Mn(()=>Jr(ro,l.WritingMode.horizontal),()=>{const wa=ei.verticalTextBox;return A.allowVerticalPlacement&&ni>0&&wa?(_n(wa),Jr(wa,l.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Nn(qi&&qi.box&&qi.box.length)}}if(Cr=qi,bi=Cr&&Cr.box&&Cr.box.length>0,Gt=Cr&&Cr.offscreen,Qt=Cr&&Cr.occluded,$t.useRuntimeCollisionCircles){const Nn=A.text.placedSymbolArray.get($t.centerJustifiedTextSymbolIndex>=0?$t.centerJustifiedTextSymbolIndex:$t.verticalPlacedTextSymbolIndex),Mn=l.evaluateSizeForFeature(A.textSizeData,Je,Nn),Jr=R.get("text-padding");lr=this.collisionIndex.placeCollisionCircles(A,st,Nn,A.lineVertexArray,A.glyphOffsetArray,Mn,V,G,ie,v,xt,Xe.predicate,$t.collisionCircleDiameter*Mn/l.ONE_EM,Jr,this.retainedQueryData[A.bucketInstanceId].tileID),bi=st||lr.circles.length>0&&!lr.collisionDetected,Gt=Gt&&lr.offscreen,Qt=lr.occluded}if(ei.iconFeatureIndex&&(An=ei.iconFeatureIndex),ei.iconBox){const Nn=Mn=>{_n(Mn);const Jr=Lt&&or?Fs(or.x,or.y,bt,xt,this.transform.angle):new l.pointGeometry(0,0),wa=A.getSymbolInstanceIconSize(tt,this.transform.zoom,$t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(A,wa,Mn,Jr,pt,be,V,Xe.predicate)};mr&&mr.box&&mr.box.length&&ei.verticalIconBox?($i=Nn(ei.verticalIconBox),Oi=$i.box.length>0):($i=Nn(ei.iconBox),Oi=$i.box.length>0),Gt=Gt&&$i.offscreen,Zi=$i.occluded}const Ao=qe||$t.numHorizontalGlyphVertices===0&&ni===0,Gs=lt||$t.numIconVertices===0;if(Ao||Gs?Gs?Ao||(Oi=Oi&&bi):bi=Oi&&bi:Oi=bi=Oi&&bi,bi&&Cr&&Cr.box&&this.collisionIndex.insertCollisionBox(Cr.box,R.get("text-ignore-placement"),A.bucketInstanceId,mr&&mr.box&&on?on:hn,Xe.ID),Oi&&$i&&this.collisionIndex.insertCollisionBox($i.box,R.get("icon-ignore-placement"),A.bucketInstanceId,An,Xe.ID),lr&&(bi&&this.collisionIndex.insertCollisionCircles(lr.circles,R.get("text-ignore-placement"),A.bucketInstanceId,hn,Xe.ID),v)){const Nn=A.bucketInstanceId;let Mn=this.collisionCircleArrays[Nn];Mn===void 0&&(Mn=this.collisionCircleArrays[Nn]=new $o);for(let Jr=0;Jr<lr.circles.length;Jr+=4)Mn.circles.push(lr.circles[Jr+0]),Mn.circles.push(lr.circles[Jr+1]),Mn.circles.push(lr.circles[Jr+2]),Mn.circles.push(lr.collisionDetected?1:0)}const Al=A.projection.name!=="globe";Yt=Yt&&(Al||!Qt),jt=jt&&(Al||!Zi),this.placements[Ai]=new fo(bi||Yt,Oi||jt,Gt||A.justReloaded),c[Ai]=!0};if(qt){const $t=A.getSortedSymbolIndexes(this.transform.angle);for(let pi=$t.length-1;pi>=0;--pi){const ei=$t[pi];ki(A.symbolInstances.get(ei),ei,A.collisionArrays[ei])}}else for(let $t=i.symbolInstanceStart;$t<i.symbolInstanceEnd;$t++)ki(A.symbolInstances.get($t),$t,A.collisionArrays[$t]);if(v&&A.bucketInstanceId in this.collisionCircleArrays){const $t=this.collisionCircleArrays[A.bucketInstanceId];l.invert($t.invProjMatrix,V),$t.viewportMatrix=this.collisionIndex.getViewportMatrix()}A.justReloaded=!1}markUsedJustification(i,c,v,T){const{leftJustifiedTextSymbolIndex:A,centerJustifiedTextSymbolIndex:R,rightJustifiedTextSymbolIndex:V,verticalPlacedTextSymbolIndex:G,crossTileID:ie}=v,ae=l.getAnchorJustification(c),be=T===l.WritingMode.vertical?G:ae==="left"?A:ae==="center"?R:ae==="right"?V:-1;A>=0&&(i.text.placedSymbolArray.get(A).crossTileID=be>=0&&A!==be?0:ie),R>=0&&(i.text.placedSymbolArray.get(R).crossTileID=be>=0&&R!==be?0:ie),V>=0&&(i.text.placedSymbolArray.get(V).crossTileID=be>=0&&V!==be?0:ie),G>=0&&(i.text.placedSymbolArray.get(G).crossTileID=be>=0&&G!==be?0:ie)}markUsedOrientation(i,c,v){const T=c===l.WritingMode.horizontal||c===l.WritingMode.horizontalOnly?c:0,A=c===l.WritingMode.vertical?c:0,{leftJustifiedTextSymbolIndex:R,centerJustifiedTextSymbolIndex:V,rightJustifiedTextSymbolIndex:G,verticalPlacedTextSymbolIndex:ie}=v,ae=i.text.placedSymbolArray;R>=0&&(ae.get(R).placedOrientation=T),V>=0&&(ae.get(V).placedOrientation=T),G>=0&&(ae.get(G).placedOrientation=T),ie>=0&&(ae.get(ie).placedOrientation=A)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let v=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const T=c?c.symbolFadeChange(i):1,A=c?c.opacities:{},R=c?c.variableOffsets:{},V=c?c.placedOrientations:{};for(const G in this.placements){const ie=this.placements[G],ae=A[G];ae?(this.opacities[G]=new Ha(ae,T,ie.text,ie.icon,null,ie.clipped),v=v||ie.text!==ae.text.placed||ie.icon!==ae.icon.placed):(this.opacities[G]=new Ha(null,T,ie.text,ie.icon,ie.skipFade,ie.clipped),v=v||ie.text||ie.icon)}for(const G in A){const ie=A[G];if(!this.opacities[G]){const ae=new Ha(ie,T,!1,!1);ae.isHidden()||(this.opacities[G]=ae,v=v||ie.text.placed||ie.icon.placed)}}for(const G in R)this.variableOffsets[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.variableOffsets[G]=R[G]);for(const G in V)this.placedOrientations[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.placedOrientations[G]=V[G]);v?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:i)}updateLayerOpacities(i,c){const v={};for(const T of c){const A=T.getBucket(i);A&&T.latestFeatureIndex&&i.id===A.layerIds[0]&&this.updateBucketOpacities(A,v,T.collisionBoxArray)}}updateBucketOpacities(i,c,v){i.hasTextData()&&i.text.opacityVertexArray.clear(),i.hasIconData()&&i.icon.opacityVertexArray.clear(),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const T=i.layers[0].layout,A=!!i.layers[0].dynamicFilter(),R=new Ha(null,0,!1,!1,!0),V=T.get("text-allow-overlap"),G=T.get("icon-allow-overlap"),ie=T.get("text-variable-anchor"),ae=T.get("text-rotation-alignment")==="map",be=T.get("text-pitch-alignment")==="map",Fe=T.get("icon-text-fit")!=="none",$e=new Ha(null,0,V&&(G||!i.hasIconData()||T.get("icon-optional")),G&&(V||!i.hasTextData()||T.get("text-optional")),!0);!i.collisionArrays&&v&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(v);const Je=(Xe,qe,lt)=>{for(let st=0;st<qe/4;st++)Xe.opacityVertexArray.emplaceBack(lt)};let tt=0;for(let Xe=0;Xe<i.symbolInstances.length;Xe++){const qe=i.symbolInstances.get(Xe),{numHorizontalGlyphVertices:lt,numVerticalGlyphVertices:st,crossTileID:pt,numIconVertices:bt}=qe;let xt=this.opacities[pt];c[pt]?xt=R:xt||(xt=$e,this.opacities[pt]=xt),c[pt]=!0;const Lt=lt>0||st>0,qt=bt>0,Yt=this.placedOrientations[pt],jt=Yt===l.WritingMode.vertical,ki=Yt===l.WritingMode.horizontal||Yt===l.WritingMode.horizontalOnly;if(!Lt&&!qt||xt.isHidden()||tt++,Lt){const $t=Ln(xt.text);Je(i.text,lt,jt?qs:$t),Je(i.text,st,ki?qs:$t);const pi=xt.text.isHidden(),{leftJustifiedTextSymbolIndex:ei,centerJustifiedTextSymbolIndex:Ai,rightJustifiedTextSymbolIndex:ni,verticalPlacedTextSymbolIndex:bi}=qe,Oi=i.text.placedSymbolArray,Gt=pi||jt?1:0;ei>=0&&(Oi.get(ei).hidden=Gt),Ai>=0&&(Oi.get(Ai).hidden=Gt),ni>=0&&(Oi.get(ni).hidden=Gt),bi>=0&&(Oi.get(bi).hidden=pi||ki?1:0);const Qt=this.variableOffsets[pt];Qt&&this.markUsedJustification(i,Qt.anchor,qe,Yt);const Zi=this.placedOrientations[pt];Zi&&(this.markUsedJustification(i,"left",qe,Zi),this.markUsedOrientation(i,Zi,qe))}if(qt){const $t=Ln(xt.icon),{placedIconSymbolIndex:pi,verticalPlacedIconSymbolIndex:ei}=qe,Ai=i.icon.placedSymbolArray,ni=xt.icon.isHidden()?1:0;pi>=0&&(Je(i.icon,bt,jt?qs:$t),Ai.get(pi).hidden=ni),ei>=0&&(Je(i.icon,qe.numVerticalIconVertices,ki?qs:$t),Ai.get(ei).hidden=ni)}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const $t=i.collisionArrays[Xe];if($t){let pi=new l.pointGeometry(0,0),ei=!0;if($t.textBox||$t.verticalTextBox){if(ie){const ni=this.variableOffsets[pt];ni?(pi=cn(ni.anchor,ni.width,ni.height,ni.textOffset,ni.textScale),ae&&pi._rotate(be?this.transform.angle:-this.transform.angle)):ei=!1}A&&(ei=!xt.clipped),$t.textBox&&nn(i.textCollisionBox.collisionVertexArray,xt.text.placed,!ei||jt,pi.x,pi.y),$t.verticalTextBox&&nn(i.textCollisionBox.collisionVertexArray,xt.text.placed,!ei||ki,pi.x,pi.y)}const Ai=ei&&Boolean(!ki&&$t.verticalIconBox);$t.iconBox&&nn(i.iconCollisionBox.collisionVertexArray,xt.icon.placed,Ai,Fe?pi.x:0,Fe?pi.y:0),$t.verticalIconBox&&nn(i.iconCollisionBox.collisionVertexArray,xt.icon.placed,!Ai,Fe?pi.x:0,Fe?pi.y:0)}}}if(i.fullyClipped=tt===0,i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.bucketInstanceId in this.collisionCircleArrays){const Xe=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=Xe.invProjMatrix,i.placementViewportMatrix=Xe.viewportMatrix,i.collisionCircleArray=Xe.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,c){const v=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*v>i}setStale(){this.stale=!0}}function nn(f,i,c,v,T){f.emplaceBack(i?1:0,c?1:0,v||0,T||0),f.emplaceBack(i?1:0,c?1:0,v||0,T||0),f.emplaceBack(i?1:0,c?1:0,v||0,T||0),f.emplaceBack(i?1:0,c?1:0,v||0,T||0)}const la=Math.pow(2,25),pl=Math.pow(2,24),Zs=Math.pow(2,17),Tn=Math.pow(2,16),Xo=Math.pow(2,9),po=Math.pow(2,8),mo=Math.pow(2,1);function Ln(f){if(f.opacity===0&&!f.placed)return 0;if(f.opacity===1&&f.placed)return 4294967295;const i=f.placed?1:0,c=Math.floor(127*f.opacity);return c*la+i*pl+c*Zs+i*Tn+c*Xo+i*po+c*mo+i}const qs=0;class ml{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&i.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,c,v,T,A){const R=this._bucketParts;for(;this._currentTileIndex<i.length;)if(c.getBucketParts(R,T,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,A())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((V,G)=>V.sortKey-G.sortKey));this._currentPartIndex<R.length;){const V=R[this._currentPartIndex];if(c.placeLayerBucketPart(V,this._seenCrossTileIDs,v,V.symbolInstanceStart===0),this._currentPartIndex++,A())return!0}return!1}}class ws{constructor(i,c,v,T,A,R,V,G){this.placement=new Xs(i,A,R,V,G),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=T,this._done=!1}isDone(){return this._done}continuePlacement(i,c,v){const T=l.exported.now(),A=()=>{const R=l.exported.now()-T;return!this._forceFullPlacement&&R>2};for(;this._currentPlacementIndex>=0;){const R=c[i[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=V)&&(!R.maxzoom||R.maxzoom>V)){if(this._inProgressLayer||(this._inProgressLayer=new ml(R)),this._inProgressLayer.continuePlacement(v[R.source],this.placement,this._showCollisionBoxes,R,A))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Es=512/l.EXTENT/2;class Zo{constructor(i,c,v){this.tileID=i,this.indexedSymbolInstances={},this.bucketInstanceId=v;for(let T=0;T<c.length;T++){const A=c.get(T),R=A.key;this.indexedSymbolInstances[R]||(this.indexedSymbolInstances[R]=[]),this.indexedSymbolInstances[R].push({crossTileID:A.crossTileID,coord:this.getScaledCoordinates(A,i)})}}getScaledCoordinates(i,c){const v=Es/Math.pow(2,c.canonical.z-this.tileID.canonical.z);return{x:Math.floor((c.canonical.x*l.EXTENT+i.tileAnchorX)*v),y:Math.floor((c.canonical.y*l.EXTENT+i.tileAnchorY)*v)}}findMatches(i,c,v){const T=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let A=0;A<i.length;A++){const R=i.get(A);if(R.crossTileID)continue;const V=this.indexedSymbolInstances[R.key];if(!V)continue;const G=this.getScaledCoordinates(R,c);for(const ie of V)if(Math.abs(ie.coord.x-G.x)<=T&&Math.abs(ie.coord.y-G.y)<=T&&!v[ie.crossTileID]){v[ie.crossTileID]=!0,R.crossTileID=ie.crossTileID;break}}}}class Ja{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class $l{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const c=Math.round((i-this.lng)/360);if(c!==0)for(const v in this.indexes){const T=this.indexes[v],A={};for(const R in T){const V=T[R];V.tileID=V.tileID.unwrapTo(V.tileID.wrap+c),A[V.tileID.key]=V}this.indexes[v]=A}this.lng=i}addBucket(i,c,v){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let A=0;A<c.symbolInstances.length;A++)c.symbolInstances.get(A).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const T=this.usedCrossTileIDs[i.overscaledZ];for(const A in this.indexes){const R=this.indexes[A];if(Number(A)>i.overscaledZ)for(const V in R){const G=R[V];G.tileID.isChildOf(i)&&G.findMatches(c.symbolInstances,i,T)}else{const V=R[i.scaledTo(Number(A)).key];V&&V.findMatches(c.symbolInstances,i,T)}}for(let A=0;A<c.symbolInstances.length;A++){const R=c.symbolInstances.get(A);R.crossTileID||(R.crossTileID=v.generate(),T[R.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new Zo(i,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(i,c){for(const v in c.indexedSymbolInstances)for(const T of c.indexedSymbolInstances[v])delete this.usedCrossTileIDs[i][T.crossTileID]}removeStaleBuckets(i){let c=!1;for(const v in this.indexes){const T=this.indexes[v];for(const A in T)i[T[A].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,T[A]),delete T[A],c=!0)}return c}}class us{constructor(){this.layerIndexes={},this.crossTileIDs=new Ja,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,c,v,T){let A=this.layerIndexes[i.id];A===void 0&&(A=this.layerIndexes[i.id]=new $l);let R=!1;const V={};T.name!=="globe"&&A.handleWrapJump(v);for(const G of c){const ie=G.getBucket(i);ie&&i.id===ie.layerIds[0]&&(ie.bucketInstanceId||(ie.bucketInstanceId=++this.maxBucketInstanceId),A.addBucket(G.tileID,ie,this.crossTileIDs)&&(R=!0),V[ie.bucketInstanceId]=!0)}return A.removeStaleBuckets(V)&&(R=!0),R}pruneUnusedLayers(i){const c={};i.forEach(v=>{c[v]=!0});for(const v in this.layerIndexes)c[v]||delete this.layerIndexes[v]}}const qo=(f,i)=>l.emitValidationErrors(f,i&&i.filter(c=>c.identifier!=="source.canvas")),gl=l.pick(ee,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ln=l.pick(ee,["setCenter","setZoom","setBearing","setPitch"]),Ma={version:8,layers:[],sources:{}},Oo={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class z extends l.Evented{constructor(i,c={}){super(),this.map=i,this.dispatcher=new Ze(N(),this),this.imageManager=new Ue,this.imageManager.setEventedParent(this),this.glyphManager=new l.GlyphManager(i._requestManager,c.localFontFamily?l.LocalGlyphMode.all:c.localIdeographFontFamily?l.LocalGlyphMode.ideographs:l.LocalGlyphMode.none,c.localFontFamily||c.localIdeographFontFamily),this.crossTileSymbolIndex=new us,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",l.getReferrer());const v=this;this._rtlTextPluginCallback=z.registerForPluginStateChange(T=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:T.pluginStatus,pluginURL:T.pluginURL},(A,R)=>{if(l.triggerPluginCompletionEvent(A),R&&R.every(V=>V))for(const V in v._sourceCaches){const G=v._sourceCaches[V],ie=G.getSource().type;ie!=="vector"&&ie!=="geojson"||G.reload()}})}),this.on("data",T=>{if(T.dataType!=="source"||T.sourceDataType!=="metadata")return;const A=this.getSource(T.sourceId);if(A&&A.vectorLayerIds)for(const R in this._layers){const V=this._layers[R];V.source===A.id&&this._validateLayer(V)}})}loadURL(i,c={}){this.fire(new l.Event("dataloading",{dataType:"style"}));const v=typeof c.validate=="boolean"?c.validate:!l.isMapboxURL(i);i=this.map._requestManager.normalizeStyleURL(i,c.accessToken);const T=this.map._requestManager.transformRequest(i,l.ResourceType.Style);this._request=l.getJSON(T,(A,R)=>{this._request=null,A?this.fire(new l.ErrorEvent(A)):R&&this._load(R,v)})}loadJSON(i,c={}){this.fire(new l.Event("dataloading",{dataType:"style"})),this._request=l.exported.frame(()=>{this._request=null,this._load(i,c.validate!==!1)})}loadEmpty(){this.fire(new l.Event("dataloading",{dataType:"style"})),this._load(Ma,!1)}_updateLayerCount(i,c){const v=c?1:-1;i.is3D()&&(this._num3DLayers+=v),i.type==="circle"&&(this._numCircleLayers+=v),i.type==="symbol"&&(this._numSymbolLayers+=v)}_load(i,c){if(c&&qo(this,l.validateStyle(i)))return;this._loaded=!0,this.stylesheet=l.clone$1(i),this._updateMapProjection();for(const T in i.sources)this.addSource(T,i.sources[T],{validate:!1});this._changed=!1,i.sprite?this._loadSprite(i.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(i.glyphs);const v=K(this.stylesheet.layers);this._order=v.map(T=>T.id),this._layers={},this._serializedLayers={};for(let T of v)T=l.createStyleLayer(T),T.setEventedParent(this,{layer:{id:T.id}}),this._layers[T.id]=T,this._serializedLayers[T.id]=T.serialize(),this._updateLayerCount(T,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new te(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new l.Event("data",{dataType:"style"})),this.fire(new l.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(i){i?this.stylesheet.projection=i:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(i){this._spriteRequest=function(c,v,T){let A,R,V;const G=l.exported.devicePixelRatio>1?"@2x":"";let ie=l.getJSON(v.transformRequest(v.normalizeSpriteURL(c,G,".json"),l.ResourceType.SpriteJSON),(Fe,$e)=>{ie=null,V||(V=Fe,A=$e,be())}),ae=l.getImage(v.transformRequest(v.normalizeSpriteURL(c,G,".png"),l.ResourceType.SpriteImage),(Fe,$e)=>{ae=null,V||(V=Fe,R=$e,be())});function be(){if(V)T(V);else if(A&&R){const Fe=l.exported.getImageData(R),$e={};for(const Je in A){const{width:tt,height:Xe,x:qe,y:lt,sdf:st,pixelRatio:pt,stretchX:bt,stretchY:xt,content:Lt}=A[Je],qt=new l.RGBAImage({width:tt,height:Xe});l.RGBAImage.copy(Fe,qt,{x:qe,y:lt},{x:0,y:0},{width:tt,height:Xe}),$e[Je]={data:qt,pixelRatio:pt,sdf:st,stretchX:bt,stretchY:xt,content:Lt}}T(null,$e)}}return{cancel(){ie&&(ie.cancel(),ie=null),ae&&(ae.cancel(),ae=null)}}}(i,this.map._requestManager,(c,v)=>{if(this._spriteRequest=null,c)this.fire(new l.ErrorEvent(c));else if(v)for(const T in v)this.imageManager.addImage(T,v[T]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new l.Event("data",{dataType:"style"}))})}_validateLayer(i){const c=this.getSource(i.source);if(!c)return;const v=i.sourceLayer;v&&(c.type==="geojson"||c.vectorLayerIds&&c.vectorLayerIds.indexOf(v)===-1)&&this.fire(new l.ErrorEvent(new Error(`Source layer "${v}" does not exist on source "${c.id}" as specified by style layer "${i.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this._sourceCaches)if(!this._sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(i){const c=[];for(const v of i){const T=this._layers[v];T.type!=="custom"&&c.push(T.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const i in this._sourceCaches)if(this._sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(i){return!!this.terrain&&Oo[i.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(i){if(!this._loaded)return;const c=this._changed;if(this._changed){const T=Object.keys(this._updatedLayers),A=Object.keys(this._removedLayers);(T.length||A.length)&&this._updateWorkerLayers(T,A);for(const R in this._updatedSources){const V=this._updatedSources[R];V==="reload"?this._reloadSource(R):V==="clear"&&this._clearSource(R)}this._updateTilesForChangedImages();for(const R in this._updatedPaintProps)this._layers[R].updateTransitions(i);this.light.updateTransitions(i),this.fog&&this.fog.updateTransitions(i),this._resetUpdates()}const v={};for(const T in this._sourceCaches){const A=this._sourceCaches[T];v[T]=A.used,A.used=!1}for(const T of this._order){const A=this._layers[T];if(A.recalculate(i,this._availableImages),!A.isHidden(i.zoom)){const V=this._getLayerSourceCache(A);V&&(V.used=!0)}const R=this.map.painter;if(R){const V=A.getProgramIds();if(!V)continue;const G=A.getProgramConfiguration(i.zoom);for(const ie of V)R.useProgram(ie,G)}}for(const T in v){const A=this._sourceCaches[T];v[T]!==A.used&&A.getSource().fire(new l.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:A.getSource().id}))}this.light.recalculate(i),this.terrain&&this.terrain.recalculate(i),this.fog&&this.fog.recalculate(i),this.z=i.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),c&&this.fire(new l.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const c in this._sourceCaches)this._sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateWorkerLayers(i,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(i),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(i){if(this._checkLoaded(),qo(this,l.validateStyle(i)))return!1;(i=l.clone$1(i)).layers=K(i.layers);const c=function(T,A){if(!T)return[{command:ee.setStyle,args:[A]}];let R=[];try{if(!L(T.version,A.version))return[{command:ee.setStyle,args:[A]}];L(T.center,A.center)||R.push({command:ee.setCenter,args:[A.center]}),L(T.zoom,A.zoom)||R.push({command:ee.setZoom,args:[A.zoom]}),L(T.bearing,A.bearing)||R.push({command:ee.setBearing,args:[A.bearing]}),L(T.pitch,A.pitch)||R.push({command:ee.setPitch,args:[A.pitch]}),L(T.sprite,A.sprite)||R.push({command:ee.setSprite,args:[A.sprite]}),L(T.glyphs,A.glyphs)||R.push({command:ee.setGlyphs,args:[A.glyphs]}),L(T.transition,A.transition)||R.push({command:ee.setTransition,args:[A.transition]}),L(T.light,A.light)||R.push({command:ee.setLight,args:[A.light]}),L(T.fog,A.fog)||R.push({command:ee.setFog,args:[A.fog]}),L(T.projection,A.projection)||R.push({command:ee.setProjection,args:[A.projection]});const V={},G=[];(function(be,Fe,$e,Je){let tt;for(tt in Fe=Fe||{},be=be||{})be.hasOwnProperty(tt)&&(Fe.hasOwnProperty(tt)||we(tt,$e,Je));for(tt in Fe)Fe.hasOwnProperty(tt)&&(be.hasOwnProperty(tt)?L(be[tt],Fe[tt])||(be[tt].type==="geojson"&&Fe[tt].type==="geojson"&&Oe(be,Fe,tt)?$e.push({command:ee.setGeoJSONSourceData,args:[tt,Fe[tt].data]}):Me(tt,Fe,$e,Je)):ue(tt,Fe,$e))})(T.sources,A.sources,G,V);const ie=[];T.layers&&T.layers.forEach(be=>{be.source&&V[be.source]?R.push({command:ee.removeLayer,args:[be.id]}):ie.push(be)});let ae=T.terrain;ae&&V[ae.source]&&(R.push({command:ee.setTerrain,args:[void 0]}),ae=void 0),R=R.concat(G),L(ae,A.terrain)||R.push({command:ee.setTerrain,args:[A.terrain]}),function(be,Fe,$e){Fe=Fe||[];const Je=(be=be||[]).map(Le),tt=Fe.map(Le),Xe=be.reduce(gt,{}),qe=Fe.reduce(gt,{}),lt=Je.slice(),st=Object.create(null);let pt,bt,xt,Lt,qt,Yt,jt;for(pt=0,bt=0;pt<Je.length;pt++)xt=Je[pt],qe.hasOwnProperty(xt)?bt++:($e.push({command:ee.removeLayer,args:[xt]}),lt.splice(lt.indexOf(xt,bt),1));for(pt=0,bt=0;pt<tt.length;pt++)xt=tt[tt.length-1-pt],lt[lt.length-1-pt]!==xt&&(Xe.hasOwnProperty(xt)?($e.push({command:ee.removeLayer,args:[xt]}),lt.splice(lt.lastIndexOf(xt,lt.length-bt),1)):bt++,Yt=lt[lt.length-pt],$e.push({command:ee.addLayer,args:[qe[xt],Yt]}),lt.splice(lt.length-pt,0,xt),st[xt]=!0);for(pt=0;pt<tt.length;pt++)if(xt=tt[pt],Lt=Xe[xt],qt=qe[xt],!st[xt]&&!L(Lt,qt))if(L(Lt.source,qt.source)&&L(Lt["source-layer"],qt["source-layer"])&&L(Lt.type,qt.type)){for(jt in He(Lt.layout,qt.layout,$e,xt,null,ee.setLayoutProperty),He(Lt.paint,qt.paint,$e,xt,null,ee.setPaintProperty),L(Lt.filter,qt.filter)||$e.push({command:ee.setFilter,args:[xt,qt.filter]}),L(Lt.minzoom,qt.minzoom)&&L(Lt.maxzoom,qt.maxzoom)||$e.push({command:ee.setLayerZoomRange,args:[xt,qt.minzoom,qt.maxzoom]}),Lt)Lt.hasOwnProperty(jt)&&jt!=="layout"&&jt!=="paint"&&jt!=="filter"&&jt!=="metadata"&&jt!=="minzoom"&&jt!=="maxzoom"&&(jt.indexOf("paint.")===0?He(Lt[jt],qt[jt],$e,xt,jt.slice(6),ee.setPaintProperty):L(Lt[jt],qt[jt])||$e.push({command:ee.setLayerProperty,args:[xt,jt,qt[jt]]}));for(jt in qt)qt.hasOwnProperty(jt)&&!Lt.hasOwnProperty(jt)&&jt!=="layout"&&jt!=="paint"&&jt!=="filter"&&jt!=="metadata"&&jt!=="minzoom"&&jt!=="maxzoom"&&(jt.indexOf("paint.")===0?He(Lt[jt],qt[jt],$e,xt,jt.slice(6),ee.setPaintProperty):L(Lt[jt],qt[jt])||$e.push({command:ee.setLayerProperty,args:[xt,jt,qt[jt]]}))}else $e.push({command:ee.removeLayer,args:[xt]}),Yt=lt[lt.lastIndexOf(xt)+1],$e.push({command:ee.addLayer,args:[qt,Yt]})}(ie,A.layers,R)}catch(V){console.warn("Unable to compute style diff:",V),R=[{command:ee.setStyle,args:[A]}]}return R}(this.serialize(),i).filter(T=>!(T.command in ln));if(c.length===0)return!1;const v=c.filter(T=>!(T.command in gl));if(v.length>0)throw new Error(`Unimplemented: ${v.map(T=>T.command).join(", ")}.`);return c.forEach(T=>{T.command!=="setTransition"&&T.command!=="setProjection"&&this[T.command].apply(this,T.args)}),this.stylesheet=i,this._updateMapProjection(),!0}addImage(i,c){return this.getImage(i)?this.fire(new l.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(i,c),this._afterImageUpdated(i),this)}updateImage(i,c){this.imageManager.updateImage(i,c)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){return this.getImage(i)?(this.imageManager.removeImage(i),this._afterImageUpdated(i),this):this.fire(new l.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new l.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(i,c,v={}){if(this._checkLoaded(),this.getSource(i)!==void 0)throw new Error("There is already a source with this ID");if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(l.validateSource,`sources.${i}`,c,null,v))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const T=_e(i,c,this.dispatcher,this);T.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(i),source:T.serialize(),sourceId:i}));const A=R=>{const V=(R?"symbol:":"other:")+i,G=this._sourceCaches[V]=new l.SourceCache(V,T,R);(R?this._symbolSourceCaches:this._otherSourceCaches)[i]=G,G.style=this,G.onAdd(this.map)};A(!1),c.type!=="vector"&&c.type!=="geojson"||A(!0),T.onAdd&&T.onAdd(this.map),this._changed=!0}removeSource(i){this._checkLoaded();const c=this.getSource(i);if(!c)throw new Error("There is no source with this ID");for(const T in this._layers)if(this._layers[T].source===i)return this.fire(new l.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${T}" is using it.`)));if(this.terrain&&this.terrain.get().source===i)return this.fire(new l.ErrorEvent(new Error(`Source "${i}" cannot be removed while terrain is using it.`)));const v=this._getSourceCaches(i);for(const T of v)delete this._sourceCaches[T.id],delete this._updatedSources[T.id],T.fire(new l.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:T.getSource().id})),T.setEventedParent(null),T.clearTiles();return delete this._otherSourceCaches[i],delete this._symbolSourceCaches[i],c.setEventedParent(null),c.onRemove&&c.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(i,c){this._checkLoaded(),this.getSource(i).setData(c),this._changed=!0}getSource(i){const c=this._getSourceCache(i);return c&&c.getSource()}_getSources(){const i=[];for(const c in this._otherSourceCaches){const v=this._getSourceCache(c);v&&i.push(v.getSource())}return i}addLayer(i,c,v={}){this._checkLoaded();const T=i.id;if(this.getLayer(T))return void this.fire(new l.ErrorEvent(new Error(`Layer with id "${T}" already exists on this map`)));let A;if(i.type==="custom"){if(qo(this,l.validateCustomStyleLayer(i)))return;A=l.createStyleLayer(i)}else{if(typeof i.source=="object"&&(this.addSource(T,i.source),i=l.clone$1(i),i=l.extend(i,{source:T})),this._validate(l.validateLayer,`layers.${T}`,i,{arrayIndex:-1},v))return;A=l.createStyleLayer(i),this._validateLayer(A),A.setEventedParent(this,{layer:{id:T}}),this._serializedLayers[A.id]=A.serialize(),this._updateLayerCount(A,!0)}const R=c?this._order.indexOf(c):this._order.length;if(c&&R===-1)return void this.fire(new l.ErrorEvent(new Error(`Layer with id "${c}" does not exist on this map.`)));this._order.splice(R,0,T),this._layerOrderChanged=!0,this._layers[T]=A;const V=this._getLayerSourceCache(A);if(this._removedLayers[T]&&A.source&&V&&A.type!=="custom"){const G=this._removedLayers[T];delete this._removedLayers[T],G.type!==A.type?this._updatedSources[A.source]="clear":(this._updatedSources[A.source]="reload",V.pause())}this._updateLayer(A),A.onAdd&&A.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(i,c){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===c)return;const v=this._order.indexOf(i);this._order.splice(v,1);const T=c?this._order.indexOf(c):this._order.length;c&&T===-1?this.fire(new l.ErrorEvent(new Error(`Layer with id "${c}" does not exist on this map.`))):(this._order.splice(T,0,i),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(i){this._checkLoaded();const c=this._layers[i];if(!c)return void this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be removed.`)));c.setEventedParent(null),this._updateLayerCount(c,!1);const v=this._order.indexOf(i);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=c,delete this._layers[i],delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],c.onRemove&&c.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}hasLayerType(i){for(const c in this._layers)if(this._layers[c].type===i)return!0;return!1}setLayerZoomRange(i,c,v){this._checkLoaded();const T=this.getLayer(i);T?T.minzoom===c&&T.maxzoom===v||(c!=null&&(T.minzoom=c),v!=null&&(T.maxzoom=v),this._updateLayer(T)):this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(i,c,v={}){this._checkLoaded();const T=this.getLayer(i);if(T){if(!L(T.filter,c))return c==null?(T.filter=void 0,void this._updateLayer(T)):void(this._validate(l.validateFilter,`layers.${T.id}.filter`,c,{layerType:T.type},v)||(T.filter=l.clone$1(c),this._updateLayer(T)))}else this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be filtered.`)))}getFilter(i){const c=this.getLayer(i);return c&&l.clone$1(c.filter)}setLayoutProperty(i,c,v,T={}){this._checkLoaded();const A=this.getLayer(i);A?L(A.getLayoutProperty(c),v)||(A.setLayoutProperty(c,v,T),this._updateLayer(A)):this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(i,c){const v=this.getLayer(i);if(v)return v.getLayoutProperty(c);this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style.`)))}setPaintProperty(i,c,v,T={}){this._checkLoaded();const A=this.getLayer(i);A?L(A.getPaintProperty(c),v)||(A.setPaintProperty(c,v,T)&&this._updateLayer(A),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new l.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(i,c){const v=this.getLayer(i);return v&&v.getPaintProperty(c)}setFeatureState(i,c){this._checkLoaded();const v=i.source,T=i.sourceLayer,A=this.getSource(v);if(!A)return void this.fire(new l.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const R=A.type;if(R==="geojson"&&T)return void this.fire(new l.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(R==="vector"&&!T)return void this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));i.id===void 0&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided.")));const V=this._getSourceCaches(v);for(const G of V)G.setFeatureState(T,i.id,c)}removeFeatureState(i,c){this._checkLoaded();const v=i.source,T=this.getSource(v);if(!T)return void this.fire(new l.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const A=T.type,R=A==="vector"?i.sourceLayer:void 0;if(A==="vector"&&!R)return void this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(c&&typeof i.id!="string"&&typeof i.id!="number")return void this.fire(new l.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const V=this._getSourceCaches(v);for(const G of V)G.removeFeatureState(R,i.id,c)}getFeatureState(i){this._checkLoaded();const c=i.source,v=i.sourceLayer,T=this.getSource(c);if(T){if(T.type!=="vector"||v)return i.id===void 0&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(c)[0].getFeatureState(v,i.id);this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return l.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const i={};for(const c in this._sourceCaches){const v=this._sourceCaches[c].getSource();i[v.id]||(i[v.id]=v.serialize())}return l.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:i,layers:this._serializeLayers(this._order)},c=>c!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0;const c=this._getLayerSourceCache(i);i.source&&!this._updatedSources[i.source]&&c&&c.getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",c.pause()),this._changed=!0,i.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(i){const c=R=>this._layers[R].type==="fill-extrusion",v={},T=[];for(let R=this._order.length-1;R>=0;R--){const V=this._order[R];if(c(V)){v[V]=R;for(const G of i){const ie=G[V];if(ie)for(const ae of ie)T.push(ae)}}}T.sort((R,V)=>V.intersectionZ-R.intersectionZ);const A=[];for(let R=this._order.length-1;R>=0;R--){const V=this._order[R];if(c(V))for(let G=T.length-1;G>=0;G--){const ie=T[G].feature;if(v[ie.layer.id]<R)break;A.push(ie),T.pop()}else for(const G of i){const ie=G[V];if(ie)for(const ae of ie)A.push(ae.feature)}}return A}queryRenderedFeatures(i,c,v){c&&c.filter&&this._validate(l.validateFilter,"queryRenderedFeatures.filter",c.filter,null,c);const T={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new l.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const G of c.layers){const ie=this._layers[G];if(!ie)return this.fire(new l.ErrorEvent(new Error(`The layer '${G}' does not exist in the map's style and cannot be queried for features.`))),[];T[ie.source]=!0}}const A=[];c.availableImages=this._availableImages;const R=c&&c.layers?c.layers.some(G=>{const ie=this.getLayer(G);return ie&&ie.is3D()}):this.has3DLayers(),V=We.createFromScreenPoints(i,v);for(const G in this._sourceCaches){const ie=this._sourceCaches[G].getSource().id;c.layers&&!T[ie]||A.push(o(this._sourceCaches[G],this._layers,this._serializedLayers,V,c,v,R,!!this.map._showQueryGeometry))}return this.placement&&A.push(function(G,ie,ae,be,Fe,$e,Je){const tt={},Xe=$e.queryRenderedSymbols(be),qe=[];for(const lt of Object.keys(Xe).map(Number))qe.push(Je[lt]);qe.sort(b);for(const lt of qe){const st=lt.featureIndex.lookupSymbolFeatures(Xe[lt.bucketInstanceId],ie,lt.bucketIndex,lt.sourceLayerIndex,Fe.filter,Fe.layers,Fe.availableImages,G);for(const pt in st){const bt=tt[pt]=tt[pt]||[],xt=st[pt];xt.sort((Lt,qt)=>{const Yt=lt.featureSortOrder;if(Yt){const jt=Yt.indexOf(Lt.featureIndex);return Yt.indexOf(qt.featureIndex)-jt}return qt.featureIndex-Lt.featureIndex});for(const Lt of xt)bt.push(Lt)}}for(const lt in tt)tt[lt].forEach(st=>{const pt=st.feature,bt=ae(G[lt]).getFeatureState(pt.layer["source-layer"],pt.id);pt.source=pt.layer.source,pt.layer["source-layer"]&&(pt.sourceLayer=pt.layer["source-layer"]),pt.state=bt});return tt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),V.screenGeometry,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(A)}querySourceFeatures(i,c){c&&c.filter&&this._validate(l.validateFilter,"querySourceFeatures.filter",c.filter,null,c);const v=this._getSourceCaches(i);let T=[];for(const A of v)T=T.concat(g(A,c));return T}addSourceType(i,c,v){return z.getSourceType(i)?v(new Error(`A source type called "${i}" already exists.`)):(z.setSourceType(i,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:c.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(i,c={}){this._checkLoaded();const v=this.light.getLight();let T=!1;for(const R in i)if(!L(i[R],v[R])){T=!0;break}if(!T)return;const A=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(i,c),this.light.updateTransitions(A)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(i,c=1){if(this._checkLoaded(),!i)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(c===1){if(typeof i.source=="object"){const v="terrain-dem-src";this.addSource(v,i.source),i=l.clone$1(i),i=l.extend(i,{source:v})}if(this._validate(l.validateTerrain,"terrain",i))return}if(!this.terrain||this.terrain&&c!==this.terrain.drapeRenderMode)this._createTerrain(i,c);else{const v=this.terrain,T=v.get();for(const A of Object.keys(l.spec.terrain))!i.hasOwnProperty(A)&&l.spec.terrain[A].default&&(i[A]=l.spec.terrain[A].default);for(const A in i)if(!L(i[A],T[A])){v.set(i),this.stylesheet.terrain=i;const R=this._setTransitionParameters({duration:0});v.updateTransitions(R);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(i){const c=this.fog=new Ne(i,this.map.transform);this.stylesheet.fog=i;const v=this._setTransitionParameters({duration:0});c.updateTransitions(v)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const i of this.map._markers)i._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(i){if(this._checkLoaded(),!i)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const c=this.fog,v=c.get();Object.keys(i).length===0&&c.set(i);for(const T in i)if(!L(i[T],v[T])){c.set(i),this.stylesheet.fog=i;const A=this._setTransitionParameters({duration:0});c.updateTransitions(A);break}}else this._createFog(i);this._markersNeedUpdate=!0}_setTransitionParameters(i){return{now:l.exported.now(),transition:l.extend(i,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const i=this._order.filter(v=>this.isLayerDraped(this._layers[v])),c=this._order.filter(v=>!this.isLayerDraped(this._layers[v]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...i),this._drapedFirstOrder.push(...c)}_createTerrain(i,c){const v=this.terrain=new Se(i,c);this.stylesheet.terrain=i,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const T=this._setTransitionParameters({duration:0});v.updateTransitions(T)}_force3DLayerUpdate(){for(const i in this._layers){const c=this._layers[i];c.type==="fill-extrusion"&&this._updateLayer(c)}}_forceSymbolLayerUpdate(){for(const i in this._layers){const c=this._layers[i];c.type==="symbol"&&this._updateLayer(c)}}_validate(i,c,v,T,A={}){return(!A||A.validate!==!1)&&qo(this,i.call(l.validateStyle,l.extend({key:c,style:this.serialize(),value:v,styleSpec:l.spec},T)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),l.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const i in this._layers)this._layers[i].setEventedParent(null);for(const i in this._sourceCaches)this._sourceCaches[i].clearTiles(),this._sourceCaches[i].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(i){const c=this._getSourceCaches(i);for(const v of c)v.clearTiles()}_reloadSource(i){const c=this._getSourceCaches(i);for(const v of c)v.resume(),v.reload()}_reloadSources(){for(const i of this._getSources())i.reload&&i.reload()}_updateSources(i){for(const c in this._sourceCaches)this._sourceCaches[c].update(i)}_generateCollisionBoxes(){for(const i in this._sourceCaches){const c=this._sourceCaches[i];c.resume(),c.reload()}}_updatePlacement(i,c,v,T,A=!1){let R=!1,V=!1;const G={};for(const ie of this._order){const ae=this._layers[ie];if(ae.type!=="symbol")continue;if(!G[ae.source]){const Fe=this._getLayerSourceCache(ae);if(!Fe)continue;G[ae.source]=Fe.getRenderableIds(!0).map($e=>Fe.getTileByID($e)).sort(($e,Je)=>Je.tileID.overscaledZ-$e.tileID.overscaledZ||($e.tileID.isLessThan(Je.tileID)?-1:1))}const be=this.crossTileSymbolIndex.addLayer(ae,G[ae.source],i.center.lng,i.projection);R=R||be}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),A=A||this._layerOrderChanged||v===0,this._layerOrderChanged&&this.fire(new l.Event("neworder")),(A||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(l.exported.now(),i.zoom))&&(this.pauseablePlacement=new ws(i,this._order,A,c,v,T,this.placement,this.fog&&i.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,G),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(l.exported.now()),V=!0),R&&this.pauseablePlacement.placement.setStale()),V||R)for(const ie of this._order){const ae=this._layers[ie];ae.type==="symbol"&&this.placement.updateLayerOpacities(ae,G[ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(l.exported.now())}_releaseSymbolFadeTiles(){for(const i in this._sourceCaches)this._sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,c,v){this.imageManager.getImages(c.icons,v),this._updateTilesForChangedImages();const T=A=>{A&&A.setDependencies(c.tileID.key,c.type,c.icons)};T(this._otherSourceCaches[c.source]),T(this._symbolSourceCaches[c.source])}getGlyphs(i,c,v){this.glyphManager.getGlyphs(c.stacks,v)}getResource(i,c,v){return l.makeRequest(c,v)}_getSourceCache(i){return this._otherSourceCaches[i]}_getLayerSourceCache(i){return i.type==="symbol"?this._symbolSourceCaches[i.source]:this._otherSourceCaches[i.source]}_getSourceCaches(i){const c=[];return this._otherSourceCaches[i]&&c.push(this._otherSourceCaches[i]),this._symbolSourceCaches[i]&&c.push(this._symbolSourceCaches[i]),c}_isSourceCacheLoaded(i){const c=this._getSourceCaches(i);return c.length===0?(this.fire(new l.ErrorEvent(new Error(`There is no source with ID '${i}'`))),!1):c.every(v=>v.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}z.getSourceType=function(f){return Bt[f]},z.setSourceType=function(f,i){Bt[f]=i},z.registerForPluginStateChange=l.registerForPluginStateChange;var Z=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,he="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",xe=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,ze=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ve=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Qe={},Ct={};const Mt=[];di(Z,Mt),di(xe,Mt),di(ze,Mt),di(Ve,Mt),Qe=Ni("",xe),Ct=Ni(Ve,ze);const Ht=Ni(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),ci=Z,Pi=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Jt={background:Ni(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Ni(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Ni(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Ni("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ni(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Ni(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ni("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Ni("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Ni("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Ni(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Ni(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Ni(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Ni(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Ni(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Ni(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Ni(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ni(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Ni(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Ni(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Ni(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Ni(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Ni(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Ni(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Ni(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Ni(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Ni(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,he),skyboxGradient:Ni(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,he),skyboxCapture:Ni(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Ni(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Ni(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function di(f,i){const c=f.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let v of c)if(v=v.trim(),v[0]==="#"&&v.includes("if")&&!v.includes("endif")){v=v.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const T=v.split(" ");for(const A of T)i.includes(A)||i.push(A)}}function Ni(f,i){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=i.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),T={},A=[...Mt];return di(f,A),di(i,A),{fragmentSource:f=f.replace(c,(R,V,G,ie,ae)=>(T[ae]=!0,V==="define"?`
#ifndef HAS_UNIFORM_u_${ae}
varying ${G} ${ie} ${ae};
#else
uniform ${G} ${ie} u_${ae};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ae}
    ${G} ${ie} ${ae} = u_${ae};
#endif
`)),vertexSource:i=i.replace(c,(R,V,G,ie,ae)=>{const be=ie==="float"?"vec2":"vec4",Fe=ae.match(/color/)?"color":be;return T[ae]?V==="define"?`
#ifndef HAS_UNIFORM_u_${ae}
uniform lowp float u_${ae}_t;
attribute ${G} ${be} a_${ae};
varying ${G} ${ie} ${ae};
#else
uniform ${G} ${ie} u_${ae};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ae}
    ${ae} = a_${ae};
#else
    ${G} ${ie} ${ae} = u_${ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ae}
    ${ae} = unpack_mix_${Fe}(a_${ae}, u_${ae}_t);
#else
    ${G} ${ie} ${ae} = u_${ae};
#endif
`:V==="define"?`
#ifndef HAS_UNIFORM_u_${ae}
uniform lowp float u_${ae}_t;
attribute ${G} ${be} a_${ae};
#else
uniform ${G} ${ie} u_${ae};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ae}
    ${G} ${ie} ${ae} = a_${ae};
#else
    ${G} ${ie} ${ae} = u_${ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ae}
    ${G} ${ie} ${ae} = unpack_mix_${Fe}(a_${ae}, u_${ae}_t);
#else
    ${G} ${ie} ${ae} = u_${ae};
#endif
`}),staticAttributes:v,usedDefines:A}}class wr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(i,c,v,T,A,R,V){this.context=i;let G=this.boundPaintVertexBuffers.length!==T.length;for(let ae=0;!G&&ae<T.length;ae++)this.boundPaintVertexBuffers[ae]!==T[ae]&&(G=!0);let ie=this.boundDynamicVertexBuffers.length!==V.length;for(let ae=0;!ie&&ae<V.length;ae++)this.boundDynamicVertexBuffers[ae]!==V[ae]&&(ie=!0);if(!i.extVertexArrayObject||!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==v||G||ie||this.boundIndexBuffer!==A||this.boundVertexOffset!==R)this.freshBind(c,v,T,A,R,V);else{i.bindVertexArrayOES.set(this.vao);for(const ae of V)ae&&ae.bind();A&&A.dynamicDraw&&A.bind()}}freshBind(i,c,v,T,A,R){let V;const G=i.numAttributes,ie=this.context,ae=ie.gl;if(ie.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ie.extVertexArrayObject.createVertexArrayOES(),ie.bindVertexArrayOES.set(this.vao),V=0,this.boundProgram=i,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=T,this.boundVertexOffset=A,this.boundDynamicVertexBuffers=R;else{V=ie.currentNumAttributes||0;for(let be=G;be<V;be++)ae.disableVertexAttribArray(be)}c.enableAttributes(ae,i),c.bind(),c.setVertexAttribPointers(ae,i,A);for(const be of v)be.enableAttributes(ae,i),be.bind(),be.setVertexAttribPointers(ae,i,A);for(const be of R)be&&(be.enableAttributes(ae,i),be.bind(),be.setVertexAttribPointers(ae,i,A));T&&T.bind(),ie.currentNumAttributes=G}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function rr(f,i){const c=Math.pow(2,i.canonical.z),v=i.canonical.y;return[new l.MercatorCoordinate(0,v/c).toLngLat().lat,new l.MercatorCoordinate(0,(v+1)/c).toLngLat().lat]}function Rn(f,i,c,v,T,A,R){const V=f.context,G=V.gl,ie=c.fbo;if(!ie)return;f.prepareDrawTile();const ae=f.useProgram("hillshade");V.activeTexture.set(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,ie.colorAttachment.get());const be=((tt,Xe,qe,lt)=>{const st=qe.paint.get("hillshade-shadow-color"),pt=qe.paint.get("hillshade-highlight-color"),bt=qe.paint.get("hillshade-accent-color");let xt=qe.paint.get("hillshade-illumination-direction")*(Math.PI/180);qe.paint.get("hillshade-illumination-anchor")==="viewport"&&(xt-=tt.transform.angle);const Lt=!tt.options.moving;return{u_matrix:lt||tt.transform.calculateProjMatrix(Xe.tileID.toUnwrapped(),Lt),u_image:0,u_latrange:rr(0,Xe.tileID),u_light:[qe.paint.get("hillshade-exaggeration"),xt],u_shadow:st,u_highlight:pt,u_accent:bt}})(f,c,v,f.terrain?i.projMatrix:null);f.prepareDrawProgram(V,ae,i.toUnwrapped());const{tileBoundsBuffer:Fe,tileBoundsIndexBuffer:$e,tileBoundsSegments:Je}=f.getTileBoundsBuffers(c);ae.draw(V,G.TRIANGLES,T,A,R,l.CullFaceMode.disabled,be,v.id,Fe,$e,Je)}function yn(f,i,c){if(!i.needsDEMTextureUpload)return;const v=f.context,T=v.gl;v.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||f.getTileTexture(c.stride);const A=c.getPixels();i.demTexture?i.demTexture.update(A,{premultiply:!1}):i.demTexture=new l.Texture(v,A,T.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function va(f,i,c,v,T,A){const R=f.context,V=R.gl;if(!i.dem)return;const G=i.dem;if(R.activeTexture.set(V.TEXTURE1),yn(f,i,G),!i.demTexture)return;i.demTexture.bind(V.NEAREST,V.CLAMP_TO_EDGE);const ie=G.dim;R.activeTexture.set(V.TEXTURE0);let ae=i.fbo;if(!ae){const Je=new l.Texture(R,{width:ie,height:ie,data:null},V.RGBA);Je.bind(V.LINEAR,V.CLAMP_TO_EDGE),ae=i.fbo=R.createFramebuffer(ie,ie,!0),ae.colorAttachment.set(Je.texture)}R.bindFramebuffer.set(ae.framebuffer),R.viewport.set([0,0,ie,ie]);const{tileBoundsBuffer:be,tileBoundsIndexBuffer:Fe,tileBoundsSegments:$e}=f.getMercatorTileBoundsBuffers();f.useProgram("hillshadePrepare").draw(R,V.TRIANGLES,v,T,A,l.CullFaceMode.disabled,((Je,tt)=>{const Xe=tt.stride,qe=l.create();return l.ortho(qe,0,l.EXTENT,-l.EXTENT,0,0,1),l.translate(qe,qe,[0,-l.EXTENT,0]),{u_matrix:qe,u_image:1,u_dimension:[Xe,Xe],u_zoom:Je.overscaledZ,u_unpack:tt.unpackVector}})(i.tileID,G),c.id,be,Fe,$e),i.needsHillshadePrepare=!1}const Hr=f=>({u_matrix:new l.UniformMatrix4f(f),u_image0:new l.Uniform1i(f),u_skirt_height:new l.Uniform1f(f)}),_r=(f,i)=>({u_matrix:f,u_image0:0,u_skirt_height:i}),zn=(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e)=>({u_proj_matrix:Float32Array.from(f),u_globe_matrix:i,u_normalize_matrix:Float32Array.from(v),u_merc_matrix:c,u_zoom_transition:T,u_merc_center:A,u_image0:0,u_frustum_tl:R,u_frustum_tr:V,u_frustum_br:G,u_frustum_bl:ie,u_globe_pos:ae,u_globe_radius:be,u_viewport:Fe,u_grid_matrix:$e?Float32Array.from($e):new Float32Array(9)});function Qi(f,i){return f!=null&&i!=null&&!(!f.hasData()||!i.hasData())&&f.demTexture!=null&&i.demTexture!=null&&f.tileID.key!==i.tileID.key}const zr=new class{constructor(){this.operations={}}newMorphing(f,i,c,v,T){if(f in this.operations){const A=this.operations[f];A.to.tileID.key!==c.tileID.key&&(A.queued=c)}else this.operations[f]={startTime:v,phase:0,duration:T,from:i,to:c,queued:null}}getMorphValuesForProxy(f){if(!(f in this.operations))return null;const i=this.operations[f];return{from:i.from,to:i.to,phase:i.phase}}update(f){for(const i in this.operations){const c=this.operations[i];for(c.phase=(f-c.startTime)/c.duration;c.phase>=1||!this._validOp(c);)if(!this._nextOp(c,f)){delete this.operations[i];break}}}_nextOp(f,i){return!!f.queued&&(f.from=f.to,f.to=f.queued,f.queued=null,f.phase=0,f.startTime=i,!0)}_validOp(f){return f.from.hasData()&&f.to.hasData()}},Jn={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Bs(f,i){const c=1<<f.z;return!i&&(f.x===0||f.x===c-1)||f.y===0||f.y===c-1}const aa=f=>({u_matrix:f});function Qn(f,i,c,v,T){if(T>0){const A=l.exported.now(),R=(A-f.timeAdded)/T,V=i?(A-i.timeAdded)/T:-1,G=c.getSource(),ie=v.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),ae=!i||Math.abs(i.tileID.overscaledZ-ie)>Math.abs(f.tileID.overscaledZ-ie),be=ae&&f.refreshedUponExpiration?1:l.clamp(ae?R:1-V,0,1);return f.refreshedUponExpiration&&R>=1&&(f.refreshedUponExpiration=!1),i?{opacity:1,mix:1-be}:{opacity:be,mix:0}}return{opacity:1,mix:0}}class xr extends l.SourceCache{constructor(i){const c={type:"raster-dem",maxzoom:i.transform.maxZoom},v=new Ze(N(),null),T=_e("mock-dem",c,v,i.style);super("mock-dem",T,!1),T.setEventedParent(this),this._sourceLoaded=!0}_loadTile(i,c){i.state="loaded",c(null)}}class sa extends l.SourceCache{constructor(i){const c=_e("proxy",{type:"geojson",maxzoom:i.transform.maxZoom},new Ze(N(),null),i.style);super("proxy",c,!1),c.setEventedParent(this),this.map=this.getSource().map=i,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(i,c,v){if(i.freezeTileCoverage)return;this.transform=i;const T=i.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((A,R)=>{if(A[R.key]="",!this._tiles[R.key]){const V=new l.Tile(R,this._source.tileSize*R.overscaleFactor(),i.tileZoom);V.state="loaded",this._tiles[R.key]=V}return A},{});for(const A in this._tiles)A in T||(this.freeFBO(A),this._tiles[A].unloadVectorData(),delete this._tiles[A])}freeFBO(i){const c=this.proxyCachedFBO[i];if(c!==void 0){const v=Object.values(c);this.renderCachePool.push(...v),delete this.proxyCachedFBO[i]}}deallocRenderCache(){this.renderCache.forEach(i=>i.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Qa extends l.OverscaledTileID{constructor(i,c,v){super(i.overscaledZ,i.wrap,i.canonical.z,i.canonical.x,i.canonical.y),this.proxyTileKey=c,this.projMatrix=v}}class ca extends l.Elevation{constructor(i,c){super(),this.painter=i,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[v,T,A]=function(G){const ie=new l.StructArrayLayout4i8,ae=new l.StructArrayLayout3ui6,be=131;ie.reserve(17161),ae.reserve(33800);const Fe=l.EXTENT/128,$e=l.EXTENT+Fe/2,Je=$e+Fe;for(let Xe=-Fe;Xe<Je;Xe+=Fe)for(let qe=-Fe;qe<Je;qe+=Fe){const lt=qe<0||qe>$e||Xe<0||Xe>$e?24575:0,st=l.clamp(Math.round(qe),0,l.EXTENT),pt=l.clamp(Math.round(Xe),0,l.EXTENT);ie.emplaceBack(st+lt,pt,st,pt)}const tt=(Xe,qe)=>{const lt=qe*be+Xe;ae.emplaceBack(lt+1,lt,lt+be),ae.emplaceBack(lt+be,lt+be+1,lt+1)};for(let Xe=1;Xe<129;Xe++)for(let qe=1;qe<129;qe++)tt(qe,Xe);return[0,129].forEach(Xe=>{for(let qe=0;qe<130;qe++)tt(qe,Xe),tt(Xe,qe)}),[ie,ae,32768]}(),R=i.context;this.gridBuffer=R.createVertexBuffer(v,l.boundsAttributes.members),this.gridIndexBuffer=R.createIndexBuffer(T),this.gridSegments=l.SegmentVector.simpleSegment(0,0,v.length,T.length),this.gridNoSkirtSegments=l.SegmentVector.simpleSegment(0,0,v.length,A),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new sa(c.map),this.orthoMatrix=l.create(),l.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,l.EXTENT,0,l.EXTENT,0,1);const V=R.gl;this._overlapStencilMode=new l.StencilMode({func:V.GEQUAL,mask:255},0,255,V.KEEP,V.KEEP,V.REPLACE),this._previousZoom=i.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=c,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new xr(c.map)}set style(i){i.on("data",this._onStyleDataEvent.bind(this)),i.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=i,this._checkRenderCacheEfficiency()}update(i,c,v){if(i&&i.terrain){this._style!==i&&(this.style=i),this.enabled=!0;const T=i.terrain.properties;this.sourceCache=i.terrain.drapeRenderMode===0?this._mockSourceCache:i._getSourceCache(T.get("source")),this._exaggeration=T.get("exaggeration");const A=()=>{this.sourceCache.used&&l.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const R=this.getScaledDemTileSize();this.sourceCache.update(c,R,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,A(),this._initializing=!0),A(),c.updateElevation(!0,v),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(c),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(i){this._findCoveringTileCache[i]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const i=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||i.efficiency!==100&&l.warnOnce(`Terrain render cache efficiency is not optimal (${i.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${i.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(i){i.coord&&i.dataType==="source"?this._clearRenderCacheForTile(i.sourceCacheId,i.coord):i.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const i in this._style._sourceCaches)this._style._sourceCaches[i].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(i=>i.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const i=2*this.proxySourceCache.getSource().tileSize;return[i,i]}set useVertexMorphing(i){this._useVertexMorphing=i}updateTileBinding(i){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const c=this.proxySourceCache,v=this.painter.transform;this._initializing&&(this._initializing=v._centerAltitude===0&&this.getAtPointOrZero(l.MercatorCoordinate.fromLngLat(v.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const T=this.proxyCoords=c.getIds().map(G=>{const ie=c.getTileByID(G).tileID;return ie.projMatrix=v.calculateProjMatrix(ie.toUnwrapped()),ie});(function(G,ie){const ae=ie.transform.pointCoordinate(ie.transform.getCameraPoint()),be=new l.pointGeometry(ae.x,ae.y);G.sort((Fe,$e)=>{if($e.overscaledZ-Fe.overscaledZ)return $e.overscaledZ-Fe.overscaledZ;const Je=new l.pointGeometry(Fe.canonical.x+(1<<Fe.canonical.z)*Fe.wrap,Fe.canonical.y),tt=new l.pointGeometry($e.canonical.x+(1<<$e.canonical.z)*$e.wrap,$e.canonical.y),Xe=be.mult(1<<Fe.canonical.z);return Xe.x-=.5,Xe.y-=.5,Xe.distSqr(Je)-Xe.distSqr(tt)})})(T,this.painter),this._previousZoom=v.zoom;const A=this.proxyToSource||{};this.proxyToSource={},T.forEach(G=>{this.proxyToSource[G.key]={}}),this.terrainTileForTile={};const R=this._style._sourceCaches;for(const G in R){const ie=R[G];if(!ie.used||(ie!==this.sourceCache&&this.resetTileLookupCache(ie.id),this._setupProxiedCoordsForOrtho(ie,i[G],A),ie.usedForTerrain))continue;const ae=i[G];ie.getSource().reparseOverscaled&&this._assignTerrainTiles(ae)}this.proxiedCoords[c.id]=T.map(G=>new Qa(G,G.key,this.orthoMatrix)),this._assignTerrainTiles(T),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(A),this.renderingToTexture=!1,this._updateTimestamp=l.exported.now();const V={};this._visibleDemTiles=[];for(const G of this.proxyCoords){const ie=this.terrainTileForTile[G.key];if(!ie)continue;const ae=ie.tileID.key;ae in V||(this._visibleDemTiles.push(ie),V[ae]=ae)}}_assignTerrainTiles(i){this._initializing||i.forEach(c=>{if(this.terrainTileForTile[c.key])return;const v=this._findTileCoveringTileID(c,this.sourceCache);v&&(this.terrainTileForTile[c.key]=v)})}_prepareDEMTextures(){const i=this.painter.context,c=i.gl;for(const v in this.terrainTileForTile){const T=this.terrainTileForTile[v],A=T.dem;!A||T.demTexture&&!T.needsDEMTextureUpload||(i.activeTexture.set(c.TEXTURE1),yn(this.painter,T,A))}}_prepareDemTileUniforms(i,c,v,T){if(!c||c.demTexture==null)return!1;const A=i.tileID.canonical,R=Math.pow(2,c.tileID.canonical.z-A.z),V=T||"";return v[`u_dem_tl${V}`]=[A.x*R%1,A.y*R%1],v[`u_dem_scale${V}`]=R,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const i=this.painter.context,c=i.gl;if(!this._emptyDepthBufferTexture){const v=new l.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new l.Texture(i,v,c.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let i=0;const c=this._visibleDemTiles.reduce((v,T)=>{if(!T.dem)return v;const A=T.dem.tree.minimums[0];return A>0&&i++,v+A},0);return i?c/i:0}_updateEmptyDEMTexture(){const i=this.painter.context,c=i.gl;i.activeTexture.set(c.TEXTURE2);const v=this._getLoadedAreaMinimum(),T=new l.RGBAImage({width:1,height:1},new Uint8Array(l.DEMData.pack(v,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let A=this._emptyDEMTexture;return A?A.update(T,{premultiply:!1}):A=this._emptyDEMTexture=new l.Texture(i,T,c.RGBA,{premultiply:!1}),A}setupElevationDraw(i,c,v){const T=this.painter.context,A=T.gl,R=(V=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:l.DEMData.getUnpackVector(V),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var V;R.u_dem_size=this.sourceCache.getSource().tileSize,R.u_exaggeration=this.exaggeration();let G=null,ie=null,ae=1;if(v&&v.morphing&&this._useVertexMorphing){const be=v.morphing.srcDemTile,Fe=v.morphing.dstDemTile;ae=v.morphing.phase,be&&Fe&&(this._prepareDemTileUniforms(i,be,R,"_prev")&&(ie=be),this._prepareDemTileUniforms(i,Fe,R)&&(G=Fe))}if(ie&&G?(T.activeTexture.set(A.TEXTURE2),G.demTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE,A.NEAREST),T.activeTexture.set(A.TEXTURE4),ie.demTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE,A.NEAREST),R.u_dem_lerp=ae):(G=this.terrainTileForTile[i.tileID.key],T.activeTexture.set(A.TEXTURE2),(this._prepareDemTileUniforms(i,G,R)?G.demTexture:this.emptyDEMTexture).bind(A.NEAREST,A.CLAMP_TO_EDGE)),T.activeTexture.set(A.TEXTURE3),v&&v.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE),this._depthFBO&&(R.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE),R.u_depth_size_inv=[1,1]),v&&v.useMeterToDem&&G){const be=(1<<G.tileID.canonical.z)*l.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;R.u_meter_to_dem=be}if(v&&v.labelPlaneMatrixInv&&(R.u_label_plane_matrix_inv=v.labelPlaneMatrixInv),c.setTerrainUniformValues(T,R),this.painter.transform.projection.name==="globe"){const be=this.globeUniformValues(this.painter.transform,i.tileID.canonical,v&&v.useDenormalizedUpVectorScale);c.setGlobeUniformValues(T,be)}}globeUniformValues(i,c,v){const T=i.projection;return{u_tile_tl_up:T.upVector(c,0,0),u_tile_tr_up:T.upVector(c,l.EXTENT,0),u_tile_br_up:T.upVector(c,l.EXTENT,l.EXTENT),u_tile_bl_up:T.upVector(c,0,l.EXTENT),u_tile_up_scale:v?l.GLOBE_METERS_TO_ECEF:T.upVectorScale(c,i.center.lat,i.worldSize).metersToTile}}renderToBackBuffer(i){const c=this.painter,v=this.painter.context;i.length!==0&&(v.bindFramebuffer.set(null),v.viewport.set([0,0,c.width,c.height]),c.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(T,A,R,V,G){if(T.transform.projection.name==="globe")(function(ie,ae,be,Fe,$e){const Je=ie.context,tt=Je.gl;let Xe,qe;const lt=ie.options.showTerrainWireframe?2:0,st=ie.transform,pt=l.globeUseCustomAntiAliasing(ie,Je,st),bt=(Ai,ni)=>{if(qe===Ai)return;const bi=[Jn[Ai],"PROJECTION_GLOBE_VIEW"];pt&&bi.push("CUSTOM_ANTIALIASING"),ni&&bi.push(Jn[lt]),Xe=ie.useProgram("globeRaster",null,bi),qe=Ai},xt=ie.colorModeForRenderPass(),Lt=new l.DepthMode(tt.LEQUAL,l.DepthMode.ReadWrite,ie.depthRangeFor3D);zr.update($e);const qt=l.calculateGlobeMercatorMatrix(st),Yt=[l.mercatorXfromLng(st.center.lng),l.mercatorYfromLat(st.center.lat)],jt=lt?[!1,!0]:[!1],ki=ie.globeSharedBuffers,$t=[st.width*l.exported.devicePixelRatio,st.height*l.exported.devicePixelRatio],pi=Float32Array.from(st.globeMatrix),ei={useDenormalizedUpVectorScale:!0};if(jt.forEach(Ai=>{qe=-1;const ni=Ai?tt.LINES:tt.TRIANGLES;for(const bi of Fe){const Oi=be.getTile(bi),Gt=l.StencilMode.disabled,Qt=ae.prevTerrainTileForTile[bi.key],Zi=ae.terrainTileForTile[bi.key];Qi(Qt,Zi)&&zr.newMorphing(bi.key,Qt,Zi,$e,250),Je.activeTexture.set(tt.TEXTURE0),Oi.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE);const or=zr.getMorphValuesForProxy(bi.key),qi=or?1:0;or&&l.extend$1(ei,{morphing:{srcDemTile:or.from,dstDemTile:or.to,phase:l.easeCubicInOut(or.phase)}});const mr=l.tileCornersToBounds(bi.canonical),Cr=l.getLatitudinalLod(mr.getCenter().lat),lr=l.getGridMatrix(bi.canonical,mr,Cr,st.worldSize/st._pixelsPerMercatorPixel),$i=l.globeNormalizeECEF(l.globeTileBounds(bi.canonical)),hn=zn(st.projMatrix,pi,qt,$i,l.globeToMercatorTransition(st.zoom),Yt,st.frustumCorners.TL,st.frustumCorners.TR,st.frustumCorners.BR,st.frustumCorners.BL,st.globeCenterInViewSpace,st.globeRadius,$t,lr);if(bt(qi,Ai),ae.setupElevationDraw(Oi,Xe,ei),ie.prepareDrawProgram(Je,Xe,bi.toUnwrapped()),ki){const[on,An,_n]=Ai?ki.getWirefameBuffers(ie.context,Cr):ki.getGridBuffers(Cr);Xe.draw(Je,ni,Lt,Gt,xt,l.CullFaceMode.backCCW,hn,"globe_raster",on,An,_n)}}}),ki){const Ai=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];pt&&Ai.push("CUSTOM_ANTIALIASING"),Xe=ie.useProgram("globeRaster",null,Ai);for(const ni of Fe){const{x:bi,y:Oi,z:Gt}=ni.canonical,Qt=Oi===0,Zi=Oi===(1<<Gt)-1,[or,qi,mr,Cr]=ki.getPoleBuffers(Gt);if(Cr&&(Qt||Zi)){const lr=be.getTile(ni);Je.activeTexture.set(tt.TEXTURE0),lr.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE);let $i=l.globePoleMatrixForTile(Gt,bi,st);const hn=l.globeNormalizeECEF(l.globeTileBounds(ni.canonical)),on=(An,_n)=>An.draw(Je,tt.TRIANGLES,Lt,l.StencilMode.disabled,xt,l.CullFaceMode.disabled,zn(st.projMatrix,$i,$i,hn,0,Yt,st.frustumCorners.TL,st.frustumCorners.TR,st.frustumCorners.BR,st.frustumCorners.BL,st.globeCenterInViewSpace,st.globeRadius,$t),"globe_pole_raster",_n,mr,Cr);ae.setupElevationDraw(lr,Xe,ei),ie.prepareDrawProgram(Je,Xe,ni.toUnwrapped()),Qt&&on(Xe,or),Zi&&($i=l.scale(l.create(),$i,[1,-1,1]),on(Xe,qi))}}}})(T,A,R,V,G);else{const ie=T.context,ae=ie.gl;let be,Fe;const $e=T.options.showTerrainWireframe?2:0,Je=(st,pt)=>{if(Fe===st)return;const bt=[Jn[st]];pt&&bt.push(Jn[$e]),be=T.useProgram("terrainRaster",null,bt),Fe=st},tt=T.colorModeForRenderPass(),Xe=new l.DepthMode(ae.LEQUAL,l.DepthMode.ReadWrite,T.depthRangeFor3D);zr.update(G);const qe=T.transform,lt=6*Math.pow(1.5,22-qe.zoom)*A.exaggeration();($e?[!1,!0]:[!1]).forEach(st=>{Fe=-1;const pt=st?ae.LINES:ae.TRIANGLES,[bt,xt]=st?A.getWirefameBuffer():[A.gridIndexBuffer,A.gridSegments];for(const Lt of V){const qt=R.getTile(Lt),Yt=l.StencilMode.disabled,jt=A.prevTerrainTileForTile[Lt.key],ki=A.terrainTileForTile[Lt.key];Qi(jt,ki)&&zr.newMorphing(Lt.key,jt,ki,G,250),ie.activeTexture.set(ae.TEXTURE0),qt.texture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE,ae.LINEAR_MIPMAP_NEAREST);const $t=zr.getMorphValuesForProxy(Lt.key),pi=$t?1:0;let ei;$t&&(ei={morphing:{srcDemTile:$t.from,dstDemTile:$t.to,phase:l.easeCubicInOut($t.phase)}});const Ai=_r(Lt.projMatrix,Bs(Lt.canonical,qe.renderWorldCopies)?lt/10:lt);Je(pi,st),A.setupElevationDraw(qt,be,ei),T.prepareDrawProgram(ie,be,Lt.toUnwrapped()),be.draw(ie,pt,Xe,Yt,tt,l.CullFaceMode.backCCW,Ai,"terrain_raster",A.gridBuffer,bt,xt)}})}}(c,this,this.proxySourceCache,i,this._updateTimestamp),this.renderingToTexture=!0,c.gpuTimingDeferredRenderEnd(),i.splice(0,i.length))}renderBatch(i){if(this._drapedRenderBatches.length===0)return i+1;this.renderingToTexture=!0;const c=this.painter,v=this.painter.context,T=this.proxySourceCache,A=this.proxiedCoords[T.id],R=this._drapedRenderBatches.shift(),V=[],G=c.style.order;let ie=0;for(const ae of A){const be=T.getTileByID(ae.proxyTileKey),Fe=T.proxyCachedFBO[ae.key]?T.proxyCachedFBO[ae.key][i]:void 0,$e=Fe!==void 0?T.renderCache[Fe]:this.pool[ie++],Je=Fe!==void 0;if(be.texture=$e.tex,Je&&!$e.dirty){V.push(be.tileID);continue}let tt;v.bindFramebuffer.set($e.fb.framebuffer),this.renderedToTile=!1,$e.dirty&&(v.clear({color:l.Color.transparent,stencil:0}),$e.dirty=!1);for(let Xe=R.start;Xe<=R.end;++Xe){const qe=c.style._layers[G[Xe]];if(qe.isHidden(c.transform.zoom))continue;const lt=c.style._getLayerSourceCache(qe),st=lt?this.proxyToSource[ae.key][lt.id]:[ae];if(!st)continue;const pt=st;v.viewport.set([0,0,$e.fb.width,$e.fb.height]),tt!==(lt?lt.id:null)&&(this._setupStencil($e,st,qe,lt),tt=lt?lt.id:null),c.renderLayer(c,lt,qe,pt)}this.renderedToTile?($e.dirty=!0,V.push(be.tileID)):Je||--ie,ie===5&&(ie=0,this.renderToBackBuffer(V))}return this.renderToBackBuffer(V),this.renderingToTexture=!1,v.bindFramebuffer.set(null),v.viewport.set([0,0,c.width,c.height]),R.end+1}postRender(){}renderCacheEfficiency(i){const c=i.order.length;if(c===0)return{efficiency:100};let v,T=0,A=0,R=!1;for(let V=0;V<c;++V){const G=i._layers[i.order[V]];this._style.isLayerDraped(G)?(R&&++T,++A):R||(R=!0,v=G.id)}return A===0?{efficiency:100}:{efficiency:100*(1-T/A),firstUndrapedLayer:v}}getMinElevationBelowMSL(){let i=0;return this._visibleDemTiles.filter(c=>c.dem).forEach(c=>{i=Math.min(i,c.dem.tree.minimums[0])}),i===0?i:(i-30)*this._exaggeration}raycast(i,c,v){if(!this._visibleDemTiles)return null;const T=this._visibleDemTiles.filter(A=>A.dem).map(A=>{const R=A.tileID,V=1<<R.overscaledZ,{x:G,y:ie}=R.canonical,ae=G/V,be=(G+1)/V,Fe=ie/V,$e=(ie+1)/V;return{minx:ae,miny:Fe,maxx:be,maxy:$e,t:A.dem.tree.raycastRoot(ae,Fe,be,$e,i,c,v),tile:A}});T.sort((A,R)=>(A.t!==null?A.t:Number.MAX_VALUE)-(R.t!==null?R.t:Number.MAX_VALUE));for(const A of T){if(A.t==null)return null;const R=A.tile.dem.tree.raycast(A.minx,A.miny,A.maxx,A.maxy,i,c,v);if(R!=null)return R}return null}_createFBO(){const i=this.painter.context,c=i.gl,v=this.drapeBufferSize;i.activeTexture.set(c.TEXTURE0);const T=new l.Texture(i,{width:v[0],height:v[1],data:null},c.RGBA);T.bind(c.LINEAR,c.CLAMP_TO_EDGE);const A=i.createFramebuffer(v[0],v[1],!1);return A.colorAttachment.set(T.texture),A.depthAttachment=new Zn(i,A.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=i.createRenderbuffer(i.gl.DEPTH_STENCIL,v[0],v[1]),this._stencilRef=0,A.depthAttachment.set(this._sharedDepthStencil),i.clear({stencil:0})):A.depthAttachment.set(this._sharedDepthStencil),i.extTextureFilterAnisotropic&&!i.extTextureFilterAnisotropicForceOff&&c.texParameterf(c.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax),{fb:A,tex:T,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const i in this._style._sourceCaches)if(this._style._sourceCaches[i].hasTransition())return!0;return this._style.order.some(i=>{const c=this._style._layers[i],v=c.isHidden(this.painter.transform.zoom);return c.type!=="custom"&&!v&&c.hasTransition()})}_clearRasterFadeFromRenderCache(){let i=!1;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c]._source instanceof je){i=!0;break}if(i)for(let c=0;c<this._style.order.length;++c){const v=this._style._layers[this._style.order[c]],T=v.isHidden(this.painter.transform.zoom),A=this._style._getLayerSourceCache(v);if(v.type!=="raster"||T||!A)continue;const R=v.paint.get("raster-fade-duration");for(const V of this.proxyCoords){const G=this.proxyToSource[V.key][A.id];if(G)for(const ie of G){const ae=Qn(A.getTile(ie),A.findLoadedParent(ie,0),A,this.painter.transform,R);(ae.opacity!==1||ae.mix!==0)&&this._clearRenderCacheForTile(A.id,ie)}}}}_setupDrapedRenderBatches(){const i=this._style.order,c=i.length;if(c===0)return;const v=[];let T,A=0,R=this._style._layers[i[A]];for(;!this._style.isLayerDraped(R)&&R.isHidden(this.painter.transform.zoom)&&++A<c;)R=this._style._layers[i[A]];for(;A<c;++A){const V=this._style._layers[i[A]];V.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(V)?T===void 0&&(T=A):T!==void 0&&(v.push({start:T,end:A-1}),T=void 0))}T!==void 0&&v.push({start:T,end:A-1}),this._drapedRenderBatches=v}_setupRenderCache(i){const c=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,c.renderCache.length>c.renderCachePool.length){const R=Object.values(c.proxyCachedFBO);c.proxyCachedFBO={};for(let V=0;V<R.length;++V){const G=Object.values(R[V]);c.renderCachePool.push(...G)}}return}this._clearRasterFadeFromRenderCache();const v=this.proxyCoords,T=this._tilesDirty;for(let R=v.length-1;R>=0;R--){const V=v[R];if(c.getTileByID(V.key),c.proxyCachedFBO[V.key]!==void 0){const G=i[V.key],ie=this.proxyToSource[V.key];let ae=0;for(const be in ie){const Fe=ie[be],$e=G[be];if(!$e||$e.length!==Fe.length||Fe.some((Je,tt)=>Je!==$e[tt]||T[be]&&T[be].hasOwnProperty(Je.key))){ae=-1;break}++ae}for(const be in c.proxyCachedFBO[V.key])c.renderCache[c.proxyCachedFBO[V.key][be]].dirty=ae<0||ae!==Object.values(G).length}}const A=[...this._drapedRenderBatches];A.sort((R,V)=>V.end-V.start-(R.end-R.start));for(const R of A)for(const V of v){if(c.proxyCachedFBO[V.key])continue;let G=c.renderCachePool.pop();G===void 0&&c.renderCache.length<50&&(G=c.renderCache.length,c.renderCache.push(this._createFBO())),G!==void 0&&(c.proxyCachedFBO[V.key]={},c.proxyCachedFBO[V.key][R.start]=G,c.renderCache[G].dirty=!0)}this._tilesDirty={}}_setupStencil(i,c,v,T){if(!T||!this._sourceTilesOverlap[T.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const A=this.painter.context,R=A.gl;if(c.length<=1)return void(this._overlapStencilType=!1);let V;if(v.isTileClipped())V=c.length,this._overlapStencilMode.test={func:R.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(c[0].overscaledZ>c[c.length-1].overscaledZ))return void(this._overlapStencilType=!1);V=1,this._overlapStencilMode.test={func:R.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+V>255&&(A.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=V,this._overlapStencilMode.ref=this._stencilRef,v.isTileClipped()&&this._renderTileClippingMasks(c,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(i){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[i.key]),this._overlapStencilMode):l.StencilMode.disabled}_renderTileClippingMasks(i,c){const v=this.painter,T=this.painter.context,A=T.gl;v._tileClippingMaskIDs={},T.setColorMode(l.ColorMode.disabled),T.setDepthMode(l.DepthMode.disabled);const R=v.useProgram("clippingMask");for(const V of i){const G=v._tileClippingMaskIDs[V.key]=--c;R.draw(T,A.TRIANGLES,l.DepthMode.disabled,new l.StencilMode({func:A.ALWAYS,mask:0},G,255,A.KEEP,A.KEEP,A.REPLACE),l.ColorMode.disabled,l.CullFaceMode.disabled,aa(V.projMatrix),"$clipping",v.tileExtentBuffer,v.quadTriangleIndexBuffer,v.tileExtentSegments)}}pointCoordinate(i){const c=this.painter.transform;if(i.x<0||i.x>c.width||i.y<0||i.y>c.height)return null;const v=[i.x,i.y,1,1];l.transformMat4$1(v,v,c.pixelMatrixInverse),l.scale$1(v,v,1/v[3]),v[0]/=c.worldSize,v[1]/=c.worldSize;const T=c._camera.position,A=l.mercatorZfromAltitude(1,c.center.lat),R=[T[0],T[1],T[2]/A,0],V=l.subtract([],v.slice(0,3),R);l.normalize(V,V);const G=this.raycast(R,V,this._exaggeration);return G!==null&&G?(l.scaleAndAdd(R,R,V,G),R[3]=R[2],R[2]*=A,R):null}drawDepth(){const i=this.painter,c=i.context,v=this.proxySourceCache,T=Math.ceil(i.width),A=Math.ceil(i.height);if(!this._depthFBO||this._depthFBO.width===T&&this._depthFBO.height===A||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const R=c.gl,V=c.createFramebuffer(T,A,!0);c.activeTexture.set(R.TEXTURE0);const G=new l.Texture(c,{width:T,height:A,data:null},R.RGBA);G.bind(R.NEAREST,R.CLAMP_TO_EDGE),V.colorAttachment.set(G.texture);const ie=c.createRenderbuffer(c.gl.DEPTH_COMPONENT16,T,A);V.depthAttachment.set(ie),this._depthFBO=V,this._depthTexture=G}c.bindFramebuffer.set(this._depthFBO.framebuffer),c.viewport.set([0,0,T,A]),function(R,V,G,ie){if(R.transform.projection.name==="globe")return;const ae=R.context,be=ae.gl;ae.clear({depth:1});const Fe=R.useProgram("terrainDepth"),$e=new l.DepthMode(be.LESS,l.DepthMode.ReadWrite,R.depthRangeFor3D);for(const Je of ie){const tt=G.getTile(Je),Xe=_r(Je.projMatrix,0);V.setupElevationDraw(tt,Fe),Fe.draw(ae,be.TRIANGLES,$e,l.StencilMode.disabled,l.ColorMode.unblended,l.CullFaceMode.backCCW,Xe,"terrain_depth",V.gridBuffer,V.gridIndexBuffer,V.gridNoSkirtSegments)}}(i,this,v,this.proxyCoords)}_setupProxiedCoordsForOrtho(i,c,v){if(i.getSource()instanceof It)return this._setupProxiedCoordsForImageSource(i,c,v);this._findCoveringTileCache[i.id]=this._findCoveringTileCache[i.id]||{};const T=this.proxiedCoords[i.id]=[],A=this.proxyCoords;for(let V=0;V<A.length;V++){const G=A[V],ie=this._findTileCoveringTileID(G,i);if(ie){const ae=this._createProxiedId(G,ie,v[G.key]&&v[G.key][i.id]);T.push(ae),this.proxyToSource[G.key][i.id]=[ae]}}let R=!1;for(let V=0;V<c.length;V++){const G=i.getTile(c[V]);if(!G||!G.hasData())continue;const ie=this._findTileCoveringTileID(G.tileID,this.proxySourceCache);if(ie&&ie.tileID.canonical.z!==G.tileID.canonical.z){const ae=this.proxyToSource[ie.tileID.key][i.id],be=this._createProxiedId(ie.tileID,G,v[ie.tileID.key]&&v[ie.tileID.key][i.id]);ae?ae.splice(ae.length-1,0,be):this.proxyToSource[ie.tileID.key][i.id]=[be],T.push(be),R=!0}}this._sourceTilesOverlap[i.id]=R}_setupProxiedCoordsForImageSource(i,c,v){if(!i.getSource().loaded())return;const T=this.proxiedCoords[i.id]=[],A=this.proxyCoords,R=i.getSource(),V=new l.pointGeometry(R.tileID.x,R.tileID.y)._div(1<<R.tileID.z),G=R.coordinates.map(l.MercatorCoordinate.fromLngLat).reduce((ae,be)=>(ae.min.x=Math.min(ae.min.x,be.x-V.x),ae.min.y=Math.min(ae.min.y,be.y-V.y),ae.max.x=Math.max(ae.max.x,be.x-V.x),ae.max.y=Math.max(ae.max.y,be.y-V.y),ae),{min:new l.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new l.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ie=(ae,be)=>{const Fe=ae.wrap+ae.canonical.x/(1<<ae.canonical.z),$e=ae.canonical.y/(1<<ae.canonical.z),Je=l.EXTENT/(1<<ae.canonical.z),tt=be.wrap+be.canonical.x/(1<<be.canonical.z),Xe=be.canonical.y/(1<<be.canonical.z);return Fe+Je<tt+G.min.x||Fe>tt+G.max.x||$e+Je<Xe+G.min.y||$e>Xe+G.max.y};for(let ae=0;ae<A.length;ae++){const be=A[ae];for(let Fe=0;Fe<c.length;Fe++){const $e=i.getTile(c[Fe]);if(!$e||!$e.hasData()||ie(be,$e.tileID))continue;const Je=this._createProxiedId(be,$e,v[be.key]&&v[be.key][i.id]),tt=this.proxyToSource[be.key][i.id];tt?tt.push(Je):this.proxyToSource[be.key][i.id]=[Je],T.push(Je)}}}_createProxiedId(i,c,v){let T=this.orthoMatrix;if(v){const A=v.find(R=>R.key===c.tileID.key);if(A)return A}if(c.tileID.key!==i.key){const A=i.canonical.z-c.tileID.canonical.z;let R,V,G;T=l.create();const ie=c.tileID.wrap-i.wrap<<i.overscaledZ;A>0?(R=l.EXTENT>>A,V=R*((c.tileID.canonical.x<<A)-i.canonical.x+ie),G=R*((c.tileID.canonical.y<<A)-i.canonical.y)):(R=l.EXTENT<<-A,V=l.EXTENT*(c.tileID.canonical.x-(i.canonical.x+ie<<-A)),G=l.EXTENT*(c.tileID.canonical.y-(i.canonical.y<<-A))),l.ortho(T,0,R,0,R,0,1),l.translate(T,T,[V,G,0])}return new Qa(c.tileID,i.key,T)}_findTileCoveringTileID(i,c){let v=c.getTile(i);if(v&&v.hasData())return v;const T=this._findCoveringTileCache[c.id],A=T[i.key];if(v=A?c.getTileByID(A):null,v&&v.hasData()||A===null)return v;let R=v?v.tileID:i,V=R.overscaledZ;const G=c.getSource().minzoom,ie=[];if(!A){const be=c.getSource().maxzoom;if(i.canonical.z>=be){const Fe=i.canonical.z-be;c.getSource().reparseOverscaled?(V=Math.max(i.canonical.z+2,c.transform.tileZoom),R=new l.OverscaledTileID(V,i.wrap,be,i.canonical.x>>Fe,i.canonical.y>>Fe)):Fe!==0&&(V=be,R=new l.OverscaledTileID(V,i.wrap,be,i.canonical.x>>Fe,i.canonical.y>>Fe))}R.key!==i.key&&(ie.push(R.key),v=c.getTile(R))}const ae=be=>{ie.forEach(Fe=>{T[Fe]=be}),ie.length=0};for(V-=1;V>=G&&(!v||!v.hasData());V--){v&&ae(v.tileID.key);const be=R.calculateScaledKey(V);if(v=c.getTileByID(be),v&&v.hasData())break;const Fe=T[be];if(Fe===null)break;Fe===void 0?ie.push(be):v=c.getTileByID(Fe)}return ae(v?v.tileID.key:null),v&&v.hasData()?v:null}findDEMTileFor(i){return this.enabled?this._findTileCoveringTileID(i,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(i,c){let v=this._tilesDirty[i];v||(v=this._tilesDirty[i]={}),v[c.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const i=function(c){let v=0;const T=new l.StructArrayLayout2ui4,A=131;for(let R=1;R<129;R++){for(let V=1;V<129;V++)v=R*A+V,T.emplaceBack(v,v+1),T.emplaceBack(v,v+A),T.emplaceBack(v+1,v+A),R===128&&T.emplaceBack(v+A,v+A+1);T.emplaceBack(v+1,v+1+A)}return T}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(i),this.wireframeSegments=l.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,i.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ts{static cacheKey(i,c,v,T){let A=`${c}${T?T.cacheKey:""}`;for(const R of v)i.usedDefines.includes(R)&&(A+=`/${R}`);return A}constructor(i,c,v,T,A,R){const V=i.gl;this.program=V.createProgram();const G=function(Xe){const qe=[];for(let lt=0;lt<Xe.length;lt++){if(Xe[lt]===null)continue;const st=Xe[lt].split(" ");qe.push(st.pop())}return qe}(v.staticAttributes),ie=T?T.getBinderAttributes():[],ae=G.concat(ie);let be=T?T.defines():[];be=be.concat(R.map(Xe=>`#define ${Xe}`));const Fe=be.concat(i.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Pi):Pi,Pi,ci,Ht.fragmentSource,Ct.fragmentSource,v.fragmentSource).join(`
`),$e=be.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,ci,Ht.vertexSource,Ct.vertexSource,Qe.vertexSource,v.vertexSource).join(`
`),Je=V.createShader(V.FRAGMENT_SHADER);if(V.isContextLost())return void(this.failedToCreate=!0);V.shaderSource(Je,Fe),V.compileShader(Je),V.attachShader(this.program,Je);const tt=V.createShader(V.VERTEX_SHADER);if(V.isContextLost())this.failedToCreate=!0;else{V.shaderSource(tt,$e),V.compileShader(tt),V.attachShader(this.program,tt),this.attributes={},this.numAttributes=ae.length;for(let Xe=0;Xe<this.numAttributes;Xe++)ae[Xe]&&(V.bindAttribLocation(this.program,Xe,ae[Xe]),this.attributes[ae[Xe]]=Xe);V.linkProgram(this.program),V.deleteShader(tt),V.deleteShader(Je),this.fixedUniforms=A(i),this.binderUniforms=T?T.getUniforms(i):[],R.includes("TERRAIN")&&(this.terrainUniforms=(Xe=>({u_dem:new l.Uniform1i(Xe),u_dem_prev:new l.Uniform1i(Xe),u_dem_unpack:new l.Uniform4f(Xe),u_dem_tl:new l.Uniform2f(Xe),u_dem_scale:new l.Uniform1f(Xe),u_dem_tl_prev:new l.Uniform2f(Xe),u_dem_scale_prev:new l.Uniform1f(Xe),u_dem_size:new l.Uniform1f(Xe),u_dem_lerp:new l.Uniform1f(Xe),u_exaggeration:new l.Uniform1f(Xe),u_depth:new l.Uniform1i(Xe),u_depth_size_inv:new l.Uniform2f(Xe),u_meter_to_dem:new l.Uniform1f(Xe),u_label_plane_matrix_inv:new l.UniformMatrix4f(Xe)}))(i)),R.includes("GLOBE")&&(this.globeUniforms=(Xe=>({u_tile_tl_up:new l.Uniform3f(Xe),u_tile_tr_up:new l.Uniform3f(Xe),u_tile_br_up:new l.Uniform3f(Xe),u_tile_bl_up:new l.Uniform3f(Xe),u_tile_up_scale:new l.Uniform1f(Xe)}))(i)),R.includes("FOG")&&(this.fogUniforms=(Xe=>({u_fog_matrix:new l.UniformMatrix4f(Xe),u_fog_range:new l.Uniform2f(Xe),u_fog_color:new l.Uniform4f(Xe),u_fog_horizon_blend:new l.Uniform1f(Xe),u_fog_temporal_offset:new l.Uniform1f(Xe),u_frustum_tl:new l.Uniform3f(Xe),u_frustum_tr:new l.Uniform3f(Xe),u_frustum_br:new l.Uniform3f(Xe),u_frustum_bl:new l.Uniform3f(Xe),u_globe_pos:new l.Uniform3f(Xe),u_globe_radius:new l.Uniform1f(Xe),u_globe_transition:new l.Uniform1f(Xe),u_is_globe:new l.Uniform1i(Xe),u_viewport:new l.Uniform2f(Xe)}))(i))}}setTerrainUniformValues(i,c){if(!this.terrainUniforms)return;const v=this.terrainUniforms;if(!this.failedToCreate){i.program.set(this.program);for(const T in c)v[T]&&v[T].set(this.program,T,c[T])}}setGlobeUniformValues(i,c){if(!this.globeUniforms)return;const v=this.globeUniforms;if(!this.failedToCreate){i.program.set(this.program);for(const T in c)v[T]&&v[T].set(this.program,T,c[T])}}setFogUniformValues(i,c){if(!this.fogUniforms)return;const v=this.fogUniforms;if(!this.failedToCreate){i.program.set(this.program);for(const T in c)v[T].set(this.program,T,c[T])}}draw(i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt){const Xe=i.gl;if(this.failedToCreate)return;i.program.set(this.program),i.setDepthMode(v),i.setStencilMode(T),i.setColorMode(A),i.setCullFace(R);for(const lt of Object.keys(this.fixedUniforms))this.fixedUniforms[lt].set(this.program,lt,V[lt]);Je&&Je.setUniforms(this.program,i,this.binderUniforms,Fe,{zoom:$e});const qe={[Xe.LINES]:2,[Xe.TRIANGLES]:3,[Xe.LINE_STRIP]:1}[c];for(const lt of be.get()){const st=lt.vaos||(lt.vaos={});(st[G]||(st[G]=new wr)).bind(i,this,ie,Je?Je.getPaintVertexBuffers():[],ae,lt.vertexOffset,tt||[]),Xe.drawElements(c,lt.primitiveLength*qe,Xe.UNSIGNED_SHORT,lt.primitiveOffset*qe*2)}}}function Ko(f,i){const c=Math.pow(2,i.tileID.overscaledZ),v=i.tileSize*Math.pow(2,f.transform.tileZoom)/c,T=v*(i.tileID.canonical.x+i.tileID.wrap*c),A=v*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_tile_units_to_pixels:1/Ie(i,1,f.transform.tileZoom),u_pixel_coord_upper:[T>>16,A>>16],u_pixel_coord_lower:[65535&T,65535&A]}}const ds=l.create(),Jo=(f,i,c,v,T,A,R,V,G,ie,ae)=>{const be=i.style.light,Fe=be.properties.get("position"),$e=[Fe.x,Fe.y,Fe.z],Je=l.create$1();be.properties.get("anchor")==="viewport"&&(l.fromRotation(Je,-i.transform.angle),l.transformMat3($e,$e,Je));const tt=be.properties.get("color"),Xe=i.transform,qe={u_matrix:f,u_lightpos:$e,u_lightintensity:be.properties.get("intensity"),u_lightcolor:[tt.r,tt.g,tt.b],u_vertical_gradient:+c,u_opacity:v,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ds,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:T,u_edge_radius:A};return Xe.projection.name==="globe"&&(qe.u_tile_id=[R.canonical.x,R.canonical.y,1<<R.canonical.z],qe.u_zoom_transition=G,qe.u_inv_rot_matrix=ae,qe.u_merc_center=ie,qe.u_up_dir=Xe.projection.upVector(new l.CanonicalTileID(0,0,0),ie[0]*l.EXTENT,ie[1]*l.EXTENT),qe.u_height_lift=V),qe},Kr=(f,i,c,v,T,A,R,V,G,ie,ae,be)=>{const Fe=Jo(f,i,c,v,T,A,R,G,ie,ae,be),$e={u_height_factor:-Math.pow(2,R.overscaledZ)/V.tileSize/8};return l.extend(Fe,Ko(i,V),$e)},Ss=f=>({u_matrix:f}),Ks=(f,i,c)=>l.extend(Ss(f),Ko(i,c)),Wa=(f,i)=>({u_matrix:f,u_world:i}),vl=(f,i,c,v)=>l.extend(Ks(f,i,c),{u_world:v}),As=l.create(),es=(f,i,c,v,T,A)=>{const R=f.transform,V=R.projection.name==="globe";let G;if(A.paint.get("circle-pitch-alignment")==="map")if(V){const ae=l.globePixelsToTileUnits(R.zoom,i.canonical)*R._pixelsPerMercatorPixel;G=Float32Array.from([ae,0,0,ae])}else G=R.calculatePixelsToTileUnitsMatrix(c);else G=new Float32Array([R.pixelsToGLUnits[0],0,0,R.pixelsToGLUnits[1]]);const ie={u_camera_to_center_distance:R.cameraToCenterDistance,u_matrix:f.translatePosMatrix(i.projMatrix,c,A.paint.get("circle-translate"),A.paint.get("circle-translate-anchor")),u_device_pixel_ratio:l.exported.devicePixelRatio,u_extrude_scale:G,u_inv_rot_matrix:As,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(V){ie.u_inv_rot_matrix=v,ie.u_merc_center=T,ie.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],ie.u_zoom_transition=l.globeToMercatorTransition(R.zoom);const ae=T[0]*l.EXTENT,be=T[1]*l.EXTENT;ie.u_up_dir=R.projection.upVector(new l.CanonicalTileID(0,0,0),ae,be)}return ie},Sc=f=>{const i=[];return f.paint.get("circle-pitch-alignment")==="map"&&i.push("PITCH_WITH_MAP"),f.paint.get("circle-pitch-scale")==="map"&&i.push("SCALE_WITH_MAP"),i},go=(f,i,c,v)=>{const T=l.EXTENT/c.tileSize;return{u_matrix:f,u_camera_to_center_distance:i.getCameraToCenterDistance(v),u_extrude_scale:[i.pixelsToGLUnits[0]/T,i.pixelsToGLUnits[1]/T]}},vo=(f,i,c=1)=>({u_matrix:f,u_color:i,u_overlay:0,u_overlay_scale:c}),Xl=l.create(),Ra=(f,i,c,v,T,A,R)=>{const V=f.transform,G=V.projection.name==="globe",ie=G?l.globePixelsToTileUnits(V.zoom,i.canonical)*V._pixelsPerMercatorPixel:Ie(c,1,A),ae={u_matrix:i.projMatrix,u_extrude_scale:ie,u_intensity:R,u_inv_rot_matrix:Xl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(G){ae.u_inv_rot_matrix=v,ae.u_merc_center=T,ae.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],ae.u_zoom_transition=l.globeToMercatorTransition(V.zoom);const be=T[0]*l.EXTENT,Fe=T[1]*l.EXTENT;ae.u_up_dir=V.projection.upVector(new l.CanonicalTileID(0,0,0),be,Fe)}return ae},Sr=(f,i,c,v,T,A,R)=>{const V=f.transform,G=V.calculatePixelsToTileUnitsMatrix(i);return{u_matrix:ts(f,i,c,v),u_pixels_to_tile_units:G,u_device_pixel_ratio:A,u_units_to_pixels:[1/V.pixelsToGLUnits[0],1/V.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:T,u_texsize:yl(c)?i.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:za(i,f.transform),u_alpha_discard_threshold:0,u_trim_offset:R}},Ms=(f,i,c,v,T)=>{const A=f.transform;return{u_matrix:ts(f,i,c,v),u_texsize:i.imageAtlasTexture.size,u_pixels_to_tile_units:A.calculatePixelsToTileUnitsMatrix(i),u_device_pixel_ratio:T,u_image:0,u_tile_units_to_pixels:za(i,A),u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function za(f,i){return 1/Ie(f,1,i.tileZoom)}function ts(f,i,c,v){return f.translatePosMatrix(v||i.tileID.projMatrix,i,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}function yl(f){const i=f.paint.get("line-dasharray").value;return i.value||i.kind!=="constant"}const Cs=(f,i,c,v,T,A)=>{return{u_matrix:f,u_tl_parent:i,u_scale_parent:c,u_fade_t:v.mix,u_opacity:v.opacity*T.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:T.paint.get("raster-brightness-min"),u_brightness_high:T.paint.get("raster-brightness-max"),u_saturation_factor:(V=T.paint.get("raster-saturation"),V>0?1-1/(1.001-V):-V),u_contrast_factor:(R=T.paint.get("raster-contrast"),R>0?1/(1-R):1+R),u_spin_weights:ea(T.paint.get("raster-hue-rotate")),u_perspective_transform:A};var R,V};function ea(f){f*=Math.PI/180;const i=Math.sin(f),c=Math.cos(f);return[(2*c+1)/3,(-Math.sqrt(3)*i-c+1)/3,(Math.sqrt(3)*i-c+1)/3]}const ya=l.create(),js=(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt)=>{const Xe=T.transform,qe={u_is_size_zoom_constant:+(f==="constant"||f==="source"),u_is_size_feature_constant:+(f==="constant"||f==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:Xe.cameraToCenterDistance,u_rotate_symbol:+c,u_aspect_ratio:Xe.width/Xe.height,u_fade_change:T.options.fadeDuration?T.symbolFadeChange:1,u_matrix:A,u_label_plane_matrix:R,u_coord_matrix:V,u_is_text:+G,u_pitch_with_map:+v,u_texsize:ie,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ya,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:ya,u_up_vector:[0,-1,0]};return tt.name==="globe"&&(qe.u_tile_id=[ae.canonical.x,ae.canonical.y,1<<ae.canonical.z],qe.u_zoom_transition=be,qe.u_inv_rot_matrix=$e,qe.u_merc_center=Fe,qe.u_camera_forward=Xe._camera.forward(),qe.u_ecef_origin=l.globeECEFOrigin(Xe.globeMatrix,ae.toUnwrapped()),qe.u_tile_matrix=Float32Array.from(Xe.globeMatrix),qe.u_up_vector=Je),qe},Ya=(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt,Xe)=>l.extend(js(f,i,c,v,T,A,R,V,G,ie,be,Fe,$e,Je,tt,Xe),{u_gamma_scale:v?T.transform.cameraToCenterDistance*Math.cos(T.terrain?0:T.transform._pitch):1,u_device_pixel_ratio:l.exported.devicePixelRatio,u_is_halo:+ae}),is=(f,i,c,v,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt)=>l.extend(Ya(f,i,c,v,T,A,R,V,!0,G,!0,ae,be,Fe,$e,Je,tt),{u_texsize_icon:ie,u_texture_icon:1}),Zc=(f,i,c)=>({u_matrix:f,u_opacity:i,u_color:c}),an=(f,i,c,v,T)=>l.extend(function(A,R,V){const G=R.imageManager.getPattern(A.toString()),{width:ie,height:ae}=R.imageManager.getPixelSize(),be=Math.pow(2,V.tileID.overscaledZ),Fe=V.tileSize*Math.pow(2,R.transform.tileZoom)/be,$e=Fe*(V.tileID.canonical.x+V.tileID.wrap*be),Je=Fe*V.tileID.canonical.y;return{u_image:0,u_pattern_tl:G.tl,u_pattern_br:G.br,u_texsize:[ie,ae],u_pattern_size:G.displaySize,u_tile_units_to_pixels:1/Ie(V,1,R.transform.tileZoom),u_pixel_coord_upper:[$e>>16,Je>>16],u_pixel_coord_lower:[65535&$e,65535&Je]}}(v,c,T),{u_matrix:f,u_opacity:i}),Is={fillExtrusion:f=>({u_matrix:new l.UniformMatrix4f(f),u_lightpos:new l.Uniform3f(f),u_lightintensity:new l.Uniform1f(f),u_lightcolor:new l.Uniform3f(f),u_vertical_gradient:new l.Uniform1f(f),u_opacity:new l.Uniform1f(f),u_edge_radius:new l.Uniform1f(f),u_ao:new l.Uniform2f(f),u_tile_id:new l.Uniform3f(f),u_zoom_transition:new l.Uniform1f(f),u_inv_rot_matrix:new l.UniformMatrix4f(f),u_merc_center:new l.Uniform2f(f),u_up_dir:new l.Uniform3f(f),u_height_lift:new l.Uniform1f(f)}),fillExtrusionPattern:f=>({u_matrix:new l.UniformMatrix4f(f),u_lightpos:new l.Uniform3f(f),u_lightintensity:new l.Uniform1f(f),u_lightcolor:new l.Uniform3f(f),u_vertical_gradient:new l.Uniform1f(f),u_height_factor:new l.Uniform1f(f),u_edge_radius:new l.Uniform1f(f),u_ao:new l.Uniform2f(f),u_tile_id:new l.Uniform3f(f),u_zoom_transition:new l.Uniform1f(f),u_inv_rot_matrix:new l.UniformMatrix4f(f),u_merc_center:new l.Uniform2f(f),u_up_dir:new l.Uniform3f(f),u_height_lift:new l.Uniform1f(f),u_image:new l.Uniform1i(f),u_texsize:new l.Uniform2f(f),u_pixel_coord_upper:new l.Uniform2f(f),u_pixel_coord_lower:new l.Uniform2f(f),u_tile_units_to_pixels:new l.Uniform1f(f),u_opacity:new l.Uniform1f(f)}),fill:f=>({u_matrix:new l.UniformMatrix4f(f)}),fillPattern:f=>({u_matrix:new l.UniformMatrix4f(f),u_image:new l.Uniform1i(f),u_texsize:new l.Uniform2f(f),u_pixel_coord_upper:new l.Uniform2f(f),u_pixel_coord_lower:new l.Uniform2f(f),u_tile_units_to_pixels:new l.Uniform1f(f)}),fillOutline:f=>({u_matrix:new l.UniformMatrix4f(f),u_world:new l.Uniform2f(f)}),fillOutlinePattern:f=>({u_matrix:new l.UniformMatrix4f(f),u_world:new l.Uniform2f(f),u_image:new l.Uniform1i(f),u_texsize:new l.Uniform2f(f),u_pixel_coord_upper:new l.Uniform2f(f),u_pixel_coord_lower:new l.Uniform2f(f),u_tile_units_to_pixels:new l.Uniform1f(f)}),circle:f=>({u_camera_to_center_distance:new l.Uniform1f(f),u_extrude_scale:new l.UniformMatrix2f(f),u_device_pixel_ratio:new l.Uniform1f(f),u_matrix:new l.UniformMatrix4f(f),u_inv_rot_matrix:new l.UniformMatrix4f(f),u_merc_center:new l.Uniform2f(f),u_tile_id:new l.Uniform3f(f),u_zoom_transition:new l.Uniform1f(f),u_up_dir:new l.Uniform3f(f)}),collisionBox:f=>({u_matrix:new l.UniformMatrix4f(f),u_camera_to_center_distance:new l.Uniform1f(f),u_extrude_scale:new l.Uniform2f(f)}),collisionCircle:f=>({u_matrix:new l.UniformMatrix4f(f),u_inv_matrix:new l.UniformMatrix4f(f),u_camera_to_center_distance:new l.Uniform1f(f),u_viewport_size:new l.Uniform2f(f)}),debug:f=>({u_color:new l.UniformColor(f),u_matrix:new l.UniformMatrix4f(f),u_overlay:new l.Uniform1i(f),u_overlay_scale:new l.Uniform1f(f)}),clippingMask:f=>({u_matrix:new l.UniformMatrix4f(f)}),heatmap:f=>({u_extrude_scale:new l.Uniform1f(f),u_intensity:new l.Uniform1f(f),u_matrix:new l.UniformMatrix4f(f),u_inv_rot_matrix:new l.UniformMatrix4f(f),u_merc_center:new l.Uniform2f(f),u_tile_id:new l.Uniform3f(f),u_zoom_transition:new l.Uniform1f(f),u_up_dir:new l.Uniform3f(f)}),heatmapTexture:f=>({u_image:new l.Uniform1i(f),u_color_ramp:new l.Uniform1i(f),u_opacity:new l.Uniform1f(f)}),hillshade:f=>({u_matrix:new l.UniformMatrix4f(f),u_image:new l.Uniform1i(f),u_latrange:new l.Uniform2f(f),u_light:new l.Uniform2f(f),u_shadow:new l.UniformColor(f),u_highlight:new l.UniformColor(f),u_accent:new l.UniformColor(f)}),hillshadePrepare:f=>({u_matrix:new l.UniformMatrix4f(f),u_image:new l.Uniform1i(f),u_dimension:new l.Uniform2f(f),u_zoom:new l.Uniform1f(f),u_unpack:new l.Uniform4f(f)}),line:f=>({u_matrix:new l.UniformMatrix4f(f),u_pixels_to_tile_units:new l.UniformMatrix2f(f),u_device_pixel_ratio:new l.Uniform1f(f),u_units_to_pixels:new l.Uniform2f(f),u_dash_image:new l.Uniform1i(f),u_gradient_image:new l.Uniform1i(f),u_image_height:new l.Uniform1f(f),u_texsize:new l.Uniform2f(f),u_tile_units_to_pixels:new l.Uniform1f(f),u_alpha_discard_threshold:new l.Uniform1f(f),u_trim_offset:new l.Uniform2f(f)}),linePattern:f=>({u_matrix:new l.UniformMatrix4f(f),u_texsize:new l.Uniform2f(f),u_pixels_to_tile_units:new l.UniformMatrix2f(f),u_device_pixel_ratio:new l.Uniform1f(f),u_image:new l.Uniform1i(f),u_units_to_pixels:new l.Uniform2f(f),u_tile_units_to_pixels:new l.Uniform1f(f),u_alpha_discard_threshold:new l.Uniform1f(f)}),raster:f=>({u_matrix:new l.UniformMatrix4f(f),u_tl_parent:new l.Uniform2f(f),u_scale_parent:new l.Uniform1f(f),u_fade_t:new l.Uniform1f(f),u_opacity:new l.Uniform1f(f),u_image0:new l.Uniform1i(f),u_image1:new l.Uniform1i(f),u_brightness_low:new l.Uniform1f(f),u_brightness_high:new l.Uniform1f(f),u_saturation_factor:new l.Uniform1f(f),u_contrast_factor:new l.Uniform1f(f),u_spin_weights:new l.Uniform3f(f),u_perspective_transform:new l.Uniform2f(f)}),symbolIcon:f=>({u_is_size_zoom_constant:new l.Uniform1i(f),u_is_size_feature_constant:new l.Uniform1i(f),u_size_t:new l.Uniform1f(f),u_size:new l.Uniform1f(f),u_camera_to_center_distance:new l.Uniform1f(f),u_rotate_symbol:new l.Uniform1i(f),u_aspect_ratio:new l.Uniform1f(f),u_fade_change:new l.Uniform1f(f),u_matrix:new l.UniformMatrix4f(f),u_label_plane_matrix:new l.UniformMatrix4f(f),u_coord_matrix:new l.UniformMatrix4f(f),u_is_text:new l.Uniform1i(f),u_pitch_with_map:new l.Uniform1i(f),u_texsize:new l.Uniform2f(f),u_tile_id:new l.Uniform3f(f),u_zoom_transition:new l.Uniform1f(f),u_inv_rot_matrix:new l.UniformMatrix4f(f),u_merc_center:new l.Uniform2f(f),u_camera_forward:new l.Uniform3f(f),u_tile_matrix:new l.UniformMatrix4f(f),u_up_vector:new l.Uniform3f(f),u_ecef_origin:new l.Uniform3f(f),u_texture:new l.Uniform1i(f)}),symbolSDF:f=>({u_is_size_zoom_constant:new l.Uniform1i(f),u_is_size_feature_constant:new l.Uniform1i(f),u_size_t:new l.Uniform1f(f),u_size:new l.Uniform1f(f),u_camera_to_center_distance:new l.Uniform1f(f),u_rotate_symbol:new l.Uniform1i(f),u_aspect_ratio:new l.Uniform1f(f),u_fade_change:new l.Uniform1f(f),u_matrix:new l.UniformMatrix4f(f),u_label_plane_matrix:new l.UniformMatrix4f(f),u_coord_matrix:new l.UniformMatrix4f(f),u_is_text:new l.Uniform1i(f),u_pitch_with_map:new l.Uniform1i(f),u_texsize:new l.Uniform2f(f),u_texture:new l.Uniform1i(f),u_gamma_scale:new l.Uniform1f(f),u_device_pixel_ratio:new l.Uniform1f(f),u_tile_id:new l.Uniform3f(f),u_zoom_transition:new l.Uniform1f(f),u_inv_rot_matrix:new l.UniformMatrix4f(f),u_merc_center:new l.Uniform2f(f),u_camera_forward:new l.Uniform3f(f),u_tile_matrix:new l.UniformMatrix4f(f),u_up_vector:new l.Uniform3f(f),u_ecef_origin:new l.Uniform3f(f),u_is_halo:new l.Uniform1i(f)}),symbolTextAndIcon:f=>({u_is_size_zoom_constant:new l.Uniform1i(f),u_is_size_feature_constant:new l.Uniform1i(f),u_size_t:new l.Uniform1f(f),u_size:new l.Uniform1f(f),u_camera_to_center_distance:new l.Uniform1f(f),u_rotate_symbol:new l.Uniform1i(f),u_aspect_ratio:new l.Uniform1f(f),u_fade_change:new l.Uniform1f(f),u_matrix:new l.UniformMatrix4f(f),u_label_plane_matrix:new l.UniformMatrix4f(f),u_coord_matrix:new l.UniformMatrix4f(f),u_is_text:new l.Uniform1i(f),u_pitch_with_map:new l.Uniform1i(f),u_texsize:new l.Uniform2f(f),u_texsize_icon:new l.Uniform2f(f),u_texture:new l.Uniform1i(f),u_texture_icon:new l.Uniform1i(f),u_gamma_scale:new l.Uniform1f(f),u_device_pixel_ratio:new l.Uniform1f(f),u_is_halo:new l.Uniform1i(f)}),background:f=>({u_matrix:new l.UniformMatrix4f(f),u_opacity:new l.Uniform1f(f),u_color:new l.UniformColor(f)}),backgroundPattern:f=>({u_matrix:new l.UniformMatrix4f(f),u_opacity:new l.Uniform1f(f),u_image:new l.Uniform1i(f),u_pattern_tl:new l.Uniform2f(f),u_pattern_br:new l.Uniform2f(f),u_texsize:new l.Uniform2f(f),u_pattern_size:new l.Uniform2f(f),u_pixel_coord_upper:new l.Uniform2f(f),u_pixel_coord_lower:new l.Uniform2f(f),u_tile_units_to_pixels:new l.Uniform1f(f)}),terrainRaster:Hr,terrainDepth:Hr,skybox:f=>({u_matrix:new l.UniformMatrix4f(f),u_sun_direction:new l.Uniform3f(f),u_cubemap:new l.Uniform1i(f),u_opacity:new l.Uniform1f(f),u_temporal_offset:new l.Uniform1f(f)}),skyboxGradient:f=>({u_matrix:new l.UniformMatrix4f(f),u_color_ramp:new l.Uniform1i(f),u_center_direction:new l.Uniform3f(f),u_radius:new l.Uniform1f(f),u_opacity:new l.Uniform1f(f),u_temporal_offset:new l.Uniform1f(f)}),skyboxCapture:f=>({u_matrix_3f:new l.UniformMatrix3f(f),u_sun_direction:new l.Uniform3f(f),u_sun_intensity:new l.Uniform1f(f),u_color_tint_r:new l.Uniform4f(f),u_color_tint_m:new l.Uniform4f(f),u_luminance:new l.Uniform1f(f)}),globeRaster:f=>({u_proj_matrix:new l.UniformMatrix4f(f),u_globe_matrix:new l.UniformMatrix4f(f),u_normalize_matrix:new l.UniformMatrix4f(f),u_merc_matrix:new l.UniformMatrix4f(f),u_zoom_transition:new l.Uniform1f(f),u_merc_center:new l.Uniform2f(f),u_image0:new l.Uniform1i(f),u_grid_matrix:new l.UniformMatrix3f(f),u_frustum_tl:new l.Uniform3f(f),u_frustum_tr:new l.Uniform3f(f),u_frustum_br:new l.Uniform3f(f),u_frustum_bl:new l.Uniform3f(f),u_globe_pos:new l.Uniform3f(f),u_globe_radius:new l.Uniform1f(f),u_viewport:new l.Uniform2f(f)}),globeAtmosphere:f=>({u_frustum_tl:new l.Uniform3f(f),u_frustum_tr:new l.Uniform3f(f),u_frustum_br:new l.Uniform3f(f),u_frustum_bl:new l.Uniform3f(f),u_horizon:new l.Uniform1f(f),u_transition:new l.Uniform1f(f),u_fadeout_range:new l.Uniform1f(f),u_color:new l.Uniform4f(f),u_high_color:new l.Uniform4f(f),u_space_color:new l.Uniform4f(f),u_star_intensity:new l.Uniform1f(f),u_star_density:new l.Uniform1f(f),u_star_size:new l.Uniform1f(f),u_temporal_offset:new l.Uniform1f(f),u_horizon_angle:new l.Uniform1f(f),u_rotation_matrix:new l.UniformMatrix4f(f)})};let Gn;function xa(f,i,c,v,T,A,R){const V=f.context,G=V.gl,ie=f.transform,ae=f.useProgram("collisionBox"),be=[];let Fe=0,$e=0;for(let pt=0;pt<v.length;pt++){const bt=v[pt],xt=i.getTile(bt),Lt=xt.getBucket(c);if(!Lt)continue;const qt=_s(bt,Lt,ie);let Yt=qt;T[0]===0&&T[1]===0||(Yt=f.translatePosMatrix(qt,xt,T,A));const jt=R?Lt.textCollisionBox:Lt.iconCollisionBox,ki=Lt.collisionCircleArray;if(ki.length>0){const $t=l.create(),pi=Yt;l.mul($t,Lt.placementInvProjMatrix,ie.glCoordMatrix),l.mul($t,$t,Lt.placementViewportMatrix),be.push({circleArray:ki,circleOffset:$e,transform:pi,invTransform:$t,projection:Lt.getProjection()}),Fe+=ki.length/4,$e=Fe}jt&&(f.terrain&&f.terrain.setupElevationDraw(xt,ae),ae.draw(V,G.LINES,l.DepthMode.disabled,l.StencilMode.disabled,f.colorModeForRenderPass(),l.CullFaceMode.disabled,go(Yt,ie,xt,Lt.getProjection()),c.id,jt.layoutVertexBuffer,jt.indexBuffer,jt.segments,null,ie.zoom,null,[jt.collisionVertexBuffer,jt.collisionVertexBufferExt]))}if(!R||!be.length)return;const Je=f.useProgram("collisionCircle"),tt=new l.StructArrayLayout2f1f2i16;tt.resize(4*Fe),tt._trim();let Xe=0;for(const pt of be)for(let bt=0;bt<pt.circleArray.length/4;bt++){const xt=4*bt,Lt=pt.circleArray[xt+0],qt=pt.circleArray[xt+1],Yt=pt.circleArray[xt+2],jt=pt.circleArray[xt+3];tt.emplace(Xe++,Lt,qt,Yt,jt,0),tt.emplace(Xe++,Lt,qt,Yt,jt,1),tt.emplace(Xe++,Lt,qt,Yt,jt,2),tt.emplace(Xe++,Lt,qt,Yt,jt,3)}(!Gn||Gn.length<2*Fe)&&(Gn=function(pt){const bt=2*pt,xt=new l.StructArrayLayout3ui6;xt.resize(bt),xt._trim();for(let Lt=0;Lt<bt;Lt++){const qt=6*Lt;xt.uint16[qt+0]=4*Lt+0,xt.uint16[qt+1]=4*Lt+1,xt.uint16[qt+2]=4*Lt+2,xt.uint16[qt+3]=4*Lt+2,xt.uint16[qt+4]=4*Lt+3,xt.uint16[qt+5]=4*Lt+0}return xt}(Fe));const qe=V.createIndexBuffer(Gn,!0),lt=V.createVertexBuffer(tt,l.collisionCircleLayout.members,!0);for(const pt of be){const bt={u_matrix:pt.transform,u_inv_matrix:pt.invTransform,u_camera_to_center_distance:(st=ie).getCameraToCenterDistance(pt.projection),u_viewport_size:[st.width,st.height]};Je.draw(V,G.TRIANGLES,l.DepthMode.disabled,l.StencilMode.disabled,f.colorModeForRenderPass(),l.CullFaceMode.disabled,bt,c.id,lt,qe,l.SegmentVector.simpleSegment(0,2*pt.circleOffset,pt.circleArray.length,pt.circleArray.length/2),null,ie.zoom)}var st;lt.destroy(),qe.destroy()}const rs=l.create();function $a({width:f,height:i,anchor:c,textOffset:v,textScale:T},A){const{horizontalAlign:R,verticalAlign:V}=l.getAnchorAlignment(c),G=-(R-.5)*f,ie=-(V-.5)*i,ae=l.evaluateVariableOffset(c,v);return new l.pointGeometry((G/T+ae[0])*A,(ie/T+ae[1])*A)}function xl(f,i,c,v,T,A,R,V,G,ie,ae){const be=f.text.placedSymbolArray,Fe=f.text.dynamicLayoutVertexArray,$e=f.icon.dynamicLayoutVertexArray,Je={},tt=f.getProjection(),Xe=Un(V,tt,A),qe=A.elevation,lt=tt.upVectorScale(V.canonical,A.center.lat,A.worldSize).metersToTile;Fe.clear();for(let st=0;st<be.length;st++){const pt=be.get(st),{tileAnchorX:bt,tileAnchorY:xt,numGlyphs:Lt}=pt,qt=f.allowVerticalPlacement&&!pt.placedOrientation,Yt=pt.hidden||!pt.crossTileID||qt?null:v[pt.crossTileID];if(Yt){let jt=0,ki=0,$t=0;if(qe){const Zi=qe?qe.getAtTileOffset(V,bt,xt):0,[or,qi,mr]=tt.upVector(V.canonical,bt,xt);jt=Zi*or*lt,ki=Zi*qi*lt,$t=Zi*mr*lt}let[pi,ei,Ai,ni]=Xt(pt.projectedAnchorX+jt,pt.projectedAnchorY+ki,pt.projectedAnchorZ+$t,c?Xe:R);const bi=Wt(A.getCameraToCenterDistance(tt),ni);let Oi=T.evaluateSizeForFeature(f.textSizeData,ie,pt)*bi/l.ONE_EM;c&&(Oi*=f.tilePixelRatio/G);const Gt=$a(Yt,Oi);c?({x:pi,y:ei,z:Ai}=tt.projectTilePoint(bt+Gt.x,xt+Gt.y,V.canonical),[pi,ei,Ai]=Xt(pi+jt,ei+ki,Ai+$t,R)):(i&&Gt._rotate(-A.angle),pi+=Gt.x,ei+=Gt.y,Ai=0);const Qt=f.allowVerticalPlacement&&pt.placedOrientation===l.WritingMode.vertical?Math.PI/2:0;for(let Zi=0;Zi<Lt;Zi++)l.addDynamicAttributes(Fe,pi,ei,Ai,Qt);ae&&pt.associatedIconIndex>=0&&(Je[pt.associatedIconIndex]={x:pi,y:ei,z:Ai,angle:Qt})}else rn(Lt,Fe)}if(ae){$e.clear();const st=f.icon.placedSymbolArray;for(let pt=0;pt<st.length;pt++){const bt=st.get(pt),{numGlyphs:xt}=bt,Lt=Je[pt];if(bt.hidden||!Lt)rn(xt,$e);else{const{x:qt,y:Yt,z:jt,angle:ki}=Lt;for(let $t=0;$t<xt;$t++)l.addDynamicAttributes($e,qt,Yt,jt,ki)}}f.icon.dynamicLayoutVertexBuffer.updateData($e)}f.text.dynamicLayoutVertexBuffer.updateData(Fe)}function Qo(f,i,c){return c.iconsInText&&i?"symbolTextAndIcon":f?"symbolSDF":"symbolIcon"}function Js(f,i,c,v,T,A,R,V,G,ie,ae,be){const Fe=f.context,$e=Fe.gl,Je=f.transform,tt=V==="map",Xe=G==="map",qe=tt&&c.layout.get("symbol-placement")!=="point",lt=tt&&!Xe&&!qe,st=c.layout.get("symbol-sort-key").constantOr(1)!==void 0;let pt=!1;const bt=f.depthModeForSublayer(0,l.DepthMode.ReadOnly),xt=[l.mercatorXfromLng(Je.center.lng),l.mercatorYfromLat(Je.center.lat)],Lt=c.layout.get("text-variable-anchor"),qt=Je.projection.name==="globe",Yt=[],jt=[0,-1,0];let ki=jt;!qt&&!Je.mercatorFromTransition||tt||(ki=function($t){const pi=$t._camera.getWorldToCamera($t.worldSize,1),ei=l.multiply([],pi,$t.globeMatrix);l.invert(ei,ei);const Ai=[0,0,0],ni=[0,1,0,0];return l.transformMat4$1(ni,ni,ei),Ai[0]=ni[0],Ai[1]=ni[1],Ai[2]=ni[2],l.normalize(Ai,Ai),Ai}(Je));for(const $t of v){const pi=i.getTile($t),ei=pi.getBucket(c);if(!ei||ei.projection.name==="mercator"&&qt)continue;const Ai=T?ei.text:ei.icon;if(!Ai||ei.fullyClipped||!Ai.segments.get().length)continue;const ni=Ai.programConfigurations.get(c.id),bi=T||ei.sdfIcons,Oi=T?ei.textSizeData:ei.iconSizeData,Gt=Xe||Je.pitch!==0,Qt=l.evaluateSizeForZoom(Oi,Je.zoom);let Zi,or,qi,mr,Cr=[0,0],lr=null;if(T){if(or=pi.glyphAtlasTexture,qi=$e.LINEAR,Zi=pi.glyphAtlasTexture.size,ei.iconsInText){Cr=pi.imageAtlasTexture.size,lr=pi.imageAtlasTexture;const Fo=Oi.kind==="composite"||Oi.kind==="camera";mr=Gt||f.options.rotating||f.options.zooming||Fo?$e.LINEAR:$e.NEAREST}}else{const Fo=c.layout.get("icon-size").constantOr(0)!==1||ei.iconsNeedLinear;or=pi.imageAtlasTexture,qi=bi||f.options.rotating||f.options.zooming||Fo||Gt?$e.LINEAR:$e.NEAREST,Zi=pi.imageAtlasTexture.size}const $i=ei.projection.name==="globe",hn=$i?ki:jt,on=$i?l.globeToMercatorTransition(Je.zoom):0,An=Un($t,ei.getProjection(),Je),_n=Je.calculatePixelsToTileUnitsMatrix(pi),ro=Ke(An,pi.tileID.canonical,Xe,tt,Je,ei.getProjection(),_n),Ao=f.terrain&&Xe&&qe?l.invert(l.create(),ro):rs,Gs=ai(An,pi.tileID.canonical,Xe,tt,Je,ei.getProjection(),_n),Al=Lt&&ei.hasTextData(),Nn=c.layout.get("icon-text-fit")!=="none"&&Al&&ei.hasIconData();if(qe){const Fo=Je.elevation,Ml=Fo?Fo.getAtTileOffsetFunc($t,Je.center.lat,Je.worldSize,ei.getProjection()):null,Cl=zt(An,pi.tileID.canonical,Xe,tt,Je,ei.getProjection(),_n);mi(ei,An,f,T,Cl,Gs,Xe,ie,Ml,$t)}const Mn=qe||T&&Lt||Nn,Jr=f.translatePosMatrix(An,pi,A,R),wa=Mn?rs:ro,Ds=f.translatePosMatrix(Gs,pi,A,R,!0),Dn=ei.getProjection().createInversionMatrix(Je,$t.canonical),Hs=[];f.terrainRenderModeElevated()&&Xe&&Hs.push("PITCH_WITH_MAP_TERRAIN"),$i&&Hs.push("PROJECTION_GLOBE_VIEW"),Mn&&Hs.push("PROJECTED_POS_ON_VIEWPORT");const nu=bi&&c.paint.get(T?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let rc;rc=bi?ei.iconsInText?is(Oi.kind,Qt,lt,Xe,f,Jr,wa,Ds,Zi,Cr,$t,on,xt,Dn,hn,ei.getProjection()):Ya(Oi.kind,Qt,lt,Xe,f,Jr,wa,Ds,T,Zi,!0,$t,on,xt,Dn,hn,ei.getProjection()):js(Oi.kind,Qt,lt,Xe,f,Jr,wa,Ds,T,Zi,$t,on,xt,Dn,hn,ei.getProjection());const Ps={program:f.useProgram(Qo(bi,T,ei),ni,Hs),buffers:Ai,uniformValues:rc,atlasTexture:or,atlasTextureIcon:lr,atlasInterpolation:qi,atlasInterpolationIcon:mr,isSDF:bi,hasHalo:nu,tile:pi,labelPlaneMatrixInv:Ao};if(st&&ei.canOverlap){pt=!0;const Fo=Ai.segments.get();for(const Ml of Fo)Yt.push({segments:new l.SegmentVector([Ml]),sortKey:Ml.sortKey,state:Ps})}else Yt.push({segments:Ai.segments,sortKey:0,state:Ps})}pt&&Yt.sort(($t,pi)=>$t.sortKey-pi.sortKey);for(const $t of Yt){const pi=$t.state;if(f.terrain&&f.terrain.setupElevationDraw(pi.tile,pi.program,{useDepthForOcclusion:!qt,labelPlaneMatrixInv:pi.labelPlaneMatrixInv}),Fe.activeTexture.set($e.TEXTURE0),pi.atlasTexture.bind(pi.atlasInterpolation,$e.CLAMP_TO_EDGE),pi.atlasTextureIcon&&(Fe.activeTexture.set($e.TEXTURE1),pi.atlasTextureIcon&&pi.atlasTextureIcon.bind(pi.atlasInterpolationIcon,$e.CLAMP_TO_EDGE)),pi.isSDF){const ei=pi.uniformValues;pi.hasHalo&&(ei.u_is_halo=1,Qs(pi.buffers,$t.segments,c,f,pi.program,bt,ae,be,ei)),ei.u_is_halo=0}Qs(pi.buffers,$t.segments,c,f,pi.program,bt,ae,be,pi.uniformValues)}}function Qs(f,i,c,v,T,A,R,V,G){const ie=v.context,ae=[f.dynamicLayoutVertexBuffer,f.opacityVertexBuffer,f.globeExtVertexBuffer];T.draw(ie,ie.gl.TRIANGLES,A,R,V,l.CullFaceMode.disabled,G,c.id,f.layoutVertexBuffer,f.indexBuffer,i,c.paint,v.transform.zoom,f.programConfigurations.get(c.id),ae)}function _l(f,i,c,v,T,A,R){const V=f.context.gl,G=c.paint.get("fill-pattern"),ie=G&&G.constantOr(1);let ae,be,Fe,$e,Je;R?(be=ie&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ae=V.LINES):(be=ie?"fillPattern":"fill",ae=V.TRIANGLES);for(const tt of v){const Xe=i.getTile(tt);if(ie&&!Xe.patternsLoaded())continue;const qe=Xe.getBucket(c);if(!qe)continue;f.prepareDrawTile();const lt=qe.programConfigurations.get(c.id),st=f.useProgram(be,lt);ie&&(f.context.activeTexture.set(V.TEXTURE0),Xe.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),lt.updatePaintBuffers());const pt=G.constantOr(null);if(pt&&Xe.imageAtlas){const xt=Xe.imageAtlas.patternPositions[pt.toString()];xt&&lt.setConstantPatternPositions(xt)}const bt=f.translatePosMatrix(tt.projMatrix,Xe,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(R){$e=qe.indexBuffer2,Je=qe.segments2;const xt=f.terrain&&f.terrain.renderingToTexture?f.terrain.drapeBufferSize:[V.drawingBufferWidth,V.drawingBufferHeight];Fe=be==="fillOutlinePattern"&&ie?vl(bt,f,Xe,xt):Wa(bt,xt)}else $e=qe.indexBuffer,Je=qe.segments,Fe=ie?Ks(bt,f,Xe):Ss(bt);f.prepareDrawProgram(f.context,st,tt.toUnwrapped()),st.draw(f.context,ae,T,f.stencilModeForClipping(tt),A,l.CullFaceMode.disabled,Fe,c.id,qe.layoutVertexBuffer,$e,Je,c.paint,f.transform.zoom,lt)}}function bl(f,i,c,v,T,A,R){const V=f.context,G=V.gl,ie=f.transform,ae=c.paint.get("fill-extrusion-pattern"),be=ae.constantOr(1),Fe=c.paint.get("fill-extrusion-opacity"),$e=[c.paint.get("fill-extrusion-ambient-occlusion-intensity"),c.paint.get("fill-extrusion-ambient-occlusion-radius")],Je=c.layout.get("fill-extrusion-edge-radius"),tt=ie.projection.name==="globe"?l.fillExtrusionHeightLift():0,Xe=ie.projection.name==="globe",qe=Xe?l.globeToMercatorTransition(ie.zoom):0,lt=[l.mercatorXfromLng(ie.center.lng),l.mercatorYfromLat(ie.center.lat)],st=[];Xe&&(st.push("PROJECTION_GLOBE_VIEW"),f.style.terrainSetForDrapingOnly()&&st.push("TERRAIN")),$e[0]>0&&st.push("FAUX_AO");for(const pt of v){const bt=i.getTile(pt),xt=bt.getBucket(c);if(!xt||xt.projection.name!==ie.projection.name)continue;const Lt=xt.programConfigurations.get(c.id),qt=f.useProgram(be?"fillExtrusionPattern":"fillExtrusion",Lt,st);if(f.terrain){const Ai=f.terrain;if(f.style.terrainSetForDrapingOnly())Ai.setupElevationDraw(bt,qt,{useMeterToDem:!0});else{if(!xt.enableTerrain)continue;if(Ai.setupElevationDraw(bt,qt,{useMeterToDem:!0}),yo(V,i,pt,xt,c,Ai),!xt.centroidVertexBuffer){const ni=qt.attributes.a_centroid_pos;ni!==void 0&&G.vertexAttrib2f(ni,0,0)}}}be&&(f.context.activeTexture.set(G.TEXTURE0),bt.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Lt.updatePaintBuffers());const Yt=ae.constantOr(null);if(Yt&&bt.imageAtlas){const Ai=bt.imageAtlas.patternPositions[Yt.toString()];Ai&&Lt.setConstantPatternPositions(Ai)}const jt=f.translatePosMatrix(pt.projMatrix,bt,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),ki=ie.projection.createInversionMatrix(ie,pt.canonical),$t=c.paint.get("fill-extrusion-vertical-gradient"),pi=be?Kr(jt,f,$t,Fe,$e,Je,pt,bt,tt,qe,lt,ki):Jo(jt,f,$t,Fe,$e,Je,pt,tt,qe,lt,ki);f.prepareDrawProgram(V,qt,pt.toUnwrapped());const ei=[];f.terrain&&ei.push(xt.centroidVertexBuffer),Xe&&ei.push(xt.layoutVertexExtBuffer),qt.draw(V,V.gl.TRIANGLES,T,A,R,l.CullFaceMode.backCCW,pi,c.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,c.paint,f.transform.zoom,Lt,ei)}}function yo(f,i,c,v,T,A){const R=[qe=>{let lt=qe.canonical.x-1,st=qe.wrap;return lt<0&&(lt=(1<<qe.canonical.z)-1,st--),new l.OverscaledTileID(qe.overscaledZ,st,qe.canonical.z,lt,qe.canonical.y)},qe=>{let lt=qe.canonical.x+1,st=qe.wrap;return lt===1<<qe.canonical.z&&(lt=0,st++),new l.OverscaledTileID(qe.overscaledZ,st,qe.canonical.z,lt,qe.canonical.y)},qe=>new l.OverscaledTileID(qe.overscaledZ,qe.wrap,qe.canonical.z,qe.canonical.x,(qe.canonical.y===0?1<<qe.canonical.z:qe.canonical.y)-1),qe=>new l.OverscaledTileID(qe.overscaledZ,qe.wrap,qe.canonical.z,qe.canonical.x,qe.canonical.y===(1<<qe.canonical.z)-1?0:qe.canonical.y+1)],V=qe=>{const lt=i.getSource().minzoom,st=bt=>{const xt=i.getTileByID(bt);if(xt&&xt.hasData())return xt.getBucket(T)},pt=[0,-1,1];for(const bt of pt){if(qe.overscaledZ+bt<lt)continue;const xt=st(qe.calculateScaledKey(qe.overscaledZ+bt));if(xt)return xt}},G=[0,0,0],ie=(qe,lt)=>(G[0]=Math.min(qe.min.y,lt.min.y),G[1]=Math.max(qe.max.y,lt.max.y),G[2]=l.EXTENT-lt.min.x>qe.max.x?lt.min.x-l.EXTENT:qe.max.x,G),ae=(qe,lt)=>(G[0]=Math.min(qe.min.x,lt.min.x),G[1]=Math.max(qe.max.x,lt.max.x),G[2]=l.EXTENT-lt.min.y>qe.max.y?lt.min.y-l.EXTENT:qe.max.y,G),be=[(qe,lt)=>ie(qe,lt),(qe,lt)=>ie(lt,qe),(qe,lt)=>ae(qe,lt),(qe,lt)=>ae(lt,qe)],Fe=new l.pointGeometry(0,0);let $e,Je,tt;const Xe=(qe,lt,st,pt,bt)=>{const xt=[[pt?st:qe,pt?qe:st,0],[pt?st:lt,pt?lt:st,0]],Lt=bt<0?l.EXTENT+bt:bt,qt=[pt?Lt:(qe+lt)/2,pt?(qe+lt)/2:Lt,0];return st===0&&bt<0||st!==0&&bt>0?A.getForTilePoints(tt,[qt],!0,Je):xt.push(qt),A.getForTilePoints(c,xt,!0,$e),Math.max(xt[0][2],xt[1][2],qt[2])/A.exaggeration()};for(let qe=0;qe<4;qe++){const lt=(qe<2?1:5)-qe,st=v.borders[qe];if(st.length===0)continue;const pt=tt=R[qe](c),bt=V(pt);if(!(bt&&bt instanceof l.FillExtrusionBucket&&bt.enableTerrain)||v.borderDoneWithNeighborZ[qe]===bt.canonical.z&&bt.borderDoneWithNeighborZ[lt]===v.canonical.z||(Je=A.findDEMTileFor(pt),!Je||!Je.dem))continue;if(!$e){const Yt=A.findDEMTileFor(c);if(!Yt||!Yt.dem)return;$e=Yt}const xt=bt.borders[lt];let Lt=0;const qt=bt.borderDoneWithNeighborZ[lt]!==v.canonical.z;if(v.canonical.z===bt.canonical.z){for(let Yt=0;Yt<st.length;Yt++){const jt=v.featuresOnBorder[st[Yt]],ki=jt.borders[qe];let $t;for(;Lt<xt.length&&($t=bt.featuresOnBorder[xt[Lt]],!($t.borders[lt][1]>ki[0]+3));)qt&&bt.encodeCentroid(void 0,$t,!1),Lt++;if($t&&Lt<xt.length){const pi=Lt;let ei=0;for(;!($t.borders[lt][0]>ki[1]-3)&&(ei++,++Lt!==xt.length);)$t=bt.featuresOnBorder[xt[Lt]];if($t=bt.featuresOnBorder[xt[pi]],jt.intersectsCount()>1||$t.intersectsCount()>1||ei!==1){ei!==1&&(Lt=pi),v.encodeCentroid(void 0,jt,!1),qt&&bt.encodeCentroid(void 0,$t,!1);continue}const Ai=be[qe](jt,$t),ni=qe%2?l.EXTENT-1:0;Fe.x=Xe(Ai[0],Math.min(l.EXTENT-1,Ai[1]),ni,qe<2,Ai[2]),Fe.y=0,v.encodeCentroid(Fe,jt,!1),qt&&bt.encodeCentroid(Fe,$t,!1)}else v.encodeCentroid(void 0,jt,!1)}v.borderDoneWithNeighborZ[qe]=bt.canonical.z,v.needsCentroidUpdate=!0,qt&&(bt.borderDoneWithNeighborZ[lt]=v.canonical.z,bt.needsCentroidUpdate=!0)}else{for(const Yt of st)v.encodeCentroid(void 0,v.featuresOnBorder[Yt],!1);if(qt){for(const Yt of xt)bt.encodeCentroid(void 0,bt.featuresOnBorder[Yt],!1);bt.borderDoneWithNeighborZ[lt]=v.canonical.z,bt.needsCentroidUpdate=!0}v.borderDoneWithNeighborZ[qe]=bt.canonical.z,v.needsCentroidUpdate=!0}}(v.needsCentroidUpdate||!v.centroidVertexBuffer&&v.centroidVertexArray.length!==0)&&v.uploadCentroid(f)}const Lo=new l.Color(1,0,0,1),_a=new l.Color(0,1,0,1),el=new l.Color(0,0,1,1),Vs=new l.Color(1,0,1,1),fs=new l.Color(0,1,1,1);function wl(f,i,c){const v=f.context,T=f.transform,A=v.gl,R=T.projection.name==="globe",V=R?["PROJECTION_GLOBE_VIEW"]:null;let G=c.projMatrix;if(R&&l.globeToMercatorTransition(T.zoom)>0){const jt=l.transitionTileAABBinECEF(c.canonical,T),ki=l.globeDenormalizeECEF(jt);G=l.multiply(new Float32Array(16),T.globeMatrix,ki),l.multiply(G,T.projMatrix,G)}const ie=f.useProgram("debug",null,V),ae=i.getTileByID(c.key);f.terrain&&f.terrain.setupElevationDraw(ae,ie);const be=l.DepthMode.disabled,Fe=l.StencilMode.disabled,$e=f.colorModeForRenderPass(),Je="$debug";v.activeTexture.set(A.TEXTURE0),f.emptyTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),R?ae._makeGlobeTileDebugBuffers(f.context,T):ae._makeDebugTileBoundsBuffers(f.context,T.projection);const tt=ae._tileDebugBuffer||f.debugBuffer,Xe=ae._tileDebugIndexBuffer||f.debugIndexBuffer,qe=ae._tileDebugSegments||f.debugSegments;ie.draw(v,A.LINE_STRIP,be,Fe,$e,l.CullFaceMode.disabled,vo(G,l.Color.red),Je,tt,Xe,qe,null,null,null,[ae._globeTileDebugBorderBuffer]);const lt=ae.latestRawTileData,st=Math.floor((lt&&lt.byteLength||0)/1024),pt=i.getTile(c).tileSize,bt=512/Math.min(pt,512)*(c.overscaledZ/T.zoom)*.5;let xt=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(xt+=` => ${c.overscaledZ}`),xt+=` ${st}kb`,function(jt,ki){jt.initDebugOverlayCanvas();const $t=jt.debugOverlayCanvas,pi=jt.context.gl,ei=jt.debugOverlayCanvas.getContext("2d");ei.clearRect(0,0,$t.width,$t.height),ei.shadowColor="white",ei.shadowBlur=2,ei.lineWidth=1.5,ei.strokeStyle="white",ei.textBaseline="top",ei.font="bold 36px Open Sans, sans-serif",ei.fillText(ki,5,5),ei.strokeText(ki,5,5),jt.debugOverlayTexture.update($t),jt.debugOverlayTexture.bind(pi.LINEAR,pi.CLAMP_TO_EDGE)}(f,xt);const Lt=ae._tileDebugTextBuffer||f.debugBuffer,qt=ae._tileDebugTextIndexBuffer||f.quadTriangleIndexBuffer,Yt=ae._tileDebugTextSegments||f.debugSegments;ie.draw(v,A.TRIANGLES,be,Fe,l.ColorMode.alphaBlended,l.CullFaceMode.disabled,vo(G,l.Color.transparent,bt),Je,Lt,qt,Yt,null,null,null,[ae._globeTileDebugTextBuffer])}function Ro(f,i,c,v){wt(f,0,i+c/2,f.transform.width,c,v)}function at(f,i,c,v){wt(f,i-c/2,0,c,f.transform.height,v)}function wt(f,i,c,v,T,A){const R=f.context,V=R.gl;V.enable(V.SCISSOR_TEST),V.scissor(i*l.exported.devicePixelRatio,c*l.exported.devicePixelRatio,v*l.exported.devicePixelRatio,T*l.exported.devicePixelRatio),R.clear({color:A}),V.disable(V.SCISSOR_TEST)}const Ft=l.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:yi}=Ft;function Ut(f,i,c,v){f.emplaceBack(i,c,v)}class _i{constructor(i){this.vertexArray=new l.StructArrayLayout3f12,this.indices=new l.StructArrayLayout3ui6,Ut(this.vertexArray,-1,-1,1),Ut(this.vertexArray,1,-1,1),Ut(this.vertexArray,-1,1,1),Ut(this.vertexArray,1,1,1),Ut(this.vertexArray,-1,-1,-1),Ut(this.vertexArray,1,-1,-1),Ut(this.vertexArray,-1,1,-1),Ut(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=i.createVertexBuffer(this.vertexArray,yi),this.indexBuffer=i.createIndexBuffer(this.indices),this.segment=l.SegmentVector.simpleSegment(0,0,36,12)}}function Si(f,i,c,v,T,A){const R=f.gl,V=i.paint.get("sky-atmosphere-color"),G=i.paint.get("sky-atmosphere-halo-color"),ie=i.paint.get("sky-atmosphere-sun-intensity"),ae=((be,Fe,$e,Je,tt)=>({u_matrix_3f:be,u_sun_direction:Fe,u_sun_intensity:$e,u_color_tint_r:[Je.r,Je.g,Je.b,Je.a],u_color_tint_m:[tt.r,tt.g,tt.b,tt.a],u_luminance:5e-5}))(l.fromMat4(l.create$1(),v),T,ie,V,G);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_CUBE_MAP_POSITIVE_X+A,i.skyboxTexture,0),c.draw(f,R.TRIANGLES,l.DepthMode.disabled,l.StencilMode.disabled,l.ColorMode.unblended,l.CullFaceMode.frontCW,ae,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const Ui=l.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Ci{constructor(i){const c=new l.StructArrayLayout5f20;c.emplaceBack(-1,1,1,0,0),c.emplaceBack(1,1,1,1,0),c.emplaceBack(1,-1,1,1,1),c.emplaceBack(-1,-1,1,0,1);const v=new l.StructArrayLayout3ui6;v.emplaceBack(0,1,2),v.emplaceBack(2,3,0),this.vertexBuffer=i.createVertexBuffer(c,Ui.members),this.indexBuffer=i.createIndexBuffer(v),this.segments=l.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const ir={symbol:function(f,i,c,v,T){if(f.renderPass!=="translucent")return;const A=l.StencilMode.disabled,R=f.colorModeForRenderPass();c.layout.get("text-variable-anchor")&&function(V,G,ie,ae,be,Fe,$e){const Je=G.transform,tt=be==="map",Xe=Fe==="map";for(const qe of V){const lt=ae.getTile(qe),st=lt.getBucket(ie);if(!st||!st.text||!st.text.segments.get().length)continue;const pt=l.evaluateSizeForZoom(st.textSizeData,Je.zoom),bt=Un(qe,st.getProjection(),Je),xt=Je.calculatePixelsToTileUnitsMatrix(lt),Lt=Ke(bt,lt.tileID.canonical,Xe,tt,Je,st.getProjection(),xt),qt=ie.layout.get("icon-text-fit")!=="none"&&st.hasIconData();if(pt){const Yt=Math.pow(2,Je.zoom-lt.tileID.overscaledZ);xl(st,tt,Xe,$e,l.symbolSize,Je,Lt,qe,Yt,pt,qt)}}}(v,f,c,i,c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),T),c.paint.get("icon-opacity").constantOr(1)!==0&&Js(f,i,c,v,!1,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),c.layout.get("icon-rotation-alignment"),c.layout.get("icon-pitch-alignment"),c.layout.get("icon-keep-upright"),A,R),c.paint.get("text-opacity").constantOr(1)!==0&&Js(f,i,c,v,!0,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),c.layout.get("text-keep-upright"),A,R),i.map.showCollisionBoxes&&(xa(f,i,c,v,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),!0),xa(f,i,c,v,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),!1))},circle:function(f,i,c,v){if(f.renderPass!=="translucent")return;const T=c.paint.get("circle-opacity"),A=c.paint.get("circle-stroke-width"),R=c.paint.get("circle-stroke-opacity"),V=c.layout.get("circle-sort-key").constantOr(1)!==void 0;if(T.constantOr(1)===0&&(A.constantOr(1)===0||R.constantOr(1)===0))return;const G=f.context,ie=G.gl,ae=f.transform,be=f.depthModeForSublayer(0,l.DepthMode.ReadOnly),Fe=l.StencilMode.disabled,$e=f.colorModeForRenderPass(),Je=ae.projection.name==="globe",tt=[l.mercatorXfromLng(ae.center.lng),l.mercatorYfromLat(ae.center.lat)],Xe=[];for(let lt=0;lt<v.length;lt++){const st=v[lt],pt=i.getTile(st),bt=pt.getBucket(c);if(!bt||bt.projection.name!==ae.projection.name)continue;const xt=bt.programConfigurations.get(c.id),Lt=Sc(c);Je&&Lt.push("PROJECTION_GLOBE_VIEW");const qt=f.useProgram("circle",xt,Lt),Yt=bt.layoutVertexBuffer,jt=bt.globeExtVertexBuffer,ki=bt.indexBuffer,$t=ae.projection.createInversionMatrix(ae,st.canonical),pi={programConfiguration:xt,program:qt,layoutVertexBuffer:Yt,globeExtVertexBuffer:jt,indexBuffer:ki,uniformValues:es(f,st,pt,$t,tt,c),tile:pt};if(V){const ei=bt.segments.get();for(const Ai of ei)Xe.push({segments:new l.SegmentVector([Ai]),sortKey:Ai.sortKey,state:pi})}else Xe.push({segments:bt.segments,sortKey:0,state:pi})}V&&Xe.sort((lt,st)=>lt.sortKey-st.sortKey);const qe={useDepthForOcclusion:!Je};for(const lt of Xe){const{programConfiguration:st,program:pt,layoutVertexBuffer:bt,globeExtVertexBuffer:xt,indexBuffer:Lt,uniformValues:qt,tile:Yt}=lt.state,jt=lt.segments;f.terrain&&f.terrain.setupElevationDraw(Yt,pt,qe),f.prepareDrawProgram(G,pt,Yt.tileID.toUnwrapped()),pt.draw(G,ie.TRIANGLES,be,Fe,$e,l.CullFaceMode.disabled,qt,c.id,bt,Lt,jt,c.paint,ae.zoom,st,[xt])}},heatmap:function(f,i,c,v){if(c.paint.get("heatmap-opacity")!==0)if(f.renderPass==="offscreen"){const T=f.context,A=T.gl,R=l.StencilMode.disabled,V=new l.ColorMode([A.ONE,A.ONE],l.Color.transparent,[!0,!0,!0,!0]);(function($e,Je,tt,Xe){const qe=$e.gl,lt=Je.width*Xe,st=Je.height*Xe;$e.activeTexture.set(qe.TEXTURE1),$e.viewport.set([0,0,lt,st]);let pt=tt.heatmapFbo;if(!pt||pt&&(pt.width!==lt||pt.height!==st)){pt&&pt.destroy();const bt=qe.createTexture();qe.bindTexture(qe.TEXTURE_2D,bt),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_S,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_T,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MIN_FILTER,qe.LINEAR),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MAG_FILTER,qe.LINEAR),pt=tt.heatmapFbo=$e.createFramebuffer(lt,st,!1),function(xt,Lt,qt,Yt,jt,ki){const $t=xt.gl;$t.texImage2D($t.TEXTURE_2D,0,$t.RGBA,jt,ki,0,$t.RGBA,xt.extRenderToTextureHalfFloat?xt.extTextureHalfFloat.HALF_FLOAT_OES:$t.UNSIGNED_BYTE,null),Yt.colorAttachment.set(qt)}($e,0,bt,pt,lt,st)}else qe.bindTexture(qe.TEXTURE_2D,pt.colorAttachment.get()),$e.bindFramebuffer.set(pt.framebuffer)})(T,f,c,f.transform.projection.name==="globe"?.5:.25),T.clear({color:l.Color.transparent});const G=f.transform,ie=G.projection.name==="globe",ae=ie?["PROJECTION_GLOBE_VIEW"]:null,be=ie?l.CullFaceMode.frontCCW:l.CullFaceMode.disabled,Fe=[l.mercatorXfromLng(G.center.lng),l.mercatorYfromLat(G.center.lat)];for(let $e=0;$e<v.length;$e++){const Je=v[$e];if(i.hasRenderableParent(Je))continue;const tt=i.getTile(Je),Xe=tt.getBucket(c);if(!Xe||Xe.projection.name!==G.projection.name)continue;const qe=Xe.programConfigurations.get(c.id),lt=f.useProgram("heatmap",qe,ae),{zoom:st}=f.transform;f.terrain&&f.terrain.setupElevationDraw(tt,lt),f.prepareDrawProgram(T,lt,Je.toUnwrapped());const pt=G.projection.createInversionMatrix(G,Je.canonical);lt.draw(T,A.TRIANGLES,l.DepthMode.disabled,R,V,be,Ra(f,Je,tt,pt,Fe,st,c.paint.get("heatmap-intensity")),c.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,c.paint,f.transform.zoom,qe,ie?[Xe.globeExtVertexBuffer]:null)}T.viewport.set([0,0,f.width,f.height])}else f.renderPass==="translucent"&&(f.context.setColorMode(f.colorModeForRenderPass()),function(T,A){const R=T.context,V=R.gl,G=A.heatmapFbo;if(!G)return;R.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,G.colorAttachment.get()),R.activeTexture.set(V.TEXTURE1);let ie=A.colorRampTexture;ie||(ie=A.colorRampTexture=new l.Texture(R,A.colorRamp,V.RGBA)),ie.bind(V.LINEAR,V.CLAMP_TO_EDGE),T.useProgram("heatmapTexture").draw(R,V.TRIANGLES,l.DepthMode.disabled,l.StencilMode.disabled,T.colorModeForRenderPass(),l.CullFaceMode.disabled,((ae,be,Fe,$e)=>({u_image:0,u_color_ramp:1,u_opacity:be.paint.get("heatmap-opacity")}))(0,A),A.id,T.viewportBuffer,T.quadTriangleIndexBuffer,T.viewportSegments,A.paint,T.transform.zoom)}(f,c))},line:function(f,i,c,v){if(f.renderPass!=="translucent")return;const T=c.paint.get("line-opacity"),A=c.paint.get("line-width");if(T.constantOr(1)===0||A.constantOr(1)===0)return;const R=f.depthModeForSublayer(0,l.DepthMode.ReadOnly),V=f.colorModeForRenderPass(),G=f.terrain&&f.terrain.renderingToTexture?1:l.exported.devicePixelRatio,ie=c.paint.get("line-dasharray"),ae=ie.constantOr(1),be=c.layout.get("line-cap"),Fe=c.paint.get("line-pattern"),$e=Fe.constantOr(1),Je=c.paint.get("line-gradient"),tt=$e?"linePattern":"line",Xe=f.context,qe=Xe.gl,lt=(pt=>{const bt=[];yl(pt)&&bt.push("RENDER_LINE_DASH"),pt.paint.get("line-gradient")&&bt.push("RENDER_LINE_GRADIENT");const xt=pt.paint.get("line-trim-offset");xt[0]===0&&xt[1]===0||bt.push("RENDER_LINE_TRIM_OFFSET");const Lt=pt.paint.get("line-pattern").constantOr(1),qt=pt.paint.get("line-opacity").constantOr(1)!==1;return!Lt&&qt&&bt.push("RENDER_LINE_ALPHA_DISCARD"),bt})(c);let st=lt.includes("RENDER_LINE_ALPHA_DISCARD");f.terrain&&f.terrain.clipOrMaskOverlapStencilType()&&(st=!1);for(const pt of v){const bt=i.getTile(pt);if($e&&!bt.patternsLoaded())continue;const xt=bt.getBucket(c);if(!xt)continue;f.prepareDrawTile();const Lt=xt.programConfigurations.get(c.id),qt=f.useProgram(tt,Lt,lt),Yt=Fe.constantOr(null);if(Yt&&bt.imageAtlas){const bi=bt.imageAtlas.patternPositions[Yt.toString()];bi&&Lt.setConstantPatternPositions(bi)}const jt=ie.constantOr(null),ki=be.constantOr(null);if(!$e&&jt&&ki&&bt.lineAtlas){const bi=bt.lineAtlas.getDash(jt,ki);bi&&Lt.setConstantPatternPositions(bi)}let[$t,pi]=c.paint.get("line-trim-offset");(ki==="round"||ki==="square")&&$t!==pi&&($t===0&&($t-=1),pi===1&&(pi+=1));const ei=f.terrain?pt.projMatrix:null,Ai=$e?Ms(f,bt,c,ei,G):Sr(f,bt,c,ei,xt.lineClipsArray.length,G,[$t,pi]);if(Je){const bi=xt.gradients[c.id];let Oi=bi.texture;if(c.gradientVersion!==bi.version){let Gt=256;if(c.stepInterpolant){const Qt=i.getSource().maxzoom,Zi=pt.canonical.z===Qt?Math.ceil(1<<f.transform.maxZoom-pt.canonical.z):1;Gt=l.clamp(l.nextPowerOfTwo(xt.maxLineLength/l.EXTENT*1024*Zi),256,Xe.maxTextureSize)}bi.gradient=l.renderColorRamp({expression:c.gradientExpression(),evaluationKey:"lineProgress",resolution:Gt,image:bi.gradient||void 0,clips:xt.lineClipsArray}),bi.texture?bi.texture.update(bi.gradient):bi.texture=new l.Texture(Xe,bi.gradient,qe.RGBA),bi.version=c.gradientVersion,Oi=bi.texture}Xe.activeTexture.set(qe.TEXTURE1),Oi.bind(c.stepInterpolant?qe.NEAREST:qe.LINEAR,qe.CLAMP_TO_EDGE)}ae&&(Xe.activeTexture.set(qe.TEXTURE0),bt.lineAtlasTexture.bind(qe.LINEAR,qe.REPEAT),Lt.updatePaintBuffers()),$e&&(Xe.activeTexture.set(qe.TEXTURE0),bt.imageAtlasTexture.bind(qe.LINEAR,qe.CLAMP_TO_EDGE),Lt.updatePaintBuffers()),f.prepareDrawProgram(Xe,qt,pt.toUnwrapped());const ni=bi=>{qt.draw(Xe,qe.TRIANGLES,R,bi,V,l.CullFaceMode.disabled,Ai,c.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,c.paint,f.transform.zoom,Lt,[xt.layoutVertexBuffer2])};if(st){const bi=f.stencilModeForClipping(pt).ref;bi===0&&f.terrain&&Xe.clear({stencil:0});const Oi={func:qe.EQUAL,mask:255};Ai.u_alpha_discard_threshold=.8,ni(new l.StencilMode(Oi,bi,255,qe.KEEP,qe.KEEP,qe.INVERT)),Ai.u_alpha_discard_threshold=0,ni(new l.StencilMode(Oi,bi,255,qe.KEEP,qe.KEEP,qe.KEEP))}else ni(f.stencilModeForClipping(pt))}st&&(f.resetStencilClippingMasks(),f.terrain&&Xe.clear({stencil:0}))},fill:function(f,i,c,v){const T=c.paint.get("fill-color"),A=c.paint.get("fill-opacity");if(A.constantOr(1)===0)return;const R=f.colorModeForRenderPass(),V=c.paint.get("fill-pattern"),G=f.opaquePassEnabledForLayer()&&!V.constantOr(1)&&T.constantOr(l.Color.transparent).a===1&&A.constantOr(0)===1?"opaque":"translucent";if(f.renderPass===G){const ie=f.depthModeForSublayer(1,f.renderPass==="opaque"?l.DepthMode.ReadWrite:l.DepthMode.ReadOnly);_l(f,i,c,v,ie,R,!1)}if(f.renderPass==="translucent"&&c.paint.get("fill-antialias")){const ie=f.depthModeForSublayer(c.getPaintProperty("fill-outline-color")?2:0,l.DepthMode.ReadOnly);_l(f,i,c,v,ie,R,!0)}},"fill-extrusion":function(f,i,c,v){const T=c.paint.get("fill-extrusion-opacity");if(T!==0&&f.renderPass==="translucent"){const A=new l.DepthMode(f.context.gl.LEQUAL,l.DepthMode.ReadWrite,f.depthRangeFor3D);if(T!==1||c.paint.get("fill-extrusion-pattern").constantOr(1))bl(f,i,c,v,A,l.StencilMode.disabled,l.ColorMode.disabled),bl(f,i,c,v,A,f.stencilModeFor3D(),f.colorModeForRenderPass()),f.resetStencilClippingMasks();else{const R=f.colorModeForRenderPass();bl(f,i,c,v,A,l.StencilMode.disabled,R)}}},hillshade:function(f,i,c,v){if(f.renderPass!=="offscreen"&&f.renderPass!=="translucent")return;const T=f.context,A=f.depthModeForSublayer(0,l.DepthMode.ReadOnly),R=f.colorModeForRenderPass(),V=f.terrain&&f.terrain.renderingToTexture,[G,ie]=f.renderPass!=="translucent"||V?[{},v]:f.stencilConfigForOverlap(v);for(const ae of ie){const be=i.getTile(ae);if(be.needsHillshadePrepare&&f.renderPass==="offscreen")va(f,be,c,A,l.StencilMode.disabled,R);else if(f.renderPass==="translucent"){const Fe=V&&f.terrain?f.terrain.stencilModeForRTTOverlap(ae):G[ae.overscaledZ];Rn(f,ae,be,c,A,Fe,R)}}T.viewport.set([0,0,f.width,f.height]),f.resetStencilClippingMasks()},raster:function(f,i,c,v,T,A){if(f.renderPass!=="translucent"||c.paint.get("raster-opacity")===0||!v.length)return;const R=f.context,V=R.gl,G=i.getSource(),ie=f.useProgram("raster"),ae=f.colorModeForRenderPass(),be=f.terrain&&f.terrain.renderingToTexture,[Fe,$e]=G instanceof It||be?[{},v]:f.stencilConfigForOverlap(v),Je=$e[$e.length-1].overscaledZ,tt=!f.options.moving;for(const Xe of $e){const qe=be?l.DepthMode.disabled:f.depthModeForSublayer(Xe.overscaledZ-Je,c.paint.get("raster-opacity")===1?l.DepthMode.ReadWrite:l.DepthMode.ReadOnly,V.LESS),lt=Xe.toUnwrapped(),st=i.getTile(Xe);if(be&&(!st||!st.hasData()))continue;const pt=be?Xe.projMatrix:f.transform.calculateProjMatrix(lt,tt),bt=f.terrain&&be?f.terrain.stencilModeForRTTOverlap(Xe):Fe[Xe.overscaledZ],xt=A?0:c.paint.get("raster-fade-duration");st.registerFadeDuration(xt);const Lt=i.findLoadedParent(Xe,0),qt=Qn(st,Lt,i,f.transform,xt);let Yt,jt;f.terrain&&f.terrain.prepareDrawTile();const ki=c.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;R.activeTexture.set(V.TEXTURE0),st.texture.bind(ki,V.CLAMP_TO_EDGE),R.activeTexture.set(V.TEXTURE1),Lt?(Lt.texture.bind(ki,V.CLAMP_TO_EDGE),Yt=Math.pow(2,Lt.tileID.overscaledZ-st.tileID.overscaledZ),jt=[st.tileID.canonical.x*Yt%1,st.tileID.canonical.y*Yt%1]):st.texture.bind(ki,V.CLAMP_TO_EDGE);const $t=Cs(pt,jt||[0,0],Yt||1,qt,c,G instanceof It?G.perspectiveTransform:[0,0]);if(f.prepareDrawProgram(R,ie,lt),G instanceof It)G.boundsBuffer&&G.boundsSegments&&ie.draw(R,V.TRIANGLES,qe,l.StencilMode.disabled,ae,l.CullFaceMode.disabled,$t,c.id,G.boundsBuffer,f.quadTriangleIndexBuffer,G.boundsSegments);else{const{tileBoundsBuffer:pi,tileBoundsIndexBuffer:ei,tileBoundsSegments:Ai}=f.getTileBoundsBuffers(st);ie.draw(R,V.TRIANGLES,qe,bt,ae,l.CullFaceMode.disabled,$t,c.id,pi,ei,Ai)}}f.resetStencilClippingMasks()},background:function(f,i,c,v){const T=c.paint.get("background-color"),A=c.paint.get("background-opacity");if(A===0)return;const R=f.context,V=R.gl,G=f.transform,ie=G.tileSize,ae=c.paint.get("background-pattern");if(f.isPatternMissing(ae))return;const be=!ae&&T.a===1&&A===1&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==be)return;const Fe=l.StencilMode.disabled,$e=f.depthModeForSublayer(0,be==="opaque"?l.DepthMode.ReadWrite:l.DepthMode.ReadOnly),Je=f.colorModeForRenderPass(),tt=f.useProgram(ae?"backgroundPattern":"background");let Xe,qe=v;qe||(Xe=f.getBackgroundTiles(),qe=Object.values(Xe).map(lt=>lt.tileID)),ae&&(R.activeTexture.set(V.TEXTURE0),f.imageManager.bind(f.context));for(const lt of qe){const st=lt.toUnwrapped(),pt=v?lt.projMatrix:f.transform.calculateProjMatrix(st);f.prepareDrawTile();const bt=i?i.getTile(lt):Xe?Xe[lt.key]:new l.Tile(lt,ie,G.zoom,f),xt=ae?an(pt,A,f,ae,{tileID:lt,tileSize:ie}):Zc(pt,A,T);f.prepareDrawProgram(R,tt,st);const{tileBoundsBuffer:Lt,tileBoundsIndexBuffer:qt,tileBoundsSegments:Yt}=f.getTileBoundsBuffers(bt);tt.draw(R,V.TRIANGLES,$e,Fe,Je,l.CullFaceMode.disabled,xt,c.id,Lt,qt,Yt)}},sky:function(f,i,c){const v=f.transform,T=v.projection.name==="mercator"||v.projection.name==="globe"?1:l.smoothstep(7,8,v.zoom),A=c.paint.get("sky-opacity")*T;if(A===0)return;const R=f.context,V=c.paint.get("sky-type"),G=new l.DepthMode(R.gl.LEQUAL,l.DepthMode.ReadOnly,[0,1]),ie=f.frameCounter/1e3%1;V==="atmosphere"?f.renderPass==="offscreen"?c.needsSkyboxCapture(f)&&(function(ae,be,Fe,$e){const Je=ae.context,tt=Je.gl;let Xe=be.skyboxFbo;if(!Xe){Xe=be.skyboxFbo=Je.createFramebuffer(32,32,!1),be.skyboxGeometry=new _i(Je),be.skyboxTexture=Je.gl.createTexture(),tt.bindTexture(tt.TEXTURE_CUBE_MAP,be.skyboxTexture),tt.texParameteri(tt.TEXTURE_CUBE_MAP,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_CUBE_MAP,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_CUBE_MAP,tt.TEXTURE_MIN_FILTER,tt.LINEAR),tt.texParameteri(tt.TEXTURE_CUBE_MAP,tt.TEXTURE_MAG_FILTER,tt.LINEAR);for(let pt=0;pt<6;++pt)tt.texImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,tt.RGBA,32,32,0,tt.RGBA,tt.UNSIGNED_BYTE,null)}Je.bindFramebuffer.set(Xe.framebuffer),Je.viewport.set([0,0,32,32]);const qe=be.getCenter(ae,!0),lt=ae.useProgram("skyboxCapture"),st=new Float64Array(16);l.identity(st),l.rotateY(st,st,.5*-Math.PI),Si(Je,be,lt,st,qe,0),l.identity(st),l.rotateY(st,st,.5*Math.PI),Si(Je,be,lt,st,qe,1),l.identity(st),l.rotateX(st,st,.5*-Math.PI),Si(Je,be,lt,st,qe,2),l.identity(st),l.rotateX(st,st,.5*Math.PI),Si(Je,be,lt,st,qe,3),l.identity(st),Si(Je,be,lt,st,qe,4),l.identity(st),l.rotateY(st,st,Math.PI),Si(Je,be,lt,st,qe,5),Je.viewport.set([0,0,ae.width,ae.height])}(f,c),c.markSkyboxValid(f)):f.renderPass==="sky"&&function(ae,be,Fe,$e,Je){const tt=ae.context,Xe=tt.gl,qe=ae.transform,lt=ae.useProgram("skybox");tt.activeTexture.set(Xe.TEXTURE0),Xe.bindTexture(Xe.TEXTURE_CUBE_MAP,be.skyboxTexture);const st=((pt,bt,xt,Lt,qt)=>({u_matrix:pt,u_sun_direction:bt,u_cubemap:0,u_opacity:Lt,u_temporal_offset:qt}))(qe.skyboxMatrix,be.getCenter(ae,!1),0,$e,Je);ae.prepareDrawProgram(tt,lt),lt.draw(tt,Xe.TRIANGLES,Fe,l.StencilMode.disabled,ae.colorModeForRenderPass(),l.CullFaceMode.backCW,st,"skybox",be.skyboxGeometry.vertexBuffer,be.skyboxGeometry.indexBuffer,be.skyboxGeometry.segment)}(f,c,G,A,ie):V==="gradient"&&f.renderPass==="sky"&&function(ae,be,Fe,$e,Je){const tt=ae.context,Xe=tt.gl,qe=ae.transform,lt=ae.useProgram("skyboxGradient");be.skyboxGeometry||(be.skyboxGeometry=new _i(tt)),tt.activeTexture.set(Xe.TEXTURE0);let st=be.colorRampTexture;st||(st=be.colorRampTexture=new l.Texture(tt,be.colorRamp,Xe.RGBA)),st.bind(Xe.LINEAR,Xe.CLAMP_TO_EDGE);const pt=((bt,xt,Lt,qt,Yt)=>({u_matrix:bt,u_color_ramp:0,u_center_direction:xt,u_radius:l.degToRad(Lt),u_opacity:qt,u_temporal_offset:Yt}))(qe.skyboxMatrix,be.getCenter(ae,!1),be.paint.get("sky-gradient-radius"),$e,Je);ae.prepareDrawProgram(tt,lt),lt.draw(tt,Xe.TRIANGLES,Fe,l.StencilMode.disabled,ae.colorModeForRenderPass(),l.CullFaceMode.backCW,pt,"skyboxGradient",be.skyboxGeometry.vertexBuffer,be.skyboxGeometry.indexBuffer,be.skyboxGeometry.segment)}(f,c,G,A,ie)},debug:function(f,i,c){for(let v=0;v<c.length;v++)wl(f,i,c[v])},custom:function(f,i,c){const v=f.context,T=c.implementation;if(f.transform.projection.unsupportedLayers&&f.transform.projection.unsupportedLayers.includes("custom"))l.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(f.renderPass==="offscreen"){const A=T.prerender;A&&(f.setCustomLayerDefaults(),v.setColorMode(f.colorModeForRenderPass()),A.call(T,v.gl,f.transform.customLayerMatrix()),v.setDirty(),f.setBaseState())}else if(f.renderPass==="translucent"){f.setCustomLayerDefaults(),v.setColorMode(f.colorModeForRenderPass()),v.setStencilMode(l.StencilMode.disabled);const A=T.renderingMode==="3d"?new l.DepthMode(f.context.gl.LEQUAL,l.DepthMode.ReadWrite,f.depthRangeFor3D):f.depthModeForSublayer(0,l.DepthMode.ReadOnly);v.setDepthMode(A),T.render(v.gl,f.transform.customLayerMatrix()),v.setDirty(),f.setBaseState(),v.bindFramebuffer.set(null)}}};class dr{constructor(i,c){this.context=new Ce(i),this.transform=c,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=l.SourceCache.maxUnderzooming+l.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new us,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(i,c){const v=!!i&&!!i.terrain&&this.transform.projection.supportsTerrain;if(!(v||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new ca(this,i));const T=this._terrain;this.transform.elevation=v?T:null,T.update(i,this.transform,c)}_updateFog(i){const c=i.fog;if(!c||this.transform.projection.name==="globe"||c.getOpacity(this.transform.pitch)<1||c.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[v,T]=c.getFovAdjustedRange(this.transform._fov);if(v>T)return void(this.transform.fogCullDistSq=null);const A=v+.78*(T-v);this.transform.fogCullDistSq=A*A}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(i,c){if(this.width=i*l.exported.devicePixelRatio,this.height=c*l.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style.order)this.style._layers[v].resize()}setup(){const i=this.context,c=new l.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(l.EXTENT,0),c.emplaceBack(0,l.EXTENT),c.emplaceBack(l.EXTENT,l.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(c,l.posAttributes.members),this.tileExtentSegments=l.SegmentVector.simpleSegment(0,0,4,2);const v=new l.StructArrayLayout2i4;v.emplaceBack(0,0),v.emplaceBack(l.EXTENT,0),v.emplaceBack(0,l.EXTENT),v.emplaceBack(l.EXTENT,l.EXTENT),this.debugBuffer=i.createVertexBuffer(v,l.posAttributes.members),this.debugSegments=l.SegmentVector.simpleSegment(0,0,4,5);const T=new l.StructArrayLayout2i4;T.emplaceBack(-1,-1),T.emplaceBack(1,-1),T.emplaceBack(-1,1),T.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(T,l.posAttributes.members),this.viewportSegments=l.SegmentVector.simpleSegment(0,0,4,2);const A=new l.StructArrayLayout4i8;A.emplaceBack(0,0,0,0),A.emplaceBack(l.EXTENT,0,l.EXTENT,0),A.emplaceBack(0,l.EXTENT,0,l.EXTENT),A.emplaceBack(l.EXTENT,l.EXTENT,l.EXTENT,l.EXTENT),this.mercatorBoundsBuffer=i.createVertexBuffer(A,l.boundsAttributes.members),this.mercatorBoundsSegments=l.SegmentVector.simpleSegment(0,0,4,2);const R=new l.StructArrayLayout3ui6;R.emplaceBack(0,1,2),R.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(R);const V=new l.StructArrayLayout1ui2;for(const ie of[0,1,3,2,0])V.emplaceBack(ie);this.debugIndexBuffer=i.createIndexBuffer(V),this.emptyTexture=new l.Texture(i,new l.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),i.gl.RGBA),this.identityMat=l.create();const G=this.context.gl;this.stencilClearMode=new l.StencilMode({func:G.ALWAYS,mask:0},0,255,G.ZERO,G.ZERO,G.ZERO),this.loadTimeStamps.push(l.window.performance.now()),this.atmosphereBuffer=new Ci(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(i){return i._makeTileBoundsBuffers(this.context,this.transform.projection),i._tileBoundsBuffer?{tileBoundsBuffer:i._tileBoundsBuffer,tileBoundsIndexBuffer:i._tileBoundsIndexBuffer,tileBoundsSegments:i._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const i=this.context,c=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(i,c.TRIANGLES,l.DepthMode.disabled,this.stencilClearMode,l.ColorMode.disabled,l.CullFaceMode.disabled,aa(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(i,c,v){if(!c||this.currentStencilSource===c.id||!i.isTileClipped()||!v||v.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let V=!1;for(const G of v)if(this._tileClippingMaskIDs[G.key]===void 0){V=!0;break}if(!V)return}this.currentStencilSource=c.id;const T=this.context,A=T.gl;this.nextStencilID+v.length>256&&this.clearStencil(),T.setColorMode(l.ColorMode.disabled),T.setDepthMode(l.DepthMode.disabled);const R=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const V of v){const G=c.getTile(V),ie=this._tileClippingMaskIDs[V.key]=this.nextStencilID++,{tileBoundsBuffer:ae,tileBoundsIndexBuffer:be,tileBoundsSegments:Fe}=this.getTileBoundsBuffers(G);R.draw(T,A.TRIANGLES,l.DepthMode.disabled,new l.StencilMode({func:A.ALWAYS,mask:0},ie,255,A.KEEP,A.KEEP,A.REPLACE),l.ColorMode.disabled,l.CullFaceMode.disabled,aa(V.projMatrix),"$clipping",ae,be,Fe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,c=this.context.gl;return new l.StencilMode({func:c.NOTEQUAL,mask:255},i,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(i){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(i);const c=this.context.gl;return new l.StencilMode({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(i){const c=this.context.gl,v=i.sort((R,V)=>V.overscaledZ-R.overscaledZ),T=v[v.length-1].overscaledZ,A=v[0].overscaledZ-T+1;if(A>1){this.currentStencilSource=void 0,this.nextStencilID+A>256&&this.clearStencil();const R={};for(let V=0;V<A;V++)R[V+T]=new l.StencilMode({func:c.GEQUAL,mask:255},V+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=A,[R,v]}return[{[T]:l.StencilMode.disabled},v]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new l.ColorMode([i.CONSTANT_COLOR,i.ONE],new l.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?l.ColorMode.unblended:l.ColorMode.alphaBlended}depthModeForSublayer(i,c,v){if(!this.opaquePassEnabledForLayer())return l.DepthMode.disabled;const T=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new l.DepthMode(v||this.context.gl.LEQUAL,c,[T,T])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,c){this.style=i,this.options=c,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(l.exported.now()),this.imageManager.beginFrame();const v=this.style.order,T=this.style._sourceCaches;for(const G in T){const ie=T[G];ie.used&&ie.prepare(this.context)}const A={},R={},V={};for(const G in T){const ie=T[G];A[G]=ie.getVisibleCoordinates(),R[G]=A[G].slice().reverse(),V[G]=ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<v.length;G++)if(this.style._layers[v[G]].is3D()){this.opaquePassCutoff=G;break}if(this.terrain&&(this.terrain.updateTileBinding(V),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new l.GlobeSharedBuffers(this.context)),l.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const G of v){const ie=this.style._layers[G],ae=i._getLayerSourceCache(ie);if(!ie.hasOffscreenPass()||ie.isHidden(this.transform.zoom))continue;const be=ae?R[ae.id]:void 0;(ie.type==="custom"||ie.isSky()||be&&be.length)&&this.renderLayer(this,ae,ie,be)}if(this.depthRangeFor3D=[0,1-(i.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:c.showOverdrawInspector?l.Color.black:l.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const G=this.style._layers[v[this.currentLayer]],ie=i._getLayerSourceCache(G);if(G.isSky())continue;const ae=ie?R[ie.id]:void 0;this._renderTileClippingMasks(G,ie,ae),this.renderLayer(this,ie,G,ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function(G,ie){const ae=G.context,be=ae.gl,Fe=G.transform,$e=new l.DepthMode(be.LEQUAL,l.DepthMode.ReadOnly,[0,1]),Je=G.useProgram("globeAtmosphere",null,Fe.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),tt=l.globeToMercatorTransition(Fe.zoom),Xe=ie.properties.get("color").toArray01(),qe=ie.properties.get("high-color").toArray01(),lt=ie.properties.get("space-color").toArray01PremultipliedAlpha(),st=l.identity$1([]);l.rotateY$1(st,st,-l.degToRad(Fe._center.lng)),l.rotateX$1(st,st,l.degToRad(Fe._center.lat)),l.rotateZ$1(st,st,Fe.angle),l.rotateX$1(st,st,-Fe._pitch);const pt=l.fromQuat(new Float32Array(16),st),bt=l.mapValue(ie.properties.get("star-intensity"),0,1,0,.25),xt=5e-4,Lt=l.mapValue(ie.properties.get("horizon-blend"),0,1,xt,.25),qt=l.globeUseCustomAntiAliasing(G,ae,Fe)&&Lt===xt?Fe.worldSize/(2*Math.PI*1.025)-1:Fe.globeRadius,Yt=G.frameCounter/1e3%1,jt=l.length(Fe.globeCenterInViewSpace),ki=Math.sqrt(Math.pow(jt,2)-Math.pow(qt,2)),$t=Math.acos(ki/jt),pi=((Ai,ni,bi,Oi,Gt,Qt,Zi,or,qi,mr,Cr,lr,$i,hn)=>({u_frustum_tl:Ai,u_frustum_tr:ni,u_frustum_br:bi,u_frustum_bl:Oi,u_horizon:Gt,u_transition:Qt,u_fadeout_range:Zi,u_color:or,u_high_color:qi,u_space_color:mr,u_star_intensity:Cr,u_star_size:5*l.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:lr,u_horizon_angle:$i,u_rotation_matrix:hn}))(Fe.frustumCorners.TL,Fe.frustumCorners.TR,Fe.frustumCorners.BR,Fe.frustumCorners.BL,Fe.frustumCorners.horizon,tt,Lt,Xe,qe,lt,bt,Yt,$t,pt);G.prepareDrawProgram(ae,Je);const ei=G.atmosphereBuffer;ei&&Je.draw(ae,be.TRIANGLES,$e,l.StencilMode.disabled,l.ColorMode.alphaBlended,l.CullFaceMode.backCW,pi,"skybox",ei.vertexBuffer,ei.indexBuffer,ei.segments)}(this,this.style.fog),this.renderPass="sky",(l.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const G=this.style._layers[v[this.currentLayer]],ie=i._getLayerSourceCache(G);G.isSky()&&this.renderLayer(this,ie,G,ie?R[ie.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;){const G=this.style._layers[v[this.currentLayer]],ie=i._getLayerSourceCache(G);if(G.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(G)){if(G.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ae=ie?(G.type==="symbol"?V:R)[ie.id]:void 0;this._renderTileClippingMasks(G,ie,ie?A[ie.id]:void 0),this.renderLayer(this,ie,G,ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let G=null;l.values(this.style._layers).forEach(ie=>{const ae=i._getLayerSourceCache(ie);ae&&!ie.isHidden(this.transform.zoom)&&(!G||G.getSource().maxzoom<ae.getSource().maxzoom)&&(G=ae)}),G&&this.options.showTileBoundaries&&ir.debug(this,G,G.getVisibleCoordinates())}this.options.showPadding&&function(G){const ie=G.transform.padding;Ro(G,G.transform.height-(ie.top||0),3,Lo),Ro(G,ie.bottom||0,3,_a),at(G,ie.left||0,3,el),at(G,G.transform.width-(ie.right||0),3,Vs);const ae=G.transform.centerPoint;(function(be,Fe,$e,Je){wt(be,Fe-1,$e-10,2,20,Je),wt(be,Fe-10,$e-1,20,2,Je)})(G,ae.x,G.transform.height-ae.y,fs)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(l.window.performance.now()),this.saveCanvasCopy())}}renderLayer(i,c,v,T){v.isHidden(this.transform.zoom)||(v.type==="background"||v.type==="sky"||v.type==="custom"||T&&T.length)&&(this.id=v.id,this.gpuTimingStart(v),i.transform.projection.unsupportedLayers&&i.transform.projection.unsupportedLayers.includes(v.type)||ir[v.type](i,c,v,T,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(i){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;let v=this.gpuTimers[i.id];v||(v=this.gpuTimers[i.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),v.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,v.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const i=this.context.extTimerQuery,c=i.createQueryEXT();this.deferredRenderGpuTimeQueries.push(c),i.beginQueryEXT(i.TIME_ELAPSED_EXT,c)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const i=this.context.extTimerQuery;i.endQueryEXT(i.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const i=this.context.extTimerQuery;i.endQueryEXT(i.TIME_ELAPSED_EXT)}collectGpuTimers(){const i=this.gpuTimers;return this.gpuTimers={},i}collectDeferredRenderGpuQueries(){const i=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],i}queryGpuTimers(i){const c={};for(const v in i){const T=i[v],A=this.context.extTimerQuery,R=A.getQueryObjectEXT(T.query,A.QUERY_RESULT_EXT)/1e6;A.deleteQueryEXT(T.query),c[v]=R}return c}queryGpuTimeDeferredRender(i){if(!this.options.gpuTimingDeferredRender)return 0;const c=this.context.extTimerQuery;let v=0;for(const T of i)v+=c.getQueryObjectEXT(T,c.QUERY_RESULT_EXT)/1e6,c.deleteQueryEXT(T);return v}translatePosMatrix(i,c,v,T,A){if(!v[0]&&!v[1])return i;const R=A?T==="map"?this.transform.angle:0:T==="viewport"?-this.transform.angle:0;if(R){const ie=Math.sin(R),ae=Math.cos(R);v=[v[0]*ae-v[1]*ie,v[0]*ie+v[1]*ae]}const V=[A?v[0]:Ie(c,v[0],this.transform.zoom),A?v[1]:Ie(c,v[1],this.transform.zoom),0],G=new Float32Array(16);return l.translate(G,i,V),G}saveTileTexture(i){const c=this._tileTextures[i.size[0]];c?c.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const c=this._tileTextures[i];return c&&c.length>0?c.pop():null}isPatternMissing(i){return i===null||i!==void 0&&!this.imageManager.getPattern(i.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const i=this.terrain&&this.terrain.renderingToTexture,c=this.terrain&&this.terrain.exaggeration()===0,v=this.style&&this.style.fog,T=[];return this.terrainRenderModeElevated()&&T.push("TERRAIN"),this.transform.projection.name==="globe"&&T.push("GLOBE"),c&&T.push("ZERO_EXAGGERATION"),v&&!i&&v.getOpacity(this.transform.pitch)!==0&&T.push("FOG"),i&&T.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&T.push("OVERDRAW_INSPECTOR"),T}useProgram(i,c,v){this.cache=this.cache||{};const T=v||[],A=this.currentGlobalDefines().concat(T),R=Ts.cacheKey(Jt[i],i,A,c);return this.cache[R]||(this.cache[R]=new Ts(this.context,i,Jt[i],c,Is[i],A)),this.cache[R]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=l.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new l.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(i,c,v){if(this.terrain&&this.terrain.renderingToTexture)return;const T=this.style.fog;if(T){const A=T.getOpacity(this.transform.pitch),R=((V,G,ie,ae,be,Fe,$e,Je,tt,Xe,qe)=>{const lt=V.transform,st=G.properties.get("color").toArray01();st[3]=ae;const pt=V.frameCounter/1e3%1;return{u_fog_matrix:ie?lt.calculateFogTileMatrix(ie):V.identityMat,u_fog_range:G.getFovAdjustedRange(lt._fov),u_fog_color:st,u_fog_horizon_blend:G.properties.get("horizon-blend"),u_fog_temporal_offset:pt,u_frustum_tl:be,u_frustum_tr:Fe,u_frustum_br:$e,u_frustum_bl:Je,u_globe_pos:tt,u_globe_radius:Xe,u_viewport:qe,u_globe_transition:l.globeToMercatorTransition(lt.zoom),u_is_globe:+(lt.projection.name==="globe")}})(this,T,v,A,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*l.exported.devicePixelRatio,this.transform.height*l.exported.devicePixelRatio]);c.setFogUniformValues(i,R)}}setTileLoadedFlag(i){this.tileLoaded=i}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const i=this.context.gl,c=i.createTexture();return i.bindTexture(i.TEXTURE_2D,c),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,i.drawingBufferWidth,i.drawingBufferHeight,0),c}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const i=this.style&&this.style.fog;return!!i&&i.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const i=this._backgroundTiles,c=this._backgroundTiles={},v=this.transform.coveringTiles({tileSize:512});for(const T of v)c[T.key]=i[T.key]||new l.Tile(T,512,this.transform.tileZoom,this);return c}clearBackgroundTiles(){this._backgroundTiles={}}}class cr{constructor(i=0,c=0,v=0,T=0){if(isNaN(i)||i<0||isNaN(c)||c<0||isNaN(v)||v<0||isNaN(T)||T<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=c,this.left=v,this.right=T}interpolate(i,c,v){return c.top!=null&&i.top!=null&&(this.top=l.number(i.top,c.top,v)),c.bottom!=null&&i.bottom!=null&&(this.bottom=l.number(i.bottom,c.bottom,v)),c.left!=null&&i.left!=null&&(this.left=l.number(i.left,c.left,v)),c.right!=null&&i.right!=null&&(this.right=l.number(i.right,c.right,v)),this}getCenter(i,c){const v=l.clamp((this.left+i-this.right)/2,0,i),T=l.clamp((this.top+c-this.bottom)/2,0,c);return new l.pointGeometry(v,T)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new cr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function sr(f,i){const c=l.getColumn(f,3);l.fromQuat(f,i),l.setColumn(f,3,c)}function sn(f,i){const c=l.identity$1([]);return l.rotateZ$1(c,c,-i),l.rotateX$1(c,c,-f),c}function fr(f,i){const c=[f[0],f[1],0],v=[i[0],i[1],0];if(l.length(c)>=1e-15){const R=l.normalize([],c);l.scale$2(v,R,l.dot(v,R)),i[0]=v[0],i[1]=v[1]}const T=l.cross([],i,f);if(l.len(T)<1e-15)return null;const A=Math.atan2(-T[1],T[0]);return sn(Math.atan2(Math.sqrt(f[0]*f[0]+f[1]*f[1]),-f[2]),A)}class Sn{constructor(i,c){this.position=i,this.orientation=c}get position(){return this._position}set position(i){if(i){const c=i instanceof l.MercatorCoordinate?i:new l.MercatorCoordinate(i[0],i[1],i[2]);this._renderWorldCopies&&(c.x=l.wrap(c.x,0,1)),this._position=c}else this._position=null}lookAtPoint(i,c){if(this.orientation=null,!this.position)return;const v=this._elevation?this._elevation.getAtPointOrZero(l.MercatorCoordinate.fromLngLat(i)):0,T=this.position,A=l.MercatorCoordinate.fromLngLat(i,v),R=[A.x-T.x,A.y-T.y,A.z-T.z];c||(c=[0,0,1]),c[2]=Math.abs(c[2]),this.orientation=fr(R,c)}setPitchBearing(i,c){this.orientation=sn(l.degToRad(i),l.degToRad(-c))}}class ta{constructor(i,c){this._transform=l.identity([]),this.orientation=c,this.position=i}get mercatorPosition(){const i=this.position;return new l.MercatorCoordinate(i[0],i[1],i[2])}get position(){const i=l.getColumn(this._transform,3);return[i[0],i[1],i[2]]}set position(i){var c;i&&l.setColumn(this._transform,3,[(c=i)[0],c[1],c[2],1])}get orientation(){return this._orientation}set orientation(i){this._orientation=i||l.identity$1([]),i&&sr(this._transform,this._orientation)}getPitchBearing(){const i=this.forward(),c=this.right();return{bearing:Math.atan2(-c[1],c[0]),pitch:Math.atan2(Math.sqrt(i[0]*i[0]+i[1]*i[1]),-i[2])}}setPitchBearing(i,c){this._orientation=sn(i,c),sr(this._transform,this._orientation)}forward(){const i=l.getColumn(this._transform,2);return[-i[0],-i[1],-i[2]]}up(){const i=l.getColumn(this._transform,1);return[-i[0],-i[1],-i[2]]}right(){const i=l.getColumn(this._transform,0);return[i[0],i[1],i[2]]}getCameraToWorld(i,c){const v=new Float64Array(16);return l.invert(v,this.getWorldToCamera(i,c)),v}getWorldToCameraPosition(i,c,v){const T=this.position;l.scale$2(T,T,-i);const A=new Float64Array(16);return l.fromScaling(A,[v,v,v]),l.translate(A,A,T),A[10]*=c,A}getWorldToCamera(i,c){const v=new Float64Array(16),T=new Float64Array(4),A=this.position;return l.conjugate(T,this._orientation),l.scale$2(A,A,-i),l.fromQuat(v,T),l.translate(v,v,A),v[1]*=-1,v[5]*=-1,v[9]*=-1,v[13]*=-1,v[8]*=c,v[9]*=c,v[10]*=c,v[11]*=c,v}getCameraToClipPerspective(i,c,v,T){const A=new Float64Array(16);return l.perspective(A,i,c,v,T),A}getDistanceToElevation(i,c=!1){const v=i===0?0:l.mercatorZfromAltitude(i,c?l.latFromMercatorY(this.position[1]):this.position[1]),T=this.forward();return(v-this.position[2])/T[2]}clone(){return new ta([...this.position],[...this.orientation])}}function ba(f,i){const c=Ca(f.projection,f.zoom,f.width,f.height),v=function(A,R,V,G,ie){const ae=new l.LngLat(V.lng-180*ha,V.lat),be=new l.LngLat(V.lng+180*ha,V.lat),Fe=A.project(ae.lng,ae.lat),$e=A.project(be.lng,be.lat),Je=-Math.atan2($e.y-Fe.y,$e.x-Fe.x),tt=l.MercatorCoordinate.fromLngLat(V);tt.y=l.clamp(tt.y,-.999975,.999975);const Xe=tt.toLngLat(),qe=A.project(Xe.lng,Xe.lat),lt=l.MercatorCoordinate.fromLngLat(Xe);lt.x+=ha;const st=lt.toLngLat(),pt=A.project(st.lng,st.lat),bt=Zl(pt.x-qe.x,pt.y-qe.y,Je),xt=l.MercatorCoordinate.fromLngLat(Xe);xt.y+=ha;const Lt=xt.toLngLat(),qt=A.project(Lt.lng,Lt.lat),Yt=Zl(qt.x-qe.x,qt.y-qe.y,Je),jt=Math.abs(bt.x)/Math.abs(Yt.y),ki=l.identity([]);l.rotateZ(ki,ki,-Je*(1-(ie?0:G)));const $t=l.identity([]);return l.scale($t,$t,[1,1-(1-jt)*G,1]),$t[4]=-Yt.x/Yt.y*G,l.rotateZ($t,$t,Je),l.multiply($t,ki,$t),$t}(f.projection,0,f.center,c,i),T=Xr(f);return l.scale(v,v,[T,T,1]),v}function Xr(f){const i=f.projection,c=Ca(f.projection,f.zoom,f.width,f.height),v=Yn(i,f.center),T=Yn(i,l.LngLat.convert(i.center));return Math.pow(2,v*c+(1-c)*T)}function Ca(f,i,c,v,T=1/0){const A=f.range;if(!A)return 0;const R=Math.min(T,Math.max(c,v)),V=Math.log(R/1024)/Math.LN2;return l.smoothstep(A[0]+V,A[1]+V,i)}const ha=1/4e4;function Yn(f,i){const c=l.clamp(i.lat,-l.MAX_MERCATOR_LATITUDE,l.MAX_MERCATOR_LATITUDE),v=new l.LngLat(i.lng-180*ha,c),T=new l.LngLat(i.lng+180*ha,c),A=f.project(v.lng,c),R=f.project(T.lng,c),V=l.MercatorCoordinate.fromLngLat(v),G=l.MercatorCoordinate.fromLngLat(T),ie=R.x-A.x,ae=R.y-A.y,be=G.x-V.x,Fe=G.y-V.y,$e=Math.sqrt((be*be+Fe*Fe)/(ie*ie+ae*ae));return Math.log($e)/Math.LN2}function Zl(f,i,c){const v=Math.cos(c),T=Math.sin(c);return{x:f*v-i*T,y:f*T+i*v}}class xo{constructor(i,c,v,T,A,R,V){this.tileSize=512,this._renderWorldCopies=A===void 0||A,this._minZoom=i||0,this._maxZoom=c||22,this._minPitch=v??0,this._maxPitch=T??60,this.setProjection(R),this.setMaxBounds(V),this.width=0,this.height=0,this._center=new l.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new cr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ta,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const i=new xo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return i._elevation=this._elevation,i._centerAltitude=this._centerAltitude,i._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,i.tileSize=this.tileSize,i.mercatorFromTransition=this.mercatorFromTransition,i.width=this.width,i.height=this.height,i.cameraElevationReference=this.cameraElevationReference,i._center=this._center,i._setZoom(this.zoom),i._seaLevelZoom=this._seaLevelZoom,i.angle=this.angle,i._fov=this._fov,i._pitch=this._pitch,i._nearZ=this._nearZ,i._farZ=this._farZ,i._averageElevation=this._averageElevation,i._unmodified=this._unmodified,i._edgeInsets=this._edgeInsets.clone(),i._camera=this._camera.clone(),i._calcMatrices(),i.freezeTileCoverage=this.freezeTileCoverage,i.frustumCorners=this.frustumCorners,i}get elevation(){return this._elevation}set elevation(i){this._elevation!==i&&(this._elevation=i,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(i,c=!1){const v=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||v)&&this._updateCameraOnTerrain(),(i||v)&&this._constrainCamera(c),this._calcMatrices()}getProjection(){return l.pick(this.projection,["name","center","parallels"])}setProjection(i){this.projectionOptions=i||{name:"mercator"};const c=this.projection?this.getProjection():void 0;this.projection=l.getProjection(this.projectionOptions);const v=!L(c,this.getProjection());return v&&this._calcMatrices(),this.mercatorFromTransition=!1,v}setMercatorFromTransition(){const i=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=l.getProjection({name:"mercator"});const c=i!==this.projection.name;return c&&this._calcMatrices(),c}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const i=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(i))}get cameraWorldSize(){const i=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(i))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return l.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.pointGeometry(this.width,this.height)}get bearing(){return l.wrap(this.rotation,-180,180)}set bearing(i){this.rotation=i}get rotation(){return-this.angle/Math.PI*180}set rotation(i){const c=-i*Math.PI/180;var v;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=(v=new l.ARRAY_TYPE(4),l.ARRAY_TYPE!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v),function(T,A,R){var V=A[0],G=A[1],ie=A[2],ae=A[3],be=Math.sin(R),Fe=Math.cos(R);T[0]=V*Fe+ie*be,T[1]=G*Fe+ae*be,T[2]=V*-be+ie*Fe,T[3]=G*-be+ae*Fe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const c=l.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const i=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/i)}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=l.degToRad(i),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(i){this._averageElevation=i,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(i){const c=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._setZoom(c),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(i){this._zoom=i,this.scale=this.zoomScale(i),this.tileZoom=Math.floor(i),this.zoomFraction=i-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const i=this._elevation;this._centerAltitude=i.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=i.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const i=this._elevation,c=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],v=this.horizonLineFromTop();let T=0,A=0;for(let R=0;R<c.length;R++){const V=new l.pointGeometry(c[R][0]*this.width,v+c[R][1]*(this.height-v)),G=i.pointCoordinate(V);if(!G)continue;const ie=1/Math.hypot(G[0]-this._camera.position[0],G[1]-this._camera.position[1]);T+=G[3]*ie,A+=ie}return A===0?NaN:T/A}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const i=this._seaLevelZoom,c=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),v=this.pixelsPerMeter/this.worldSize*c,T=this._mercatorZfromZoom(i),A=this._mercatorZfromZoom(this._maxZoom),R=Math.max(T-v,A);this._setZoom(this._zoomFromMercatorZ(R))}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}computeZoomRelativeTo(i){const c=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,i.toAltitude()));let v;v=i.z<this._camera.position[2]?[c.x,c.y,c.z]:[i.x,i.y,i.z];const T=l.length(l.sub([],this._camera.position,v));return l.clamp(this._zoomFromMercatorZ(T),this._minZoom,this._maxZoom)}setFreeCameraOptions(i){if(!this.height||!i.position&&!i.orientation)return;this._updateCameraState();let c=!1;if(i.orientation&&!l.exactEquals(i.orientation,this._camera.orientation)&&(c=this._setCameraOrientation(i.orientation)),i.position){const v=[i.position.x,i.position.y,i.position.z];l.exactEquals$1(v,this._camera.position)||(this._setCameraPosition(v),c=!0)}c&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const i=this._camera.position,c=new Sn;return c.position=new l.MercatorCoordinate(i[0],i[1],i[2]),c.orientation=this._camera.orientation,c._elevation=this.elevation,c._renderWorldCopies=this.renderWorldCopies,c}_setCameraOrientation(i){if(!l.length$1(i))return!1;l.normalize$1(i,i);const c=l.transformQuat([],[0,0,-1],i),v=l.transformQuat([],[0,-1,0],i);if(v[2]<0)return!1;const T=fr(c,v);return!!T&&(this._camera.orientation=T,!0)}_setCameraPosition(i){const c=this.zoomScale(this.minZoom)*this.tileSize,v=this.zoomScale(this.maxZoom)*this.tileSize,T=this.cameraToCenterDistance;i[2]=l.clamp(i[2],T/v,T/c),this._camera.position=i}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,c,v){this._unmodified=!1,this._edgeInsets.interpolate(i,c,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const c=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,c)}getVisibleUnwrappedCoordinates(i){const c=[new l.UnwrappedTileID(0,i)];if(this.renderWorldCopies){const v=this.pointCoordinate(new l.pointGeometry(0,0)),T=this.pointCoordinate(new l.pointGeometry(this.width,0)),A=this.pointCoordinate(new l.pointGeometry(this.width,this.height)),R=this.pointCoordinate(new l.pointGeometry(0,this.height)),V=Math.floor(Math.min(v.x,T.x,A.x,R.x)),G=Math.floor(Math.max(v.x,T.x,A.x,R.x)),ie=1;for(let ae=V-ie;ae<=G+ie;ae++)ae!==0&&c.push(new l.UnwrappedTileID(ae,i))}return c}coveringTiles(i){let c=this.coveringZoomLevel(i);const v=c,T=this.elevation&&!i.isTerrainDEM,A=this.projection.name==="mercator";if(i.minzoom!==void 0&&c<i.minzoom)return[];i.maxzoom!==void 0&&c>i.maxzoom&&(c=i.maxzoom);const R=this.locationCoordinate(this.center),V=this.center.lat,G=1<<c,ie=[G*R.x,G*R.y,0],ae=this.projection.name==="globe",be=!ae,Fe=l.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c,be),$e=ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Je=G*l.mercatorZfromAltitude(1,this.center.lat),tt=this._camera.position[2]/l.mercatorZfromAltitude(1,this.center.lat),Xe=[G*$e.x,G*$e.y,tt*(be?1:Je)],qe=this.cameraToCenterDistance/i.tileSize*(i.roundZoom?1:.502),lt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?c:0,st=i.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,pt=i.isTerrainDEM?-st:this._elevation?this._elevation.getMinElevationBelowMSL():0,bt=this.projection.isReprojectedInTileSpace?Xr(this):1,xt=ni=>{const Oi=new l.MercatorCoordinate(ni.x+25e-6,ni.y,ni.z),Gt=new l.MercatorCoordinate(ni.x,ni.y+25e-6,ni.z),Qt=ni.toLngLat(),Zi=Oi.toLngLat(),or=Gt.toLngLat(),qi=this.locationCoordinate(Qt),mr=this.locationCoordinate(Zi),Cr=this.locationCoordinate(or),lr=Math.hypot(mr.x-qi.x,mr.y-qi.y),$i=Math.hypot(Cr.x-qi.x,Cr.y-qi.y);return Math.sqrt(lr*$i)*bt/25e-6},Lt=ni=>{const bi=st,Oi=pt;return{aabb:l.tileAABB(this,G,0,0,0,ni,Oi,bi,this.projection),zoom:0,x:0,y:0,minZ:Oi,maxZ:bi,wrap:ni,fullyVisible:!1}},qt=[];let Yt=[];const jt=c,ki=i.reparseOverscaled?v:c,$t=ni=>ni*ni,pi=$t((tt-this._centerAltitude)*Je),ei=ni=>{if(!this._elevation||!ni.tileID||!A)return;const bi=this._elevation.getMinMaxForTile(ni.tileID),Oi=ni.aabb;bi?(Oi.min[2]=bi.min,Oi.max[2]=bi.max,Oi.center[2]=(Oi.min[2]+Oi.max[2])/2):(ni.shouldSplit=Ai(ni),ni.shouldSplit||(Oi.min[2]=Oi.max[2]=Oi.center[2]=this._centerAltitude))},Ai=ni=>{if(ni.zoom<lt)return!0;if(ni.zoom===jt)return!1;if(ni.shouldSplit!=null)return ni.shouldSplit;const bi=ni.aabb.distanceX(Xe),Oi=ni.aabb.distanceY(Xe);let Gt=pi,Qt=1;if(ae){Gt=$t(ni.aabb.distanceZ(Xe));const qi=Math.pow(2,ni.zoom),mr=l.latFromMercatorY((ni.y+1)/qi),Cr=l.latFromMercatorY(ni.y/qi),lr=Math.min(Math.max(V,mr),Cr),$i=l.circumferenceAtLatitude(lr)/l.circumferenceAtLatitude(V);if(Qt=lr===V?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,$i/this._mercatorScaleRatio),this.zoom<=l.GLOBE_ZOOM_THRESHOLD_MIN&&ni.zoom===jt-1&&$i>=.9)return!0}else if(T&&(Gt=$t(ni.aabb.distanceZ(Xe)*Je)),this.projection.isReprojectedInTileSpace&&v<=5){const qi=Math.pow(2,ni.zoom),mr=xt(new l.MercatorCoordinate((ni.x+.5)/qi,(ni.y+.5)/qi));Qt=mr>.85?1:mr}const Zi=bi*bi+Oi*Oi+Gt,or=$t((1<<jt-ni.zoom)*qe*Qt*((qi,mr)=>{if(mr*$t(.707)<qi)return 1;const Cr=Math.sqrt(mr/qi);return Cr/(1.4144271570014144+(Math.pow(1.1,Cr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Gt,pi),Zi));return Zi<or};if(this.renderWorldCopies)for(let ni=1;ni<=3;ni++)qt.push(Lt(-ni)),qt.push(Lt(ni));for(qt.push(Lt(0));qt.length>0;){const ni=qt.pop(),bi=ni.x,Oi=ni.y;let Gt=ni.fullyVisible;if(!Gt){const Qt=ni.aabb.intersects(Fe);if(Qt===0)continue;Gt=Qt===2}if(ni.zoom!==jt&&Ai(ni))for(let Qt=0;Qt<4;Qt++){const Zi=(bi<<1)+Qt%2,or=(Oi<<1)+(Qt>>1),qi={aabb:A?ni.aabb.quadrant(Qt):l.tileAABB(this,G,ni.zoom+1,Zi,or,ni.wrap,ni.minZ,ni.maxZ,this.projection),zoom:ni.zoom+1,x:Zi,y:or,wrap:ni.wrap,fullyVisible:Gt,tileID:void 0,shouldSplit:void 0,minZ:ni.minZ,maxZ:ni.maxZ};T&&!ae&&(qi.tileID=new l.OverscaledTileID(ni.zoom+1===jt?ki:ni.zoom+1,ni.wrap,ni.zoom+1,Zi,or),ei(qi)),qt.push(qi)}else{const Qt=ni.zoom===jt?ki:ni.zoom;if(i.minzoom&&i.minzoom>Qt)continue;const Zi=ie[0]-(.5+bi+(ni.wrap<<ni.zoom))*(1<<c-ni.zoom),or=ie[1]-.5-Oi,qi=ni.tileID?ni.tileID:new l.OverscaledTileID(Qt,ni.wrap,ni.zoom,bi,Oi);Yt.push({tileID:qi,distanceSq:Zi*Zi+or*or})}}if(this.fogCullDistSq){const ni=this.fogCullDistSq,bi=this.horizonLineFromTop();Yt=Yt.filter(Oi=>{const Gt=[0,0,0,1],Qt=[l.EXTENT,l.EXTENT,0,1],Zi=this.calculateFogTileMatrix(Oi.tileID.toUnwrapped());l.transformMat4$1(Gt,Gt,Zi),l.transformMat4$1(Qt,Qt,Zi);const or=l.getAABBPointSquareDist(Gt,Qt);if(or===0)return!0;let qi=!1;const mr=this._elevation;if(mr&&or>ni&&bi!==0){const Cr=this.calculateProjMatrix(Oi.tileID.toUnwrapped());let lr;i.isTerrainDEM||(lr=mr.getMinMaxForTile(Oi.tileID)),lr||(lr={min:pt,max:st});const $i=l.furthestTileCorner(this.rotation),hn=[$i[0]*l.EXTENT,$i[1]*l.EXTENT,lr.max];l.transformMat4(hn,hn,Cr),qi=(1-hn[1])*this.height*.5<bi}return or<ni||qi})}return Yt.sort((ni,bi)=>ni.distanceSq-bi.distanceSq).map(ni=>ni.tileID)}resize(i,c){this.width=i,this.height=c,this.pixelsToGLUnits=[2/i,-2/c],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const c=l.clamp(i.lat,-l.MAX_MERCATOR_LATITUDE,l.MAX_MERCATOR_LATITUDE),v=this.projection.project(i.lng,c);return new l.pointGeometry(v.x*this.worldSize,v.y*this.worldSize)}unproject(i){return this.projection.unproject(i.x/this.worldSize,i.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(i,c){let v,T;const A=this.centerPoint;if(this.projection.name==="globe"){const V=this.worldSize;v=(c.x-A.x)/V,T=(c.y-A.y)/V}else{const V=this.pointCoordinate(c),G=this.pointCoordinate(A);v=V.x-G.x,T=V.y-G.y}const R=this.locationCoordinate(i);this.setLocation(new l.MercatorCoordinate(R.x-v,R.y-T))}setLocation(i){this.center=this.coordinateLocation(i),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(i){return this.projection.locationPoint(this,i)}locationPoint3D(i){return this.projection.locationPoint(this,i,!0)}pointLocation(i){return this.coordinateLocation(this.pointCoordinate(i))}pointLocation3D(i){return this.coordinateLocation(this.pointCoordinate3D(i))}locationCoordinate(i,c){const v=c?l.mercatorZfromAltitude(c,i.lat):void 0,T=this.projection.project(i.lng,i.lat);return new l.MercatorCoordinate(T.x,T.y,v)}coordinateLocation(i){return this.projection.unproject(i.x,i.y)}pointRayIntersection(i,c){const v=c??this._centerAltitude,T=[i.x,i.y,0,1],A=[i.x,i.y,1,1];l.transformMat4$1(T,T,this.pixelMatrixInverse),l.transformMat4$1(A,A,this.pixelMatrixInverse);const R=A[3];l.scale$1(T,T,1/T[3]),l.scale$1(A,A,1/R);const V=T[2],G=A[2];return{p0:T,p1:A,t:V===G?0:(v-V)/(G-V)}}screenPointToMercatorRay(i){const c=[i.x,i.y,0,1],v=[i.x,i.y,1,1];return l.transformMat4$1(c,c,this.pixelMatrixInverse),l.transformMat4$1(v,v,this.pixelMatrixInverse),l.scale$1(c,c,1/c[3]),l.scale$1(v,v,1/v[3]),c[2]=l.mercatorZfromAltitude(c[2],this._center.lat)*this.worldSize,v[2]=l.mercatorZfromAltitude(v[2],this._center.lat)*this.worldSize,l.scale$1(c,c,1/this.worldSize),l.scale$1(v,v,1/this.worldSize),new l.Ray([c[0],c[1],c[2]],l.normalize([],l.sub([],v,c)))}rayIntersectionCoordinate(i){const{p0:c,p1:v,t:T}=i,A=l.mercatorZfromAltitude(c[2],this._center.lat),R=l.mercatorZfromAltitude(v[2],this._center.lat);return new l.MercatorCoordinate(l.number(c[0],v[0],T)/this.worldSize,l.number(c[1],v[1],T)/this.worldSize,l.number(A,R,T))}pointCoordinate(i,c=this._centerAltitude){return this.projection.pointCoordinate(this,i.x,i.y,c)}pointCoordinate3D(i){if(!this.elevation)return this.pointCoordinate(i);let c=this.projection.pointCoordinate3D(this,i.x,i.y);if(c)return new l.MercatorCoordinate(c[0],c[1],c[2]);let v=0,T=this.horizonLineFromTop();if(i.y>T)return this.pointCoordinate(i);const A=.02*T,R=i.clone();for(let V=0;V<10&&T-v>A;V++){R.y=l.number(v,T,.66);const G=this.projection.pointCoordinate3D(this,R.x,R.y);G?(T=R.y,c=G):v=R.y}return c?new l.MercatorCoordinate(c[0],c[1],c[2]):this.pointCoordinate(i)}isPointAboveHorizon(i){return this.projection.isPointAboveHorizon(this,i)}_coordinatePoint(i,c){const v=c&&this.elevation?this.elevation.getAtPointOrZero(i,this._centerAltitude):this._centerAltitude,T=[i.x*this.worldSize,i.y*this.worldSize,v+i.toAltitude(),1];return l.transformMat4$1(T,T,this.pixelMatrix),T[3]>0?new l.pointGeometry(T[0]/T[3],T[1]/T[3]):new l.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:i,left:c}=this._edgeInsets,v=this.height-this._edgeInsets.bottom,T=this.width-this._edgeInsets.right,A=this.pointCoordinate3D(new l.pointGeometry(c,i)),R=this.pointCoordinate3D(new l.pointGeometry(T,i)),V=this.pointCoordinate3D(new l.pointGeometry(T,v)),G=this.pointCoordinate3D(new l.pointGeometry(c,v));let ie=Math.min(A.x,G.x),ae=Math.max(R.x,V.x),be=Math.min(A.y,R.y),Fe=Math.max(G.y,V.y);const $e=Math.pow(2,-this.zoom)/16,Je=(xt,Lt,qt,Yt)=>{const jt=(xt+qt)/2,ki=(Lt+Yt)/2,$t=new l.pointGeometry(jt,ki),pi=this.pointCoordinate3D($t),ei=Math.max(0,ie-pi.x,be-pi.y,pi.x-ae,pi.y-Fe);ie=Math.min(ie,pi.x),ae=Math.max(ae,pi.x),be=Math.min(be,pi.y),Fe=Math.max(Fe,pi.y),ei>$e&&(Je(xt,Lt,jt,ki),Je(jt,ki,qt,Yt))};Je(c,i,T,i),Je(T,i,T,v),Je(T,v,c,v),Je(c,v,c,i);const[tt,Xe]=l.polesInViewport(this),qe=tt||Xe,lt=tt?90:l.latFromMercatorY(be),st=qe?180:l.lngFromMercatorX(ae),pt=Xe?-90:l.latFromMercatorY(Fe),bt=qe?-180:l.lngFromMercatorX(ie);return new l.LngLatBounds(new l.LngLat(bt,pt),new l.LngLat(st,lt))}_getBounds(i,c){if(this.projection.name==="globe")return this._getGlobeBounds();const v=new l.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),T=new l.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),A=new l.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),R=new l.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let V=this.pointCoordinate(v,i),G=this.pointCoordinate(T,i);const ie=this.pointCoordinate(A,c),ae=this.pointCoordinate(R,c),be=(Fe,$e)=>($e.y-Fe.y)/($e.x-Fe.x);return V.y>1&&G.y>=0?V=new l.MercatorCoordinate((1-ae.y)/be(ae,V)+ae.x,1):V.y<0&&G.y<=1&&(V=new l.MercatorCoordinate(-ae.y/be(ae,V)+ae.x,0)),G.y>1&&V.y>=0?G=new l.MercatorCoordinate((1-ie.y)/be(ie,G)+ie.x,1):G.y<0&&V.y<=1&&(G=new l.MercatorCoordinate(-ie.y/be(ie,G)+ie.x,0)),new l.LngLatBounds().extend(this.coordinateLocation(V)).extend(this.coordinateLocation(G)).extend(this.coordinateLocation(ae)).extend(this.coordinateLocation(ie))}_getBounds3D(){const i=this.elevation;if(!i.visibleDemTiles.length||i.isUsingMockSource())return this._getBounds(0,0);const c=i.visibleDemTiles.reduce((v,T)=>{if(T.dem){const A=T.dem.tree;v.min=Math.min(v.min,A.minimums[0]),v.max=Math.max(v.max,A.maximums[0])}return v},{min:Number.MAX_VALUE,max:0});return this._getBounds(c.min*i.exaggeration(),c.max*i.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(i=!0){const c=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,v=this.height/2-c*(1-this._horizonShift);return i?Math.max(0,v):v}getMaxBounds(){return this.maxBounds}setMaxBounds(i){this.maxBounds=i,this.minLat=-l.MAX_MERCATOR_LATITUDE,this.maxLat=l.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,i&&(this.minLat=i.getSouth(),this.maxLat=i.getNorth(),this.minLng=i.getWest(),this.maxLng=i.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=l.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=l.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=l.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=l.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(i,c){return this.projection.createTileMatrix(this,c,i)}calculateDistanceTileData(i){const c=i.key,v=this._distanceTileDataCache;if(v[c])return v[c];const T=i.canonical,A=1/this.height,R=this.cameraWorldSize,V=R/this.zoomScale(T.z),G=(T.x+Math.pow(2,T.z)*i.wrap)*V,ie=T.y*V,ae=this.point;ae.x*=R/this.worldSize,ae.y*=R/this.worldSize;const be=this.angle,Fe=Math.sin(-be),$e=-Math.cos(-be);return v[c]={bearing:[Fe,$e],center:[(ae.x-G)*A,(ae.y-ie)*A],scale:V/l.EXTENT*A},v[c]}calculateFogTileMatrix(i){const c=i.key,v=this._fogTileMatrixCache;if(v[c])return v[c];const T=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,i);return l.multiply(T,this.worldToFogMatrix,T),v[c]=new Float32Array(T),v[c]}calculateProjMatrix(i,c=!1){const v=i.key,T=c?this._alignedProjMatrixCache:this._projMatrixCache;if(T[v])return T[v];const A=this.calculatePosMatrix(i,this.worldSize);return l.multiply(A,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:c?this.alignedProjMatrix:this.projMatrix,A),T[v]=new Float32Array(A),T[v]}calculatePixelsToTileUnitsMatrix(i){const c=i.tileID.key,v=this._pixelsToTileUnitsCache;if(v[c])return v[c];const T=function(A,R){const{scale:V}=A.tileTransform,G=V*l.EXTENT/(A.tileSize*Math.pow(2,R.zoom-A.tileID.overscaledZ+A.tileID.canonical.z));return ie=new Float32Array(4),Fe=(ae=R.inverseAdjustmentMatrix)[1],$e=ae[2],Je=ae[3],Xe=(be=[G,G])[1],ie[0]=ae[0]*(tt=be[0]),ie[1]=Fe*tt,ie[2]=$e*Xe,ie[3]=Je*Xe,ie;var ie,ae,be,Fe,$e,Je,tt,Xe}(i,this);return v[c]=T,v[c]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const i=this._elevation;this._updateCameraState();const c=l.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,v=this._computeCameraPosition(c),T=this._camera.forward(),A=l.mercatorZfromAltitude(1,this._center.lat);v[2]/=A,T[2]/=A,l.normalize(T,T);const R=i.raycast(v,T,i.exaggeration());if(R){const V=l.scaleAndAdd([],v,T,R),G=new l.MercatorCoordinate(V[0],V[1],l.mercatorZfromAltitude(V[2],l.latFromMercatorY(V[1]))),ie=(G.z+l.length([G.x-v[0],G.y-v[1],G.z-v[2]*A]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ie),this._centerAltitude=G.toAltitude(),this._center=this.coordinateLocation(G),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(i=!1){if(!this._elevation)return;const c=this._elevation,v=l.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,T=this._computeCameraPosition(v),A=c.getAtPointOrZero(new l.MercatorCoordinate(...T)),R=this.pixelsPerMeter/this.worldSize*A,V=this._minimumHeightOverTerrain(),G=T[2]-R;if(G<=V)if(G<0||i){const ie=this.locationCoordinate(this._center,this._centerAltitude),ae=[T[0],T[1],ie.z-T[2]],be=l.length(ae);ae[2]-=(V-G)/this._pixelsPerMercatorPixel;const Fe=l.length(ae);if(Fe===0)return;l.scale$2(ae,ae,be/Fe*this._pixelsPerMercatorPixel),this._camera.position=[T[0],T[1],ie.z*this._pixelsPerMercatorPixel-ae[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const i=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||i){const Fe=this.center;return Fe.lat=l.clamp(Fe.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!i)&&(Fe.lng=l.clamp(Fe.lng,this.minLng,this.maxLng)),this.center=Fe,void(this._constraining=!1)}const c=this._unmodified,{x:v,y:T}=this.point;let A=0,R=v,V=T;const G=this.width/2,ie=this.height/2,ae=this.worldMinY*this.scale,be=this.worldMaxY*this.scale;if(T-ie<ae&&(V=ae+ie),T+ie>be&&(V=be-ie),be-ae<this.height&&(A=Math.max(A,this.height/(be-ae)),V=(be+ae)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Fe=this.worldMinX*this.scale,$e=this.worldMaxX*this.scale,Je=this.worldSize/2-(Fe+$e)/2;R=(v+Je+this.worldSize)%this.worldSize-Je,R-G<Fe&&(R=Fe+G),R+G>$e&&(R=$e-G),$e-Fe<this.width&&(A=Math.max(A,this.width/($e-Fe)),R=($e+Fe)/2)}R===v&&V===T||(this.center=this.unproject(new l.pointGeometry(R,V))),A&&(this.zoom+=this.scaleZoom(A)),this._constrainCamera(),this._unmodified=c,this._constraining=!1}_minZoomForBounds(){let i=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(i=Math.max(i,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),i}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,c=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=l.mercatorZfromAltitude(1,this.center.lat)/l.mercatorZfromAltitude(1,l.GLOBE_SCALE_MATCH_LATITUDE));const v=Ca(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,v),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const T=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?c:1),A=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);A[8]=2*-i.x/this.width,A[9]=2*i.y/this.height;let R=l.mul([],A,T);if(this.projection.isReprojectedInTileSpace){const bt=this.locationCoordinate(this.center),xt=l.identity([]);l.translate(xt,xt,[bt.x*this.worldSize,bt.y*this.worldSize,0]),l.multiply(xt,xt,ba(this)),l.translate(xt,xt,[-bt.x*this.worldSize,-bt.y*this.worldSize,0]),l.multiply(R,R,xt),this.inverseAdjustmentMatrix=function(Lt){const qt=ba(Lt,!0);return At([],[qt[0],qt[1],qt[4],qt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=l.scale([],R,[this.worldSize,this.worldSize,this.worldSize/c,1]),this.projMatrix=R,this.invProjMatrix=l.invert(new Float64Array(16),this.projMatrix);const V=l.invert([],A);this.frustumCorners=l.FrustumCorners.fromInvProjectionMatrix(V,this.horizonLineFromTop(),this.height);const G=new Float32Array(16);l.identity(G),l.scale(G,G,[1,-1,1]),l.rotateX(G,G,this._pitch),l.rotateZ(G,G,this.angle);const ie=l.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ie[8]=2*-i.x/this.width,ie[9]=2*(i.y+ae)/this.height,this.skyboxMatrix=l.multiply(G,ie,G);const be=this.point,Fe=be.x,$e=be.y,Je=this.width%2/2,tt=this.height%2/2,Xe=Math.cos(this.angle),qe=Math.sin(this.angle),lt=Fe-Math.round(Fe)+Xe*Je+qe*tt,st=$e-Math.round($e)+Xe*tt+qe*Je,pt=new Float64Array(R);if(l.translate(pt,pt,[lt>.5?lt-1:lt,st>.5?st-1:st,0]),this.alignedProjMatrix=pt,R=l.create(),l.scale(R,R,[this.width/2,-this.height/2,1]),l.translate(R,R,[1,-1,0]),this.labelPlaneMatrix=R,R=l.create(),l.scale(R,R,[1,-1,1]),l.translate(R,R,[-1,-1,0]),l.scale(R,R,[2/this.width,2/this.height,1]),this.glCoordMatrix=R,this.pixelMatrix=l.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},R=l.invert(new Float64Array(16),this.pixelMatrix),!R)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=R,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=l.calculateGlobeMatrix(this);const bt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=l.transformMat4(bt,bt,T),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=R;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const i=this.cameraWorldSizeForFog,c=this.cameraPixelsPerMeter,v=this._camera.position,T=1/this.height/this._pixelsPerMercatorPixel,A=[i,i,c];l.scale$2(A,A,T),l.scale$2(v,v,-1),l.multiply$2(v,v,A);const R=l.create();l.translate(R,R,v),l.scale(R,R,A),this.mercatorFogMatrix=R,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(i,c,T)}_computeCameraPosition(i){const c=(i=i||this.pixelsPerMeter)/this.pixelsPerMeter,v=this._camera.forward(),T=this.point,A=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*c-i/this.worldSize*this._centerAltitude;return[T.x/this.worldSize-v[0]*A,T.y/this.worldSize-v[1]*A,i/this.worldSize*this._centerAltitude-v[2]*A]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(i){const c=this._maxCameraBoundsDistance()*Math.cos(this._pitch),v=this._camera.position[2],T=i[2];let A=1;this.projection.wrap&&(this.center=this.center.wrap()),T>0&&(A=Math.min((c-v)/T,1)),this._camera.position=l.scaleAndAdd([],this._camera.position,i,A),this._updateStateFromCamera()}_updateStateFromCamera(){const i=this._camera.position,c=this._camera.forward(),{pitch:v,bearing:T}=this._camera.getPitchBearing(),A=l.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,R=this._mercatorZfromZoom(this._maxZoom)*Math.cos(l.degToRad(this._maxPitch)),V=Math.max((i[2]-A)/Math.cos(v),R),G=this._zoomFromMercatorZ(V);l.scaleAndAdd(i,i,c,V),this._pitch=l.clamp(v,l.degToRad(this.minPitch),l.degToRad(this.maxPitch)),this.angle=l.wrap(T,-Math.PI,Math.PI),this._setZoom(l.clamp(G,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new l.MercatorCoordinate(i[0],i[1],i[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(i){return Math.pow(2,i)*this.tileSize}_mercatorZfromZoom(i){return this.cameraToCenterDistance/this._worldSizeFromZoom(i)}_minimumHeightOverTerrain(){const i=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(i)}_zoomFromMercatorZ(i){return this.scaleZoom(this.cameraToCenterDistance/(i*this.tileSize))}zoomFromMercatorZAdjusted(i){const c=R=>{const V=this.getCameraToCenterDistance(this.projection,R);return this.scaleZoom(V/(i*this.tileSize))};let v,T=c(this.zoom),A=Math.abs(T-c(T));for(;v!==A;)T=c(T),v=A,A=Math.abs(T-c(T));return T}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(l.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(i,c){const v=Math.min(i.x,c.x),T=Math.max(i.x,c.x),A=Math.min(i.y,c.y),R=Math.max(i.y,c.y);if(A<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const V=[new l.pointGeometry(v,A),new l.pointGeometry(T,R),new l.pointGeometry(v,R),new l.pointGeometry(T,A)],G=this.renderWorldCopies?-3:0,ie=this.renderWorldCopies?4:1;for(const ae of V){const be=this.pointRayIntersection(ae);if(be.t<0)return!0;const Fe=this.rayIntersectionCoordinate(be);if(Fe.x<G||Fe.y<0||Fe.x>ie||Fe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+l.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new l.pointGeometry(0,0),new l.pointGeometry(this.width,this.height))}zoomDeltaToMovement(i,c){const v=l.length(l.sub([],this._camera.position,i)),T=this._zoomFromMercatorZ(v)+c;return v-this._mercatorZfromZoom(T)}getCameraPoint(){if(this.projection.name==="globe"){const i=function([c,v,T],A){const R=[c,v,T,1];l.transformMat4$1(R,R,A);const V=R[3]=Math.max(R[3],1e-6);return R[0]/=V,R[1]/=V,R[2]/=V,R}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new l.pointGeometry(i[0],i[1])}{const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.pointGeometry(0,i))}}getCameraToCenterDistance(i,c=this.zoom){const v=Ca(i,c,this.width,this.height,1024),T=i.pixelSpaceConversion(this.center.lat,this.worldSize,v);return .5/Math.tan(.5*this._fov)*this.height*T}getWorldToCameraMatrix(){const i=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&l.multiply(i,i,this.globeMatrix),i}}function eo(f,i){let c=!1,v=null;const T=()=>{v=null,c&&(f(),v=setTimeout(T,i),c=!1)};return()=>(c=!0,v||T(),v)}class Hi{constructor(i){this._hashName=i&&encodeURIComponent(i),l.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=eo(this._updateHashUnthrottled.bind(this),300)}addTo(i){return this._map=i,l.window.addEventListener("hashchange",this._onHashChange,!1),i.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),l.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const i=this._map;if(!i)return"";const c=ks(i);if(this._hashName){const v=this._hashName;let T=!1;const A=l.window.location.hash.slice(1).split("&").map(R=>{const V=R.split("=")[0];return V===v?(T=!0,`${V}=${c}`):R}).filter(R=>R);return T||A.push(`${v}=${c}`),`#${A.join("&")}`}return`#${c}`}_getCurrentHash(){const i=l.window.location.hash.replace("#","");if(this._hashName){let c;return i.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(c=v)}),(c&&c[1]||"").split("/")}return i.split("/")}_onHashChange(){const i=this._map;if(!i)return!1;const c=this._getCurrentHash();if(c.length>=3&&!c.some(v=>isNaN(v))){const v=i.dragRotate.isEnabled()&&i.touchZoomRotate.isEnabled()?+(c[3]||0):i.getBearing();return i.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:v,pitch:+(c[4]||0)}),!0}return!1}_updateHashUnthrottled(){const i=l.window.location.href.replace(/(#.+)?$/,this.getHashString());l.window.history.replaceState(l.window.history.state,null,i)}}function ks(f,i){const c=f.getCenter(),v=Math.round(100*f.getZoom())/100,T=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),A=Math.pow(10,T),R=Math.round(c.lng*A)/A,V=Math.round(c.lat*A)/A,G=f.getBearing(),ie=f.getPitch();let ae=i?`/${R}/${V}/${v}`:`${v}/${V}/${R}`;return(G||ie)&&(ae+="/"+Math.round(10*G)/10),ie&&(ae+=`/${Math.round(ie)}`),ae}const ql={linearity:.3,easing:l.bezier(0,0,.3,1)},Eh=l.extend({deceleration:2500,maxSpeed:1400},ql),Th=l.extend({deceleration:20,maxSpeed:1400},ql),El=l.extend({deceleration:1e3,maxSpeed:360},ql),Kl=l.extend({deceleration:1e3,maxSpeed:90},ql);class Jl{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:l.exported.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,c=l.exported.now();for(;i.length>0&&c-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,pan:new l.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:A}of this._inertiaBuffer)c.zoom+=A.zoomDelta||0,c.bearing+=A.bearingDelta||0,c.pitch+=A.pitchDelta||0,A.panDelta&&c.pan._add(A.panDelta),A.around&&(c.around=A.around),A.pinchAround&&(c.pinchAround=A.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,T={};if(c.pan.mag()){const A=_o(c.pan.mag(),v,l.extend({},Eh,i||{}));T.offset=c.pan.mult(A.amount/c.pan.mag()),T.center=this._map.transform.center,to(T,A)}if(c.zoom){const A=_o(c.zoom,v,Th);T.zoom=this._map.transform.zoom+A.amount,to(T,A)}if(c.bearing){const A=_o(c.bearing,v,El);T.bearing=this._map.transform.bearing+l.clamp(A.amount,-179,179),to(T,A)}if(c.pitch){const A=_o(c.pitch,v,Kl);T.pitch=this._map.transform.pitch+A.amount,to(T,A)}if(T.zoom||T.bearing){const A=c.pinchAround===void 0?c.around:c.pinchAround;T.around=A?this._map.unproject(A):this._map.getCenter()}return this.clear(),T.noMoveStart=!0,T}}function to(f,i){(!f.duration||f.duration<i.duration)&&(f.duration=i.duration,f.easing=i.easing)}function _o(f,i,c){const{maxSpeed:v,linearity:T,deceleration:A}=c,R=l.clamp(f*T/(i/1e3),-v,v),V=Math.abs(R)/(A*T);return{easing:c.easing,duration:1e3*V,amount:R*(V/2)}}class Na extends l.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,c,v,T={}){const A=Ye(c.getCanvasContainer(),v),R=c.unproject(A);super(i,l.extend({point:A,lngLat:R,originalEvent:v},T)),this._defaultPrevented=!1,this.target=c}}class Tl extends l.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,c,v){const T=i==="touchend"?v.changedTouches:v.touches,A=Q(c.getCanvasContainer(),T),R=A.map(G=>c.unproject(G)),V=A.reduce((G,ie,ae,be)=>G.add(ie.div(be.length)),new l.pointGeometry(0,0));super(i,{points:A,point:V,lngLats:R,lngLat:c.unproject(V),originalEvent:v}),this._defaultPrevented=!1}}class tl extends l.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,c,v){super(i,{originalEvent:v}),this._defaultPrevented=!1}}class qc{constructor(i,c){this._map=i,this._clickTolerance=c.clickTolerance}reset(){this._mousedownPos=void 0}wheel(i){return this._firePreventable(new tl(i.type,this._map,i))}mousedown(i,c){return this._mousedownPos=c,this._firePreventable(new Na(i.type,this._map,i))}mouseup(i){this._map.fire(new Na(i.type,this._map,i))}preclick(i){const c=l.extend({},i);c.type="preclick",this._map.fire(new Na(c.type,this._map,c))}click(i,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||(this.preclick(i),this._map.fire(new Na(i.type,this._map,i)))}dblclick(i){return this._firePreventable(new Na(i.type,this._map,i))}mouseover(i){this._map.fire(new Na(i.type,this._map,i))}mouseout(i){this._map.fire(new Na(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Tl(i.type,this._map,i))}touchmove(i){this._map.fire(new Tl(i.type,this._map,i))}touchend(i){this._map.fire(new Tl(i.type,this._map,i))}touchcancel(i){this._map.fire(new Tl(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ql{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(i){this._map.fire(new Na(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Na("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._map.fire(new Na(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fa{constructor(i,c){this._map=i,this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,c){this.isEnabled()&&i.shiftKey&&i.button===0&&(pe(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(i,c){if(!this._active)return;const v=c,T=this._startPos,A=this._lastPos;if(!T||!A||A.equals(v)||!this._box&&v.dist(T)<this._clickTolerance)return;this._lastPos=v,this._box||(this._box=oe("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",i));const R=Math.min(T.x,v.x),V=Math.max(T.x,v.x),G=Math.min(T.y,v.y),ie=Math.max(T.y,v.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${R}px,${G}px)`,this._box.style.width=V-R+"px",this._box.style.height=ie-G+"px")})}mouseupWindow(i,c){if(!this._active)return;const v=this._startPos,T=c;if(v&&i.button===0){if(this.reset(),it(),v.x!==T.x||v.y!==T.y)return this._map.fire(new l.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:A=>A.fitScreenCoordinates(v,T,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",i)}}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),ve(),delete this._startPos,delete this._lastPos}_fireEvent(i,c){return this._map.fire(new l.Event(i,{originalEvent:c}))}}function il(f,i){const c={};for(let v=0;v<f.length;v++)c[f[v].identifier]=i[v];return c}class Kc{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(i,c,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=i.timeStamp),v.length===this.numTouches&&(this.centroid=function(T){const A=new l.pointGeometry(0,0);for(const R of T)A._add(R);return A.div(T.length)}(c),this.touches=il(v,c)))}touchmove(i,c,v){if(this.aborted||!this.centroid)return;const T=il(v,c);for(const A in this.touches){const R=this.touches[A],V=T[A];(!V||V.dist(R)>30)&&(this.aborted=!0)}}touchend(i,c,v){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const T=!this.aborted&&this.centroid;if(this.reset(),T)return T}}}class ec{constructor(i){this.singleTap=new Kc(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(i,c,v){this.singleTap.touchstart(i,c,v)}touchmove(i,c,v){this.singleTap.touchmove(i,c,v)}touchend(i,c,v){const T=this.singleTap.touchend(i,c,v);if(T){const A=i.timeStamp-this.lastTime<500,R=!this.lastTap||this.lastTap.dist(T)<30;if(A&&R||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=T,this.count===this.numTaps)return this.reset(),T}}}class rl{constructor(){this._zoomIn=new ec({numTouches:1,numTaps:2}),this._zoomOut=new ec({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,c,v){this._zoomIn.touchstart(i,c,v),this._zoomOut.touchstart(i,c,v)}touchmove(i,c,v){this._zoomIn.touchmove(i,c,v),this._zoomOut.touchmove(i,c,v)}touchend(i,c,v){const T=this._zoomIn.touchend(i,c,v),A=this._zoomOut.touchend(i,c,v);return T?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:R.getZoom()+1,around:R.unproject(T)},{originalEvent:i})}):A?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:R.getZoom()-1,around:R.unproject(A)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const bo={0:1,2:2};class tc{constructor(i){this.reset(),this._clickTolerance=i.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(i,c){return!1}_move(i,c){return{}}mousedown(i,c){if(this._lastPoint)return;const v=Dt(i);this._correctButton(i,v)&&(this._lastPoint=c,this._eventButton=v)}mousemoveWindow(i,c){const v=this._lastPoint;if(v){if(i.preventDefault(),this._eventButton!=null&&function(T,A){const R=bo[A];return T.buttons===void 0||(T.buttons&R)!==R}(i,this._eventButton))this.reset();else if(this._moved||!(c.dist(v)<this._clickTolerance))return this._moved=!0,this._lastPoint=c,this._move(v,c)}}mouseupWindow(i){this._lastPoint&&Dt(i)===this._eventButton&&(this._moved&&it(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class io extends tc{mousedown(i,c){super.mousedown(i,c),this._lastPoint&&(this._active=!0)}_correctButton(i,c){return c===0&&!i.ctrlKey}_move(i,c){return{around:c,panDelta:c.sub(i)}}}class wo extends tc{_correctButton(i,c){return c===0&&i.ctrlKey||c===2}_move(i,c){const v=.8*(c.x-i.x);if(v)return this._active=!0,{bearingDelta:v}}contextmenu(i){i.preventDefault()}}class Eo extends tc{_correctButton(i,c){return c===0&&i.ctrlKey||c===2}_move(i,c){const v=-.5*(c.y-i.y);if(v)return this._active=!0,{pitchDelta:v}}contextmenu(i){i.preventDefault()}}class Ac{constructor(i,c){this._map=i,this._el=i.getCanvasContainer(),this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset(),l.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new l.pointGeometry(0,0)}touchstart(i,c,v){return this._calculateTransform(i,c,v)}touchmove(i,c,v){if(this._active&&!(v.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(v.length===1&&!l.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return i.cancelable&&i.preventDefault(),this._calculateTransform(i,c,v)}}touchend(i,c,v){this._calculateTransform(i,c,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,c,v){v.length>0&&(this._active=!0);const T=il(v,c),A=new l.pointGeometry(0,0),R=new l.pointGeometry(0,0);let V=0;for(const ie in T){const ae=T[ie],be=this._touches[ie];be&&(A._add(ae),R._add(ae.sub(be)),V++,T[ie]=ae)}if(this._touches=T,V<this._minTouches||!R.mag())return;const G=R.div(V);return this._sum._add(G),this._sum.mag()<this._clickTolerance?void 0:{around:A.div(V),panDelta:G}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=oe("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Mc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(i){}_move(i,c,v){return{}}touchstart(i,c,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([c[0],c[1]]))}touchmove(i,c,v){const T=this._firstTwoTouches;if(!T)return;i.preventDefault();const[A,R]=T,V=To(v,c,A),G=To(v,c,R);if(!V||!G)return;const ie=this._aroundCenter?null:V.add(G).div(2);return this._move([V,G],ie,i)}touchend(i,c,v){if(!this._firstTwoTouches)return;const[T,A]=this._firstTwoTouches,R=To(v,c,T),V=To(v,c,A);R&&V||(this._active&&it(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function To(f,i,c){for(let v=0;v<f.length;v++)if(f[v].identifier===c)return i[v]}function Jc(f,i){return Math.log(f/i)/Math.LN2}class Sh extends Mc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,c){const v=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Jc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jc(this._distance,v),pinchAround:c}}}function Ah(f,i){return 180*f.angleWith(i)/Math.PI}class Cc extends Mc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,c){const v=this._vector;if(this._vector=i[0].sub(i[1]),v&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ah(this._vector,v),pinchAround:c}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const c=25/(Math.PI*this._minDiameter)*360,v=this._startVector;if(!v)return!1;const T=Ah(i,v);return Math.abs(T)<c}}function zo(f){return Math.abs(f.y)>Math.abs(f.x)}class Ic extends Mc{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(i){this._lastPoints=i,zo(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,c,v){const T=this._lastPoints;if(!T)return;const A=i[0].sub(T[0]),R=i[1].sub(T[1]);return this._map._cooperativeGestures&&!l.isFullscreen()&&v.touches.length<3||(this._valid=this.gestureBeginsVertically(A,R,v.timeStamp),!this._valid)?void 0:(this._lastPoints=i,this._active=!0,{pitchDelta:(A.y+R.y)/2*-.5})}gestureBeginsVertically(i,c,v){if(this._valid!==void 0)return this._valid;const T=i.mag()>=2,A=c.mag()>=2;if(!T&&!A)return;if(!T||!A)return this._firstMove==null&&(this._firstMove=v),v-this._firstMove<100&&void 0;const R=i.y>0==c.y>0;return zo(i)&&zo(c)&&R}}const Mh={panStep:100,bearingStep:15,pitchStep:10};class Ia{constructor(){const i=Mh;this._panStep=i.panStep,this._bearingStep=i.bearingStep,this._pitchStep=i.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let c=0,v=0,T=0,A=0,R=0;switch(i.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:i.shiftKey?v=-1:(i.preventDefault(),A=-1);break;case 39:i.shiftKey?v=1:(i.preventDefault(),A=1);break;case 38:i.shiftKey?T=1:(i.preventDefault(),R=-1);break;case 40:i.shiftKey?T=-1:(i.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(v=0,T=0),{cameraAnimation:V=>{const G=V.getZoom();V.easeTo({duration:300,easeId:"keyboardHandler",easing:tu,zoom:c?Math.round(G)+c*(i.shiftKey?2:1):G,bearing:V.getBearing()+v*this._bearingStep,pitch:V.getPitch()+T*this._pitchStep,offset:[-A*this._panStep,-R*this._panStep],center:V.getCenter()},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function tu(f){return f*(2-f)}const Sl=4.000244140625;class ti{constructor(i,c){this._map=i,this._el=i.getCanvasContainer(),this._handler=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,l.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(i.ctrlKey||i.metaKey||this.isZooming()||l.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let c=i.deltaMode===l.window.WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const v=l.exported.now(),T=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,c!==0&&c%Sl==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":T>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(T*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),i.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=i,this._delta-=c,this._active||this._start(i)),i.preventDefault()}_onTimeout(i){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(i)}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=Ye(this._el,i);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:c,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._map.transform;this._type==="wheel"&&i.projection.wrap&&(i._center.lng>=180||i._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const c=()=>i._terrainEnabled()&&this._aroundCoord?i.computeZoomRelativeTo(this._aroundCoord):i.zoom;if(this._delta!==0){const G=this._type==="wheel"&&Math.abs(this._delta)>Sl?this._wheelZoomRate:this._defaultZoomRate;let ie=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&ie!==0&&(ie=1/ie);const ae=c(),be=Math.pow(2,ae),Fe=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):be;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(Fe*ie))),this._type==="wheel"&&(this._startZoom=ae,this._easing=this._smoothOutEasing(200)),this._delta=0}const v=typeof this._targetZoom=="number"?this._targetZoom:c(),T=this._startZoom,A=this._easing;let R,V=!1;if(this._type==="wheel"&&T&&A){const G=Math.min((l.exported.now()-this._lastWheelEventTime)/200,1),ie=A(G);R=l.number(T,v,ie),G<1?this._frameId||(this._frameId=!0):V=!0}else R=v,V=!0;return this._active=!0,V&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!V,zoomDelta:R-c(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let c=l.ease;if(this._prevEase){const v=this._prevEase,T=(l.exported.now()-v.start)/v.duration,A=v.easing(T+.01)-v.easing(T),R=.27/Math.sqrt(A*A+1e-4)*.01,V=Math.sqrt(.0729-R*R);c=l.bezier(R,V,.25,1)}return this._prevEase={start:l.exported.now(),duration:i,easing:c},c}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=oe("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(l.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Rt{constructor(i,c){this._clickZoom=i,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class _t{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(i,c){return i.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:v.getZoom()+(i.shiftKey?-1:1),around:v.unproject(c)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ee{constructor(){this._tap=new ec({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(i,c,v){this._swipePoint||(this._tapTime&&i.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?v.length>0&&(this._swipePoint=c[0],this._swipeTouch=v[0].identifier):this._tap.touchstart(i,c,v))}touchmove(i,c,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const T=c[0],A=T.y-this._swipePoint.y;return this._swipePoint=T,i.preventDefault(),this._active=!0,{zoomDelta:A/128}}}else this._tap.touchmove(i,c,v)}touchend(i,c,v){this._tapTime?this._swipePoint&&v.length===0&&this.reset():this._tap.touchend(i,c,v)&&(this._tapTime=i.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class et{constructor(i,c,v){this._el=i,this._mousePan=c,this._touchPan=v}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class vt{constructor(i,c,v){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=c,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class oi{constructor(i,c,v,T){this._el=i,this._touchZoom=c,this._touchRotate=v,this._tapDragZoom=T,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Nt=f=>f.zoom||f.drag||f.pitch||f.rotate;class zi extends l.Event{}class Er{constructor(){this.constants=[1,1,.01],this.radius=0}setup(i,c){const v=l.sub([],c,i);this.radius=l.length(v[2]<0?l.div([],v,this.constants):[v[0],v[1],0])}projectRay(i){l.div(i,i,this.constants),l.normalize(i,i),l.mul$1(i,i,this.constants);const c=l.scale$2([],i,this.radius);if(c[2]>0){const v=l.scale$2([],[0,0,1],l.dot(c,[0,0,1])),T=l.scale$2([],l.normalize([],[c[0],c[1],0]),this.radius),A=l.add([],c,l.scale$2([],l.sub([],l.add([],T,v),c),2));c[0]=A[0],c[1]=A[1]}return c}}function Pr(f){return f.panDelta&&f.panDelta.mag()||f.zoomDelta||f.bearingDelta||f.pitchDelta}class Mr{constructor(i,c){this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jl(i),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Er,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(c),l.bindAll(["handleEvent","handleWindowEvent"],this);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[l.window.document,"mousemove",{capture:!0}],[l.window.document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[l.window,"blur",void 0]];for(const[T,A,R]of this._listeners)T.addEventListener(A,T===l.window.document?this.handleWindowEvent:this.handleEvent,R)}destroy(){for(const[i,c,v]of this._listeners)i.removeEventListener(c,i===l.window.document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(i){const c=this._map,v=c.getCanvasContainer();this._add("mapEvent",new qc(c,i));const T=c.boxZoom=new Fa(c,i);this._add("boxZoom",T);const A=new rl,R=new _t;c.doubleClickZoom=new Rt(R,A),this._add("tapZoom",A),this._add("clickZoom",R);const V=new Ee;this._add("tapDragZoom",V);const G=c.touchPitch=new Ic(c);this._add("touchPitch",G);const ie=new wo(i),ae=new Eo(i);c.dragRotate=new vt(i,ie,ae),this._add("mouseRotate",ie,["mousePitch"]),this._add("mousePitch",ae,["mouseRotate"]);const be=new io(i),Fe=new Ac(c,i);c.dragPan=new et(v,be,Fe),this._add("mousePan",be),this._add("touchPan",Fe,["touchZoom","touchRotate"]);const $e=new Cc,Je=new Sh;c.touchZoomRotate=new oi(v,Je,$e,V),this._add("touchRotate",$e,["touchPan","touchZoom"]),this._add("touchZoom",Je,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ql(c));const tt=c.scrollZoom=new ti(c,this);this._add("scrollZoom",tt,["mousePan"]);const Xe=c.keyboard=new Ia;this._add("keyboard",Xe);for(const qe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])i.interactive&&i[qe]&&c[qe].enable(i[qe])}_add(i,c,v){this._handlers.push({handlerName:i,handler:c,allowed:v}),this._handlersById[i]=c}stop(i){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Nt(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(i,c,v){for(const T in i)if(T!==v&&(!c||c.indexOf(T)<0))return!0;return!1}handleWindowEvent(i){this.handleEvent(i,`${i.type}Window`)}_getMapTouches(i){const c=[];for(const v of i)this._el.contains(v.target)&&c.push(v);return c}handleEvent(i,c){this._updatingCamera=!0;const v=i.type==="renderFrame",T=v?void 0:i,A={needsRenderFrame:!1},R={},V={},G=i.touches?this._getMapTouches(i.touches):void 0,ie=G?Q(this._el,G):v?void 0:Ye(this._el,i);for(const{handlerName:Fe,handler:$e,allowed:Je}of this._handlers){if(!$e.isEnabled())continue;let tt;this._blockedByActive(V,Je,Fe)?$e.reset():$e[c||i.type]&&(tt=$e[c||i.type](i,ie,G),this.mergeHandlerResult(A,R,tt,Fe,T),tt&&tt.needsRenderFrame&&this._triggerRenderFrame()),(tt||$e.isActive())&&(V[Fe]=$e)}const ae={};for(const Fe in this._previousActiveHandlers)V[Fe]||(ae[Fe]=T);this._previousActiveHandlers=V,(Object.keys(ae).length||Pr(A))&&(this._changes.push([A,R,ae]),this._triggerRenderFrame()),(Object.keys(V).length||Pr(A))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:be}=A;be&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],be(this._map))}mergeHandlerResult(i,c,v,T,A){if(!v)return;l.extend(i,v);const R={handlerName:T,originalEvent:v.originalEvent||A};v.zoomDelta!==void 0&&(c.zoom=R),v.panDelta!==void 0&&(c.drag=R),v.pitchDelta!==void 0&&(c.pitch=R),v.bearingDelta!==void 0&&(c.rotate=R)}_applyChanges(){const i={},c={},v={};for(const[T,A,R]of this._changes)T.panDelta&&(i.panDelta=(i.panDelta||new l.pointGeometry(0,0))._add(T.panDelta)),T.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+T.zoomDelta),T.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+T.bearingDelta),T.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+T.pitchDelta),T.around!==void 0&&(i.around=T.around),T.aroundCoord!==void 0&&(i.aroundCoord=T.aroundCoord),T.pinchAround!==void 0&&(i.pinchAround=T.pinchAround),T.noInertia&&(i.noInertia=T.noInertia),l.extend(c,A),l.extend(v,R);this._updateMapTransform(i,c,v),this._changes=[]}_updateMapTransform(i,c,v){const T=this._map,A=T.transform,R=lt=>[lt.x,lt.y,lt.z];if((lt=>{const st=this._eventsInProgress.drag;return st&&!this._handlersById[st.handlerName].isActive()})()&&!Pr(i)){const lt=A.zoom;A.cameraElevationReference="sea",A.recenterOnTerrain(),A.cameraElevationReference="ground",lt!==A.zoom&&this._map._update(!0)}if(A._isCameraConstrained&&T._stop(!0),!Pr(i))return void this._fireEvents(c,v,!0);let{panDelta:V,zoomDelta:G,bearingDelta:ie,pitchDelta:ae,around:be,aroundCoord:Fe,pinchAround:$e}=i;A._isCameraConstrained&&(G>0&&(G=0),A._isCameraConstrained=!1),$e!==void 0&&(be=$e),(lt=>c.drag&&!this._eventsInProgress.drag)()&&be&&(this._dragOrigin=R(A.pointCoordinate3D(be)),this._trackingEllipsoid.setup(A._camera.position,this._dragOrigin)),A.cameraElevationReference="sea",T._stop(!0),be=be||T.transform.centerPoint,ie&&(A.bearing+=ie),ae&&(A.pitch+=ae),A._updateCameraState();const Je=[0,0,0];if(V)if(A.projection.name==="mercator"){const lt=this._trackingEllipsoid.projectRay(A.screenPointToMercatorRay(be).dir),st=this._trackingEllipsoid.projectRay(A.screenPointToMercatorRay(be.sub(V)).dir);Je[0]=st[0]-lt[0],Je[1]=st[1]-lt[1]}else{const lt=A.pointCoordinate(be);if(A.projection.name==="globe"){V=V.rotate(-A.angle);const st=A._pixelsPerMercatorPixel/A.worldSize;Je[0]=-V.x*l.mercatorScale(l.latFromMercatorY(lt.y))*st,Je[1]=-V.y*l.mercatorScale(A.center.lat)*st}else{const st=A.pointCoordinate(be.sub(V));lt&&st&&(Je[0]=st.x-lt.x,Je[1]=st.y-lt.y)}}const tt=A.zoom,Xe=[0,0,0];if(G){const lt=R(Fe||A.pointCoordinate3D(be)),st={dir:l.normalize([],l.sub([],lt,A._camera.position))};if(st.dir[2]<0){const pt=A.zoomDeltaToMovement(lt,G);l.scale$2(Xe,st.dir,pt)}}const qe=l.add(Je,Je,Xe);A._translateCameraConstrained(qe),G&&Math.abs(A.zoom-tt)>1e-4&&A.recenterOnTerrain(),A.cameraElevationReference="ground",this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(c,v,!0)}_fireEvents(i,c,v){const T=Nt(this._eventsInProgress),A=Nt(i),R={};for(const ae in i){const{originalEvent:be}=i[ae];this._eventsInProgress[ae]||(R[`${ae}start`]=be),this._eventsInProgress[ae]=i[ae]}!T&&A&&this._fireEvent("movestart",A.originalEvent);for(const ae in R)this._fireEvent(ae,R[ae]);A&&this._fireEvent("move",A.originalEvent);for(const ae in i){const{originalEvent:be}=i[ae];this._fireEvent(ae,be)}const V={};let G;for(const ae in this._eventsInProgress){const{handlerName:be,originalEvent:Fe}=this._eventsInProgress[ae];this._handlersById[be].isActive()||(delete this._eventsInProgress[ae],G=c[be]||Fe,V[`${ae}end`]=G)}for(const ae in V)this._fireEvent(ae,V[ae]);const ie=Nt(this._eventsInProgress);if(v&&(T||A)&&!ie){this._updatingCamera=!0;const ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),be=Fe=>Fe!==0&&-this._bearingSnap<Fe&&Fe<this._bearingSnap;ae?(be(ae.bearing||this._map.getBearing())&&(ae.bearing=0),this._map.easeTo(ae,{originalEvent:G})):(this._map.fire(new l.Event("moveend",{originalEvent:G})),be(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(i,c){this._map.fire(new l.Event(i,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{this._frameId=void 0,this.handleEvent(new zi("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const xn="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class ps extends l.Evented{constructor(i,c){super(),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=c.bearingSnap,l.bindAll(["_renderFrameCallback"],this)}getCenter(){return new l.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,c){return this.jumpTo({center:i},c)}panBy(i,c,v){return i=l.pointGeometry.convert(i).mult(-1),this.panTo(this.transform.center,l.extend({offset:i},c),v)}panTo(i,c,v){return this.easeTo(l.extend({center:i},c),v)}getZoom(){return this.transform.zoom}setZoom(i,c){return this.jumpTo({zoom:i},c),this}zoomTo(i,c,v){return this.easeTo(l.extend({zoom:i},c),v)}zoomIn(i,c){return this.zoomTo(this.getZoom()+1,i,c),this}zoomOut(i,c){return this.zoomTo(this.getZoom()-1,i,c),this}getBearing(){return this.transform.bearing}setBearing(i,c){return this.jumpTo({bearing:i},c),this}getPadding(){return this.transform.padding}setPadding(i,c){return this.jumpTo({padding:i},c),this}rotateTo(i,c,v){return this.easeTo(l.extend({bearing:i},c),v)}resetNorth(i,c){return this.rotateTo(0,l.extend({duration:1e3},i),c),this}resetNorthPitch(i,c){return this.easeTo(l.extend({bearing:0,pitch:0,duration:1e3},i),c),this}snapToNorth(i,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,c):this}getPitch(){return this.transform.pitch}setPitch(i,c){return this.jumpTo({pitch:i},c),this}cameraForBounds(i,c){i=l.LngLatBounds.convert(i);const v=c&&c.bearing||0,T=c&&c.pitch||0,A=i.getNorthWest(),R=i.getSouthEast();return this._cameraForBounds(this.transform,A,R,v,T,c)}_extendCameraOptions(i){const c={top:0,bottom:0,right:0,left:0};if(typeof(i=l.extend({padding:c,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding=="number"){const v=i.padding;i.padding={top:v,bottom:v,right:v,left:v}}return i.padding=l.extend(c,i.padding),i}_minimumAABBFrustumDistance(i,c){const v=c.max[0]-c.min[0],T=c.max[1]-c.min[1];return v/T>i.aspect?v/(2*Math.tan(.5*i.fovX)*i.aspect):T/(2*Math.tan(.5*i.fovY)*i.aspect)}_cameraForBoundsOnGlobe(i,c,v,T,A,R){const V=i.clone(),G=this._extendCameraOptions(R);V.bearing=T,V.pitch=A;const ie=l.LngLat.convert(c),ae=l.LngLat.convert(v),be=.5*(ie.lat+ae.lat),Fe=.5*(ie.lng+ae.lng),$e=l.latLngToECEF(be,Fe),Je=l.normalize([],$e),tt=l.normalize([],l.cross([],Je,[0,1,0])),Xe=l.cross([],tt,Je),qe=[tt[0],tt[1],tt[2],0,Xe[0],Xe[1],Xe[2],0,Je[0],Je[1],Je[2],0,0,0,0,1],lt=[$e,l.latLngToECEF(ie.lat,ie.lng),l.latLngToECEF(ae.lat,ie.lng),l.latLngToECEF(ae.lat,ae.lng),l.latLngToECEF(ie.lat,ae.lng),l.latLngToECEF(be,ie.lng),l.latLngToECEF(be,ae.lng),l.latLngToECEF(ie.lat,Fe),l.latLngToECEF(ae.lat,Fe)];let st=l.Aabb.fromPoints(lt.map(Gt=>[l.dot(tt,Gt),l.dot(Xe,Gt),l.dot(Je,Gt)]));const pt=l.transformMat4([],st.center,qe);l.squaredLength(pt)===0&&l.set(pt,0,0,1),l.normalize(pt,pt),l.scale$2(pt,pt,l.GLOBE_RADIUS),V.center=l.ecefToLatLng(pt);const bt=V.getWorldToCameraMatrix(),xt=l.invert(new Float64Array(16),bt);st=l.Aabb.applyTransform(st,l.multiply([],bt,qe)),l.transformMat4(pt,pt,bt);const Lt=.5*(st.max[2]-st.min[2]),qt=this._minimumAABBFrustumDistance(V,st),Yt=l.scale$2([],[0,0,1],Lt),jt=l.add(Yt,pt,Yt),ki=qt+(V.pitch===0?0:l.distance(pt,jt)),$t=V.globeCenterInViewSpace,pi=l.sub([],pt,[$t[0],$t[1],$t[2]]);l.normalize(pi,pi),l.scale$2(pi,pi,ki);const ei=l.add([],pt,pi);l.transformMat4(ei,ei,xt);const Ai=l.earthRadius/l.GLOBE_RADIUS,ni=l.length(ei),bi=l.mercatorZfromAltitude(ni*Ai-l.earthRadius,0),Oi=Math.min(V.zoomFromMercatorZAdjusted(bi),G.maxZoom);return Oi>.5*(l.GLOBE_ZOOM_THRESHOLD_MIN+l.GLOBE_ZOOM_THRESHOLD_MAX)?(V.setProjection({name:"mercator"}),V.zoom=Oi,this._cameraForBounds(V,c,v,T,A,R)):{center:V.center,zoom:Oi,bearing:T,pitch:A}}queryTerrainElevation(i,c){const v=this.transform.elevation;return v?(c=l.extend({},{exaggerated:!0},c),v.getAtPoint(l.MercatorCoordinate.fromLngLat(i),null,c.exaggerated)):null}_cameraForBounds(i,c,v,T,A,R){if(i.projection.name==="globe")return this._cameraForBoundsOnGlobe(i,c,v,T,A,R);const V=i.clone(),G=this._extendCameraOptions(R),ie=V.padding;V.bearing=T,V.pitch=A;const ae=l.LngLat.convert(c),be=l.LngLat.convert(v),Fe=new l.LngLat(ae.lng,be.lat),$e=new l.LngLat(be.lng,ae.lat),Je=V.project(ae),tt=V.project(be),Xe=this.queryTerrainElevation(ae),qe=this.queryTerrainElevation(be),lt=this.queryTerrainElevation(Fe),st=this.queryTerrainElevation($e),pt=[[Je.x,Je.y,Math.min(Xe||0,qe||0,lt||0,st||0)],[tt.x,tt.y,Math.max(Xe||0,qe||0,lt||0,st||0)]];let bt=l.Aabb.fromPoints(pt);const xt=V.getWorldToCameraMatrix(),Lt=l.invert(new Float64Array(16),xt);bt=l.Aabb.applyTransform(bt,xt);const qt=l.sub([],bt.max,bt.min),Yt=ie.left||0,jt=ie.right||0,ki=ie.bottom||0,$t=ie.top||0,{left:pi,right:ei,top:Ai,bottom:ni}=G.padding,bi=.5*(Yt+jt),Oi=.5*($t+ki),Gt=Math.min(V.scaleZoom(V.scale*Math.min((V.width-(Yt+jt+pi+ei))/qt[0],(V.height-(ki+$t+ni+Ai))/qt[1])),G.maxZoom),Qt=V.scale/V.zoomScale(Gt);bt=new l.Aabb([bt.min[0]-(pi+bi)*Qt,bt.min[1]-(ni+Oi)*Qt,bt.min[2]],[bt.max[0]+(ei+bi)*Qt,bt.max[1]+(Ai+Oi)*Qt,bt.max[2]]);const Zi=.5*qt[2],or=this._minimumAABBFrustumDistance(V,bt),qi=[0,0,1,0];l.transformMat4$1(qi,qi,xt),l.normalize$2(qi,qi);const mr=l.scale$2([],qi,or+Zi),Cr=l.add([],bt.center,mr),lr=(typeof G.offset.x=="number"&&typeof G.offset.y=="number"?new l.pointGeometry(G.offset.x,G.offset.y):l.pointGeometry.convert(G.offset)).rotate(-l.degToRad(T));bt.center[0]-=lr.x*Qt,bt.center[1]+=lr.y*Qt,l.transformMat4(bt.center,bt.center,Lt),l.transformMat4(Cr,Cr,Lt);const $i=[bt.center[0],bt.center[1],Cr[2]*V.pixelsPerMeter];l.scale$2($i,$i,1/V.worldSize);const hn=l.lngFromMercatorX($i[0]),on=l.latFromMercatorY($i[1]),An=Math.min(V._zoomFromMercatorZ($i[2]),G.maxZoom),_n=new l.LngLat(hn,on);return V.mercatorFromTransition&&An<.5*(l.GLOBE_ZOOM_THRESHOLD_MIN+l.GLOBE_ZOOM_THRESHOLD_MAX)?(V.setProjection({name:"globe"}),V.zoom=An,this._cameraForBounds(V,c,v,T,A,R)):{center:_n,zoom:An,bearing:T,pitch:A}}fitBounds(i,c,v){const T=this.cameraForBounds(i,c);return this._fitInternal(T,c,v)}fitScreenCoordinates(i,c,v,T,A){const R=l.pointGeometry.convert(i),V=l.pointGeometry.convert(c),G=new l.pointGeometry(Math.min(R.x,V.x),Math.min(R.y,V.y)),ie=new l.pointGeometry(Math.max(R.x,V.x),Math.max(R.y,V.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(R,V))return this;const ae=this.transform.pointLocation3D(G),be=this.transform.pointLocation3D(ie),Fe=this.transform.pointLocation3D(new l.pointGeometry(G.x,ie.y)),$e=this.transform.pointLocation3D(new l.pointGeometry(ie.x,G.y)),Je=[Math.min(ae.lng,be.lng,Fe.lng,$e.lng),Math.min(ae.lat,be.lat,Fe.lat,$e.lat)],tt=[Math.max(ae.lng,be.lng,Fe.lng,$e.lng),Math.max(ae.lat,be.lat,Fe.lat,$e.lat)],Xe=T&&T.pitch?T.pitch:this.getPitch(),qe=this._cameraForBounds(this.transform,Je,tt,v,Xe,T);return this._fitInternal(qe,T,A)}_fitInternal(i,c,v){return i?(delete(c=l.extend(i,c)).padding,c.linear?this.easeTo(c,v):this.flyTo(c,v)):this}jumpTo(i,c){this.stop();const v=i.preloadOnly?this.transform.clone():this.transform;let T=!1,A=!1,R=!1;return"zoom"in i&&v.zoom!==+i.zoom&&(T=!0,v.zoom=+i.zoom),i.center!==void 0&&(v.center=l.LngLat.convert(i.center)),"bearing"in i&&v.bearing!==+i.bearing&&(A=!0,v.bearing=+i.bearing),"pitch"in i&&v.pitch!==+i.pitch&&(R=!0,v.pitch=+i.pitch),i.padding==null||v.isPaddingEqual(i.padding)||(v.padding=i.padding),i.preloadOnly?(this._preloadTiles(v),this):(this.fire(new l.Event("movestart",c)).fire(new l.Event("move",c)),T&&this.fire(new l.Event("zoomstart",c)).fire(new l.Event("zoom",c)).fire(new l.Event("zoomend",c)),A&&this.fire(new l.Event("rotatestart",c)).fire(new l.Event("rotate",c)).fire(new l.Event("rotateend",c)),R&&this.fire(new l.Event("pitchstart",c)).fire(new l.Event("pitch",c)).fire(new l.Event("pitchend",c)),this.fire(new l.Event("moveend",c)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||l.warnOnce(xn),this.transform.getFreeCameraOptions()}setFreeCameraOptions(i,c){const v=this.transform;if(!v.projection.supportsFreeCamera)return l.warnOnce(xn),this;this.stop();const T=v.zoom,A=v.pitch,R=v.bearing;v.setFreeCameraOptions(i);const V=T!==v.zoom,G=A!==v.pitch,ie=R!==v.bearing;return this.fire(new l.Event("movestart",c)).fire(new l.Event("move",c)),V&&this.fire(new l.Event("zoomstart",c)).fire(new l.Event("zoom",c)).fire(new l.Event("zoomend",c)),ie&&this.fire(new l.Event("rotatestart",c)).fire(new l.Event("rotate",c)).fire(new l.Event("rotateend",c)),G&&this.fire(new l.Event("pitchstart",c)).fire(new l.Event("pitch",c)).fire(new l.Event("pitchend",c)),this.fire(new l.Event("moveend",c)),this}easeTo(i,c){this._stop(!1,i.easeId),((i=l.extend({offset:[0,0],duration:500,easing:l.ease},i)).animate===!1||!i.essential&&l.exported.prefersReducedMotion)&&(i.duration=0);const v=this.transform,T=this.getZoom(),A=this.getBearing(),R=this.getPitch(),V=this.getPadding(),G="zoom"in i?+i.zoom:T,ie="bearing"in i?this._normalizeBearing(i.bearing,A):A,ae="pitch"in i?+i.pitch:R,be="padding"in i?i.padding:v.padding,Fe=l.pointGeometry.convert(i.offset);let $e,Je,tt;if(v.projection.name==="globe"){const Yt=l.MercatorCoordinate.fromLngLat(v.center),jt=Fe.rotate(-v.angle);Yt.x+=jt.x/v.worldSize,Yt.y+=jt.y/v.worldSize;const ki=Yt.toLngLat(),$t=l.LngLat.convert(i.center||ki);this._normalizeCenter($t),$e=v.centerPoint.add(jt),Je=new l.pointGeometry(Yt.x,Yt.y).mult(v.worldSize),tt=new l.pointGeometry(l.mercatorXfromLng($t.lng),l.mercatorYfromLat($t.lat)).mult(v.worldSize).sub(Je)}else{$e=v.centerPoint.add(Fe);const Yt=v.pointLocation($e),jt=l.LngLat.convert(i.center||Yt);this._normalizeCenter(jt),Je=v.project(Yt),tt=v.project(jt).sub(Je)}const Xe=v.zoomScale(G-T);let qe,lt;i.around&&(qe=l.LngLat.convert(i.around),lt=v.locationPoint(qe));const st=this._zooming||G!==T,pt=this._rotating||A!==ie,bt=this._pitching||ae!==R,xt=!v.isPaddingEqual(be),Lt=Yt=>jt=>{if(st&&(Yt.zoom=l.number(T,G,jt)),pt&&(Yt.bearing=l.number(A,ie,jt)),bt&&(Yt.pitch=l.number(R,ae,jt)),xt&&(Yt.interpolatePadding(V,be,jt),$e=Yt.centerPoint.add(Fe)),qe)Yt.setLocationAtPoint(qe,lt);else{const ki=Yt.zoomScale(Yt.zoom-T),$t=G>T?Math.min(2,Xe):Math.max(.5,Xe),pi=Math.pow($t,1-jt),ei=Yt.unproject(Je.add(tt.mult(jt*pi)).mult(ki));Yt.setLocationAtPoint(Yt.renderWorldCopies?ei.wrap():ei,$e)}return i.preloadOnly||this._fireMoveEvents(c),Yt};if(i.preloadOnly){const Yt=this._emulate(Lt,i.duration,v);return this._preloadTiles(Yt),this}const qt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=st,this._rotating=pt,this._pitching=bt,this._padding=xt,this._easeId=i.easeId,this._prepareEase(c,i.noMoveStart,qt),this._ease(Lt(v),Yt=>{v.recenterOnTerrain(),this._afterEase(c,Yt)},i),this}_prepareEase(i,c,v={}){this._moving=!0,this.transform.cameraElevationReference="sea",c||v.moving||this.fire(new l.Event("movestart",i)),this._zooming&&!v.zooming&&this.fire(new l.Event("zoomstart",i)),this._rotating&&!v.rotating&&this.fire(new l.Event("rotatestart",i)),this._pitching&&!v.pitching&&this.fire(new l.Event("pitchstart",i))}_fireMoveEvents(i){this.fire(new l.Event("move",i)),this._zooming&&this.fire(new l.Event("zoom",i)),this._rotating&&this.fire(new l.Event("rotate",i)),this._pitching&&this.fire(new l.Event("pitch",i))}_afterEase(i,c){if(this._easeId&&c&&this._easeId===c)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const v=this._zooming,T=this._rotating,A=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new l.Event("zoomend",i)),T&&this.fire(new l.Event("rotateend",i)),A&&this.fire(new l.Event("pitchend",i)),this.fire(new l.Event("moveend",i))}flyTo(i,c){if(!i.essential&&l.exported.prefersReducedMotion){const Gt=l.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Gt,c)}this.stop(),i=l.extend({offset:[0,0],speed:1.2,curve:1.42,easing:l.ease},i);const v=this.transform,T=this.getZoom(),A=this.getBearing(),R=this.getPitch(),V=this.getPadding(),G="zoom"in i?l.clamp(+i.zoom,v.minZoom,v.maxZoom):T,ie="bearing"in i?this._normalizeBearing(i.bearing,A):A,ae="pitch"in i?+i.pitch:R,be="padding"in i?i.padding:v.padding,Fe=v.zoomScale(G-T),$e=l.pointGeometry.convert(i.offset);let Je=v.centerPoint.add($e);const tt=v.pointLocation(Je),Xe=l.LngLat.convert(i.center||tt);this._normalizeCenter(Xe);const qe=v.project(tt),lt=v.project(Xe).sub(qe);let st=i.curve;const pt=Math.max(v.width,v.height),bt=pt/Fe,xt=lt.mag();if("minZoom"in i){const Gt=l.clamp(Math.min(i.minZoom,T,G),v.minZoom,v.maxZoom),Qt=pt/v.zoomScale(Gt-T);st=Math.sqrt(Qt/xt*2)}const Lt=st*st;function qt(Gt){const Qt=(bt*bt-pt*pt+(Gt?-1:1)*Lt*Lt*xt*xt)/(2*(Gt?bt:pt)*Lt*xt);return Math.log(Math.sqrt(Qt*Qt+1)-Qt)}function Yt(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function jt(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}const ki=qt(0);let $t=function(Gt){return jt(ki)/jt(ki+st*Gt)},pi=function(Gt){return pt*((jt(ki)*(Yt(Qt=ki+st*Gt)/jt(Qt))-Yt(ki))/Lt)/xt;var Qt},ei=(qt(1)-ki)/st;if(Math.abs(xt)<1e-6||!isFinite(ei)){if(Math.abs(pt-bt)<1e-6)return this.easeTo(i,c);const Gt=bt<pt?-1:1;ei=Math.abs(Math.log(bt/pt))/st,pi=function(){return 0},$t=function(Qt){return Math.exp(Gt*st*Qt)}}i.duration="duration"in i?+i.duration:1e3*ei/("screenSpeed"in i?+i.screenSpeed/st:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0);const Ai=A!==ie,ni=ae!==R,bi=!v.isPaddingEqual(be),Oi=Gt=>Qt=>{const Zi=Qt*ei,or=1/$t(Zi);Gt.zoom=Qt===1?G:T+Gt.scaleZoom(or),Ai&&(Gt.bearing=l.number(A,ie,Qt)),ni&&(Gt.pitch=l.number(R,ae,Qt)),bi&&(Gt.interpolatePadding(V,be,Qt),Je=Gt.centerPoint.add($e));const qi=Qt===1?Xe:Gt.unproject(qe.add(lt.mult(pi(Zi))).mult(or));return Gt.setLocationAtPoint(Gt.renderWorldCopies?qi.wrap():qi,Je),Gt._updateCameraOnTerrain(),i.preloadOnly||this._fireMoveEvents(c),Gt};if(i.preloadOnly){const Gt=this._emulate(Oi,i.duration,v);return this._preloadTiles(Gt),this}return this._zooming=!0,this._rotating=Ai,this._pitching=ni,this._padding=bi,this._prepareEase(c,!1),this._ease(Oi(v),()=>this._afterEase(c),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const v=this._onEaseEnd;this._onEaseEnd=void 0,v.call(this,c)}if(!i){const v=this.handlers;v&&v.stop(!1)}return this}_ease(i,c,v){v.animate===!1||v.duration===0?(i(1),c()):(this._easeStart=l.exported.now(),this._easeOptions=v,this._onEaseFrame=i,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const i=Math.min((l.exported.now()-this._easeStart)/this._easeOptions.duration,1),c=this._onEaseFrame;c&&c(this._easeOptions.easing(i)),i<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(i,c){i=l.wrap(i,-180,180);const v=Math.abs(i-c);return Math.abs(i-360-c)<v&&(i-=360),Math.abs(i+360-c)<v&&(i+=360),i}_normalizeCenter(i){const c=this.transform;if(!c.renderWorldCopies||c.maxBounds)return;const v=i.lng-c.center.lng;i.lng+=v>180?-360:v<-180?360:0}_emulate(i,c,v){const T=Math.ceil(15*c/1e3),A=[],R=i(v.clone());for(let V=0;V<=T;V++){const G=R(V/T);A.push(G.clone())}return A}}class ns{constructor(i={}){this.options=i,l.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(i){const c=this.options&&this.options.compact;return this._map=i,this._container=oe("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=oe("button","mapboxgl-ctrl-attrib-button",this._container),oe("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=oe("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),c&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),c===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(i,c){const v=this._map._getUIString(`AttributionControl.${c}`);i.setAttribute("aria-label",v),i.removeAttribute("title"),i.firstElementChild&&i.firstElementChild.setAttribute("title",v)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let i=this._editLink;i||(i=this._editLink=this._container.querySelector(".mapbox-improve-map"));const c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||l.config.ACCESS_TOKEN}];if(i){const v=c.reduce((T,A,R)=>(A.value&&(T+=`${A.key}=${A.value}${R<c.length-1?"&":""}`),T),"?");i.href=`${l.config.FEEDBACK_URL}/${v}#${ks(this._map,!0)}`,i.rel="noopener nofollow",this._setElementTitle(i,"MapFeedback")}}_updateData(i){!i||i.sourceDataType!=="metadata"&&i.sourceDataType!=="visibility"&&i.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let i=[];if(this._map.style.stylesheet){const T=this._map.style.stylesheet;this.styleOwner=T.owner,this.styleId=T.id}const c=this._map.style._sourceCaches;for(const T in c){const A=c[T];if(A.used){const R=A.getSource();R.attribution&&i.indexOf(R.attribution)<0&&i.push(R.attribution)}}i.sort((T,A)=>T.length-A.length),i=i.filter((T,A)=>{for(let R=A+1;R<i.length;R++)if(i[R].indexOf(T)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=[...this.options.customAttribution,...i]:i.unshift(this.options.customAttribution));const v=i.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,i.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class So{constructor(){l.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(i){this._map=i,this._container=oe("div","mapboxgl-ctrl");const c=oe("a","mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://www.mapbox.com/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(i){i&&i.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const i=this._map.style._sourceCaches;if(Object.entries(i).length===0)return!0;for(const c in i){const v=i[c].getSource();if(v.hasOwnProperty("mapbox_logo")&&!v.mapbox_logo)return!1}return!0}_updateCompact(){const i=this._container.children;if(i.length){const c=i[0];this._map.getCanvasContainer().offsetWidth<250?c.classList.add("mapboxgl-compact"):c.classList.remove("mapboxgl-compact")}}}class ic{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const c=++this._id;return this._queue.push({callback:i,id:c,cancelled:!1}),c}remove(i){const c=this._currentlyRunning,v=c?this._queue.concat(c):this._queue;for(const T of v)if(T.id===i)return void(T.cancelled=!0)}run(i=0){const c=this._currentlyRunning=this._queue;this._queue=[];for(const v of c)if(!v.cancelled&&(v.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Us(f,i,c){if(f=new l.LngLat(f.lng,f.lat),i){const v=new l.LngLat(f.lng-360,f.lat),T=new l.LngLat(f.lng+360,f.lat),A=360*Math.ceil(Math.abs(f.lng-c.center.lng)/360),R=c.locationPoint(f).distSqr(i),V=i.x<0||i.y<0||i.x>c.width||i.y>c.height;c.locationPoint(v).distSqr(i)<R&&(V||Math.abs(v.lng-c.center.lng)<A)?f=v:c.locationPoint(T).distSqr(i)<R&&(V||Math.abs(T.lng-c.center.lng)<A)&&(f=T)}for(;Math.abs(f.lng-c.center.lng)>180;){const v=c.locationPoint(f);if(v.x>=0&&v.y>=0&&v.x<=c.width&&v.y<=c.height)break;f.lng>c.center.lng?f.lng-=360:f.lng+=360}return f}const No={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class kc extends l.Evented{constructor(i,c){if(super(),(i instanceof l.window.HTMLElement||c)&&(i=l.extend({element:i},c)),l.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=i&&i.occludedOpacity||.2,i&&i.element)this._element=i.element,this._offset=l.pointGeometry.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=oe("div");const T=41,A=27,R=de("svg",{display:"block",height:T*this._scale+"px",width:A*this._scale+"px",viewBox:`0 0 ${A} ${T}`},this._element),V=de("radialGradient",{id:"shadowGradient"},de("defs",{},R));de("stop",{offset:"10%","stop-opacity":.4},V),de("stop",{offset:"100%","stop-opacity":.05},V),de("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},R),de("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},R),de("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},R),de("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},R),this._offset=l.pointGeometry.convert(i&&i.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",T=>{T.preventDefault()}),this._element.addEventListener("mousedown",T=>{T.preventDefault()});const v=this._element.classList;for(const T in No)v.remove(`mapboxgl-marker-anchor-${T}`);v.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(i){return i===this._map||(this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._updateMoving),i.on("moveend",this._update),i.on("remove",this._clearFadeTimer),i._addMarker(this),this.setDraggable(this._draggable),this._update(),i.on("click",this._onMapClick)),this}remove(){const i=this._map;return i&&(i.off("click",this._onMapClick),i.off("move",this._updateMoving),i.off("moveend",this._update),i.off("mousedown",this._addDragHandler),i.off("touchstart",this._addDragHandler),i.off("mouseup",this._onUp),i.off("touchend",this._onUp),i.off("mousemove",this._onMove),i.off("touchmove",this._onMove),i.off("remove",this._clearFadeTimer),i._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=l.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const T=Math.sqrt(Math.pow(13.5,2)/2);i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[T,-1*(38.1-13.5+T)],"bottom-right":[-T,-1*(38.1-13.5+T)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,i._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(i){const c=i.code,v=i.charCode||i.keyCode;c!=="Space"&&c!=="Enter"&&v!==32&&v!==13||this.togglePopup()}_onMapClick(i){const c=i.originalEvent.target,v=this._element;this._popup&&(c===v||v.contains(c))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?(i.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(i.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const i=this._map,c=this._pos;if(!i||!c)return!1;const v=i.unproject(c),T=i.getFreeCameraOptions();if(!T.position)return!1;const A=T.position.toLngLat();return A.distanceTo(v)<.9*A.distanceTo(this._lngLat)}_evaluateOpacity(){const i=this._map;if(!i)return;const c=this._pos;if(!c||c.x<0||c.x>i.transform.width||c.y<0||c.y>i.transform.height)return void this._clearFadeTimer();const v=i.unproject(c);let T;i._showingGlobe()&&l.isLngLatBehindGlobe(i.transform,this._lngLat)?T=0:(T=1-i._queryFogOpacity(v),i.transform._terrainEnabled()&&i.getTerrain()&&this._behindTerrain()&&(T*=this._occludedOpacity)),this._element.style.opacity=`${T}`,this._element.style.pointerEvents=T>0?"auto":"none",this._popup&&this._popup._setOpacity(T),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const i=this._pos;if(!i||!this._map)return;const c=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${i.x}px,${i.y}px)
            ${No[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${c.x}px,${c.y}px)
        `}_calculateXYTransform(){const i=this._pos,c=this._map,v=this.getPitchAlignment();if(!c||!i||v!=="map")return"";if(!c._showingGlobe()){const G=c.getPitch();return G?`rotateX(${G}deg)`:""}const T=l.radToDeg(l.globeTiltAtLngLat(c.transform,this._lngLat)),A=i.sub(l.globeCenterToScreenPoint(c.transform)),R=Math.abs(A.x)+Math.abs(A.y);if(R===0)return"";const V=T/R;return`rotateX(${-A.y*V}deg) rotateY(${A.x*V}deg)`}_calculateZTransform(){const i=this._pos,c=this._map;if(!c||!i)return"";let v=0;const T=this.getRotationAlignment();if(T==="map")if(c._showingGlobe()){const A=c.project(new l.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),R=c.project(new l.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(A);v=l.radToDeg(Math.atan2(R.y,R.x))-90}else v=-c.getBearing();else if(T==="horizon"){const A=l.smoothstep(4,6,c.getZoom()),R=l.globeCenterToScreenPoint(c.transform);R.y+=A*c.transform.height;const V=i.sub(R),G=l.radToDeg(Math.atan2(V.y,V.x));v=(G>90?G-270:G+90)*(1-A)}return v+=this._rotation,v?`rotateZ(${v}deg)`:""}_update(i){l.window.cancelAnimationFrame(this._updateFrameId);const c=this._map;c&&(c.transform.renderWorldCopies&&(this._lngLat=Us(this._lngLat,this._pos,c.transform)),this._pos=c.project(this._lngLat),i===!0?this._updateFrameId=l.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),c._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(c._showingGlobe()||c.getTerrain()||c.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(i){return this._offset=l.pointGeometry.convert(i),this._update(),this}_onMove(i){const c=this._map;if(!c)return;const v=this._pointerdownPos,T=this._positionDelta;if(v&&T){if(!this._isDragging){const A=this._clickTolerance||c._clickTolerance;if(i.point.dist(v)<A)return;this._isDragging=!0}this._pos=i.point.sub(T),this._lngLat=c.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.Event("dragstart"))),this.fire(new l.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const i=this._map;i&&(i.off("mousemove",this._onMove),i.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new l.Event("dragend")),this._state="inactive"}_addDragHandler(i){const c=this._map,v=this._pos;c&&v&&this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(v),this._pointerdownPos=i.point,this._state="pending",c.on("mousemove",this._onMove),c.on("touchmove",this._onMove),c.once("mouseup",this._onUp),c.once("touchend",this._onUp))}setDraggable(i){this._draggable=!!i;const c=this._map;return c&&(i?(c.on("mousedown",this._addDragHandler),c.on("touchstart",this._addDragHandler)):(c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(i){return this._occludedOpacity=i||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Ch={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},nl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function iu(f=new l.pointGeometry(0,0),i="bottom"){if(typeof f=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(f,2)));switch(i){case"top":return new l.pointGeometry(0,f);case"top-left":return new l.pointGeometry(c,c);case"top-right":return new l.pointGeometry(-c,c);case"bottom":return new l.pointGeometry(0,-f);case"bottom-left":return new l.pointGeometry(c,-c);case"bottom-right":return new l.pointGeometry(-c,-c);case"left":return new l.pointGeometry(f,0);case"right":return new l.pointGeometry(-f,0)}return new l.pointGeometry(0,0)}return f instanceof l.pointGeometry||Array.isArray(f)?l.pointGeometry.convert(f):l.pointGeometry.convert(f[i]||[0,0])}class Hu{constructor(i){this.jumpTo(i)}getValue(i){if(i<=this._startTime)return this._start;if(i>=this._endTime)return this._end;const c=l.easeCubicInOut((i-this._startTime)/(this._endTime-this._startTime));return this._start*(1-c)+this._end*c}isEasing(i){return i>=this._startTime&&i<=this._endTime}jumpTo(i){this._startTime=-1/0,this._endTime=-1/0,this._start=i,this._end=i}easeTo(i,c,v){this._start=this.getValue(c),this._end=i,this._startTime=c,this._endTime=c+v}}const Wu={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use â + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ru={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Yu={showCompass:!0,showZoom:!0,visualizePitch:!1};class u{constructor(i,c,v=!1){this._clickTolerance=10,this.element=c,this.mouseRotate=new wo({clickTolerance:i.dragRotate._mouseRotate._clickTolerance}),this.map=i,v&&(this.mousePitch=new Eo({clickTolerance:i.dragRotate._mousePitch._clickTolerance})),l.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),c.addEventListener("mousedown",this.mousedown),c.addEventListener("touchstart",this.touchstart,{passive:!1}),c.addEventListener("touchmove",this.touchmove),c.addEventListener("touchend",this.touchend),c.addEventListener("touchcancel",this.reset)}down(i,c){this.mouseRotate.mousedown(i,c),this.mousePitch&&this.mousePitch.mousedown(i,c),pe()}move(i,c){const v=this.map,T=this.mouseRotate.mousemoveWindow(i,c),A=T&&T.bearingDelta;if(A&&v.setBearing(v.getBearing()+A),this.mousePitch){const R=this.mousePitch.mousemoveWindow(i,c),V=R&&R.pitchDelta;V&&v.setPitch(v.getPitch()+V)}}off(){const i=this.element;i.removeEventListener("mousedown",this.mousedown),i.removeEventListener("touchstart",this.touchstart,{passive:!1}),i.removeEventListener("touchmove",this.touchmove),i.removeEventListener("touchend",this.touchend),i.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){ve(),l.window.removeEventListener("mousemove",this.mousemove),l.window.removeEventListener("mouseup",this.mouseup)}mousedown(i){this.down(l.extend({},i,{ctrlKey:!0,preventDefault:()=>i.preventDefault()}),Ye(this.element,i)),l.window.addEventListener("mousemove",this.mousemove),l.window.addEventListener("mouseup",this.mouseup)}mousemove(i){this.move(i,Ye(this.element,i))}mouseup(i){this.mouseRotate.mouseupWindow(i),this.mousePitch&&this.mousePitch.mouseupWindow(i),this.offTemp()}touchstart(i){i.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Q(this.element,i.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>i.preventDefault()},this._startPos))}touchmove(i){i.targetTouches.length!==1?this.reset():(this._lastPos=Q(this.element,i.targetTouches)[0],this.move({preventDefault:()=>i.preventDefault()},this._lastPos))}touchend(i){i.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const _={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},M={maxWidth:100,unit:"metric"};function D(f,i,c){const v=F(i),T=v/i,A={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[c];this._map._requestDomTask(()=>{this._container.style.width=f*T+"px",this._container.innerHTML=`${v}&nbsp;${A}`})}function F(f){const i=Math.pow(10,`${Math.floor(f)}`.length-1);let c=f/i;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:c>=1?1:function(v){const T=Math.pow(10,Math.ceil(-Math.log(v)/Math.LN10));return Math.round(v*T)/T}(c),i*c}const Y={version:l.version,supported:H,setRTLTextPlugin:l.setRTLTextPlugin,getRTLTextPluginStatus:l.getRTLTextPluginStatus,Map:class extends ps{constructor(f){if(l.LivePerformanceUtils.mark(l.PerformanceMarkers.create),(f=l.extend({},ru,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(f.antialias&&l.isSafariWithAntialiasingBug(l.window)&&(f.antialias=!1,l.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new xo(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies),f),this._interactive=f.interactive,this._minTileCacheSize=f.minTileCacheSize,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=f.crossSourceCollisions,this._collectResourceTiming=f.collectResourceTiming,this._optimizeForTerrain=f.optimizeForTerrain,this._language=this._parseLanguage(f.language),this._worldview=f.worldview,this._renderTaskQueue=new ic,this._domRenderTaskQueue=new ic,this._controls=[],this._markers=[],this._popups=[],this._mapId=l.uniqueId(),this._locale=l.extend({},Wu,f.locale),this._clickTolerance=f.clickTolerance,this._cooperativeGestures=f.cooperativeGestures,this._performanceMetricsCollection=f.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Hu(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new l.RequestManager(f.transformRequest,f.accessToken,f.testMode),this._silenceAuthErrors=!!f.testMode,typeof f.container=="string"){if(this._container=l.window.document.getElementById(f.container),!this._container)throw new Error(`Container '${f.container}' not found.`)}else{if(!(f.container instanceof l.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(this._container.childNodes.length>0&&l.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),f.maxBounds&&this.setMaxBounds(f.maxBounds),l.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),l.window!==void 0&&(l.window.addEventListener("online",this._onWindowOnline,!1),l.window.addEventListener("resize",this._onWindowResize,!1),l.window.addEventListener("orientationchange",this._onWindowResize,!1),l.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),l.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Mr(this,f),this._localFontFamily=f.localFontFamily,this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),f.projection&&this.setProjection(f.projection),this._hash=f.hash&&new Hi(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,l.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),f.attributionControl&&this.addControl(new ns({customAttribution:f.customAttribution})),this._logoControl=new So,this.addControl(this._logoControl,f.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",i=>{this._update(i.dataType==="style"),this.fire(new l.Event(`${i.dataType}data`,i))}),this.on("dataloading",i=>{this.fire(new l.Event(`${i.dataType}dataloading`,i))})}_getMapId(){return this._mapId}addControl(f,i){if(i===void 0&&(i=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=f.onAdd(this);this._controls.push(f);const v=this._controlPositions[i];return i.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this}removeControl(f){if(!f||!f.onRemove)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(f);return i>-1&&this._controls.splice(i,1),f.onRemove(this),this}hasControl(f){return this._controls.indexOf(f)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(f){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new l.Event("movestart",f)).fire(new l.Event("move",f)),this.fire(new l.Event("resize",f)),i&&this.fire(new l.Event("moveend",f)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(f){return this.transform.setMaxBounds(l.LngLatBounds.convert(f)),this._update()}setMinZoom(f){if((f=f??-2)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f?this.setZoom(f):this.fire(new l.Event("zoomstart")).fire(new l.Event("zoom")).fire(new l.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(f){if((f=f??22)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f?this.setZoom(f):this.fire(new l.Event("zoomstart")).fire(new l.Event("zoom")).fire(new l.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(f){if((f=f??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f?this.setPitch(f):this.fire(new l.Event("pitchstart")).fire(new l.Event("pitch")).fire(new l.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(f){if((f=f??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f?this.setPitch(f):this.fire(new l.Event("pitchstart")).fire(new l.Event("pitch")).fire(new l.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(f){return this.transform.renderWorldCopies=f,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(f){return f==="auto"?l.window.navigator.language:Array.isArray(f)?f.length===0?void 0:f.map(i=>i==="auto"?l.window.navigator.language:i):f}setLanguage(f){const i=this._parseLanguage(f);if(!this.style||i===this._language)return this;this._language=i,this.style._reloadSources();for(const c of this._controls)c._setLanguage&&c._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(f){return this.style&&f!==this._worldview?(this._worldview=f,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(f){return this._lazyInitEmptyStyle(),f?typeof f=="string"&&(f={name:f}):f=null,this._useExplicitProjection=!!f,this._prioritizeAndUpdateProjection(f,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const f=this.transform,i=f.projection.name;let c;i==="globe"&&f.zoom>=l.GLOBE_ZOOM_THRESHOLD_MAX?(f.setMercatorFromTransition(),c=!0):i==="mercator"&&f.zoom<l.GLOBE_ZOOM_THRESHOLD_MAX&&(f.setProjection({name:"globe"}),c=!0),c&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(f,i){return this._updateProjection(f||i||{name:"mercator"})}_updateProjection(f){let i;if(i=f.name==="globe"&&this.transform.zoom>=l.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(f),this.style.applyProjectionUpdate(),i){this.painter.clearBackgroundTiles();for(const c in this.style._sourceCaches)this.style._sourceCaches[c].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(f){return this.transform.locationPoint3D(l.LngLat.convert(f))}unproject(f){return this.transform.pointLocation3D(l.pointGeometry.convert(f))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(f,i,c){if(f==="mouseenter"||f==="mouseover"){let v=!1;const T=R=>{const V=i.filter(ie=>this.getLayer(ie)),G=V.length?this.queryRenderedFeatures(R.point,{layers:V}):[];G.length?v||(v=!0,c.call(this,new Na(f,this,R.originalEvent,{features:G}))):v=!1},A=()=>{v=!1};return{layers:new Set(i),listener:c,delegates:{mousemove:T,mouseout:A}}}if(f==="mouseleave"||f==="mouseout"){let v=!1;const T=R=>{const V=i.filter(G=>this.getLayer(G));(V.length?this.queryRenderedFeatures(R.point,{layers:V}):[]).length?v=!0:v&&(v=!1,c.call(this,new Na(f,this,R.originalEvent)))},A=R=>{v&&(v=!1,c.call(this,new Na(f,this,R.originalEvent)))};return{layers:new Set(i),listener:c,delegates:{mousemove:T,mouseout:A}}}{const v=T=>{const A=i.filter(V=>this.getLayer(V)),R=A.length?this.queryRenderedFeatures(T.point,{layers:A}):[];R.length&&(T.features=R,c.call(this,T),delete T.features)};return{layers:new Set(i),listener:c,delegates:{[f]:v}}}}on(f,i,c){if(c===void 0)return super.on(f,i);Array.isArray(i)||(i=[i]);const v=this._createDelegatedListener(f,i,c);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(v);for(const T in v.delegates)this.on(T,v.delegates[T]);return this}once(f,i,c){if(c===void 0)return super.once(f,i);Array.isArray(i)||(i=[i]);const v=this._createDelegatedListener(f,i,c);for(const T in v.delegates)this.once(T,v.delegates[T]);return this}off(f,i,c){if(c===void 0)return super.off(f,i);i=new Set(Array.isArray(i)?i:[i]);const v=(A,R)=>{if(A.size!==R.size)return!1;for(const V of A)if(!R.has(V))return!1;return!0},T=this._delegatedListeners?this._delegatedListeners[f]:void 0;return T&&(A=>{for(let R=0;R<A.length;R++){const V=A[R];if(V.listener===c&&v(V.layers,i)){for(const G in V.delegates)this.off(G,V.delegates[G]);return A.splice(R,1),this}}})(T),this}queryRenderedFeatures(f,i){return this.style?(i!==void 0||f===void 0||f instanceof l.pointGeometry||Array.isArray(f)||(i=f,f=void 0),this.style.queryRenderedFeatures(f=f||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(f,i){return this.style.querySourceFeatures(f,i)}setStyle(f,i){return(i=l.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&f?(this._diffStyle(f,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(f,i))}_getUIString(f){const i=this._locale[f];if(i==null)throw new Error(`Missing UI string '${f}'`);return i}_updateStyle(f,i){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),f&&(this.style=new z(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof f=="string"?this.style.loadURL(f):this.style.loadJSON(f)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new z(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(f,i){if(typeof f=="string"){const c=this._requestManager.normalizeStyleURL(f),v=this._requestManager.transformRequest(c,l.ResourceType.Style);l.getJSON(v,(T,A)=>{T?this.fire(new l.ErrorEvent(T)):A&&this._updateDiff(A,i)})}else typeof f=="object"&&this._updateDiff(f,i)}_updateDiff(f,i){try{this.style.setState(f)&&this._update(!0)}catch(c){l.warnOnce(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(f,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(l.warnOnce("There is no style added to the map."),!1)}addSource(f,i){return this._lazyInitEmptyStyle(),this.style.addSource(f,i),this._update(!0)}isSourceLoaded(f){return!!this.style&&this.style._isSourceCacheLoaded(f)}areTilesLoaded(){const f=this.style&&this.style._sourceCaches;for(const i in f){const c=f[i]._tiles;for(const v in c){const T=c[v];if(T.state!=="loaded"&&T.state!=="errored")return!1}}return!0}addSourceType(f,i,c){this._lazyInitEmptyStyle(),this.style.addSourceType(f,i,c)}removeSource(f){return this.style.removeSource(f),this._updateTerrain(),this._update(!0)}getSource(f){return this.style.getSource(f)}addImage(f,i,{pixelRatio:c=1,sdf:v=!1,stretchX:T,stretchY:A,content:R}={}){if(this._lazyInitEmptyStyle(),i instanceof l.window.HTMLImageElement||l.window.ImageBitmap&&i instanceof l.window.ImageBitmap){const{width:V,height:G,data:ie}=l.exported.getImageData(i);this.style.addImage(f,{data:new l.RGBAImage({width:V,height:G},ie),pixelRatio:c,stretchX:T,stretchY:A,content:R,sdf:v,version:0})}else if(i.width===void 0||i.height===void 0)this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:V,height:G}=i,ie=i;this.style.addImage(f,{data:new l.RGBAImage({width:V,height:G},new Uint8Array(ie.data)),pixelRatio:c,stretchX:T,stretchY:A,content:R,sdf:v,version:0,userImage:ie}),ie.onAdd&&ie.onAdd(this,f)}}updateImage(f,i){const c=this.style.getImage(f);if(!c)return void this.fire(new l.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=i instanceof l.window.HTMLImageElement||l.window.ImageBitmap&&i instanceof l.window.ImageBitmap?l.exported.getImageData(i):i,{width:T,height:A}=v;T!==void 0&&A!==void 0?T===c.data.width&&A===c.data.height?(c.data.replace(v.data,!(i instanceof l.window.HTMLImageElement||l.window.ImageBitmap&&i instanceof l.window.ImageBitmap)),this.style.updateImage(f,c)):this.fire(new l.ErrorEvent(new Error(`The width and height of the updated image (${T}, ${A})
                must be that same as the previous version of the image
                (${c.data.width}, ${c.data.height})`))):this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(f){return f?!!this.style.getImage(f):(this.fire(new l.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(f){this.style.removeImage(f)}loadImage(f,i){l.getImage(this._requestManager.transformRequest(f,l.ResourceType.Image),(c,v)=>{i(c,v instanceof l.window.HTMLImageElement?l.exported.getImageData(v):v)})}listImages(){return this.style.listImages()}addLayer(f,i){return this._lazyInitEmptyStyle(),this.style.addLayer(f,i),this._update(!0)}moveLayer(f,i){return this.style.moveLayer(f,i),this._update(!0)}removeLayer(f){return this.style.removeLayer(f),this._update(!0)}getLayer(f){return this.style.getLayer(f)}setLayerZoomRange(f,i,c){return this.style.setLayerZoomRange(f,i,c),this._update(!0)}setFilter(f,i,c={}){return this.style.setFilter(f,i,c),this._update(!0)}getFilter(f){return this.style.getFilter(f)}setPaintProperty(f,i,c,v={}){return this.style.setPaintProperty(f,i,c,v),this._update(!0)}getPaintProperty(f,i){return this.style.getPaintProperty(f,i)}setLayoutProperty(f,i,c,v={}){return this.style.setLayoutProperty(f,i,c,v),this._update(!0)}getLayoutProperty(f,i){return this.style.getLayoutProperty(f,i)}setLight(f,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(f,i),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(f){return this._lazyInitEmptyStyle(),!f&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(f),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(f){return this._lazyInitEmptyStyle(),this.style.setFog(f),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(f){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(l.LngLat.convert(f),this.transform):0}setFeatureState(f,i){return this.style.setFeatureState(f,i),this._update()}removeFeatureState(f,i){return this.style.removeFeatureState(f,i),this._update()}getFeatureState(f){return this.style.getFeatureState(f)}_updateContainerDimensions(){if(!this._container)return;const f=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let c,v,T,A=this._container;for(;A&&(!v||!T);){const R=l.window.getComputedStyle(A).transform;R&&R!=="none"&&(c=R.match(/matrix.*\((.+)\)/)[1].split(", "),c[0]&&c[0]!=="0"&&c[0]!=="1"&&(v=c[0]),c[3]&&c[3]!=="0"&&c[3]!=="1"&&(T=c[3])),A=A.parentElement}this._containerWidth=v?Math.abs(f/v):f,this._containerHeight=T?Math.abs(i/T):i}_detectMissingCSS(){l.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&l.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=oe("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();const i=this._canvasContainer=oe("div","mapboxgl-canvas-container",f);this._interactive&&i.classList.add("mapboxgl-interactive"),this._canvas=oe("canvas","mapboxgl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const c=this._controlContainer=oe("div","mapboxgl-control-container",f),v=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(T=>{v[T]=oe("div",`mapboxgl-ctrl-${T}`,c)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(f,i){const c=l.exported.devicePixelRatio||1;this._canvas.width=c*Math.ceil(f),this._canvas.height=c*Math.ceil(i),this._canvas.style.width=`${f}px`,this._canvas.style.height=`${i}px`}_addMarker(f){this._markers.push(f)}_removeMarker(f){const i=this._markers.indexOf(f);i!==-1&&this._markers.splice(i,1)}_addPopup(f){this._popups.push(f)}_removePopup(f){const i=this._popups.indexOf(f);i!==-1&&this._popups.splice(i,1)}_setupPainter(){const f=l.extend({},H.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);i?(l.storeAuthState(i,!0),this.painter=new dr(i,this.transform),this.on("data",c=>{c.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),l.exported$1.testSupport(i)):this.fire(new l.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new l.Event("webglcontextlost",{originalEvent:f}))}_contextRestored(f){this._setupPainter(),this.resize(),this._update(),this.fire(new l.Event("webglcontextrestored",{originalEvent:f}))}_onMapScroll(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(f){return this._update(),this._renderTaskQueue.add(f)}_cancelRenderFrame(f){this._renderTaskQueue.remove(f)}_requestDomTask(f){!this.loaded()||this.loaded()&&!this.isMoving()?f():this._domRenderTaskQueue.add(f)}_render(f){let i;const c=this.painter.context.extTimerQuery,v=l.exported.now();if(this.listens("gpu-timing-frame")&&(i=c.createQueryEXT(),c.beginQueryEXT(c.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],l.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],l.window.performance.now())),this._renderTaskQueue.run(f),this._domRenderTaskQueue.run(f),this._removed)return;this._updateProjectionTransition();const T=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const V=this.transform.zoom,G=this.transform.pitch,ie=l.exported.now(),ae=new l.EvaluationParameters(V,{now:ie,fadeDuration:T,pitch:G,transition:this.style.getTransition()});this.style.update(ae)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let A=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),A=this._updateAverageElevation(v),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):A=this._updateAverageElevation(v),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,T,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:T,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new l.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new l.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const V=l.exported.now()-v;c.endQueryEXT(c.TIME_ELAPSED_EXT,i),setTimeout(()=>{const G=c.getQueryObjectEXT(i,c.QUERY_RESULT_EXT)/1e6;c.deleteQueryEXT(i),this.fire(new l.Event("gpu-timing-frame",{cpuTime:V,gpuTime:G})),l.window.performance.mark("frame-gpu",{startTime:v,detail:{gpuTime:G}})},50)}if(this.listens("gpu-timing-layer")){const V=this.painter.collectGpuTimers();setTimeout(()=>{const G=this.painter.queryGpuTimers(V);this.fire(new l.Event("gpu-timing-layer",{layerTimes:G}))},50)}if(this.listens("gpu-timing-deferred-render")){const V=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const G=this.painter.queryGpuTimeDeferredRender(V);this.fire(new l.Event("gpu-timing-deferred-render",{gpuTime:G}))},50)}const R=this._sourcesDirty||this._styleDirty||this._placementDirty||A;if(R||this._repaint)this.triggerRepaint();else{const V=!this.isMoving()&&this.loaded();if(V&&(A=this._updateAverageElevation(v,!0)),A)this.triggerRepaint();else if(this._triggerFrame(!1),V&&(this.fire(new l.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const G=this._calculateSpeedIndex();this.fire(new l.Event("speedindexcompleted",{speedIndex:G})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||R||(this._fullyLoaded=!0,l.LivePerformanceUtils.mark(l.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&l.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(f){for(const i of this._markers)f&&!this.getRenderWorldCopies()&&(i._lngLat=i._lngLat.wrap()),i._update();for(const i of this._popups)!f||this.getRenderWorldCopies()||i._trackPointer||(i._lngLat=i._lngLat.wrap()),i._update()}_updateAverageElevation(f,i=!1){const c=v=>(this.transform.averageElevation=v,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&c(0);if((i||f-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(f)){const v=this.transform.averageElevation;let T=this.transform.sampleAverageElevation(),A=!1;this.transform.elevation&&(A=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(T)?T=0:this._averageElevationLastSampledAt=f;const R=Math.abs(v-T);if(R>1){if(this._isInitialLoad||A)return this._averageElevation.jumpTo(T),c(T);this._averageElevation.easeTo(T,f,300)}else if(R>1e-4)return this._averageElevation.jumpTo(T),c(T)}return!!this._averageElevation.isEasing(f)&&c(this._averageElevation.getValue(f))}_authenticate(){l.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,f=>{if(f&&(f.message===l.AUTH_ERR_MSG||f.status===401)){const i=this.painter.context.gl;l.storeAuthState(i,!1),this._logoControl instanceof So&&this._logoControl._updateLogo(),i&&i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT|i.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new l.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),l.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const f=this._isDragging();this.painter.updateTerrain(this.style,f)}_calculateSpeedIndex(){const f=this.painter.canvasCopy(),i=this.painter.getCanvasCopiesAndTimestamps();i.timeStamps.push(performance.now());const c=this.painter.context.gl,v=c.createFramebuffer();function T(A){c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,A,0);const R=new Uint8Array(c.drawingBufferWidth*c.drawingBufferHeight*4);return c.readPixels(0,0,c.drawingBufferWidth,c.drawingBufferHeight,c.RGBA,c.UNSIGNED_BYTE,R),R}return c.bindFramebuffer(c.FRAMEBUFFER,v),this._canvasPixelComparison(T(f),i.canvasCopies.map(T),i.timeStamps)}_canvasPixelComparison(f,i,c){let v=c[1]-c[0];const T=f.length/4;for(let A=0;A<i.length;A++){const R=i[A];let V=0;for(let G=0;G<R.length;G+=4)R[G]===f[G]&&R[G+1]===f[G+1]&&R[G+2]===f[G+2]&&R[G+3]===f[G+3]&&(V+=1);v+=(c[A+2]-c[A+1])*(1-V/T)}return v}remove(){this._hash&&this._hash.remove();for(const i of this._controls)i.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),l.window!==void 0&&(l.window.removeEventListener("resize",this._onWindowResize,!1),l.window.removeEventListener("orientationchange",this._onWindowResize,!1),l.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),l.window.removeEventListener("online",this._onWindowOnline,!1),l.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f&&f.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),l.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new l.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(f){this._renderNextFrame=this._renderNextFrame||f,this.style&&!this._frame&&(this._frame=l.exported.frame(i=>{const c=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,c&&this._render(i)}))}_preloadTiles(f){const i=this.style?Object.values(this.style._sourceCaches):[];return l.asyncAll(i,(c,v)=>c._preloadTiles(f,v),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(f){this._trackResize&&this.resize({originalEvent:f})._update()}_onVisibilityChange(){l.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(f){this._showTerrainWireframe!==f&&(this._showTerrainWireframe=f,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(f){this._speedIndexTiming!==f&&(this._speedIndexTiming=f,this._update())}get showPadding(){return!!this._showPadding}set showPadding(f){this._showPadding!==f&&(this._showPadding=f,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())}get repaint(){return!!this._repaint}set repaint(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(f){this._vertices=f,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(f){this._showTileAABBs!==f&&(this._showTileAABBs=f,f&&this._update())}_setCacheLimits(f,i){l.setCacheLimits(f,i)}get version(){return l.version}},NavigationControl:class{constructor(f){this.options=l.extend({},Yu,f),this._container=oe("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(l.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",i=>{this._map&&this._map.zoomIn({},{originalEvent:i})}),oe("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",i=>{this._map&&this._map.zoomOut({},{originalEvent:i})}),oe("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(l.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",i=>{const c=this._map;c&&(this.options.visualizePitch?c.resetNorthPitch({},{originalEvent:i}):c.resetNorth({},{originalEvent:i}))}),this._compassIcon=oe("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const f=this._map;if(!f)return;const i=f.getZoom(),c=i===f.getMaxZoom(),v=i===f.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())}_rotateCompassArrow(){const f=this._map;if(!f)return;const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(f.transform.pitch*(Math.PI/180)),.5)}) rotateX(${f.transform.pitch}deg) rotateZ(${f.transform.angle*(180/Math.PI)}deg)`:`rotate(${f.transform.angle*(180/Math.PI)}deg)`;f._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=i)})}onAdd(f){return this._map=f,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),f.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&f.on("pitch",this._rotateCompassArrow),f.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new u(f,this._compass,this.options.visualizePitch)),this._container}onRemove(){const f=this._map;f&&(this._container.remove(),this.options.showZoom&&f.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&f.off("pitch",this._rotateCompassArrow),f.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(f,i){const c=oe("button",f,this._container);return c.type="button",c.addEventListener("click",i),c}_setButtonTitle(f,i){if(!this._map)return;const c=this._map._getUIString(`NavigationControl.${i}`);f.setAttribute("aria-label",c),f.firstElementChild&&f.firstElementChild.setAttribute("title",c)}},GeolocateControl:class extends l.Evented{constructor(f){super(),this.options=l.extend({geolocation:l.window.navigator.geolocation},_,f),l.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=eo(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(f){return this._map=f,this._container=oe("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(f){const i=(c=!!this.options.geolocation)=>{this._supportsGeolocation=c,f(c)};this._supportsGeolocation!==void 0?f(this._supportsGeolocation):l.window.navigator.permissions!==void 0?l.window.navigator.permissions.query({name:"geolocation"}).then(c=>i(c.state!=="denied")).catch(()=>i()):i()}_isOutOfMapMaxBounds(f){const i=this._map.getMaxBounds(),c=f.coords;return!!i&&(c.longitude<i.getWest()||c.longitude>i.getEast()||c.latitude<i.getSouth()||c.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new l.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new l.Event("geolocate",f)),this._finish()}}_updateCamera(f){const i=new l.LngLat(f.coords.longitude,f.coords.latitude),c=f.coords.accuracy,v=this._map.getBearing(),T=l.extend({bearing:v},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(c),T,{geolocateSource:!0})}_updateMarker(f){if(f){const i=new l.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const f=this._map.transform,i=l.mercatorZfromAltitude(1,f._center.lat)*f.worldSize,c=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${c}px`,this._circleElement.style.height=`${c}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(f){if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new l.Event("error",f)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(f){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=oe("button","mapboxgl-ctrl-geolocate",this._container),oe("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",f===!1){l.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=oe("div","mapboxgl-user-location"),this._dotElement.appendChild(oe("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(oe("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new kc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=oe("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||this._watchState!=="ACTIVE_LOCK"||i.originalEvent&&i.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new l.Event("trackuserlocationend")))})}}_onDeviceOrientation(f){this._userLocationDotMarker&&(f.webkitCompassHeading?this._heading=f.webkitCompassHeading:f.absolute===!0&&(this._heading=-1*f.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return l.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new l.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let f;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(f={maximumAge:6e5,timeout:0},this._noTimeout=!0):(f=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,f),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const f=()=>{l.window.addEventListener("ondeviceorientationabsolute"in l.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};l.window.DeviceMotionEvent!==void 0&&typeof l.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(i=>{i==="granted"&&f()}).catch(console.error):f()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),l.window.removeEventListener("deviceorientation",this._onDeviceOrientation),l.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ns,ScaleControl:class{constructor(f){this.options=l.extend({},M,f),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=D.bind(this)),l.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const f=this.options.maxWidth||100,i=this._map,c=i._containerHeight/2,v=i._containerWidth/2-f/2,T=i.unproject([v,c]),A=i.unproject([v+f,c]),R=T.distanceTo(A);if(this.options.unit==="imperial"){const V=3.2808*R;V>5280?this._setScale(f,V/5280,"mile"):this._setScale(f,V,"foot")}else this.options.unit==="nautical"?this._setScale(f,R/1852,"nautical-mile"):R>=1e3?this._setScale(f,R/1e3,"kilometer"):this._setScale(f,R,"meter")}_setScale(f,i,c){const v=F(i),T=v/i;this._map._requestDomTask(()=>{this._container.style.width=f*T+"px",this._container.innerHTML=c!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:c}).format(v):`${v}&nbsp;nm`})}onAdd(f){return this._map=f,this._language=f.getLanguage(),this._container=oe("div","mapboxgl-ctrl mapboxgl-ctrl-scale",f.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(f){this._language=f,this._update()}setUnit(f){this.options.unit=f,this._update()}},FullscreenControl:class{constructor(f){this._fullscreen=!1,f&&f.container&&(f.container instanceof l.window.HTMLElement?this._container=f.container:l.warnOnce("Full screen control 'container' must be a DOM element.")),l.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in l.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in l.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(f){return this._map=f,this._container||(this._container=this._map.getContainer()),this._controlContainer=oe("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",l.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,l.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!l.window.document.fullscreenEnabled&&!l.window.document.webkitFullscreenEnabled)}_setupUI(){const f=this._fullscreenButton=oe("button","mapboxgl-ctrl-fullscreen",this._controlContainer);oe("span","mapboxgl-ctrl-icon",f).setAttribute("aria-hidden","true"),f.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),l.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const f=this._getTitle();this._fullscreenButton.setAttribute("aria-label",f),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",f)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(l.window.document.fullscreenElement||l.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?l.window.document.exitFullscreen?l.window.document.exitFullscreen():l.window.document.webkitCancelFullScreen&&l.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends l.Evented{constructor(f){super(),this.options=l.extend(Object.create(Ch),f),l.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(f&&f.className?f.className.trim().split(/\s+/):[])}addTo(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&f.on("preclick",this._onClose),this.options.closeOnMove&&f.on("move",this._onClose),f.on("remove",this.remove),this._update(),f._addPopup(this),this._focusFirstElement(),this._trackPointer?(f.on("mousemove",this._onMouseEvent),f.on("mouseup",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")):f.on("move",this._update),this.fire(new l.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const f=this._map;return f&&(f.off("move",this._update),f.off("move",this._onClose),f.off("preclick",this._onClose),f.off("click",this._onClose),f.off("remove",this.remove),f.off("mousemove",this._onMouseEvent),f.off("mouseup",this._onMouseEvent),f.off("drag",this._onMouseEvent),f._canvasContainer&&f._canvasContainer.classList.remove("mapboxgl-track-pointer"),f._removePopup(this),this._map=void 0),this.fire(new l.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(f){this._lngLat=l.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on("move",this._update),i.off("mousemove",this._onMouseEvent),i._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const f=this._map;return f&&(f.off("move",this._update),f.on("mousemove",this._onMouseEvent),f.on("drag",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(f){return this.setDOMContent(l.window.document.createTextNode(f))}setHTML(f){const i=l.window.document.createDocumentFragment(),c=l.window.document.createElement("body");let v;for(c.innerHTML=f;v=c.firstChild,v;)i.appendChild(v);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(f){return this.options.maxWidth=f,this._update(),this}setDOMContent(f){let i=this._content;if(i)for(;i.hasChildNodes();)i.firstChild&&i.removeChild(i.firstChild);else i=this._content=oe("div","mapboxgl-popup-content",this._container||void 0);if(i.appendChild(f),this.options.closeButton){const c=this._closeButton=oe("button","mapboxgl-popup-close-button",i);c.type="button",c.setAttribute("aria-label","Close popup"),c.setAttribute("aria-hidden","true"),c.innerHTML="&#215;",c.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(f){return this._classList.add(f),this._updateClassList(),this}removeClassName(f){return this._classList.delete(f),this._updateClassList(),this}setOffset(f){return this.options.offset=f,this._update(),this}toggleClassName(f){let i;return this._classList.delete(f)?i=!1:(this._classList.add(f),i=!0),this._updateClassList(),i}_onMouseEvent(f){this._update(f.point)}_getAnchor(f){if(this.options.anchor)return this.options.anchor;const i=this._map,c=this._container,v=this._pos;if(!i||!c||!v)return"bottom";const T=c.offsetWidth,A=c.offsetHeight,R=v.x<T/2,V=v.x>i.transform.width-T/2;if(v.y+f<A)return R?"top-left":V?"top-right":"top";if(v.y>i.transform.height-A){if(R)return"bottom-left";if(V)return"bottom-right"}return R?"left":V?"right":"bottom"}_updateClassList(){const f=this._container;if(!f)return;const i=[...this._classList];i.push("mapboxgl-popup"),this._anchor&&i.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&i.push("mapboxgl-popup-track-pointer"),f.className=i.join(" ")}_update(f){const i=this._map,c=this._content;if(!i||!this._lngLat&&!this._trackPointer||!c)return;let v=this._container;if(v||(v=this._container=oe("div","mapboxgl-popup",i.getContainer()),this._tip=oe("div","mapboxgl-popup-tip",v),v.appendChild(c)),this.options.maxWidth&&v.style.maxWidth!==this.options.maxWidth&&(v.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Us(this._lngLat,this._pos,i.transform)),!this._trackPointer||f){const T=this._pos=this._trackPointer&&f?f:i.project(this._lngLat),A=iu(this.options.offset),R=this._anchor=this._getAnchor(A.y),V=iu(this.options.offset,R),G=T.add(V).round();i._requestDomTask(()=>{this._container&&R&&(this._container.style.transform=`${No[R]} translate(${G.x}px,${G.y}px)`)})}if(!this._marker&&i._showingGlobe()){const T=l.isLngLatBehindGlobe(i.transform,this._lngLat)?0:1;this._setOpacity(T)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const f=this._container.querySelector(nl);f&&f.focus()}_onClose(){this.remove()}_setOpacity(f){this._container&&(this._container.style.opacity=`${f}`),this._content&&(this._content.style.pointerEvents=f?"auto":"none")}},Marker:kc,Style:z,LngLat:l.LngLat,LngLatBounds:l.LngLatBounds,Point:l.pointGeometry,MercatorCoordinate:l.MercatorCoordinate,FreeCameraOptions:Sn,Evented:l.Evented,config:l.config,prewarm:function(){N().acquire(k)},clearPrewarmedResources:function(){const f=P;f&&(f.isPreloaded()&&f.numActive()===1?(f.release(k),P=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return l.config.ACCESS_TOKEN},set accessToken(f){l.config.ACCESS_TOKEN=f},get baseApiUrl(){return l.config.API_URL},set baseApiUrl(f){l.config.API_URL=f},get workerCount(){return C.workerCount},set workerCount(f){C.workerCount=f},get maxParallelImageRequests(){return l.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(f){l.config.MAX_PARALLEL_IMAGE_REQUESTS=f},clearStorage(f){l.clearTileCache(f)},workerUrl:"",workerClass:null,setNow:l.exported.setNow,restoreNow:l.exported.restoreNow};return Y});var w=m;return w})})(yK);var ff={},xK={get exports(){return ff},set exports(e){ff=e}};(function(e){(function(r){r.version="0.5.0",r.defaults={doThrows:{invalidGeometry:!1}};function h(){var ne=1<=arguments.length?[].slice.call(arguments,0):[],X=ne.shift(),pe=ne.shift();Error.apply(this,ne),this.message=this.message||"Invalid Geometry: item: "+JSON.stringify(X)+", params: "+JSON.stringify(pe)}h.prototype=Error,r.errors={InvalidGeometryError:h},r.isGeometryValid=function(ne){return!ne||!Object.keys(ne).length?!1:!!ne.type&&!!ne.coordinates&&Array.isArray(ne.coordinates)&&!!ne.coordinates.length},r.parse=function(ne,X,pe){var ve,me=x(X,this.defaults),it;if(m.length=0,L(me),it=de(me),Array.isArray(ne)?(ve={type:"FeatureCollection",features:[]},ne.forEach(function(Ye){ve.features.push(q({item:Ye,params:me,propFunc:it}))}),w(ve,me)):(ve=q({item:ne,params:me,propFunc:it}),w(ve,me)),pe&&typeof pe=="function")pe(ve);else return ve};var p=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeoJSON"],m=[];function x(ne,X){var pe=ne||{};for(var ve in X)X.hasOwnProperty(ve)&&!pe[ve]&&(pe[ve]=X[ve]);return pe}function w(ne,X){if(X.crs&&l(X.crs)&&(X.isPostgres?ne.geometry.crs=X.crs:ne.crs=X.crs),X.bbox&&(ne.bbox=X.bbox),X.extraGlobal){ne.properties={};for(var pe in X.extraGlobal)ne.properties[pe]=X.extraGlobal[pe]}}function l(ne){if(ne.type==="name"){if(ne.properties&&ne.properties.name)return!0;throw new Error('Invalid CRS. Properties must contain "name" key')}else if(ne.type==="link"){if(ne.properties&&ne.properties.href&&ne.properties.type)return!0;throw new Error('Invalid CRS. Properties must contain "href" and "type" key')}else throw new Error('Invald CRS. Type attribute must be "name" or "link"')}function L(ne){ne.geom={};for(var X in ne)ne.hasOwnProperty(X)&&p.indexOf(X)!==-1&&(ne.geom[X]=ne[X],delete ne[X]);H(ne.geom)}function H(ne){for(var X in ne)ne.hasOwnProperty(X)&&(typeof ne[X]=="string"?m.push(ne[X]):typeof ne[X]=="object"&&(m.push(ne[X][0]),m.push(ne[X][1])));if(m.length===0)throw new Error("No geometry attributes specified")}function q(ne){var X=ne.item,pe=ne.params,ve=ne.propFunc,me={type:"Feature"};return me.geometry=oe(X,pe),me.properties=ve.call(X),me}function J(ne){return/^.+\..+$/.test(ne)}function oe(ne,X){var pe={};for(var ve in X.geom){var me=X.geom[ve];if(typeof me=="string"&&ne.hasOwnProperty(me))ve==="GeoJSON"?pe=ne[me]:(pe.type=ve,pe.coordinates=ne[me]);else if(typeof me=="object"&&!Array.isArray(me)){var it=Object.keys(me).map(function(ui){var Ue=me[ui],Pe=ne[ui];return oe(Pe,{geom:{Point:Ue}})});pe.type=ve,pe.coordinates=[].concat(it.map(function(ui){return ui.coordinates}))}else if(Array.isArray(me)&&ne.hasOwnProperty(me[0])&&ne.hasOwnProperty(me[1]))pe.type=ve,pe.coordinates=[Number(ne[me[1]]),Number(ne[me[0]])];else if(Array.isArray(me)&&J(me[0])&&J(me[1])){for(var Ye=[],Q=0;Q<me.length;Q++){for(var Dt=me[Q].split("."),St=ne,At=0;At<Dt.length;At++){if(!St.hasOwnProperty(Dt[At]))return!1;St=St[Dt[At]]}Ye[Q]=St}pe.type=ve,pe.coordinates=[Number(Ye[1]),Number(Ye[0])]}}if(X.doThrows&&X.doThrows.invalidGeometry&&!r.isGeometryValid(pe))throw new h(ne,X);return pe}function de(ne){var X;return!ne.exclude&&!ne.include?X=function(pe){for(var ve in this)this.hasOwnProperty(ve)&&m.indexOf(ve)===-1&&(pe[ve]=this[ve])}:ne.include?X=function(pe){ne.include.forEach(function(ve){pe[ve]=this[ve]},this)}:ne.exclude&&(X=function(pe){for(var ve in this)this.hasOwnProperty(ve)&&m.indexOf(ve)===-1&&ne.exclude.indexOf(ve)===-1&&(pe[ve]=this[ve])}),function(){var pe={};return X.call(this,pe),ne.extra&&ye(pe,ne.extra),pe}}function ye(ne,X){for(var pe in X)X.hasOwnProperty(pe)&&(ne[pe]=X[pe]);return ne}})(e.exports)})(xK);const ch=require("mapbox-gl");ch.accessToken="pk.eyJ1IjoiY25oMTE4NyIsImEiOiJja28wZTZpNGowY3RoMnBvaTgxZ2M5c3ljIn0.t3_T3EN00e5w7D0et4hf-w";class _K{constructor(){this.discoverymap=new ch.Map({container:"discoverymap",style:"mapbox://styles/cnh1187/ckwqyxju41h0c14o695dd3fdt",zoom:0,attributionControl:!1,dragRotate:!1,touchPitch:!1}),this._csrf=document.querySelector('[name="_csrf"]').value,this.discoverymapcontainer=document.querySelector("#discoverymap"),this.startgeocoder=document.querySelector("#start-geocoder"),this.overlay=document.querySelector("#overlay"),this.feed=document.querySelector("#entry-div"),this.entryfeed=document.querySelector("#dynamic-entry-feed"),this.loaderIcon=document.querySelector(".spinner-border"),this.loadzoom=3,this.timeout=500,this.events()}events(){window.onload=this.showLoaderText(),this.discoverymap.on("load",()=>this.loadResources())}loadResources(){this.loadControls(),this.discoverymap.addSource("10m-bathymetry-81bsvj",{type:"vector",url:"mapbox://mapbox.9tm8dx88"}),this.discoverymap.addLayer({id:"10m-bathymetry-81bsvj",type:"fill",source:"10m-bathymetry-81bsvj","source-layer":"10m-bathymetry-81bsvj",layout:{},paint:{"fill-outline-color":"hsla(337, 82%, 62%, 0)","fill-color":["interpolate",["cubic-bezier",0,.5,1,.5],["get","DEPTH"],200,"#8c8c8c",9e3,"#4d4d4d"]}},"land-structure-polygon"),this.discoverymap.once("zoomstart",()=>this.hideOverlay()),this.discoverymap.on("moveend",()=>this.loadEntries())}loadControls(){var r=function(p){var m=p.match(/^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i);if(!m)return null;function x(H,q){return{center:[H,q],geometry:{type:"Point",coordinates:[H,q]},place_name:"Lat: "+q+" Lng: "+H,place_type:["coordinate"],properties:{},type:"Feature"}}var w=Number(m[1]),l=Number(m[2]),L=[];return(w<-90||w>90)&&L.push(x(w,l)),(l<-90||l>90)&&L.push(x(l,w)),L.length===0&&(L.push(x(w,l)),L.push(x(l,w))),L},h=new MapboxGeocoder({accessToken:ch.accessToken,localGeocoder:r,marker:!1,mapboxgl:ch});this.startgeocoder.appendChild(h.onAdd(this.discoverymap)),this.discoverymap.addControl(new MapboxGeocoder({accessToken:ch.accessToken,localGeocoder:r,marker:!1,mapboxgl:ch})),this.discoverymap.addControl(new ch.NavigationControl),this.discoverymap.addControl(new ch.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}))}hideOverlay(){this.showLoaderIcon(),this.overlay.style.display="none",this.feed.style.display="block"}loadEntries(){var r=this.discoverymap.getBounds().toArray();this.discoverymap.getZoom()>this.loadzoom?setTimeout(()=>this.sendRequest(r),this.timeout):(this.hideLoaderIcon(),this.entryfeed.innerHTML=`<div class="text-center"><p class="text-muted">The map is currently at zoom level <strong>${Math.round(this.discoverymap.getZoom()*10)/10}</strong>. Zoom in past level ${this.loadzoom} to populate the entry feed and read full entries.</p></div>`)}sendRequest(r){xc.get(`/entry-list/${r}`).then(h=>{this.loadMarkers(h),this.renderEntryHTML(h)})}showLoaderIcon(){document.querySelector(".spinner-border").removeAttribute("hidden",!0),document.querySelector(".loader-text-2").removeAttribute("hidden",!0)}hideLoaderIcon(){document.querySelector(".spinner-border").setAttribute("hidden",!0),document.querySelector(".loader-text-2").setAttribute("hidden",!0)}showLoaderText(){document.querySelector(".loader-text").removeAttribute("hidden",!0)}hideLoaderText(){document.querySelector(".loader-text").setAttribute("hidden",!0)}loadMarkers(r){var h=ff.parse(r.data,{GeoJSON:"GeoJSONcoordinates",include:["popup","_id"]}),p=Math.random().toString(36).slice(2);this.discoverymap.addSource(`entrymarkers${p}`,{type:"geojson",data:h,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),this.discoverymap.addLayer({id:`clusters${p}`,type:"circle",source:`entrymarkers${p}`,minzoom:0,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#ac6d46",100,"#ac6d46",750,"#ac6d46"],"circle-radius":["step",["get","point_count"],15,100,25,750,35],"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),this.discoverymap.addLayer({id:`cluster-count${p}`,type:"symbol",source:`entrymarkers${p}`,minzoom:0,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"}}),this.discoverymap.addLayer({id:`unclustered-point${p}`,type:"circle",source:`entrymarkers${p}`,minzoom:0,filter:["!",["has","point_count"]],paint:{"circle-color":"#ac6d46","circle-radius":5,"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),this.discoverymap.on("click",`clusters${p}`,function(m){var x=this.queryRenderedFeatures(m.point,{layers:[`clusters${p}`]}),w=x[0].properties.cluster_id;this.getSource(`entrymarkers${p}`).getClusterExpansionZoom(w,(l,L)=>{l||this.easeTo({center:x[0].geometry.coordinates,zoom:L})})}),this.discoverymap.on("click",`unclustered-point${p}`,function(m){var x=m.features[0].geometry.coordinates.slice(),w=m.features[0].properties.popup,l=m.features[0].properties._id;for(this.easeTo({center:x,offset:[0,50],zoom:7});Math.abs(m.lngLat.lng-x[0])>180;)x[0]+=m.lngLat.lng>x[0]?360:-360;new ch.Popup({closeButton:!1,focusAfterOpen:!0}).setLngLat(x).setHTML(w+`<a data-bs-toggle="modal" href="#sizedModalMd-${l}">Expand</a>`).addTo(this)}),this.discoverymap.on("mouseenter",`unclustered-point${p}`,function(){this.getCanvas().style.cursor="pointer"}),this.discoverymap.on("mouseleave",`unclustered-point${p}`,function(){this.getCanvas().style.cursor=""}),this.discoverymap.on("mouseenter",`clusters${p}`,function(){this.getCanvas().style.cursor="pointer"}),this.discoverymap.on("mouseleave",`clusters${p}`,function(){this.getCanvas().style.cursor=""})}renderEntryHTML(r){this.hideLoaderIcon(),r.data.length?this.entryfeed.innerHTML=`${r.data.map(h=>`<div class="list-group list-group-flush"><a data-bs-toggle="modal" href="#sizedModalMd-${h._id}" class="list-group-item list-group-item-action">
        <strong>${h.title}</strong><br/>
        <i class="align-middle me-0 fas fa-fw fa-map-marker-alt text-primary"></i> <small class="align-middle">${h.place} | ${h.date}</small><br/>
        <small>by <strong>${h.author.username}</strong></small>
        </a>
            <div class="modal fade" id="sizedModalMd-${h._id}" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-md modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-body mb-0">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body mt-0 pb-0">
                            <h4 class="text-center">${h.title}</h4>
                        </div>

                        <div class="col-8 offset-2 mb-4">
                            <hr>
                        </div>

                        <div class="modal-body col-md-8 offset-md-2 pb-0 pt-0 text-center">
                          <h5><i class="align-middle mr-5 fas fa-fw fa-map-marker-alt text-primary"></i>${h.place}</h5>
                        </div>

                        <div class="modal-body col-md-8 offset-md-2 pt-0">
                          <h5 class="text-center text-muted">on ${new Date(h.date).toLocaleString("default",{month:"long"})} ${new Date(h.date).getDate()}, ${new Date(h.date).getFullYear()} | by <a href="/journal/${h.author.username}">${h.author.username}</a></h5>
                        </div>

                        <div class="modal-body">
                          <div class="text-center mb-1 overflow-hidden">
                            <img src="https://api.mapbox.com/styles/v1/cnh1187/ckwqyxju41h0c14o695dd3fdt/static/pin-s+ac6d46(${h.GeoJSONcoordinates.coordinates})/${h.GeoJSONcoordinates.coordinates},6/300x300?access_token=pk.eyJ1IjoiY25oMTE4NyIsImEiOiJja28wZTZpNGowY3RoMnBvaTgxZ2M5c3ljIn0.t3_T3EN00e5w7D0et4hf-w">
                          </div>
                          <div class="mb-4 text-center">
                            <small>Longitude: ${h.GeoJSONcoordinates.coordinates[0]}, Latitude: ${h.GeoJSONcoordinates.coordinates[1]}</small>
                          </div>


                          <div class="modal-body mb-2">
                            ${JSON.parse(JSON.stringify(h.body,null,1)).replace(/\n/g,"</p><p>")}
                          </div>


                          ${h.hasPhoto==!0?`
                          <div class="modal-body">
                            <img src="https://f002.backblazeb2.com/file/heimursaga-entry-photos/${h._id}" class="img-fluid mb-3" alt="entry image">
                          </div> `:""}
                        </div>
                        

                      <div class="iframe-container">
                        <iframe class="button-stack-iframe" src="button-stack/${h._id}" id="button-stack-iframe" width="100%" scrolling="no"></iframe>
                      </div>

                      <div class="col-8 offset-2 mb-4">
                        <hr>
                      </div>


                      <div>
                        <p class="text-muted small mb-4 text-center">
                        <a href="/journal/${h.author.username}"><img class="avatar img-fluid rounded-circle me-1" src="${h.author.avatar}"></a>
                        Posted on ${new Date(h.createdDate).getMonth()+1}/${new Date(h.createdDate).getDate()}/${new Date(h.createdDate).getFullYear()}</p>
                      </div> 

                      
                      <div class="text-center mb-4">
                          <small class="text-muted">
                          <a href="/entry/${h._id}">Visit entry permalink</a>
                          </small>
                      </div>
                    

                      <div class="">
                    
                        <iframe src="flag-button/${h._id}" id="flag-button" height="60" scrolling="no"></iframe>
      
                      </div>

                      <div class="modal-body m-0">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>

                    </div>
                </div>
            </div>
            </div>`).join("")}`:this.entryfeed.innerHTML='<div class="text-center"><p class="text-muted">Looks like there are no journal entries in this area. Be the first to document your adventures here!</p></div>'}}Jh();const hh=require("mapbox-gl");hh.accessToken="pk.eyJ1IjoiY25oMTE4NyIsImEiOiJja28wZTZpNGowY3RoMnBvaTgxZ2M5c3ljIn0.t3_T3EN00e5w7D0et4hf-w";class bK{constructor(){this.feedmap=new hh.Map({container:"feedmap",style:"mapbox://styles/cnh1187/ckwqyxju41h0c14o695dd3fdt",zoom:0,center:[-33.609412,36.749601],attributionControl:!1,dragRotate:!1,touchPitch:!1}),this._csrf=document.querySelector('[name="_csrf"]').value,this.feedmapcontainer=document.querySelector("#feedmap"),this.startgeocoder=document.querySelector("#start-geocoder"),this.overlay=document.querySelector("#overlay"),this.feed=document.querySelector("#entry-div"),this.entryfeed=document.querySelector("#dynamic-entry-feed"),this.loaderIcon=document.querySelector(".spinner-border"),this.loadzoom=0,this.timeout=500,this.events()}events(){window.onload=this.showLoaderIcon(),this.feedmap.on("load",()=>this.loadResources()),this.feedmap.on("moveend",()=>this.loadEntries())}loadResources(){this.loadControls(),this.feedmap.addSource("10m-bathymetry-81bsvj",{type:"vector",url:"mapbox://mapbox.9tm8dx88"}),this.feedmap.addLayer({id:"10m-bathymetry-81bsvj",type:"fill",source:"10m-bathymetry-81bsvj","source-layer":"10m-bathymetry-81bsvj",layout:{},paint:{"fill-outline-color":"hsla(337, 82%, 62%, 0)","fill-color":["interpolate",["cubic-bezier",0,.5,1,.5],["get","DEPTH"],200,"#8c8c8c",9e3,"#4d4d4d"]}},"land-structure-polygon"),this.loadEntries()}loadControls(){var r=function(p){var m=p.match(/^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i);if(!m)return null;function x(H,q){return{center:[H,q],geometry:{type:"Point",coordinates:[H,q]},place_name:"Lat: "+q+" Lng: "+H,place_type:["coordinate"],properties:{},type:"Feature"}}var w=Number(m[1]),l=Number(m[2]),L=[];return(w<-90||w>90)&&L.push(x(w,l)),(l<-90||l>90)&&L.push(x(l,w)),L.length===0&&(L.push(x(w,l)),L.push(x(l,w))),L},h=new MapboxGeocoder({accessToken:hh.accessToken,localGeocoder:r,marker:!1,mapboxgl:hh});this.startgeocoder.appendChild(h.onAdd(this.feedmap)),this.feedmap.addControl(new MapboxGeocoder({accessToken:hh.accessToken,localGeocoder:r,marker:!1,mapboxgl:hh})),this.feedmap.addControl(new hh.NavigationControl),this.feedmap.addControl(new hh.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}))}loadEntries(){var r=this.feedmap.getBounds().toArray();this.feedmap.getZoom()>=this.loadzoom?(this.loader="loader",setTimeout(()=>this.sendRequest(r),this.timeout)):this.entryfeed.innerHTML=`<div class="text-center"><p class="text-muted">The map is currently at zoom level <strong>${Math.round(this.feedmap.getZoom()*10)/10}</strong>. Zoom in past level ${this.loadzoom} to populate the entry feed and read full entries.</p></div>`}clearEntries(){this.showLoaderIcon(),this.entryfeed.setAttribute("hidden",!0)}sendRequest(r){xc.get(`/feed-entry-list/${r}`).then(h=>{this.entryfeed.removeAttribute("hidden",!0),this.hideLoaderIcon(),this.loadMarkers(h),this.renderEntryHTML(h)})}showLoaderIcon(){document.querySelector(".spinner-border").removeAttribute("hidden",!0),document.querySelector(".loader-text").removeAttribute("hidden",!0)}hideLoaderIcon(){document.querySelector(".spinner-border").setAttribute("hidden",!0),document.querySelector(".loader-text").setAttribute("hidden",!0)}loadMarkers(r){var h=ff.parse(r.data,{GeoJSON:"GeoJSONcoordinates",include:["popup","_id"]}),p=Math.random().toString(36).slice(2);this.feedmap.addSource(`entrymarkers${p}`,{type:"geojson",data:h,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),this.feedmap.addLayer({id:`clusters${p}`,type:"circle",source:`entrymarkers${p}`,minzoom:0,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#ac6d46",100,"#ac6d46",750,"#ac6d46"],"circle-radius":["step",["get","point_count"],15,100,25,750,35],"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),this.feedmap.addLayer({id:`cluster-count${p}`,type:"symbol",source:`entrymarkers${p}`,minzoom:0,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"}}),this.feedmap.addLayer({id:`unclustered-point${p}`,type:"circle",source:`entrymarkers${p}`,minzoom:0,filter:["!",["has","point_count"]],paint:{"circle-color":"#ac6d46","circle-radius":5,"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),this.feedmap.on("click",`clusters${p}`,function(m){var x=this.queryRenderedFeatures(m.point,{layers:[`clusters${p}`]}),w=x[0].properties.cluster_id;this.getSource(`entrymarkers${p}`).getClusterExpansionZoom(w,(l,L)=>{l||this.easeTo({center:x[0].geometry.coordinates,zoom:L})})}),this.feedmap.on("click",`unclustered-point${p}`,function(m){var x=m.features[0].geometry.coordinates.slice(),w=m.features[0].properties.popup,l=m.features[0].properties._id;for(this.easeTo({center:x,offset:[0,50],zoom:7});Math.abs(m.lngLat.lng-x[0])>180;)x[0]+=m.lngLat.lng>x[0]?360:-360;new hh.Popup({closeButton:!1,focusAfterOpen:!0}).setLngLat(x).setHTML(w+`<a data-bs-toggle="modal" href="#sizedModalMd-${l}">Expand</a>`).addTo(this)}),this.feedmap.on("mouseenter",`unclustered-point${p}`,function(){this.getCanvas().style.cursor="pointer"}),this.feedmap.on("mouseleave",`unclustered-point${p}`,function(){this.getCanvas().style.cursor=""}),this.feedmap.on("mouseenter",`clusters${p}`,function(){this.getCanvas().style.cursor="pointer"}),this.feedmap.on("mouseleave",`clusters${p}`,function(){this.getCanvas().style.cursor=""})}renderEntryHTML(r){r.data.length?this.entryfeed.innerHTML=`${r.data.map(h=>`<div class="list-group list-group-flush"><a data-bs-toggle="modal" href="#sizedModalMd-${h._id}" class="list-group-item list-group-item-action">
        <strong>${h.title}</strong><br/>
        <i class="align-middle me-0 fas fa-fw fa-map-marker-alt text-primary"></i> <small class="align-middle">${h.place} | ${h.date}</small><br/>
        <small>by <strong>${h.author.username}</strong></small>
        </a>
            <div class="modal fade" id="sizedModalMd-${h._id}" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-md modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-body mb-0">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body mt-0 pb-0">
                            <h4 class="text-center">${h.title}</h4>
                        </div>

                        <div class="col-8 offset-2 mb-4">
                            <hr>
                        </div>

                        <div class="modal-body col-md-8 offset-md-2 pb-0 pt-0 text-center">
                          <h5><i class="align-middle mr-5 fas fa-fw fa-map-marker-alt text-primary"></i>${h.place}</h5>
                        </div>

                        <div class="modal-body col-md-8 offset-md-2 pt-0">
                          <h5 class="text-center text-muted">on ${new Date(h.date).toLocaleString("default",{month:"long"})} ${new Date(h.date).getDate()}, ${new Date(h.date).getFullYear()} | by <a href="/journal/${h.author.username}">${h.author.username}</a></h5>
                        </div>

                        <div class="modal-body">
                          <div class="text-center mb-1 overflow-hidden">
                            <img src="https://api.mapbox.com/styles/v1/cnh1187/ckwqyxju41h0c14o695dd3fdt/static/pin-s+ac6d46(${h.GeoJSONcoordinates.coordinates})/${h.GeoJSONcoordinates.coordinates},6/300x300?access_token=pk.eyJ1IjoiY25oMTE4NyIsImEiOiJja28wZTZpNGowY3RoMnBvaTgxZ2M5c3ljIn0.t3_T3EN00e5w7D0et4hf-w">
                          </div>
                          <div class="mb-4 text-center">
                            <small>Longitude: ${h.GeoJSONcoordinates.coordinates[0]}, Latitude: ${h.GeoJSONcoordinates.coordinates[1]}</small>
                          </div>


                          <div class="modal-body mb-2">
                            ${JSON.parse(JSON.stringify(h.body,null,1)).replace(/\n/g,"</p><p>")}
                          </div>


                          ${h.hasPhoto==!0?`
                          <div class="modal-body">
                            <img src="https://f002.backblazeb2.com/file/heimursaga-entry-photos/${h._id}" class="img-fluid mb-3" alt="entry image">
                          </div> `:""}
                        </div>
                        

                      <div class="iframe-container">
                        <iframe class="button-stack-iframe" src="button-stack/${h._id}" id="button-stack-iframe" width="100%" scrolling="no"></iframe>
                      </div>

                      <div class="col-8 offset-2 mb-4">
                        <hr>
                      </div>


                      <div>
                        <p class="text-muted small mb-4 text-center">
                        <a href="/journal/${h.author.username}"><img class="avatar img-fluid rounded-circle me-1" src="${h.author.avatar}"></a>
                        Posted on ${new Date(h.createdDate).getMonth()+1}/${new Date(h.createdDate).getDate()}/${new Date(h.createdDate).getFullYear()}</p>
                      </div> 

                      
                      <div class="text-center mb-4">
                          <small class="text-muted">
                          <a href="/entry/${h._id}">Visit entry permalink</a>
                          </small>
                      </div>

                      <div class="">
                    
                        <iframe src="flag-button/${h._id}" id="flag-button" height="60" scrolling="no"></iframe>
      
                      </div>

                      <div class="modal-body m-0">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>

                    </div>
                </div>
            </div>
            </div>`).join("")}`:this.entryfeed.innerHTML='<div class="text-center"><p class="text-muted">None of the explorers you follow have logged journal entries in this area. Follow more explorers or be the first to document your adventures here!</p></div>'}}const uh=require("mapbox-gl");uh.accessToken="pk.eyJ1IjoiY25oMTE4NyIsImEiOiJja28wZTZpNGowY3RoMnBvaTgxZ2M5c3ljIn0.t3_T3EN00e5w7D0et4hf-w";class wK{constructor(){this.journalmap=new uh.Map({container:"journalmap",style:"mapbox://styles/cnh1187/ckwqyxju41h0c14o695dd3fdt",zoom:0,center:[-33.609412,36.749601],attributionControl:!1,dragRotate:!1,touchPitch:!1}),this._csrf=document.querySelector('[name="_csrf"]').value,this.journalmapcontainer=document.querySelector("#journalmap"),this.startgeocoder=document.querySelector("#start-geocoder"),this.profileusername=document.querySelector(".profile-username").innerHTML,this.loadzoom=0,this.timeout=500,this.events()}events(){this.journalmap.on("load",()=>this.loadResources()),this.journalmap.on("moveend",()=>this.loadEntries())}loadResources(){this.loadControls(),this.journalmap.addSource("10m-bathymetry-81bsvj",{type:"vector",url:"mapbox://mapbox.9tm8dx88"}),this.journalmap.addLayer({id:"10m-bathymetry-81bsvj",type:"fill",source:"10m-bathymetry-81bsvj","source-layer":"10m-bathymetry-81bsvj",layout:{},paint:{"fill-outline-color":"hsla(337, 82%, 62%, 0)","fill-color":["interpolate",["cubic-bezier",0,.5,1,.5],["get","DEPTH"],200,"#8c8c8c",9e3,"#4d4d4d"]}},"land-structure-polygon"),this.loadEntries()}loadControls(){var r=function(p){var m=p.match(/^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i);if(!m)return null;function x(H,q){return{center:[H,q],geometry:{type:"Point",coordinates:[H,q]},place_name:"Lat: "+q+" Lng: "+H,place_type:["coordinate"],properties:{},type:"Feature"}}var w=Number(m[1]),l=Number(m[2]),L=[];return(w<-90||w>90)&&L.push(x(w,l)),(l<-90||l>90)&&L.push(x(l,w)),L.length===0&&(L.push(x(w,l)),L.push(x(l,w))),L},h=new MapboxGeocoder({accessToken:uh.accessToken,localGeocoder:r,marker:!1,mapboxgl:uh});this.startgeocoder.appendChild(h.onAdd(this.journalmap)),this.journalmap.addControl(new MapboxGeocoder({accessToken:uh.accessToken,localGeocoder:r,marker:!1,mapboxgl:uh})),this.journalmap.addControl(new uh.NavigationControl),this.journalmap.addControl(new uh.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}))}loadedFeed(){this.entryfeed.innerHTML='<div class="text-center text-muted">Loading...</div>'}loadEntries(){var r=this.journalmap.getBounds().toArray();this.journalmap.getZoom()>=this.loadzoom?(this.loader="loader",setTimeout(()=>this.sendRequest(r),this.timeout)):this.entryfeed.innerHTML=`<div class="text-center"><p class="text-muted">The map is currently at zoom level <strong>${Math.round(this.journalmap.getZoom()*10)/10}</strong>. Zoom in past level ${this.loadzoom} to populate the entry feed and read full entries.</p></div>`}sendRequest(r){xc.get(`/journal-entry-list/${this.profileusername}/${r}`).then(h=>{this.loadMarkers(h)})}loadMarkers(r){var h=ff.parse(r.data,{GeoJSON:"GeoJSONcoordinates",include:["popup","_id"]}),p=Math.random().toString(36).slice(2);this.journalmap.addSource(`entrymarkers${p}`,{type:"geojson",data:h,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),this.journalmap.addLayer({id:`clusters${p}`,type:"circle",source:`entrymarkers${p}`,minzoom:0,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#ac6d46",100,"#ac6d46",750,"#ac6d46"],"circle-radius":["step",["get","point_count"],15,100,25,750,35],"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),this.journalmap.addLayer({id:`cluster-count${p}`,type:"symbol",source:`entrymarkers${p}`,minzoom:0,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"}}),this.journalmap.addLayer({id:`unclustered-point${p}`,type:"circle",source:`entrymarkers${p}`,minzoom:0,filter:["!",["has","point_count"]],paint:{"circle-color":"#ac6d46","circle-radius":5,"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),this.journalmap.on("click",`clusters${p}`,function(m){var x=this.queryRenderedFeatures(m.point,{layers:[`clusters${p}`]}),w=x[0].properties.cluster_id;this.getSource(`entrymarkers${p}`).getClusterExpansionZoom(w,(l,L)=>{l||this.easeTo({center:x[0].geometry.coordinates,zoom:L})})}),this.journalmap.on("click",`unclustered-point${p}`,function(m){var x=m.features[0].geometry.coordinates.slice(),w=m.features[0].properties.popup,l=m.features[0].properties._id;for(this.easeTo({center:x,offset:[0,50],zoom:7});Math.abs(m.lngLat.lng-x[0])>180;)x[0]+=m.lngLat.lng>x[0]?360:-360;new uh.Popup({closeButton:!1,focusAfterOpen:!0}).setLngLat(x).setHTML(w+`<a data-bs-toggle="modal" href="#sizedModalMd-${l}">Expand</a>`).addTo(this)}),this.journalmap.on("mouseenter",`unclustered-point${p}`,function(){this.getCanvas().style.cursor="pointer"}),this.journalmap.on("mouseleave",`unclustered-point${p}`,function(){this.getCanvas().style.cursor=""}),this.journalmap.on("mouseenter",`clusters${p}`,function(){this.getCanvas().style.cursor="pointer"}),this.journalmap.on("mouseleave",`clusters${p}`,function(){this.getCanvas().style.cursor=""})}}class EK{constructor(){this.openedYet=!1,this.userNotificationsPane=document.querySelector("#user-notifications"),this.openIcon=document.querySelector("#notification-icon"),this.showNotifications(),this.injectHTML(),this.notificationList=document.querySelector(".notification-list"),this.sendMessageToServer(),this.events()}events(){}sendMessageToServer(){this.socket.emit("testNotification",{message:"test notification"})}showNotifications(){this.openedYet||this.openConnection(),this.openedYet=!0,this.userNotificationsPane.classList.add("user-notifications")}openConnection(){this.socket.on("testNotificationFromServer",r=>{this.displayMessageFromServer(r)})}displayMessageFromServer(r){this.notificationList.insertAdjacentHTML("beforeend",`<p>${r.message}</p>`)}injectHTML(){this.userNotificationsPane.innerHTML=`
        <div class="dropdown-menu-header">
        4 New Notifications
        </div>
            <div class="notification-list"></div>
            <div class="list-group">
                <a href="#" class="list-group-item">
                    <div class="row g-0 align-items-center">
                        <div class="col-2">
                            <i class="text-danger" data-feather="alert-circle"></i>
                        </div>
                        <div class="col-10">
                            <div class="text-dark">Update completed</div>
                            <div class="text-muted small mt-1">Restart server 12 to complete the update.</div>
                            <div class="text-muted small mt-1">2h ago</div>
                        </div>
                    </div>
                </a>
            </div>
        <div class="dropdown-menu-footer">
            <a href="#" class="text-muted">Show all notifications</a>
        </div>`}}class TK{constructor(){this.shareButton=document.querySelector("#share-button"),this.shareIcon=document.querySelector(".icon-heimursaga-share"),this.permalink=document.querySelector("#share-button").value,this.waitTimer,this.events()}events(){this.shareButton.addEventListener("click",r=>{r.preventDefault(),this.buttonClickHandler(this.permalink)})}buttonClickHandler(r){if(parent.window.notyf.success("Entry permalink copied to clipboard"),this.changePrimary(),!navigator.clipboard){this.fallbackCopyTextToClipboard(r);return}navigator.clipboard.writeText(r).then(function(){console.log("Async: Copying to clipboard was successful!")},function(h){console.error("Async: Could not copy text: ",h)})}fallbackCopyTextToClipboard(r){this.textArea.value=r,textArea.style.top="0",textArea.style.left="0",textArea.style.position="fixed",document.body.appendChild(textArea),textArea.focus(),textArea.select();try{var h=document.execCommand("copy"),p=h?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+p)}catch(m){console.error("Fallback: Oops, unable to copy",m)}document.body.removeChild(textArea)}changePrimary(){document.querySelector(".icon-heimursaga-share").style.color="#AC6D46",document.querySelector("#share-check").removeAttribute("hidden",!0)}}class SK{constructor(){this.highlightButton=document.querySelector("#highlight-button"),this.highlightIcon=document.querySelector(".icon-heimursaga-highlight"),this._csrf=document.querySelector('[name="_csrf"]').value,this.entryId=document.querySelector("#entry-id").value,this.hasVisitorHighlighted=document.querySelector("#has-highlighted").value,this.highlightCount=document.querySelector("#highlight-count"),this.check=document.querySelector("#highlight-check"),this.waitTimer,this.events()}events(){this.highlightButton.addEventListener("click",r=>{r.preventDefault(),this.buttonClickHandler()})}buttonClickHandler(){document.querySelector(".icon-heimursaga-highlight").style.color=="rgb(60, 115, 170)"?(this.changePrimary(),parent.window.notyf.success("You have highlighted this entry"),this.waitTimer=setTimeout(()=>this.sendRequest(),750)):(this.changeBlue(),parent.window.notyf.error({background:"#3C73AA",message:"Your highlight has been removed"}),this.waitTimer=setTimeout(()=>this.sendRequest(),750))}sendRequest(){document.querySelector(".icon-heimursaga-highlight").style.color!="rgb(60, 115, 170)"?xc.post(`/addHighlight/${this.entryId}`,{_csrf:this._csrf,id:this.entryId}).then(()=>{console.log("highlight added")}):xc.post(`/removeHighlight/${this.entryId}`,{_csrf:this._csrf,id:this.entryId}).then(()=>{console.log("highlight removed")})}changePrimary(){document.querySelector(".icon-heimursaga-highlight").style.color="#AC6D46",document.querySelector("#highlight-check").removeAttribute("hidden",!0)}changeBlue(){document.querySelector(".icon-heimursaga-highlight").style.color="#3C73AA",document.querySelector("#highlight-check").setAttribute("hidden",!0)}}class AK{constructor(){this.bookmarkButton=document.querySelector("#bookmark-button"),this.bookmarkIcon=document.querySelector(".icon-heimursaga-bookmark"),this._csrf=document.querySelector('[name="_csrf"]').value,this.entryId=document.querySelector("#entry-id").value,this.hasVisitorBookmarked=document.querySelector("#has-bookmarked").value,this.bookmarkCount=document.querySelector("#bookmark-count"),this.check=document.querySelector("#bookmark-check"),this.waitTimer,this.events()}events(){this.bookmarkButton.addEventListener("click",r=>{r.preventDefault(),this.buttonClickHandler()})}buttonClickHandler(){document.querySelector(".icon-heimursaga-bookmark").style.color=="rgb(60, 115, 170)"?(this.changePrimary(),parent.window.notyf.success("You have bookmarked this entry"),this.waitTimer=setTimeout(()=>this.sendRequest(),750)):(this.changeBlue(),parent.window.notyf.error({background:"#3C73AA",message:"Your bookmark has been removed"}),this.waitTimer=setTimeout(()=>this.sendRequest(),750))}sendRequest(){document.querySelector(".icon-heimursaga-bookmark").style.color!="rgb(60, 115, 170)"?xc.post(`/addBookmark/${this.entryId}`,{_csrf:this._csrf,id:this.entryId}).then(()=>{console.log("bookmark added")}):xc.post(`/removeBookmark/${this.entryId}`,{_csrf:this._csrf,id:this.entryId}).then(()=>{console.log("bookmark removed")})}changePrimary(){document.querySelector(".icon-heimursaga-bookmark").style.color="#AC6D46",document.querySelector("#bookmark-button").classList.remove("text-blue"),document.querySelector("#bookmark-button").classList.add("text-primary"),document.querySelector("#bookmark-check").removeAttribute("hidden",!0)}changeBlue(){document.querySelector(".icon-heimursaga-bookmark").style.color="#3C73AA",document.querySelector("#bookmark-button").classList.remove("text-danger"),document.querySelector("#bookmark-button").classList.add("text-blue"),document.querySelector("#bookmark-check").setAttribute("hidden",!0)}}class MK{constructor(){this.followButton=document.querySelector("#follow-button"),this.followIcon=document.querySelector(".icon-heimursaga-follow-alt-2"),this._csrf=document.querySelector('[name="_csrf"]').value,this.entryAuthor=document.querySelector("#entry-username").value,this.isVisitorFollowing=document.querySelector("#is-following").value,this.check=document.querySelector("#follow-check"),this.waitTimer,this.events()}events(){this.followButton.addEventListener("click",r=>{r.preventDefault(),this.buttonClickHandler()})}buttonClickHandler(){document.querySelector(".icon-heimursaga-follow-alt-2").style.color=="rgb(60, 115, 170)"?(this.changePrimary(),parent.window.notyf.success(`You are now following ${this.entryAuthor}`),this.waitTimer=setTimeout(()=>this.sendRequest(),750)):(this.changeBlue(),parent.window.notyf.error({background:"#3C73AA",message:`You have unfollowed ${this.entryAuthor}`}),this.waitTimer=setTimeout(()=>this.sendRequest(),750))}sendRequest(){document.querySelector(".icon-heimursaga-follow-alt-2").style.color!="rgb(60, 115, 170)"?xc.post(`/addFollow/${this.entryAuthor}`,{_csrf:this._csrf,username:this.entryAuthor}).then(()=>{console.log("follow added")}):xc.post(`/removeFollow/${this.entryAuthor}`,{_csrf:this._csrf,username:this.entryAuthor}).then(()=>{console.log("follow removed")})}changePrimary(){document.querySelector(".icon-heimursaga-follow-alt-2").style.color="#AC6D46",document.querySelector("#follow-button").classList.remove("text-blue"),document.querySelector("#follow-button").classList.add("text-primary"),document.querySelector("#follow-check").style.color="#AC6D46"}changeBlue(){document.querySelector(".icon-heimursaga-follow-alt-2").style.color="#3C73AA",document.querySelector("#follow-button").classList.remove("text-danger"),document.querySelector("#follow-button").classList.add("text-blue"),document.querySelector("#follow-check").style.color="#FFFFFF"}}class CK{constructor(){this.flagButton=document.querySelector("#flag-button"),this.flagIcon=document.querySelector(".icon-heimursaga-flag"),this._csrf=document.querySelector('[name="_csrf"]').value,this.entryId=document.querySelector("#entry-id").value,this.hasFlagged=document.querySelector("#has-flagged").value,this.flagLabel=document.querySelector("#flag-label"),this.waitTimer,this.events()}events(){this.flagButton.addEventListener("click",r=>{r.preventDefault(),this.buttonClickHandler()})}buttonClickHandler(){console.log(this.entryId);var r=confirm("Are you sure you want to flag this entry for a violation of the Explorer Code? This action is irreversible.");r?(console.log("flag confirmed"),this.changePrimary(),parent.window.notyf.error("You have flagged this entry for review"),document.querySelector("#flag-label").innerText="flagged",this.waitTimer=setTimeout(()=>this.sendRequest(),750)):console.log("flag cancelled")}sendRequest(){xc.post(`/addFlag/${this.entryId}`,{_csrf:this._csrf,id:this.entryId}).then(()=>{console.log("successfully flagged")})}changePrimary(){document.querySelector(".icon-heimursaga-flag").style.color="#adb5bd",document.querySelector("#flag-label").style.color="#adb5bd",document.querySelector("#flag-button").disabled=!0}}var B2={},IK={get exports(){return B2},set exports(e){B2=e}};const f7=G5(pD);/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */(function(e,r){(function(h,p){e.exports=p(function(){try{return f7}catch{}}())})(fn,function(h){h=h&&h.hasOwnProperty("default")?h.default:h;function p(u,_){return _={exports:{}},u(_,_.exports),_.exports}function m(u){return u&&u.default||u}var x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},w=p(function(u){var _={};for(var M in x)x.hasOwnProperty(M)&&(_[x[M]]=M);var D=u.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var F in D)if(D.hasOwnProperty(F)){if(!("channels"in D[F]))throw new Error("missing channels property: "+F);if(!("labels"in D[F]))throw new Error("missing channel labels property: "+F);if(D[F].labels.length!==D[F].channels)throw new Error("channel and label counts mismatch: "+F);var Y=D[F].channels,f=D[F].labels;delete D[F].channels,delete D[F].labels,Object.defineProperty(D[F],"channels",{value:Y}),Object.defineProperty(D[F],"labels",{value:f})}D.rgb.hsl=function(c){var v=c[0]/255,T=c[1]/255,A=c[2]/255,R=Math.min(v,T,A),V=Math.max(v,T,A),G=V-R,ie,ae,be;return V===R?ie=0:v===V?ie=(T-A)/G:T===V?ie=2+(A-v)/G:A===V&&(ie=4+(v-T)/G),ie=Math.min(ie*60,360),ie<0&&(ie+=360),be=(R+V)/2,V===R?ae=0:be<=.5?ae=G/(V+R):ae=G/(2-V-R),[ie,ae*100,be*100]},D.rgb.hsv=function(c){var v,T,A,R,V,G=c[0]/255,ie=c[1]/255,ae=c[2]/255,be=Math.max(G,ie,ae),Fe=be-Math.min(G,ie,ae),$e=function(Je){return(be-Je)/6/Fe+1/2};return Fe===0?R=V=0:(V=Fe/be,v=$e(G),T=$e(ie),A=$e(ae),G===be?R=A-T:ie===be?R=1/3+v-A:ae===be&&(R=2/3+T-v),R<0?R+=1:R>1&&(R-=1)),[R*360,V*100,be*100]},D.rgb.hwb=function(c){var v=c[0],T=c[1],A=c[2],R=D.rgb.hsl(c)[0],V=1/255*Math.min(v,Math.min(T,A));return A=1-1/255*Math.max(v,Math.max(T,A)),[R,V*100,A*100]},D.rgb.cmyk=function(c){var v=c[0]/255,T=c[1]/255,A=c[2]/255,R,V,G,ie;return ie=Math.min(1-v,1-T,1-A),R=(1-v-ie)/(1-ie)||0,V=(1-T-ie)/(1-ie)||0,G=(1-A-ie)/(1-ie)||0,[R*100,V*100,G*100,ie*100]};function i(c,v){return Math.pow(c[0]-v[0],2)+Math.pow(c[1]-v[1],2)+Math.pow(c[2]-v[2],2)}D.rgb.keyword=function(c){var v=_[c];if(v)return v;var T=1/0,A;for(var R in x)if(x.hasOwnProperty(R)){var V=x[R],G=i(c,V);G<T&&(T=G,A=R)}return A},D.keyword.rgb=function(c){return x[c]},D.rgb.xyz=function(c){var v=c[0]/255,T=c[1]/255,A=c[2]/255;v=v>.04045?Math.pow((v+.055)/1.055,2.4):v/12.92,T=T>.04045?Math.pow((T+.055)/1.055,2.4):T/12.92,A=A>.04045?Math.pow((A+.055)/1.055,2.4):A/12.92;var R=v*.4124+T*.3576+A*.1805,V=v*.2126+T*.7152+A*.0722,G=v*.0193+T*.1192+A*.9505;return[R*100,V*100,G*100]},D.rgb.lab=function(c){var v=D.rgb.xyz(c),T=v[0],A=v[1],R=v[2],V,G,ie;return T/=95.047,A/=100,R/=108.883,T=T>.008856?Math.pow(T,1/3):7.787*T+16/116,A=A>.008856?Math.pow(A,1/3):7.787*A+16/116,R=R>.008856?Math.pow(R,1/3):7.787*R+16/116,V=116*A-16,G=500*(T-A),ie=200*(A-R),[V,G,ie]},D.hsl.rgb=function(c){var v=c[0]/360,T=c[1]/100,A=c[2]/100,R,V,G,ie,ae;if(T===0)return ae=A*255,[ae,ae,ae];A<.5?V=A*(1+T):V=A+T-A*T,R=2*A-V,ie=[0,0,0];for(var be=0;be<3;be++)G=v+1/3*-(be-1),G<0&&G++,G>1&&G--,6*G<1?ae=R+(V-R)*6*G:2*G<1?ae=V:3*G<2?ae=R+(V-R)*(2/3-G)*6:ae=R,ie[be]=ae*255;return ie},D.hsl.hsv=function(c){var v=c[0],T=c[1]/100,A=c[2]/100,R=T,V=Math.max(A,.01),G,ie;return A*=2,T*=A<=1?A:2-A,R*=V<=1?V:2-V,ie=(A+T)/2,G=A===0?2*R/(V+R):2*T/(A+T),[v,G*100,ie*100]},D.hsv.rgb=function(c){var v=c[0]/60,T=c[1]/100,A=c[2]/100,R=Math.floor(v)%6,V=v-Math.floor(v),G=255*A*(1-T),ie=255*A*(1-T*V),ae=255*A*(1-T*(1-V));switch(A*=255,R){case 0:return[A,ae,G];case 1:return[ie,A,G];case 2:return[G,A,ae];case 3:return[G,ie,A];case 4:return[ae,G,A];case 5:return[A,G,ie]}},D.hsv.hsl=function(c){var v=c[0],T=c[1]/100,A=c[2]/100,R=Math.max(A,.01),V,G,ie;return ie=(2-T)*A,V=(2-T)*R,G=T*R,G/=V<=1?V:2-V,G=G||0,ie/=2,[v,G*100,ie*100]},D.hwb.rgb=function(c){var v=c[0]/360,T=c[1]/100,A=c[2]/100,R=T+A,V,G,ie,ae;R>1&&(T/=R,A/=R),V=Math.floor(6*v),G=1-A,ie=6*v-V,V&1&&(ie=1-ie),ae=T+ie*(G-T);var be,Fe,$e;switch(V){default:case 6:case 0:be=G,Fe=ae,$e=T;break;case 1:be=ae,Fe=G,$e=T;break;case 2:be=T,Fe=G,$e=ae;break;case 3:be=T,Fe=ae,$e=G;break;case 4:be=ae,Fe=T,$e=G;break;case 5:be=G,Fe=T,$e=ae;break}return[be*255,Fe*255,$e*255]},D.cmyk.rgb=function(c){var v=c[0]/100,T=c[1]/100,A=c[2]/100,R=c[3]/100,V,G,ie;return V=1-Math.min(1,v*(1-R)+R),G=1-Math.min(1,T*(1-R)+R),ie=1-Math.min(1,A*(1-R)+R),[V*255,G*255,ie*255]},D.xyz.rgb=function(c){var v=c[0]/100,T=c[1]/100,A=c[2]/100,R,V,G;return R=v*3.2406+T*-1.5372+A*-.4986,V=v*-.9689+T*1.8758+A*.0415,G=v*.0557+T*-.204+A*1.057,R=R>.0031308?1.055*Math.pow(R,1/2.4)-.055:R*12.92,V=V>.0031308?1.055*Math.pow(V,1/2.4)-.055:V*12.92,G=G>.0031308?1.055*Math.pow(G,1/2.4)-.055:G*12.92,R=Math.min(Math.max(0,R),1),V=Math.min(Math.max(0,V),1),G=Math.min(Math.max(0,G),1),[R*255,V*255,G*255]},D.xyz.lab=function(c){var v=c[0],T=c[1],A=c[2],R,V,G;return v/=95.047,T/=100,A/=108.883,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,T=T>.008856?Math.pow(T,1/3):7.787*T+16/116,A=A>.008856?Math.pow(A,1/3):7.787*A+16/116,R=116*T-16,V=500*(v-T),G=200*(T-A),[R,V,G]},D.lab.xyz=function(c){var v=c[0],T=c[1],A=c[2],R,V,G;V=(v+16)/116,R=T/500+V,G=V-A/200;var ie=Math.pow(V,3),ae=Math.pow(R,3),be=Math.pow(G,3);return V=ie>.008856?ie:(V-16/116)/7.787,R=ae>.008856?ae:(R-16/116)/7.787,G=be>.008856?be:(G-16/116)/7.787,R*=95.047,V*=100,G*=108.883,[R,V,G]},D.lab.lch=function(c){var v=c[0],T=c[1],A=c[2],R,V,G;return R=Math.atan2(A,T),V=R*360/2/Math.PI,V<0&&(V+=360),G=Math.sqrt(T*T+A*A),[v,G,V]},D.lch.lab=function(c){var v=c[0],T=c[1],A=c[2],R,V,G;return G=A/360*2*Math.PI,R=T*Math.cos(G),V=T*Math.sin(G),[v,R,V]},D.rgb.ansi16=function(c){var v=c[0],T=c[1],A=c[2],R=1 in arguments?arguments[1]:D.rgb.hsv(c)[2];if(R=Math.round(R/50),R===0)return 30;var V=30+(Math.round(A/255)<<2|Math.round(T/255)<<1|Math.round(v/255));return R===2&&(V+=60),V},D.hsv.ansi16=function(c){return D.rgb.ansi16(D.hsv.rgb(c),c[2])},D.rgb.ansi256=function(c){var v=c[0],T=c[1],A=c[2];if(v===T&&T===A)return v<8?16:v>248?231:Math.round((v-8)/247*24)+232;var R=16+36*Math.round(v/255*5)+6*Math.round(T/255*5)+Math.round(A/255*5);return R},D.ansi16.rgb=function(c){var v=c%10;if(v===0||v===7)return c>50&&(v+=3.5),v=v/10.5*255,[v,v,v];var T=(~~(c>50)+1)*.5,A=(v&1)*T*255,R=(v>>1&1)*T*255,V=(v>>2&1)*T*255;return[A,R,V]},D.ansi256.rgb=function(c){if(c>=232){var v=(c-232)*10+8;return[v,v,v]}c-=16;var T,A=Math.floor(c/36)/5*255,R=Math.floor((T=c%36)/6)/5*255,V=T%6/5*255;return[A,R,V]},D.rgb.hex=function(c){var v=((Math.round(c[0])&255)<<16)+((Math.round(c[1])&255)<<8)+(Math.round(c[2])&255),T=v.toString(16).toUpperCase();return"000000".substring(T.length)+T},D.hex.rgb=function(c){var v=c.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!v)return[0,0,0];var T=v[0];v[0].length===3&&(T=T.split("").map(function(ie){return ie+ie}).join(""));var A=parseInt(T,16),R=A>>16&255,V=A>>8&255,G=A&255;return[R,V,G]},D.rgb.hcg=function(c){var v=c[0]/255,T=c[1]/255,A=c[2]/255,R=Math.max(Math.max(v,T),A),V=Math.min(Math.min(v,T),A),G=R-V,ie,ae;return G<1?ie=V/(1-G):ie=0,G<=0?ae=0:R===v?ae=(T-A)/G%6:R===T?ae=2+(A-v)/G:ae=4+(v-T)/G+4,ae/=6,ae%=1,[ae*360,G*100,ie*100]},D.hsl.hcg=function(c){var v=c[1]/100,T=c[2]/100,A=1,R=0;return T<.5?A=2*v*T:A=2*v*(1-T),A<1&&(R=(T-.5*A)/(1-A)),[c[0],A*100,R*100]},D.hsv.hcg=function(c){var v=c[1]/100,T=c[2]/100,A=v*T,R=0;return A<1&&(R=(T-A)/(1-A)),[c[0],A*100,R*100]},D.hcg.rgb=function(c){var v=c[0]/360,T=c[1]/100,A=c[2]/100;if(T===0)return[A*255,A*255,A*255];var R=[0,0,0],V=v%1*6,G=V%1,ie=1-G,ae=0;switch(Math.floor(V)){case 0:R[0]=1,R[1]=G,R[2]=0;break;case 1:R[0]=ie,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=G;break;case 3:R[0]=0,R[1]=ie,R[2]=1;break;case 4:R[0]=G,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=ie}return ae=(1-T)*A,[(T*R[0]+ae)*255,(T*R[1]+ae)*255,(T*R[2]+ae)*255]},D.hcg.hsv=function(c){var v=c[1]/100,T=c[2]/100,A=v+T*(1-v),R=0;return A>0&&(R=v/A),[c[0],R*100,A*100]},D.hcg.hsl=function(c){var v=c[1]/100,T=c[2]/100,A=T*(1-v)+.5*v,R=0;return A>0&&A<.5?R=v/(2*A):A>=.5&&A<1&&(R=v/(2*(1-A))),[c[0],R*100,A*100]},D.hcg.hwb=function(c){var v=c[1]/100,T=c[2]/100,A=v+T*(1-v);return[c[0],(A-v)*100,(1-A)*100]},D.hwb.hcg=function(c){var v=c[1]/100,T=c[2]/100,A=1-T,R=A-v,V=0;return R<1&&(V=(A-R)/(1-R)),[c[0],R*100,V*100]},D.apple.rgb=function(c){return[c[0]/65535*255,c[1]/65535*255,c[2]/65535*255]},D.rgb.apple=function(c){return[c[0]/255*65535,c[1]/255*65535,c[2]/255*65535]},D.gray.rgb=function(c){return[c[0]/100*255,c[0]/100*255,c[0]/100*255]},D.gray.hsl=D.gray.hsv=function(c){return[0,0,c[0]]},D.gray.hwb=function(c){return[0,100,c[0]]},D.gray.cmyk=function(c){return[0,0,0,c[0]]},D.gray.lab=function(c){return[c[0],0,0]},D.gray.hex=function(c){var v=Math.round(c[0]/100*255)&255,T=(v<<16)+(v<<8)+v,A=T.toString(16).toUpperCase();return"000000".substring(A.length)+A},D.rgb.gray=function(c){var v=(c[0]+c[1]+c[2])/3;return[v/255*100]}});w.rgb,w.hsl,w.hsv,w.hwb,w.cmyk,w.xyz,w.lab,w.lch,w.hex,w.keyword,w.ansi16,w.ansi256,w.hcg,w.apple,w.gray;function l(){for(var u={},_=Object.keys(w),M=_.length,D=0;D<M;D++)u[_[D]]={distance:-1,parent:null};return u}function L(u){var _=l(),M=[u];for(_[u].distance=0;M.length;)for(var D=M.pop(),F=Object.keys(w[D]),Y=F.length,f=0;f<Y;f++){var i=F[f],c=_[i];c.distance===-1&&(c.distance=_[D].distance+1,c.parent=D,M.unshift(i))}return _}function H(u,_){return function(M){return _(u(M))}}function q(u,_){for(var M=[_[u].parent,u],D=w[_[u].parent][u],F=_[u].parent;_[F].parent;)M.unshift(_[F].parent),D=H(w[_[F].parent][F],D),F=_[F].parent;return D.conversion=M,D}var J=function(u){for(var _=L(u),M={},D=Object.keys(_),F=D.length,Y=0;Y<F;Y++){var f=D[Y],i=_[f];i.parent!==null&&(M[f]=q(f,_))}return M},oe={},de=Object.keys(w);function ye(u){var _=function(M){return M==null?M:(arguments.length>1&&(M=Array.prototype.slice.call(arguments)),u(M))};return"conversion"in u&&(_.conversion=u.conversion),_}function ne(u){var _=function(M){if(M==null)return M;arguments.length>1&&(M=Array.prototype.slice.call(arguments));var D=u(M);if(typeof D=="object")for(var F=D.length,Y=0;Y<F;Y++)D[Y]=Math.round(D[Y]);return D};return"conversion"in u&&(_.conversion=u.conversion),_}de.forEach(function(u){oe[u]={},Object.defineProperty(oe[u],"channels",{value:w[u].channels}),Object.defineProperty(oe[u],"labels",{value:w[u].labels});var _=J(u),M=Object.keys(_);M.forEach(function(D){var F=_[D];oe[u][D]=ne(F),oe[u][D].raw=ye(F)})});var X=oe,pe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ve={getRgba:me,getHsla:it,getRgb:Q,getHsl:Dt,getHwb:Ye,getAlpha:St,hexString:At,rgbString:ui,rgbaString:Ue,percentString:Pe,percentaString:De,hslString:te,hslaString:fe,hwbString:le,keyword:Se};function me(u){if(u){var _=/^#([a-fA-F0-9]{3,4})$/i,M=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,D=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,F=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,Y=/(\w+)/,f=[0,0,0],i=1,c=u.match(_),v="";if(c){c=c[1],v=c[3];for(var T=0;T<f.length;T++)f[T]=parseInt(c[T]+c[T],16);v&&(i=Math.round(parseInt(v+v,16)/255*100)/100)}else if(c=u.match(M)){v=c[2],c=c[1];for(var T=0;T<f.length;T++)f[T]=parseInt(c.slice(T*2,T*2+2),16);v&&(i=Math.round(parseInt(v,16)/255*100)/100)}else if(c=u.match(D)){for(var T=0;T<f.length;T++)f[T]=parseInt(c[T+1]);i=parseFloat(c[4])}else if(c=u.match(F)){for(var T=0;T<f.length;T++)f[T]=Math.round(parseFloat(c[T+1])*2.55);i=parseFloat(c[4])}else if(c=u.match(Y)){if(c[1]=="transparent")return[0,0,0,0];if(f=pe[c[1]],!f)return}for(var T=0;T<f.length;T++)f[T]=Re(f[T],0,255);return!i&&i!=0?i=1:i=Re(i,0,1),f[3]=i,f}}function it(u){if(u){var _=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,M=u.match(_);if(M){var D=parseFloat(M[4]),F=Re(parseInt(M[1]),0,360),Y=Re(parseFloat(M[2]),0,100),f=Re(parseFloat(M[3]),0,100),i=Re(isNaN(D)?1:D,0,1);return[F,Y,f,i]}}}function Ye(u){if(u){var _=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,M=u.match(_);if(M){var D=parseFloat(M[4]),F=Re(parseInt(M[1]),0,360),Y=Re(parseFloat(M[2]),0,100),f=Re(parseFloat(M[3]),0,100),i=Re(isNaN(D)?1:D,0,1);return[F,Y,f,i]}}}function Q(u){var _=me(u);return _&&_.slice(0,3)}function Dt(u){var _=it(u);return _&&_.slice(0,3)}function St(u){var _=me(u);if(_)return _[3];if(_=it(u))return _[3];if(_=Ye(u))return _[3]}function At(u,M){var M=M!==void 0&&u.length===3?M:u[3];return"#"+ot(u[0])+ot(u[1])+ot(u[2])+(M>=0&&M<1?ot(Math.round(M*255)):"")}function ui(u,_){return _<1||u[3]&&u[3]<1?Ue(u,_):"rgb("+u[0]+", "+u[1]+", "+u[2]+")"}function Ue(u,_){return _===void 0&&(_=u[3]!==void 0?u[3]:1),"rgba("+u[0]+", "+u[1]+", "+u[2]+", "+_+")"}function Pe(u,_){if(_<1||u[3]&&u[3]<1)return De(u,_);var M=Math.round(u[0]/255*100),D=Math.round(u[1]/255*100),F=Math.round(u[2]/255*100);return"rgb("+M+"%, "+D+"%, "+F+"%)"}function De(u,_){var M=Math.round(u[0]/255*100),D=Math.round(u[1]/255*100),F=Math.round(u[2]/255*100);return"rgba("+M+"%, "+D+"%, "+F+"%, "+(_||u[3]||1)+")"}function te(u,_){return _<1||u[3]&&u[3]<1?fe(u,_):"hsl("+u[0]+", "+u[1]+"%, "+u[2]+"%)"}function fe(u,_){return _===void 0&&(_=u[3]!==void 0?u[3]:1),"hsla("+u[0]+", "+u[1]+"%, "+u[2]+"%, "+_+")"}function le(u,_){return _===void 0&&(_=u[3]!==void 0?u[3]:1),"hwb("+u[0]+", "+u[1]+"%, "+u[2]+"%"+(_!==void 0&&_!==1?", "+_:"")+")"}function Se(u){return ht[u.slice(0,3)]}function Re(u,_,M){return Math.min(Math.max(_,u),M)}function ot(u){var _=u.toString(16).toUpperCase();return _.length<2?"0"+_:_}var ht={};for(var Pt in pe)ht[pe[Pt]]=Pt;var Ne=function(u){if(u instanceof Ne)return u;if(!(this instanceof Ne))return new Ne(u);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var _;typeof u=="string"?(_=ve.getRgba(u),_?this.setValues("rgb",_):(_=ve.getHsla(u))?this.setValues("hsl",_):(_=ve.getHwb(u))&&this.setValues("hwb",_)):typeof u=="object"&&(_=u,_.r!==void 0||_.red!==void 0?this.setValues("rgb",_):_.l!==void 0||_.lightness!==void 0?this.setValues("hsl",_):_.v!==void 0||_.value!==void 0?this.setValues("hsv",_):_.w!==void 0||_.whiteness!==void 0?this.setValues("hwb",_):(_.c!==void 0||_.cyan!==void 0)&&this.setValues("cmyk",_))};Ne.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var u=this.values;return u.alpha!==1?u.hwb.concat([u.alpha]):u.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var u=this.values;return u.rgb.concat([u.alpha])},hslaArray:function(){var u=this.values;return u.hsl.concat([u.alpha])},alpha:function(u){return u===void 0?this.values.alpha:(this.setValues("alpha",u),this)},red:function(u){return this.setChannel("rgb",0,u)},green:function(u){return this.setChannel("rgb",1,u)},blue:function(u){return this.setChannel("rgb",2,u)},hue:function(u){return u&&(u%=360,u=u<0?360+u:u),this.setChannel("hsl",0,u)},saturation:function(u){return this.setChannel("hsl",1,u)},lightness:function(u){return this.setChannel("hsl",2,u)},saturationv:function(u){return this.setChannel("hsv",1,u)},whiteness:function(u){return this.setChannel("hwb",1,u)},blackness:function(u){return this.setChannel("hwb",2,u)},value:function(u){return this.setChannel("hsv",2,u)},cyan:function(u){return this.setChannel("cmyk",0,u)},magenta:function(u){return this.setChannel("cmyk",1,u)},yellow:function(u){return this.setChannel("cmyk",2,u)},black:function(u){return this.setChannel("cmyk",3,u)},hexString:function(){return ve.hexString(this.values.rgb)},rgbString:function(){return ve.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return ve.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return ve.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return ve.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return ve.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return ve.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return ve.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var u=this.values.rgb;return u[0]<<16|u[1]<<8|u[2]},luminosity:function(){for(var u=this.values.rgb,_=[],M=0;M<u.length;M++){var D=u[M]/255;_[M]=D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4)}return .2126*_[0]+.7152*_[1]+.0722*_[2]},contrast:function(u){var _=this.luminosity(),M=u.luminosity();return _>M?(_+.05)/(M+.05):(M+.05)/(_+.05)},level:function(u){var _=this.contrast(u);return _>=7.1?"AAA":_>=4.5?"AA":""},dark:function(){var u=this.values.rgb,_=(u[0]*299+u[1]*587+u[2]*114)/1e3;return _<128},light:function(){return!this.dark()},negate:function(){for(var u=[],_=0;_<3;_++)u[_]=255-this.values.rgb[_];return this.setValues("rgb",u),this},lighten:function(u){var _=this.values.hsl;return _[2]+=_[2]*u,this.setValues("hsl",_),this},darken:function(u){var _=this.values.hsl;return _[2]-=_[2]*u,this.setValues("hsl",_),this},saturate:function(u){var _=this.values.hsl;return _[1]+=_[1]*u,this.setValues("hsl",_),this},desaturate:function(u){var _=this.values.hsl;return _[1]-=_[1]*u,this.setValues("hsl",_),this},whiten:function(u){var _=this.values.hwb;return _[1]+=_[1]*u,this.setValues("hwb",_),this},blacken:function(u){var _=this.values.hwb;return _[2]+=_[2]*u,this.setValues("hwb",_),this},greyscale:function(){var u=this.values.rgb,_=u[0]*.3+u[1]*.59+u[2]*.11;return this.setValues("rgb",[_,_,_]),this},clearer:function(u){var _=this.values.alpha;return this.setValues("alpha",_-_*u),this},opaquer:function(u){var _=this.values.alpha;return this.setValues("alpha",_+_*u),this},rotate:function(u){var _=this.values.hsl,M=(_[0]+u)%360;return _[0]=M<0?360+M:M,this.setValues("hsl",_),this},mix:function(u,_){var M=this,D=u,F=_===void 0?.5:_,Y=2*F-1,f=M.alpha()-D.alpha(),i=((Y*f===-1?Y:(Y+f)/(1+Y*f))+1)/2,c=1-i;return this.rgb(i*M.red()+c*D.red(),i*M.green()+c*D.green(),i*M.blue()+c*D.blue()).alpha(M.alpha()*F+D.alpha()*(1-F))},toJSON:function(){return this.rgb()},clone:function(){var u=new Ne,_=this.values,M=u.values,D,F;for(var Y in _)_.hasOwnProperty(Y)&&(D=_[Y],F={}.toString.call(D),F==="[object Array]"?M[Y]=D.slice(0):F==="[object Number]"?M[Y]=D:console.error("unexpected color value:",D));return u}},Ne.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Ne.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Ne.prototype.getValues=function(u){for(var _=this.values,M={},D=0;D<u.length;D++)M[u.charAt(D)]=_[u][D];return _.alpha!==1&&(M.a=_.alpha),M},Ne.prototype.setValues=function(u,_){var M=this.values,D=this.spaces,F=this.maxes,Y=1,f;if(this.valid=!0,u==="alpha")Y=_;else if(_.length)M[u]=_.slice(0,u.length),Y=_[u.length];else if(_[u.charAt(0)]!==void 0){for(f=0;f<u.length;f++)M[u][f]=_[u.charAt(f)];Y=_.a}else if(_[D[u][0]]!==void 0){var i=D[u];for(f=0;f<u.length;f++)M[u][f]=_[i[f]];Y=_.alpha}if(M.alpha=Math.max(0,Math.min(1,Y===void 0?M.alpha:Y)),u==="alpha")return!1;var c;for(f=0;f<u.length;f++)c=Math.max(0,Math.min(F[u][f],M[u][f])),M[u][f]=Math.round(c);for(var v in D)v!==u&&(M[v]=X[u][v](M[u]));return!0},Ne.prototype.setSpace=function(u,_){var M=_[0];return M===void 0?this.getValues(u):(typeof M=="number"&&(M=Array.prototype.slice.call(_)),this.setValues(u,M),this)},Ne.prototype.setChannel=function(u,_,M){var D=this.values[u];return M===void 0?D[_]:M===D[_]?this:(D[_]=M,this.setValues(u,D),this)},typeof window<"u"&&(window.Color=Ne);var Ze=Ne;function Ie(u){return["__proto__","prototype","constructor"].indexOf(u)===-1}var We={noop:function(){},uid:function(){var u=0;return function(){return u++}}(),isNullOrUndef:function(u){return u===null||typeof u>"u"},isArray:function(u){if(Array.isArray&&Array.isArray(u))return!0;var _=Object.prototype.toString.call(u);return _.substr(0,7)==="[object"&&_.substr(-6)==="Array]"},isObject:function(u){return u!==null&&Object.prototype.toString.call(u)==="[object Object]"},isFinite:function(u){return(typeof u=="number"||u instanceof Number)&&isFinite(u)},valueOrDefault:function(u,_){return typeof u>"u"?_:u},valueAtIndexOrDefault:function(u,_,M){return We.valueOrDefault(We.isArray(u)?u[_]:u,M)},callback:function(u,_,M){if(u&&typeof u.call=="function")return u.apply(M,_)},each:function(u,_,M,D){var F,Y,f;if(We.isArray(u))if(Y=u.length,D)for(F=Y-1;F>=0;F--)_.call(M,u[F],F);else for(F=0;F<Y;F++)_.call(M,u[F],F);else if(We.isObject(u))for(f=Object.keys(u),Y=f.length,F=0;F<Y;F++)_.call(M,u[f[F]],f[F])},arrayEquals:function(u,_){var M,D,F,Y;if(!u||!_||u.length!==_.length)return!1;for(M=0,D=u.length;M<D;++M)if(F=u[M],Y=_[M],F instanceof Array&&Y instanceof Array){if(!We.arrayEquals(F,Y))return!1}else if(F!==Y)return!1;return!0},clone:function(u){if(We.isArray(u))return u.map(We.clone);if(We.isObject(u)){for(var _=Object.create(u),M=Object.keys(u),D=M.length,F=0;F<D;++F)_[M[F]]=We.clone(u[M[F]]);return _}return u},_merger:function(u,_,M,D){if(Ie(u)){var F=_[u],Y=M[u];We.isObject(F)&&We.isObject(Y)?We.merge(F,Y,D):_[u]=We.clone(Y)}},_mergerIf:function(u,_,M){if(Ie(u)){var D=_[u],F=M[u];We.isObject(D)&&We.isObject(F)?We.mergeIf(D,F):_.hasOwnProperty(u)||(_[u]=We.clone(F))}},merge:function(u,_,M){var D=We.isArray(_)?_:[_],F=D.length,Y,f,i,c,v;if(!We.isObject(u))return u;for(M=M||{},Y=M.merger||We._merger,f=0;f<F;++f)if(_=D[f],!!We.isObject(_))for(i=Object.keys(_),v=0,c=i.length;v<c;++v)Y(i[v],u,_,M);return u},mergeIf:function(u,_){return We.merge(u,_,{merger:We._mergerIf})},extend:Object.assign||function(u){return We.merge(u,[].slice.call(arguments,1),{merger:function(_,M,D){M[_]=D[_]}})},inherits:function(u){var _=this,M=u&&u.hasOwnProperty("constructor")?u.constructor:function(){return _.apply(this,arguments)},D=function(){this.constructor=M};return D.prototype=_.prototype,M.prototype=new D,M.extend=We.inherits,u&&We.extend(M.prototype,u),M.__super__=_.prototype,M},_deprecated:function(u,_,M,D){_!==void 0&&console.warn(u+': "'+M+'" is deprecated. Please use "'+D+'" instead')}},rt=We;We.callCallback=We.callback,We.indexOf=function(u,_,M){return Array.prototype.indexOf.call(u,_,M)},We.getValueOrDefault=We.valueOrDefault,We.getValueAtIndexOrDefault=We.valueAtIndexOrDefault;var Ot={linear:function(u){return u},easeInQuad:function(u){return u*u},easeOutQuad:function(u){return-u*(u-2)},easeInOutQuad:function(u){return(u/=.5)<1?.5*u*u:-.5*(--u*(u-2)-1)},easeInCubic:function(u){return u*u*u},easeOutCubic:function(u){return(u=u-1)*u*u+1},easeInOutCubic:function(u){return(u/=.5)<1?.5*u*u*u:.5*((u-=2)*u*u+2)},easeInQuart:function(u){return u*u*u*u},easeOutQuart:function(u){return-((u=u-1)*u*u*u-1)},easeInOutQuart:function(u){return(u/=.5)<1?.5*u*u*u*u:-.5*((u-=2)*u*u*u-2)},easeInQuint:function(u){return u*u*u*u*u},easeOutQuint:function(u){return(u=u-1)*u*u*u*u+1},easeInOutQuint:function(u){return(u/=.5)<1?.5*u*u*u*u*u:.5*((u-=2)*u*u*u*u+2)},easeInSine:function(u){return-Math.cos(u*(Math.PI/2))+1},easeOutSine:function(u){return Math.sin(u*(Math.PI/2))},easeInOutSine:function(u){return-.5*(Math.cos(Math.PI*u)-1)},easeInExpo:function(u){return u===0?0:Math.pow(2,10*(u-1))},easeOutExpo:function(u){return u===1?1:-Math.pow(2,-10*u)+1},easeInOutExpo:function(u){return u===0?0:u===1?1:(u/=.5)<1?.5*Math.pow(2,10*(u-1)):.5*(-Math.pow(2,-10*--u)+2)},easeInCirc:function(u){return u>=1?u:-(Math.sqrt(1-u*u)-1)},easeOutCirc:function(u){return Math.sqrt(1-(u=u-1)*u)},easeInOutCirc:function(u){return(u/=.5)<1?-.5*(Math.sqrt(1-u*u)-1):.5*(Math.sqrt(1-(u-=2)*u)+1)},easeInElastic:function(u){var _=1.70158,M=0,D=1;return u===0?0:u===1?1:(M||(M=.3),_=M/(2*Math.PI)*Math.asin(1/D),-(D*Math.pow(2,10*(u-=1))*Math.sin((u-_)*(2*Math.PI)/M)))},easeOutElastic:function(u){var _=1.70158,M=0,D=1;return u===0?0:u===1?1:(M||(M=.3),_=M/(2*Math.PI)*Math.asin(1/D),D*Math.pow(2,-10*u)*Math.sin((u-_)*(2*Math.PI)/M)+1)},easeInOutElastic:function(u){var _=1.70158,M=0,D=1;return u===0?0:(u/=.5)===2?1:(M||(M=.45),_=M/(2*Math.PI)*Math.asin(1/D),u<1?-.5*(D*Math.pow(2,10*(u-=1))*Math.sin((u-_)*(2*Math.PI)/M)):D*Math.pow(2,-10*(u-=1))*Math.sin((u-_)*(2*Math.PI)/M)*.5+1)},easeInBack:function(u){var _=1.70158;return u*u*((_+1)*u-_)},easeOutBack:function(u){var _=1.70158;return(u=u-1)*u*((_+1)*u+_)+1},easeInOutBack:function(u){var _=1.70158;return(u/=.5)<1?.5*(u*u*(((_*=1.525)+1)*u-_)):.5*((u-=2)*u*(((_*=1.525)+1)*u+_)+2)},easeInBounce:function(u){return 1-Ot.easeOutBounce(1-u)},easeOutBounce:function(u){return u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375},easeInOutBounce:function(u){return u<.5?Ot.easeInBounce(u*2)*.5:Ot.easeOutBounce(u*2-1)*.5+.5}},hi={effects:Ot};rt.easingEffects=Ot;var gi=Math.PI,Li=gi/180,ur=gi*2,Vt=gi/2,wi=gi/4,Mi=gi*2/3,Ji={clear:function(u){u.ctx.clearRect(0,0,u.width,u.height)},roundedRect:function(u,_,M,D,F,Y){if(Y){var f=Math.min(Y,F/2,D/2),i=_+f,c=M+f,v=_+D-f,T=M+F-f;u.moveTo(_,c),i<v&&c<T?(u.arc(i,c,f,-gi,-Vt),u.arc(v,c,f,-Vt,0),u.arc(v,T,f,0,Vt),u.arc(i,T,f,Vt,gi)):i<v?(u.moveTo(i,M),u.arc(v,c,f,-Vt,Vt),u.arc(i,c,f,Vt,gi+Vt)):c<T?(u.arc(i,c,f,-gi,0),u.arc(i,T,f,0,gi)):u.arc(i,c,f,-gi,gi),u.closePath(),u.moveTo(_,M)}else u.rect(_,M,D,F)},drawPoint:function(u,_,M,D,F,Y){var f,i,c,v,T,A=(Y||0)*Li;if(_&&typeof _=="object"&&(f=_.toString(),f==="[object HTMLImageElement]"||f==="[object HTMLCanvasElement]")){u.save(),u.translate(D,F),u.rotate(A),u.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),u.restore();return}if(!(isNaN(M)||M<=0)){switch(u.beginPath(),_){default:u.arc(D,F,M,0,ur),u.closePath();break;case"triangle":u.moveTo(D+Math.sin(A)*M,F-Math.cos(A)*M),A+=Mi,u.lineTo(D+Math.sin(A)*M,F-Math.cos(A)*M),A+=Mi,u.lineTo(D+Math.sin(A)*M,F-Math.cos(A)*M),u.closePath();break;case"rectRounded":T=M*.516,v=M-T,i=Math.cos(A+wi)*v,c=Math.sin(A+wi)*v,u.arc(D-i,F-c,T,A-gi,A-Vt),u.arc(D+c,F-i,T,A-Vt,A),u.arc(D+i,F+c,T,A,A+Vt),u.arc(D-c,F+i,T,A+Vt,A+gi),u.closePath();break;case"rect":if(!Y){v=Math.SQRT1_2*M,u.rect(D-v,F-v,2*v,2*v);break}A+=wi;case"rectRot":i=Math.cos(A)*M,c=Math.sin(A)*M,u.moveTo(D-i,F-c),u.lineTo(D+c,F-i),u.lineTo(D+i,F+c),u.lineTo(D-c,F+i),u.closePath();break;case"crossRot":A+=wi;case"cross":i=Math.cos(A)*M,c=Math.sin(A)*M,u.moveTo(D-i,F-c),u.lineTo(D+i,F+c),u.moveTo(D+c,F-i),u.lineTo(D-c,F+i);break;case"star":i=Math.cos(A)*M,c=Math.sin(A)*M,u.moveTo(D-i,F-c),u.lineTo(D+i,F+c),u.moveTo(D+c,F-i),u.lineTo(D-c,F+i),A+=wi,i=Math.cos(A)*M,c=Math.sin(A)*M,u.moveTo(D-i,F-c),u.lineTo(D+i,F+c),u.moveTo(D+c,F-i),u.lineTo(D-c,F+i);break;case"line":i=Math.cos(A)*M,c=Math.sin(A)*M,u.moveTo(D-i,F-c),u.lineTo(D+i,F+c);break;case"dash":u.moveTo(D,F),u.lineTo(D+Math.cos(A)*M,F+Math.sin(A)*M);break}u.fill(),u.stroke()}},_isPointInArea:function(u,_){var M=1e-6;return u.x>_.left-M&&u.x<_.right+M&&u.y>_.top-M&&u.y<_.bottom+M},clipArea:function(u,_){u.save(),u.beginPath(),u.rect(_.left,_.top,_.right-_.left,_.bottom-_.top),u.clip()},unclipArea:function(u){u.restore()},lineTo:function(u,_,M,D){var F=M.steppedLine;if(F){if(F==="middle"){var Y=(_.x+M.x)/2;u.lineTo(Y,D?M.y:_.y),u.lineTo(Y,D?_.y:M.y)}else F==="after"&&!D||F!=="after"&&D?u.lineTo(_.x,M.y):u.lineTo(M.x,_.y);u.lineTo(M.x,M.y);return}if(!M.tension){u.lineTo(M.x,M.y);return}u.bezierCurveTo(D?_.controlPointPreviousX:_.controlPointNextX,D?_.controlPointPreviousY:_.controlPointNextY,D?M.controlPointNextX:M.controlPointPreviousX,D?M.controlPointNextY:M.controlPointPreviousY,M.x,M.y)}},Ei=Ji;rt.clear=Ji.clear,rt.drawRoundedRectangle=function(u){u.beginPath(),Ji.roundedRect.apply(Ji,arguments)};var Xi={_set:function(u,_){return rt.merge(this[u]||(this[u]={}),_)}};Xi._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Fi=Xi,Lr=rt.valueOrDefault;function Vr(u){return!u||rt.isNullOrUndef(u.size)||rt.isNullOrUndef(u.family)?null:(u.style?u.style+" ":"")+(u.weight?u.weight+" ":"")+u.size+"px "+u.family}var si={toLineHeight:function(u,_){var M=(""+u).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!M||M[1]==="normal")return _*1.2;switch(u=+M[2],M[3]){case"px":return u;case"%":u/=100;break}return _*u},toPadding:function(u){var _,M,D,F;return rt.isObject(u)?(_=+u.top||0,M=+u.right||0,D=+u.bottom||0,F=+u.left||0):_=M=D=F=+u||0,{top:_,right:M,bottom:D,left:F,height:_+D,width:F+M}},_parseFont:function(u){var _=Fi.global,M=Lr(u.fontSize,_.defaultFontSize),D={family:Lr(u.fontFamily,_.defaultFontFamily),lineHeight:rt.options.toLineHeight(Lr(u.lineHeight,_.defaultLineHeight),M),size:M,style:Lr(u.fontStyle,_.defaultFontStyle),weight:null,string:""};return D.string=Vr(D),D},resolve:function(u,_,M,D){var F=!0,Y,f,i;for(Y=0,f=u.length;Y<f;++Y)if(i=u[Y],i!==void 0&&(_!==void 0&&typeof i=="function"&&(i=i(_),F=!1),M!==void 0&&rt.isArray(i)&&(i=i[M],F=!1),i!==void 0))return D&&!F&&(D.cacheable=!1),i}},tr={_factorize:function(u){var _=[],M=Math.sqrt(u),D;for(D=1;D<M;D++)u%D===0&&(_.push(D),_.push(u/D));return M===(M|0)&&_.push(M),_.sort(function(F,Y){return F-Y}).pop(),_},log10:Math.log10||function(u){var _=Math.log(u)*Math.LOG10E,M=Math.round(_),D=u===Math.pow(10,M);return D?M:_}},yr=tr;rt.log10=tr.log10;var ar=function(u,_){return{x:function(M){return u+u+_-M},setWidth:function(M){_=M},textAlign:function(M){return M==="center"?M:M==="right"?"left":"right"},xPlus:function(M,D){return M-D},leftForLtr:function(M,D){return M-D}}},Ir=function(){return{x:function(u){return u},setWidth:function(u){},textAlign:function(u){return u},xPlus:function(u,_){return u+_},leftForLtr:function(u,_){return u}}},Ar=function(u,_,M){return u?ar(_,M):Ir()},En=function(u,_){var M,D;(_==="ltr"||_==="rtl")&&(M=u.canvas.style,D=[M.getPropertyValue("direction"),M.getPropertyPriority("direction")],M.setProperty("direction",_,"important"),u.prevTextDirection=D)},kn=function(u){var _=u.prevTextDirection;_!==void 0&&(delete u.prevTextDirection,u.canvas.style.setProperty("direction",_[0],_[1]))},oa={getRtlAdapter:Ar,overrideTextDirection:En,restoreTextDirection:kn},Ge=rt,ma=hi,ra=Ei,mn=si,na=yr,Ua=oa;Ge.easing=ma,Ge.canvas=ra,Ge.options=mn,Ge.math=na,Ge.rtl=Ua;function jn(u,_,M,D){var F=Object.keys(M),Y,f,i,c,v,T,A,R,V;for(Y=0,f=F.length;Y<f;++Y)if(i=F[Y],T=M[i],_.hasOwnProperty(i)||(_[i]=T),c=_[i],!(c===T||i[0]==="_")){if(u.hasOwnProperty(i)||(u[i]=c),v=u[i],A=typeof T,A===typeof v){if(A==="string"){if(R=Ze(v),R.valid&&(V=Ze(T),V.valid)){_[i]=V.mix(R,D).rgbString();continue}}else if(Ge.isFinite(v)&&Ge.isFinite(T)){_[i]=v+(T-v)*D;continue}}_[i]=T}}var gn=function(u){Ge.extend(this,u),this.initialize.apply(this,arguments)};Ge.extend(gn.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var u=this;return u._view||(u._view=Ge.extend({},u._model)),u._start={},u},transition:function(u){var _=this,M=_._model,D=_._start,F=_._view;return!M||u===1?(_._view=Ge.extend({},M),_._start=null,_):(F||(F=_._view={}),D||(D=_._start={}),jn(D,F,M,u),_)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Ge.isNumber(this._model.x)&&Ge.isNumber(this._model.y)}}),gn.extend=Ge.inherits;var qr=gn,Pa=qr.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Oa=Pa;Object.defineProperty(Pa.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Pa.prototype,"chartInstance",{get:function(){return this.chart},set:function(u){this.chart=u}}),Fi._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Ge.noop,onComplete:Ge.noop}});var Ur={animations:[],request:null,addAnimation:function(u,_,M,D){var F=this.animations,Y,f;for(_.chart=u,_.startTime=Date.now(),_.duration=M,D||(u.animating=!0),Y=0,f=F.length;Y<f;++Y)if(F[Y].chart===u){F[Y]=_;return}F.push(_),F.length===1&&this.requestAnimationFrame()},cancelAnimation:function(u){var _=Ge.findIndex(this.animations,function(M){return M.chart===u});_!==-1&&(this.animations.splice(_,1),u.animating=!1)},requestAnimationFrame:function(){var u=this;u.request===null&&(u.request=Ge.requestAnimFrame.call(window,function(){u.request=null,u.startDigest()}))},startDigest:function(){var u=this;u.advance(),u.animations.length>0&&u.requestAnimationFrame()},advance:function(){for(var u=this.animations,_,M,D,F,Y=0;Y<u.length;)_=u[Y],M=_.chart,D=_.numSteps,F=Math.floor((Date.now()-_.startTime)/_.duration*D)+1,_.currentStep=Math.min(F,D),Ge.callback(_.render,[M,_],M),Ge.callback(_.onAnimationProgress,[_],M),_.currentStep>=D?(Ge.callback(_.onAnimationComplete,[_],M),M.animating=!1,u.splice(Y,1)):++Y}},Vn=Ge.options.resolve,cs=["push","pop","shift","splice","unshift"];function ga(u,_){if(u._chartjs){u._chartjs.listeners.push(_);return}Object.defineProperty(u,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[_]}}),cs.forEach(function(M){var D="onData"+M.charAt(0).toUpperCase()+M.slice(1),F=u[M];Object.defineProperty(u,M,{configurable:!0,enumerable:!1,value:function(){var Y=Array.prototype.slice.call(arguments),f=F.apply(this,Y);return Ge.each(u._chartjs.listeners,function(i){typeof i[D]=="function"&&i[D].apply(i,Y)}),f}})})}function Xn(u,_){var M=u._chartjs;if(M){var D=M.listeners,F=D.indexOf(_);F!==-1&&D.splice(F,1),!(D.length>0)&&(cs.forEach(function(Y){delete u[Y]}),delete u._chartjs)}}var Ga=function(u,_){this.initialize(u,_)};Ge.extend(Ga.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(u,_){var M=this;M.chart=u,M.index=_,M.linkScales(),M.addElements(),M._type=M.getMeta().type},updateIndex:function(u){this.index=u},linkScales:function(){var u=this,_=u.getMeta(),M=u.chart,D=M.scales,F=u.getDataset(),Y=M.options.scales;(_.xAxisID===null||!(_.xAxisID in D)||F.xAxisID)&&(_.xAxisID=F.xAxisID||Y.xAxes[0].id),(_.yAxisID===null||!(_.yAxisID in D)||F.yAxisID)&&(_.yAxisID=F.yAxisID||Y.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(u){return this.chart.scales[u]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Xn(this._data,this)},createMetaDataset:function(){var u=this,_=u.datasetElementType;return _&&new _({_chart:u.chart,_datasetIndex:u.index})},createMetaData:function(u){var _=this,M=_.dataElementType;return M&&new M({_chart:_.chart,_datasetIndex:_.index,_index:u})},addElements:function(){var u=this,_=u.getMeta(),M=u.getDataset().data||[],D=_.data,F,Y;for(F=0,Y=M.length;F<Y;++F)D[F]=D[F]||u.createMetaData(F);_.dataset=_.dataset||u.createMetaDataset()},addElementAndReset:function(u){var _=this.createMetaData(u);this.getMeta().data.splice(u,0,_),this.updateElement(_,u,!0)},buildOrUpdateElements:function(){var u=this,_=u.getDataset(),M=_.data||(_.data=[]);u._data!==M&&(u._data&&Xn(u._data,u),M&&Object.isExtensible(M)&&ga(M,u),u._data=M),u.resyncElements()},_configure:function(){var u=this;u._config=Ge.merge(Object.create(null),[u.chart.options.datasets[u._type],u.getDataset()],{merger:function(_,M,D){_!=="_meta"&&_!=="data"&&Ge._merger(_,M,D)}})},_update:function(u){var _=this;_._configure(),_._cachedDataOpts=null,_.update(u)},update:Ge.noop,transition:function(u){for(var _=this.getMeta(),M=_.data||[],D=M.length,F=0;F<D;++F)M[F].transition(u);_.dataset&&_.dataset.transition(u)},draw:function(){var u=this.getMeta(),_=u.data||[],M=_.length,D=0;for(u.dataset&&u.dataset.draw();D<M;++D)_[D].draw()},getStyle:function(u){var _=this,M=_.getMeta(),D=M.dataset,F;return _._configure(),D&&u===void 0?F=_._resolveDatasetElementOptions(D||{}):(u=u||0,F=_._resolveDataElementOptions(M.data[u]||{},u)),(F.fill===!1||F.fill===null)&&(F.backgroundColor=F.borderColor),F},_resolveDatasetElementOptions:function(u,_){var M=this,D=M.chart,F=M._config,Y=u.custom||{},f=D.options.elements[M.datasetElementType.prototype._type]||{},i=M._datasetElementOptions,c={},v,T,A,R,V={chart:D,dataset:M.getDataset(),datasetIndex:M.index,hover:_};for(v=0,T=i.length;v<T;++v)A=i[v],R=_?"hover"+A.charAt(0).toUpperCase()+A.slice(1):A,c[A]=Vn([Y[R],F[R],f[R]],V);return c},_resolveDataElementOptions:function(u,_){var M=this,D=u&&u.custom,F=M._cachedDataOpts;if(F&&!D)return F;var Y=M.chart,f=M._config,i=Y.options.elements[M.dataElementType.prototype._type]||{},c=M._dataElementOptions,v={},T={chart:Y,dataIndex:_,dataset:M.getDataset(),datasetIndex:M.index},A={cacheable:!D},R,V,G,ie;if(D=D||{},Ge.isArray(c))for(V=0,G=c.length;V<G;++V)ie=c[V],v[ie]=Vn([D[ie],f[ie],i[ie]],T,_,A);else for(R=Object.keys(c),V=0,G=R.length;V<G;++V)ie=R[V],v[ie]=Vn([D[ie],f[c[ie]],f[ie],i[ie]],T,_,A);return A.cacheable&&(M._cachedDataOpts=Object.freeze(v)),v},removeHoverStyle:function(u){Ge.merge(u._model,u.$previousStyle||{}),delete u.$previousStyle},setHoverStyle:function(u){var _=this.chart.data.datasets[u._datasetIndex],M=u._index,D=u.custom||{},F=u._model,Y=Ge.getHoverColor;u.$previousStyle={backgroundColor:F.backgroundColor,borderColor:F.borderColor,borderWidth:F.borderWidth},F.backgroundColor=Vn([D.hoverBackgroundColor,_.hoverBackgroundColor,Y(F.backgroundColor)],void 0,M),F.borderColor=Vn([D.hoverBorderColor,_.hoverBorderColor,Y(F.borderColor)],void 0,M),F.borderWidth=Vn([D.hoverBorderWidth,_.hoverBorderWidth,F.borderWidth],void 0,M)},_removeDatasetHoverStyle:function(){var u=this.getMeta().dataset;u&&this.removeHoverStyle(u)},_setDatasetHoverStyle:function(){var u=this.getMeta().dataset,_={},M,D,F,Y,f,i;if(u){for(i=u._model,f=this._resolveDatasetElementOptions(u,!0),Y=Object.keys(f),M=0,D=Y.length;M<D;++M)F=Y[M],_[F]=i[F],i[F]=f[F];u.$previousStyle=_}},resyncElements:function(){var u=this,_=u.getMeta(),M=u.getDataset().data,D=_.data.length,F=M.length;F<D?_.data.splice(F,D-F):F>D&&u.insertElements(D,F-D)},insertElements:function(u,_){for(var M=0;M<_;++M)this.addElementAndReset(u+M)},onDataPush:function(){var u=arguments.length;this.insertElements(this.getDataset().data.length-u,u)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(u,_){this.getMeta().data.splice(u,_),this.insertElements(u,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Ga.extend=Ge.inherits;var tn=Ga,Br=Math.PI*2;Fi._set("global",{elements:{arc:{backgroundColor:Fi.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function Zn(u,_){var M=_.startAngle,D=_.endAngle,F=_.pixelMargin,Y=F/_.outerRadius,f=_.x,i=_.y;u.beginPath(),u.arc(f,i,_.outerRadius,M-Y,D+Y),_.innerRadius>F?(Y=F/_.innerRadius,u.arc(f,i,_.innerRadius-F,D+Y,M-Y,!0)):u.arc(f,i,F,D+Math.PI/2,M-Math.PI/2),u.closePath(),u.clip()}function ut(u,_,M,D){var F=M.endAngle,Y;for(D&&(M.endAngle=M.startAngle+Br,Zn(u,M),M.endAngle=F,M.endAngle===M.startAngle&&M.fullCircles&&(M.endAngle+=Br,M.fullCircles--)),u.beginPath(),u.arc(M.x,M.y,M.innerRadius,M.startAngle+Br,M.startAngle,!0),Y=0;Y<M.fullCircles;++Y)u.stroke();for(u.beginPath(),u.arc(M.x,M.y,_.outerRadius,M.startAngle,M.startAngle+Br),Y=0;Y<M.fullCircles;++Y)u.stroke()}function Ce(u,_,M){var D=_.borderAlign==="inner";D?(u.lineWidth=_.borderWidth*2,u.lineJoin="round"):(u.lineWidth=_.borderWidth,u.lineJoin="bevel"),M.fullCircles&&ut(u,_,M,D),D&&Zn(u,M),u.beginPath(),u.arc(M.x,M.y,_.outerRadius,M.startAngle,M.endAngle),u.arc(M.x,M.y,M.innerRadius,M.endAngle,M.startAngle,!0),u.closePath(),u.stroke()}var je=qr.extend({_type:"arc",inLabelRange:function(u){var _=this._view;return _?Math.pow(u-_.x,2)<Math.pow(_.radius+_.hoverRadius,2):!1},inRange:function(u,_){var M=this._view;if(M){for(var D=Ge.getAngleFromPoint(M,{x:u,y:_}),F=D.angle,Y=D.distance,f=M.startAngle,i=M.endAngle;i<f;)i+=Br;for(;F>i;)F-=Br;for(;F<f;)F+=Br;var c=F>=f&&F<=i,v=Y>=M.innerRadius&&Y<=M.outerRadius;return c&&v}return!1},getCenterPoint:function(){var u=this._view,_=(u.startAngle+u.endAngle)/2,M=(u.innerRadius+u.outerRadius)/2;return{x:u.x+Math.cos(_)*M,y:u.y+Math.sin(_)*M}},getArea:function(){var u=this._view;return Math.PI*((u.endAngle-u.startAngle)/(2*Math.PI))*(Math.pow(u.outerRadius,2)-Math.pow(u.innerRadius,2))},tooltipPosition:function(){var u=this._view,_=u.startAngle+(u.endAngle-u.startAngle)/2,M=(u.outerRadius-u.innerRadius)/2+u.innerRadius;return{x:u.x+Math.cos(_)*M,y:u.y+Math.sin(_)*M}},draw:function(){var u=this._chart.ctx,_=this._view,M=_.borderAlign==="inner"?.33:0,D={x:_.x,y:_.y,innerRadius:_.innerRadius,outerRadius:Math.max(_.outerRadius-M,0),pixelMargin:M,startAngle:_.startAngle,endAngle:_.endAngle,fullCircles:Math.floor(_.circumference/Br)},F;if(u.save(),u.fillStyle=_.backgroundColor,u.strokeStyle=_.borderColor,D.fullCircles){for(D.endAngle=D.startAngle+Br,u.beginPath(),u.arc(D.x,D.y,D.outerRadius,D.startAngle,D.endAngle),u.arc(D.x,D.y,D.innerRadius,D.endAngle,D.startAngle,!0),u.closePath(),F=0;F<D.fullCircles;++F)u.fill();D.endAngle=D.startAngle+_.circumference%Br}u.beginPath(),u.arc(D.x,D.y,D.outerRadius,D.startAngle,D.endAngle),u.arc(D.x,D.y,D.innerRadius,D.endAngle,D.startAngle,!0),u.closePath(),u.fill(),_.borderWidth&&Ce(u,_,D),u.restore()}}),ct=Ge.valueOrDefault,mt=Fi.global.defaultColor;Fi._set("global",{elements:{line:{tension:.4,backgroundColor:mt,borderWidth:3,borderColor:mt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var It=qr.extend({_type:"line",draw:function(){var u=this,_=u._view,M=u._chart.ctx,D=_.spanGaps,F=u._children.slice(),Y=Fi.global,f=Y.elements.line,i=-1,c=u._loop,v,T,A;if(F.length){if(u._loop){for(v=0;v<F.length;++v)if(T=Ge.previousItem(F,v),!F[v]._view.skip&&T._view.skip){F=F.slice(v).concat(F.slice(0,v)),c=D;break}c&&F.push(F[0])}for(M.save(),M.lineCap=_.borderCapStyle||f.borderCapStyle,M.setLineDash&&M.setLineDash(_.borderDash||f.borderDash),M.lineDashOffset=ct(_.borderDashOffset,f.borderDashOffset),M.lineJoin=_.borderJoinStyle||f.borderJoinStyle,M.lineWidth=ct(_.borderWidth,f.borderWidth),M.strokeStyle=_.borderColor||Y.defaultColor,M.beginPath(),A=F[0]._view,A.skip||(M.moveTo(A.x,A.y),i=0),v=1;v<F.length;++v)A=F[v]._view,T=i===-1?Ge.previousItem(F,v):F[i],A.skip||(i!==v-1&&!D||i===-1?M.moveTo(A.x,A.y):Ge.canvas.lineTo(M,T._view,A),i=v);c&&M.closePath(),M.stroke(),M.restore()}}}),Bt=Ge.valueOrDefault,_e=Fi.global.defaultColor;Fi._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:_e,borderColor:_e,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function n(u){var _=this._view;return _?Math.abs(u-_.x)<_.radius+_.hitRadius:!1}function o(u){var _=this._view;return _?Math.abs(u-_.y)<_.radius+_.hitRadius:!1}var g=qr.extend({_type:"point",inRange:function(u,_){var M=this._view;return M?Math.pow(u-M.x,2)+Math.pow(_-M.y,2)<Math.pow(M.hitRadius+M.radius,2):!1},inLabelRange:n,inXRange:n,inYRange:o,getCenterPoint:function(){var u=this._view;return{x:u.x,y:u.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var u=this._view;return{x:u.x,y:u.y,padding:u.radius+u.borderWidth}},draw:function(u){var _=this._view,M=this._chart.ctx,D=_.pointStyle,F=_.rotation,Y=_.radius,f=_.x,i=_.y,c=Fi.global,v=c.defaultColor;_.skip||(u===void 0||Ge.canvas._isPointInArea(_,u))&&(M.strokeStyle=_.borderColor||v,M.lineWidth=Bt(_.borderWidth,c.elements.point.borderWidth),M.fillStyle=_.backgroundColor||v,Ge.canvas.drawPoint(M,D,Y,f,i,F))}}),b=Fi.global.defaultColor;Fi._set("global",{elements:{rectangle:{backgroundColor:b,borderColor:b,borderSkipped:"bottom",borderWidth:0}}});function E(u){return u&&u.width!==void 0}function k(u){var _,M,D,F,Y;return E(u)?(Y=u.width/2,_=u.x-Y,M=u.x+Y,D=Math.min(u.y,u.base),F=Math.max(u.y,u.base)):(Y=u.height/2,_=Math.min(u.x,u.base),M=Math.max(u.x,u.base),D=u.y-Y,F=u.y+Y),{left:_,top:D,right:M,bottom:F}}function C(u,_,M){return u===_?M:u===M?_:u}function P(u){var _=u.borderSkipped,M={};return _&&(u.horizontal?u.base>u.x&&(_=C(_,"left","right")):u.base<u.y&&(_=C(_,"bottom","top")),M[_]=!0),M}function N(u,_,M){var D=u.borderWidth,F=P(u),Y,f,i,c;return Ge.isObject(D)?(Y=+D.top||0,f=+D.right||0,i=+D.bottom||0,c=+D.left||0):Y=f=i=c=+D||0,{t:F.top||Y<0?0:Y>M?M:Y,r:F.right||f<0?0:f>_?_:f,b:F.bottom||i<0?0:i>M?M:i,l:F.left||c<0?0:c>_?_:c}}function W(u){var _=k(u),M=_.right-_.left,D=_.bottom-_.top,F=N(u,M/2,D/2);return{outer:{x:_.left,y:_.top,w:M,h:D},inner:{x:_.left+F.l,y:_.top+F.t,w:M-F.l-F.r,h:D-F.t-F.b}}}function K(u,_,M){var D=_===null,F=M===null,Y=!u||D&&F?!1:k(u);return Y&&(D||_>=Y.left&&_<=Y.right)&&(F||M>=Y.top&&M<=Y.bottom)}var ee=qr.extend({_type:"rectangle",draw:function(){var u=this._chart.ctx,_=this._view,M=W(_),D=M.outer,F=M.inner;u.fillStyle=_.backgroundColor,u.fillRect(D.x,D.y,D.w,D.h),!(D.w===F.w&&D.h===F.h)&&(u.save(),u.beginPath(),u.rect(D.x,D.y,D.w,D.h),u.clip(),u.fillStyle=_.borderColor,u.rect(F.x,F.y,F.w,F.h),u.fill("evenodd"),u.restore())},height:function(){var u=this._view;return u.base-u.y},inRange:function(u,_){return K(this._view,u,_)},inLabelRange:function(u,_){var M=this._view;return E(M)?K(M,u,null):K(M,null,_)},inXRange:function(u){return K(this._view,u,null)},inYRange:function(u){return K(this._view,null,u)},getCenterPoint:function(){var u=this._view,_,M;return E(u)?(_=u.x,M=(u.y+u.base)/2):(_=(u.x+u.base)/2,M=u.y),{x:_,y:M}},getArea:function(){var u=this._view;return E(u)?u.width*Math.abs(u.y-u.base):u.height*Math.abs(u.x-u.base)},tooltipPosition:function(){var u=this._view;return{x:u.x,y:u.y}}}),ue={},we=je,Me=It,Oe=g,He=ee;ue.Arc=we,ue.Line=Me,ue.Point=Oe,ue.Rectangle=He;var Le=Ge._deprecated,gt=Ge.valueOrDefault;Fi._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Fi._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function B(u,_){var M=u._length,D,F,Y,f;for(Y=1,f=_.length;Y<f;++Y)M=Math.min(M,Math.abs(_[Y]-_[Y-1]));for(Y=0,f=u.getTicks().length;Y<f;++Y)F=u.getPixelForTick(Y),M=Y>0?Math.min(M,Math.abs(F-D)):M,D=F;return M}function se(u,_,M){var D=M.barThickness,F=_.stackCount,Y=_.pixels[u],f=Ge.isNullOrUndef(D)?B(_.scale,_.pixels):-1,i,c;return Ge.isNullOrUndef(D)?(i=f*M.categoryPercentage,c=M.barPercentage):(i=D*F,c=1),{chunk:i/F,ratio:c,start:Y-i/2}}function ke(u,_,M){var D=_.pixels,F=D[u],Y=u>0?D[u-1]:null,f=u<D.length-1?D[u+1]:null,i=M.categoryPercentage,c,v;return Y===null&&(Y=F-(f===null?_.end-_.start:f-F)),f===null&&(f=F+F-Y),c=F-(F-Math.min(Y,f))/2*i,v=Math.abs(f-Y)/2*i,{chunk:v/_.stackCount,ratio:M.barPercentage,start:c}}var Ke=tn.extend({dataElementType:ue.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var u=this,_,M;tn.prototype.initialize.apply(u,arguments),_=u.getMeta(),_.stack=u.getDataset().stack,_.bar=!0,M=u._getIndexScale().options,Le("bar chart",M.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Le("bar chart",M.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Le("bar chart",M.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Le("bar chart",u._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Le("bar chart",M.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(u){var _=this,M=_.getMeta().data,D,F;for(_._ruler=_.getRuler(),D=0,F=M.length;D<F;++D)_.updateElement(M[D],D,u)},updateElement:function(u,_,M){var D=this,F=D.getMeta(),Y=D.getDataset(),f=D._resolveDataElementOptions(u,_);u._xScale=D.getScaleForId(F.xAxisID),u._yScale=D.getScaleForId(F.yAxisID),u._datasetIndex=D.index,u._index=_,u._model={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderSkipped:f.borderSkipped,borderWidth:f.borderWidth,datasetLabel:Y.label,label:D.chart.data.labels[_]},Ge.isArray(Y.data[_])&&(u._model.borderSkipped=null),D._updateElementGeometry(u,_,M,f),u.pivot()},_updateElementGeometry:function(u,_,M,D){var F=this,Y=u._model,f=F._getValueScale(),i=f.getBasePixel(),c=f.isHorizontal(),v=F._ruler||F.getRuler(),T=F.calculateBarValuePixels(F.index,_,D),A=F.calculateBarIndexPixels(F.index,_,v,D);Y.horizontal=c,Y.base=M?i:T.base,Y.x=c?M?i:T.head:A.center,Y.y=c?A.center:M?i:T.head,Y.height=c?A.size:void 0,Y.width=c?void 0:A.size},_getStacks:function(u){var _=this,M=_._getIndexScale(),D=M._getMatchingVisibleMetas(_._type),F=M.options.stacked,Y=D.length,f=[],i,c;for(i=0;i<Y&&(c=D[i],(F===!1||f.indexOf(c.stack)===-1||F===void 0&&c.stack===void 0)&&f.push(c.stack),c.index!==u);++i);return f},getStackCount:function(){return this._getStacks().length},getStackIndex:function(u,_){var M=this._getStacks(u),D=_!==void 0?M.indexOf(_):-1;return D===-1?M.length-1:D},getRuler:function(){var u=this,_=u._getIndexScale(),M=[],D,F;for(D=0,F=u.getMeta().data.length;D<F;++D)M.push(_.getPixelForValue(null,D,u.index));return{pixels:M,start:_._startPixel,end:_._endPixel,stackCount:u.getStackCount(),scale:_}},calculateBarValuePixels:function(u,_,M){var D=this,F=D.chart,Y=D._getValueScale(),f=Y.isHorizontal(),i=F.data.datasets,c=Y._getMatchingVisibleMetas(D._type),v=Y._parseValue(i[u].data[_]),T=M.minBarLength,A=Y.options.stacked,R=D.getMeta().stack,V=v.start===void 0?0:v.max>=0&&v.min>=0?v.min:v.max,G=v.start===void 0?v.end:v.max>=0&&v.min>=0?v.max-v.min:v.min-v.max,ie=c.length,ae,be,Fe,$e,Je,tt,Xe;if(A||A===void 0&&R!==void 0)for(ae=0;ae<ie&&(be=c[ae],be.index!==u);++ae)be.stack===R&&(Xe=Y._parseValue(i[be.index].data[_]),Fe=Xe.start===void 0?Xe.end:Xe.min>=0&&Xe.max>=0?Xe.max:Xe.min,(v.min<0&&Fe<0||v.max>=0&&Fe>0)&&(V+=Fe));return $e=Y.getPixelForValue(V),Je=Y.getPixelForValue(V+G),tt=Je-$e,T!==void 0&&Math.abs(tt)<T&&(tt=T,G>=0&&!f||G<0&&f?Je=$e-T:Je=$e+T),{size:tt,base:$e,head:Je,center:Je+tt/2}},calculateBarIndexPixels:function(u,_,M,D){var F=this,Y=D.barThickness==="flex"?ke(_,M,D):se(_,M,D),f=F.getStackIndex(u,F.getMeta().stack),i=Y.start+Y.chunk*f+Y.chunk/2,c=Math.min(gt(D.maxBarThickness,1/0),Y.chunk*Y.ratio);return{base:i-c/2,head:i+c/2,center:i,size:c}},draw:function(){var u=this,_=u.chart,M=u._getValueScale(),D=u.getMeta().data,F=u.getDataset(),Y=D.length,f=0;for(Ge.canvas.clipArea(_.ctx,_.chartArea);f<Y;++f){var i=M._parseValue(F.data[f]);!isNaN(i.min)&&!isNaN(i.max)&&D[f].draw()}Ge.canvas.unclipArea(_.ctx)},_resolveDataElementOptions:function(){var u=this,_=Ge.extend({},tn.prototype._resolveDataElementOptions.apply(u,arguments)),M=u._getIndexScale().options,D=u._getValueScale().options;return _.barPercentage=gt(M.barPercentage,_.barPercentage),_.barThickness=gt(M.barThickness,_.barThickness),_.categoryPercentage=gt(M.categoryPercentage,_.categoryPercentage),_.maxBarThickness=gt(M.maxBarThickness,_.maxBarThickness),_.minBarLength=gt(D.minBarLength,_.minBarLength),_}}),zt=Ge.valueOrDefault,ai=Ge.options.resolve;Fi._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(u,_){var M=_.datasets[u.datasetIndex].label||"",D=_.datasets[u.datasetIndex].data[u.index];return M+": ("+u.xLabel+", "+u.yLabel+", "+D.r+")"}}}});var Xt=tn.extend({dataElementType:ue.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(u){var _=this,M=_.getMeta(),D=M.data;Ge.each(D,function(F,Y){_.updateElement(F,Y,u)})},updateElement:function(u,_,M){var D=this,F=D.getMeta(),Y=u.custom||{},f=D.getScaleForId(F.xAxisID),i=D.getScaleForId(F.yAxisID),c=D._resolveDataElementOptions(u,_),v=D.getDataset().data[_],T=D.index,A=M?f.getPixelForDecimal(.5):f.getPixelForValue(typeof v=="object"?v:NaN,_,T),R=M?i.getBasePixel():i.getPixelForValue(v,_,T);u._xScale=f,u._yScale=i,u._options=c,u._datasetIndex=T,u._index=_,u._model={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,hitRadius:c.hitRadius,pointStyle:c.pointStyle,rotation:c.rotation,radius:M?0:c.radius,skip:Y.skip||isNaN(A)||isNaN(R),x:A,y:R},u.pivot()},setHoverStyle:function(u){var _=u._model,M=u._options,D=Ge.getHoverColor;u.$previousStyle={backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth,radius:_.radius},_.backgroundColor=zt(M.hoverBackgroundColor,D(M.backgroundColor)),_.borderColor=zt(M.hoverBorderColor,D(M.borderColor)),_.borderWidth=zt(M.hoverBorderWidth,M.borderWidth),_.radius=M.radius+M.hoverRadius},_resolveDataElementOptions:function(u,_){var M=this,D=M.chart,F=M.getDataset(),Y=u.custom||{},f=F.data[_]||{},i=tn.prototype._resolveDataElementOptions.apply(M,arguments),c={chart:D,dataIndex:_,dataset:F,datasetIndex:M.index};return M._cachedDataOpts===i&&(i=Ge.extend({},i)),i.radius=ai([Y.radius,f.r,M._config.radius,D.options.elements.point.radius],c,_),i}}),Wt=Ge.valueOrDefault,li=Math.PI,mi=li*2,Yi=li/2;Fi._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(u){var _=document.createElement("ul"),M=u.data,D=M.datasets,F=M.labels,Y,f,i,c;if(_.setAttribute("class",u.id+"-legend"),D.length)for(Y=0,f=D[0].data.length;Y<f;++Y)i=_.appendChild(document.createElement("li")),c=i.appendChild(document.createElement("span")),c.style.backgroundColor=D[0].backgroundColor[Y],F[Y]&&i.appendChild(document.createTextNode(F[Y]));return _.outerHTML},legend:{labels:{generateLabels:function(u){var _=u.data;return _.labels.length&&_.datasets.length?_.labels.map(function(M,D){var F=u.getDatasetMeta(0),Y=F.controller.getStyle(D);return{text:M,fillStyle:Y.backgroundColor,strokeStyle:Y.borderColor,lineWidth:Y.borderWidth,hidden:isNaN(_.datasets[0].data[D])||F.data[D].hidden,index:D}}):[]}},onClick:function(u,_){var M=_.index,D=this.chart,F,Y,f;for(F=0,Y=(D.data.datasets||[]).length;F<Y;++F)f=D.getDatasetMeta(F),f.data[M]&&(f.data[M].hidden=!f.data[M].hidden);D.update()}},cutoutPercentage:50,rotation:-Yi,circumference:mi,tooltips:{callbacks:{title:function(){return""},label:function(u,_){var M=_.labels[u.index],D=": "+_.datasets[u.datasetIndex].data[u.index];return Ge.isArray(M)?(M=M.slice(),M[0]+=D):M+=D,M}}}});var Gr=tn.extend({dataElementType:ue.Arc,linkScales:Ge.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(u){for(var _=0,M=0;M<u;++M)this.chart.isDatasetVisible(M)&&++_;return _},update:function(u){var _=this,M=_.chart,D=M.chartArea,F=M.options,Y=1,f=1,i=0,c=0,v=_.getMeta(),T=v.data,A=F.cutoutPercentage/100||0,R=F.circumference,V=_._getRingWeight(_.index),G,ie,ae,be;if(R<mi){var Fe=F.rotation%mi;Fe+=Fe>=li?-mi:Fe<-li?mi:0;var $e=Fe+R,Je=Math.cos(Fe),tt=Math.sin(Fe),Xe=Math.cos($e),qe=Math.sin($e),lt=Fe<=0&&$e>=0||$e>=mi,st=Fe<=Yi&&$e>=Yi||$e>=mi+Yi,pt=Fe===-li||$e>=li,bt=Fe<=-Yi&&$e>=-Yi||$e>=li+Yi,xt=pt?-1:Math.min(Je,Je*A,Xe,Xe*A),Lt=bt?-1:Math.min(tt,tt*A,qe,qe*A),qt=lt?1:Math.max(Je,Je*A,Xe,Xe*A),Yt=st?1:Math.max(tt,tt*A,qe,qe*A);Y=(qt-xt)/2,f=(Yt-Lt)/2,i=-(qt+xt)/2,c=-(Yt+Lt)/2}for(ae=0,be=T.length;ae<be;++ae)T[ae]._options=_._resolveDataElementOptions(T[ae],ae);for(M.borderWidth=_.getMaxBorderWidth(),G=(D.right-D.left-M.borderWidth)/Y,ie=(D.bottom-D.top-M.borderWidth)/f,M.outerRadius=Math.max(Math.min(G,ie)/2,0),M.innerRadius=Math.max(M.outerRadius*A,0),M.radiusLength=(M.outerRadius-M.innerRadius)/(_._getVisibleDatasetWeightTotal()||1),M.offsetX=i*M.outerRadius,M.offsetY=c*M.outerRadius,v.total=_.calculateTotal(),_.outerRadius=M.outerRadius-M.radiusLength*_._getRingWeightOffset(_.index),_.innerRadius=Math.max(_.outerRadius-M.radiusLength*V,0),ae=0,be=T.length;ae<be;++ae)_.updateElement(T[ae],ae,u)},updateElement:function(u,_,M){var D=this,F=D.chart,Y=F.chartArea,f=F.options,i=f.animation,c=(Y.left+Y.right)/2,v=(Y.top+Y.bottom)/2,T=f.rotation,A=f.rotation,R=D.getDataset(),V=M&&i.animateRotate||u.hidden?0:D.calculateCircumference(R.data[_])*(f.circumference/mi),G=M&&i.animateScale?0:D.innerRadius,ie=M&&i.animateScale?0:D.outerRadius,ae=u._options||{};Ge.extend(u,{_datasetIndex:D.index,_index:_,_model:{backgroundColor:ae.backgroundColor,borderColor:ae.borderColor,borderWidth:ae.borderWidth,borderAlign:ae.borderAlign,x:c+F.offsetX,y:v+F.offsetY,startAngle:T,endAngle:A,circumference:V,outerRadius:ie,innerRadius:G,label:Ge.valueAtIndexOrDefault(R.label,_,F.data.labels[_])}});var be=u._model;(!M||!i.animateRotate)&&(_===0?be.startAngle=f.rotation:be.startAngle=D.getMeta().data[_-1]._model.endAngle,be.endAngle=be.startAngle+be.circumference),u.pivot()},calculateTotal:function(){var u=this.getDataset(),_=this.getMeta(),M=0,D;return Ge.each(_.data,function(F,Y){D=u.data[Y],!isNaN(D)&&!F.hidden&&(M+=Math.abs(D))}),M},calculateCircumference:function(u){var _=this.getMeta().total;return _>0&&!isNaN(u)?mi*(Math.abs(u)/_):0},getMaxBorderWidth:function(u){var _=this,M=0,D=_.chart,F,Y,f,i,c,v,T,A;if(!u){for(F=0,Y=D.data.datasets.length;F<Y;++F)if(D.isDatasetVisible(F)){f=D.getDatasetMeta(F),u=f.data,F!==_.index&&(c=f.controller);break}}if(!u)return 0;for(F=0,Y=u.length;F<Y;++F)i=u[F],c?(c._configure(),v=c._resolveDataElementOptions(i,F)):v=i._options,v.borderAlign!=="inner"&&(T=v.borderWidth,A=v.hoverBorderWidth,M=T>M?T:M,M=A>M?A:M);return M},setHoverStyle:function(u){var _=u._model,M=u._options,D=Ge.getHoverColor;u.$previousStyle={backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth},_.backgroundColor=Wt(M.hoverBackgroundColor,D(M.backgroundColor)),_.borderColor=Wt(M.hoverBorderColor,D(M.borderColor)),_.borderWidth=Wt(M.hoverBorderWidth,M.borderWidth)},_getRingWeightOffset:function(u){for(var _=0,M=0;M<u;++M)this.chart.isDatasetVisible(M)&&(_+=this._getRingWeight(M));return _},_getRingWeight:function(u){return Math.max(Wt(this.chart.data.datasets[u].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Fi._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Fi._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Gi=Ke.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Rr=Ge.valueOrDefault,vn=Ge.options.resolve,qn=Ge.canvas._isPointInArea;Fi._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function rn(u,_){var M=u&&u.options.ticks||{},D=M.reverse,F=M.min===void 0?_:0,Y=M.max===void 0?_:0;return{start:D?Y:F,end:D?F:Y}}function kr(u,_,M){var D=M/2,F=rn(u,D),Y=rn(_,D);return{top:Y.end,right:F.end,bottom:Y.start,left:F.start}}function Kn(u){var _,M,D,F;return Ge.isObject(u)?(_=u.top,M=u.right,D=u.bottom,F=u.left):_=M=D=F=u,{top:_,right:M,bottom:D,left:F}}var La=tn.extend({datasetElementType:ue.Line,dataElementType:ue.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(u){var _=this,M=_.getMeta(),D=M.dataset,F=M.data||[],Y=_.chart.options,f=_._config,i=_._showLine=Rr(f.showLine,Y.showLines),c,v;for(_._xScale=_.getScaleForId(M.xAxisID),_._yScale=_.getScaleForId(M.yAxisID),i&&(f.tension!==void 0&&f.lineTension===void 0&&(f.lineTension=f.tension),D._scale=_._yScale,D._datasetIndex=_.index,D._children=F,D._model=_._resolveDatasetElementOptions(D),D.pivot()),c=0,v=F.length;c<v;++c)_.updateElement(F[c],c,u);for(i&&D._model.tension!==0&&_.updateBezierControlPoints(),c=0,v=F.length;c<v;++c)F[c].pivot()},updateElement:function(u,_,M){var D=this,F=D.getMeta(),Y=u.custom||{},f=D.getDataset(),i=D.index,c=f.data[_],v=D._xScale,T=D._yScale,A=F.dataset._model,R,V,G=D._resolveDataElementOptions(u,_);R=v.getPixelForValue(typeof c=="object"?c:NaN,_,i),V=M?T.getBasePixel():D.calculatePointY(c,_,i),u._xScale=v,u._yScale=T,u._options=G,u._datasetIndex=i,u._index=_,u._model={x:R,y:V,skip:Y.skip||isNaN(R)||isNaN(V),radius:G.radius,pointStyle:G.pointStyle,rotation:G.rotation,backgroundColor:G.backgroundColor,borderColor:G.borderColor,borderWidth:G.borderWidth,tension:Rr(Y.tension,A?A.tension:0),steppedLine:A?A.steppedLine:!1,hitRadius:G.hitRadius}},_resolveDatasetElementOptions:function(u){var _=this,M=_._config,D=u.custom||{},F=_.chart.options,Y=F.elements.line,f=tn.prototype._resolveDatasetElementOptions.apply(_,arguments);return f.spanGaps=Rr(M.spanGaps,F.spanGaps),f.tension=Rr(M.lineTension,Y.tension),f.steppedLine=vn([D.steppedLine,M.steppedLine,Y.stepped]),f.clip=Kn(Rr(M.clip,kr(_._xScale,_._yScale,f.borderWidth))),f},calculatePointY:function(u,_,M){var D=this,F=D.chart,Y=D._yScale,f=0,i=0,c,v,T,A,R,V,G;if(Y.options.stacked){for(R=+Y.getRightValue(u),V=F._getSortedVisibleDatasetMetas(),G=V.length,c=0;c<G&&(T=V[c],T.index!==M);++c)v=F.data.datasets[T.index],T.type==="line"&&T.yAxisID===Y.id&&(A=+Y.getRightValue(v.data[_]),A<0?i+=A||0:f+=A||0);return R<0?Y.getPixelForValue(i+R):Y.getPixelForValue(f+R)}return Y.getPixelForValue(u)},updateBezierControlPoints:function(){var u=this,_=u.chart,M=u.getMeta(),D=M.dataset._model,F=_.chartArea,Y=M.data||[],f,i,c,v;D.spanGaps&&(Y=Y.filter(function(A){return!A._model.skip}));function T(A,R,V){return Math.max(Math.min(A,V),R)}if(D.cubicInterpolationMode==="monotone")Ge.splineCurveMonotone(Y);else for(f=0,i=Y.length;f<i;++f)c=Y[f]._model,v=Ge.splineCurve(Ge.previousItem(Y,f)._model,c,Ge.nextItem(Y,f)._model,D.tension),c.controlPointPreviousX=v.previous.x,c.controlPointPreviousY=v.previous.y,c.controlPointNextX=v.next.x,c.controlPointNextY=v.next.y;if(_.options.elements.line.capBezierPoints)for(f=0,i=Y.length;f<i;++f)c=Y[f]._model,qn(c,F)&&(f>0&&qn(Y[f-1]._model,F)&&(c.controlPointPreviousX=T(c.controlPointPreviousX,F.left,F.right),c.controlPointPreviousY=T(c.controlPointPreviousY,F.top,F.bottom)),f<Y.length-1&&qn(Y[f+1]._model,F)&&(c.controlPointNextX=T(c.controlPointNextX,F.left,F.right),c.controlPointNextY=T(c.controlPointNextY,F.top,F.bottom)))},draw:function(){var u=this,_=u.chart,M=u.getMeta(),D=M.data||[],F=_.chartArea,Y=_.canvas,f=0,i=D.length,c;for(u._showLine&&(c=M.dataset._model.clip,Ge.canvas.clipArea(_.ctx,{left:c.left===!1?0:F.left-c.left,right:c.right===!1?Y.width:F.right+c.right,top:c.top===!1?0:F.top-c.top,bottom:c.bottom===!1?Y.height:F.bottom+c.bottom}),M.dataset.draw(),Ge.canvas.unclipArea(_.ctx));f<i;++f)D[f].draw(F)},setHoverStyle:function(u){var _=u._model,M=u._options,D=Ge.getHoverColor;u.$previousStyle={backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth,radius:_.radius},_.backgroundColor=Rr(M.hoverBackgroundColor,D(M.backgroundColor)),_.borderColor=Rr(M.hoverBorderColor,D(M.borderColor)),_.borderWidth=Rr(M.hoverBorderWidth,M.borderWidth),_.radius=Rr(M.hoverRadius,M.radius)}}),hs=Ge.options.resolve;Fi._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(u){var _=document.createElement("ul"),M=u.data,D=M.datasets,F=M.labels,Y,f,i,c;if(_.setAttribute("class",u.id+"-legend"),D.length)for(Y=0,f=D[0].data.length;Y<f;++Y)i=_.appendChild(document.createElement("li")),c=i.appendChild(document.createElement("span")),c.style.backgroundColor=D[0].backgroundColor[Y],F[Y]&&i.appendChild(document.createTextNode(F[Y]));return _.outerHTML},legend:{labels:{generateLabels:function(u){var _=u.data;return _.labels.length&&_.datasets.length?_.labels.map(function(M,D){var F=u.getDatasetMeta(0),Y=F.controller.getStyle(D);return{text:M,fillStyle:Y.backgroundColor,strokeStyle:Y.borderColor,lineWidth:Y.borderWidth,hidden:isNaN(_.datasets[0].data[D])||F.data[D].hidden,index:D}}):[]}},onClick:function(u,_){var M=_.index,D=this.chart,F,Y,f;for(F=0,Y=(D.data.datasets||[]).length;F<Y;++F)f=D.getDatasetMeta(F),f.data[M].hidden=!f.data[M].hidden;D.update()}},tooltips:{callbacks:{title:function(){return""},label:function(u,_){return _.labels[u.index]+": "+u.yLabel}}}});var _s=tn.extend({dataElementType:ue.Arc,linkScales:Ge.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(u){var _=this,M=_.getDataset(),D=_.getMeta(),F=_.chart.options.startAngle||0,Y=_._starts=[],f=_._angles=[],i=D.data,c,v,T;for(_._updateRadius(),D.count=_.countVisibleElements(),c=0,v=M.data.length;c<v;c++)Y[c]=F,T=_._computeAngle(c),f[c]=T,F+=T;for(c=0,v=i.length;c<v;++c)i[c]._options=_._resolveDataElementOptions(i[c],c),_.updateElement(i[c],c,u)},_updateRadius:function(){var u=this,_=u.chart,M=_.chartArea,D=_.options,F=Math.min(M.right-M.left,M.bottom-M.top);_.outerRadius=Math.max(F/2,0),_.innerRadius=Math.max(D.cutoutPercentage?_.outerRadius/100*D.cutoutPercentage:1,0),_.radiusLength=(_.outerRadius-_.innerRadius)/_.getVisibleDatasetCount(),u.outerRadius=_.outerRadius-_.radiusLength*u.index,u.innerRadius=u.outerRadius-_.radiusLength},updateElement:function(u,_,M){var D=this,F=D.chart,Y=D.getDataset(),f=F.options,i=f.animation,c=F.scale,v=F.data.labels,T=c.xCenter,A=c.yCenter,R=f.startAngle,V=u.hidden?0:c.getDistanceFromCenterForValue(Y.data[_]),G=D._starts[_],ie=G+(u.hidden?0:D._angles[_]),ae=i.animateScale?0:c.getDistanceFromCenterForValue(Y.data[_]),be=u._options||{};Ge.extend(u,{_datasetIndex:D.index,_index:_,_scale:c,_model:{backgroundColor:be.backgroundColor,borderColor:be.borderColor,borderWidth:be.borderWidth,borderAlign:be.borderAlign,x:T,y:A,innerRadius:0,outerRadius:M?ae:V,startAngle:M&&i.animateRotate?R:G,endAngle:M&&i.animateRotate?R:ie,label:Ge.valueAtIndexOrDefault(v,_,v[_])}}),u.pivot()},countVisibleElements:function(){var u=this.getDataset(),_=this.getMeta(),M=0;return Ge.each(_.data,function(D,F){!isNaN(u.data[F])&&!D.hidden&&M++}),M},setHoverStyle:function(u){var _=u._model,M=u._options,D=Ge.getHoverColor,F=Ge.valueOrDefault;u.$previousStyle={backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth},_.backgroundColor=F(M.hoverBackgroundColor,D(M.backgroundColor)),_.borderColor=F(M.hoverBorderColor,D(M.borderColor)),_.borderWidth=F(M.hoverBorderWidth,M.borderWidth)},_computeAngle:function(u){var _=this,M=this.getMeta().count,D=_.getDataset(),F=_.getMeta();if(isNaN(D.data[u])||F.data[u].hidden)return 0;var Y={chart:_.chart,dataIndex:u,dataset:D,datasetIndex:_.index};return hs([_.chart.options.elements.arc.angle,2*Math.PI/M],Y,u)}});Fi._set("pie",Ge.clone(Fi.doughnut)),Fi._set("pie",{cutoutPercentage:0});var Un=Gr,$r=Ge.valueOrDefault;Fi._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Ha=tn.extend({datasetElementType:ue.Line,dataElementType:ue.Point,linkScales:Ge.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(u){var _=this,M=_.getMeta(),D=M.dataset,F=M.data||[],Y=_.chart.scale,f=_._config,i,c;for(f.tension!==void 0&&f.lineTension===void 0&&(f.lineTension=f.tension),D._scale=Y,D._datasetIndex=_.index,D._children=F,D._loop=!0,D._model=_._resolveDatasetElementOptions(D),D.pivot(),i=0,c=F.length;i<c;++i)_.updateElement(F[i],i,u);for(_.updateBezierControlPoints(),i=0,c=F.length;i<c;++i)F[i].pivot()},updateElement:function(u,_,M){var D=this,F=u.custom||{},Y=D.getDataset(),f=D.chart.scale,i=f.getPointPositionForValue(_,Y.data[_]),c=D._resolveDataElementOptions(u,_),v=D.getMeta().dataset._model,T=M?f.xCenter:i.x,A=M?f.yCenter:i.y;u._scale=f,u._options=c,u._datasetIndex=D.index,u._index=_,u._model={x:T,y:A,skip:F.skip||isNaN(T)||isNaN(A),radius:c.radius,pointStyle:c.pointStyle,rotation:c.rotation,backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,tension:$r(F.tension,v?v.tension:0),hitRadius:c.hitRadius}},_resolveDatasetElementOptions:function(){var u=this,_=u._config,M=u.chart.options,D=tn.prototype._resolveDatasetElementOptions.apply(u,arguments);return D.spanGaps=$r(_.spanGaps,M.spanGaps),D.tension=$r(_.lineTension,M.elements.line.tension),D},updateBezierControlPoints:function(){var u=this,_=u.getMeta(),M=u.chart.chartArea,D=_.data||[],F,Y,f,i;_.dataset._model.spanGaps&&(D=D.filter(function(v){return!v._model.skip}));function c(v,T,A){return Math.max(Math.min(v,A),T)}for(F=0,Y=D.length;F<Y;++F)f=D[F]._model,i=Ge.splineCurve(Ge.previousItem(D,F,!0)._model,f,Ge.nextItem(D,F,!0)._model,f.tension),f.controlPointPreviousX=c(i.previous.x,M.left,M.right),f.controlPointPreviousY=c(i.previous.y,M.top,M.bottom),f.controlPointNextX=c(i.next.x,M.left,M.right),f.controlPointNextY=c(i.next.y,M.top,M.bottom)},setHoverStyle:function(u){var _=u._model,M=u._options,D=Ge.getHoverColor;u.$previousStyle={backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth,radius:_.radius},_.backgroundColor=$r(M.hoverBackgroundColor,D(M.backgroundColor)),_.borderColor=$r(M.hoverBorderColor,D(M.borderColor)),_.borderWidth=$r(M.hoverBorderWidth,M.borderWidth),_.radius=$r(M.hoverRadius,M.radius)}});Fi._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(u){return"("+u.xLabel+", "+u.yLabel+")"}}}}),Fi._set("global",{datasets:{scatter:{showLine:!1}}});var fo=La,$o={bar:Ke,bubble:Xt,doughnut:Gr,horizontalBar:Gi,line:La,polarArea:_s,pie:Un,radar:Ha,scatter:fo};function bs(u,_){return u.native?{x:u.x,y:u.y}:Ge.getRelativePosition(u,_)}function Wn(u,_){var M=u._getSortedVisibleDatasetMetas(),D,F,Y,f,i,c;for(F=0,f=M.length;F<f;++F)for(D=M[F].data,Y=0,i=D.length;Y<i;++Y)c=D[Y],c._view.skip||_(c)}function cn(u,_){var M=[];return Wn(u,function(D){D.inRange(_.x,_.y)&&M.push(D)}),M}function Fs(u,_,M,D){var F=Number.POSITIVE_INFINITY,Y=[];return Wn(u,function(f){if(!(M&&!f.inRange(_.x,_.y))){var i=f.getCenterPoint(),c=D(_,i);c<F?(Y=[f],F=c):c===F&&Y.push(f)}}),Y}function Xs(u){var _=u.indexOf("x")!==-1,M=u.indexOf("y")!==-1;return function(D,F){var Y=_?Math.abs(D.x-F.x):0,f=M?Math.abs(D.y-F.y):0;return Math.sqrt(Math.pow(Y,2)+Math.pow(f,2))}}function nn(u,_,M){var D=bs(_,u);M.axis=M.axis||"x";var F=Xs(M.axis),Y=M.intersect?cn(u,D):Fs(u,D,!1,F),f=[];return Y.length?(u._getSortedVisibleDatasetMetas().forEach(function(i){var c=i.data[Y[0]._index];c&&!c._view.skip&&f.push(c)}),f):[]}var la={modes:{single:function(u,_){var M=bs(_,u),D=[];return Wn(u,function(F){if(F.inRange(M.x,M.y))return D.push(F),D}),D.slice(0,1)},label:nn,index:nn,dataset:function(u,_,M){var D=bs(_,u);M.axis=M.axis||"xy";var F=Xs(M.axis),Y=M.intersect?cn(u,D):Fs(u,D,!1,F);return Y.length>0&&(Y=u.getDatasetMeta(Y[0]._datasetIndex).data),Y},"x-axis":function(u,_){return nn(u,_,{intersect:!1})},point:function(u,_){var M=bs(_,u);return cn(u,M)},nearest:function(u,_,M){var D=bs(_,u);M.axis=M.axis||"xy";var F=Xs(M.axis);return Fs(u,D,M.intersect,F)},x:function(u,_,M){var D=bs(_,u),F=[],Y=!1;return Wn(u,function(f){f.inXRange(D.x)&&F.push(f),f.inRange(D.x,D.y)&&(Y=!0)}),M.intersect&&!Y&&(F=[]),F},y:function(u,_,M){var D=bs(_,u),F=[],Y=!1;return Wn(u,function(f){f.inYRange(D.y)&&F.push(f),f.inRange(D.x,D.y)&&(Y=!0)}),M.intersect&&!Y&&(F=[]),F}}},pl=Ge.extend;function Zs(u,_){return Ge.where(u,function(M){return M.pos===_})}function Tn(u,_){return u.sort(function(M,D){var F=_?D:M,Y=_?M:D;return F.weight===Y.weight?F.index-Y.index:F.weight-Y.weight})}function Xo(u){var _=[],M,D,F;for(M=0,D=(u||[]).length;M<D;++M)F=u[M],_.push({index:M,box:F,pos:F.position,horizontal:F.isHorizontal(),weight:F.weight});return _}function po(u,_){var M,D,F;for(M=0,D=u.length;M<D;++M)F=u[M],F.width=F.horizontal?F.box.fullWidth&&_.availableWidth:_.vBoxMaxWidth,F.height=F.horizontal&&_.hBoxMaxHeight}function mo(u){var _=Xo(u),M=Tn(Zs(_,"left"),!0),D=Tn(Zs(_,"right")),F=Tn(Zs(_,"top"),!0),Y=Tn(Zs(_,"bottom"));return{leftAndTop:M.concat(F),rightAndBottom:D.concat(Y),chartArea:Zs(_,"chartArea"),vertical:M.concat(D),horizontal:F.concat(Y)}}function Ln(u,_,M,D){return Math.max(u[M],_[M])+Math.max(u[D],_[D])}function qs(u,_,M){var D=M.box,F=u.maxPadding,Y,f;if(M.size&&(u[M.pos]-=M.size),M.size=M.horizontal?D.height:D.width,u[M.pos]+=M.size,D.getPadding){var i=D.getPadding();F.top=Math.max(F.top,i.top),F.left=Math.max(F.left,i.left),F.bottom=Math.max(F.bottom,i.bottom),F.right=Math.max(F.right,i.right)}if(Y=_.outerWidth-Ln(F,u,"left","right"),f=_.outerHeight-Ln(F,u,"top","bottom"),Y!==u.w||f!==u.h){u.w=Y,u.h=f;var c=M.horizontal?[Y,u.w]:[f,u.h];return c[0]!==c[1]&&(!isNaN(c[0])||!isNaN(c[1]))}}function ml(u){var _=u.maxPadding;function M(D){var F=Math.max(_[D]-u[D],0);return u[D]+=F,F}u.y+=M("top"),u.x+=M("left"),M("right"),M("bottom")}function ws(u,_){var M=_.maxPadding;function D(F){var Y={left:0,top:0,right:0,bottom:0};return F.forEach(function(f){Y[f]=Math.max(_[f],M[f])}),Y}return D(u?["left","right"]:["top","bottom"])}function Es(u,_,M){var D=[],F,Y,f,i,c,v;for(F=0,Y=u.length;F<Y;++F)f=u[F],i=f.box,i.update(f.width||_.w,f.height||_.h,ws(f.horizontal,_)),qs(_,M,f)&&(v=!0,D.length&&(c=!0)),i.fullWidth||D.push(f);return c&&Es(D,_,M)||v}function Zo(u,_,M){var D=M.padding,F=_.x,Y=_.y,f,i,c,v;for(f=0,i=u.length;f<i;++f)c=u[f],v=c.box,c.horizontal?(v.left=v.fullWidth?D.left:_.left,v.right=v.fullWidth?M.outerWidth-D.right:_.left+_.w,v.top=Y,v.bottom=Y+v.height,v.width=v.right-v.left,Y=v.bottom):(v.left=F,v.right=F+v.width,v.top=_.top,v.bottom=_.top+_.h,v.height=v.bottom-v.top,F=v.right);_.x=F,_.y=Y}Fi._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Ja={defaults:{},addBox:function(u,_){u.boxes||(u.boxes=[]),_.fullWidth=_.fullWidth||!1,_.position=_.position||"top",_.weight=_.weight||0,_._layers=_._layers||function(){return[{z:0,draw:function(){_.draw.apply(_,arguments)}}]},u.boxes.push(_)},removeBox:function(u,_){var M=u.boxes?u.boxes.indexOf(_):-1;M!==-1&&u.boxes.splice(M,1)},configure:function(u,_,M){for(var D=["fullWidth","position","weight"],F=D.length,Y=0,f;Y<F;++Y)f=D[Y],M.hasOwnProperty(f)&&(_[f]=M[f])},update:function(u,_,M){if(u){var D=u.options.layout||{},F=Ge.options.toPadding(D.padding),Y=_-F.width,f=M-F.height,i=mo(u.boxes),c=i.vertical,v=i.horizontal,T=Object.freeze({outerWidth:_,outerHeight:M,padding:F,availableWidth:Y,vBoxMaxWidth:Y/2/c.length,hBoxMaxHeight:f/2}),A=pl({maxPadding:pl({},F),w:Y,h:f,x:F.left,y:F.top},F);po(c.concat(v),T),Es(c,A,T),Es(v,A,T)&&Es(c,A,T),ml(A),Zo(i.leftAndTop,A,T),A.x+=A.w,A.y+=A.h,Zo(i.rightAndBottom,A,T),u.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h},Ge.each(i.chartArea,function(R){var V=R.box;pl(V,u.chartArea),V.update(A.w,A.h)})}}},$l={acquireContext:function(u){return u&&u.canvas&&(u=u.canvas),u&&u.getContext("2d")||null}},us=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,qo=Object.freeze({__proto__:null,default:us}),gl=m(qo),ln="$chartjs",Ma="chartjs-",Oo=Ma+"size-monitor",z=Ma+"render-monitor",Z=Ma+"render-animation",he=["animationstart","webkitAnimationStart"],xe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function ze(u,_){var M=Ge.getStyle(u,_),D=M&&M.match(/^(\d+)(\.\d+)?px$/);return D?Number(D[1]):void 0}function Ve(u,_){var M=u.style,D=u.getAttribute("height"),F=u.getAttribute("width");if(u[ln]={initial:{height:D,width:F,style:{display:M.display,height:M.height,width:M.width}}},M.display=M.display||"block",F===null||F===""){var Y=ze(u,"width");Y!==void 0&&(u.width=Y)}if(D===null||D==="")if(u.style.height==="")u.height=u.width/(_.options.aspectRatio||2);else{var f=ze(u,"height");Y!==void 0&&(u.height=f)}return u}var Qe=function(){var u=!1;try{var _=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("e",null,_)}catch{}return u}(),Ct=Qe?{passive:!0}:!1;function Mt(u,_,M){u.addEventListener(_,M,Ct)}function Ht(u,_,M){u.removeEventListener(_,M,Ct)}function ci(u,_,M,D,F){return{type:u,chart:_,native:F||null,x:M!==void 0?M:null,y:D!==void 0?D:null}}function Pi(u,_){var M=xe[u.type]||u.type,D=Ge.getRelativePosition(u,_);return ci(M,_,D.x,D.y,u)}function Jt(u,_){var M=!1,D=[];return function(){D=Array.prototype.slice.call(arguments),_=_||this,M||(M=!0,Ge.requestAnimFrame.call(window,function(){M=!1,u.apply(_,D)}))}}function di(u){var _=document.createElement("div");return _.className=u||"",_}function Ni(u){var _=1e6,M=di(Oo),D=di(Oo+"-expand"),F=di(Oo+"-shrink");D.appendChild(di()),F.appendChild(di()),M.appendChild(D),M.appendChild(F),M._reset=function(){D.scrollLeft=_,D.scrollTop=_,F.scrollLeft=_,F.scrollTop=_};var Y=function(){M._reset(),u()};return Mt(D,"scroll",Y.bind(D,"expand")),Mt(F,"scroll",Y.bind(F,"shrink")),M}function wr(u,_){var M=u[ln]||(u[ln]={}),D=M.renderProxy=function(F){F.animationName===Z&&_()};Ge.each(he,function(F){Mt(u,F,D)}),M.reflow=!!u.offsetParent,u.classList.add(z)}function rr(u){var _=u[ln]||{},M=_.renderProxy;M&&(Ge.each(he,function(D){Ht(u,D,M)}),delete _.renderProxy),u.classList.remove(z)}function Rn(u,_,M){var D=u[ln]||(u[ln]={}),F=D.resizer=Ni(Jt(function(){if(D.resizer){var Y=M.options.maintainAspectRatio&&u.parentNode,f=Y?Y.clientWidth:0;_(ci("resize",M)),Y&&Y.clientWidth<f&&M.canvas&&_(ci("resize",M))}}));wr(u,function(){if(D.resizer){var Y=u.parentNode;Y&&Y!==F.parentNode&&Y.insertBefore(F,Y.firstChild),F._reset()}})}function yn(u){var _=u[ln]||{},M=_.resizer;delete _.resizer,rr(u),M&&M.parentNode&&M.parentNode.removeChild(M)}function va(u,_){var M=u[ln]||(u[ln]={});if(!M.containsStyles){M.containsStyles=!0,_=`/* Chart.js */
`+_;var D=document.createElement("style");D.setAttribute("type","text/css"),D.appendChild(document.createTextNode(_)),u.appendChild(D)}}var Hr={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(u){if(!this.disableCSSInjection){var _=u.getRootNode?u.getRootNode():document,M=_.host?_:document.head;va(M,gl)}},acquireContext:function(u,_){typeof u=="string"?u=document.getElementById(u):u.length&&(u=u[0]),u&&u.canvas&&(u=u.canvas);var M=u&&u.getContext&&u.getContext("2d");return M&&M.canvas===u?(this._ensureLoaded(u),Ve(u,_),M):null},releaseContext:function(u){var _=u.canvas;if(_[ln]){var M=_[ln].initial;["height","width"].forEach(function(D){var F=M[D];Ge.isNullOrUndef(F)?_.removeAttribute(D):_.setAttribute(D,F)}),Ge.each(M.style||{},function(D,F){_.style[F]=D}),_.width=_.width,delete _[ln]}},addEventListener:function(u,_,M){var D=u.canvas;if(_==="resize"){Rn(D,M,u);return}var F=M[ln]||(M[ln]={}),Y=F.proxies||(F.proxies={}),f=Y[u.id+"_"+_]=function(i){M(Pi(i,u))};Mt(D,_,f)},removeEventListener:function(u,_,M){var D=u.canvas;if(_==="resize"){yn(D);return}var F=M[ln]||{},Y=F.proxies||{},f=Y[u.id+"_"+_];f&&Ht(D,_,f)}};Ge.addEvent=Mt,Ge.removeEvent=Ht;var _r=Hr._enabled?Hr:$l,zn=Ge.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},_r);Fi._set("global",{plugins:{}});var Qi={_plugins:[],_cacheId:0,register:function(u){var _=this._plugins;[].concat(u).forEach(function(M){_.indexOf(M)===-1&&_.push(M)}),this._cacheId++},unregister:function(u){var _=this._plugins;[].concat(u).forEach(function(M){var D=_.indexOf(M);D!==-1&&_.splice(D,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(u,_,M){var D=this.descriptors(u),F=D.length,Y,f,i,c,v;for(Y=0;Y<F;++Y)if(f=D[Y],i=f.plugin,v=i[_],typeof v=="function"&&(c=[u].concat(M||[]),c.push(f.options),v.apply(i,c)===!1))return!1;return!0},descriptors:function(u){var _=u.$plugins||(u.$plugins={});if(_.id===this._cacheId)return _.descriptors;var M=[],D=[],F=u&&u.config||{},Y=F.options&&F.options.plugins||{};return this._plugins.concat(F.plugins||[]).forEach(function(f){var i=M.indexOf(f);if(i===-1){var c=f.id,v=Y[c];v!==!1&&(v===!0&&(v=Ge.clone(Fi.global.plugins[c])),M.push(f),D.push({plugin:f,options:v||{}}))}}),_.descriptors=D,_.id=this._cacheId,D},_invalidate:function(u){delete u.$plugins}},zr={constructors:{},defaults:{},registerScaleType:function(u,_,M){this.constructors[u]=_,this.defaults[u]=Ge.clone(M)},getScaleConstructor:function(u){return this.constructors.hasOwnProperty(u)?this.constructors[u]:void 0},getScaleDefaults:function(u){return this.defaults.hasOwnProperty(u)?Ge.merge(Object.create(null),[Fi.scale,this.defaults[u]]):{}},updateScaleDefaults:function(u,_){var M=this;M.defaults.hasOwnProperty(u)&&(M.defaults[u]=Ge.extend(M.defaults[u],_))},addScalesToLayout:function(u){Ge.each(u.scales,function(_){_.fullWidth=_.options.fullWidth,_.position=_.options.position,_.weight=_.options.weight,Ja.addBox(u,_)})}},Jn=Ge.valueOrDefault,Bs=Ge.rtl.getRtlAdapter;Fi._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Ge.noop,title:function(u,_){var M="",D=_.labels,F=D?D.length:0;if(u.length>0){var Y=u[0];Y.label?M=Y.label:Y.xLabel?M=Y.xLabel:F>0&&Y.index<F&&(M=D[Y.index])}return M},afterTitle:Ge.noop,beforeBody:Ge.noop,beforeLabel:Ge.noop,label:function(u,_){var M=_.datasets[u.datasetIndex].label||"";return M&&(M+=": "),Ge.isNullOrUndef(u.value)?M+=u.yLabel:M+=u.value,M},labelColor:function(u,_){var M=_.getDatasetMeta(u.datasetIndex),D=M.data[u.index],F=D._view;return{borderColor:F.borderColor,backgroundColor:F.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Ge.noop,afterBody:Ge.noop,beforeFooter:Ge.noop,footer:Ge.noop,afterFooter:Ge.noop}}});var aa={average:function(u){if(!u.length)return!1;var _,M,D=0,F=0,Y=0;for(_=0,M=u.length;_<M;++_){var f=u[_];if(f&&f.hasValue()){var i=f.tooltipPosition();D+=i.x,F+=i.y,++Y}}return{x:D/Y,y:F/Y}},nearest:function(u,_){var M=_.x,D=_.y,F=Number.POSITIVE_INFINITY,Y,f,i;for(Y=0,f=u.length;Y<f;++Y){var c=u[Y];if(c&&c.hasValue()){var v=c.getCenterPoint(),T=Ge.distanceBetweenPoints(_,v);T<F&&(F=T,i=c)}}if(i){var A=i.tooltipPosition();M=A.x,D=A.y}return{x:M,y:D}}};function Qn(u,_){return _&&(Ge.isArray(_)?Array.prototype.push.apply(u,_):u.push(_)),u}function xr(u){return(typeof u=="string"||u instanceof String)&&u.indexOf(`
`)>-1?u.split(`
`):u}function sa(u){var _=u._xScale,M=u._yScale||u._scale,D=u._index,F=u._datasetIndex,Y=u._chart.getDatasetMeta(F).controller,f=Y._getIndexScale(),i=Y._getValueScale();return{xLabel:_?_.getLabelForIndex(D,F):"",yLabel:M?M.getLabelForIndex(D,F):"",label:f?""+f.getLabelForIndex(D,F):"",value:i?""+i.getLabelForIndex(D,F):"",index:D,datasetIndex:F,x:u._model.x,y:u._model.y}}function Qa(u){var _=Fi.global;return{xPadding:u.xPadding,yPadding:u.yPadding,xAlign:u.xAlign,yAlign:u.yAlign,rtl:u.rtl,textDirection:u.textDirection,bodyFontColor:u.bodyFontColor,_bodyFontFamily:Jn(u.bodyFontFamily,_.defaultFontFamily),_bodyFontStyle:Jn(u.bodyFontStyle,_.defaultFontStyle),_bodyAlign:u.bodyAlign,bodyFontSize:Jn(u.bodyFontSize,_.defaultFontSize),bodySpacing:u.bodySpacing,titleFontColor:u.titleFontColor,_titleFontFamily:Jn(u.titleFontFamily,_.defaultFontFamily),_titleFontStyle:Jn(u.titleFontStyle,_.defaultFontStyle),titleFontSize:Jn(u.titleFontSize,_.defaultFontSize),_titleAlign:u.titleAlign,titleSpacing:u.titleSpacing,titleMarginBottom:u.titleMarginBottom,footerFontColor:u.footerFontColor,_footerFontFamily:Jn(u.footerFontFamily,_.defaultFontFamily),_footerFontStyle:Jn(u.footerFontStyle,_.defaultFontStyle),footerFontSize:Jn(u.footerFontSize,_.defaultFontSize),_footerAlign:u.footerAlign,footerSpacing:u.footerSpacing,footerMarginTop:u.footerMarginTop,caretSize:u.caretSize,cornerRadius:u.cornerRadius,backgroundColor:u.backgroundColor,opacity:0,legendColorBackground:u.multiKeyBackground,displayColors:u.displayColors,borderColor:u.borderColor,borderWidth:u.borderWidth}}function ca(u,_){var M=u._chart.ctx,D=_.yPadding*2,F=0,Y=_.body,f=Y.reduce(function(G,ie){return G+ie.before.length+ie.lines.length+ie.after.length},0);f+=_.beforeBody.length+_.afterBody.length;var i=_.title.length,c=_.footer.length,v=_.titleFontSize,T=_.bodyFontSize,A=_.footerFontSize;D+=i*v,D+=i?(i-1)*_.titleSpacing:0,D+=i?_.titleMarginBottom:0,D+=f*T,D+=f?(f-1)*_.bodySpacing:0,D+=c?_.footerMarginTop:0,D+=c*A,D+=c?(c-1)*_.footerSpacing:0;var R=0,V=function(G){F=Math.max(F,M.measureText(G).width+R)};return M.font=Ge.fontString(v,_._titleFontStyle,_._titleFontFamily),Ge.each(_.title,V),M.font=Ge.fontString(T,_._bodyFontStyle,_._bodyFontFamily),Ge.each(_.beforeBody.concat(_.afterBody),V),R=_.displayColors?T+2:0,Ge.each(Y,function(G){Ge.each(G.before,V),Ge.each(G.lines,V),Ge.each(G.after,V)}),R=0,M.font=Ge.fontString(A,_._footerFontStyle,_._footerFontFamily),Ge.each(_.footer,V),F+=2*_.xPadding,{width:F,height:D}}function Ts(u,_){var M=u._model,D=u._chart,F=u._chart.chartArea,Y="center",f="center";M.y<_.height?f="top":M.y>D.height-_.height&&(f="bottom");var i,c,v,T,A,R=(F.left+F.right)/2,V=(F.top+F.bottom)/2;f==="center"?(i=function(ie){return ie<=R},c=function(ie){return ie>R}):(i=function(ie){return ie<=_.width/2},c=function(ie){return ie>=D.width-_.width/2}),v=function(ie){return ie+_.width+M.caretSize+M.caretPadding>D.width},T=function(ie){return ie-_.width-M.caretSize-M.caretPadding<0},A=function(ie){return ie<=V?"top":"bottom"},i(M.x)?(Y="left",v(M.x)&&(Y="center",f=A(M.y))):c(M.x)&&(Y="right",T(M.x)&&(Y="center",f=A(M.y)));var G=u._options;return{xAlign:G.xAlign?G.xAlign:Y,yAlign:G.yAlign?G.yAlign:f}}function Ko(u,_,M,D){var F=u.x,Y=u.y,f=u.caretSize,i=u.caretPadding,c=u.cornerRadius,v=M.xAlign,T=M.yAlign,A=f+i,R=c+i;return v==="right"?F-=_.width:v==="center"&&(F-=_.width/2,F+_.width>D.width&&(F=D.width-_.width),F<0&&(F=0)),T==="top"?Y+=A:T==="bottom"?Y-=_.height+A:Y-=_.height/2,T==="center"?v==="left"?F+=A:v==="right"&&(F-=A):v==="left"?F-=R:v==="right"&&(F+=R),{x:F,y:Y}}function ds(u,_){return _==="center"?u.x+u.width/2:_==="right"?u.x+u.width-u.xPadding:u.x+u.xPadding}function Jo(u){return Qn([],xr(u))}var Kr=qr.extend({initialize:function(){this._model=Qa(this._options),this._lastActive=[]},getTitle:function(){var u=this,_=u._options,M=_.callbacks,D=M.beforeTitle.apply(u,arguments),F=M.title.apply(u,arguments),Y=M.afterTitle.apply(u,arguments),f=[];return f=Qn(f,xr(D)),f=Qn(f,xr(F)),f=Qn(f,xr(Y)),f},getBeforeBody:function(){return Jo(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(u,_){var M=this,D=M._options.callbacks,F=[];return Ge.each(u,function(Y){var f={before:[],lines:[],after:[]};Qn(f.before,xr(D.beforeLabel.call(M,Y,_))),Qn(f.lines,D.label.call(M,Y,_)),Qn(f.after,xr(D.afterLabel.call(M,Y,_))),F.push(f)}),F},getAfterBody:function(){return Jo(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var u=this,_=u._options.callbacks,M=_.beforeFooter.apply(u,arguments),D=_.footer.apply(u,arguments),F=_.afterFooter.apply(u,arguments),Y=[];return Y=Qn(Y,xr(M)),Y=Qn(Y,xr(D)),Y=Qn(Y,xr(F)),Y},update:function(u){var _=this,M=_._options,D=_._model,F=_._model=Qa(M),Y=_._active,f=_._data,i={xAlign:D.xAlign,yAlign:D.yAlign},c={x:D.x,y:D.y},v={width:D.width,height:D.height},T={x:D.caretX,y:D.caretY},A,R;if(Y.length){F.opacity=1;var V=[],G=[];T=aa[M.position].call(_,Y,_._eventPosition);var ie=[];for(A=0,R=Y.length;A<R;++A)ie.push(sa(Y[A]));M.filter&&(ie=ie.filter(function(ae){return M.filter(ae,f)})),M.itemSort&&(ie=ie.sort(function(ae,be){return M.itemSort(ae,be,f)})),Ge.each(ie,function(ae){V.push(M.callbacks.labelColor.call(_,ae,_._chart)),G.push(M.callbacks.labelTextColor.call(_,ae,_._chart))}),F.title=_.getTitle(ie,f),F.beforeBody=_.getBeforeBody(ie,f),F.body=_.getBody(ie,f),F.afterBody=_.getAfterBody(ie,f),F.footer=_.getFooter(ie,f),F.x=T.x,F.y=T.y,F.caretPadding=M.caretPadding,F.labelColors=V,F.labelTextColors=G,F.dataPoints=ie,v=ca(this,F),i=Ts(this,v),c=Ko(F,v,i,_._chart)}else F.opacity=0;return F.xAlign=i.xAlign,F.yAlign=i.yAlign,F.x=c.x,F.y=c.y,F.width=v.width,F.height=v.height,F.caretX=T.x,F.caretY=T.y,_._model=F,u&&M.custom&&M.custom.call(_,F),_},drawCaret:function(u,_){var M=this._chart.ctx,D=this._view,F=this.getCaretPosition(u,_,D);M.lineTo(F.x1,F.y1),M.lineTo(F.x2,F.y2),M.lineTo(F.x3,F.y3)},getCaretPosition:function(u,_,M){var D,F,Y,f,i,c,v=M.caretSize,T=M.cornerRadius,A=M.xAlign,R=M.yAlign,V=u.x,G=u.y,ie=_.width,ae=_.height;if(R==="center")i=G+ae/2,A==="left"?(D=V,F=D-v,Y=D,f=i+v,c=i-v):(D=V+ie,F=D+v,Y=D,f=i-v,c=i+v);else if(A==="left"?(F=V+T+v,D=F-v,Y=F+v):A==="right"?(F=V+ie-T-v,D=F-v,Y=F+v):(F=M.caretX,D=F-v,Y=F+v),R==="top")f=G,i=f-v,c=f;else{f=G+ae,i=f+v,c=f;var be=Y;Y=D,D=be}return{x1:D,x2:F,x3:Y,y1:f,y2:i,y3:c}},drawTitle:function(u,_,M){var D=_.title,F=D.length,Y,f,i;if(F){var c=Bs(_.rtl,_.x,_.width);for(u.x=ds(_,_._titleAlign),M.textAlign=c.textAlign(_._titleAlign),M.textBaseline="middle",Y=_.titleFontSize,f=_.titleSpacing,M.fillStyle=_.titleFontColor,M.font=Ge.fontString(Y,_._titleFontStyle,_._titleFontFamily),i=0;i<F;++i)M.fillText(D[i],c.x(u.x),u.y+Y/2),u.y+=Y+f,i+1===F&&(u.y+=_.titleMarginBottom-f)}},drawBody:function(u,_,M){var D=_.bodyFontSize,F=_.bodySpacing,Y=_._bodyAlign,f=_.body,i=_.displayColors,c=0,v=i?ds(_,"left"):0,T=Bs(_.rtl,_.x,_.width),A=function(Xe){M.fillText(Xe,T.x(u.x+c),u.y+D/2),u.y+=D+F},R,V,G,ie,ae,be,Fe,$e,Je=T.textAlign(Y);for(M.textAlign=Y,M.textBaseline="middle",M.font=Ge.fontString(D,_._bodyFontStyle,_._bodyFontFamily),u.x=ds(_,Je),M.fillStyle=_.bodyFontColor,Ge.each(_.beforeBody,A),c=i&&Je!=="right"?Y==="center"?D/2+1:D+2:0,ae=0,Fe=f.length;ae<Fe;++ae){for(R=f[ae],V=_.labelTextColors[ae],G=_.labelColors[ae],M.fillStyle=V,Ge.each(R.before,A),ie=R.lines,be=0,$e=ie.length;be<$e;++be){if(i){var tt=T.x(v);M.fillStyle=_.legendColorBackground,M.fillRect(T.leftForLtr(tt,D),u.y,D,D),M.lineWidth=1,M.strokeStyle=G.borderColor,M.strokeRect(T.leftForLtr(tt,D),u.y,D,D),M.fillStyle=G.backgroundColor,M.fillRect(T.leftForLtr(T.xPlus(tt,1),D-2),u.y+1,D-2,D-2),M.fillStyle=V}A(ie[be])}Ge.each(R.after,A)}c=0,Ge.each(_.afterBody,A),u.y-=F},drawFooter:function(u,_,M){var D=_.footer,F=D.length,Y,f;if(F){var i=Bs(_.rtl,_.x,_.width);for(u.x=ds(_,_._footerAlign),u.y+=_.footerMarginTop,M.textAlign=i.textAlign(_._footerAlign),M.textBaseline="middle",Y=_.footerFontSize,M.fillStyle=_.footerFontColor,M.font=Ge.fontString(Y,_._footerFontStyle,_._footerFontFamily),f=0;f<F;++f)M.fillText(D[f],i.x(u.x),u.y+Y/2),u.y+=Y+_.footerSpacing}},drawBackground:function(u,_,M,D){M.fillStyle=_.backgroundColor,M.strokeStyle=_.borderColor,M.lineWidth=_.borderWidth;var F=_.xAlign,Y=_.yAlign,f=u.x,i=u.y,c=D.width,v=D.height,T=_.cornerRadius;M.beginPath(),M.moveTo(f+T,i),Y==="top"&&this.drawCaret(u,D),M.lineTo(f+c-T,i),M.quadraticCurveTo(f+c,i,f+c,i+T),Y==="center"&&F==="right"&&this.drawCaret(u,D),M.lineTo(f+c,i+v-T),M.quadraticCurveTo(f+c,i+v,f+c-T,i+v),Y==="bottom"&&this.drawCaret(u,D),M.lineTo(f+T,i+v),M.quadraticCurveTo(f,i+v,f,i+v-T),Y==="center"&&F==="left"&&this.drawCaret(u,D),M.lineTo(f,i+T),M.quadraticCurveTo(f,i,f+T,i),M.closePath(),M.fill(),_.borderWidth>0&&M.stroke()},draw:function(){var u=this._chart.ctx,_=this._view;if(_.opacity!==0){var M={width:_.width,height:_.height},D={x:_.x,y:_.y},F=Math.abs(_.opacity<.001)?0:_.opacity,Y=_.title.length||_.beforeBody.length||_.body.length||_.afterBody.length||_.footer.length;this._options.enabled&&Y&&(u.save(),u.globalAlpha=F,this.drawBackground(D,_,u,M),D.y+=_.yPadding,Ge.rtl.overrideTextDirection(u,_.textDirection),this.drawTitle(D,_,u),this.drawBody(D,_,u),this.drawFooter(D,_,u),Ge.rtl.restoreTextDirection(u,_.textDirection),u.restore())}},handleEvent:function(u){var _=this,M=_._options,D=!1;return _._lastActive=_._lastActive||[],u.type==="mouseout"?_._active=[]:(_._active=_._chart.getElementsAtEventForMode(u,M.mode,M),M.reverse&&_._active.reverse()),D=!Ge.arrayEquals(_._active,_._lastActive),D&&(_._lastActive=_._active,(M.enabled||M.custom)&&(_._eventPosition={x:u.x,y:u.y},_.update(!0),_.pivot())),D}}),Ss=aa,Ks=Kr;Ks.positioners=Ss;var Wa=Ge.valueOrDefault;Fi._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function vl(){return Ge.merge(Object.create(null),[].slice.call(arguments),{merger:function(u,_,M,D){if(u==="xAxes"||u==="yAxes"){var F=M[u].length,Y,f,i;for(_[u]||(_[u]=[]),Y=0;Y<F;++Y)i=M[u][Y],f=Wa(i.type,u==="xAxes"?"category":"linear"),Y>=_[u].length&&_[u].push({}),!_[u][Y].type||i.type&&i.type!==_[u][Y].type?Ge.merge(_[u][Y],[zr.getScaleDefaults(f),i]):Ge.merge(_[u][Y],i)}else Ge._merger(u,_,M,D)}})}function As(){return Ge.merge(Object.create(null),[].slice.call(arguments),{merger:function(u,_,M,D){var F=_[u]||Object.create(null),Y=M[u];u==="scales"?_[u]=vl(F,Y):u==="scale"?_[u]=Ge.merge(F,[zr.getScaleDefaults(Y.type),Y]):Ge._merger(u,_,M,D)}})}function es(u){u=u||Object.create(null);var _=u.data=u.data||{};return _.datasets=_.datasets||[],_.labels=_.labels||[],u.options=As(Fi.global,Fi[u.type],u.options||{}),u}function Sc(u){var _=u.options;Ge.each(u.scales,function(M){Ja.removeBox(u,M)}),_=As(Fi.global,Fi[u.config.type],_),u.options=u.config.options=_,u.ensureScalesHaveIDs(),u.buildOrUpdateScales(),u.tooltip._options=_.tooltips,u.tooltip.initialize()}function go(u,_,M){var D,F=function(Y){return Y.id===D};do D=_+M++;while(Ge.findIndex(u,F)>=0);return D}function vo(u){return u==="top"||u==="bottom"}function Xl(u,_){return function(M,D){return M[u]===D[u]?M[_]-D[_]:M[u]-D[u]}}var Ra=function(u,_){return this.construct(u,_),this};Ge.extend(Ra.prototype,{construct:function(u,_){var M=this;_=es(_);var D=zn.acquireContext(u,_),F=D&&D.canvas,Y=F&&F.height,f=F&&F.width;if(M.id=Ge.uid(),M.ctx=D,M.canvas=F,M.config=_,M.width=f,M.height=Y,M.aspectRatio=Y?f/Y:null,M.options=_.options,M._bufferedRender=!1,M._layers=[],M.chart=M,M.controller=M,Ra.instances[M.id]=M,Object.defineProperty(M,"data",{get:function(){return M.config.data},set:function(i){M.config.data=i}}),!D||!F){console.error("Failed to create chart: can't acquire context from the given item");return}M.initialize(),M.update()},initialize:function(){var u=this;return Qi.notify(u,"beforeInit"),Ge.retinaScale(u,u.options.devicePixelRatio),u.bindEvents(),u.options.responsive&&u.resize(!0),u.initToolTip(),Qi.notify(u,"afterInit"),u},clear:function(){return Ge.canvas.clear(this),this},stop:function(){return Ur.cancelAnimation(this),this},resize:function(u){var _=this,M=_.options,D=_.canvas,F=M.maintainAspectRatio&&_.aspectRatio||null,Y=Math.max(0,Math.floor(Ge.getMaximumWidth(D))),f=Math.max(0,Math.floor(F?Y/F:Ge.getMaximumHeight(D)));if(!(_.width===Y&&_.height===f)&&(D.width=_.width=Y,D.height=_.height=f,D.style.width=Y+"px",D.style.height=f+"px",Ge.retinaScale(_,M.devicePixelRatio),!u)){var i={width:Y,height:f};Qi.notify(_,"resize",[i]),M.onResize&&M.onResize(_,i),_.stop(),_.update({duration:M.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var u=this.options,_=u.scales||{},M=u.scale;Ge.each(_.xAxes,function(D,F){D.id||(D.id=go(_.xAxes,"x-axis-",F))}),Ge.each(_.yAxes,function(D,F){D.id||(D.id=go(_.yAxes,"y-axis-",F))}),M&&(M.id=M.id||"scale")},buildOrUpdateScales:function(){var u=this,_=u.options,M=u.scales||{},D=[],F=Object.keys(M).reduce(function(Y,f){return Y[f]=!1,Y},{});_.scales&&(D=D.concat((_.scales.xAxes||[]).map(function(Y){return{options:Y,dtype:"category",dposition:"bottom"}}),(_.scales.yAxes||[]).map(function(Y){return{options:Y,dtype:"linear",dposition:"left"}}))),_.scale&&D.push({options:_.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Ge.each(D,function(Y){var f=Y.options,i=f.id,c=Wa(f.type,Y.dtype);vo(f.position)!==vo(Y.dposition)&&(f.position=Y.dposition),F[i]=!0;var v=null;if(i in M&&M[i].type===c)v=M[i],v.options=f,v.ctx=u.ctx,v.chart=u;else{var T=zr.getScaleConstructor(c);if(!T)return;v=new T({id:i,type:c,options:f,ctx:u.ctx,chart:u}),M[v.id]=v}v.mergeTicksOptions(),Y.isDefault&&(u.scale=v)}),Ge.each(F,function(Y,f){Y||delete M[f]}),u.scales=M,zr.addScalesToLayout(this)},buildOrUpdateControllers:function(){var u=this,_=[],M=u.data.datasets,D,F;for(D=0,F=M.length;D<F;D++){var Y=M[D],f=u.getDatasetMeta(D),i=Y.type||u.config.type;if(f.type&&f.type!==i&&(u.destroyDatasetMeta(D),f=u.getDatasetMeta(D)),f.type=i,f.order=Y.order||0,f.index=D,f.controller)f.controller.updateIndex(D),f.controller.linkScales();else{var c=$o[f.type];if(c===void 0)throw new Error('"'+f.type+'" is not a chart type.');f.controller=new c(u,D),_.push(f.controller)}}return _},resetElements:function(){var u=this;Ge.each(u.data.datasets,function(_,M){u.getDatasetMeta(M).controller.reset()},u)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(u){var _=this,M,D;if((!u||typeof u!="object")&&(u={duration:u,lazy:arguments[1]}),Sc(_),Qi._invalidate(_),Qi.notify(_,"beforeUpdate")!==!1){_.tooltip._data=_.data;var F=_.buildOrUpdateControllers();for(M=0,D=_.data.datasets.length;M<D;M++)_.getDatasetMeta(M).controller.buildOrUpdateElements();_.updateLayout(),_.options.animation&&_.options.animation.duration&&Ge.each(F,function(Y){Y.reset()}),_.updateDatasets(),_.tooltip.initialize(),_.lastActive=[],Qi.notify(_,"afterUpdate"),_._layers.sort(Xl("z","_idx")),_._bufferedRender?_._bufferedRequest={duration:u.duration,easing:u.easing,lazy:u.lazy}:_.render(u)}},updateLayout:function(){var u=this;Qi.notify(u,"beforeLayout")!==!1&&(Ja.update(this,this.width,this.height),u._layers=[],Ge.each(u.boxes,function(_){_._configure&&_._configure(),u._layers.push.apply(u._layers,_._layers())},u),u._layers.forEach(function(_,M){_._idx=M}),Qi.notify(u,"afterScaleUpdate"),Qi.notify(u,"afterLayout"))},updateDatasets:function(){var u=this;if(Qi.notify(u,"beforeDatasetsUpdate")!==!1){for(var _=0,M=u.data.datasets.length;_<M;++_)u.updateDataset(_);Qi.notify(u,"afterDatasetsUpdate")}},updateDataset:function(u){var _=this,M=_.getDatasetMeta(u),D={meta:M,index:u};Qi.notify(_,"beforeDatasetUpdate",[D])!==!1&&(M.controller._update(),Qi.notify(_,"afterDatasetUpdate",[D]))},render:function(u){var _=this;(!u||typeof u!="object")&&(u={duration:u,lazy:arguments[1]});var M=_.options.animation,D=Wa(u.duration,M&&M.duration),F=u.lazy;if(Qi.notify(_,"beforeRender")!==!1){var Y=function(i){Qi.notify(_,"afterRender"),Ge.callback(M&&M.onComplete,[i],_)};if(M&&D){var f=new Oa({numSteps:D/16.66,easing:u.easing||M.easing,render:function(i,c){var v=Ge.easing.effects[c.easing],T=c.currentStep,A=T/c.numSteps;i.draw(v(A),A,T)},onAnimationProgress:M.onProgress,onAnimationComplete:Y});Ur.addAnimation(_,f,D,F)}else _.draw(),Y(new Oa({numSteps:0,chart:_}));return _}},draw:function(u){var _=this,M,D;if(_.clear(),Ge.isNullOrUndef(u)&&(u=1),_.transition(u),!(_.width<=0||_.height<=0)&&Qi.notify(_,"beforeDraw",[u])!==!1){for(D=_._layers,M=0;M<D.length&&D[M].z<=0;++M)D[M].draw(_.chartArea);for(_.drawDatasets(u);M<D.length;++M)D[M].draw(_.chartArea);_._drawTooltip(u),Qi.notify(_,"afterDraw",[u])}},transition:function(u){for(var _=this,M=0,D=(_.data.datasets||[]).length;M<D;++M)_.isDatasetVisible(M)&&_.getDatasetMeta(M).controller.transition(u);_.tooltip.transition(u)},_getSortedDatasetMetas:function(u){var _=this,M=_.data.datasets||[],D=[],F,Y;for(F=0,Y=M.length;F<Y;++F)(!u||_.isDatasetVisible(F))&&D.push(_.getDatasetMeta(F));return D.sort(Xl("order","index")),D},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(u){var _=this,M,D;if(Qi.notify(_,"beforeDatasetsDraw",[u])!==!1){for(M=_._getSortedVisibleDatasetMetas(),D=M.length-1;D>=0;--D)_.drawDataset(M[D],u);Qi.notify(_,"afterDatasetsDraw",[u])}},drawDataset:function(u,_){var M=this,D={meta:u,index:u.index,easingValue:_};Qi.notify(M,"beforeDatasetDraw",[D])!==!1&&(u.controller.draw(_),Qi.notify(M,"afterDatasetDraw",[D]))},_drawTooltip:function(u){var _=this,M=_.tooltip,D={tooltip:M,easingValue:u};Qi.notify(_,"beforeTooltipDraw",[D])!==!1&&(M.draw(),Qi.notify(_,"afterTooltipDraw",[D]))},getElementAtEvent:function(u){return la.modes.single(this,u)},getElementsAtEvent:function(u){return la.modes.label(this,u,{intersect:!0})},getElementsAtXAxis:function(u){return la.modes["x-axis"](this,u,{intersect:!0})},getElementsAtEventForMode:function(u,_,M){var D=la.modes[_];return typeof D=="function"?D(this,u,M):[]},getDatasetAtEvent:function(u){return la.modes.dataset(this,u,{intersect:!0})},getDatasetMeta:function(u){var _=this,M=_.data.datasets[u];M._meta||(M._meta={});var D=M._meta[_.id];return D||(D=M._meta[_.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:M.order||0,index:u}),D},getVisibleDatasetCount:function(){for(var u=0,_=0,M=this.data.datasets.length;_<M;++_)this.isDatasetVisible(_)&&u++;return u},isDatasetVisible:function(u){var _=this.getDatasetMeta(u);return typeof _.hidden=="boolean"?!_.hidden:!this.data.datasets[u].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(u){var _=this.id,M=this.data.datasets[u],D=M._meta&&M._meta[_];D&&(D.controller.destroy(),delete M._meta[_])},destroy:function(){var u=this,_=u.canvas,M,D;for(u.stop(),M=0,D=u.data.datasets.length;M<D;++M)u.destroyDatasetMeta(M);_&&(u.unbindEvents(),Ge.canvas.clear(u),zn.releaseContext(u.ctx),u.canvas=null,u.ctx=null),Qi.notify(u,"destroy"),delete Ra.instances[u.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var u=this;u.tooltip=new Ks({_chart:u,_chartInstance:u,_data:u.data,_options:u.options.tooltips},u)},bindEvents:function(){var u=this,_=u._listeners={},M=function(){u.eventHandler.apply(u,arguments)};Ge.each(u.options.events,function(D){zn.addEventListener(u,D,M),_[D]=M}),u.options.responsive&&(M=function(){u.resize()},zn.addEventListener(u,"resize",M),_.resize=M)},unbindEvents:function(){var u=this,_=u._listeners;_&&(delete u._listeners,Ge.each(_,function(M,D){zn.removeEventListener(u,D,M)}))},updateHoverStyle:function(u,_,M){var D=M?"set":"remove",F,Y,f;for(Y=0,f=u.length;Y<f;++Y)F=u[Y],F&&this.getDatasetMeta(F._datasetIndex).controller[D+"HoverStyle"](F);_==="dataset"&&this.getDatasetMeta(u[0]._datasetIndex).controller["_"+D+"DatasetHoverStyle"]()},eventHandler:function(u){var _=this,M=_.tooltip;if(Qi.notify(_,"beforeEvent",[u])!==!1){_._bufferedRender=!0,_._bufferedRequest=null;var D=_.handleEvent(u);M&&(D=M._start?M.handleEvent(u):D|M.handleEvent(u)),Qi.notify(_,"afterEvent",[u]);var F=_._bufferedRequest;return F?_.render(F):D&&!_.animating&&(_.stop(),_.render({duration:_.options.hover.animationDuration,lazy:!0})),_._bufferedRender=!1,_._bufferedRequest=null,_}},handleEvent:function(u){var _=this,M=_.options||{},D=M.hover,F=!1;return _.lastActive=_.lastActive||[],u.type==="mouseout"?_.active=[]:_.active=_.getElementsAtEventForMode(u,D.mode,D),Ge.callback(M.onHover||M.hover.onHover,[u.native,_.active],_),(u.type==="mouseup"||u.type==="click")&&M.onClick&&M.onClick.call(_,u.native,_.active),_.lastActive.length&&_.updateHoverStyle(_.lastActive,D.mode,!1),_.active.length&&D.mode&&_.updateHoverStyle(_.active,D.mode,!0),F=!Ge.arrayEquals(_.active,_.lastActive),_.lastActive=_.active,F}}),Ra.instances={};var Sr=Ra;Ra.Controller=Ra,Ra.types={},Ge.configMerge=As,Ge.scaleMerge=vl;var Ms=function(){Ge.where=function(D,F){if(Ge.isArray(D)&&Array.prototype.filter)return D.filter(F);var Y=[];return Ge.each(D,function(f){F(f)&&Y.push(f)}),Y},Ge.findIndex=Array.prototype.findIndex?function(D,F,Y){return D.findIndex(F,Y)}:function(D,F,Y){Y=Y===void 0?D:Y;for(var f=0,i=D.length;f<i;++f)if(F.call(Y,D[f],f,D))return f;return-1},Ge.findNextWhere=function(D,F,Y){Ge.isNullOrUndef(Y)&&(Y=-1);for(var f=Y+1;f<D.length;f++){var i=D[f];if(F(i))return i}},Ge.findPreviousWhere=function(D,F,Y){Ge.isNullOrUndef(Y)&&(Y=D.length);for(var f=Y-1;f>=0;f--){var i=D[f];if(F(i))return i}},Ge.isNumber=function(D){return!isNaN(parseFloat(D))&&isFinite(D)},Ge.almostEquals=function(D,F,Y){return Math.abs(D-F)<Y},Ge.almostWhole=function(D,F){var Y=Math.round(D);return Y-F<=D&&Y+F>=D},Ge.max=function(D){return D.reduce(function(F,Y){return isNaN(Y)?F:Math.max(F,Y)},Number.NEGATIVE_INFINITY)},Ge.min=function(D){return D.reduce(function(F,Y){return isNaN(Y)?F:Math.min(F,Y)},Number.POSITIVE_INFINITY)},Ge.sign=Math.sign?function(D){return Math.sign(D)}:function(D){return D=+D,D===0||isNaN(D)?D:D>0?1:-1},Ge.toRadians=function(D){return D*(Math.PI/180)},Ge.toDegrees=function(D){return D*(180/Math.PI)},Ge._decimalPlaces=function(D){if(Ge.isFinite(D)){for(var F=1,Y=0;Math.round(D*F)/F!==D;)F*=10,Y++;return Y}},Ge.getAngleFromPoint=function(D,F){var Y=F.x-D.x,f=F.y-D.y,i=Math.sqrt(Y*Y+f*f),c=Math.atan2(f,Y);return c<-.5*Math.PI&&(c+=2*Math.PI),{angle:c,distance:i}},Ge.distanceBetweenPoints=function(D,F){return Math.sqrt(Math.pow(F.x-D.x,2)+Math.pow(F.y-D.y,2))},Ge.aliasPixel=function(D){return D%2===0?0:.5},Ge._alignPixel=function(D,F,Y){var f=D.currentDevicePixelRatio,i=Y/2;return Math.round((F-i)*f)/f+i},Ge.splineCurve=function(D,F,Y,f){var i=D.skip?F:D,c=F,v=Y.skip?F:Y,T=Math.sqrt(Math.pow(c.x-i.x,2)+Math.pow(c.y-i.y,2)),A=Math.sqrt(Math.pow(v.x-c.x,2)+Math.pow(v.y-c.y,2)),R=T/(T+A),V=A/(T+A);R=isNaN(R)?0:R,V=isNaN(V)?0:V;var G=f*R,ie=f*V;return{previous:{x:c.x-G*(v.x-i.x),y:c.y-G*(v.y-i.y)},next:{x:c.x+ie*(v.x-i.x),y:c.y+ie*(v.y-i.y)}}},Ge.EPSILON=Number.EPSILON||1e-14,Ge.splineCurveMonotone=function(D){var F=(D||[]).map(function(ae){return{model:ae._model,deltaK:0,mK:0}}),Y=F.length,f,i,c,v;for(f=0;f<Y;++f)if(c=F[f],!c.model.skip){if(i=f>0?F[f-1]:null,v=f<Y-1?F[f+1]:null,v&&!v.model.skip){var T=v.model.x-c.model.x;c.deltaK=T!==0?(v.model.y-c.model.y)/T:0}!i||i.model.skip?c.mK=c.deltaK:!v||v.model.skip?c.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(c.deltaK)?c.mK=0:c.mK=(i.deltaK+c.deltaK)/2}var A,R,V,G;for(f=0;f<Y-1;++f)if(c=F[f],v=F[f+1],!(c.model.skip||v.model.skip)){if(Ge.almostEquals(c.deltaK,0,this.EPSILON)){c.mK=v.mK=0;continue}A=c.mK/c.deltaK,R=v.mK/c.deltaK,G=Math.pow(A,2)+Math.pow(R,2),!(G<=9)&&(V=3/Math.sqrt(G),c.mK=A*V*c.deltaK,v.mK=R*V*c.deltaK)}var ie;for(f=0;f<Y;++f)c=F[f],!c.model.skip&&(i=f>0?F[f-1]:null,v=f<Y-1?F[f+1]:null,i&&!i.model.skip&&(ie=(c.model.x-i.model.x)/3,c.model.controlPointPreviousX=c.model.x-ie,c.model.controlPointPreviousY=c.model.y-ie*c.mK),v&&!v.model.skip&&(ie=(v.model.x-c.model.x)/3,c.model.controlPointNextX=c.model.x+ie,c.model.controlPointNextY=c.model.y+ie*c.mK))},Ge.nextItem=function(D,F,Y){return Y?F>=D.length-1?D[0]:D[F+1]:F>=D.length-1?D[D.length-1]:D[F+1]},Ge.previousItem=function(D,F,Y){return Y?F<=0?D[D.length-1]:D[F-1]:F<=0?D[0]:D[F-1]},Ge.niceNum=function(D,F){var Y=Math.floor(Ge.log10(D)),f=D/Math.pow(10,Y),i;return F?f<1.5?i=1:f<3?i=2:f<7?i=5:i=10:f<=1?i=1:f<=2?i=2:f<=5?i=5:i=10,i*Math.pow(10,Y)},Ge.requestAnimFrame=function(){return typeof window>"u"?function(D){D()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(D){return window.setTimeout(D,1e3/60)}}(),Ge.getRelativePosition=function(D,F){var Y,f,i=D.originalEvent||D,c=D.target||D.srcElement,v=c.getBoundingClientRect(),T=i.touches;T&&T.length>0?(Y=T[0].clientX,f=T[0].clientY):(Y=i.clientX,f=i.clientY);var A=parseFloat(Ge.getStyle(c,"padding-left")),R=parseFloat(Ge.getStyle(c,"padding-top")),V=parseFloat(Ge.getStyle(c,"padding-right")),G=parseFloat(Ge.getStyle(c,"padding-bottom")),ie=v.right-v.left-A-V,ae=v.bottom-v.top-R-G;return Y=Math.round((Y-v.left-A)/ie*c.width/F.currentDevicePixelRatio),f=Math.round((f-v.top-R)/ae*c.height/F.currentDevicePixelRatio),{x:Y,y:f}};function u(D,F,Y){var f;return typeof D=="string"?(f=parseInt(D,10),D.indexOf("%")!==-1&&(f=f/100*F.parentNode[Y])):f=D,f}function _(D){return D!=null&&D!=="none"}function M(D,F,Y){var f=document.defaultView,i=Ge._getParentNode(D),c=f.getComputedStyle(D)[F],v=f.getComputedStyle(i)[F],T=_(c),A=_(v),R=Number.POSITIVE_INFINITY;return T||A?Math.min(T?u(c,D,Y):R,A?u(v,i,Y):R):"none"}Ge.getConstraintWidth=function(D){return M(D,"max-width","clientWidth")},Ge.getConstraintHeight=function(D){return M(D,"max-height","clientHeight")},Ge._calculatePadding=function(D,F,Y){return F=Ge.getStyle(D,F),F.indexOf("%")>-1?Y*parseInt(F,10)/100:parseInt(F,10)},Ge._getParentNode=function(D){var F=D.parentNode;return F&&F.toString()==="[object ShadowRoot]"&&(F=F.host),F},Ge.getMaximumWidth=function(D){var F=Ge._getParentNode(D);if(!F)return D.clientWidth;var Y=F.clientWidth,f=Ge._calculatePadding(F,"padding-left",Y),i=Ge._calculatePadding(F,"padding-right",Y),c=Y-f-i,v=Ge.getConstraintWidth(D);return isNaN(v)?c:Math.min(c,v)},Ge.getMaximumHeight=function(D){var F=Ge._getParentNode(D);if(!F)return D.clientHeight;var Y=F.clientHeight,f=Ge._calculatePadding(F,"padding-top",Y),i=Ge._calculatePadding(F,"padding-bottom",Y),c=Y-f-i,v=Ge.getConstraintHeight(D);return isNaN(v)?c:Math.min(c,v)},Ge.getStyle=function(D,F){return D.currentStyle?D.currentStyle[F]:document.defaultView.getComputedStyle(D,null).getPropertyValue(F)},Ge.retinaScale=function(D,F){var Y=D.currentDevicePixelRatio=F||typeof window<"u"&&window.devicePixelRatio||1;if(Y!==1){var f=D.canvas,i=D.height,c=D.width;f.height=i*Y,f.width=c*Y,D.ctx.scale(Y,Y),!f.style.height&&!f.style.width&&(f.style.height=i+"px",f.style.width=c+"px")}},Ge.fontString=function(D,F,Y){return F+" "+D+"px "+Y},Ge.longestText=function(D,F,Y,f){f=f||{};var i=f.data=f.data||{},c=f.garbageCollect=f.garbageCollect||[];f.font!==F&&(i=f.data={},c=f.garbageCollect=[],f.font=F),D.font=F;var v=0,T=Y.length,A,R,V,G,ie;for(A=0;A<T;A++)if(G=Y[A],G!=null&&Ge.isArray(G)!==!0)v=Ge.measureText(D,i,c,v,G);else if(Ge.isArray(G))for(R=0,V=G.length;R<V;R++)ie=G[R],ie!=null&&!Ge.isArray(ie)&&(v=Ge.measureText(D,i,c,v,ie));var ae=c.length/2;if(ae>Y.length){for(A=0;A<ae;A++)delete i[c[A]];c.splice(0,ae)}return v},Ge.measureText=function(D,F,Y,f,i){var c=F[i];return c||(c=F[i]=D.measureText(i).width,Y.push(i)),c>f&&(f=c),f},Ge.numberOfLabelLines=function(D){var F=1;return Ge.each(D,function(Y){Ge.isArray(Y)&&Y.length>F&&(F=Y.length)}),F},Ge.color=Ze?function(D){return D instanceof CanvasGradient&&(D=Fi.global.defaultColor),Ze(D)}:function(D){return console.error("Color.js not found!"),D},Ge.getHoverColor=function(D){return D instanceof CanvasPattern||D instanceof CanvasGradient?D:Ge.color(D).saturate(.5).darken(.1).rgbString()}};function za(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ts(u){this.options=u||{}}Ge.extend(ts.prototype,{formats:za,parse:za,format:za,add:za,diff:za,startOf:za,endOf:za,_create:function(u){return u}}),ts.override=function(u){Ge.extend(ts.prototype,u)};var yl=ts,Cs={_date:yl},ea={formatters:{values:function(u){return Ge.isArray(u)?u:""+u},linear:function(u,_,M){var D=M.length>3?M[2]-M[1]:M[1]-M[0];Math.abs(D)>1&&u!==Math.floor(u)&&(D=u-Math.floor(u));var F=Ge.log10(Math.abs(D)),Y="";if(u!==0){var f=Math.max(Math.abs(M[0]),Math.abs(M[M.length-1]));if(f<1e-4){var i=Ge.log10(Math.abs(u)),c=Math.floor(i)-Math.floor(F);c=Math.max(Math.min(c,20),0),Y=u.toExponential(c)}else{var v=-1*Math.floor(F);v=Math.max(Math.min(v,20),0),Y=u.toFixed(v)}}else Y="0";return Y},logarithmic:function(u,_,M){var D=u/Math.pow(10,Math.floor(Ge.log10(u)));return u===0?"0":D===1||D===2||D===5||_===0||_===M.length-1?u.toExponential():""}}},ya=Ge.isArray,js=Ge.isNullOrUndef,Ya=Ge.valueOrDefault,is=Ge.valueAtIndexOrDefault;Fi._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:ea.formatters.values,minor:{},major:{}}});function Zc(u,_){for(var M=[],D=u.length/_,F=0,Y=u.length;F<Y;F+=D)M.push(u[Math.floor(F)]);return M}function an(u,_,M){var D=u.getTicks().length,F=Math.min(_,D-1),Y=u.getPixelForTick(F),f=u._startPixel,i=u._endPixel,c=1e-6,v;if(!(M&&(D===1?v=Math.max(Y-f,i-Y):_===0?v=(u.getPixelForTick(1)-Y)/2:v=(Y-u.getPixelForTick(F-1))/2,Y+=F<_?v:-v,Y<f-c||Y>i+c)))return Y}function Is(u,_){Ge.each(u,function(M){var D=M.gc,F=D.length/2,Y;if(F>_){for(Y=0;Y<F;++Y)delete M.data[D[Y]];D.splice(0,F)}})}function Gn(u,_,M,D){var F=M.length,Y=[],f=[],i=[],c=0,v=0,T,A,R,V,G,ie,ae,be,Fe,$e,Je,tt,Xe;for(T=0;T<F;++T){if(V=M[T].label,G=M[T].major?_.major:_.minor,u.font=ie=G.string,ae=D[ie]=D[ie]||{data:{},gc:[]},be=G.lineHeight,Fe=$e=0,!js(V)&&!ya(V))Fe=Ge.measureText(u,ae.data,ae.gc,Fe,V),$e=be;else if(ya(V))for(A=0,R=V.length;A<R;++A)Je=V[A],!js(Je)&&!ya(Je)&&(Fe=Ge.measureText(u,ae.data,ae.gc,Fe,Je),$e+=be);Y.push(Fe),f.push($e),i.push(be/2),c=Math.max(Fe,c),v=Math.max($e,v)}Is(D,F),tt=Y.indexOf(c),Xe=f.indexOf(v);function qe(lt){return{width:Y[lt]||0,height:f[lt]||0,offset:i[lt]||0}}return{first:qe(0),last:qe(F-1),widest:qe(tt),highest:qe(Xe)}}function xa(u){return u.drawTicks?u.tickMarkLength:0}function rs(u){var _,M;return u.display?(_=Ge.options._parseFont(u),M=Ge.options.toPadding(u.padding),_.lineHeight+M.height):0}function $a(u,_){return Ge.extend(Ge.options._parseFont({fontFamily:Ya(_.fontFamily,u.fontFamily),fontSize:Ya(_.fontSize,u.fontSize),fontStyle:Ya(_.fontStyle,u.fontStyle),lineHeight:Ya(_.lineHeight,u.lineHeight)}),{color:Ge.options.resolve([_.fontColor,u.fontColor,Fi.global.defaultFontColor])})}function xl(u){var _=$a(u,u.minor),M=u.major.enabled?$a(u,u.major):_;return{minor:_,major:M}}function Qo(u){var _=[],M,D,F;for(D=0,F=u.length;D<F;++D)M=u[D],typeof M._index<"u"&&_.push(M);return _}function Js(u){var _=u.length,M,D;if(_<2)return!1;for(D=u[0],M=1;M<_;++M)if(u[M]-u[M-1]!==D)return!1;return D}function Qs(u,_,M,D){var F=Js(u),Y=(_.length-1)/D,f,i,c,v;if(!F)return Math.max(Y,1);for(f=Ge.math._factorize(F),c=0,v=f.length-1;c<v;c++)if(i=f[c],i>Y)return i;return Math.max(Y,1)}function _l(u){var _=[],M,D;for(M=0,D=u.length;M<D;M++)u[M].major&&_.push(M);return _}function bl(u,_,M){var D=0,F=_[0],Y,f;for(M=Math.ceil(M),Y=0;Y<u.length;Y++)f=u[Y],Y===F?(f._index=Y,D++,F=_[D*M]):delete f.label}function yo(u,_,M,D){var F=Ya(M,0),Y=Math.min(Ya(D,u.length),u.length),f=0,i,c,v,T;for(_=Math.ceil(_),D&&(i=D-M,_=i/Math.floor(i/_)),T=F;T<0;)f++,T=Math.round(F+f*_);for(c=Math.max(F,0);c<Y;c++)v=u[c],c===T?(v._index=c,f++,T=Math.round(F+f*_)):delete v.label}var Lo=qr.extend({zeroLineIndex:0,getPadding:function(){var u=this;return{left:u.paddingLeft||0,top:u.paddingTop||0,right:u.paddingRight||0,bottom:u.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var u=this.chart.data;return this.options.labels||(this.isHorizontal()?u.xLabels:u.yLabels)||u.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){Ge.callback(this.options.beforeUpdate,[this])},update:function(u,_,M){var D=this,F=D.options.ticks,Y=F.sampleSize,f,i,c,v,T;if(D.beforeUpdate(),D.maxWidth=u,D.maxHeight=_,D.margins=Ge.extend({left:0,right:0,top:0,bottom:0},M),D._ticks=null,D.ticks=null,D._labelSizes=null,D._maxLabelLines=0,D.longestLabelWidth=0,D.longestTextCache=D.longestTextCache||{},D._gridLineItems=null,D._labelItems=null,D.beforeSetDimensions(),D.setDimensions(),D.afterSetDimensions(),D.beforeDataLimits(),D.determineDataLimits(),D.afterDataLimits(),D.beforeBuildTicks(),v=D.buildTicks()||[],v=D.afterBuildTicks(v)||v,(!v||!v.length)&&D.ticks)for(v=[],f=0,i=D.ticks.length;f<i;++f)v.push({value:D.ticks[f],major:!1});return D._ticks=v,T=Y<v.length,c=D._convertTicksToLabels(T?Zc(v,Y):v),D._configure(),D.beforeCalculateTickRotation(),D.calculateTickRotation(),D.afterCalculateTickRotation(),D.beforeFit(),D.fit(),D.afterFit(),D._ticksToDraw=F.display&&(F.autoSkip||F.source==="auto")?D._autoSkip(v):v,T&&(c=D._convertTicksToLabels(D._ticksToDraw)),D.ticks=c,D.afterUpdate(),D.minSize},_configure:function(){var u=this,_=u.options.ticks.reverse,M,D;u.isHorizontal()?(M=u.left,D=u.right):(M=u.top,D=u.bottom,_=!_),u._startPixel=M,u._endPixel=D,u._reversePixels=_,u._length=D-M},afterUpdate:function(){Ge.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Ge.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var u=this;u.isHorizontal()?(u.width=u.maxWidth,u.left=0,u.right=u.width):(u.height=u.maxHeight,u.top=0,u.bottom=u.height),u.paddingLeft=0,u.paddingTop=0,u.paddingRight=0,u.paddingBottom=0},afterSetDimensions:function(){Ge.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Ge.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Ge.noop,afterDataLimits:function(){Ge.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Ge.callback(this.options.beforeBuildTicks,[this])},buildTicks:Ge.noop,afterBuildTicks:function(u){var _=this;return ya(u)&&u.length?Ge.callback(_.options.afterBuildTicks,[_,u]):(_.ticks=Ge.callback(_.options.afterBuildTicks,[_,_.ticks])||_.ticks,u)},beforeTickToLabelConversion:function(){Ge.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var u=this,_=u.options.ticks;u.ticks=u.ticks.map(_.userCallback||_.callback,this)},afterTickToLabelConversion:function(){Ge.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Ge.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var u=this,_=u.options,M=_.ticks,D=u.getTicks().length,F=M.minRotation||0,Y=M.maxRotation,f=F,i,c,v,T,A,R,V;if(!u._isVisible()||!M.display||F>=Y||D<=1||!u.isHorizontal()){u.labelRotation=F;return}i=u._getLabelSizes(),c=i.widest.width,v=i.highest.height-i.highest.offset,T=Math.min(u.maxWidth,u.chart.width-c),A=_.offset?u.maxWidth/D:T/(D-1),c+6>A&&(A=T/(D-(_.offset?.5:1)),R=u.maxHeight-xa(_.gridLines)-M.padding-rs(_.scaleLabel),V=Math.sqrt(c*c+v*v),f=Ge.toDegrees(Math.min(Math.asin(Math.min((i.highest.height+6)/A,1)),Math.asin(Math.min(R/V,1))-Math.asin(v/V))),f=Math.max(F,Math.min(Y,f))),u.labelRotation=f},afterCalculateTickRotation:function(){Ge.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Ge.callback(this.options.beforeFit,[this])},fit:function(){var u=this,_=u.minSize={width:0,height:0},M=u.chart,D=u.options,F=D.ticks,Y=D.scaleLabel,f=D.gridLines,i=u._isVisible(),c=D.position==="bottom",v=u.isHorizontal();if(v?_.width=u.maxWidth:i&&(_.width=xa(f)+rs(Y)),v?i&&(_.height=xa(f)+rs(Y)):_.height=u.maxHeight,F.display&&i){var T=xl(F),A=u._getLabelSizes(),R=A.first,V=A.last,G=A.widest,ie=A.highest,ae=T.minor.lineHeight*.4,be=F.padding;if(v){var Fe=u.labelRotation!==0,$e=Ge.toRadians(u.labelRotation),Je=Math.cos($e),tt=Math.sin($e),Xe=tt*G.width+Je*(ie.height-(Fe?ie.offset:0))+(Fe?0:ae);_.height=Math.min(u.maxHeight,_.height+Xe+be);var qe=u.getPixelForTick(0)-u.left,lt=u.right-u.getPixelForTick(u.getTicks().length-1),st,pt;Fe?(st=c?Je*R.width+tt*R.offset:tt*(R.height-R.offset),pt=c?tt*(V.height-V.offset):Je*V.width+tt*V.offset):(st=R.width/2,pt=V.width/2),u.paddingLeft=Math.max((st-qe)*u.width/(u.width-qe),0)+3,u.paddingRight=Math.max((pt-lt)*u.width/(u.width-lt),0)+3}else{var bt=F.mirror?0:G.width+be+ae;_.width=Math.min(u.maxWidth,_.width+bt),u.paddingTop=R.height/2,u.paddingBottom=V.height/2}}u.handleMargins(),v?(u.width=u._length=M.width-u.margins.left-u.margins.right,u.height=_.height):(u.width=_.width,u.height=u._length=M.height-u.margins.top-u.margins.bottom)},handleMargins:function(){var u=this;u.margins&&(u.margins.left=Math.max(u.paddingLeft,u.margins.left),u.margins.top=Math.max(u.paddingTop,u.margins.top),u.margins.right=Math.max(u.paddingRight,u.margins.right),u.margins.bottom=Math.max(u.paddingBottom,u.margins.bottom))},afterFit:function(){Ge.callback(this.options.afterFit,[this])},isHorizontal:function(){var u=this.options.position;return u==="top"||u==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(u){if(js(u))return NaN;if((typeof u=="number"||u instanceof Number)&&!isFinite(u))return NaN;if(u){if(this.isHorizontal()){if(u.x!==void 0)return this.getRightValue(u.x)}else if(u.y!==void 0)return this.getRightValue(u.y)}return u},_convertTicksToLabels:function(u){var _=this,M,D,F;for(_.ticks=u.map(function(Y){return Y.value}),_.beforeTickToLabelConversion(),M=_.convertTicksToLabels(u)||_.ticks,_.afterTickToLabelConversion(),D=0,F=u.length;D<F;++D)u[D].label=M[D];return M},_getLabelSizes:function(){var u=this,_=u._labelSizes;return _||(u._labelSizes=_=Gn(u.ctx,xl(u.options.ticks),u.getTicks(),u.longestTextCache),u.longestLabelWidth=_.widest.width),_},_parseValue:function(u){var _,M,D,F;return ya(u)?(_=+this.getRightValue(u[0]),M=+this.getRightValue(u[1]),D=Math.min(_,M),F=Math.max(_,M)):(u=+this.getRightValue(u),_=void 0,M=u,D=u,F=u),{min:D,max:F,start:_,end:M}},_getScaleLabel:function(u){var _=this._parseValue(u);return _.start!==void 0?"["+_.start+", "+_.end+"]":+this.getRightValue(u)},getLabelForIndex:Ge.noop,getPixelForValue:Ge.noop,getValueForPixel:Ge.noop,getPixelForTick:function(u){var _=this,M=_.options.offset,D=_._ticks.length,F=1/Math.max(D-(M?0:1),1);return u<0||u>D-1?null:_.getPixelForDecimal(u*F+(M?F/2:0))},getPixelForDecimal:function(u){var _=this;return _._reversePixels&&(u=1-u),_._startPixel+u*_._length},getDecimalForPixel:function(u){var _=(u-this._startPixel)/this._length;return this._reversePixels?1-_:_},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var u=this,_=u.min,M=u.max;return u.beginAtZero?0:_<0&&M<0?M:_>0&&M>0?_:0},_autoSkip:function(u){var _=this,M=_.options.ticks,D=_._length,F=M.maxTicksLimit||D/_._tickSize()+1,Y=M.major.enabled?_l(u):[],f=Y.length,i=Y[0],c=Y[f-1],v,T,A,R;if(f>F)return bl(u,Y,f/F),Qo(u);if(A=Qs(Y,u,D,F),f>0){for(v=0,T=f-1;v<T;v++)yo(u,A,Y[v],Y[v+1]);return R=f>1?(c-i)/(f-1):null,yo(u,A,Ge.isNullOrUndef(R)?0:i-R,i),yo(u,A,c,Ge.isNullOrUndef(R)?u.length:c+R),Qo(u)}return yo(u,A),Qo(u)},_tickSize:function(){var u=this,_=u.options.ticks,M=Ge.toRadians(u.labelRotation),D=Math.abs(Math.cos(M)),F=Math.abs(Math.sin(M)),Y=u._getLabelSizes(),f=_.autoSkipPadding||0,i=Y?Y.widest.width+f:0,c=Y?Y.highest.height+f:0;return u.isHorizontal()?c*D>i*F?i/D:c/F:c*F<i*D?c/D:i/F},_isVisible:function(){var u=this,_=u.chart,M=u.options.display,D,F,Y;if(M!=="auto")return!!M;for(D=0,F=_.data.datasets.length;D<F;++D)if(_.isDatasetVisible(D)&&(Y=_.getDatasetMeta(D),Y.xAxisID===u.id||Y.yAxisID===u.id))return!0;return!1},_computeGridLineItems:function(u){var _=this,M=_.chart,D=_.options,F=D.gridLines,Y=D.position,f=F.offsetGridLines,i=_.isHorizontal(),c=_._ticksToDraw,v=c.length+(f?1:0),T=xa(F),A=[],R=F.drawBorder?is(F.lineWidth,0,0):0,V=R/2,G=Ge._alignPixel,ie=function(ki){return G(M,ki,R)},ae,be,Fe,$e,Je,tt,Xe,qe,lt,st,pt,bt,xt,Lt,qt,Yt,jt;for(Y==="top"?(ae=ie(_.bottom),Xe=_.bottom-T,lt=ae-V,pt=ie(u.top)+V,xt=u.bottom):Y==="bottom"?(ae=ie(_.top),pt=u.top,xt=ie(u.bottom)-V,Xe=ae+V,lt=_.top+T):Y==="left"?(ae=ie(_.right),tt=_.right-T,qe=ae-V,st=ie(u.left)+V,bt=u.right):(ae=ie(_.left),st=u.left,bt=ie(u.right)-V,tt=ae+V,qe=_.left+T),be=0;be<v;++be)Fe=c[be]||{},!(js(Fe.label)&&be<c.length)&&(be===_.zeroLineIndex&&D.offset===f?(Lt=F.zeroLineWidth,qt=F.zeroLineColor,Yt=F.zeroLineBorderDash||[],jt=F.zeroLineBorderDashOffset||0):(Lt=is(F.lineWidth,be,1),qt=is(F.color,be,"rgba(0,0,0,0.1)"),Yt=F.borderDash||[],jt=F.borderDashOffset||0),$e=an(_,Fe._index||be,f),$e!==void 0&&(Je=G(M,$e,Lt),i?tt=qe=st=bt=Je:Xe=lt=pt=xt=Je,A.push({tx1:tt,ty1:Xe,tx2:qe,ty2:lt,x1:st,y1:pt,x2:bt,y2:xt,width:Lt,color:qt,borderDash:Yt,borderDashOffset:jt})));return A.ticksLength=v,A.borderValue=ae,A},_computeLabelItems:function(){var u=this,_=u.options,M=_.ticks,D=_.position,F=M.mirror,Y=u.isHorizontal(),f=u._ticksToDraw,i=xl(M),c=M.padding,v=xa(_.gridLines),T=-Ge.toRadians(u.labelRotation),A=[],R,V,G,ie,ae,be,Fe,$e,Je,tt,Xe,qe;for(D==="top"?(be=u.bottom-v-c,Fe=T?"left":"center"):D==="bottom"?(be=u.top+v+c,Fe=T?"right":"center"):D==="left"?(ae=u.right-(F?0:v)-c,Fe=F?"left":"right"):(ae=u.left+(F?0:v)+c,Fe=F?"right":"left"),R=0,V=f.length;R<V;++R)G=f[R],ie=G.label,!js(ie)&&($e=u.getPixelForTick(G._index||R)+M.labelOffset,Je=G.major?i.major:i.minor,tt=Je.lineHeight,Xe=ya(ie)?ie.length:1,Y?(ae=$e,qe=D==="top"?((T?1:.5)-Xe)*tt:(T?0:.5)*tt):(be=$e,qe=(1-Xe)*tt/2),A.push({x:ae,y:be,rotation:T,label:ie,font:Je,textOffset:qe,textAlign:Fe}));return A},_drawGrid:function(u){var _=this,M=_.options.gridLines;if(M.display){var D=_.ctx,F=_.chart,Y=Ge._alignPixel,f=M.drawBorder?is(M.lineWidth,0,0):0,i=_._gridLineItems||(_._gridLineItems=_._computeGridLineItems(u)),c,v,T,A,R;for(T=0,A=i.length;T<A;++T)R=i[T],c=R.width,v=R.color,c&&v&&(D.save(),D.lineWidth=c,D.strokeStyle=v,D.setLineDash&&(D.setLineDash(R.borderDash),D.lineDashOffset=R.borderDashOffset),D.beginPath(),M.drawTicks&&(D.moveTo(R.tx1,R.ty1),D.lineTo(R.tx2,R.ty2)),M.drawOnChartArea&&(D.moveTo(R.x1,R.y1),D.lineTo(R.x2,R.y2)),D.stroke(),D.restore());if(f){var V=f,G=is(M.lineWidth,i.ticksLength-1,1),ie=i.borderValue,ae,be,Fe,$e;_.isHorizontal()?(ae=Y(F,_.left,V)-V/2,be=Y(F,_.right,G)+G/2,Fe=$e=ie):(Fe=Y(F,_.top,V)-V/2,$e=Y(F,_.bottom,G)+G/2,ae=be=ie),D.lineWidth=f,D.strokeStyle=is(M.color,0),D.beginPath(),D.moveTo(ae,Fe),D.lineTo(be,$e),D.stroke()}}},_drawLabels:function(){var u=this,_=u.options.ticks;if(_.display){var M=u.ctx,D=u._labelItems||(u._labelItems=u._computeLabelItems()),F,Y,f,i,c,v,T,A;for(F=0,f=D.length;F<f;++F){if(c=D[F],v=c.font,M.save(),M.translate(c.x,c.y),M.rotate(c.rotation),M.font=v.string,M.fillStyle=v.color,M.textBaseline="middle",M.textAlign=c.textAlign,T=c.label,A=c.textOffset,ya(T))for(Y=0,i=T.length;Y<i;++Y)M.fillText(""+T[Y],0,A),A+=v.lineHeight;else M.fillText(T,0,A);M.restore()}}},_drawTitle:function(){var u=this,_=u.ctx,M=u.options,D=M.scaleLabel;if(D.display){var F=Ya(D.fontColor,Fi.global.defaultFontColor),Y=Ge.options._parseFont(D),f=Ge.options.toPadding(D.padding),i=Y.lineHeight/2,c=M.position,v=0,T,A;if(u.isHorizontal())T=u.left+u.width/2,A=c==="bottom"?u.bottom-i-f.bottom:u.top+i+f.top;else{var R=c==="left";T=R?u.left+i+f.top:u.right-i-f.top,A=u.top+u.height/2,v=R?-.5*Math.PI:.5*Math.PI}_.save(),_.translate(T,A),_.rotate(v),_.textAlign="center",_.textBaseline="middle",_.fillStyle=F,_.font=Y.string,_.fillText(D.labelString,0,0),_.restore()}},draw:function(u){var _=this;_._isVisible()&&(_._drawGrid(u),_._drawTitle(),_._drawLabels())},_layers:function(){var u=this,_=u.options,M=_.ticks&&_.ticks.z||0,D=_.gridLines&&_.gridLines.z||0;return!u._isVisible()||M===D||u.draw!==u._draw?[{z:M,draw:function(){u.draw.apply(u,arguments)}}]:[{z:D,draw:function(){u._drawGrid.apply(u,arguments),u._drawTitle.apply(u,arguments)}},{z:M,draw:function(){u._drawLabels.apply(u,arguments)}}]},_getMatchingVisibleMetas:function(u){var _=this,M=_.isHorizontal();return _.chart._getSortedVisibleDatasetMetas().filter(function(D){return(!u||D.type===u)&&(M?D.xAxisID===_.id:D.yAxisID===_.id)})}});Lo.prototype._draw=Lo.prototype.draw;var _a=Lo,el=Ge.isNullOrUndef,Vs={position:"bottom"},fs=_a.extend({determineDataLimits:function(){var u=this,_=u._getLabels(),M=u.options.ticks,D=M.min,F=M.max,Y=0,f=_.length-1,i;D!==void 0&&(i=_.indexOf(D),i>=0&&(Y=i)),F!==void 0&&(i=_.indexOf(F),i>=0&&(f=i)),u.minIndex=Y,u.maxIndex=f,u.min=_[Y],u.max=_[f]},buildTicks:function(){var u=this,_=u._getLabels(),M=u.minIndex,D=u.maxIndex;u.ticks=M===0&&D===_.length-1?_:_.slice(M,D+1)},getLabelForIndex:function(u,_){var M=this,D=M.chart;return D.getDatasetMeta(_).controller._getValueScaleId()===M.id?M.getRightValue(D.data.datasets[_].data[u]):M._getLabels()[u]},_configure:function(){var u=this,_=u.options.offset,M=u.ticks;_a.prototype._configure.call(u),u.isHorizontal()||(u._reversePixels=!u._reversePixels),M&&(u._startValue=u.minIndex-(_?.5:0),u._valueRange=Math.max(M.length-(_?0:1),1))},getPixelForValue:function(u,_,M){var D=this,F,Y,f;return!el(_)&&!el(M)&&(u=D.chart.data.datasets[M].data[_]),el(u)||(F=D.isHorizontal()?u.x:u.y),(F!==void 0||u!==void 0&&isNaN(_))&&(Y=D._getLabels(),u=Ge.valueOrDefault(F,u),f=Y.indexOf(u),_=f!==-1?f:_,isNaN(_)&&(_=u)),D.getPixelForDecimal((_-D._startValue)/D._valueRange)},getPixelForTick:function(u){var _=this.ticks;return u<0||u>_.length-1?null:this.getPixelForValue(_[u],u+this.minIndex)},getValueForPixel:function(u){var _=this,M=Math.round(_._startValue+_.getDecimalForPixel(u)*_._valueRange);return Math.min(Math.max(M,0),_.ticks.length-1)},getBasePixel:function(){return this.bottom}}),wl=Vs;fs._defaults=wl;var Ro=Ge.noop,at=Ge.isNullOrUndef;function wt(u,_){var M=[],D=1e-14,F=u.stepSize,Y=F||1,f=u.maxTicks-1,i=u.min,c=u.max,v=u.precision,T=_.min,A=_.max,R=Ge.niceNum((A-T)/f/Y)*Y,V,G,ie,ae;if(R<D&&at(i)&&at(c))return[T,A];ae=Math.ceil(A/R)-Math.floor(T/R),ae>f&&(R=Ge.niceNum(ae*R/f/Y)*Y),F||at(v)?V=Math.pow(10,Ge._decimalPlaces(R)):(V=Math.pow(10,v),R=Math.ceil(R*V)/V),G=Math.floor(T/R)*R,ie=Math.ceil(A/R)*R,F&&(!at(i)&&Ge.almostWhole(i/R,R/1e3)&&(G=i),!at(c)&&Ge.almostWhole(c/R,R/1e3)&&(ie=c)),ae=(ie-G)/R,Ge.almostEquals(ae,Math.round(ae),R/1e3)?ae=Math.round(ae):ae=Math.ceil(ae),G=Math.round(G*V)/V,ie=Math.round(ie*V)/V,M.push(at(i)?G:i);for(var be=1;be<ae;++be)M.push(Math.round((G+be*R)*V)/V);return M.push(at(c)?ie:c),M}var Ft=_a.extend({getRightValue:function(u){return typeof u=="string"?+u:_a.prototype.getRightValue.call(this,u)},handleTickRangeOptions:function(){var u=this,_=u.options,M=_.ticks;if(M.beginAtZero){var D=Ge.sign(u.min),F=Ge.sign(u.max);D<0&&F<0?u.max=0:D>0&&F>0&&(u.min=0)}var Y=M.min!==void 0||M.suggestedMin!==void 0,f=M.max!==void 0||M.suggestedMax!==void 0;M.min!==void 0?u.min=M.min:M.suggestedMin!==void 0&&(u.min===null?u.min=M.suggestedMin:u.min=Math.min(u.min,M.suggestedMin)),M.max!==void 0?u.max=M.max:M.suggestedMax!==void 0&&(u.max===null?u.max=M.suggestedMax:u.max=Math.max(u.max,M.suggestedMax)),Y!==f&&u.min>=u.max&&(Y?u.max=u.min+1:u.min=u.max-1),u.min===u.max&&(u.max++,M.beginAtZero||u.min--)},getTickLimit:function(){var u=this,_=u.options.ticks,M=_.stepSize,D=_.maxTicksLimit,F;return M?F=Math.ceil(u.max/M)-Math.floor(u.min/M)+1:(F=u._computeTickLimit(),D=D||11),D&&(F=Math.min(D,F)),F},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Ro,buildTicks:function(){var u=this,_=u.options,M=_.ticks,D=u.getTickLimit();D=Math.max(2,D);var F={maxTicks:D,min:M.min,max:M.max,precision:M.precision,stepSize:Ge.valueOrDefault(M.fixedStepSize,M.stepSize)},Y=u.ticks=wt(F,u);u.handleDirectionalChanges(),u.max=Ge.max(Y),u.min=Ge.min(Y),M.reverse?(Y.reverse(),u.start=u.max,u.end=u.min):(u.start=u.min,u.end=u.max)},convertTicksToLabels:function(){var u=this;u.ticksAsNumbers=u.ticks.slice(),u.zeroLineIndex=u.ticks.indexOf(0),_a.prototype.convertTicksToLabels.call(u)},_configure:function(){var u=this,_=u.getTicks(),M=u.min,D=u.max,F;_a.prototype._configure.call(u),u.options.offset&&_.length&&(F=(D-M)/Math.max(_.length-1,1)/2,M-=F,D+=F),u._startValue=M,u._endValue=D,u._valueRange=D-M}}),yi={position:"left",ticks:{callback:ea.formatters.linear}},Ut=0,_i=1;function Si(u,_,M){var D=[M.type,_===void 0&&M.stack===void 0?M.index:"",M.stack].join(".");return u[D]===void 0&&(u[D]={pos:[],neg:[]}),u[D]}function Ui(u,_,M,D){var F=u.options,Y=F.stacked,f=Si(_,Y,M),i=f.pos,c=f.neg,v=D.length,T,A;for(T=0;T<v;++T)A=u._parseValue(D[T]),!(isNaN(A.min)||isNaN(A.max)||M.data[T].hidden)&&(i[T]=i[T]||0,c[T]=c[T]||0,F.relativePoints?i[T]=100:A.min<0||A.max<0?c[T]+=A.min:i[T]+=A.max)}function Ci(u,_,M){var D=M.length,F,Y;for(F=0;F<D;++F)Y=u._parseValue(M[F]),!(isNaN(Y.min)||isNaN(Y.max)||_.data[F].hidden)&&(u.min=Math.min(u.min,Y.min),u.max=Math.max(u.max,Y.max))}var ir=Ft.extend({determineDataLimits:function(){var u=this,_=u.options,M=u.chart,D=M.data.datasets,F=u._getMatchingVisibleMetas(),Y=_.stacked,f={},i=F.length,c,v,T,A;if(u.min=Number.POSITIVE_INFINITY,u.max=Number.NEGATIVE_INFINITY,Y===void 0)for(c=0;!Y&&c<i;++c)v=F[c],Y=v.stack!==void 0;for(c=0;c<i;++c)v=F[c],T=D[v.index].data,Y?Ui(u,f,v,T):Ci(u,v,T);Ge.each(f,function(R){A=R.pos.concat(R.neg),u.min=Math.min(u.min,Ge.min(A)),u.max=Math.max(u.max,Ge.max(A))}),u.min=Ge.isFinite(u.min)&&!isNaN(u.min)?u.min:Ut,u.max=Ge.isFinite(u.max)&&!isNaN(u.max)?u.max:_i,u.handleTickRangeOptions()},_computeTickLimit:function(){var u=this,_;return u.isHorizontal()?Math.ceil(u.width/40):(_=Ge.options._parseFont(u.options.ticks),Math.ceil(u.height/_.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(u,_){return this._getScaleLabel(this.chart.data.datasets[_].data[u])},getPixelForValue:function(u){var _=this;return _.getPixelForDecimal((+_.getRightValue(u)-_._startValue)/_._valueRange)},getValueForPixel:function(u){return this._startValue+this.getDecimalForPixel(u)*this._valueRange},getPixelForTick:function(u){var _=this.ticksAsNumbers;return u<0||u>_.length-1?null:this.getPixelForValue(_[u])}}),dr=yi;ir._defaults=dr;var cr=Ge.valueOrDefault,sr=Ge.math.log10;function sn(u,_){var M=[],D=cr(u.min,Math.pow(10,Math.floor(sr(_.min)))),F=Math.floor(sr(_.max)),Y=Math.ceil(_.max/Math.pow(10,F)),f,i;D===0?(f=Math.floor(sr(_.minNotZero)),i=Math.floor(_.minNotZero/Math.pow(10,f)),M.push(D),D=i*Math.pow(10,f)):(f=Math.floor(sr(D)),i=Math.floor(D/Math.pow(10,f)));var c=f<0?Math.pow(10,Math.abs(f)):1;do M.push(D),++i,i===10&&(i=1,++f,c=f>=0?1:c),D=Math.round(i*Math.pow(10,f)*c)/c;while(f<F||f===F&&i<Y);var v=cr(u.max,D);return M.push(v),M}var fr={position:"left",ticks:{callback:ea.formatters.logarithmic}};function Sn(u,_){return Ge.isFinite(u)&&u>=0?u:_}var ta=_a.extend({determineDataLimits:function(){var u=this,_=u.options,M=u.chart,D=M.data.datasets,F=u.isHorizontal();function Y(ae){return F?ae.xAxisID===u.id:ae.yAxisID===u.id}var f,i,c,v,T,A;u.min=Number.POSITIVE_INFINITY,u.max=Number.NEGATIVE_INFINITY,u.minNotZero=Number.POSITIVE_INFINITY;var R=_.stacked;if(R===void 0){for(f=0;f<D.length;f++)if(i=M.getDatasetMeta(f),M.isDatasetVisible(f)&&Y(i)&&i.stack!==void 0){R=!0;break}}if(_.stacked||R){var V={};for(f=0;f<D.length;f++){i=M.getDatasetMeta(f);var G=[i.type,_.stacked===void 0&&i.stack===void 0?f:"",i.stack].join(".");if(M.isDatasetVisible(f)&&Y(i))for(V[G]===void 0&&(V[G]=[]),v=D[f].data,T=0,A=v.length;T<A;T++){var ie=V[G];c=u._parseValue(v[T]),!(isNaN(c.min)||isNaN(c.max)||i.data[T].hidden||c.min<0||c.max<0)&&(ie[T]=ie[T]||0,ie[T]+=c.max)}}Ge.each(V,function(ae){if(ae.length>0){var be=Ge.min(ae),Fe=Ge.max(ae);u.min=Math.min(u.min,be),u.max=Math.max(u.max,Fe)}})}else for(f=0;f<D.length;f++)if(i=M.getDatasetMeta(f),M.isDatasetVisible(f)&&Y(i))for(v=D[f].data,T=0,A=v.length;T<A;T++)c=u._parseValue(v[T]),!(isNaN(c.min)||isNaN(c.max)||i.data[T].hidden||c.min<0||c.max<0)&&(u.min=Math.min(c.min,u.min),u.max=Math.max(c.max,u.max),c.min!==0&&(u.minNotZero=Math.min(c.min,u.minNotZero)));u.min=Ge.isFinite(u.min)?u.min:null,u.max=Ge.isFinite(u.max)?u.max:null,u.minNotZero=Ge.isFinite(u.minNotZero)?u.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var u=this,_=u.options.ticks,M=1,D=10;u.min=Sn(_.min,u.min),u.max=Sn(_.max,u.max),u.min===u.max&&(u.min!==0&&u.min!==null?(u.min=Math.pow(10,Math.floor(sr(u.min))-1),u.max=Math.pow(10,Math.floor(sr(u.max))+1)):(u.min=M,u.max=D)),u.min===null&&(u.min=Math.pow(10,Math.floor(sr(u.max))-1)),u.max===null&&(u.max=u.min!==0?Math.pow(10,Math.floor(sr(u.min))+1):D),u.minNotZero===null&&(u.min>0?u.minNotZero=u.min:u.max<1?u.minNotZero=Math.pow(10,Math.floor(sr(u.max))):u.minNotZero=M)},buildTicks:function(){var u=this,_=u.options.ticks,M=!u.isHorizontal(),D={min:Sn(_.min),max:Sn(_.max)},F=u.ticks=sn(D,u);u.max=Ge.max(F),u.min=Ge.min(F),_.reverse?(M=!M,u.start=u.max,u.end=u.min):(u.start=u.min,u.end=u.max),M&&F.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),_a.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(u,_){return this._getScaleLabel(this.chart.data.datasets[_].data[u])},getPixelForTick:function(u){var _=this.tickValues;return u<0||u>_.length-1?null:this.getPixelForValue(_[u])},_getFirstTickValue:function(u){var _=Math.floor(sr(u)),M=Math.floor(u/Math.pow(10,_));return M*Math.pow(10,_)},_configure:function(){var u=this,_=u.min,M=0;_a.prototype._configure.call(u),_===0&&(_=u._getFirstTickValue(u.minNotZero),M=cr(u.options.ticks.fontSize,Fi.global.defaultFontSize)/u._length),u._startValue=sr(_),u._valueOffset=M,u._valueRange=(sr(u.max)-sr(_))/(1-M)},getPixelForValue:function(u){var _=this,M=0;return u=+_.getRightValue(u),u>_.min&&u>0&&(M=(sr(u)-_._startValue)/_._valueRange+_._valueOffset),_.getPixelForDecimal(M)},getValueForPixel:function(u){var _=this,M=_.getDecimalForPixel(u);return M===0&&_.min===0?0:Math.pow(10,_._startValue+(M-_._valueOffset)*_._valueRange)}}),ba=fr;ta._defaults=ba;var Xr=Ge.valueOrDefault,Ca=Ge.valueAtIndexOrDefault,ha=Ge.options.resolve,Yn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ea.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(u){return u}}};function Zl(u){var _=u.ticks;return _.display&&u.display?Xr(_.fontSize,Fi.global.defaultFontSize)+_.backdropPaddingY*2:0}function xo(u,_,M){return Ge.isArray(M)?{w:Ge.longestText(u,u.font,M),h:M.length*_}:{w:u.measureText(M).width,h:_}}function eo(u,_,M,D,F){return u===D||u===F?{start:_-M/2,end:_+M/2}:u<D||u>F?{start:_-M,end:_}:{start:_,end:_+M}}function Hi(u){var _=Ge.options._parseFont(u.options.pointLabels),M={l:0,r:u.width,t:0,b:u.height-u.paddingTop},D={},F,Y,f;u.ctx.font=_.string,u._pointLabelSizes=[];var i=u.chart.data.labels.length;for(F=0;F<i;F++){f=u.getPointPosition(F,u.drawingArea+5),Y=xo(u.ctx,_.lineHeight,u.pointLabels[F]),u._pointLabelSizes[F]=Y;var c=u.getIndexAngle(F),v=Ge.toDegrees(c)%360,T=eo(v,f.x,Y.w,0,180),A=eo(v,f.y,Y.h,90,270);T.start<M.l&&(M.l=T.start,D.l=c),T.end>M.r&&(M.r=T.end,D.r=c),A.start<M.t&&(M.t=A.start,D.t=c),A.end>M.b&&(M.b=A.end,D.b=c)}u.setReductions(u.drawingArea,M,D)}function ks(u){return u===0||u===180?"center":u<180?"left":"right"}function ql(u,_,M,D){var F=M.y+D/2,Y,f;if(Ge.isArray(_))for(Y=0,f=_.length;Y<f;++Y)u.fillText(_[Y],M.x,F),F+=D;else u.fillText(_,M.x,F)}function Eh(u,_,M){u===90||u===270?M.y-=_.h/2:(u>270||u<90)&&(M.y-=_.h)}function Th(u){var _=u.ctx,M=u.options,D=M.pointLabels,F=Zl(M),Y=u.getDistanceFromCenterForValue(M.ticks.reverse?u.min:u.max),f=Ge.options._parseFont(D);_.save(),_.font=f.string,_.textBaseline="middle";for(var i=u.chart.data.labels.length-1;i>=0;i--){var c=i===0?F/2:0,v=u.getPointPosition(i,Y+c+5),T=Ca(D.fontColor,i,Fi.global.defaultFontColor);_.fillStyle=T;var A=u.getIndexAngle(i),R=Ge.toDegrees(A);_.textAlign=ks(R),Eh(R,u._pointLabelSizes[i],v),ql(_,u.pointLabels[i],v,f.lineHeight)}_.restore()}function El(u,_,M,D){var F=u.ctx,Y=_.circular,f=u.chart.data.labels.length,i=Ca(_.color,D-1),c=Ca(_.lineWidth,D-1),v;if(!(!Y&&!f||!i||!c)){if(F.save(),F.strokeStyle=i,F.lineWidth=c,F.setLineDash&&(F.setLineDash(_.borderDash||[]),F.lineDashOffset=_.borderDashOffset||0),F.beginPath(),Y)F.arc(u.xCenter,u.yCenter,M,0,Math.PI*2);else{v=u.getPointPosition(0,M),F.moveTo(v.x,v.y);for(var T=1;T<f;T++)v=u.getPointPosition(T,M),F.lineTo(v.x,v.y)}F.closePath(),F.stroke(),F.restore()}}function Kl(u){return Ge.isNumber(u)?u:0}var Jl=Ft.extend({setDimensions:function(){var u=this;u.width=u.maxWidth,u.height=u.maxHeight,u.paddingTop=Zl(u.options)/2,u.xCenter=Math.floor(u.width/2),u.yCenter=Math.floor((u.height-u.paddingTop)/2),u.drawingArea=Math.min(u.height-u.paddingTop,u.width)/2},determineDataLimits:function(){var u=this,_=u.chart,M=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;Ge.each(_.data.datasets,function(F,Y){if(_.isDatasetVisible(Y)){var f=_.getDatasetMeta(Y);Ge.each(F.data,function(i,c){var v=+u.getRightValue(i);isNaN(v)||f.data[c].hidden||(M=Math.min(v,M),D=Math.max(v,D))})}}),u.min=M===Number.POSITIVE_INFINITY?0:M,u.max=D===Number.NEGATIVE_INFINITY?0:D,u.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Zl(this.options))},convertTicksToLabels:function(){var u=this;Ft.prototype.convertTicksToLabels.call(u),u.pointLabels=u.chart.data.labels.map(function(){var _=Ge.callback(u.options.pointLabels.callback,arguments,u);return _||_===0?_:""})},getLabelForIndex:function(u,_){return+this.getRightValue(this.chart.data.datasets[_].data[u])},fit:function(){var u=this,_=u.options;_.display&&_.pointLabels.display?Hi(u):u.setCenterPoint(0,0,0,0)},setReductions:function(u,_,M){var D=this,F=_.l/Math.sin(M.l),Y=Math.max(_.r-D.width,0)/Math.sin(M.r),f=-_.t/Math.cos(M.t),i=-Math.max(_.b-(D.height-D.paddingTop),0)/Math.cos(M.b);F=Kl(F),Y=Kl(Y),f=Kl(f),i=Kl(i),D.drawingArea=Math.min(Math.floor(u-(F+Y)/2),Math.floor(u-(f+i)/2)),D.setCenterPoint(F,Y,f,i)},setCenterPoint:function(u,_,M,D){var F=this,Y=F.width-_-F.drawingArea,f=u+F.drawingArea,i=M+F.drawingArea,c=F.height-F.paddingTop-D-F.drawingArea;F.xCenter=Math.floor((f+Y)/2+F.left),F.yCenter=Math.floor((i+c)/2+F.top+F.paddingTop)},getIndexAngle:function(u){var _=this.chart,M=360/_.data.labels.length,D=_.options||{},F=D.startAngle||0,Y=(u*M+F)%360;return(Y<0?Y+360:Y)*Math.PI*2/360},getDistanceFromCenterForValue:function(u){var _=this;if(Ge.isNullOrUndef(u))return NaN;var M=_.drawingArea/(_.max-_.min);return _.options.ticks.reverse?(_.max-u)*M:(u-_.min)*M},getPointPosition:function(u,_){var M=this,D=M.getIndexAngle(u)-Math.PI/2;return{x:Math.cos(D)*_+M.xCenter,y:Math.sin(D)*_+M.yCenter}},getPointPositionForValue:function(u,_){return this.getPointPosition(u,this.getDistanceFromCenterForValue(_))},getBasePosition:function(u){var _=this,M=_.min,D=_.max;return _.getPointPositionForValue(u||0,_.beginAtZero?0:M<0&&D<0?D:M>0&&D>0?M:0)},_drawGrid:function(){var u=this,_=u.ctx,M=u.options,D=M.gridLines,F=M.angleLines,Y=Xr(F.lineWidth,D.lineWidth),f=Xr(F.color,D.color),i,c,v;if(M.pointLabels.display&&Th(u),D.display&&Ge.each(u.ticks,function(T,A){A!==0&&(c=u.getDistanceFromCenterForValue(u.ticksAsNumbers[A]),El(u,D,c,A))}),F.display&&Y&&f){for(_.save(),_.lineWidth=Y,_.strokeStyle=f,_.setLineDash&&(_.setLineDash(ha([F.borderDash,D.borderDash,[]])),_.lineDashOffset=ha([F.borderDashOffset,D.borderDashOffset,0])),i=u.chart.data.labels.length-1;i>=0;i--)c=u.getDistanceFromCenterForValue(M.ticks.reverse?u.min:u.max),v=u.getPointPosition(i,c),_.beginPath(),_.moveTo(u.xCenter,u.yCenter),_.lineTo(v.x,v.y),_.stroke();_.restore()}},_drawLabels:function(){var u=this,_=u.ctx,M=u.options,D=M.ticks;if(D.display){var F=u.getIndexAngle(0),Y=Ge.options._parseFont(D),f=Xr(D.fontColor,Fi.global.defaultFontColor),i,c;_.save(),_.font=Y.string,_.translate(u.xCenter,u.yCenter),_.rotate(F),_.textAlign="center",_.textBaseline="middle",Ge.each(u.ticks,function(v,T){T===0&&!D.reverse||(i=u.getDistanceFromCenterForValue(u.ticksAsNumbers[T]),D.showLabelBackdrop&&(c=_.measureText(v).width,_.fillStyle=D.backdropColor,_.fillRect(-c/2-D.backdropPaddingX,-i-Y.size/2-D.backdropPaddingY,c+D.backdropPaddingX*2,Y.size+D.backdropPaddingY*2)),_.fillStyle=f,_.fillText(v,0,-i))}),_.restore()}},_drawTitle:Ge.noop}),to=Yn;Jl._defaults=to;var _o=Ge._deprecated,Na=Ge.options.resolve,Tl=Ge.valueOrDefault,tl=Number.MIN_SAFE_INTEGER||-9007199254740991,qc=Number.MAX_SAFE_INTEGER||9007199254740991,Ql={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fa=Object.keys(Ql);function il(u,_){return u-_}function Kc(u){var _={},M=[],D,F,Y;for(D=0,F=u.length;D<F;++D)Y=u[D],_[Y]||(_[Y]=!0,M.push(Y));return M}function ec(u){return Ge.valueOrDefault(u.time.min,u.ticks.min)}function rl(u){return Ge.valueOrDefault(u.time.max,u.ticks.max)}function bo(u,_,M,D){if(D==="linear"||!u.length)return[{time:_,pos:0},{time:M,pos:1}];var F=[],Y=[_],f,i,c,v,T;for(f=0,i=u.length;f<i;++f)v=u[f],v>_&&v<M&&Y.push(v);for(Y.push(M),f=0,i=Y.length;f<i;++f)T=Y[f+1],c=Y[f-1],v=Y[f],(c===void 0||T===void 0||Math.round((T+c)/2)!==v)&&F.push({time:v,pos:f/(i-1)});return F}function tc(u,_,M){for(var D=0,F=u.length-1,Y,f,i;D>=0&&D<=F;)if(Y=D+F>>1,f=u[Y-1]||null,i=u[Y],f)if(i[_]<M)D=Y+1;else if(f[_]>M)F=Y-1;else return{lo:f,hi:i};else return{lo:null,hi:i};return{lo:i,hi:null}}function io(u,_,M,D){var F=tc(u,_,M),Y=F.lo?F.hi?F.lo:u[u.length-2]:u[0],f=F.lo?F.hi?F.hi:u[u.length-1]:u[1],i=f[_]-Y[_],c=i?(M-Y[_])/i:0,v=(f[D]-Y[D])*c;return Y[D]+v}function wo(u,_){var M=u._adapter,D=u.options.time,F=D.parser,Y=F||D.format,f=_;return typeof F=="function"&&(f=F(f)),Ge.isFinite(f)||(f=typeof Y=="string"?M.parse(f,Y):M.parse(f)),f!==null?+f:(!F&&typeof Y=="function"&&(f=Y(_),Ge.isFinite(f)||(f=M.parse(f))),f)}function Eo(u,_){if(Ge.isNullOrUndef(_))return null;var M=u.options.time,D=wo(u,u.getRightValue(_));return D===null||M.round&&(D=+u._adapter.startOf(D,M.round)),D}function Ac(u,_,M,D){var F=Fa.length,Y,f,i;for(Y=Fa.indexOf(u);Y<F-1;++Y)if(f=Ql[Fa[Y]],i=f.steps?f.steps:qc,f.common&&Math.ceil((M-_)/(i*f.size))<=D)return Fa[Y];return Fa[F-1]}function Mc(u,_,M,D,F){var Y,f;for(Y=Fa.length-1;Y>=Fa.indexOf(M);Y--)if(f=Fa[Y],Ql[f].common&&u._adapter.diff(F,D,f)>=_-1)return f;return Fa[M?Fa.indexOf(M):0]}function To(u){for(var _=Fa.indexOf(u)+1,M=Fa.length;_<M;++_)if(Ql[Fa[_]].common)return Fa[_]}function Jc(u,_,M,D){var F=u._adapter,Y=u.options,f=Y.time,i=f.unit||Ac(f.minUnit,_,M,D),c=Na([f.stepSize,f.unitStepSize,1]),v=i==="week"?f.isoWeekday:!1,T=_,A=[],R;if(v&&(T=+F.startOf(T,"isoWeek",v)),T=+F.startOf(T,v?"day":i),F.diff(M,_,i)>1e5*c)throw _+" and "+M+" are too far apart with stepSize of "+c+" "+i;for(R=T;R<M;R=+F.add(R,c,i))A.push(R);return(R===M||Y.bounds==="ticks")&&A.push(R),A}function Sh(u,_,M,D,F){var Y=0,f=0,i,c;return F.offset&&_.length&&(i=io(u,"time",_[0],"pos"),_.length===1?Y=1-i:Y=(io(u,"time",_[1],"pos")-i)/2,c=io(u,"time",_[_.length-1],"pos"),_.length===1?f=c:f=(c-io(u,"time",_[_.length-2],"pos"))/2),{start:Y,end:f,factor:1/(Y+1+f)}}function Ah(u,_,M,D){var F=u._adapter,Y=+F.startOf(_[0].value,D),f=_[_.length-1].value,i,c;for(i=Y;i<=f;i=+F.add(i,1,D))c=M[i],c>=0&&(_[c].major=!0);return _}function Cc(u,_,M){var D=[],F={},Y=_.length,f,i;for(f=0;f<Y;++f)i=_[f],F[i]=f,D.push({value:i,major:!1});return Y===0||!M?D:Ah(u,D,F,M)}var zo={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Ic=_a.extend({initialize:function(){this.mergeTicksOptions(),_a.prototype.initialize.call(this)},update:function(){var u=this,_=u.options,M=_.time||(_.time={}),D=u._adapter=new Cs._date(_.adapters.date);return _o("time scale",M.format,"time.format","time.parser"),_o("time scale",M.min,"time.min","ticks.min"),_o("time scale",M.max,"time.max","ticks.max"),Ge.mergeIf(M.displayFormats,D.formats()),_a.prototype.update.apply(u,arguments)},getRightValue:function(u){return u&&u.t!==void 0&&(u=u.t),_a.prototype.getRightValue.call(this,u)},determineDataLimits:function(){var u=this,_=u.chart,M=u._adapter,D=u.options,F=D.time.unit||"day",Y=qc,f=tl,i=[],c=[],v=[],T,A,R,V,G,ie,ae,be=u._getLabels();for(T=0,R=be.length;T<R;++T)v.push(Eo(u,be[T]));for(T=0,R=(_.data.datasets||[]).length;T<R;++T)if(_.isDatasetVisible(T))if(G=_.data.datasets[T].data,Ge.isObject(G[0]))for(c[T]=[],A=0,V=G.length;A<V;++A)ie=Eo(u,G[A]),i.push(ie),c[T][A]=ie;else c[T]=v.slice(0),ae||(i=i.concat(v),ae=!0);else c[T]=[];v.length&&(Y=Math.min(Y,v[0]),f=Math.max(f,v[v.length-1])),i.length&&(i=R>1?Kc(i).sort(il):i.sort(il),Y=Math.min(Y,i[0]),f=Math.max(f,i[i.length-1])),Y=Eo(u,ec(D))||Y,f=Eo(u,rl(D))||f,Y=Y===qc?+M.startOf(Date.now(),F):Y,f=f===tl?+M.endOf(Date.now(),F)+1:f,u.min=Math.min(Y,f),u.max=Math.max(Y+1,f),u._table=[],u._timestamps={data:i,datasets:c,labels:v}},buildTicks:function(){var u=this,_=u.min,M=u.max,D=u.options,F=D.ticks,Y=D.time,f=u._timestamps,i=[],c=u.getLabelCapacity(_),v=F.source,T=D.distribution,A,R,V;for(v==="data"||v==="auto"&&T==="series"?f=f.data:v==="labels"?f=f.labels:f=Jc(u,_,M,c),D.bounds==="ticks"&&f.length&&(_=f[0],M=f[f.length-1]),_=Eo(u,ec(D))||_,M=Eo(u,rl(D))||M,A=0,R=f.length;A<R;++A)V=f[A],V>=_&&V<=M&&i.push(V);return u.min=_,u.max=M,u._unit=Y.unit||(F.autoSkip?Ac(Y.minUnit,u.min,u.max,c):Mc(u,i.length,Y.minUnit,u.min,u.max)),u._majorUnit=!F.major.enabled||u._unit==="year"?void 0:To(u._unit),u._table=bo(u._timestamps.data,_,M,T),u._offsets=Sh(u._table,i,_,M,D),F.reverse&&i.reverse(),Cc(u,i,u._majorUnit)},getLabelForIndex:function(u,_){var M=this,D=M._adapter,F=M.chart.data,Y=M.options.time,f=F.labels&&u<F.labels.length?F.labels[u]:"",i=F.datasets[_].data[u];return Ge.isObject(i)&&(f=M.getRightValue(i)),Y.tooltipFormat?D.format(wo(M,f),Y.tooltipFormat):typeof f=="string"?f:D.format(wo(M,f),Y.displayFormats.datetime)},tickFormatFunction:function(u,_,M,D){var F=this,Y=F._adapter,f=F.options,i=f.time.displayFormats,c=i[F._unit],v=F._majorUnit,T=i[v],A=M[_],R=f.ticks,V=v&&T&&A&&A.major,G=Y.format(u,D||(V?T:c)),ie=V?R.major:R.minor,ae=Na([ie.callback,ie.userCallback,R.callback,R.userCallback]);return ae?ae(G,_,M):G},convertTicksToLabels:function(u){var _=[],M,D;for(M=0,D=u.length;M<D;++M)_.push(this.tickFormatFunction(u[M].value,M,u));return _},getPixelForOffset:function(u){var _=this,M=_._offsets,D=io(_._table,"time",u,"pos");return _.getPixelForDecimal((M.start+D)*M.factor)},getPixelForValue:function(u,_,M){var D=this,F=null;if(_!==void 0&&M!==void 0&&(F=D._timestamps.datasets[M][_]),F===null&&(F=Eo(D,u)),F!==null)return D.getPixelForOffset(F)},getPixelForTick:function(u){var _=this.getTicks();return u>=0&&u<_.length?this.getPixelForOffset(_[u].value):null},getValueForPixel:function(u){var _=this,M=_._offsets,D=_.getDecimalForPixel(u)/M.factor-M.end,F=io(_._table,"pos",D,"time");return _._adapter._create(F)},_getLabelSize:function(u){var _=this,M=_.options.ticks,D=_.ctx.measureText(u).width,F=Ge.toRadians(_.isHorizontal()?M.maxRotation:M.minRotation),Y=Math.cos(F),f=Math.sin(F),i=Tl(M.fontSize,Fi.global.defaultFontSize);return{w:D*Y+i*f,h:D*f+i*Y}},getLabelWidth:function(u){return this._getLabelSize(u).w},getLabelCapacity:function(u){var _=this,M=_.options.time,D=M.displayFormats,F=D[M.unit]||D.millisecond,Y=_.tickFormatFunction(u,0,Cc(_,[u],_._majorUnit),F),f=_._getLabelSize(Y),i=Math.floor(_.isHorizontal()?_.width/f.w:_.height/f.h);return _.options.offset&&i--,i>0?i:1}}),Mh=zo;Ic._defaults=Mh;var Ia={category:fs,linear:ir,logarithmic:ta,radialLinear:Jl,time:Ic},tu={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Cs._date.override(typeof h=="function"?{_id:"moment",formats:function(){return tu},parse:function(u,_){return typeof u=="string"&&typeof _=="string"?u=h(u,_):u instanceof h||(u=h(u)),u.isValid()?u.valueOf():null},format:function(u,_){return h(u).format(_)},add:function(u,_,M){return h(u).add(_,M).valueOf()},diff:function(u,_,M){return h(u).diff(h(_),M)},startOf:function(u,_,M){return u=h(u),_==="isoWeek"?u.isoWeekday(M).valueOf():u.startOf(_).valueOf()},endOf:function(u,_){return h(u).endOf(_).valueOf()},_create:function(u){return h(u)}}:{}),Fi._set("global",{plugins:{filler:{propagate:!0}}});var Sl={dataset:function(u){var _=u.fill,M=u.chart,D=M.getDatasetMeta(_),F=D&&M.isDatasetVisible(_),Y=F&&D.dataset._children||[],f=Y.length||0;return f?function(i,c){return c<f&&Y[c]._view||null}:null},boundary:function(u){var _=u.boundary,M=_?_.x:null,D=_?_.y:null;return Ge.isArray(_)?function(F,Y){return _[Y]}:function(F){return{x:M===null?F.x:M,y:D===null?F.y:D}}}};function ti(u,_,M){var D=u._model||{},F=D.fill,Y;if(F===void 0&&(F=!!D.backgroundColor),F===!1||F===null)return!1;if(F===!0)return"origin";if(Y=parseFloat(F,10),isFinite(Y)&&Math.floor(Y)===Y)return(F[0]==="-"||F[0]==="+")&&(Y=_+Y),Y===_||Y<0||Y>=M?!1:Y;switch(F){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return F;default:return!1}}function Rt(u){var _=u.el._model||{},M=u.el._scale||{},D=u.fill,F=null,Y;if(isFinite(D))return null;if(D==="start"?F=_.scaleBottom===void 0?M.bottom:_.scaleBottom:D==="end"?F=_.scaleTop===void 0?M.top:_.scaleTop:_.scaleZero!==void 0?F=_.scaleZero:M.getBasePixel&&(F=M.getBasePixel()),F!=null){if(F.x!==void 0&&F.y!==void 0)return F;if(Ge.isFinite(F))return Y=M.isHorizontal(),{x:Y?F:null,y:Y?null:F}}return null}function _t(u){var _=u.el._scale,M=_.options,D=_.chart.data.labels.length,F=u.fill,Y=[],f,i,c,v,T;if(!D)return null;for(f=M.ticks.reverse?_.max:_.min,i=M.ticks.reverse?_.min:_.max,c=_.getPointPositionForValue(0,f),v=0;v<D;++v)T=F==="start"||F==="end"?_.getPointPositionForValue(v,F==="start"?f:i):_.getBasePosition(v),M.gridLines.circular&&(T.cx=c.x,T.cy=c.y,T.angle=_.getIndexAngle(v)-Math.PI/2),Y.push(T);return Y}function Ee(u){var _=u.el._scale||{};return _.getPointPositionForValue?_t(u):Rt(u)}function et(u,_,M){var D=u[_],F=D.fill,Y=[_],f;if(!M)return F;for(;F!==!1&&Y.indexOf(F)===-1;){if(!isFinite(F))return F;if(f=u[F],!f)return!1;if(f.visible)return F;Y.push(F),F=f.fill}return!1}function vt(u){var _=u.fill,M="dataset";return _===!1?null:(isFinite(_)||(M="boundary"),Sl[M](u))}function oi(u){return u&&!u.skip}function Nt(u,_,M,D,F){var Y,f,i,c;if(!(!D||!F)){for(u.moveTo(_[0].x,_[0].y),Y=1;Y<D;++Y)Ge.canvas.lineTo(u,_[Y-1],_[Y]);if(M[0].angle!==void 0){for(f=M[0].cx,i=M[0].cy,c=Math.sqrt(Math.pow(M[0].x-f,2)+Math.pow(M[0].y-i,2)),Y=F-1;Y>0;--Y)u.arc(f,i,c,M[Y].angle,M[Y-1].angle,!0);return}for(u.lineTo(M[F-1].x,M[F-1].y),Y=F-1;Y>0;--Y)Ge.canvas.lineTo(u,M[Y],M[Y-1],!0)}}function zi(u,_,M,D,F,Y){var f=_.length,i=D.spanGaps,c=[],v=[],T=0,A=0,R,V,G,ie,ae,be,Fe,$e;for(u.beginPath(),R=0,V=f;R<V;++R)G=R%f,ie=_[G]._view,ae=M(ie,G,D),be=oi(ie),Fe=oi(ae),Y&&$e===void 0&&be&&($e=R+1,V=f+$e),be&&Fe?(T=c.push(ie),A=v.push(ae)):T&&A&&(i?(be&&c.push(ie),Fe&&v.push(ae)):(Nt(u,c,v,T,A),T=A=0,c=[],v=[]));Nt(u,c,v,T,A),u.closePath(),u.fillStyle=F,u.fill()}var Er={id:"filler",afterDatasetsUpdate:function(u,_){var M=(u.data.datasets||[]).length,D=_.propagate,F=[],Y,f,i,c;for(f=0;f<M;++f)Y=u.getDatasetMeta(f),i=Y.dataset,c=null,i&&i._model&&i instanceof ue.Line&&(c={visible:u.isDatasetVisible(f),fill:ti(i,f,M),chart:u,el:i}),Y.$filler=c,F.push(c);for(f=0;f<M;++f)c=F[f],c&&(c.fill=et(F,f,D),c.boundary=Ee(c),c.mapper=vt(c))},beforeDatasetsDraw:function(u){var _=u._getSortedVisibleDatasetMetas(),M=u.ctx,D,F,Y,f,i,c,v;for(F=_.length-1;F>=0;--F)D=_[F].$filler,!(!D||!D.visible)&&(Y=D.el,f=Y._view,i=Y._children||[],c=D.mapper,v=f.backgroundColor||Fi.global.defaultColor,c&&v&&i.length&&(Ge.canvas.clipArea(M,u.chartArea),zi(M,i,c,f,v,Y._loop),Ge.canvas.unclipArea(M)))}},Pr=Ge.rtl.getRtlAdapter,Mr=Ge.noop,xn=Ge.valueOrDefault;Fi._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(u,_){var M=_.datasetIndex,D=this.chart,F=D.getDatasetMeta(M);F.hidden=F.hidden===null?!D.data.datasets[M].hidden:null,D.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(u){var _=u.data.datasets,M=u.options.legend||{},D=M.labels&&M.labels.usePointStyle;return u._getSortedDatasetMetas().map(function(F){var Y=F.controller.getStyle(D?0:void 0);return{text:_[F.index].label,fillStyle:Y.backgroundColor,hidden:!u.isDatasetVisible(F.index),lineCap:Y.borderCapStyle,lineDash:Y.borderDash,lineDashOffset:Y.borderDashOffset,lineJoin:Y.borderJoinStyle,lineWidth:Y.borderWidth,strokeStyle:Y.borderColor,pointStyle:Y.pointStyle,rotation:Y.rotation,datasetIndex:F.index}},this)}}},legendCallback:function(u){var _=document.createElement("ul"),M=u.data.datasets,D,F,Y,f;for(_.setAttribute("class",u.id+"-legend"),D=0,F=M.length;D<F;D++)Y=_.appendChild(document.createElement("li")),f=Y.appendChild(document.createElement("span")),f.style.backgroundColor=M[D].backgroundColor,M[D].label&&Y.appendChild(document.createTextNode(M[D].label));return _.outerHTML}});function ps(u,_){return u.usePointStyle&&u.boxWidth>_?_:u.boxWidth}var ns=qr.extend({initialize:function(u){var _=this;Ge.extend(_,u),_.legendHitBoxes=[],_._hoveredItem=null,_.doughnutMode=!1},beforeUpdate:Mr,update:function(u,_,M){var D=this;return D.beforeUpdate(),D.maxWidth=u,D.maxHeight=_,D.margins=M,D.beforeSetDimensions(),D.setDimensions(),D.afterSetDimensions(),D.beforeBuildLabels(),D.buildLabels(),D.afterBuildLabels(),D.beforeFit(),D.fit(),D.afterFit(),D.afterUpdate(),D.minSize},afterUpdate:Mr,beforeSetDimensions:Mr,setDimensions:function(){var u=this;u.isHorizontal()?(u.width=u.maxWidth,u.left=0,u.right=u.width):(u.height=u.maxHeight,u.top=0,u.bottom=u.height),u.paddingLeft=0,u.paddingTop=0,u.paddingRight=0,u.paddingBottom=0,u.minSize={width:0,height:0}},afterSetDimensions:Mr,beforeBuildLabels:Mr,buildLabels:function(){var u=this,_=u.options.labels||{},M=Ge.callback(_.generateLabels,[u.chart],u)||[];_.filter&&(M=M.filter(function(D){return _.filter(D,u.chart.data)})),u.options.reverse&&M.reverse(),u.legendItems=M},afterBuildLabels:Mr,beforeFit:Mr,fit:function(){var u=this,_=u.options,M=_.labels,D=_.display,F=u.ctx,Y=Ge.options._parseFont(M),f=Y.size,i=u.legendHitBoxes=[],c=u.minSize,v=u.isHorizontal();if(v?(c.width=u.maxWidth,c.height=D?10:0):(c.width=D?10:0,c.height=u.maxHeight),!D){u.width=c.width=u.height=c.height=0;return}if(F.font=Y.string,v){var T=u.lineWidths=[0],A=0;F.textAlign="left",F.textBaseline="middle",Ge.each(u.legendItems,function(Fe,$e){var Je=ps(M,f),tt=Je+f/2+F.measureText(Fe.text).width;($e===0||T[T.length-1]+tt+2*M.padding>c.width)&&(A+=f+M.padding,T[T.length-($e>0?0:1)]=0),i[$e]={left:0,top:0,width:tt,height:f},T[T.length-1]+=tt+M.padding}),c.height+=A}else{var R=M.padding,V=u.columnWidths=[],G=u.columnHeights=[],ie=M.padding,ae=0,be=0;Ge.each(u.legendItems,function(Fe,$e){var Je=ps(M,f),tt=Je+f/2+F.measureText(Fe.text).width;$e>0&&be+f+2*R>c.height&&(ie+=ae+M.padding,V.push(ae),G.push(be),ae=0,be=0),ae=Math.max(ae,tt),be+=f+R,i[$e]={left:0,top:0,width:tt,height:f}}),ie+=ae,V.push(ae),G.push(be),c.width+=ie}u.width=c.width,u.height=c.height},afterFit:Mr,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var u=this,_=u.options,M=_.labels,D=Fi.global,F=D.defaultColor,Y=D.elements.line,f=u.height,i=u.columnHeights,c=u.width,v=u.lineWidths;if(_.display){var T=Pr(_.rtl,u.left,u.minSize.width),A=u.ctx,R=xn(M.fontColor,D.defaultFontColor),V=Ge.options._parseFont(M),G=V.size,ie;A.textAlign=T.textAlign("left"),A.textBaseline="middle",A.lineWidth=.5,A.strokeStyle=R,A.fillStyle=R,A.font=V.string;var ae=ps(M,G),be=u.legendHitBoxes,Fe=function(qe,lt,st){if(!(isNaN(ae)||ae<=0)){A.save();var pt=xn(st.lineWidth,Y.borderWidth);if(A.fillStyle=xn(st.fillStyle,F),A.lineCap=xn(st.lineCap,Y.borderCapStyle),A.lineDashOffset=xn(st.lineDashOffset,Y.borderDashOffset),A.lineJoin=xn(st.lineJoin,Y.borderJoinStyle),A.lineWidth=pt,A.strokeStyle=xn(st.strokeStyle,F),A.setLineDash&&A.setLineDash(xn(st.lineDash,Y.borderDash)),M&&M.usePointStyle){var bt=ae*Math.SQRT2/2,xt=T.xPlus(qe,ae/2),Lt=lt+G/2;Ge.canvas.drawPoint(A,st.pointStyle,bt,xt,Lt,st.rotation)}else A.fillRect(T.leftForLtr(qe,ae),lt,ae,G),pt!==0&&A.strokeRect(T.leftForLtr(qe,ae),lt,ae,G);A.restore()}},$e=function(qe,lt,st,pt){var bt=G/2,xt=T.xPlus(qe,ae+bt),Lt=lt+bt;A.fillText(st.text,xt,Lt),st.hidden&&(A.beginPath(),A.lineWidth=2,A.moveTo(xt,Lt),A.lineTo(T.xPlus(xt,pt),Lt),A.stroke())},Je=function(qe,lt){switch(_.align){case"start":return M.padding;case"end":return qe-lt;default:return(qe-lt+M.padding)/2}},tt=u.isHorizontal();tt?ie={x:u.left+Je(c,v[0]),y:u.top+M.padding,line:0}:ie={x:u.left+M.padding,y:u.top+Je(f,i[0]),line:0},Ge.rtl.overrideTextDirection(u.ctx,_.textDirection);var Xe=G+M.padding;Ge.each(u.legendItems,function(qe,lt){var st=A.measureText(qe.text).width,pt=ae+G/2+st,bt=ie.x,xt=ie.y;T.setWidth(u.minSize.width),tt?lt>0&&bt+pt+M.padding>u.left+u.minSize.width&&(xt=ie.y+=Xe,ie.line++,bt=ie.x=u.left+Je(c,v[ie.line])):lt>0&&xt+Xe>u.top+u.minSize.height&&(bt=ie.x=bt+u.columnWidths[ie.line]+M.padding,ie.line++,xt=ie.y=u.top+Je(f,i[ie.line]));var Lt=T.x(bt);Fe(Lt,xt,qe),be[lt].left=T.leftForLtr(Lt,be[lt].width),be[lt].top=xt,$e(Lt,xt,qe,st),tt?ie.x+=pt+M.padding:ie.y+=Xe}),Ge.rtl.restoreTextDirection(u.ctx,_.textDirection)}},_getLegendItemAt:function(u,_){var M=this,D,F,Y;if(u>=M.left&&u<=M.right&&_>=M.top&&_<=M.bottom){for(Y=M.legendHitBoxes,D=0;D<Y.length;++D)if(F=Y[D],u>=F.left&&u<=F.left+F.width&&_>=F.top&&_<=F.top+F.height)return M.legendItems[D]}return null},handleEvent:function(u){var _=this,M=_.options,D=u.type==="mouseup"?"click":u.type,F;if(D==="mousemove"){if(!M.onHover&&!M.onLeave)return}else if(D==="click"){if(!M.onClick)return}else return;F=_._getLegendItemAt(u.x,u.y),D==="click"?F&&M.onClick&&M.onClick.call(_,u.native,F):(M.onLeave&&F!==_._hoveredItem&&(_._hoveredItem&&M.onLeave.call(_,u.native,_._hoveredItem),_._hoveredItem=F),M.onHover&&F&&M.onHover.call(_,u.native,F))}});function So(u,_){var M=new ns({ctx:u.ctx,options:_,chart:u});Ja.configure(u,M,_),Ja.addBox(u,M),u.legend=M}var ic={id:"legend",_element:ns,beforeInit:function(u){var _=u.options.legend;_&&So(u,_)},beforeUpdate:function(u){var _=u.options.legend,M=u.legend;_?(Ge.mergeIf(_,Fi.global.legend),M?(Ja.configure(u,M,_),M.options=_):So(u,_)):M&&(Ja.removeBox(u,M),delete u.legend)},afterEvent:function(u,_){var M=u.legend;M&&M.handleEvent(_)}},Us=Ge.noop;Fi._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var No=qr.extend({initialize:function(u){var _=this;Ge.extend(_,u),_.legendHitBoxes=[]},beforeUpdate:Us,update:function(u,_,M){var D=this;return D.beforeUpdate(),D.maxWidth=u,D.maxHeight=_,D.margins=M,D.beforeSetDimensions(),D.setDimensions(),D.afterSetDimensions(),D.beforeBuildLabels(),D.buildLabels(),D.afterBuildLabels(),D.beforeFit(),D.fit(),D.afterFit(),D.afterUpdate(),D.minSize},afterUpdate:Us,beforeSetDimensions:Us,setDimensions:function(){var u=this;u.isHorizontal()?(u.width=u.maxWidth,u.left=0,u.right=u.width):(u.height=u.maxHeight,u.top=0,u.bottom=u.height),u.paddingLeft=0,u.paddingTop=0,u.paddingRight=0,u.paddingBottom=0,u.minSize={width:0,height:0}},afterSetDimensions:Us,beforeBuildLabels:Us,buildLabels:Us,afterBuildLabels:Us,beforeFit:Us,fit:function(){var u=this,_=u.options,M=u.minSize={},D=u.isHorizontal(),F,Y;if(!_.display){u.width=M.width=u.height=M.height=0;return}F=Ge.isArray(_.text)?_.text.length:1,Y=F*Ge.options._parseFont(_).lineHeight+_.padding*2,u.width=M.width=D?u.maxWidth:Y,u.height=M.height=D?Y:u.maxHeight},afterFit:Us,isHorizontal:function(){var u=this.options.position;return u==="top"||u==="bottom"},draw:function(){var u=this,_=u.ctx,M=u.options;if(M.display){var D=Ge.options._parseFont(M),F=D.lineHeight,Y=F/2+M.padding,f=0,i=u.top,c=u.left,v=u.bottom,T=u.right,A,R,V;_.fillStyle=Ge.valueOrDefault(M.fontColor,Fi.global.defaultFontColor),_.font=D.string,u.isHorizontal()?(R=c+(T-c)/2,V=i+Y,A=T-c):(R=M.position==="left"?c+Y:T-Y,V=i+(v-i)/2,A=v-i,f=Math.PI*(M.position==="left"?-.5:.5)),_.save(),_.translate(R,V),_.rotate(f),_.textAlign="center",_.textBaseline="middle";var G=M.text;if(Ge.isArray(G))for(var ie=0,ae=0;ae<G.length;++ae)_.fillText(G[ae],0,ie,A),ie+=F;else _.fillText(G,0,0,A);_.restore()}}});function kc(u,_){var M=new No({ctx:u.ctx,options:_,chart:u});Ja.configure(u,M,_),Ja.addBox(u,M),u.titleBlock=M}var Ch={id:"title",_element:No,beforeInit:function(u){var _=u.options.title;_&&kc(u,_)},beforeUpdate:function(u){var _=u.options.title,M=u.titleBlock;_?(Ge.mergeIf(_,Fi.global.title),M?(Ja.configure(u,M,_),M.options=_):kc(u,_)):M&&(Ja.removeBox(u,M),delete u.titleBlock)}},nl={},iu=Er,Hu=ic,Wu=Ch;nl.filler=iu,nl.legend=Hu,nl.title=Wu,Sr.helpers=Ge,Ms(),Sr._adapters=Cs,Sr.Animation=Oa,Sr.animationService=Ur,Sr.controllers=$o,Sr.DatasetController=tn,Sr.defaults=Fi,Sr.Element=qr,Sr.elements=ue,Sr.Interaction=la,Sr.layouts=Ja,Sr.platform=zn,Sr.plugins=Qi,Sr.Scale=_a,Sr.scaleService=zr,Sr.Ticks=ea,Sr.Tooltip=Ks,Sr.helpers.each(Ia,function(u,_){Sr.scaleService.registerScaleType(_,u,u._defaults)});for(var ru in nl)nl.hasOwnProperty(ru)&&Sr.plugins.register(nl[ru]);Sr.platform.initialize();var Yu=Sr;return typeof window<"u"&&(window.Chart=Sr),Sr.Chart=Sr,Sr.Legend=nl.legend._element,Sr.Title=nl.title._element,Sr.pluginService=Sr.plugins,Sr.PluginBase=Sr.Element.extend({}),Sr.canvasHelpers=Sr.helpers.canvas,Sr.layoutService=Sr.layouts,Sr.LinearScaleBase=Ft,Sr.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(u){Sr[u]=function(_,M){return new Sr(_,Sr.helpers.merge(M||{},{type:u.charAt(0).toLowerCase()+u.slice(1)}))}}),Yu})})(IK);const pm=B2;pm.defaults.global.defaultFontColor=window.theme["gray-600"];pm.defaults.global.defaultFontFamily="'Poppins', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif";pm.elements.Rectangle.prototype.draw=function(){const e=this._chart.ctx,r=this._view;let h,p,m,x,w,l,L,H=r.borderWidth,q=10;if(r.horizontal?(h=r.base,p=r.x,m=r.y-r.height/2,x=r.y+r.height/2,w=p>h?1:-1,l=1,L=r.borderSkipped||"left"):(h=r.x-r.width/2,p=r.x+r.width/2,m=r.y,x=r.base,w=1,l=x>m?1:-1,L=r.borderSkipped||"bottom"),H){const pe=Math.min(Math.abs(h-p),Math.abs(m-x));H=H>pe?pe:H;const ve=H/2,me=h+(L!=="left"?ve*w:0),it=p+(L!=="right"?-ve*w:0),Ye=m+(L!=="top"?ve*l:0),Q=x+(L!=="bottom"?-ve*l:0);me!==it&&(m=Ye,x=Q),Ye!==Q&&(h=me,p=it)}e.beginPath(),e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=H;const J=[[h,x],[h,m],[p,m],[p,x]];let de=["bottom","left","top","right"].indexOf(L,0);de===-1&&(de=0);function ye(pe){return J[(de+pe)%4]}let ne=ye(0);e.moveTo(ne[0],ne[1]);for(var X=1;X<4;X++){ne=ye(X);const pe=J[2][0]-J[1][0],ve=J[0][1]-J[1][1],me=J[1][0],it=J[1][1];let Ye=q;Ye>ve/2&&(Ye=ve/2),Ye>pe/2&&(Ye=pe/2);let Q=0;for(let St=0,At=this._chart.data.datasets.length;St<At;St++)this._chart.getDatasetMeta(St).hidden||(Q=St);this._datasetIndex===Q?(e.moveTo(me+Ye,it),e.lineTo(me+pe-Ye,it),e.quadraticCurveTo(me+pe,it,me+pe,it+Ye),e.lineTo(me+pe,it+ve),e.lineTo(me,it+ve),e.lineTo(me,it+Ye),e.quadraticCurveTo(me,it,me+Ye,it)):(e.moveTo(me,it),e.lineTo(me+pe,it),e.lineTo(me+pe,it+ve),e.lineTo(me,it+ve),e.lineTo(me,it))}e.fill(),H&&e.stroke()};window.Chart=pm;var D1={},kK={get exports(){return D1},set exports(e){D1=e}};/*!
 * ApexCharts v3.25.0
 * (c) 2018-2021 Juned Chhipa
 * Released under the MIT License.
 */(function(e,r){function h(_e){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(_e)}function p(_e,n){if(!(_e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(_e,n){for(var o=0;o<n.length;o++){var g=n[o];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_e,g.key,g)}}function x(_e,n,o){return n&&m(_e.prototype,n),o&&m(_e,o),_e}function w(_e,n,o){return n in _e?Object.defineProperty(_e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):_e[n]=o,_e}function l(_e,n){var o=Object.keys(_e);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(_e);n&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(_e,b).enumerable})),o.push.apply(o,g)}return o}function L(_e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?l(Object(o),!0).forEach(function(g){w(_e,g,o[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(g){Object.defineProperty(_e,g,Object.getOwnPropertyDescriptor(o,g))})}return _e}function H(_e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(n&&n.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),n&&J(_e,n)}function q(_e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(_e)}function J(_e,n){return(J=Object.setPrototypeOf||function(o,g){return o.__proto__=g,o})(_e,n)}function oe(_e,n){return!n||typeof n!="object"&&typeof n!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(_e):n}function de(_e){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var o,g=q(_e);if(n){var b=q(this).constructor;o=Reflect.construct(g,arguments,b)}else o=g.apply(this,arguments);return oe(this,o)}}function ye(_e){return function(n){if(Array.isArray(n))return ne(n)}(_e)||function(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}(_e)||function(n,o){if(n){if(typeof n=="string")return ne(n,o);var g=Object.prototype.toString.call(n).slice(8,-1);if(g==="Object"&&n.constructor&&(g=n.constructor.name),g==="Map"||g==="Set")return Array.from(n);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return ne(n,o)}}(_e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ne(_e,n){(n==null||n>_e.length)&&(n=_e.length);for(var o=0,g=new Array(n);o<n;o++)g[o]=_e[o];return g}var X=function(){function _e(){p(this,_e)}return x(_e,[{key:"shadeRGBColor",value:function(n,o){var g=o.split(","),b=n<0?0:255,E=n<0?-1*n:n,k=parseInt(g[0].slice(4),10),C=parseInt(g[1],10),P=parseInt(g[2],10);return"rgb("+(Math.round((b-k)*E)+k)+","+(Math.round((b-C)*E)+C)+","+(Math.round((b-P)*E)+P)+")"}},{key:"shadeHexColor",value:function(n,o){var g=parseInt(o.slice(1),16),b=n<0?0:255,E=n<0?-1*n:n,k=g>>16,C=g>>8&255,P=255&g;return"#"+(16777216+65536*(Math.round((b-k)*E)+k)+256*(Math.round((b-C)*E)+C)+(Math.round((b-P)*E)+P)).toString(16).slice(1)}},{key:"shadeColor",value:function(n,o){return _e.isColorHex(o)?this.shadeHexColor(n,o):this.shadeRGBColor(n,o)}}],[{key:"bind",value:function(n,o){return function(){return n.apply(o,arguments)}}},{key:"isObject",value:function(n){return n&&h(n)==="object"&&!Array.isArray(n)&&n!=null}},{key:"listToArray",value:function(n){var o,g=[];for(o=0;o<n.length;o++)g[o]=n[o];return g}},{key:"extend",value:function(n,o){var g=this;typeof Object.assign!="function"&&(Object.assign=function(E){if(E==null)throw new TypeError("Cannot convert undefined or null to object");for(var k=Object(E),C=1;C<arguments.length;C++){var P=arguments[C];if(P!=null)for(var N in P)P.hasOwnProperty(N)&&(k[N]=P[N])}return k});var b=Object.assign({},n);return this.isObject(n)&&this.isObject(o)&&Object.keys(o).forEach(function(E){g.isObject(o[E])&&E in n?b[E]=g.extend(n[E],o[E]):Object.assign(b,w({},E,o[E]))}),b}},{key:"extendArray",value:function(n,o){var g=[];return n.map(function(b){g.push(_e.extend(o,b))}),n=g}},{key:"monthMod",value:function(n){return n%12}},{key:"clone",value:function(n){if(Object.prototype.toString.call(n)==="[object Array]"){for(var o=[],g=0;g<n.length;g++)o[g]=this.clone(n[g]);return o}if(Object.prototype.toString.call(n)==="[object Null]")return null;if(Object.prototype.toString.call(n)==="[object Date]")return n;if(h(n)==="object"){var b={};for(var E in n)n.hasOwnProperty(E)&&(b[E]=this.clone(n[E]));return b}return n}},{key:"log10",value:function(n){return Math.log(n)/Math.LN10}},{key:"roundToBase10",value:function(n){return Math.pow(10,Math.floor(Math.log10(n)))}},{key:"roundToBase",value:function(n,o){return Math.pow(o,Math.floor(Math.log(n)/Math.log(o)))}},{key:"parseNumber",value:function(n){return n===null?n:parseFloat(n)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(n){var o=String(n).split(/[eE]/);if(o.length===1)return o[0];var g="",b=n<0?"-":"",E=o[0].replace(".",""),k=Number(o[1])+1;if(k<0){for(g=b+"0.";k++;)g+="0";return g+E.replace(/^-/,"")}for(k-=E.length;k--;)g+="0";return E+g}},{key:"getDimensions",value:function(n){var o=getComputedStyle(n,null),g=n.clientHeight,b=n.clientWidth;return g-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),[b-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),g]}},{key:"getBoundingClientRect",value:function(n){var o=n.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:n.clientWidth,height:n.clientHeight,x:o.left,y:o.top}}},{key:"getLargestStringFromArr",value:function(n){return n.reduce(function(o,g){return Array.isArray(g)&&(g=g.reduce(function(b,E){return b.length>E.length?b:E})),o.length>g.length?o:g},0)}},{key:"hexToRgba",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;n.substring(0,1)!=="#"&&(n="#999999");var g=n.replace("#","");g=g.match(new RegExp("(.{"+g.length/3+"})","g"));for(var b=0;b<g.length;b++)g[b]=parseInt(g[b].length===1?g[b]+g[b]:g[b],16);return o!==void 0&&g.push(o),"rgba("+g.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(n){return parseFloat(n.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(n)}},{key:"getPolygonPos",value:function(n,o){for(var g=[],b=2*Math.PI/o,E=0;E<o;E++){var k={};k.x=n*Math.sin(E*b),k.y=-n*Math.cos(E*b),g.push(k)}return g}},{key:"polarToCartesian",value:function(n,o,g,b){var E=(b-90)*Math.PI/180;return{x:n+g*Math.cos(E),y:o+g*Math.sin(E)}}},{key:"escapeString",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",g=n.toString().slice();return g=g.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,o)}},{key:"negToZero",value:function(n){return n<0?0:n}},{key:"moveIndexInArray",value:function(n,o,g){if(g>=n.length)for(var b=g-n.length+1;b--;)n.push(void 0);return n.splice(g,0,n.splice(o,1)[0]),n}},{key:"extractNumber",value:function(n){return parseFloat(n.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(n,o){for(;(n=n.parentElement)&&!n.classList.contains(o););return n}},{key:"setELstyles",value:function(n,o){for(var g in o)o.hasOwnProperty(g)&&(n.style.key=o[g])}},{key:"isNumber",value:function(n){return!isNaN(n)&&parseFloat(Number(n))===n&&!isNaN(parseInt(n,10))}},{key:"isFloat",value:function(n){return Number(n)===n&&n%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var n=window.navigator.userAgent,o=n.indexOf("MSIE ");if(o>0)return parseInt(n.substring(o+5,n.indexOf(".",o)),10);if(n.indexOf("Trident/")>0){var g=n.indexOf("rv:");return parseInt(n.substring(g+3,n.indexOf(".",g)),10)}var b=n.indexOf("Edge/");return b>0&&parseInt(n.substring(b+5,n.indexOf(".",b)),10)}}]),_e}(),pe=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.setEasingFunctions()}return x(_e,[{key:"setEasingFunctions",value:function(){var n;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":n="-";break;case"easein":n="<";break;case"easeout":n=">";break;case"easeinout":n="<>";break;case"swing":n=function(o){var g=1.70158;return(o-=1)*o*((g+1)*o+g)+1};break;case"bounce":n=function(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375};break;case"elastic":n=function(o){return o===!!o?o:Math.pow(2,-10*o)*Math.sin((o-.075)*(2*Math.PI)/.3)+1};break;default:n="<>"}this.w.globals.easing=n}}},{key:"animateLine",value:function(n,o,g,b){n.attr(o).animate(b).attr(g)}},{key:"animateCircleRadius",value:function(n,o,g,b,E,k){o||(o=0),n.attr({r:o}).animate(b,E).attr({r:g}).afterAll(function(){k()})}},{key:"animateCircle",value:function(n,o,g,b,E){n.attr({r:o.r,cx:o.cx,cy:o.cy}).animate(b,E).attr({r:g.r,cx:g.cx,cy:g.cy})}},{key:"animateRect",value:function(n,o,g,b,E){n.attr(o).animate(b).attr(g).afterAll(function(){return E()})}},{key:"animatePathsGradually",value:function(n){var o=n.el,g=n.realIndex,b=n.j,E=n.fill,k=n.pathFrom,C=n.pathTo,P=n.speed,N=n.delay,W=this.w,K=0;W.config.chart.animations.animateGradually.enabled&&(K=W.config.chart.animations.animateGradually.delay),W.config.chart.animations.dynamicAnimation.enabled&&W.globals.dataChanged&&W.config.chart.type!=="bar"&&(K=0),this.morphSVG(o,g,b,W.config.chart.type!=="line"||W.globals.comboCharts?E:"stroke",k,C,P,N*K)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(n){n.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(n){var o=this.w;o.globals.animationEnded||(o.globals.animationEnded=!0,this.showDelayedElements(),typeof o.config.chart.events.animationEnd=="function"&&o.config.chart.events.animationEnd(this.ctx,{el:n,w:o}))}},{key:"morphSVG",value:function(n,o,g,b,E,k,C,P){var N=this,W=this.w;E||(E=n.attr("pathFrom")),k||(k=n.attr("pathTo"));var K=function(ee){return W.config.chart.type==="radar"&&(C=1),"M 0 ".concat(W.globals.gridHeight)};(!E||E.indexOf("undefined")>-1||E.indexOf("NaN")>-1)&&(E=K()),(!k||k.indexOf("undefined")>-1||k.indexOf("NaN")>-1)&&(k=K()),W.globals.shouldAnimate||(C=1),n.plot(E).animate(1,W.globals.easing,P).plot(E).animate(C,W.globals.easing,P).plot(k).afterAll(function(){X.isNumber(g)?g===W.globals.series[W.globals.maxValsInArrayIndex].length-2&&W.globals.shouldAnimate&&N.animationCompleted(n):b!=="none"&&W.globals.shouldAnimate&&(!W.globals.comboCharts&&o===W.globals.series.length-1||W.globals.comboCharts)&&N.animationCompleted(n),N.showDelayedElements()})}}]),_e}(),ve=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"getDefaultFilter",value:function(n,o){var g=this.w;n.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),g.config.states.normal.filter!=="none"?this.applyFilter(n,o,g.config.states.normal.filter.type,g.config.states.normal.filter.value):g.config.chart.dropShadow.enabled&&this.dropShadow(n,g.config.chart.dropShadow,o)}},{key:"addNormalFilter",value:function(n,o){var g=this.w;g.config.chart.dropShadow.enabled&&!n.node.classList.contains("apexcharts-marker")&&this.dropShadow(n,g.config.chart.dropShadow,o)}},{key:"addLightenFilter",value:function(n,o,g){var b=this,E=this.w,k=g.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(C){var P=E.config.chart.dropShadow;(P.enabled?b.addShadow(C,o,P):C).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:k}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"addDarkenFilter",value:function(n,o,g){var b=this,E=this.w,k=g.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(C){var P=E.config.chart.dropShadow;(P.enabled?b.addShadow(C,o,P):C).componentTransfer({rgb:{type:"linear",slope:k}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"applyFilter",value:function(n,o,g){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(g){case"none":this.addNormalFilter(n,o);break;case"lighten":this.addLightenFilter(n,o,{intensity:b});break;case"darken":this.addDarkenFilter(n,o,{intensity:b})}}},{key:"addShadow",value:function(n,o,g){var b=g.blur,E=g.top,k=g.left,C=g.color,P=g.opacity,N=n.flood(Array.isArray(C)?C[o]:C,P).composite(n.sourceAlpha,"in").offset(k,E).gaussianBlur(b).merge(n.source);return n.blend(n.source,N)}},{key:"dropShadow",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=o.top,E=o.left,k=o.blur,C=o.color,P=o.opacity,N=o.noUserSpaceOnUse,W=this.w;return n.unfilter(!0),X.isIE()&&W.config.chart.type==="radialBar"||(C=Array.isArray(C)?C[g]:C,n.filter(function(K){var ee=null;ee=X.isSafari()||X.isFirefox()||X.isIE()?K.flood(C,P).composite(K.sourceAlpha,"in").offset(E,b).gaussianBlur(k):K.flood(C,P).composite(K.sourceAlpha,"in").offset(E,b).gaussianBlur(k).merge(K.source),K.blend(K.source,ee)}),N||n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)),n}},{key:"setSelectionFilter",value:function(n,o,g){var b=this.w;if(b.globals.selectedDataPoints[o]!==void 0&&b.globals.selectedDataPoints[o].indexOf(g)>-1){n.node.setAttribute("selected",!0);var E=b.config.states.active.filter;E!=="none"&&this.applyFilter(n,o,E.type,E.value)}}},{key:"_scaleFilterSize",value:function(n){(function(o){for(var g in o)o.hasOwnProperty(g)&&n.setAttribute(g,o[g])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),_e}(),me=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"drawLine",value:function(n,o,g,b){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,C=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,P=this.w,N=P.globals.dom.Paper.line().attr({x1:n,y1:o,x2:g,y2:b,stroke:E,"stroke-dasharray":k,"stroke-width":C});return N}},{key:"drawRect",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",C=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,P=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,N=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,W=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,K=this.w,ee=K.globals.dom.Paper.rect();return ee.attr({x:n,y:o,width:g>0?g:0,height:b>0?b:0,rx:E,ry:E,opacity:C,"stroke-width":P!==null?P:0,stroke:N!==null?N:"none","stroke-dasharray":W}),ee.node.setAttribute("fill",k),ee}},{key:"drawPolygon",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",E=this.w,k=E.globals.dom.Paper.polygon(n).attr({fill:b,stroke:o,"stroke-width":g});return k}},{key:"drawCircle",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=this.w,b=g.globals.dom.Paper.circle(2*n);return o!==null&&b.attr(o),b}},{key:"drawPath",value:function(n){var o=n.d,g=o===void 0?"":o,b=n.stroke,E=b===void 0?"#a8a8a8":b,k=n.strokeWidth,C=k===void 0?1:k,P=n.fill,N=n.fillOpacity,W=N===void 0?1:N,K=n.strokeOpacity,ee=K===void 0?1:K,ue=n.classes,we=n.strokeLinecap,Me=we===void 0?null:we,Oe=n.strokeDashArray,He=Oe===void 0?0:Oe,Le=this.w;return Me===null&&(Me=Le.config.stroke.lineCap),(g.indexOf("undefined")>-1||g.indexOf("NaN")>-1)&&(g="M 0 ".concat(Le.globals.gridHeight)),Le.globals.dom.Paper.path(g).attr({fill:P,"fill-opacity":W,stroke:E,"stroke-opacity":ee,"stroke-linecap":Me,"stroke-width":C,"stroke-dasharray":He,class:ue})}},{key:"group",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.w,g=o.globals.dom.Paper.group();return n!==null&&g.attr(n),g}},{key:"move",value:function(n,o){var g=["M",n,o].join(" ");return g}},{key:"line",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=null;return g===null?b=["L",n,o].join(" "):g==="H"?b=["H",n].join(" "):g==="V"&&(b=["V",o].join(" ")),b}},{key:"curve",value:function(n,o,g,b,E,k){var C=["C",n,o,g,b,E,k].join(" ");return C}},{key:"quadraticCurve",value:function(n,o,g,b){return["Q",n,o,g,b].join(" ")}},{key:"arc",value:function(n,o,g,b,E,k,C){var P=arguments.length>7&&arguments[7]!==void 0&&arguments[7],N="A";P&&(N="a");var W=[N,n,o,g,b,E,k,C].join(" ");return W}},{key:"renderPaths",value:function(n){var o,g=n.j,b=n.realIndex,E=n.pathFrom,k=n.pathTo,C=n.stroke,P=n.strokeWidth,N=n.strokeLinecap,W=n.fill,K=n.animationDelay,ee=n.initialSpeed,ue=n.dataChangeSpeed,we=n.className,Me=n.shouldClipToGrid,Oe=Me===void 0||Me,He=n.bindEventsOnPaths,Le=He===void 0||He,gt=n.drawShadow,B=gt===void 0||gt,se=this.w,ke=new ve(this.ctx),Ke=new pe(this.ctx),zt=this.w.config.chart.animations.enabled,ai=zt&&this.w.config.chart.animations.dynamicAnimation.enabled,Xt=!!(zt&&!se.globals.resized||ai&&se.globals.dataChanged&&se.globals.shouldAnimate);Xt?o=E:(o=k,se.globals.animationEnded=!0);var Wt=se.config.stroke.dashArray,li=0;li=Array.isArray(Wt)?Wt[b]:se.config.stroke.dashArray;var mi=this.drawPath({d:o,stroke:C,strokeWidth:P,fill:W,fillOpacity:1,classes:we,strokeLinecap:N,strokeDashArray:li});if(mi.attr("index",b),Oe&&mi.attr({"clip-path":"url(#gridRectMask".concat(se.globals.cuid,")")}),se.config.states.normal.filter.type!=="none")ke.getDefaultFilter(mi,b);else if(se.config.chart.dropShadow.enabled&&B&&(!se.config.chart.dropShadow.enabledOnSeries||se.config.chart.dropShadow.enabledOnSeries&&se.config.chart.dropShadow.enabledOnSeries.indexOf(b)!==-1)){var Yi=se.config.chart.dropShadow;ke.dropShadow(mi,Yi,b)}Le&&(mi.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,mi)),mi.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,mi)),mi.node.addEventListener("mousedown",this.pathMouseDown.bind(this,mi))),mi.attr({pathTo:k,pathFrom:E});var Gr={el:mi,j:g,realIndex:b,pathFrom:E,pathTo:k,fill:W,strokeWidth:P,delay:K};return!zt||se.globals.resized||se.globals.dataChanged?!se.globals.resized&&se.globals.dataChanged||Ke.showDelayedElements():Ke.animatePathsGradually(L(L({},Gr),{},{speed:ee})),se.globals.dataChanged&&ai&&Xt&&Ke.animatePathsGradually(L(L({},Gr),{},{speed:ue})),mi}},{key:"drawPattern",value:function(n,o,g){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,k=this.w,C=k.globals.dom.Paper.pattern(o,g,function(P){n==="horizontalLines"?P.line(0,0,g,0).stroke({color:b,width:E+1}):n==="verticalLines"?P.line(0,0,0,o).stroke({color:b,width:E+1}):n==="slantedLines"?P.line(0,0,o,g).stroke({color:b,width:E}):n==="squares"?P.rect(o,g).fill("none").stroke({color:b,width:E}):n==="circles"&&P.circle(o).fill("none").stroke({color:b,width:E})});return C}},{key:"drawGradient",value:function(n,o,g,b,E){var k,C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,P=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,N=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,W=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,K=this.w;o.length<9&&o.indexOf("#")===0&&(o=X.hexToRgba(o,b)),g.length<9&&g.indexOf("#")===0&&(g=X.hexToRgba(g,E));var ee=0,ue=1,we=1,Me=null;P!==null&&(ee=P[0]!==void 0?P[0]/100:0,ue=P[1]!==void 0?P[1]/100:1,we=P[2]!==void 0?P[2]/100:1,Me=P[3]!==void 0?P[3]/100:null);var Oe=!(K.config.chart.type!=="donut"&&K.config.chart.type!=="pie"&&K.config.chart.type!=="polarArea"&&K.config.chart.type!=="bubble");if(k=N===null||N.length===0?K.globals.dom.Paper.gradient(Oe?"radial":"linear",function(gt){gt.at(ee,o,b),gt.at(ue,g,E),gt.at(we,g,E),Me!==null&&gt.at(Me,o,b)}):K.globals.dom.Paper.gradient(Oe?"radial":"linear",function(gt){(Array.isArray(N[W])?N[W]:N).forEach(function(B){gt.at(B.offset/100,B.color,B.opacity)})}),Oe){var He=K.globals.gridWidth/2,Le=K.globals.gridHeight/2;K.config.chart.type!=="bubble"?k.attr({gradientUnits:"userSpaceOnUse",cx:He,cy:Le,r:C}):k.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else n==="vertical"?k.from(0,0).to(0,1):n==="diagonal"?k.from(0,0).to(1,1):n==="horizontal"?k.from(0,1).to(1,1):n==="diagonal2"&&k.from(1,0).to(0,1);return k}},{key:"drawText",value:function(n){var o,g=n.x,b=n.y,E=n.text,k=n.textAnchor,C=n.fontSize,P=n.fontFamily,N=n.fontWeight,W=n.foreColor,K=n.opacity,ee=n.cssClass,ue=ee===void 0?"":ee,we=n.isPlainText,Me=we===void 0||we,Oe=this.w;return E===void 0&&(E=""),k||(k="start"),W&&W.length||(W=Oe.config.chart.foreColor),P=P||Oe.config.chart.fontFamily,N=N||"regular",(o=Array.isArray(E)?Oe.globals.dom.Paper.text(function(He){for(var Le=0;Le<E.length;Le++)Le===0?He.tspan(E[Le]):He.tspan(E[Le]).newLine()}):Me?Oe.globals.dom.Paper.plain(E):Oe.globals.dom.Paper.text(function(He){return He.tspan(E)})).attr({x:g,y:b,"text-anchor":k,"dominant-baseline":"auto","font-size":C,"font-family":P,"font-weight":N,fill:W,class:"apexcharts-text "+ue}),o.node.style.fontFamily=P,o.node.style.opacity=K,o}},{key:"drawMarker",value:function(n,o,g){n=n||0;var b=g.pSize||0,E=null;if(g.shape==="square"){var k=g.pRadius===void 0?b/2:g.pRadius;o!==null&&b||(b=0,k=0);var C=1.2*b+k,P=this.drawRect(C,C,C,C,k);P.attr({x:n-C/2,y:o-C/2,cx:n,cy:o,class:g.class?g.class:"",fill:g.pointFillColor,"fill-opacity":g.pointFillOpacity?g.pointFillOpacity:1,stroke:g.pointStrokeColor,"stroke-width":g.pWidth?g.pWidth:0,"stroke-opacity":g.pointStrokeOpacity?g.pointStrokeOpacity:1}),E=P}else g.shape!=="circle"&&g.shape||(X.isNumber(o)||(b=0,o=0),E=this.drawCircle(b,{cx:n,cy:o,class:g.class?g.class:"",stroke:g.pointStrokeColor,fill:g.pointFillColor,"fill-opacity":g.pointFillOpacity?g.pointFillOpacity:1,"stroke-width":g.pWidth?g.pWidth:0,"stroke-opacity":g.pointStrokeOpacity?g.pointStrokeOpacity:1}));return E}},{key:"pathMouseEnter",value:function(n,o){var g=this.w,b=new ve(this.ctx),E=parseInt(n.node.getAttribute("index"),10),k=parseInt(n.node.getAttribute("j"),10);if(typeof g.config.chart.events.dataPointMouseEnter=="function"&&g.config.chart.events.dataPointMouseEnter(o,this.ctx,{seriesIndex:E,dataPointIndex:k,w:g}),this.ctx.events.fireEvent("dataPointMouseEnter",[o,this.ctx,{seriesIndex:E,dataPointIndex:k,w:g}]),(g.config.states.active.filter.type==="none"||n.node.getAttribute("selected")!=="true")&&g.config.states.hover.filter.type!=="none"&&g.config.states.active.filter.type!=="none"&&!g.globals.isTouchDevice){var C=g.config.states.hover.filter;b.applyFilter(n,E,C.type,C.value)}}},{key:"pathMouseLeave",value:function(n,o){var g=this.w,b=new ve(this.ctx),E=parseInt(n.node.getAttribute("index"),10),k=parseInt(n.node.getAttribute("j"),10);typeof g.config.chart.events.dataPointMouseLeave=="function"&&g.config.chart.events.dataPointMouseLeave(o,this.ctx,{seriesIndex:E,dataPointIndex:k,w:g}),this.ctx.events.fireEvent("dataPointMouseLeave",[o,this.ctx,{seriesIndex:E,dataPointIndex:k,w:g}]),g.config.states.active.filter.type!=="none"&&n.node.getAttribute("selected")==="true"||g.config.states.hover.filter.type!=="none"&&b.getDefaultFilter(n,E)}},{key:"pathMouseDown",value:function(n,o){var g=this.w,b=new ve(this.ctx),E=parseInt(n.node.getAttribute("index"),10),k=parseInt(n.node.getAttribute("j"),10),C="false";if(n.node.getAttribute("selected")==="true"){if(n.node.setAttribute("selected","false"),g.globals.selectedDataPoints[E].indexOf(k)>-1){var P=g.globals.selectedDataPoints[E].indexOf(k);g.globals.selectedDataPoints[E].splice(P,1)}}else{if(!g.config.states.active.allowMultipleDataPointsSelection&&g.globals.selectedDataPoints.length>0){g.globals.selectedDataPoints=[];var N=g.globals.dom.Paper.select(".apexcharts-series path").members,W=g.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,K=function(ue){Array.prototype.forEach.call(ue,function(we){we.node.setAttribute("selected","false"),b.getDefaultFilter(we,E)})};K(N),K(W)}n.node.setAttribute("selected","true"),C="true",g.globals.selectedDataPoints[E]===void 0&&(g.globals.selectedDataPoints[E]=[]),g.globals.selectedDataPoints[E].push(k)}if(C==="true"){var ee=g.config.states.active.filter;ee!=="none"&&b.applyFilter(n,E,ee.type,ee.value)}else g.config.states.active.filter.type!=="none"&&b.getDefaultFilter(n,E);typeof g.config.chart.events.dataPointSelection=="function"&&g.config.chart.events.dataPointSelection(o,this.ctx,{selectedDataPoints:g.globals.selectedDataPoints,seriesIndex:E,dataPointIndex:k,w:g}),o&&this.ctx.events.fireEvent("dataPointSelection",[o,this.ctx,{selectedDataPoints:g.globals.selectedDataPoints,seriesIndex:E,dataPointIndex:k,w:g}])}},{key:"rotateAroundCenter",value:function(n){var o=n.getBBox();return{x:o.x+o.width/2,y:o.y+o.height/2}}},{key:"getTextRects",value:function(n,o,g,b){var E=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],k=this.w,C=this.drawText({x:-200,y:-200,text:n,textAnchor:"start",fontSize:o,fontFamily:g,foreColor:"#fff",opacity:0});b&&C.attr("transform",b),k.globals.dom.Paper.add(C);var P=C.bbox();return E||(P=C.node.getBoundingClientRect()),C.remove(),{width:P.width,height:P.height}}},{key:"placeTextWithEllipsis",value:function(n,o,g){if(typeof n.getComputedTextLength=="function"&&(n.textContent=o,o.length>0&&n.getComputedTextLength()>=g/1.1)){for(var b=o.length-3;b>0;b-=3)if(n.getSubStringLength(0,b)<=g/1.1)return void(n.textContent=o.substring(0,b)+"...");n.textContent="."}}}],[{key:"setAttrs",value:function(n,o){for(var g in o)o.hasOwnProperty(g)&&n.setAttribute(g,o[g])}}]),_e}(),it=function(){function _e(n){p(this,_e),this.w=n.w,this.annoCtx=n}return x(_e,[{key:"setOrientations",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=this.w;if(n.label.orientation==="vertical"){var b=o!==null?o:0,E=g.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(b,"']"));if(E!==null){var k=E.getBoundingClientRect();E.setAttribute("x",parseFloat(E.getAttribute("x"))-k.height+4),n.label.position==="top"?E.setAttribute("y",parseFloat(E.getAttribute("y"))+k.width):E.setAttribute("y",parseFloat(E.getAttribute("y"))-k.width);var C=this.annoCtx.graphics.rotateAroundCenter(E),P=C.x,N=C.y;E.setAttribute("transform","rotate(-90 ".concat(P," ").concat(N,")"))}}}},{key:"addBackgroundToAnno",value:function(n,o){var g=this.w;if(!n||!o.label.text||o.label.text&&!o.label.text.trim())return null;var b=g.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),E=n.getBoundingClientRect(),k=o.label.style.padding.left,C=o.label.style.padding.right,P=o.label.style.padding.top,N=o.label.style.padding.bottom;o.label.orientation==="vertical"&&(P=o.label.style.padding.left,N=o.label.style.padding.right,k=o.label.style.padding.top,C=o.label.style.padding.bottom);var W=E.left-b.left-k,K=E.top-b.top-P,ee=this.annoCtx.graphics.drawRect(W-g.globals.barPadForNumericAxis,K,E.width+k+C,E.height+P+N,o.label.borderRadius,o.label.style.background,1,o.label.borderWidth,o.label.borderColor,0);return o.id&&ee.node.classList.add(o.id),ee}},{key:"annotationsBackground",value:function(){var n=this,o=this.w,g=function(b,E,k){var C=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(k,"-annotations .apexcharts-").concat(k,"-annotation-label[rel='").concat(E,"']"));if(C){var P=C.parentNode,N=n.addBackgroundToAnno(C,b);N&&P.insertBefore(N.node,C)}};o.config.annotations.xaxis.map(function(b,E){g(b,E,"xaxis")}),o.config.annotations.yaxis.map(function(b,E){g(b,E,"yaxis")}),o.config.annotations.points.map(function(b,E){g(b,E,"point")})}},{key:"getStringX",value:function(n){var o=this.w,g=n;o.config.xaxis.convertedCatToNumeric&&o.globals.categoryLabels.length&&(n=o.globals.categoryLabels.indexOf(n)+1);var b=o.globals.labels.indexOf(n),E=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(b+1)+")");return E&&(g=parseFloat(E.getAttribute("x"))),g}}]),_e}(),Ye=function(){function _e(n){p(this,_e),this.w=n.w,this.annoCtx=n,this.invertAxis=this.annoCtx.invertAxis}return x(_e,[{key:"addXaxisAnnotation",value:function(n,o,g){var b=this.w,E=this.invertAxis?b.globals.minY:b.globals.minX,k=this.invertAxis?b.globals.maxY:b.globals.maxX,C=this.invertAxis?b.globals.yRange[0]:b.globals.xRange,P=(n.x-E)/(C/b.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(P=(k-n.x)/(C/b.globals.gridWidth));var N=n.label.text;b.config.xaxis.type!=="category"&&!b.config.xaxis.convertedCatToNumeric||this.invertAxis||b.globals.dataFormatXNumeric||(P=this.annoCtx.helpers.getStringX(n.x));var W=n.strokeDashArray;if(X.isNumber(P)){if(n.x2===null||n.x2===void 0){var K=this.annoCtx.graphics.drawLine(P+n.offsetX,0+n.offsetY,P+n.offsetX,b.globals.gridHeight+n.offsetY,n.borderColor,W,n.borderWidth);o.appendChild(K.node),n.id&&K.node.classList.add(n.id)}else{var ee=(n.x2-E)/(C/b.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(ee=(k-n.x2)/(C/b.globals.gridWidth)),b.config.xaxis.type!=="category"&&!b.config.xaxis.convertedCatToNumeric||this.invertAxis||b.globals.dataFormatXNumeric||(ee=this.annoCtx.helpers.getStringX(n.x2)),ee<P){var ue=P;P=ee,ee=ue}var we=this.annoCtx.graphics.drawRect(P+n.offsetX,0+n.offsetY,ee-P,b.globals.gridHeight+n.offsetY,0,n.fillColor,n.opacity,1,n.borderColor,W);we.node.classList.add("apexcharts-annotation-rect"),we.attr("clip-path","url(#gridRectMask".concat(b.globals.cuid,")")),o.appendChild(we.node),n.id&&we.node.classList.add(n.id)}var Me=n.label.position==="top"?4:b.globals.gridHeight,Oe=this.annoCtx.graphics.getTextRects(N,parseFloat(n.label.style.fontSize)),He=this.annoCtx.graphics.drawText({x:P+n.label.offsetX,y:Me+n.label.offsetY-(n.label.orientation==="vertical"?n.label.position==="top"?Oe.width/2-12:-Oe.width/2:0),text:N,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});He.attr({rel:g}),o.appendChild(He.node),this.annoCtx.helpers.setOrientations(n,g)}}},{key:"drawXAxisAnnotations",value:function(){var n=this,o=this.w,g=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return o.config.annotations.xaxis.map(function(b,E){n.addXaxisAnnotation(b,g.node,E)}),g}}]),_e}(),Q=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"getStackedSeriesTotals",value:function(){var n=this.w,o=[];if(n.globals.series.length===0)return o;for(var g=0;g<n.globals.series[n.globals.maxValsInArrayIndex].length;g++){for(var b=0,E=0;E<n.globals.series.length;E++)n.globals.series[E][g]!==void 0&&(b+=n.globals.series[E][g]);o.push(b)}return n.globals.stackedSeriesTotals=o,o}},{key:"getSeriesTotalByIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n===null?this.w.config.series.reduce(function(o,g){return o+g},0):this.w.globals.series[n].reduce(function(o,g){return o+g},0)}},{key:"isSeriesNull",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(n===null?this.w.config.series.filter(function(o){return o!==null}):this.w.config.series[n].data.filter(function(o){return o!==null})).length===0}},{key:"seriesHaveSameValues",value:function(n){return this.w.globals.series[n].every(function(o,g,b){return o===b[0]})}},{key:"getCategoryLabels",value:function(n){var o=this.w,g=n.slice();return o.config.xaxis.convertedCatToNumeric&&(g=n.map(function(b,E){return o.config.xaxis.labels.formatter(b-o.globals.minX+1)})),g}},{key:"getLargestSeries",value:function(){var n=this.w;n.globals.maxValsInArrayIndex=n.globals.series.map(function(o){return o.length}).indexOf(Math.max.apply(Math,n.globals.series.map(function(o){return o.length})))}},{key:"getLargestMarkerSize",value:function(){var n=this.w,o=0;return n.globals.markers.size.forEach(function(g){o=Math.max(o,g)}),n.globals.markers.largestSize=o,o}},{key:"getSeriesTotals",value:function(){var n=this.w;n.globals.seriesTotals=n.globals.series.map(function(o,g){var b=0;if(Array.isArray(o))for(var E=0;E<o.length;E++)b+=o[E];else b+=o;return b})}},{key:"getSeriesTotalsXRange",value:function(n,o){var g=this.w;return g.globals.series.map(function(b,E){for(var k=0,C=0;C<b.length;C++)g.globals.seriesX[E][C]>n&&g.globals.seriesX[E][C]<o&&(k+=b[C]);return k})}},{key:"getPercentSeries",value:function(){var n=this.w;n.globals.seriesPercent=n.globals.series.map(function(o,g){var b=[];if(Array.isArray(o))for(var E=0;E<o.length;E++){var k=n.globals.stackedSeriesTotals[E],C=0;k&&(C=100*o[E]/k),b.push(C)}else{var P=100*o/n.globals.seriesTotals.reduce(function(N,W){return N+W},0);b.push(P)}return b})}},{key:"getCalculatedRatios",value:function(){var n,o,g,b,E=this.w.globals,k=[],C=0,P=[],N=.1,W=0;if(E.yRange=[],E.isMultipleYAxis)for(var K=0;K<E.minYArr.length;K++)E.yRange.push(Math.abs(E.minYArr[K]-E.maxYArr[K])),P.push(0);else E.yRange.push(Math.abs(E.minY-E.maxY));E.xRange=Math.abs(E.maxX-E.minX),E.zRange=Math.abs(E.maxZ-E.minZ);for(var ee=0;ee<E.yRange.length;ee++)k.push(E.yRange[ee]/E.gridHeight);if(o=E.xRange/E.gridWidth,g=Math.abs(E.initialMaxX-E.initialMinX)/E.gridWidth,n=E.yRange/E.gridWidth,b=E.xRange/E.gridHeight,(C=E.zRange/E.gridHeight*16)||(C=1),E.minY!==Number.MIN_VALUE&&Math.abs(E.minY)!==0&&(E.hasNegs=!0),E.isMultipleYAxis){P=[];for(var ue=0;ue<k.length;ue++)P.push(-E.minYArr[ue]/k[ue])}else P.push(-E.minY/k[0]),E.minY!==Number.MIN_VALUE&&Math.abs(E.minY)!==0&&(N=-E.minY/n,W=E.minX/o);return{yRatio:k,invertedYRatio:n,zRatio:C,xRatio:o,initialXRatio:g,invertedXRatio:b,baseLineInvertedY:N,baseLineY:P,baseLineX:W}}},{key:"getLogSeries",value:function(n){var o=this,g=this.w;return g.globals.seriesLog=n.map(function(b,E){return g.config.yaxis[E]&&g.config.yaxis[E].logarithmic?b.map(function(k){return k===null?null:o.getLogVal(k,E)}):b}),g.globals.invalidLogScale?n:g.globals.seriesLog}},{key:"getLogVal",value:function(n,o){var g=this.w;return(Math.log(n)-Math.log(g.globals.minYArr[o]))/(Math.log(g.globals.maxYArr[o])-Math.log(g.globals.minYArr[o]))}},{key:"getLogYRatios",value:function(n){var o=this,g=this.w,b=this.w.globals;return b.yLogRatio=n.slice(),b.logYRange=b.yRange.map(function(E,k){if(g.config.yaxis[k]&&o.w.config.yaxis[k].logarithmic){var C,P=-Number.MAX_VALUE,N=Number.MIN_VALUE;return b.seriesLog.forEach(function(W,K){W.forEach(function(ee){g.config.yaxis[K]&&g.config.yaxis[K].logarithmic&&(P=Math.max(ee,P),N=Math.min(ee,N))})}),C=Math.pow(b.yRange[k],Math.abs(N-P)/b.yRange[k]),b.yLogRatio[k]=C/b.gridHeight,C}}),b.invalidLogScale?n.slice():b.yLogRatio}}],[{key:"checkComboSeries",value:function(n){var o=!1,g=0,b=0;return n.length&&n[0].type!==void 0&&n.forEach(function(E){E.type!=="bar"&&E.type!=="column"&&E.type!=="candlestick"&&E.type!=="boxPlot"||g++,E.type!==void 0&&b++}),b>1&&(o=!0),{comboBarCount:g,comboCharts:o}}},{key:"extendArrayProps",value:function(n,o,g){return o.yaxis&&(o=n.extendYAxis(o,g)),o.annotations&&(o.annotations.yaxis&&(o=n.extendYAxisAnnotations(o)),o.annotations.xaxis&&(o=n.extendXAxisAnnotations(o)),o.annotations.points&&(o=n.extendPointAnnotations(o))),o}}]),_e}(),Dt=function(){function _e(n){p(this,_e),this.w=n.w,this.annoCtx=n}return x(_e,[{key:"addYaxisAnnotation",value:function(n,o,g){var b,E=this.w,k=n.strokeDashArray,C=this._getY1Y2("y1",n),P=n.label.text;if(n.y2===null||n.y2===void 0){var N=this.annoCtx.graphics.drawLine(0+n.offsetX,C+n.offsetY,this._getYAxisAnnotationWidth(n),C+n.offsetY,n.borderColor,k,n.borderWidth);o.appendChild(N.node),n.id&&N.node.classList.add(n.id)}else{if((b=this._getY1Y2("y2",n))>C){var W=C;C=b,b=W}var K=this.annoCtx.graphics.drawRect(0+n.offsetX,b+n.offsetY,this._getYAxisAnnotationWidth(n),C-b,0,n.fillColor,n.opacity,1,n.borderColor,k);K.node.classList.add("apexcharts-annotation-rect"),K.attr("clip-path","url(#gridRectMask".concat(E.globals.cuid,")")),o.appendChild(K.node),n.id&&K.node.classList.add(n.id)}var ee=n.label.position==="right"?E.globals.gridWidth:0,ue=this.annoCtx.graphics.drawText({x:ee+n.label.offsetX,y:(b||C)+n.label.offsetY-3,text:P,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});ue.attr({rel:g}),o.appendChild(ue.node)}},{key:"_getY1Y2",value:function(n,o){var g,b=n==="y1"?o.y:o.y2,E=this.w;if(this.annoCtx.invertAxis){var k=E.globals.labels.indexOf(b);E.config.xaxis.convertedCatToNumeric&&(k=E.globals.categoryLabels.indexOf(b));var C=E.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(k+1)+")");C&&(g=parseFloat(C.getAttribute("y")))}else{var P;E.config.yaxis[o.yAxisIndex].logarithmic?P=(b=new Q(this.annoCtx.ctx).getLogVal(b,o.yAxisIndex))/E.globals.yLogRatio[o.yAxisIndex]:P=(b-E.globals.minYArr[o.yAxisIndex])/(E.globals.yRange[o.yAxisIndex]/E.globals.gridHeight),g=E.globals.gridHeight-P,E.config.yaxis[o.yAxisIndex]&&E.config.yaxis[o.yAxisIndex].reversed&&(g=P)}return g}},{key:"_getYAxisAnnotationWidth",value:function(n){var o=this.w;return o.globals.gridWidth,(n.width.indexOf("%")>-1?o.globals.gridWidth*parseInt(n.width,10)/100:parseInt(n.width,10))+n.offsetX}},{key:"drawYAxisAnnotations",value:function(){var n=this,o=this.w,g=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return o.config.annotations.yaxis.map(function(b,E){n.addYaxisAnnotation(b,g.node,E)}),g}}]),_e}(),St=function(){function _e(n){p(this,_e),this.w=n.w,this.annoCtx=n}return x(_e,[{key:"addPointAnnotation",value:function(n,o,g){var b=this.w,E=0,k=0,C=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var P,N=parseFloat(n.y);if(typeof n.x=="string"){var W=b.globals.labels.indexOf(n.x);b.config.xaxis.convertedCatToNumeric&&(W=b.globals.categoryLabels.indexOf(n.x)),E=this.annoCtx.helpers.getStringX(n.x),n.y===null&&(N=b.globals.series[n.seriesIndex][W])}else E=(n.x-b.globals.minX)/(b.globals.xRange/b.globals.gridWidth);if(b.config.yaxis[n.yAxisIndex].logarithmic?P=(N=new Q(this.annoCtx.ctx).getLogVal(N,n.yAxisIndex))/b.globals.yLogRatio[n.yAxisIndex]:P=(N-b.globals.minYArr[n.yAxisIndex])/(b.globals.yRange[n.yAxisIndex]/b.globals.gridHeight),k=b.globals.gridHeight-P-parseFloat(n.label.style.fontSize)-n.marker.size,C=b.globals.gridHeight-P,b.config.yaxis[n.yAxisIndex]&&b.config.yaxis[n.yAxisIndex].reversed&&(k=P+parseFloat(n.label.style.fontSize)+n.marker.size,C=P),X.isNumber(E)){var K={pSize:n.marker.size,pWidth:n.marker.strokeWidth,pointFillColor:n.marker.fillColor,pointStrokeColor:n.marker.strokeColor,shape:n.marker.shape,pRadius:n.marker.radius,class:"apexcharts-point-annotation-marker ".concat(n.marker.cssClass," ").concat(n.id?n.id:"")},ee=this.annoCtx.graphics.drawMarker(E+n.marker.offsetX,C+n.marker.offsetY,K);o.appendChild(ee.node);var ue=n.label.text?n.label.text:"",we=this.annoCtx.graphics.drawText({x:E+n.label.offsetX,y:k+n.label.offsetY,text:ue,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});if(we.attr({rel:g}),o.appendChild(we.node),n.customSVG.SVG){var Me=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+n.customSVG.cssClass});Me.attr({transform:"translate(".concat(E+n.customSVG.offsetX,", ").concat(k+n.customSVG.offsetY,")")}),Me.node.innerHTML=n.customSVG.SVG,o.appendChild(Me.node)}if(n.image.path){var Oe=n.image.width?n.image.width:20,He=n.image.height?n.image.height:20;this.annoCtx.addImage({x:E+n.image.offsetX-Oe/2,y:k+n.image.offsetY-He/2,width:Oe,height:He,path:n.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var n=this,o=this.w,g=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return o.config.annotations.points.map(function(b,E){n.addPointAnnotation(b,g.node,E)}),g}}]),_e}(),At={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ui=function(){function _e(){p(this,_e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return x(_e,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[At],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(n){return new Date(n).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,startingShape:"flat",endingShape:"flat",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(n){return n}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(n){return n+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(o,g){return o+g},0)/n.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(n){return n}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(n){return n}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(o,g){return o+g},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(n){return n!==null?n:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(n){return n?n+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,sorted:!1,offsetX:0,offsetY:0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),_e}(),Ue=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.graphics=new me(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new it(this),this.xAxisAnnotations=new Ye(this),this.yAxisAnnotations=new Dt(this),this.pointsAnnotations=new St(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return x(_e,[{key:"drawAxesAnnotations",value:function(){var n=this.w;if(n.globals.axisCharts){for(var o=this.yAxisAnnotations.drawYAxisAnnotations(),g=this.xAxisAnnotations.drawXAxisAnnotations(),b=this.pointsAnnotations.drawPointAnnotations(),E=n.config.chart.animations.enabled,k=[o,g,b],C=[g.node,o.node,b.node],P=0;P<3;P++)n.globals.dom.elGraphical.add(k[P]),!E||n.globals.resized||n.globals.dataChanged||n.config.chart.type!=="scatter"&&n.config.chart.type!=="bubble"&&n.globals.dataPoints>1&&C[P].classList.add("apexcharts-element-hidden"),n.globals.delayedElements.push({el:C[P],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var n=this;this.w.config.annotations.images.map(function(o,g){n.addImage(o,g)})}},{key:"drawTextAnnos",value:function(){var n=this;this.w.config.annotations.texts.map(function(o,g){n.addText(o,g)})}},{key:"addXaxisAnnotation",value:function(n,o,g){this.xAxisAnnotations.addXaxisAnnotation(n,o,g)}},{key:"addYaxisAnnotation",value:function(n,o,g){this.yAxisAnnotations.addYaxisAnnotation(n,o,g)}},{key:"addPointAnnotation",value:function(n,o,g){this.pointsAnnotations.addPointAnnotation(n,o,g)}},{key:"addText",value:function(n,o){var g=n.x,b=n.y,E=n.text,k=n.textAnchor,C=n.foreColor,P=n.fontSize,N=n.fontFamily,W=n.fontWeight,K=n.cssClass,ee=n.backgroundColor,ue=n.borderWidth,we=n.strokeDashArray,Me=n.borderRadius,Oe=n.borderColor,He=n.appendTo,Le=He===void 0?".apexcharts-annotations":He,gt=n.paddingLeft,B=gt===void 0?4:gt,se=n.paddingRight,ke=se===void 0?4:se,Ke=n.paddingBottom,zt=Ke===void 0?2:Ke,ai=n.paddingTop,Xt=ai===void 0?2:ai,Wt=this.w,li=this.graphics.drawText({x:g,y:b,text:E,textAnchor:k||"start",fontSize:P||"12px",fontWeight:W||"regular",fontFamily:N||Wt.config.chart.fontFamily,foreColor:C||Wt.config.chart.foreColor,cssClass:K}),mi=Wt.globals.dom.baseEl.querySelector(Le);mi&&mi.appendChild(li.node);var Yi=li.bbox();if(E){var Gr=this.graphics.drawRect(Yi.x-B,Yi.y-Xt,Yi.width+B+ke,Yi.height+zt+Xt,Me,ee||"transparent",1,ue,Oe,we);mi.insertBefore(Gr.node,li.node)}}},{key:"addImage",value:function(n,o){var g=this.w,b=n.path,E=n.x,k=E===void 0?0:E,C=n.y,P=C===void 0?0:C,N=n.width,W=N===void 0?20:N,K=n.height,ee=K===void 0?20:K,ue=n.appendTo,we=ue===void 0?".apexcharts-annotations":ue,Me=g.globals.dom.Paper.image(b);Me.size(W,ee).move(k,P);var Oe=g.globals.dom.baseEl.querySelector(we);Oe&&Oe.appendChild(Me.node)}},{key:"addXaxisAnnotationExternal",value:function(n,o,g){return this.addAnnotationExternal({params:n,pushToMemory:o,context:g,type:"xaxis",contextMethod:g.addXaxisAnnotation}),g}},{key:"addYaxisAnnotationExternal",value:function(n,o,g){return this.addAnnotationExternal({params:n,pushToMemory:o,context:g,type:"yaxis",contextMethod:g.addYaxisAnnotation}),g}},{key:"addPointAnnotationExternal",value:function(n,o,g){return this.invertAxis===void 0&&(this.invertAxis=g.w.globals.isBarHorizontal),this.addAnnotationExternal({params:n,pushToMemory:o,context:g,type:"point",contextMethod:g.addPointAnnotation}),g}},{key:"addAnnotationExternal",value:function(n){var o=n.params,g=n.pushToMemory,b=n.context,E=n.type,k=n.contextMethod,C=b,P=C.w,N=P.globals.dom.baseEl.querySelector(".apexcharts-".concat(E,"-annotations")),W=N.childNodes.length+1,K=new ui,ee=Object.assign({},E==="xaxis"?K.xAxisAnnotation:E==="yaxis"?K.yAxisAnnotation:K.pointAnnotation),ue=X.extend(ee,o);switch(E){case"xaxis":this.addXaxisAnnotation(ue,N,W);break;case"yaxis":this.addYaxisAnnotation(ue,N,W);break;case"point":this.addPointAnnotation(ue,N,W)}var we=P.globals.dom.baseEl.querySelector(".apexcharts-".concat(E,"-annotations .apexcharts-").concat(E,"-annotation-label[rel='").concat(W,"']")),Me=this.helpers.addBackgroundToAnno(we,ue);return Me&&N.insertBefore(Me.node,we),g&&P.globals.memory.methodsToExec.push({context:C,id:ue.id?ue.id:X.randomId(),method:k,label:"addAnnotation",params:o}),b}},{key:"clearAnnotations",value:function(n){var o=n.w,g=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");o.globals.memory.methodsToExec.map(function(b,E){b.label!=="addText"&&b.label!=="addAnnotation"||o.globals.memory.methodsToExec.splice(E,1)}),g=X.listToArray(g),Array.prototype.forEach.call(g,function(b){for(;b.firstChild;)b.removeChild(b.firstChild)})}},{key:"removeAnnotation",value:function(n,o){var g=n.w,b=g.globals.dom.baseEl.querySelectorAll(".".concat(o));b&&(g.globals.memory.methodsToExec.map(function(E,k){E.id===o&&g.globals.memory.methodsToExec.splice(k,1)}),Array.prototype.forEach.call(b,function(E){E.parentElement.removeChild(E)}))}}]),_e}(),Pe=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.opts=null,this.seriesIndex=0}return x(_e,[{key:"clippedImgArea",value:function(n){var o=this.w,g=o.config,b=parseInt(o.globals.gridWidth,10),E=parseInt(o.globals.gridHeight,10),k=b>E?b:E,C=n.image,P=0,N=0;n.width===void 0&&n.height===void 0?g.fill.image.width!==void 0&&g.fill.image.height!==void 0?(P=g.fill.image.width+1,N=g.fill.image.height):(P=k+1,N=k):(P=n.width,N=n.height);var W=document.createElementNS(o.globals.SVGNS,"pattern");me.setAttrs(W,{id:n.patternID,patternUnits:n.patternUnits?n.patternUnits:"userSpaceOnUse",width:P+"px",height:N+"px"});var K=document.createElementNS(o.globals.SVGNS,"image");W.appendChild(K),K.setAttributeNS(window.SVG.xlink,"href",C),me.setAttrs(K,{x:0,y:0,preserveAspectRatio:"none",width:P+"px",height:N+"px"}),K.style.opacity=n.opacity,o.globals.dom.elDefs.node.appendChild(W)}},{key:"getSeriesIndex",value:function(n){var o=this.w;return(o.config.chart.type==="bar"||o.config.chart.type==="rangeBar")&&o.config.plotOptions.bar.distributed||o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"?this.seriesIndex=n.seriesNumber:this.seriesIndex=n.seriesNumber%o.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(n){var o=this.w;this.opts=n;var g,b,E,k=this.w.config;this.seriesIndex=this.getSeriesIndex(n);var C=this.getFillColors()[this.seriesIndex];o.globals.seriesColors[this.seriesIndex]!==void 0&&(C=o.globals.seriesColors[this.seriesIndex]),typeof C=="function"&&(C=C({seriesIndex:this.seriesIndex,dataPointIndex:n.dataPointIndex,value:n.value,w:o}));var P=this.getFillType(this.seriesIndex),N=Array.isArray(k.fill.opacity)?k.fill.opacity[this.seriesIndex]:k.fill.opacity;n.color&&(C=n.color);var W=C;if(C.indexOf("rgb")===-1?C.length<9&&(W=X.hexToRgba(C,N)):C.indexOf("rgba")>-1&&(N=X.getOpacityFromRGBA(C)),n.opacity&&(N=n.opacity),P==="pattern"&&(b=this.handlePatternFill(b,C,N,W)),P==="gradient"&&(E=this.handleGradientFill(C,N,this.seriesIndex)),P==="image"){var K=k.fill.image.src,ee=n.patternID?n.patternID:"";this.clippedImgArea({opacity:N,image:Array.isArray(K)?n.seriesNumber<K.length?K[n.seriesNumber]:K[0]:K,width:n.width?n.width:void 0,height:n.height?n.height:void 0,patternUnits:n.patternUnits,patternID:"pattern".concat(o.globals.cuid).concat(n.seriesNumber+1).concat(ee)}),g="url(#pattern".concat(o.globals.cuid).concat(n.seriesNumber+1).concat(ee,")")}else g=P==="gradient"?E:P==="pattern"?b:W;return n.solid&&(g=W),g}},{key:"getFillType",value:function(n){var o=this.w;return Array.isArray(o.config.fill.type)?o.config.fill.type[n]:o.config.fill.type}},{key:"getFillColors",value:function(){var n=this.w,o=n.config,g=this.opts,b=[];return n.globals.comboCharts?n.config.series[this.seriesIndex].type==="line"?Array.isArray(n.globals.stroke.colors)?b=n.globals.stroke.colors:b.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?b=n.globals.fill.colors:b.push(n.globals.fill.colors):o.chart.type==="line"?Array.isArray(n.globals.stroke.colors)?b=n.globals.stroke.colors:b.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?b=n.globals.fill.colors:b.push(n.globals.fill.colors),g.fillColors!==void 0&&(b=[],Array.isArray(g.fillColors)?b=g.fillColors.slice():b.push(g.fillColors)),b}},{key:"handlePatternFill",value:function(n,o,g,b){var E=this.w.config,k=this.opts,C=new me(this.ctx),P=E.fill.pattern.strokeWidth===void 0?Array.isArray(E.stroke.width)?E.stroke.width[this.seriesIndex]:E.stroke.width:Array.isArray(E.fill.pattern.strokeWidth)?E.fill.pattern.strokeWidth[this.seriesIndex]:E.fill.pattern.strokeWidth,N=o;return Array.isArray(E.fill.pattern.style)?n=E.fill.pattern.style[k.seriesNumber]!==void 0?C.drawPattern(E.fill.pattern.style[k.seriesNumber],E.fill.pattern.width,E.fill.pattern.height,N,P,g):b:n=C.drawPattern(E.fill.pattern.style,E.fill.pattern.width,E.fill.pattern.height,N,P,g),n}},{key:"handleGradientFill",value:function(n,o,g){var b,E=this.w.config,k=this.opts,C=new me(this.ctx),P=new X,N=E.fill.gradient.type,W=n,K=E.fill.gradient.opacityFrom===void 0?o:Array.isArray(E.fill.gradient.opacityFrom)?E.fill.gradient.opacityFrom[g]:E.fill.gradient.opacityFrom;W.indexOf("rgba")>-1&&(K=X.getOpacityFromRGBA(W));var ee=E.fill.gradient.opacityTo===void 0?o:Array.isArray(E.fill.gradient.opacityTo)?E.fill.gradient.opacityTo[g]:E.fill.gradient.opacityTo;if(E.fill.gradient.gradientToColors===void 0||E.fill.gradient.gradientToColors.length===0)b=E.fill.gradient.shade==="dark"?P.shadeColor(-1*parseFloat(E.fill.gradient.shadeIntensity),n.indexOf("rgb")>-1?X.rgb2hex(n):n):P.shadeColor(parseFloat(E.fill.gradient.shadeIntensity),n.indexOf("rgb")>-1?X.rgb2hex(n):n);else if(E.fill.gradient.gradientToColors[k.seriesNumber]){var ue=E.fill.gradient.gradientToColors[k.seriesNumber];b=ue,ue.indexOf("rgba")>-1&&(ee=X.getOpacityFromRGBA(ue))}else b=n;if(E.fill.gradient.inverseColors){var we=W;W=b,b=we}return W.indexOf("rgb")>-1&&(W=X.rgb2hex(W)),b.indexOf("rgb")>-1&&(b=X.rgb2hex(b)),C.drawGradient(N,W,b,K,ee,k.size,E.fill.gradient.stops,E.fill.gradient.colorStops,g)}}]),_e}(),De=function(){function _e(n,o){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"setGlobalMarkerSize",value:function(){var n=this.w;if(n.globals.markers.size=Array.isArray(n.config.markers.size)?n.config.markers.size:[n.config.markers.size],n.globals.markers.size.length>0){if(n.globals.markers.size.length<n.globals.series.length+1)for(var o=0;o<=n.globals.series.length;o++)n.globals.markers.size[o]===void 0&&n.globals.markers.size.push(n.globals.markers.size[0])}else n.globals.markers.size=n.config.series.map(function(g){return n.config.markers.size})}},{key:"plotChartMarkers",value:function(n,o,g,b){var E,k=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=this.w,P=o,N=n,W=null,K=new me(this.ctx);if((C.globals.markers.size[o]>0||k)&&(W=K.group({class:k?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(C.globals.cuid,")")),Array.isArray(N.x))for(var ee=0;ee<N.x.length;ee++){var ue=g;g===1&&ee===0&&(ue=0),g===1&&ee===1&&(ue=1);var we="apexcharts-marker";C.config.chart.type!=="line"&&C.config.chart.type!=="area"||C.globals.comboCharts||C.config.tooltip.intersect||(we+=" no-pointer-events");var Me=Array.isArray(C.config.markers.size)?C.globals.markers.size[o]>0:C.config.markers.size>0;if(Me||k){X.isNumber(N.y[ee])?we+=" w".concat(X.randomId()):we="apexcharts-nullpoint";var Oe=this.getMarkerConfig(we,o,ue);C.config.series[P].data[ue]&&(C.config.series[P].data[ue].fillColor&&(Oe.pointFillColor=C.config.series[P].data[ue].fillColor),C.config.series[P].data[ue].strokeColor&&(Oe.pointStrokeColor=C.config.series[P].data[ue].strokeColor)),b&&(Oe.pSize=b),(E=K.drawMarker(N.x[ee],N.y[ee],Oe)).attr("rel",ue),E.attr("j",ue),E.attr("index",o),E.node.setAttribute("default-marker-size",Oe.pSize);var He=new ve(this.ctx);He.setSelectionFilter(E,o,ue),this.addEvents(E),W&&W.add(E)}else C.globals.pointsArray[o]===void 0&&(C.globals.pointsArray[o]=[]),C.globals.pointsArray[o].push([N.x[ee],N.y[ee]])}return W}},{key:"getMarkerConfig",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=this.w,E=this.getMarkerStyle(o),k=b.globals.markers.size[o],C=b.config.markers;return g!==null&&C.discrete.length&&C.discrete.map(function(P){P.seriesIndex===o&&P.dataPointIndex===g&&(E.pointStrokeColor=P.strokeColor,E.pointFillColor=P.fillColor,k=P.size)}),{pSize:k,pRadius:C.radius,pWidth:Array.isArray(C.strokeWidth)?C.strokeWidth[o]:C.strokeWidth,pointStrokeColor:E.pointStrokeColor,pointFillColor:E.pointFillColor,shape:Array.isArray(C.shape)?C.shape[o]:C.shape,class:n,pointStrokeOpacity:Array.isArray(C.strokeOpacity)?C.strokeOpacity[o]:C.strokeOpacity,pointStrokeDashArray:Array.isArray(C.strokeDashArray)?C.strokeDashArray[o]:C.strokeDashArray,pointFillOpacity:Array.isArray(C.fillOpacity)?C.fillOpacity[o]:C.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(n){var o=this.w,g=new me(this.ctx);n.node.addEventListener("mouseenter",g.pathMouseEnter.bind(this.ctx,n)),n.node.addEventListener("mouseleave",g.pathMouseLeave.bind(this.ctx,n)),n.node.addEventListener("mousedown",g.pathMouseDown.bind(this.ctx,n)),n.node.addEventListener("click",o.config.markers.onClick),n.node.addEventListener("dblclick",o.config.markers.onDblClick),n.node.addEventListener("touchstart",g.pathMouseDown.bind(this.ctx,n),{passive:!0})}},{key:"getMarkerStyle",value:function(n){var o=this.w,g=o.globals.markers.colors,b=o.config.markers.strokeColor||o.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(b)?b[n]:b,pointFillColor:Array.isArray(g)?g[n]:g}}}]),_e}(),te=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return x(_e,[{key:"draw",value:function(n,o,g){var b=this.w,E=new me(this.ctx),k=g.realIndex,C=g.pointsPos,P=g.zRatio,N=g.elParent,W=E.group({class:"apexcharts-series-markers apexcharts-series-".concat(b.config.chart.type)});if(W.attr("clip-path","url(#gridRectMarkerMask".concat(b.globals.cuid,")")),Array.isArray(C.x))for(var K=0;K<C.x.length;K++){var ee=o+1,ue=!0;o===0&&K===0&&(ee=0),o===0&&K===1&&(ee=1);var we=0,Me=b.globals.markers.size[k];if(P!==1/0){Me=b.globals.seriesZ[k][ee]/P;var Oe=b.config.plotOptions.bubble;Oe.minBubbleRadius&&Me<Oe.minBubbleRadius&&(Me=Oe.minBubbleRadius),Oe.maxBubbleRadius&&Me>Oe.maxBubbleRadius&&(Me=Oe.maxBubbleRadius)}b.config.chart.animations.enabled||(we=Me);var He=C.x[K],Le=C.y[K];if(we=we||0,Le!==null&&b.globals.series[k][ee]!==void 0||(ue=!1),ue){var gt=this.drawPoint(He,Le,we,Me,k,ee,o);W.add(gt)}N.add(W)}}},{key:"drawPoint",value:function(n,o,g,b,E,k,C){var P=this.w,N=E,W=new pe(this.ctx),K=new ve(this.ctx),ee=new Pe(this.ctx),ue=new De(this.ctx),we=new me(this.ctx),Me=ue.getMarkerConfig("apexcharts-marker",N),Oe=ee.fillPath({seriesNumber:E,dataPointIndex:k,patternUnits:"objectBoundingBox",value:P.globals.series[E][C]}),He=we.drawCircle(g);if(P.config.series[N].data[k]&&P.config.series[N].data[k].fillColor&&(Oe=P.config.series[N].data[k].fillColor),He.attr({cx:n,cy:o,fill:Oe,stroke:Me.pointStrokeColor,r:b,"stroke-width":Me.pWidth,"stroke-dasharray":Me.pointStrokeDashArray,"stroke-opacity":Me.pointStrokeOpacity}),P.config.chart.dropShadow.enabled){var Le=P.config.chart.dropShadow;K.dropShadow(He,Le,E)}if(!this.initialAnim||P.globals.dataChanged||P.globals.resized)P.globals.animationEnded=!0;else{var gt=P.config.chart.animations.speed;W.animateCircleRadius(He,0,b,gt,P.globals.easing,function(){window.setTimeout(function(){W.animationCompleted(He)},100)})}if(P.globals.dataChanged)if(this.dynamicAnim){var B,se,ke,Ke,zt=P.config.chart.animations.dynamicAnimation.speed;(Ke=P.globals.previousPaths[E]&&P.globals.previousPaths[E][C])!=null&&(B=Ke.x,se=Ke.y,ke=Ke.r!==void 0?Ke.r:b);for(var ai=0;ai<P.globals.collapsedSeries.length;ai++)P.globals.collapsedSeries[ai].index===E&&(zt=1,b=0);n===0&&o===0&&(b=0),W.animateCircle(He,{cx:B,cy:se,r:ke},{cx:n,cy:o,r:b},zt,P.globals.easing)}else He.attr({r:b});return He.attr({rel:k,j:k,index:E,"default-marker-size":b}),K.setSelectionFilter(He,E,k),ue.addEvents(He),He.node.classList.add("apexcharts-marker"),He}},{key:"centerTextInBubble",value:function(n){var o=this.w;return{y:n+=parseInt(o.config.dataLabels.style.fontSize,10)/4}}}]),_e}(),fe=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"dataLabelsCorrection",value:function(n,o,g,b,E,k,C){var P=this.w,N=!1,W=new me(this.ctx).getTextRects(g,C),K=W.width,ee=W.height;P.globals.dataLabelsRects[b]===void 0&&(P.globals.dataLabelsRects[b]=[]),P.globals.dataLabelsRects[b].push({x:n,y:o,width:K,height:ee});var ue=P.globals.dataLabelsRects[b].length-2,we=P.globals.lastDrawnDataLabelsIndexes[b]!==void 0?P.globals.lastDrawnDataLabelsIndexes[b][P.globals.lastDrawnDataLabelsIndexes[b].length-1]:0;if(P.globals.dataLabelsRects[b][ue]!==void 0){var Me=P.globals.dataLabelsRects[b][we];(n>Me.x+Me.width+2||o>Me.y+Me.height+2||n+K<Me.x)&&(N=!0)}return(E===0||k)&&(N=!0),{x:n,y:o,textRects:W,drawnextLabel:N}}},{key:"drawDataLabel",value:function(n,o,g){var b=this,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:2,k=this.w,C=new me(this.ctx),P=k.config.dataLabels,N=0,W=0,K=g,ee=null;if(!P.enabled||!Array.isArray(n.x))return ee;ee=C.group({class:"apexcharts-data-labels"});for(var ue=0;ue<n.x.length;ue++)if(N=n.x[ue]+P.offsetX,W=n.y[ue]+P.offsetY+E,!isNaN(N)){g===1&&ue===0&&(K=0),g===1&&ue===1&&(K=1);var we=k.globals.series[o][K],Me="",Oe=function(gt){return k.config.dataLabels.formatter(gt,{ctx:b.ctx,seriesIndex:o,dataPointIndex:K,w:k})};if(k.config.chart.type==="bubble"){Me=Oe(we=k.globals.seriesZ[o][K]),W=n.y[ue];var He=new te(this.ctx),Le=He.centerTextInBubble(W,o,K);W=Le.y}else we!==void 0&&(Me=Oe(we));this.plotDataLabelsText({x:N,y:W,text:Me,i:o,j:K,parent:ee,offsetCorrection:!0,dataLabelsConfig:k.config.dataLabels})}return ee}},{key:"plotDataLabelsText",value:function(n){var o=this.w,g=new me(this.ctx),b=n.x,E=n.y,k=n.i,C=n.j,P=n.text,N=n.textAnchor,W=n.fontSize,K=n.parent,ee=n.dataLabelsConfig,ue=n.color,we=n.alwaysDrawDataLabel,Me=n.offsetCorrection;if(!(Array.isArray(o.config.dataLabels.enabledOnSeries)&&o.config.dataLabels.enabledOnSeries.indexOf(k)<0)){var Oe={x:b,y:E,drawnextLabel:!0};Me&&(Oe=this.dataLabelsCorrection(b,E,P,k,C,we,parseInt(ee.style.fontSize,10))),o.globals.zoomed||(b=Oe.x,E=Oe.y),Oe.textRects;var He=o.globals.dataLabels.style.colors[k];((o.config.chart.type==="bar"||o.config.chart.type==="rangeBar")&&o.config.plotOptions.bar.distributed||o.config.dataLabels.distributed)&&(He=o.globals.dataLabels.style.colors[C]),typeof He=="function"&&(He=He({series:o.globals.series,seriesIndex:k,dataPointIndex:C,w:o})),ue&&(He=ue);var Le=ee.offsetX,gt=ee.offsetY;if(o.config.chart.type!=="bar"&&o.config.chart.type!=="rangeBar"||(Le=0,gt=0),Oe.drawnextLabel){var B=g.drawText({width:100,height:parseInt(ee.style.fontSize,10),x:b+Le,y:E+gt,foreColor:He,textAnchor:N||ee.textAnchor,text:P,fontSize:W||ee.style.fontSize,fontFamily:ee.style.fontFamily,fontWeight:ee.style.fontWeight||"normal"});if(B.attr({class:"apexcharts-datalabel",cx:b,cy:E}),ee.dropShadow.enabled){var se=ee.dropShadow;new ve(this.ctx).dropShadow(B,se)}K.add(B),o.globals.lastDrawnDataLabelsIndexes[k]===void 0&&(o.globals.lastDrawnDataLabelsIndexes[k]=[]),o.globals.lastDrawnDataLabelsIndexes[k].push(C)}}}},{key:"addBackgroundToDataLabel",value:function(n,o){var g=this.w,b=g.config.dataLabels.background,E=b.padding,k=b.padding/2,C=o.width,P=o.height,N=new me(this.ctx).drawRect(o.x-E,o.y-k/2,C+2*E,P+k,b.borderRadius,g.config.chart.background==="transparent"?"#fff":g.config.chart.background,b.opacity,b.borderWidth,b.borderColor);return b.dropShadow.enabled&&new ve(this.ctx).dropShadow(N,b.dropShadow),N}},{key:"dataLabelsBackground",value:function(){var n=this.w;if(n.config.chart.type!=="bubble")for(var o=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),g=0;g<o.length;g++){var b=o[g],E=b.getBBox(),k=null;if(E.width&&E.height&&(k=this.addBackgroundToDataLabel(b,E)),k){b.parentNode.insertBefore(k.node,b);var C=b.getAttribute("fill");n.config.chart.animations.enabled&&!n.globals.resized&&!n.globals.dataChanged?k.animate().attr({fill:C}):k.attr({fill:C}),b.setAttribute("fill",n.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var n=this.w,o=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),g=n.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),b=0;b<o.length;b++)g&&g.insertBefore(o[b],g.nextSibling)}}]),_e}(),le=function(){function _e(n){p(this,_e),this.w=n.w,this.barCtx=n}return x(_e,[{key:"handleBarDataLabels",value:function(n){var o=n.x,g=n.y,b=n.y1,E=n.y2,k=n.i,C=n.j,P=n.realIndex,N=n.series,W=n.barHeight,K=n.barWidth,ee=n.barYPosition,ue=n.visibleSeries,we=n.renderedPath,Me=this.w,Oe=new me(this.barCtx.ctx),He=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[P]:this.barCtx.strokeWidth,Le=o+parseFloat(K*ue),gt=g+parseFloat(W*ue);Me.globals.isXNumeric&&!Me.globals.isBarHorizontal&&(Le=o+parseFloat(K*(ue+1)),gt=g+parseFloat(W*(ue+1))-He);var B=o,se=g,ke={},Ke=Me.config.dataLabels,zt=this.barCtx.barOptions.dataLabels;ee!==void 0&&this.barCtx.isTimelineBar&&(gt=ee,se=ee);var ai=Ke.offsetX,Xt=Ke.offsetY,Wt={width:0,height:0};if(Me.config.dataLabels.enabled){var li=this.barCtx.series[k][C];Wt=Oe.getTextRects(Me.globals.yLabelFormatters[0](li),parseFloat(Ke.style.fontSize))}var mi={x:o,y:g,i:k,j:C,renderedPath:we,bcx:Le,bcy:gt,barHeight:W,barWidth:K,textRects:Wt,strokeWidth:He,dataLabelsX:B,dataLabelsY:se,barDataLabelsConfig:zt,offX:ai,offY:Xt};return ke=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(mi):this.calculateColumnsDataLabelsPosition(mi),we.attr({cy:ke.bcy,cx:ke.bcx,j:C,val:N[k][C],barHeight:W,barWidth:K}),this.drawCalculatedDataLabels({x:ke.dataLabelsX,y:ke.dataLabelsY,val:this.barCtx.isTimelineBar?[b,E]:N[k][C],i:P,j:C,barWidth:K,barHeight:W,textRects:Wt,dataLabelsConfig:Ke})}},{key:"calculateColumnsDataLabelsPosition",value:function(n){var o,g=this.w,b=n.i,E=n.j,k=n.y,C=n.bcx,P=n.barWidth,N=n.barHeight,W=n.textRects,K=n.dataLabelsY,ee=n.barDataLabelsConfig,ue=n.strokeWidth,we=n.offX,Me=n.offY;N=Math.abs(N);var Oe=g.config.plotOptions.bar.dataLabels.orientation==="vertical";C-=ue/2;var He=g.globals.gridWidth/g.globals.dataPoints;o=g.globals.isXNumeric?C-P/2+we:C-He+P/2+we,Oe&&(o=o+W.height/2-ue/2-2);var Le=this.barCtx.series[b][E]<0,gt=k;switch(this.barCtx.isReversed&&(gt=k-N+(Le?2*N:0),k-=N),ee.position){case"center":K=Oe?Le?gt+N/2+Me:gt+N/2-Me:Le?gt-N/2+W.height/2+Me:gt+N/2+W.height/2-Me;break;case"bottom":K=Oe?Le?gt+N+Me:gt+N-Me:Le?gt-N+W.height+ue+Me:gt+N-W.height/2+ue-Me;break;case"top":K=Oe?Le?gt+Me:gt-Me:Le?gt-W.height/2-Me:gt+W.height+Me}return g.config.chart.stacked||(K<0?K=0+ue:K+W.height/3>g.globals.gridHeight&&(K=g.globals.gridHeight-ue)),{bcx:C,bcy:k,dataLabelsX:o,dataLabelsY:K}}},{key:"calculateBarsDataLabelsPosition",value:function(n){var o=this.w,g=n.x,b=n.i,E=n.j,k=n.bcy,C=n.barHeight,P=n.barWidth,N=n.textRects,W=n.dataLabelsX,K=n.strokeWidth,ee=n.barDataLabelsConfig,ue=n.offX,we=n.offY,Me=o.globals.gridHeight/o.globals.dataPoints;P=Math.abs(P);var Oe=k-(this.barCtx.isTimelineBar?0:Me)+C/2+N.height/2+we-3,He=this.barCtx.series[b][E]<0,Le=g;switch(this.barCtx.isReversed&&(Le=g+P-(He?2*P:0),g=o.globals.gridWidth-P),ee.position){case"center":W=He?Le+P/2-ue:Math.max(N.width/2,Le-P/2)+ue;break;case"bottom":W=He?Le+P-K-Math.round(N.width/2)-ue:Le-P+K+Math.round(N.width/2)+ue;break;case"top":W=He?Le-K+Math.round(N.width/2)-ue:Le-K-Math.round(N.width/2)+ue}return o.config.chart.stacked||(W<0?W=W+N.width+K:W+N.width/2>o.globals.gridWidth&&(W=o.globals.gridWidth-N.width-K)),{bcx:g,bcy:k,dataLabelsX:W,dataLabelsY:Oe}}},{key:"drawCalculatedDataLabels",value:function(n){var o=n.x,g=n.y,b=n.val,E=n.i,k=n.j,C=n.textRects,P=n.barHeight,N=n.barWidth,W=n.dataLabelsConfig,K=this.w,ee="rotate(0)";K.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(ee="rotate(-90, ".concat(o,", ").concat(g,")"));var ue=new fe(this.barCtx.ctx),we=new me(this.barCtx.ctx),Me=W.formatter,Oe=null,He=K.globals.collapsedSeriesIndices.indexOf(E)>-1;if(W.enabled&&!He){Oe=we.group({class:"apexcharts-data-labels",transform:ee});var Le="";b!==void 0&&(Le=Me(b,{seriesIndex:E,dataPointIndex:k,w:K})),b===0&&K.config.chart.stacked&&(Le="");var gt=K.globals.series[E][k]<=0,B=K.config.plotOptions.bar.dataLabels.position;K.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(B==="top"&&(W.textAnchor=gt?"end":"start"),B==="center"&&(W.textAnchor="middle"),B==="bottom"&&(W.textAnchor=gt?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&N<we.getTextRects(Le,parseFloat(W.style.fontSize)).width&&(Le=""),K.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(N>0&&C.width/1.6>N||N<0&&C.width/1.6<N)&&(Le=""):C.height/1.6>P&&(Le=""));var se=L({},W);this.barCtx.isHorizontal&&b<0&&(W.textAnchor==="start"?se.textAnchor="end":W.textAnchor==="end"&&(se.textAnchor="start")),ue.plotDataLabelsText({x:o,y:g,text:Le,i:E,j:k,parent:Oe,dataLabelsConfig:se,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Oe}}]),_e}(),Se=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.legendInactiveClass="legend-mouseover-inactive"}return x(_e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(n){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(X.escapeString(n),"']"))}},{key:"isSeriesHidden",value:function(n){var o=this.getSeriesByName(n),g=parseInt(o.getAttribute("data:realIndex"),10);return{isHidden:o.classList.contains("apexcharts-series-collapsed"),realIndex:g}}},{key:"addCollapsedClassToSeries",value:function(n,o){var g=this.w;function b(E){for(var k=0;k<E.length;k++)E[k].index===o&&n.node.classList.add("apexcharts-series-collapsed")}b(g.globals.collapsedSeries),b(g.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(n){var o=this.isSeriesHidden(n);return this.ctx.legend.legendHelpers.toggleDataSeries(o.realIndex,o.isHidden),o.isHidden}},{key:"showSeries",value:function(n){var o=this.isSeriesHidden(n);o.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(o.realIndex,!0)}},{key:"hideSeries",value:function(n){var o=this.isSeriesHidden(n);o.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(o.realIndex,!1)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=this.w,E=X.clone(b.globals.initialSeries);b.globals.previousPaths=[],g?(b.globals.collapsedSeries=[],b.globals.ancillaryCollapsedSeries=[],b.globals.collapsedSeriesIndices=[],b.globals.ancillaryCollapsedSeriesIndices=[]):E=this.emptyCollapsedSeries(E),b.config.series=E,n&&(o&&(b.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(E,b.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(n){for(var o=this.w,g=0;g<n.length;g++)o.globals.collapsedSeriesIndices.indexOf(g)>-1&&(n[g].data=[]);return n}},{key:"toggleSeriesOnHover",value:function(n,o){var g=this.w,b=g.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(n.type==="mousemove"){var E=parseInt(o.getAttribute("rel"),10)-1,k=null,C=null;g.globals.axisCharts||g.config.chart.type==="radialBar"?g.globals.axisCharts?(k=g.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(E,"']")),C=g.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(E,"']"))):k=g.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(E+1,"']")):k=g.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(E+1,"'] path"));for(var P=0;P<b.length;P++)b[P].classList.add(this.legendInactiveClass);k!==null&&(g.globals.axisCharts||k.parentNode.classList.remove(this.legendInactiveClass),k.classList.remove(this.legendInactiveClass),C!==null&&C.classList.remove(this.legendInactiveClass))}else if(n.type==="mouseout")for(var N=0;N<b.length;N++)b[N].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(n,o){var g=this,b=this.w,E=b.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),k=function(P){for(var N=0;N<E.length;N++)E[N].classList[P](g.legendInactiveClass)};if(n.type==="mousemove"){var C=parseInt(o.getAttribute("rel"),10)-1;k("add"),function(P){for(var N=0;N<E.length;N++){var W=parseInt(E[N].getAttribute("val"),10);W>=P.from&&W<=P.to&&E[N].classList.remove(g.legendInactiveClass)}}(b.config.plotOptions.heatmap.colorScale.ranges[C])}else n.type==="mouseout"&&k("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=this.w,g=0;if(o.config.series.length>1){for(var b=o.config.series.map(function(k,C){var P=!1;return n&&(P=o.config.series[C].type==="bar"||o.config.series[C].type==="column"),k.data&&k.data.length>0&&!P?C:-1}),E=0;E<b.length;E++)if(b[E]!==-1){g=b[E];break}}return g}},{key:"getPreviousPaths",value:function(){var n=this.w;function o(k,C,P){for(var N=k[C].childNodes,W={type:P,paths:[],realIndex:k[C].getAttribute("data:realIndex")},K=0;K<N.length;K++)if(N[K].hasAttribute("pathTo")){var ee=N[K].getAttribute("pathTo");W.paths.push({d:ee})}n.globals.previousPaths.push(W)}n.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(k){for(var C,P=(C=k,n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(C,"-series .apexcharts-series"))),N=0;N<P.length;N++)o(P,N,k)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series"));if(g.length>0)for(var b=function(k){for(var C=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(k,"'] rect")),P=[],N=function(K){var ee=function(we){return C[K].getAttribute(we)},ue={x:parseFloat(ee("x")),y:parseFloat(ee("y")),width:parseFloat(ee("width")),height:parseFloat(ee("height"))};P.push({rect:ue,color:C[K].getAttribute("color")})},W=0;W<C.length;W++)N(W);n.globals.previousPaths.push(P)},E=0;E<g.length;E++)b(E);n.globals.axisCharts||(n.globals.previousPaths=n.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(n){var o=this.w,g=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"));if(g.length>0)for(var b=0;b<g.length;b++){for(var E=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series[data\\:realIndex='").concat(b,"'] circle")),k=[],C=0;C<E.length;C++)k.push({x:E[C].getAttribute("cx"),y:E[C].getAttribute("cy"),r:E[C].getAttribute("r")});o.globals.previousPaths.push(k)}}},{key:"clearPreviousPaths",value:function(){var n=this.w;n.globals.previousPaths=[],n.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var n=this.w,o=n.config.noData,g=new me(this.ctx),b=n.globals.svgWidth/2,E=n.globals.svgHeight/2,k="middle";if(n.globals.noData=!0,n.globals.animationEnded=!0,o.align==="left"?(b=10,k="start"):o.align==="right"&&(b=n.globals.svgWidth-10,k="end"),o.verticalAlign==="top"?E=50:o.verticalAlign==="bottom"&&(E=n.globals.svgHeight-50),b+=o.offsetX,E=E+parseInt(o.style.fontSize,10)+2+o.offsetY,o.text!==void 0&&o.text!==""){var C=g.drawText({x:b,y:E,text:o.text,textAnchor:k,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,foreColor:o.style.color,opacity:1,class:"apexcharts-text-nodata"});n.globals.dom.Paper.add(C)}}},{key:"setNullSeriesToZeroValues",value:function(n){for(var o=this.w,g=0;g<n.length;g++)if(n[g].length===0)for(var b=0;b<n[o.globals.maxValsInArrayIndex].length;b++)n[g].push(0);return n}},{key:"hasAllSeriesEqualX",value:function(){for(var n=!0,o=this.w,g=this.filteredSeriesX(),b=0;b<g.length-1;b++)if(g[b][0]!==g[b+1][0]){n=!1;break}return o.globals.allSeriesHasEqualX=n,n}},{key:"filteredSeriesX",value:function(){var n=this.w.globals.seriesX.map(function(o){return o.length>0?o:[]});return n}}]),_e}(),Re=function(){function _e(n){p(this,_e),this.w=n.w,this.barCtx=n}return x(_e,[{key:"initVariables",value:function(n){var o=this.w;this.barCtx.series=n,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var g=0;g<n.length;g++)if(n[g].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=n[g].length),o.globals.isXNumeric)for(var b=0;b<n[g].length;b++)o.globals.seriesX[g][b]>o.globals.minX&&o.globals.seriesX[g][b]<o.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=o.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1)}},{key:"initialPositions",value:function(){var n,o,g,b,E,k,C,P,N=this.w,W=N.globals.dataPoints;this.barCtx.isTimelineBar&&(W=N.globals.labels.length);var K=this.barCtx.seriesLen;if(N.config.plotOptions.bar.rangeBarGroupRows&&(K=1),this.barCtx.isHorizontal)E=(g=N.globals.gridHeight/W)/K,N.globals.isXNumeric&&(E=(g=N.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),E=E*parseInt(this.barCtx.barOptions.barHeight,10)/100,P=this.barCtx.baseLineInvertedY+N.globals.padHorizontal+(this.barCtx.isReversed?N.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),o=(g-E*this.barCtx.seriesLen)/2;else{if(b=N.globals.gridWidth/this.barCtx.visibleItems,N.config.xaxis.convertedCatToNumeric&&(b=N.globals.gridWidth/N.globals.dataPoints),k=b/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,N.globals.isXNumeric){var ee=this.barCtx.xRatio;N.config.xaxis.convertedCatToNumeric&&(ee=this.barCtx.initialXRatio),N.globals.minXDiff&&N.globals.minXDiff!==.5&&N.globals.minXDiff/ee>0&&(b=N.globals.minXDiff/ee),(k=b/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(k=1)}C=N.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?N.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),n=N.globals.padHorizontal+(b-k*this.barCtx.seriesLen)/2}return{x:n,y:o,yDivision:g,xDivision:b,barHeight:E,barWidth:k,zeroH:C,zeroW:P}}},{key:"getPathFillColor",value:function(n,o,g,b){var E=this.w,k=new Pe(this.barCtx.ctx),C=null,P=this.barCtx.barOptions.distributed?g:o;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(N){n[o][g]>=N.from&&n[o][g]<=N.to&&(C=N.color)}),E.config.series[o].data[g]&&E.config.series[o].data[g].fillColor&&(C=E.config.series[o].data[g].fillColor),k.fillPath({seriesNumber:this.barCtx.barOptions.distributed?P:b,dataPointIndex:g,color:C,value:n[o][g]})}},{key:"getStrokeWidth",value:function(n,o,g){var b=0,E=this.w;return this.barCtx.series[n][o]===void 0||this.barCtx.series[n][o]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,E.config.stroke.show&&(this.barCtx.isNullValue||(b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth)),b}},{key:"barBackground",value:function(n){var o=n.j,g=n.i,b=n.x1,E=n.x2,k=n.y1,C=n.y2,P=n.elSeries,N=this.w,W=new me(this.barCtx.ctx),K=new Se(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&K===g){o>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(o-=this.barCtx.barOptions.colors.backgroundBarColors.length);var ee=this.barCtx.barOptions.colors.backgroundBarColors[o],ue=W.drawRect(b!==void 0?b:0,k!==void 0?k:0,E!==void 0?E:N.globals.gridWidth,C!==void 0?C:N.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,ee,this.barCtx.barOptions.colors.backgroundBarOpacity);P.add(ue),ue.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(n){var o=n.barWidth,g=n.barXPosition,b=(n.yRatio,n.y1),E=n.y2,k=n.strokeWidth,C=(n.series,n.realIndex),P=(n.i,n.j),N=n.w,W=new me(this.barCtx.ctx);(k=Array.isArray(k)?k[C]:k)||(k=0);var K=g,ee=g+o,ue=W.move(K,b),we=W.move(K,b);return N.globals.previousPaths.length>0&&(we=this.barCtx.getPreviousPath(C,P,!1)),{pathTo:ue=ue+W.line(K,E)+W.line(g+o-k,E)+W.line(ee-k,E)+W.line(ee-k,b)+W.line(g+o-k,b)+"z",pathFrom:we=we+W.line(K,b)+W.line(ee-k,b)+W.line(ee-k,b)+W.line(ee-k,b)+W.line(K,b)}}},{key:"getBarpaths",value:function(n){var o=n.barYPosition,g=n.barHeight,b=n.x1,E=n.x2,k=n.strokeWidth,C=(n.series,n.realIndex),P=(n.i,n.j),N=n.w,W=new me(this.barCtx.ctx);(k=Array.isArray(k)?k[C]:k)||(k=0);var K=W.move(b,o),ee=W.move(b,o);N.globals.previousPaths.length>0&&(ee=this.barCtx.getPreviousPath(C,P,!1));var ue=o,we=o+g;return{pathTo:K=K+W.line(E,ue)+W.line(E,o+g-k)+W.line(E,we-k)+W.line(b,we-k)+W.line(b,o+g-k)+"z",pathFrom:ee=ee+W.line(b,ue)+W.line(b,we-k)+W.line(b,we-k)+W.line(b,we-k)+W.line(b,ue)}}}]),_e}(),ot=function(){function _e(n,o){p(this,_e),this.ctx=n,this.w=n.w;var g=this.w;this.barOptions=g.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=g.config.stroke.width,this.isNullValue=!1,this.isTimelineBar=g.config.xaxis.type==="datetime"&&g.globals.seriesRangeBarTimeline.length,this.xyRatios=o,this.xyRatios!==null&&(this.xRatio=o.xRatio,this.initialXRatio=o.initialXRatio,this.yRatio=o.yRatio,this.invertedXRatio=o.invertedXRatio,this.invertedYRatio=o.invertedYRatio,this.baseLineY=o.baseLineY,this.baseLineInvertedY=o.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new Re(this)}return x(_e,[{key:"draw",value:function(n,o){var g=this.w,b=new me(this.ctx),E=new Q(this.ctx,g);n=E.getLogSeries(n),this.series=n,this.yRatio=E.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);var k=b.group({class:"apexcharts-bar-series apexcharts-plot-series"});g.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var C=0,P=0;C<n.length;C++,P++){var N,W,K,ee,ue=void 0,we=void 0,Me=[],Oe=[],He=g.globals.comboCharts?o[C]:C,Le=b.group({class:"apexcharts-series",rel:C+1,seriesName:X.escapeString(g.globals.seriesNames[He]),"data:realIndex":He});this.ctx.series.addCollapsedClassToSeries(Le,He),n[C].length>0&&(this.visibleI=this.visibleI+1);var gt=0,B=0;this.yRatio.length>1&&(this.yaxisIndex=He),this.isReversed=g.config.yaxis[this.yaxisIndex]&&g.config.yaxis[this.yaxisIndex].reversed;var se=this.barHelpers.initialPositions();we=se.y,gt=se.barHeight,W=se.yDivision,ee=se.zeroW,ue=se.x,B=se.barWidth,N=se.xDivision,K=se.zeroH,this.horizontal||Oe.push(ue+B/2);for(var ke=b.group({class:"apexcharts-datalabels","data:realIndex":He}),Ke=0;Ke<g.globals.dataPoints;Ke++){var zt=this.barHelpers.getStrokeWidth(C,Ke,He),ai=null,Xt={indexes:{i:C,j:Ke,realIndex:He,bc:P},x:ue,y:we,strokeWidth:zt,elSeries:Le};this.isHorizontal?(ai=this.drawBarPaths(L(L({},Xt),{},{barHeight:gt,zeroW:ee,yDivision:W})),B=this.series[C][Ke]/this.invertedYRatio):(ai=this.drawColumnPaths(L(L({},Xt),{},{xDivision:N,barWidth:B,zeroH:K})),gt=this.series[C][Ke]/this.yRatio[this.yaxisIndex]),we=ai.y,ue=ai.x,Ke>0&&Oe.push(ue+B/2),Me.push(we);var Wt=this.barHelpers.getPathFillColor(n,C,Ke,He);this.renderSeries({realIndex:He,pathFill:Wt,j:Ke,i:C,pathFrom:ai.pathFrom,pathTo:ai.pathTo,strokeWidth:zt,elSeries:Le,x:ue,y:we,series:n,barHeight:gt,barWidth:B,elDataLabelsWrap:ke,visibleSeries:this.visibleI,type:"bar"})}g.globals.seriesXvalues[He]=Oe,g.globals.seriesYvalues[He]=Me,k.add(Le)}return k}},{key:"renderSeries",value:function(n){var o=n.realIndex,g=n.pathFill,b=n.lineFill,E=n.j,k=n.i,C=n.pathFrom,P=n.pathTo,N=n.strokeWidth,W=n.elSeries,K=n.x,ee=n.y,ue=n.y1,we=n.y2,Me=n.series,Oe=n.barHeight,He=n.barWidth,Le=n.barYPosition,gt=n.elDataLabelsWrap,B=n.visibleSeries,se=n.type,ke=this.w,Ke=new me(this.ctx);b||(b=this.barOptions.distributed?ke.globals.stroke.colors[E]:ke.globals.stroke.colors[o]),ke.config.series[k].data[E]&&ke.config.series[k].data[E].strokeColor&&(b=ke.config.series[k].data[E].strokeColor),this.isNullValue&&(g="none");var zt=E/ke.config.chart.animations.animateGradually.delay*(ke.config.chart.animations.speed/ke.globals.dataPoints)/2.4,ai=Ke.renderPaths({i:k,j:E,realIndex:o,pathFrom:C,pathTo:P,stroke:b,strokeWidth:N,strokeLineCap:ke.config.stroke.lineCap,fill:g,animationDelay:zt,initialSpeed:ke.config.chart.animations.speed,dataChangeSpeed:ke.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(se,"-area")});ai.attr("clip-path","url(#gridRectMask".concat(ke.globals.cuid,")")),ue!==void 0&&we!==void 0&&(ai.attr("data-range-y1",ue),ai.attr("data-range-y2",we)),new ve(this.ctx).setSelectionFilter(ai,o,E),W.add(ai);var Xt=new le(this).handleBarDataLabels({x:K,y:ee,y1:ue,y2:we,i:k,j:E,series:Me,realIndex:o,barHeight:Oe,barWidth:He,barYPosition:Le,renderedPath:ai,visibleSeries:B});return Xt!==null&&gt.add(Xt),W.add(gt),W}},{key:"drawBarPaths",value:function(n){var o=n.indexes,g=n.barHeight,b=n.strokeWidth,E=n.zeroW,k=n.x,C=n.y,P=n.yDivision,N=n.elSeries,W=this.w,K=o.i,ee=o.j;W.globals.isXNumeric&&(C=(W.globals.seriesX[K][ee]-W.globals.minX)/this.invertedXRatio-g);var ue=C+g*this.visibleI;k=this.series[K][ee]===void 0||this.series[K][ee]===null?E:E+this.series[K][ee]/this.invertedYRatio-2*(this.isReversed?this.series[K][ee]/this.invertedYRatio:0);var we=this.barHelpers.getBarpaths({barYPosition:ue,barHeight:g,x1:E,x2:k,strokeWidth:b,series:this.series,realIndex:o.realIndex,i:K,j:ee,w:W});return W.globals.isXNumeric||(C+=P),this.barHelpers.barBackground({j:ee,i:K,y1:ue-g*this.visibleI,y2:g*this.seriesLen,elSeries:N}),{pathTo:we.pathTo,pathFrom:we.pathFrom,x:k,y:C,barYPosition:ue}}},{key:"drawColumnPaths",value:function(n){var o=n.indexes,g=n.x,b=n.y,E=n.xDivision,k=n.barWidth,C=n.zeroH,P=n.strokeWidth,N=n.elSeries,W=this.w,K=o.realIndex,ee=o.i,ue=o.j,we=o.bc;if(W.globals.isXNumeric){var Me=K;W.globals.seriesX[K].length||(Me=W.globals.maxValsInArrayIndex),g=(W.globals.seriesX[Me][ue]-W.globals.minX)/this.xRatio-k*this.seriesLen/2}var Oe=g+k*this.visibleI;b=this.series[ee][ue]===void 0||this.series[ee][ue]===null?C:C-this.series[ee][ue]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[ee][ue]/this.yRatio[this.yaxisIndex]:0);var He=this.barHelpers.getColumnPaths({barXPosition:Oe,barWidth:k,y1:C,y2:b,strokeWidth:P,series:this.series,realIndex:o.realIndex,i:ee,j:ue,w:W});return W.globals.isXNumeric||(g+=E),this.barHelpers.barBackground({bc:we,j:ue,i:ee,x1:Oe-P/2-k*this.visibleI,x2:k*this.seriesLen+P/2,elSeries:N}),{pathTo:He.pathTo,pathFrom:He.pathFrom,x:g,y:b,barXPosition:Oe}}},{key:"getPreviousPath",value:function(n,o){for(var g,b=this.w,E=0;E<b.globals.previousPaths.length;E++){var k=b.globals.previousPaths[E];k.paths&&k.paths.length>0&&parseInt(k.realIndex,10)===parseInt(n,10)&&b.globals.previousPaths[E].paths[o]!==void 0&&(g=b.globals.previousPaths[E].paths[o].d)}return g}}]),_e}(),ht=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return x(_e,[{key:"isValidDate",value:function(n){return!isNaN(this.parseDate(n))}},{key:"getTimeStamp",value:function(n){return Date.parse(n)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toISOString().substr(0,25)).getTime():new Date(n).getTime():n}},{key:"getDate",value:function(n){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toUTCString()):new Date(n)}},{key:"parseDate",value:function(n){var o=Date.parse(n);if(!isNaN(o))return this.getTimeStamp(n);var g=Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "));return g=this.getTimeStamp(g)}},{key:"parseDateWithTimezone",value:function(n){return Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(n,o){var g=this.w.globals.locale,b=this.w.config.xaxis.labels.datetimeUTC,E=["\0"].concat(ye(g.months)),k=[""].concat(ye(g.shortMonths)),C=[""].concat(ye(g.days)),P=[""].concat(ye(g.shortDays));function N(zt,ai){var Xt=zt+"";for(ai=ai||2;Xt.length<ai;)Xt="0"+Xt;return Xt}var W=b?n.getUTCFullYear():n.getFullYear();o=(o=(o=o.replace(/(^|[^\\])yyyy+/g,"$1"+W)).replace(/(^|[^\\])yy/g,"$1"+W.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+W);var K=(b?n.getUTCMonth():n.getMonth())+1;o=(o=(o=(o=o.replace(/(^|[^\\])MMMM+/g,"$1"+E[0])).replace(/(^|[^\\])MMM/g,"$1"+k[0])).replace(/(^|[^\\])MM/g,"$1"+N(K))).replace(/(^|[^\\])M/g,"$1"+K);var ee=b?n.getUTCDate():n.getDate();o=(o=(o=(o=o.replace(/(^|[^\\])dddd+/g,"$1"+C[0])).replace(/(^|[^\\])ddd/g,"$1"+P[0])).replace(/(^|[^\\])dd/g,"$1"+N(ee))).replace(/(^|[^\\])d/g,"$1"+ee);var ue=b?n.getUTCHours():n.getHours(),we=ue>12?ue-12:ue===0?12:ue;o=(o=(o=(o=o.replace(/(^|[^\\])HH+/g,"$1"+N(ue))).replace(/(^|[^\\])H/g,"$1"+ue)).replace(/(^|[^\\])hh+/g,"$1"+N(we))).replace(/(^|[^\\])h/g,"$1"+we);var Me=b?n.getUTCMinutes():n.getMinutes();o=(o=o.replace(/(^|[^\\])mm+/g,"$1"+N(Me))).replace(/(^|[^\\])m/g,"$1"+Me);var Oe=b?n.getUTCSeconds():n.getSeconds();o=(o=o.replace(/(^|[^\\])ss+/g,"$1"+N(Oe))).replace(/(^|[^\\])s/g,"$1"+Oe);var He=b?n.getUTCMilliseconds():n.getMilliseconds();o=o.replace(/(^|[^\\])fff+/g,"$1"+N(He,3)),He=Math.round(He/10),o=o.replace(/(^|[^\\])ff/g,"$1"+N(He)),He=Math.round(He/10);var Le=ue<12?"AM":"PM";o=(o=(o=o.replace(/(^|[^\\])f/g,"$1"+He)).replace(/(^|[^\\])TT+/g,"$1"+Le)).replace(/(^|[^\\])T/g,"$1"+Le.charAt(0));var gt=Le.toLowerCase();o=(o=o.replace(/(^|[^\\])tt+/g,"$1"+gt)).replace(/(^|[^\\])t/g,"$1"+gt.charAt(0));var B=-n.getTimezoneOffset(),se=b||!B?"Z":B>0?"+":"-";if(!b){var ke=(B=Math.abs(B))%60;se+=N(Math.floor(B/60))+":"+N(ke)}o=o.replace(/(^|[^\\])K/g,"$1"+se);var Ke=(b?n.getUTCDay():n.getDay())+1;return o=(o=(o=(o=(o=o.replace(new RegExp(C[0],"g"),C[Ke])).replace(new RegExp(P[0],"g"),P[Ke])).replace(new RegExp(E[0],"g"),E[K])).replace(new RegExp(k[0],"g"),k[K])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(n,o,g){var b=this.w;b.config.xaxis.min!==void 0&&(n=b.config.xaxis.min),b.config.xaxis.max!==void 0&&(o=b.config.xaxis.max);var E=this.getDate(n),k=this.getDate(o),C=this.formatDate(E,"yyyy MM dd HH mm ss").split(" "),P=this.formatDate(k,"yyyy MM dd HH mm ss").split(" ");return{minSecond:parseInt(C[5],10),maxSecond:parseInt(P[5],10),minMinute:parseInt(C[4],10),maxMinute:parseInt(P[4],10),minHour:parseInt(C[3],10),maxHour:parseInt(P[3],10),minDate:parseInt(C[2],10),maxDate:parseInt(P[2],10),minMonth:parseInt(C[1],10)-1,maxMonth:parseInt(P[1],10)-1,minYear:parseInt(C[0],10),maxYear:parseInt(P[0],10)}}},{key:"isLeapYear",value:function(n){return n%4==0&&n%100!=0||n%400==0}},{key:"calculcateLastDaysOfMonth",value:function(n,o,g){return this.determineDaysOfMonths(n,o)-g}},{key:"determineDaysOfYear",value:function(n){var o=365;return this.isLeapYear(n)&&(o=366),o}},{key:"determineRemainingDaysOfYear",value:function(n,o,g){var b=this.daysCntOfYear[o]+g;return o>1&&this.isLeapYear()&&b++,b}},{key:"determineDaysOfMonths",value:function(n,o){var g=30;switch(n=X.monthMod(n),!0){case this.months30.indexOf(n)>-1:n===2&&(g=this.isLeapYear(o)?29:28);break;case this.months31.indexOf(n)>-1:default:g=31}return g}}]),_e}(),Pt=function(_e){H(o,ot);var n=de(o);function o(){return p(this,o),n.apply(this,arguments)}return x(o,[{key:"draw",value:function(g,b){var E=this.w,k=new me(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=g,this.seriesRangeStart=E.globals.seriesRangeStart,this.seriesRangeEnd=E.globals.seriesRangeEnd,this.barHelpers.initVariables(g);for(var C=k.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),P=0;P<g.length;P++){var N,W,K,ee=void 0,ue=void 0,we=void 0,Me=E.globals.comboCharts?b[P]:P,Oe=k.group({class:"apexcharts-series",seriesName:X.escapeString(E.globals.seriesNames[Me]),rel:P+1,"data:realIndex":Me});g[P].length>0&&(this.visibleI=this.visibleI+1);var He=0,Le=0;this.yRatio.length>1&&(this.yaxisIndex=Me);var gt=this.barHelpers.initialPositions();ue=gt.y,K=gt.zeroW,ee=gt.x,Le=gt.barWidth,N=gt.xDivision,W=gt.zeroH;for(var B=k.group({class:"apexcharts-datalabels","data:realIndex":Me}),se=0;se<E.globals.dataPoints;se++){var ke=this.barHelpers.getStrokeWidth(P,se,Me),Ke=this.seriesRangeStart[P][se],zt=this.seriesRangeEnd[P][se],ai=null,Xt=null,Wt={x:ee,y:ue,strokeWidth:ke,elSeries:Oe};if(we=gt.yDivision,He=gt.barHeight,this.isHorizontal){Xt=ue+He*this.visibleI;var li=this.seriesLen;E.config.plotOptions.bar.rangeBarGroupRows&&(li=1);var mi=(we-He*li)/2;if(E.config.series[P].data[se]===void 0)break;if(this.isTimelineBar&&E.config.series[P].data[se].x){var Yi=this.detectOverlappingBars({i:P,j:se,barYPosition:Xt,srty:mi,barHeight:He,yDivision:we,initPositions:gt});He=Yi.barHeight,Xt=Yi.barYPosition}Le=(ai=this.drawRangeBarPaths(L({indexes:{i:P,j:se,realIndex:Me},barHeight:He,barYPosition:Xt,zeroW:K,yDivision:we,y1:Ke,y2:zt},Wt))).barWidth}else He=(ai=this.drawRangeColumnPaths(L({indexes:{i:P,j:se,realIndex:Me},zeroH:W,barWidth:Le,xDivision:N},Wt))).barHeight;ue=ai.y,ee=ai.x;var Gr=this.barHelpers.getPathFillColor(g,P,se,Me),Gi=E.globals.stroke.colors[Me];this.renderSeries({realIndex:Me,pathFill:Gr,lineFill:Gi,j:se,i:P,x:ee,y:ue,y1:Ke,y2:zt,pathFrom:ai.pathFrom,pathTo:ai.pathTo,strokeWidth:ke,elSeries:Oe,series:g,barHeight:He,barYPosition:Xt,barWidth:Le,elDataLabelsWrap:B,visibleSeries:this.visibleI,type:"rangebar"})}C.add(Oe)}return C}},{key:"detectOverlappingBars",value:function(g){var b=g.i,E=g.j,k=g.barYPosition,C=g.srty,P=g.barHeight,N=g.yDivision,W=g.initPositions,K=this.w,ee=[],ue=K.config.series[b].data[E].rangeName,we=K.config.series[b].data[E].x,Me=K.globals.labels.indexOf(we),Oe=K.globals.seriesRangeBarTimeline[b].findIndex(function(He){return He.x===we&&He.overlaps.length>0});return k=K.config.plotOptions.bar.rangeBarGroupRows?C+N*Me:C+P*this.visibleI+N*Me,Oe>-1&&!K.config.plotOptions.bar.rangeBarOverlap&&(ee=K.globals.seriesRangeBarTimeline[b][Oe].overlaps).indexOf(ue)>-1&&(k=(P=W.barHeight/ee.length)*this.visibleI+N*(100-parseInt(this.barOptions.barHeight,10))/100/2+P*(this.visibleI+ee.indexOf(ue))+N*Me),{barYPosition:k,barHeight:P}}},{key:"drawRangeColumnPaths",value:function(g){var b=g.indexes,E=g.x,k=(g.strokeWidth,g.xDivision),C=g.barWidth,P=g.zeroH,N=this.w,W=b.i,K=b.j,ee=this.yRatio[this.yaxisIndex],ue=b.realIndex,we=this.getRangeValue(ue,K),Me=Math.min(we.start,we.end),Oe=Math.max(we.start,we.end);N.globals.isXNumeric&&(E=(N.globals.seriesX[W][K]-N.globals.minX)/this.xRatio-C/2);var He=E+C*this.visibleI;this.series[W][K]===void 0||this.series[W][K]===null?Me=P:(Me=P-Me/ee,Oe=P-Oe/ee);var Le=Math.abs(Oe-Me),gt=this.barHelpers.getColumnPaths({barXPosition:He,barWidth:C,y1:Me,y2:Oe,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:b.realIndex,i:ue,j:K,w:N});return N.globals.isXNumeric||(E+=k),{pathTo:gt.pathTo,pathFrom:gt.pathFrom,barHeight:Le,x:E,y:Oe,barXPosition:He}}},{key:"drawRangeBarPaths",value:function(g){var b=g.indexes,E=g.y,k=g.y1,C=g.y2,P=g.yDivision,N=g.barHeight,W=g.barYPosition,K=g.zeroW,ee=this.w,ue=K+k/this.invertedYRatio,we=K+C/this.invertedYRatio,Me=Math.abs(we-ue),Oe=this.barHelpers.getBarpaths({barYPosition:W,barHeight:N,x1:ue,x2:we,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:b.realIndex,realIndex:b.realIndex,j:b.j,w:ee});return ee.globals.isXNumeric||(E+=P),{pathTo:Oe.pathTo,pathFrom:Oe.pathFrom,barWidth:Me,x:we,y:E}}},{key:"getRangeValue",value:function(g,b){var E=this.w;return{start:E.globals.seriesRangeStart[g][b],end:E.globals.seriesRangeEnd[g][b]}}},{key:"getTooltipValues",value:function(g){var b=g.ctx,E=g.seriesIndex,k=g.dataPointIndex,C=g.y1,P=g.y2,N=g.w,W=N.globals.seriesRangeStart[E][k],K=N.globals.seriesRangeEnd[E][k],ee=N.globals.labels[k],ue=N.config.series[E].name?N.config.series[E].name:"",we=N.config.tooltip.y.formatter,Me=N.config.tooltip.y.title.formatter,Oe={w:N,seriesIndex:E,dataPointIndex:k};typeof Me=="function"&&(ue=Me(ue,Oe)),C&&P&&(W=C,K=P,N.config.series[E].data[k].x&&(ee=N.config.series[E].data[k].x+":"),typeof we=="function"&&(ee=we(ee,Oe)));var He="",Le="",gt=N.globals.colors[E];if(N.config.tooltip.x.formatter===void 0)if(N.config.xaxis.type==="datetime"){var B=new ht(b);He=B.formatDate(B.getDate(W),N.config.tooltip.x.format),Le=B.formatDate(B.getDate(K),N.config.tooltip.x.format)}else He=W,Le=K;else He=N.config.tooltip.x.formatter(W),Le=N.config.tooltip.x.formatter(K);return{start:W,end:K,startVal:He,endVal:Le,ylabel:ee,color:gt,seriesName:ue}}},{key:"buildCustomTooltipHTML",value:function(g){var b=g.color,E=g.seriesName;return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+b+'">'+(E||"")+'</span></div><div> <span class="category">'+g.ylabel+' </span> <span class="value start-value">'+g.start+'</span> <span class="separator">-</span> <span class="value end-value">'+g.end+"</span></div></div>"}}]),o}(),Ne=function(){function _e(n){p(this,_e),this.opts=n}return x(_e,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(n){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,X.extend(n,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var n=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(o){var g=o.seriesIndex,b=o.dataPointIndex,E=o.w;return n._getBoxTooltip(E,g,b,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var n=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(o){var g=o.seriesIndex,b=o.dataPointIndex,E=o.w;return n._getBoxTooltip(E,g,b,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(n,o){o.ctx;var g=o.seriesIndex,b=o.dataPointIndex,E=o.w,k=E.globals.seriesRangeStart[g][b];return E.globals.seriesRangeEnd[g][b]-k},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(n){return n.w.config.plotOptions&&n.w.config.plotOptions.bar&&n.w.config.plotOptions.bar.horizontal?function(o){var g=new Pt(o.ctx,null),b=g.getTooltipValues(o),E=b.color,k=b.seriesName,C=b.ylabel,P=b.startVal,N=b.endVal;return g.buildCustomTooltipHTML({color:E,seriesName:k,ylabel:C,start:P,end:N})}(n):function(o){var g=new Pt(o.ctx,null),b=g.getTooltipValues(o),E=b.color,k=b.seriesName,C=b.ylabel,P=b.start,N=b.end;return g.buildCustomTooltipHTML({color:E,seriesName:k,ylabel:C,start:P,end:N})}(n)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(n){return X.extend(n,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(n){n.dataLabels=n.dataLabels||{},n.dataLabels.formatter=n.dataLabels.formatter||void 0;var o=n.dataLabels.formatter;return n.yaxis.forEach(function(g,b){n.yaxis[b].min=0,n.yaxis[b].max=100}),n.chart.type==="bar"&&(n.dataLabels.formatter=o||function(g){return typeof g=="number"&&g?g.toFixed(0)+"%":g}),n}},{key:"convertCatToNumeric",value:function(n){return n.xaxis.convertedCatToNumeric=!0,n}},{key:"convertCatToNumericXaxis",value:function(n,o,g){n.xaxis.type="numeric",n.xaxis.labels=n.xaxis.labels||{},n.xaxis.labels.formatter=n.xaxis.labels.formatter||function(k){return X.isNumber(k)?Math.floor(k):k};var b=n.xaxis.labels.formatter,E=n.xaxis.categories&&n.xaxis.categories.length?n.xaxis.categories:n.labels;return g&&g.length&&(E=g.map(function(k){return Array.isArray(k)?k:String(k)})),E&&E.length&&(n.xaxis.labels.formatter=function(k){return X.isNumber(k)?b(E[Math.floor(k)-1]):b(k)}),n.xaxis.categories=[],n.labels=[],n.xaxis.tickAmount=n.xaxis.tickAmount||"dataPoints",n}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(n){return n},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(n,o,g,b,E){var k=n.globals.seriesCandleO[o][g],C=n.globals.seriesCandleH[o][g],P=n.globals.seriesCandleM[o][g],N=n.globals.seriesCandleL[o][g],W=n.globals.seriesCandleC[o][g];return n.config.series[o].type&&n.config.series[o].type!==E?`<div class="apexcharts-custom-tooltip">
          `.concat(n.config.series[o].name?n.config.series[o].name:"series-"+(o+1),": <strong>").concat(n.globals.series[o][g],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(n.config.chart.type,'">')+"<div>".concat(b[0],': <span class="value">')+k+"</span></div>"+"<div>".concat(b[1],': <span class="value">')+C+"</span></div>"+(P?"<div>".concat(b[2],': <span class="value">')+P+"</span></div>":"")+"<div>".concat(b[3],': <span class="value">')+N+"</span></div>"+"<div>".concat(b[4],': <span class="value">')+W+"</span></div></div>"}}]),_e}(),Ze=function(){function _e(n){p(this,_e),this.opts=n}return x(_e,[{key:"init",value:function(n){var o=n.responsiveOverride,g=this.opts,b=new ui,E=new Ne(g);this.chartType=g.chart.type,this.chartType==="histogram"&&(g.chart.type="bar",g=X.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},g)),g=this.extendYAxis(g),g=this.extendAnnotations(g);var k=b.init(),C={};if(g&&h(g)==="object"){var P={};P=["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(g.chart.type)!==-1?E[g.chart.type]():E.line(),g.chart.brush&&g.chart.brush.enabled&&(P=E.brush(P)),g.chart.stacked&&g.chart.stackType==="100%"&&(g=E.stacked100(g)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(g),g.xaxis=g.xaxis||window.Apex.xaxis||{},o||(g.xaxis.convertedCatToNumeric=!1),((g=this.checkForCatToNumericXAxis(this.chartType,P,g)).chart.sparkline&&g.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(P=E.sparkline(P)),C=X.extend(k,P)}var N=X.extend(C,window.Apex);return k=X.extend(N,g),k=this.handleUserInputErrors(k)}},{key:"checkForCatToNumericXAxis",value:function(n,o,g){var b=new Ne(g),E=n==="bar"&&g.plotOptions&&g.plotOptions.bar&&g.plotOptions.bar.horizontal,k=n==="pie"||n==="polarArea"||n==="donut"||n==="radar"||n==="radialBar"||n==="heatmap",C=g.xaxis.type!=="datetime"&&g.xaxis.type!=="numeric",P=g.xaxis.tickPlacement?g.xaxis.tickPlacement:o.xaxis&&o.xaxis.tickPlacement;return E||k||!C||P==="between"||(g=b.convertCatToNumeric(g)),g}},{key:"extendYAxis",value:function(n,o){var g=new ui;(n.yaxis===void 0||!n.yaxis||Array.isArray(n.yaxis)&&n.yaxis.length===0)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=X.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[X.extend(g.yAxis,n.yaxis)]:n.yaxis=X.extendArray(n.yaxis,g.yAxis);var b=!1;n.yaxis.forEach(function(k){k.logarithmic&&(b=!0)});var E=n.series;return o&&!E&&(E=o.config.series),b&&E.length!==n.yaxis.length&&E.length&&(n.yaxis=E.map(function(k,C){if(k.name||(E[C].name="series-".concat(C+1)),n.yaxis[C])return n.yaxis[C].seriesName=E[C].name,n.yaxis[C];var P=X.extend(g.yAxis,n.yaxis[0]);return P.show=!1,P})),b&&E.length>1&&E.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),n}},{key:"extendAnnotations",value:function(n){return n.annotations===void 0&&(n.annotations={},n.annotations.yaxis=[],n.annotations.xaxis=[],n.annotations.points=[]),n=this.extendYAxisAnnotations(n),n=this.extendXAxisAnnotations(n),n=this.extendPointAnnotations(n)}},{key:"extendYAxisAnnotations",value:function(n){var o=new ui;return n.annotations.yaxis=X.extendArray(n.annotations.yaxis!==void 0?n.annotations.yaxis:[],o.yAxisAnnotation),n}},{key:"extendXAxisAnnotations",value:function(n){var o=new ui;return n.annotations.xaxis=X.extendArray(n.annotations.xaxis!==void 0?n.annotations.xaxis:[],o.xAxisAnnotation),n}},{key:"extendPointAnnotations",value:function(n){var o=new ui;return n.annotations.points=X.extendArray(n.annotations.points!==void 0?n.annotations.points:[],o.pointAnnotation),n}},{key:"checkForDarkTheme",value:function(n){n.theme&&n.theme.mode==="dark"&&(n.tooltip||(n.tooltip={}),n.tooltip.theme!=="light"&&(n.tooltip.theme="dark"),n.chart.foreColor||(n.chart.foreColor="#f6f7f8"),n.chart.background||(n.chart.background="#424242"),n.theme.palette||(n.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(n){var o=n;if(o.tooltip.shared&&o.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(o.chart.type==="bar"&&o.plotOptions.bar.horizontal){if(o.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");o.yaxis[0].reversed&&(o.yaxis[0].opposite=!0),o.xaxis.tooltip.enabled=!1,o.yaxis[0].tooltip.enabled=!1,o.chart.zoom.enabled=!1}return o.chart.type!=="bar"&&o.chart.type!=="rangeBar"||o.tooltip.shared&&(o.xaxis.crosshairs.width==="barWidth"&&o.series.length>1&&(console.warn('crosshairs.width = "barWidth" is only supported in single series, not in a multi-series barChart.'),o.xaxis.crosshairs.width="tickWidth"),o.plotOptions.bar.horizontal&&(o.states.hover.type="none",o.tooltip.shared=!1),o.tooltip.followCursor||(console.warn("followCursor option in shared columns cannot be turned off. Please set %ctooltip.followCursor: true","color: blue;"),o.tooltip.followCursor=!0)),o.chart.type!=="candlestick"&&o.chart.type!=="boxPlot"||o.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(o.chart.type," chart is not supported.")),o.yaxis[0].reversed=!1),o.chart.group&&o.yaxis[0].labels.minWidth===0&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(o.stroke.width)&&o.chart.type!=="line"&&o.chart.type!=="area"&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),o.stroke.width=o.stroke.width[0]),o}}]),_e}(),Ie=function(){function _e(){p(this,_e)}return x(_e,[{key:"initGlobalVars",value:function(n){n.series=[],n.seriesCandleO=[],n.seriesCandleH=[],n.seriesCandleM=[],n.seriesCandleL=[],n.seriesCandleC=[],n.seriesRangeStart=[],n.seriesRangeEnd=[],n.seriesRangeBarTimeline=[],n.seriesPercent=[],n.seriesX=[],n.seriesZ=[],n.seriesNames=[],n.seriesTotals=[],n.seriesLog=[],n.seriesColors=[],n.stackedSeriesTotals=[],n.seriesXvalues=[],n.seriesYvalues=[],n.labels=[],n.categoryLabels=[],n.timescaleLabels=[],n.noLabelsProvided=!1,n.resizeTimer=null,n.selectionResizeTimer=null,n.delayedElements=[],n.pointsArray=[],n.dataLabelsRects=[],n.isXNumeric=!1,n.xaxisLabelsCount=0,n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,n.isDataXYZ=!1,n.isMultiLineX=!1,n.isMultipleYAxis=!1,n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE,n.minYArr=[],n.maxYArr=[],n.maxX=-Number.MAX_VALUE,n.minX=Number.MAX_VALUE,n.initialMaxX=-Number.MAX_VALUE,n.initialMinX=Number.MAX_VALUE,n.maxDate=0,n.minDate=Number.MAX_VALUE,n.minZ=Number.MAX_VALUE,n.maxZ=-Number.MAX_VALUE,n.minXDiff=Number.MAX_VALUE,n.yAxisScale=[],n.xAxisScale=null,n.xAxisTicksPositions=[],n.yLabelsCoords=[],n.yTitleCoords=[],n.barPadForNumericAxis=0,n.padHorizontal=0,n.xRange=0,n.yRange=[],n.zRange=0,n.dataPoints=0,n.xTickAmount=0}},{key:"globalVars",value:function(n){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:n.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:n.chart.toolbar.autoSelected==="zoom"&&n.chart.toolbar.tools.zoom&&n.chart.zoom.enabled,panEnabled:n.chart.toolbar.autoSelected==="pan"&&n.chart.toolbar.tools.pan,selectionEnabled:n.chart.toolbar.autoSelected==="selection"&&n.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(n){var o=this.globalVars(n);return this.initGlobalVars(o),o.initialConfig=X.extend({},n),o.initialSeries=X.clone(n.series),o.lastXAxis=X.clone(o.initialConfig.xaxis),o.lastYAxis=X.clone(o.initialConfig.yaxis),o}}]),_e}(),We=function(){function _e(n){p(this,_e),this.opts=n}return x(_e,[{key:"init",value:function(){var n=new Ze(this.opts).init({responsiveOverride:!1});return{config:n,globals:new Ie().init(n)}}}]),_e}(),rt=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.coreUtils=new Q(this.ctx)}return x(_e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var n=this.w.config.series.slice(),o=new Se(this.ctx);if(this.activeSeriesIndex=o.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].x!==void 0&&n[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var n=this.w.config.series.slice(),o=new Se(this.ctx);if(this.activeSeriesIndex=o.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==void 0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(n,o){var g=this.w.config,b=this.w.globals,E=g.chart.type==="boxPlot"||g.series[o].type==="boxPlot";g.xaxis.sorted&&(g.xaxis.type==="datetime"?n[o].data.sort(function(N,W){return new Date(N[0]).getTime()-new Date(W[0]).getTime()}):g.xaxis.type==="numeric"&&n[o].data.sort(function(N,W){return N[0]-W[0]}));for(var k=0;k<n[o].data.length;k++)if(n[o].data[k][1]!==void 0&&(Array.isArray(n[o].data[k][1])&&n[o].data[k][1].length===4&&!E?this.twoDSeries.push(X.parseNumber(n[o].data[k][1][3])):n[o].data[k].length>=5?this.twoDSeries.push(X.parseNumber(n[o].data[k][4])):this.twoDSeries.push(X.parseNumber(n[o].data[k][1])),b.dataFormatXNumeric=!0),g.xaxis.type==="datetime"){var C=new Date(n[o].data[k][0]);C=new Date(C).getTime(),this.twoDSeriesX.push(C)}else this.twoDSeriesX.push(n[o].data[k][0]);for(var P=0;P<n[o].data.length;P++)n[o].data[P][2]!==void 0&&(this.threeDSeries.push(n[o].data[P][2]),b.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(n,o){var g=this.w.config,b=this.w.globals,E=new ht(this.ctx),k=o;b.collapsedSeriesIndices.indexOf(o)>-1&&(k=this.activeSeriesIndex),g.xaxis.sorted&&(g.xaxis.type==="datetime"?n[o].data.sort(function(we,Me){return new Date(we.x).getTime()-new Date(Me.x).getTime()}):g.xaxis.type==="numeric"&&n[o].data.sort(function(we,Me){return we.x-Me.x}));for(var C=0;C<n[o].data.length;C++)n[o].data[C].y!==void 0&&(Array.isArray(n[o].data[C].y)?this.twoDSeries.push(X.parseNumber(n[o].data[C].y[n[o].data[C].y.length-1])):this.twoDSeries.push(X.parseNumber(n[o].data[C].y)));for(var P=0;P<n[k].data.length;P++){var N=typeof n[k].data[P].x=="string",W=Array.isArray(n[k].data[P].x),K=!W&&!!E.isValidDate(n[k].data[P].x.toString());if(N||K)if(N||g.xaxis.convertedCatToNumeric){var ee=b.isBarHorizontal&&b.isRangeData;g.xaxis.type!=="datetime"||ee?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[k].data[P].x)):this.twoDSeriesX.push(E.parseDate(n[k].data[P].x))}else g.xaxis.type==="datetime"?this.twoDSeriesX.push(E.parseDate(n[k].data[P].x.toString())):(b.dataFormatXNumeric=!0,b.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(n[k].data[P].x)));else W?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[k].data[P].x)):(b.isXNumeric=!0,b.dataFormatXNumeric=!0,this.twoDSeriesX.push(n[k].data[P].x))}if(n[o].data[0]&&n[o].data[0].z!==void 0){for(var ue=0;ue<n[o].data.length;ue++)this.threeDSeries.push(n[o].data[ue].z);b.isDataXYZ=!0}}},{key:"handleRangeData",value:function(n,o){var g=this.w.config,b=this.w.globals,E={};return this.isFormat2DArray()?E=this.handleRangeDataFormat("array",n,o):this.isFormatXY()&&(E=this.handleRangeDataFormat("xy",n,o)),b.seriesRangeStart.push(E.start),b.seriesRangeEnd.push(E.end),g.xaxis.type==="datetime"&&b.seriesRangeBarTimeline.push(E.rangeUniques),b.seriesRangeBarTimeline.forEach(function(k,C){k&&k.forEach(function(P,N){P.y.forEach(function(W,K){for(var ee=0;ee<P.y.length;ee++)if(K!==ee){var ue=W.y1,we=W.y2,Me=P.y[ee].y1;ue<=P.y[ee].y2&&Me<=we&&(P.overlaps.indexOf(W.rangeName)<0&&P.overlaps.push(W.rangeName),P.overlaps.indexOf(P.y[ee].rangeName)<0&&P.overlaps.push(P.y[ee].rangeName))}})})}),E}},{key:"handleCandleStickBoxData",value:function(n,o){var g=this.w.globals,b={};return this.isFormat2DArray()?b=this.handleCandleStickBoxDataFormat("array",n,o):this.isFormatXY()&&(b=this.handleCandleStickBoxDataFormat("xy",n,o)),g.seriesCandleO[o]=b.o,g.seriesCandleH[o]=b.h,g.seriesCandleM[o]=b.m,g.seriesCandleL[o]=b.l,g.seriesCandleC[o]=b.c,b}},{key:"handleRangeDataFormat",value:function(n,o,g){var b=[],E=[],k=o[g].data.filter(function(ee,ue,we){return ue===we.findIndex(function(Me){return Me.x===ee.x})}).map(function(ee,ue){return{x:ee.x,overlaps:[],y:[]}}),C="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",P=new Se(this.ctx).getActiveConfigSeriesIndex();if(n==="array"){if(o[P].data[0][1].length!==2)throw new Error(C);for(var N=0;N<o[g].data.length;N++)b.push(o[g].data[N][1][0]),E.push(o[g].data[N][1][1])}else if(n==="xy"){if(o[P].data[0].y.length!==2)throw new Error(C);for(var W=function(ee){var ue=X.randomId(),we=o[g].data[ee].x,Me={y1:o[g].data[ee].y[0],y2:o[g].data[ee].y[1],rangeName:ue};o[g].data[ee].rangeName=ue;var Oe=k.findIndex(function(He){return He.x===we});k[Oe].y.push(Me),b.push(Me.y1),E.push(Me.y2)},K=0;K<o[g].data.length;K++)W(K)}return{start:b,end:E,rangeUniques:k}}},{key:"handleCandleStickBoxDataFormat",value:function(n,o,g){var b=this.w,E=b.config.chart.type==="boxPlot"||b.config.series[g].type==="boxPlot",k=[],C=[],P=[],N=[],W=[];if(n==="array")if(E&&o[g].data[0].length===6||!E&&o[g].data[0].length===5)for(var K=0;K<o[g].data.length;K++)k.push(o[g].data[K][1]),C.push(o[g].data[K][2]),E?(P.push(o[g].data[K][3]),N.push(o[g].data[K][4]),W.push(o[g].data[K][5])):(N.push(o[g].data[K][3]),W.push(o[g].data[K][4]));else for(var ee=0;ee<o[g].data.length;ee++)Array.isArray(o[g].data[ee][1])&&(k.push(o[g].data[ee][1][0]),C.push(o[g].data[ee][1][1]),E?(P.push(o[g].data[ee][1][2]),N.push(o[g].data[ee][1][3]),W.push(o[g].data[ee][1][4])):(N.push(o[g].data[ee][1][2]),W.push(o[g].data[ee][1][3])));else if(n==="xy")for(var ue=0;ue<o[g].data.length;ue++)Array.isArray(o[g].data[ue].y)&&(k.push(o[g].data[ue].y[0]),C.push(o[g].data[ue].y[1]),E?(P.push(o[g].data[ue].y[2]),N.push(o[g].data[ue].y[3]),W.push(o[g].data[ue].y[4])):(N.push(o[g].data[ue].y[2]),W.push(o[g].data[ue].y[3])));return{o:k,h:C,m:P,l:N,c:W}}},{key:"parseDataAxisCharts",value:function(n){var o=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,b=this.w.config,E=this.w.globals,k=new ht(g),C=b.labels.length>0?b.labels.slice():b.xaxis.categories.slice();E.isTimelineBar=b.chart.type==="rangeBar"&&b.xaxis.type==="datetime";for(var P=function(){for(var K=0;K<C.length;K++)if(typeof C[K]=="string"){if(!k.isValidDate(C[K]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");o.twoDSeriesX.push(k.parseDate(C[K]))}else o.twoDSeriesX.push(C[K])},N=0;N<n.length;N++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],n[N].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(b.chart.type!=="rangeBar"&&b.chart.type!=="rangeArea"&&n[N].type!=="rangeBar"&&n[N].type!=="rangeArea"||(E.isRangeData=!0,this.handleRangeData(n,N)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(n,N):this.isFormatXY()&&this.handleFormatXY(n,N),b.chart.type!=="candlestick"&&n[N].type!=="candlestick"&&b.chart.type!=="boxPlot"&&n[N].type!=="boxPlot"||this.handleCandleStickBoxData(n,N),E.series.push(this.twoDSeries),E.labels.push(this.twoDSeriesX),E.seriesX.push(this.twoDSeriesX),N!==this.activeSeriesIndex||this.fallbackToCategory||(E.isXNumeric=!0);else{b.xaxis.type==="datetime"?(E.isXNumeric=!0,P(),E.seriesX.push(this.twoDSeriesX)):b.xaxis.type==="numeric"&&(E.isXNumeric=!0,C.length>0&&(this.twoDSeriesX=C,E.seriesX.push(this.twoDSeriesX))),E.labels.push(this.twoDSeriesX);var W=n[N].data.map(function(K){return X.parseNumber(K)});E.series.push(W)}E.seriesZ.push(this.threeDSeries),n[N].name!==void 0?E.seriesNames.push(n[N].name):E.seriesNames.push("series-"+parseInt(N+1,10)),n[N].color!==void 0?E.seriesColors.push(n[N].color):E.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(n){var o=this.w.globals,g=this.w.config;o.series=n.slice(),o.seriesNames=g.labels.slice();for(var b=0;b<o.series.length;b++)o.seriesNames[b]===void 0&&o.seriesNames.push("series-"+(b+1));return this.w}},{key:"handleExternalLabelsData",value:function(n){var o=this.w.config,g=this.w.globals;o.xaxis.categories.length>0?g.labels=o.xaxis.categories:o.labels.length>0?g.labels=o.labels.slice():this.fallbackToCategory?(g.labels=g.labels[0],g.seriesRangeBarTimeline.length&&(g.seriesRangeBarTimeline.map(function(b){b.forEach(function(E){g.labels.indexOf(E.x)<0&&E.x&&g.labels.push(E.x)})}),g.labels=g.labels.filter(function(b,E,k){return k.indexOf(b)===E})),o.xaxis.convertedCatToNumeric&&(new Ne(o).convertCatToNumericXaxis(o,this.ctx,g.seriesX[0]),this._generateExternalLabels(n))):this._generateExternalLabels(n)}},{key:"_generateExternalLabels",value:function(n){var o=this.w.globals,g=this.w.config,b=[];if(o.axisCharts){if(o.series.length>0)for(var E=0;E<o.series[o.maxValsInArrayIndex].length;E++)b.push(E+1);o.seriesX=[];for(var k=0;k<n.length;k++)o.seriesX.push(b);o.isXNumeric=!0}if(b.length===0){b=o.axisCharts?[]:o.series.map(function(P,N){return N+1});for(var C=0;C<n.length;C++)o.seriesX.push(b)}o.labels=b,g.xaxis.convertedCatToNumeric&&(o.categoryLabels=b.map(function(P){return g.xaxis.labels.formatter(P)})),o.noLabelsProvided=!0}},{key:"parseData",value:function(n){var o=this.w,g=o.config,b=o.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),b.axisCharts?this.parseDataAxisCharts(n):this.parseDataNonAxisCharts(n),this.coreUtils.getLargestSeries(),g.chart.type==="bar"&&g.chart.stacked){var E=new Se(this.ctx);b.series=E.setNullSeriesToZeroValues(b.series)}this.coreUtils.getSeriesTotals(),b.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),b.dataFormatXNumeric||b.isXNumeric&&(g.xaxis.type!=="numeric"||g.labels.length!==0||g.xaxis.categories.length!==0)||this.handleExternalLabelsData(n);for(var k=this.coreUtils.getCategoryLabels(b.labels),C=0;C<k.length;C++)if(Array.isArray(k[C])){b.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var n=this,o=this.w;o.globals.ignoreYAxisIndexes=o.globals.collapsedSeries.map(function(g,b){if(n.w.globals.isMultipleYAxis&&!o.config.chart.stacked)return g.index})}}]),_e}(),Ot=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.tooltipKeyFormat="dd MMM"}return x(_e,[{key:"xLabelFormat",value:function(n,o,g,b){var E=this.w;if(E.config.xaxis.type==="datetime"&&E.config.xaxis.labels.formatter===void 0&&E.config.tooltip.x.formatter===void 0){var k=new ht(this.ctx);return k.formatDate(k.getDate(o),E.config.tooltip.x.format)}return n(o,g,b)}},{key:"defaultGeneralFormatter",value:function(n){return Array.isArray(n)?n.map(function(o){return o}):n}},{key:"defaultYFormatter",value:function(n,o,g){var b=this.w;return X.isNumber(n)&&(n=b.globals.yValueDecimal!==0?n.toFixed(o.decimalsInFloat!==void 0?o.decimalsInFloat:b.globals.yValueDecimal):b.globals.maxYArr[g]-b.globals.minYArr[g]<5?n.toFixed(1):n.toFixed(0)),n}},{key:"setLabelFormatters",value:function(){var n=this,o=this.w;return o.globals.xLabelFormatter=function(g){return n.defaultGeneralFormatter(g)},o.globals.xaxisTooltipFormatter=function(g){return n.defaultGeneralFormatter(g)},o.globals.ttKeyFormatter=function(g){return n.defaultGeneralFormatter(g)},o.globals.ttZFormatter=function(g){return g},o.globals.legendFormatter=function(g){return n.defaultGeneralFormatter(g)},o.config.xaxis.labels.formatter!==void 0?o.globals.xLabelFormatter=o.config.xaxis.labels.formatter:o.globals.xLabelFormatter=function(g){return X.isNumber(g)?!o.config.xaxis.convertedCatToNumeric&&o.config.xaxis.type==="numeric"&&o.globals.dataPoints<50||o.globals.isBarHorizontal&&o.globals.maxY-o.globals.minYArr<4?g.toFixed(1):g.toFixed(0):g},typeof o.config.tooltip.x.formatter=="function"?o.globals.ttKeyFormatter=o.config.tooltip.x.formatter:o.globals.ttKeyFormatter=o.globals.xLabelFormatter,typeof o.config.xaxis.tooltip.formatter=="function"&&(o.globals.xaxisTooltipFormatter=o.config.xaxis.tooltip.formatter),(Array.isArray(o.config.tooltip.y)||o.config.tooltip.y.formatter!==void 0)&&(o.globals.ttVal=o.config.tooltip.y),o.config.tooltip.z.formatter!==void 0&&(o.globals.ttZFormatter=o.config.tooltip.z.formatter),o.config.legend.formatter!==void 0&&(o.globals.legendFormatter=o.config.legend.formatter),o.config.yaxis.forEach(function(g,b){g.labels.formatter!==void 0?o.globals.yLabelFormatters[b]=g.labels.formatter:o.globals.yLabelFormatters[b]=function(E){return o.globals.xyCharts?Array.isArray(E)?E.map(function(k){return n.defaultYFormatter(k,g,b)}):n.defaultYFormatter(E,g,b):E}}),o.globals}},{key:"heatmapLabelFormatters",value:function(){var n=this.w;if(n.config.chart.type==="heatmap"){n.globals.yAxisScale[0].result=n.globals.seriesNames.slice();var o=n.globals.seriesNames.reduce(function(g,b){return g.length>b.length?g:b},0);n.globals.yAxisScale[0].niceMax=o,n.globals.yAxisScale[0].niceMin=o}}}]),_e}(),hi=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"getLabel",value:function(n,o,g,b){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",C=this.w,P=n[b]===void 0?"":n[b],N=P,W=C.globals.xLabelFormatter,K=C.config.xaxis.labels.formatter,ee=!1,ue=new Ot(this.ctx),we=P;N=ue.xLabelFormat(W,P,we,{i:b,dateFormatter:new ht(this.ctx).formatDate,w:C}),K!==void 0&&(N=K(P,n[b],{i:b,dateFormatter:new ht(this.ctx).formatDate,w:C}));var Me=function(gt){var B=null;return o.forEach(function(se){se.unit==="month"?B="year":se.unit==="day"?B="month":se.unit==="hour"?B="day":se.unit==="minute"&&(B="hour")}),B===gt};o.length>0?(ee=Me(o[b].unit),g=o[b].position,N=o[b].value):C.config.xaxis.type==="datetime"&&K===void 0&&(N=""),N===void 0&&(N=""),N=Array.isArray(N)?N:N.toString();var Oe=new me(this.ctx),He={};He=C.globals.rotateXLabels?Oe.getTextRects(N,parseInt(k,10),null,"rotate(".concat(C.config.xaxis.labels.rotate," 0 0)"),!1):Oe.getTextRects(N,parseInt(k,10));var Le=!C.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(N)&&(N.indexOf("NaN")===0||N.toLowerCase().indexOf("invalid")===0||N.toLowerCase().indexOf("infinity")>=0||E.indexOf(N)>=0&&Le)&&(N=""),{x:g,text:N,textRect:He,isBold:ee}}},{key:"checkLabelBasedOnTickamount",value:function(n,o,g){var b=this.w,E=b.config.xaxis.tickAmount;return E==="dataPoints"&&(E=Math.round(b.globals.gridWidth/120)),E>g||n%Math.round(g/(E+1))==0||(o.text=""),o}},{key:"checkForOverflowingLabels",value:function(n,o,g,b,E){var k=this.w;if(n===0&&k.globals.skipFirstTimelinelabel&&(o.text=""),n===g-1&&k.globals.skipLastTimelinelabel&&(o.text=""),k.config.xaxis.labels.hideOverlappingLabels&&b.length>0){var C=E[E.length-1];o.x<C.textRect.width/(k.globals.rotateXLabels?Math.abs(k.config.xaxis.labels.rotate)/12:1.01)+C.x&&(o.text="")}return o}},{key:"checkForReversedLabels",value:function(n,o){var g=this.w;return g.config.yaxis[n]&&g.config.yaxis[n].reversed&&o.reverse(),o}},{key:"isYAxisHidden",value:function(n){var o=this.w,g=new Q(this.ctx);return!o.config.yaxis[n].show||!o.config.yaxis[n].showForNullSeries&&g.isSeriesNull(n)&&o.globals.collapsedSeriesIndices.indexOf(n)===-1}},{key:"getYAxisForeColor",value:function(n,o){var g=this.w;return Array.isArray(n)&&g.globals.yAxisScale[o]&&this.ctx.theme.pushExtraColors(n,g.globals.yAxisScale[o].result.length,!1),n}},{key:"drawYAxisTicks",value:function(n,o,g,b,E,k,C){var P=this.w,N=new me(this.ctx),W=P.globals.translateY;if(b.show&&o>0){P.config.yaxis[E].opposite===!0&&(n+=b.width);for(var K=o;K>=0;K--){var ee=W+o/10+P.config.yaxis[E].labels.offsetY-1;P.globals.isBarHorizontal&&(ee=k*K),P.config.chart.type==="heatmap"&&(ee+=k/2);var ue=N.drawLine(n+g.offsetX-b.width+b.offsetX,ee+b.offsetY,n+g.offsetX+b.offsetX,ee+b.offsetY,b.color);C.add(ue),W+=k}}}}]),_e}(),gi=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"fixSvgStringForIe11",value:function(n){if(!X.isIE11())return n;var o=0,g=n.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(b){return++o===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':b});return g=(g=g.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(){var n=this.w.globals.dom.Paper.svg();return this.fixSvgStringForIe11(n)}},{key:"cleanup",value:function(){var n=this.w,o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),g=n.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),b=n.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(b,function(E){E.setAttribute("width",0)}),o&&o[0]&&(o[0].setAttribute("x",-500),o[0].setAttribute("x1",-500),o[0].setAttribute("x2",-500)),g&&g[0]&&(g[0].setAttribute("y",-100),g[0].setAttribute("y1",-100),g[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var n=this.getSvgString(),o=new Blob([n],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(o)}},{key:"dataURI",value:function(){var n=this;return new Promise(function(o){var g=n.w;n.cleanup();var b=document.createElement("canvas");b.width=g.globals.svgWidth,b.height=parseInt(g.globals.dom.elWrap.style.height,10);var E=g.config.chart.background==="transparent"?"#fff":g.config.chart.background,k=b.getContext("2d");k.fillStyle=E,k.fillRect(0,0,b.width,b.height);var C=n.getSvgString();if(window.canvg&&X.isIE11()){var P=window.canvg.Canvg.fromString(k,C,{ignoreClear:!0,ignoreDimensions:!0});P.start();var N=b.msToBlob();P.stop(),o({blob:N})}else{var W="data:image/svg+xml,"+encodeURIComponent(C),K=new Image;K.crossOrigin="anonymous",K.onload=function(){if(k.drawImage(K,0,0),b.msToBlob){var ee=b.msToBlob();o({blob:ee})}else{var ue=b.toDataURL("image/png");o({imgURI:ue})}},K.src=W}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var n=this;this.dataURI().then(function(o){var g=o.imgURI,b=o.blob;b?navigator.msSaveOrOpenBlob(b,n.w.globals.chartID+".png"):n.triggerDownload(g,n.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(n){var o=this,g=n.series,b=n.columnDelimiter,E=n.lineDelimiter,k=E===void 0?`
`:E,C=this.w,P=[],N=[],W="data:text/csv;charset=utf-8,",K=new rt(this.ctx),ee=new hi(this.ctx),ue=function(we){var Me="";if(C.globals.axisCharts){if(C.config.xaxis.type==="category"||C.config.xaxis.convertedCatToNumeric)if(C.globals.isBarHorizontal){var Oe=C.globals.yLabelFormatters[0],He=new Se(o.ctx).getActiveConfigSeriesIndex();Me=Oe(C.globals.labels[we],{seriesIndex:He,dataPointIndex:we,w:C})}else Me=ee.getLabel(C.globals.labels,C.globals.timescaleLabels,0,we).text;C.config.xaxis.type==="datetime"&&(C.config.xaxis.categories.length?Me=C.config.xaxis.categories[we]:C.config.labels.length&&(Me=C.config.labels[we]))}else Me=C.config.labels[we];return Array.isArray(Me)&&(Me=Me.join(" ")),X.isNumber(Me)?Me:Me.split(b).join("")};P.push(C.config.chart.toolbar.export.csv.headerCategory),g.map(function(we,Me){var Oe=we.name?we.name:"series-".concat(Me);C.globals.axisCharts&&P.push(Oe.split(b).join("")?Oe.split(b).join(""):"series-".concat(Me))}),C.globals.axisCharts||(P.push(C.config.chart.toolbar.export.csv.headerValue),N.push(P.join(b))),g.map(function(we,Me){C.globals.axisCharts?function(Oe,He){if(P.length&&He===0&&N.push(P.join(b)),Oe.data&&Oe.data.length)for(var Le=0;Le<Oe.data.length;Le++){P=[];var gt=ue(Le);if(gt||(K.isFormatXY()?gt=g[He].data[Le].x:K.isFormat2DArray()&&(gt=g[He].data[Le]?g[He].data[Le][0]:"")),He===0){P.push((se=gt,C.config.xaxis.type==="datetime"&&String(se).length>=10?C.config.chart.toolbar.export.csv.dateFormatter(gt):gt.split(b).join("")));for(var B=0;B<C.globals.series.length;B++)P.push(C.globals.series[B][Le])}(C.config.chart.type==="candlestick"||Oe.type&&Oe.type==="candlestick")&&(P.pop(),P.push(C.globals.seriesCandleO[He][Le]),P.push(C.globals.seriesCandleH[He][Le]),P.push(C.globals.seriesCandleL[He][Le]),P.push(C.globals.seriesCandleC[He][Le])),(C.config.chart.type==="boxPlot"||Oe.type&&Oe.type==="boxPlot")&&(P.pop(),P.push(C.globals.seriesCandleO[He][Le]),P.push(C.globals.seriesCandleH[He][Le]),P.push(C.globals.seriesCandleM[He][Le]),P.push(C.globals.seriesCandleL[He][Le]),P.push(C.globals.seriesCandleC[He][Le])),C.config.chart.type==="rangeBar"&&(P.pop(),P.push(C.globals.seriesRangeStart[He][Le]),P.push(C.globals.seriesRangeEnd[He][Le])),P.length&&N.push(P.join(b))}var se}(we,Me):((P=[]).push(C.globals.labels[Me].split(b).join("")),P.push(C.globals.series[Me]),N.push(P.join(b)))}),W+=N.join(k),this.triggerDownload(encodeURI(W),C.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(n,o,g){var b=document.createElement("a");b.href=n,b.download=(o||this.w.globals.chartID)+g,document.body.appendChild(b),b.click(),document.body.removeChild(b)}}]),_e}(),Li=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w;var o=this.w;this.axesUtils=new hi(n),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),this.drawnLabels=[],this.drawnLabelsRects=[],o.config.xaxis.position==="top"?this.offY=0:this.offY=o.globals.gridHeight+1,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return x(_e,[{key:"drawXaxis",value:function(){var n,o=this,g=this.w,b=new me(this.ctx),E=b.group({class:"apexcharts-xaxis",transform:"translate(".concat(g.config.xaxis.offsetX,", ").concat(g.config.xaxis.offsetY,")")}),k=b.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(g.globals.translateXAxisX,", ").concat(g.globals.translateXAxisY,")")});E.add(k);for(var C=g.globals.padHorizontal,P=[],N=0;N<this.xaxisLabels.length;N++)P.push(this.xaxisLabels[N]);var W=P.length;if(g.globals.isXNumeric){var K=W>1?W-1:W;n=g.globals.gridWidth/K,C=C+n/2+g.config.xaxis.labels.offsetX}else n=g.globals.gridWidth/P.length,C=C+n+g.config.xaxis.labels.offsetX;for(var ee=function(Le){var gt=C-n/2+g.config.xaxis.labels.offsetX;Le===0&&W===1&&n/2===C&&g.globals.dataPoints===1&&(gt=g.globals.gridWidth/2);var B=o.axesUtils.getLabel(P,g.globals.timescaleLabels,gt,Le,o.drawnLabels,o.xaxisFontSize),se=28;if(g.globals.rotateXLabels&&(se=22),(B=g.config.xaxis.tickAmount!==void 0&&g.config.xaxis.tickAmount!=="dataPoints"&&g.config.xaxis.type!=="datetime"?o.axesUtils.checkLabelBasedOnTickamount(Le,B,W):o.axesUtils.checkForOverflowingLabels(Le,B,W,o.drawnLabels,o.drawnLabelsRects)).text&&g.globals.xaxisLabelsCount++,g.config.xaxis.labels.show){var ke=b.drawText({x:B.x,y:o.offY+g.config.xaxis.labels.offsetY+se-(g.config.xaxis.position==="top"?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:B.text,textAnchor:"middle",fontWeight:B.isBold?600:g.config.xaxis.labels.style.fontWeight,fontSize:o.xaxisFontSize,fontFamily:o.xaxisFontFamily,foreColor:Array.isArray(o.xaxisForeColors)?g.config.xaxis.convertedCatToNumeric?o.xaxisForeColors[g.globals.minX+Le-1]:o.xaxisForeColors[Le]:o.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+g.config.xaxis.labels.style.cssClass});k.add(ke);var Ke=document.createElementNS(g.globals.SVGNS,"title");Ke.textContent=Array.isArray(B.text)?B.text.join(" "):B.text,ke.node.appendChild(Ke),B.text!==""&&(o.drawnLabels.push(B.text),o.drawnLabelsRects.push(B))}C+=n},ue=0;ue<=W-1;ue++)ee(ue);if(g.config.xaxis.title.text!==void 0){var we=b.group({class:"apexcharts-xaxis-title"}),Me=b.drawText({x:g.globals.gridWidth/2+g.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+g.globals.xAxisLabelsHeight+g.config.xaxis.title.offsetY,text:g.config.xaxis.title.text,textAnchor:"middle",fontSize:g.config.xaxis.title.style.fontSize,fontFamily:g.config.xaxis.title.style.fontFamily,fontWeight:g.config.xaxis.title.style.fontWeight,foreColor:g.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+g.config.xaxis.title.style.cssClass});we.add(Me),E.add(we)}if(g.config.xaxis.axisBorder.show){var Oe=g.globals.barPadForNumericAxis,He=b.drawLine(g.globals.padHorizontal+g.config.xaxis.axisBorder.offsetX-Oe,this.offY,this.xaxisBorderWidth+Oe,this.offY,g.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);E.add(He)}return E}},{key:"drawXaxisInversed",value:function(n){var o,g,b=this,E=this.w,k=new me(this.ctx),C=E.config.yaxis[0].opposite?E.globals.translateYAxisX[n]:0,P=k.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),N=k.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+C+", 0)"});P.add(N);var W=[];if(E.config.yaxis[n].show)for(var K=0;K<this.xaxisLabels.length;K++)W.push(this.xaxisLabels[K]);o=E.globals.gridHeight/W.length,g=-o/2.2;var ee=E.globals.yLabelFormatters[0],ue=E.config.yaxis[0].labels;if(ue.show)for(var we=function(se){var ke=W[se]===void 0?"":W[se];ke=ee(ke,{seriesIndex:n,dataPointIndex:se,w:E});var Ke=b.axesUtils.getYAxisForeColor(ue.style.colors,n),zt=0;Array.isArray(ke)&&(zt=ke.length/2*parseInt(ue.style.fontSize,10));var ai=k.drawText({x:ue.offsetX-15,y:g+o+ue.offsetY-zt,text:ke,textAnchor:b.yaxis.opposite?"start":"end",foreColor:Array.isArray(Ke)?Ke[se]:Ke,fontSize:ue.style.fontSize,fontFamily:ue.style.fontFamily,fontWeight:ue.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+ue.style.cssClass});N.add(ai);var Xt=document.createElementNS(E.globals.SVGNS,"title");if(Xt.textContent=ke.text,ai.node.appendChild(Xt),E.config.yaxis[n].labels.rotate!==0){var Wt=k.rotateAroundCenter(ai.node);ai.node.setAttribute("transform","rotate(".concat(E.config.yaxis[n].labels.rotate," 0 ").concat(Wt.y,")"))}g+=o},Me=0;Me<=W.length-1;Me++)we(Me);if(E.config.yaxis[0].title.text!==void 0){var Oe=k.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+C+", 0)"}),He=k.drawText({x:0,y:E.globals.gridHeight/2,text:E.config.yaxis[0].title.text,textAnchor:"middle",foreColor:E.config.yaxis[0].title.style.color,fontSize:E.config.yaxis[0].title.style.fontSize,fontWeight:E.config.yaxis[0].title.style.fontWeight,fontFamily:E.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+E.config.yaxis[0].title.style.cssClass});Oe.add(He),P.add(Oe)}var Le=0;this.isCategoryBarHorizontal&&E.config.yaxis[0].opposite&&(Le=E.globals.gridWidth);var gt=E.config.xaxis.axisBorder;if(gt.show){var B=k.drawLine(E.globals.padHorizontal+gt.offsetX+Le,1+gt.offsetY,E.globals.padHorizontal+gt.offsetX+Le,E.globals.gridHeight+gt.offsetY,gt.color,0);P.add(B)}return E.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Le,W.length,E.config.yaxis[0].axisBorder,E.config.yaxis[0].axisTicks,0,o,P),P}},{key:"drawXaxisTicks",value:function(n,o){var g=this.w,b=n;if(!(n<0||n-2>g.globals.gridWidth)){var E=this.offY+g.config.xaxis.axisTicks.offsetY,k=E+g.config.xaxis.axisTicks.height;if(g.config.xaxis.position==="top"&&(k=E-g.config.xaxis.axisTicks.height),g.config.xaxis.axisTicks.show){var C=new me(this.ctx).drawLine(n+g.config.xaxis.axisTicks.offsetX,E+g.config.xaxis.offsetY,b+g.config.xaxis.axisTicks.offsetX,k+g.config.xaxis.offsetY,g.config.xaxis.axisTicks.color);o.add(C),C.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var n=this.w,o=[],g=this.xaxisLabels.length,b=n.globals.padHorizontal;if(n.globals.timescaleLabels.length>0)for(var E=0;E<g;E++)b=this.xaxisLabels[E].position,o.push(b);else for(var k=g,C=0;C<k;C++){var P=k;n.globals.isXNumeric&&n.config.chart.type!=="bar"&&(P-=1),b+=n.globals.gridWidth/P,o.push(b)}return o}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,o=new me(this.ctx),g=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),b=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),E=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),k=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var C=0;C<b.length;C++){var P=o.rotateAroundCenter(b[C]);P.y=P.y-1,P.x=P.x+1,b[C].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(P.x," ").concat(P.y,")")),b[C].setAttribute("text-anchor","end"),g.setAttribute("transform","translate(0, ".concat(-10,")"));var N=b[C].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(N,function(ue){o.placeTextWithEllipsis(ue,ue.textContent,n.globals.xAxisLabelsHeight-(n.config.legend.position==="bottom"?20:10))})}else(function(){for(var ue=n.globals.gridWidth/(n.globals.labels.length+1),we=0;we<b.length;we++){var Me=b[we].childNodes;n.config.xaxis.labels.trim&&n.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(Me,function(Oe){o.placeTextWithEllipsis(Oe,Oe.textContent,ue)})}})();if(E.length>0){var W=E[E.length-1].getBBox(),K=E[0].getBBox();W.x<-20&&E[E.length-1].parentNode.removeChild(E[E.length-1]),K.x+K.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&E[0].parentNode.removeChild(E[0]);for(var ee=0;ee<k.length;ee++)o.placeTextWithEllipsis(k[ee],k[ee].textContent,n.config.yaxis[0].labels.maxWidth-2*parseFloat(n.config.yaxis[0].title.style.fontSize)-20)}}}]),_e}(),ur=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w;var o=this.w;this.xaxisLabels=o.globals.labels.slice(),this.axesUtils=new hi(n),this.isTimelineBar=o.config.xaxis.type==="datetime"&&o.globals.seriesRangeBarTimeline.length,o.globals.timescaleLabels.length>0&&(this.xaxisLabels=o.globals.timescaleLabels.slice())}return x(_e,[{key:"drawGridArea",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.w,g=new me(this.ctx);n===null&&(n=g.group({class:"apexcharts-grid"}));var b=g.drawLine(o.globals.padHorizontal,1,o.globals.padHorizontal,o.globals.gridHeight,"transparent"),E=g.drawLine(o.globals.padHorizontal,o.globals.gridHeight,o.globals.gridWidth,o.globals.gridHeight,"transparent");return n.add(E),n.add(b),n}},{key:"drawGrid",value:function(){var n=null;return this.w.globals.axisCharts&&(n=this.renderGrid(),this.drawGridArea(n.el)),n}},{key:"createGridMask",value:function(){var n=this.w,o=n.globals,g=new me(this.ctx),b=Array.isArray(n.config.stroke.width)?0:n.config.stroke.width;if(Array.isArray(n.config.stroke.width)){var E=0;n.config.stroke.width.forEach(function(K){E=Math.max(E,K)}),b=E}o.dom.elGridRectMask=document.createElementNS(o.SVGNS,"clipPath"),o.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(o.cuid)),o.dom.elGridRectMarkerMask=document.createElementNS(o.SVGNS,"clipPath"),o.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(o.cuid));var k=n.config.chart.type,C=0,P=0;(k==="bar"||k==="rangeBar"||k==="candlestick"||k==="boxPlot"||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&(C=n.config.grid.padding.left,P=n.config.grid.padding.right,o.barPadForNumericAxis>C&&(C=o.barPadForNumericAxis,P=o.barPadForNumericAxis)),o.dom.elGridRect=g.drawRect(-b/2-C-2,-b/2,o.gridWidth+b+P+C+4,o.gridHeight+b,0,"#fff"),new Q(this).getLargestMarkerSize();var N=n.globals.markers.largestSize+1;o.dom.elGridRectMarker=g.drawRect(2*-N,2*-N,o.gridWidth+4*N,o.gridHeight+4*N,0,"#fff"),o.dom.elGridRectMask.appendChild(o.dom.elGridRect.node),o.dom.elGridRectMarkerMask.appendChild(o.dom.elGridRectMarker.node);var W=o.dom.baseEl.querySelector("defs");W.appendChild(o.dom.elGridRectMask),W.appendChild(o.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(n){var o=n.i,g=n.x1,b=n.y1,E=n.x2,k=n.y2,C=n.xCount,P=n.parent,N=this.w;o===0&&N.globals.skipFirstTimelinelabel||o===C-1&&N.globals.skipLastTimelinelabel&&!N.config.xaxis.labels.formatter||N.config.chart.type==="radar"||(N.config.grid.xaxis.lines.show&&this._drawGridLine({x1:g,y1:b,x2:E,y2:k,parent:P}),new Li(this.ctx).drawXaxisTicks(g,this.elg))}},{key:"_drawGridLine",value:function(n){var o=n.x1,g=n.y1,b=n.x2,E=n.y2,k=n.parent,C=this.w,P=k.node.classList.contains("apexcharts-gridlines-horizontal"),N=C.config.grid.strokeDashArray,W=C.globals.barPadForNumericAxis,K=new me(this).drawLine(o-(P?W:0),g,b+(P?W:0),E,C.config.grid.borderColor,N);K.node.classList.add("apexcharts-gridline"),k.add(K)}},{key:"_drawGridBandRect",value:function(n){var o=n.c,g=n.x1,b=n.y1,E=n.x2,k=n.y2,C=n.type,P=this.w,N=new me(this.ctx),W=P.globals.barPadForNumericAxis;if(C!=="column"||P.config.xaxis.type!=="datetime"){var K=P.config.grid[C].colors[o],ee=N.drawRect(g-(C==="row"?W:0),b,E+(C==="row"?2*W:0),k,0,K,P.config.grid[C].opacity);this.elg.add(ee),ee.attr("clip-path","url(#gridRectMask".concat(P.globals.cuid,")")),ee.node.classList.add("apexcharts-grid-".concat(C))}}},{key:"_drawXYLines",value:function(n){var o=this,g=n.xCount,b=n.tickAmount,E=this.w;if(E.config.grid.xaxis.lines.show||E.config.xaxis.axisTicks.show){var k,C=E.globals.padHorizontal,P=E.globals.gridHeight;E.globals.timescaleLabels.length?function(we){for(var Me=we.xC,Oe=we.x1,He=we.y1,Le=we.x2,gt=we.y2,B=0;B<Me;B++)Oe=o.xaxisLabels[B].position,Le=o.xaxisLabels[B].position,o._drawGridLines({i:B,x1:Oe,y1:He,x2:Le,y2:gt,xCount:g,parent:o.elgridLinesV})}({xC:g,x1:C,y1:0,x2:k,y2:P}):(E.globals.isXNumeric&&(g=E.globals.xAxisScale.result.length),E.config.xaxis.convertedCatToNumeric&&(g=E.globals.xaxisLabelsCount),function(we){var Me=we.xC,Oe=we.x1,He=we.y1,Le=we.x2,gt=we.y2;if(E.config.xaxis.tickAmount!==void 0&&E.config.xaxis.tickAmount!=="dataPoints")E.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(se,ke){var Ke=se.getBBox();o._drawGridLines({i:ke,x1:Ke.x+Ke.width/2,y1:He,x2:Ke.x+Ke.width/2,y2:gt,xCount:g,parent:o.elgridLinesV})});else for(var B=0;B<Me+(E.globals.isXNumeric?0:1);B++)B===0&&Me===1&&E.globals.dataPoints===1&&(Le=Oe=E.globals.gridWidth/2),o._drawGridLines({i:B,x1:Oe,y1:He,x2:Le,y2:gt,xCount:g,parent:o.elgridLinesV}),Le=Oe+=E.globals.gridWidth/(E.globals.isXNumeric?Me-1:Me)}({xC:g,x1:C,y1:0,x2:k,y2:P}))}if(E.config.grid.yaxis.lines.show){var N=0,W=0,K=E.globals.gridWidth,ee=b+1;this.isTimelineBar&&(ee=E.globals.labels.length);for(var ue=0;ue<ee+(this.isTimelineBar?1:0);ue++)this._drawGridLine({x1:0,y1:N,x2:K,y2:W,parent:this.elgridLinesH}),W=N+=E.globals.gridHeight/(this.isTimelineBar?ee:b)}}},{key:"_drawInvertedXYLines",value:function(n){var o=n.xCount,g=this.w;if(g.config.grid.xaxis.lines.show||g.config.xaxis.axisTicks.show)for(var b,E=g.globals.padHorizontal,k=g.globals.gridHeight,C=0;C<o+1;C++)g.config.grid.xaxis.lines.show&&this._drawGridLine({x1:E,y1:0,x2:b,y2:k,parent:this.elgridLinesV}),new Li(this.ctx).drawXaxisTicks(E,this.elg),b=E=E+g.globals.gridWidth/o+.3;if(g.config.grid.yaxis.lines.show)for(var P=0,N=0,W=g.globals.gridWidth,K=0;K<g.globals.dataPoints+1;K++)this._drawGridLine({x1:0,y1:P,x2:W,y2:N,parent:this.elgridLinesH}),N=P+=g.globals.gridHeight/g.globals.dataPoints}},{key:"renderGrid",value:function(){var n=this.w,o=new me(this.ctx);this.elg=o.group({class:"apexcharts-grid"}),this.elgridLinesH=o.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=o.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),n.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var g,b=n.globals.yAxisScale.length?n.globals.yAxisScale[0].result.length-1:5,E=0;E<n.globals.series.length&&(n.globals.yAxisScale[E]!==void 0&&(b=n.globals.yAxisScale[E].result.length-1),!(b>2));E++);return!n.globals.isBarHorizontal||this.isTimelineBar?(g=this.xaxisLabels.length,this.isTimelineBar&&(b=n.globals.labels.length,n.config.xaxis.tickAmount&&n.config.xaxis.labels.formatter&&(g=n.config.xaxis.tickAmount)),this._drawXYLines({xCount:g,tickAmount:b})):(g=b,b=n.globals.xTickAmount,this._drawInvertedXYLines({xCount:g,tickAmount:b})),this.drawGridBands(g,b),{el:this.elg,xAxisTickWidth:n.globals.gridWidth/g}}},{key:"drawGridBands",value:function(n,o){var g=this.w;if(g.config.grid.row.colors!==void 0&&g.config.grid.row.colors.length>0)for(var b=0,E=g.globals.gridHeight/o,k=g.globals.gridWidth,C=0,P=0;C<o;C++,P++)P>=g.config.grid.row.colors.length&&(P=0),this._drawGridBandRect({c:P,x1:0,y1:b,x2:k,y2:E,type:"row"}),b+=g.globals.gridHeight/o;if(g.config.grid.column.colors!==void 0&&g.config.grid.column.colors.length>0)for(var N=g.globals.isBarHorizontal||g.config.xaxis.type!=="category"&&!g.config.xaxis.convertedCatToNumeric?n:n-1,W=g.globals.padHorizontal,K=g.globals.padHorizontal+g.globals.gridWidth/N,ee=g.globals.gridHeight,ue=0,we=0;ue<n;ue++,we++)we>=g.config.grid.column.colors.length&&(we=0),this._drawGridBandRect({c:we,x1:W,y1:0,x2:K,y2:ee,type:"column"}),W+=g.globals.gridWidth/N}}]),_e}(),Vt=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"niceScale",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,E=arguments.length>4?arguments[4]:void 0,k=this.w,C=Math.abs(o-n);if((g=this._adjustTicksForSmallRange(g,b,C))==="dataPoints"&&(g=k.globals.dataPoints-1),n===Number.MIN_VALUE&&o===0||!X.isNumber(n)&&!X.isNumber(o)||n===Number.MIN_VALUE&&o===-Number.MAX_VALUE){n=0,o=g;var P=this.linearScale(n,o,g);return P}n>o?(console.warn("axis.min cannot be greater than axis.max"),o=n+.1):n===o&&(n=n===0?0:n-.5,o=o===0?2:o+.5);var N=[];C<1&&E&&(k.config.chart.type==="candlestick"||k.config.series[b].type==="candlestick"||k.config.chart.type==="boxPlot"||k.config.series[b].type==="boxPlot"||k.globals.isRangeData)&&(o*=1.01);var W=g+1;W<2?W=2:W>2&&(W-=2);var K=C/W,ee=Math.floor(X.log10(K)),ue=Math.pow(10,ee),we=Math.round(K/ue);we<1&&(we=1);var Me=we*ue,Oe=Me*Math.floor(n/Me),He=Me*Math.ceil(o/Me),Le=Oe;if(E&&C>2){for(;N.push(Le),!((Le+=Me)>He););return{result:N,niceMin:N[0],niceMax:N[N.length-1]}}var gt=n;(N=[]).push(gt);for(var B=Math.abs(o-n)/g,se=0;se<=g;se++)gt+=B,N.push(gt);return N[N.length-2]>=o&&N.pop(),{result:N,niceMin:N[0],niceMax:N[N.length-1]}}},{key:"linearScale",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,b=arguments.length>3?arguments[3]:void 0,E=Math.abs(o-n),k=E/(g=this._adjustTicksForSmallRange(g,b,E));g===Number.MAX_VALUE&&(g=10,k=1);for(var C=[],P=n;g>=0;)C.push(P),P+=k,g-=1;return{result:C,niceMin:C[0],niceMax:C[C.length-1]}}},{key:"logarithmicScale",value:function(n){for(var o=[],g=Math.ceil(Math.log10(n))+1,b=0;b<g;b++)o.push(Math.pow(10,b));return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(n,o,g){var b=n;if(o!==void 0&&this.w.config.yaxis[o].labels.formatter&&this.w.config.yaxis[o].tickAmount===void 0){var E=this.w.config.yaxis[o].labels.formatter(1);X.isNumber(Number(E))&&!X.isFloat(E)&&(b=Math.ceil(g))}return b<n?b:n}},{key:"setYScaleForIndex",value:function(n,o,g){var b=this.w.globals,E=this.w.config,k=b.isBarHorizontal?E.xaxis:E.yaxis[n];b.yAxisScale[n]===void 0&&(b.yAxisScale[n]=[]);var C=Math.abs(g-o);if(k.logarithmic&&C<=5&&(b.invalidLogScale=!0),k.logarithmic&&C>5)b.allSeriesCollapsed=!1,b.yAxisScale[n]=this.logarithmicScale(g);else if(g!==-Number.MAX_VALUE&&X.isNumber(g))if(b.allSeriesCollapsed=!1,k.min===void 0&&k.max===void 0||k.forceNiceScale){var P=E.yaxis[n].max===void 0&&E.yaxis[n].min===void 0||E.yaxis[n].forceNiceScale;b.yAxisScale[n]=this.niceScale(o,g,k.tickAmount?k.tickAmount:C<5&&C>1?C+1:5,n,P)}else b.yAxisScale[n]=this.linearScale(o,g,k.tickAmount,n);else b.yAxisScale[n]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(n,o){var g=this.w,b=g.globals,E=g.config.xaxis,k=Math.abs(o-n);return o!==-Number.MAX_VALUE&&X.isNumber(o)?b.xAxisScale=this.niceScale(n,o,E.tickAmount?E.tickAmount:k<5&&k>1?k+1:5,0):b.xAxisScale=this.linearScale(0,5,5),b.xAxisScale}},{key:"setMultipleYScales",value:function(){var n=this,o=this.w.globals,g=this.w.config,b=o.minYArr.concat([]),E=o.maxYArr.concat([]),k=[];g.yaxis.forEach(function(C,P){var N=P;g.series.forEach(function(ee,ue){ee.name===C.seriesName&&(N=ue,P!==ue?k.push({index:ue,similarIndex:P,alreadyExists:!0}):k.push({index:ue}))});var W=b[N],K=E[N];n.setYScaleForIndex(P,W,K)}),this.sameScaleInMultipleAxes(b,E,k)}},{key:"sameScaleInMultipleAxes",value:function(n,o,g){var b=this,E=this.w.config,k=this.w.globals,C=[];g.forEach(function(Me){Me.alreadyExists&&(C[Me.index]===void 0&&(C[Me.index]=[]),C[Me.index].push(Me.index),C[Me.index].push(Me.similarIndex))}),k.yAxisSameScaleIndices=C,C.forEach(function(Me,Oe){C.forEach(function(He,Le){var gt,B;Oe!==Le&&(gt=Me,B=He,gt.filter(function(se){return B.indexOf(se)!==-1})).length>0&&(C[Oe]=C[Oe].concat(C[Le]))})});var P=C.map(function(Me){return Me.filter(function(Oe,He){return Me.indexOf(Oe)===He})}).map(function(Me){return Me.sort()});C=C.filter(function(Me){return!!Me});var N=P.slice(),W=N.map(function(Me){return JSON.stringify(Me)});N=N.filter(function(Me,Oe){return W.indexOf(JSON.stringify(Me))===Oe});var K=[],ee=[];n.forEach(function(Me,Oe){N.forEach(function(He,Le){He.indexOf(Oe)>-1&&(K[Le]===void 0&&(K[Le]=[],ee[Le]=[]),K[Le].push({key:Oe,value:Me}),ee[Le].push({key:Oe,value:o[Oe]}))})});var ue=Array.apply(null,Array(N.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),we=Array.apply(null,Array(N.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);K.forEach(function(Me,Oe){Me.forEach(function(He,Le){ue[Oe]=Math.min(He.value,ue[Oe])})}),ee.forEach(function(Me,Oe){Me.forEach(function(He,Le){we[Oe]=Math.max(He.value,we[Oe])})}),n.forEach(function(Me,Oe){ee.forEach(function(He,Le){var gt=ue[Le],B=we[Le];E.chart.stacked&&(B=0,He.forEach(function(se,ke){se.value!==-Number.MAX_VALUE&&(B+=se.value),gt!==Number.MIN_VALUE&&(gt+=K[Le][ke].value)})),He.forEach(function(se,ke){He[ke].key===Oe&&(E.yaxis[Oe].min!==void 0&&(gt=typeof E.yaxis[Oe].min=="function"?E.yaxis[Oe].min(k.minY):E.yaxis[Oe].min),E.yaxis[Oe].max!==void 0&&(B=typeof E.yaxis[Oe].max=="function"?E.yaxis[Oe].max(k.maxY):E.yaxis[Oe].max),b.setYScaleForIndex(Oe,gt,B))})})})}},{key:"autoScaleY",value:function(n,o,g){n||(n=this);var b=n.w;if(b.globals.isMultipleYAxis||b.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),o;var E=b.globals.seriesX[0],k=b.config.chart.stacked;return o.forEach(function(C,P){for(var N=0,W=0;W<E.length;W++)if(E[W]>=g.xaxis.min){N=W;break}var K,ee,ue=b.globals.minYArr[P],we=b.globals.maxYArr[P],Me=b.globals.stackedSeriesTotals;b.globals.series.forEach(function(Oe,He){var Le=Oe[N];k?(Le=Me[N],K=ee=Le,Me.forEach(function(gt,B){E[B]<=g.xaxis.max&&E[B]>=g.xaxis.min&&(gt>ee&&gt!==null&&(ee=gt),Oe[B]<K&&Oe[B]!==null&&(K=Oe[B]))})):(K=ee=Le,Oe.forEach(function(gt,B){if(E[B]<=g.xaxis.max&&E[B]>=g.xaxis.min){var se=gt,ke=gt;b.globals.series.forEach(function(Ke,zt){gt!==null&&(se=Math.min(Ke[B],se),ke=Math.max(Ke[B],ke))}),ke>ee&&ke!==null&&(ee=ke),se<K&&se!==null&&(K=se)}})),K===void 0&&ee===void 0&&(K=ue,ee=we),(ee*=ee<0?.9:1.1)<0&&ee<we&&(ee=we),(K*=K<0?1.1:.9)<0&&K>ue&&(K=ue),o.length>1?(o[He].min=C.min===void 0?K:C.min,o[He].max=C.max===void 0?ee:C.max):(o[0].min=C.min===void 0?K:C.min,o[0].max=C.max===void 0?ee:C.max)})}),o}}]),_e}(),wi=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.scales=new Vt(n)}return x(_e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,E=this.w.config,k=this.w.globals,C=-Number.MAX_VALUE,P=Number.MIN_VALUE;b===null&&(b=n+1);var N=k.series,W=N,K=N;E.chart.type==="candlestick"?(W=k.seriesCandleL,K=k.seriesCandleH):E.chart.type==="boxPlot"?(W=k.seriesCandleO,K=k.seriesCandleC):k.isRangeData&&(W=k.seriesRangeStart,K=k.seriesRangeEnd);for(var ee=n;ee<b;ee++){k.dataPoints=Math.max(k.dataPoints,N[ee].length);for(var ue=0;ue<k.series[ee].length;ue++){var we=N[ee][ue];we!==null&&X.isNumber(we)?(K[ee][ue]!==void 0&&(C=Math.max(C,K[ee][ue])),W[ee][ue]!==void 0&&(o=Math.min(o,W[ee][ue]),g=Math.max(g,W[ee][ue])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||(k.seriesCandleC[ee][ue]!==void 0&&(C=Math.max(C,k.seriesCandleO[ee][ue]),C=Math.max(C,k.seriesCandleH[ee][ue]),C=Math.max(C,k.seriesCandleL[ee][ue]),C=Math.max(C,k.seriesCandleC[ee][ue]),this.w.config.chart.type==="boxPlot"&&(C=Math.max(C,k.seriesCandleM[ee][ue]))),!E.series[ee].type||E.series[ee].type==="candlestick"&&E.series[ee].type==="boxPlot"||(C=Math.max(C,k.series[ee][ue]),o=Math.min(o,k.series[ee][ue])),g=C),X.isFloat(we)&&(we=X.noExponents(we),k.yValueDecimal=Math.max(k.yValueDecimal,we.toString().split(".")[1].length)),P>W[ee][ue]&&W[ee][ue]<0&&(P=W[ee][ue])):k.hasNullValues=!0}}return E.chart.type==="rangeBar"&&k.seriesRangeStart.length&&k.isBarHorizontal&&E.xaxis.type==="datetime"&&(P=o),E.chart.type==="bar"&&(P<0&&C<0&&(C=0),P===Number.MIN_VALUE&&(P=0)),{minY:P,maxY:C,lowestY:o,highestY:g}}},{key:"setYRange",value:function(){var n=this.w.globals,o=this.w.config;n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE;var g=Number.MAX_VALUE;if(n.isMultipleYAxis)for(var b=0;b<n.series.length;b++){var E=this.getMinYMaxY(b,g,null,b+1);n.minYArr.push(E.minY),n.maxYArr.push(E.maxY),g=E.lowestY}var k=this.getMinYMaxY(0,g,null,n.series.length);if(n.minY=k.minY,n.maxY=k.maxY,g=k.lowestY,o.chart.stacked&&this._setStackedMinMax(),(o.chart.type==="line"||o.chart.type==="area"||o.chart.type==="candlestick"||o.chart.type==="boxPlot"||o.chart.type==="rangeBar"&&!n.isBarHorizontal)&&n.minY===Number.MIN_VALUE&&g!==-Number.MAX_VALUE&&g!==n.maxY){var C=n.maxY-g;(g>=0&&g<=10||o.yaxis[0].min!==void 0||o.yaxis[0].max!==void 0)&&(C=0),n.minY=g-5*C/100,g>0&&n.minY<0&&(n.minY=0),n.maxY=n.maxY+5*C/100}return o.yaxis.forEach(function(P,N){P.max!==void 0&&(typeof P.max=="number"?n.maxYArr[N]=P.max:typeof P.max=="function"&&(n.maxYArr[N]=P.max(n.isMultipleYAxis?n.maxYArr[N]:n.maxY)),n.maxY=n.maxYArr[N]),P.min!==void 0&&(typeof P.min=="number"?n.minYArr[N]=P.min:typeof P.min=="function"&&(n.minYArr[N]=P.min(n.isMultipleYAxis?n.minYArr[N]===Number.MIN_VALUE?0:n.minYArr[N]:n.minY)),n.minY=n.minYArr[N])}),n.isBarHorizontal&&["min","max"].forEach(function(P){o.xaxis[P]!==void 0&&typeof o.xaxis[P]=="number"&&(P==="min"?n.minY=o.xaxis[P]:n.maxY=o.xaxis[P])}),n.isMultipleYAxis?(this.scales.setMultipleYScales(),n.minY=g,n.yAxisScale.forEach(function(P,N){n.minYArr[N]=P.niceMin,n.maxYArr[N]=P.niceMax})):(this.scales.setYScaleForIndex(0,n.minY,n.maxY),n.minY=n.yAxisScale[0].niceMin,n.maxY=n.yAxisScale[0].niceMax,n.minYArr[0]=n.yAxisScale[0].niceMin,n.maxYArr[0]=n.yAxisScale[0].niceMax),{minY:n.minY,maxY:n.maxY,minYArr:n.minYArr,maxYArr:n.maxYArr,yAxisScale:n.yAxisScale}}},{key:"setXRange",value:function(){var n=this.w.globals,o=this.w.config,g=o.xaxis.type==="numeric"||o.xaxis.type==="datetime"||o.xaxis.type==="category"&&!n.noLabelsProvided||n.noLabelsProvided||n.isXNumeric;if(n.isXNumeric&&function(){for(var C=0;C<n.series.length;C++)if(n.labels[C])for(var P=0;P<n.labels[C].length;P++)n.labels[C][P]!==null&&X.isNumber(n.labels[C][P])&&(n.maxX=Math.max(n.maxX,n.labels[C][P]),n.initialMaxX=Math.max(n.maxX,n.labels[C][P]),n.minX=Math.min(n.minX,n.labels[C][P]),n.initialMinX=Math.min(n.minX,n.labels[C][P]))}(),n.noLabelsProvided&&o.xaxis.categories.length===0&&(n.maxX=n.labels[n.labels.length-1],n.initialMaxX=n.labels[n.labels.length-1],n.minX=1,n.initialMinX=1),n.isXNumeric||n.noLabelsProvided||n.dataFormatXNumeric){var b;if(o.xaxis.tickAmount===void 0?(b=Math.round(n.svgWidth/150),o.xaxis.type==="numeric"&&n.dataPoints<30&&(b=n.dataPoints-1),b>n.dataPoints&&n.dataPoints!==0&&(b=n.dataPoints-1)):o.xaxis.tickAmount==="dataPoints"?(n.series.length>1&&(b=n.series[n.maxValsInArrayIndex].length-1),n.isXNumeric&&(b=n.maxX-n.minX-1)):b=o.xaxis.tickAmount,n.xTickAmount=b,o.xaxis.max!==void 0&&typeof o.xaxis.max=="number"&&(n.maxX=o.xaxis.max),o.xaxis.min!==void 0&&typeof o.xaxis.min=="number"&&(n.minX=o.xaxis.min),o.xaxis.range!==void 0&&(n.minX=n.maxX-o.xaxis.range),n.minX!==Number.MAX_VALUE&&n.maxX!==-Number.MAX_VALUE)if(o.xaxis.convertedCatToNumeric&&!n.dataFormatXNumeric){for(var E=[],k=n.minX-1;k<n.maxX;k++)E.push(k+1);n.xAxisScale={result:E,niceMin:E[0],niceMax:E[E.length-1]}}else n.xAxisScale=this.scales.setXScale(n.minX,n.maxX);else n.xAxisScale=this.scales.linearScale(1,b,b),n.noLabelsProvided&&n.labels.length>0&&(n.xAxisScale=this.scales.linearScale(1,n.labels.length,b-1),n.seriesX=n.labels.slice());g&&(n.labels=n.xAxisScale.result.slice())}return n.isBarHorizontal&&n.labels.length&&(n.xTickAmount=n.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:n.minX,maxX:n.maxX}}},{key:"setZRange",value:function(){var n=this.w.globals;if(n.isDataXYZ){for(var o=0;o<n.series.length;o++)if(n.seriesZ[o]!==void 0)for(var g=0;g<n.seriesZ[o].length;g++)n.seriesZ[o][g]!==null&&X.isNumber(n.seriesZ[o][g])&&(n.maxZ=Math.max(n.maxZ,n.seriesZ[o][g]),n.minZ=Math.min(n.minZ,n.seriesZ[o][g]))}}},{key:"_handleSingleDataPoint",value:function(){var n=this.w.globals,o=this.w.config;if(n.minX===n.maxX){var g=new ht(this.ctx);if(o.xaxis.type==="datetime"){var b=g.getDate(n.minX);b.setUTCDate(b.getDate()-2),n.minX=new Date(b).getTime();var E=g.getDate(n.maxX);E.setUTCDate(E.getDate()+2),n.maxX=new Date(E).getTime()}else(o.xaxis.type==="numeric"||o.xaxis.type==="category"&&!n.noLabelsProvided)&&(n.minX=n.minX-2,n.initialMinX=n.minX,n.maxX=n.maxX+2,n.initialMaxX=n.maxX)}}},{key:"_getMinXDiff",value:function(){var n=this.w.globals;n.isXNumeric&&n.seriesX.forEach(function(o,g){o.length===1&&o.push(n.seriesX[n.maxValsInArrayIndex][n.seriesX[n.maxValsInArrayIndex].length-1]);var b=o.slice();b.sort(function(E,k){return E-k}),b.forEach(function(E,k){if(k>0){var C=E-b[k-1];C>0&&(n.minXDiff=Math.min(C,n.minXDiff))}}),n.dataPoints===1&&n.minXDiff===Number.MAX_VALUE&&(n.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var n=this.w.globals,o=[],g=[];if(n.series.length)for(var b=0;b<n.series[n.maxValsInArrayIndex].length;b++)for(var E=0,k=0,C=0;C<n.series.length;C++)n.series[C][b]!==null&&X.isNumber(n.series[C][b])&&(n.series[C][b]>0?E=E+parseFloat(n.series[C][b])+1e-4:k+=parseFloat(n.series[C][b])),C===n.series.length-1&&(o.push(E),g.push(k));for(var P=0;P<o.length;P++)n.maxY=Math.max(n.maxY,o[P]),n.minY=Math.min(n.minY,g[P])}}]),_e}(),Mi=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=0,o.config.xaxis.position==="bottom"&&(this.xAxisoffX=o.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new hi(n)}return x(_e,[{key:"drawYaxis",value:function(n){var o=this,g=this.w,b=new me(this.ctx),E=g.config.yaxis[n].labels.style,k=E.fontSize,C=E.fontFamily,P=E.fontWeight,N=b.group({class:"apexcharts-yaxis",rel:n,transform:"translate("+g.globals.translateYAxisX[n]+", 0)"});if(this.axesUtils.isYAxisHidden(n))return N;var W=b.group({class:"apexcharts-yaxis-texts-g"});N.add(W);var K=g.globals.yAxisScale[n].result.length-1,ee=g.globals.gridHeight/K,ue=g.globals.translateY,we=g.globals.yLabelFormatters[n],Me=g.globals.yAxisScale[n].result.slice();Me=this.axesUtils.checkForReversedLabels(n,Me);var Oe="";if(g.config.yaxis[n].labels.show)for(var He=function(ai){var Xt=Me[ai];Xt=we(Xt,ai);var Wt=g.config.yaxis[n].labels.padding;g.config.yaxis[n].opposite&&g.config.yaxis.length!==0&&(Wt*=-1);var li=o.axesUtils.getYAxisForeColor(E.colors,n),mi=b.drawText({x:Wt,y:ue+K/10+g.config.yaxis[n].labels.offsetY+1,text:Xt,textAnchor:g.config.yaxis[n].opposite?"start":"end",fontSize:k,fontFamily:C,fontWeight:P,foreColor:Array.isArray(li)?li[ai]:li,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+E.cssClass});if(ai===K&&(Oe=mi),W.add(mi),g.config.yaxis[n].labels.rotate!==0){var Yi=b.rotateAroundCenter(Oe.node),Gr=b.rotateAroundCenter(mi.node);mi.node.setAttribute("transform","rotate(".concat(g.config.yaxis[n].labels.rotate," ").concat(Yi.x," ").concat(Gr.y,")"))}ue+=ee},Le=K;Le>=0;Le--)He(Le);if(g.config.yaxis[n].title.text!==void 0){var gt=b.group({class:"apexcharts-yaxis-title"}),B=0;g.config.yaxis[n].opposite&&(B=g.globals.translateYAxisX[n]);var se=b.drawText({x:B,y:g.globals.gridHeight/2+g.globals.translateY+g.config.yaxis[n].title.offsetY,text:g.config.yaxis[n].title.text,textAnchor:"end",foreColor:g.config.yaxis[n].title.style.color,fontSize:g.config.yaxis[n].title.style.fontSize,fontWeight:g.config.yaxis[n].title.style.fontWeight,fontFamily:g.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+g.config.yaxis[n].title.style.cssClass});gt.add(se),N.add(gt)}var ke=g.config.yaxis[n].axisBorder,Ke=31+ke.offsetX;if(g.config.yaxis[n].opposite&&(Ke=-31-ke.offsetX),ke.show){var zt=b.drawLine(Ke,g.globals.translateY+ke.offsetY-2,Ke,g.globals.gridHeight+g.globals.translateY+ke.offsetY+2,ke.color,0,ke.width);N.add(zt)}return g.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ke,K,ke,g.config.yaxis[n].axisTicks,n,ee,N),N}},{key:"drawYaxisInversed",value:function(n){var o=this.w,g=new me(this.ctx),b=g.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),E=g.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(o.globals.translateXAxisX,", ").concat(o.globals.translateXAxisY,")")});b.add(E);var k=o.globals.yAxisScale[n].result.length-1,C=o.globals.gridWidth/k+.1,P=C+o.config.xaxis.labels.offsetX,N=o.globals.xLabelFormatter,W=o.globals.yAxisScale[n].result.slice(),K=o.globals.timescaleLabels;K.length>0&&(this.xaxisLabels=K.slice(),k=(W=K.slice()).length),W=this.axesUtils.checkForReversedLabels(n,W);var ee=K.length;if(o.config.xaxis.labels.show)for(var ue=ee?0:k;ee?ue<ee:ue>=0;ee?ue++:ue--){var we=W[ue];we=N(we,ue);var Me=o.globals.gridWidth+o.globals.padHorizontal-(P-C+o.config.xaxis.labels.offsetX);if(K.length){var Oe=this.axesUtils.getLabel(W,K,Me,ue,this.drawnLabels,this.xaxisFontSize);Me=Oe.x,we=Oe.text,this.drawnLabels.push(Oe.text),ue===0&&o.globals.skipFirstTimelinelabel&&(we=""),ue===W.length-1&&o.globals.skipLastTimelinelabel&&(we="")}var He=g.drawText({x:Me,y:this.xAxisoffX+o.config.xaxis.labels.offsetY+30-(o.config.xaxis.position==="top"?o.globals.xAxisHeight+o.config.xaxis.axisTicks.height-2:0),text:we,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[n]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:o.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+o.config.xaxis.labels.style.cssClass});E.add(He),He.tspan(we);var Le=document.createElementNS(o.globals.SVGNS,"title");Le.textContent=we,He.node.appendChild(Le),P+=C}return this.inversedYAxisTitleText(b),this.inversedYAxisBorder(b),b}},{key:"inversedYAxisBorder",value:function(n){var o=this.w,g=new me(this.ctx),b=o.config.xaxis.axisBorder;if(b.show){var E=0;o.config.chart.type==="bar"&&o.globals.isXNumeric&&(E-=15);var k=g.drawLine(o.globals.padHorizontal+E+b.offsetX,this.xAxisoffX,o.globals.gridWidth,this.xAxisoffX,b.color,0,b.height);n.add(k)}}},{key:"inversedYAxisTitleText",value:function(n){var o=this.w,g=new me(this.ctx);if(o.config.xaxis.title.text!==void 0){var b=g.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),E=g.drawText({x:o.globals.gridWidth/2+o.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(o.config.xaxis.title.style.fontSize)+o.config.xaxis.title.offsetY+20,text:o.config.xaxis.title.text,textAnchor:"middle",fontSize:o.config.xaxis.title.style.fontSize,fontFamily:o.config.xaxis.title.style.fontFamily,fontWeight:o.config.xaxis.title.style.fontWeight,foreColor:o.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+o.config.xaxis.title.style.cssClass});b.add(E),n.add(b)}}},{key:"yAxisTitleRotate",value:function(n,o){var g=this.w,b=new me(this.ctx),E={width:0,height:0},k={width:0,height:0},C=g.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g"));C!==null&&(E=C.getBoundingClientRect());var P=g.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-title text"));if(P!==null&&(k=P.getBoundingClientRect()),P!==null){var N=this.xPaddingForYAxisTitle(n,E,k,o);P.setAttribute("x",N.xPos-(o?10:0))}if(P!==null){var W=b.rotateAroundCenter(P);P.setAttribute("transform","rotate(".concat(o?-1*g.config.yaxis[n].title.rotate:g.config.yaxis[n].title.rotate," ").concat(W.x," ").concat(W.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(n,o,g,b){var E=this.w,k=0,C=0,P=10;return E.config.yaxis[n].title.text===void 0||n<0?{xPos:C,padd:0}:(b?(C=o.width+E.config.yaxis[n].title.offsetX+g.width/2+P/2,(k+=1)===0&&(C-=P/2)):(C=-1*o.width+E.config.yaxis[n].title.offsetX+P/2+g.width/2,E.globals.isBarHorizontal&&(P=25,C=-1*o.width-E.config.yaxis[n].title.offsetX-P)),{xPos:C,padd:P})}},{key:"setYAxisXPosition",value:function(n,o){var g=this.w,b=0,E=0,k=18,C=1;g.config.yaxis.length>1&&(this.multipleYs=!0),g.config.yaxis.map(function(P,N){var W=g.globals.ignoreYAxisIndexes.indexOf(N)>-1||!P.show||P.floating||n[N].width===0,K=n[N].width+o[N].width;P.opposite?g.globals.isBarHorizontal?(E=g.globals.gridWidth+g.globals.translateX-1,g.globals.translateYAxisX[N]=E-P.labels.offsetX):(E=g.globals.gridWidth+g.globals.translateX+C,W||(C=C+K+20),g.globals.translateYAxisX[N]=E-P.labels.offsetX+20):(b=g.globals.translateX-k,W||(k=k+K+20),g.globals.translateYAxisX[N]=b+P.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var n=this.w,o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(o=X.listToArray(o)).forEach(function(g,b){var E=n.config.yaxis[b];if(E&&E.labels.align!==void 0){var k=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(b,"'] .apexcharts-yaxis-texts-g")),C=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(b,"'] .apexcharts-yaxis-label"));C=X.listToArray(C);var P=k.getBoundingClientRect();E.labels.align==="left"?(C.forEach(function(N,W){N.setAttribute("text-anchor","start")}),E.opposite||k.setAttribute("transform","translate(-".concat(P.width,", 0)"))):E.labels.align==="center"?(C.forEach(function(N,W){N.setAttribute("text-anchor","middle")}),k.setAttribute("transform","translate(".concat(P.width/2*(E.opposite?1:-1),", 0)"))):E.labels.align==="right"&&(C.forEach(function(N,W){N.setAttribute("text-anchor","end")}),E.opposite&&k.setAttribute("transform","translate(".concat(P.width,", 0)")))}})}}]),_e}(),Ji=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.documentEvent=X.bind(this.documentEvent,this)}return x(_e,[{key:"addEventListener",value:function(n,o){var g=this.w;g.globals.events.hasOwnProperty(n)?g.globals.events[n].push(o):g.globals.events[n]=[o]}},{key:"removeEventListener",value:function(n,o){var g=this.w;if(g.globals.events.hasOwnProperty(n)){var b=g.globals.events[n].indexOf(o);b!==-1&&g.globals.events[n].splice(b,1)}}},{key:"fireEvent",value:function(n,o){var g=this.w;if(g.globals.events.hasOwnProperty(n)){o&&o.length||(o=[]);for(var b=g.globals.events[n],E=b.length,k=0;k<E;k++)b[k].apply(null,o)}}},{key:"setupEventHandlers",value:function(){var n=this,o=this.w,g=this.ctx,b=o.globals.dom.baseEl.querySelector(o.globals.chartClass);this.ctx.eventList.forEach(function(E){b.addEventListener(E,function(k){var C=Object.assign({},o,{seriesIndex:o.globals.capturedSeriesIndex,dataPointIndex:o.globals.capturedDataPointIndex});k.type==="mousemove"||k.type==="touchmove"?typeof o.config.chart.events.mouseMove=="function"&&o.config.chart.events.mouseMove(k,g,C):(k.type==="mouseup"&&k.which===1||k.type==="touchend")&&(typeof o.config.chart.events.click=="function"&&o.config.chart.events.click(k,g,C),g.ctx.events.fireEvent("click",[k,g,C]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(E){o.globals.dom.baseEl.addEventListener(E,n.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(n){var o=this.w,g=n.target.className;if(n.type==="click"){var b=o.globals.dom.baseEl.querySelector(".apexcharts-menu");b&&b.classList.contains("apexcharts-menu-open")&&g!=="apexcharts-menu-icon"&&b.classList.remove("apexcharts-menu-open")}o.globals.clientX=n.type==="touchmove"?n.touches[0].clientX:n.clientX,o.globals.clientY=n.type==="touchmove"?n.touches[0].clientY:n.clientY}}]),_e}(),Ei=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"setCurrentLocaleValues",value:function(n){var o=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(o=this.w.config.chart.locales.concat(window.Apex.chart.locales));var g=o.filter(function(E){return E.name===n})[0];if(!g)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var b=X.extend(At,g);this.w.globals.locale=b.options}}]),_e}(),Xi=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"drawAxis",value:function(n,o){var g,b,E=this.w.globals,k=this.w.config,C=new Li(this.ctx),P=new Mi(this.ctx);E.axisCharts&&n!=="radar"&&(E.isBarHorizontal?(b=P.drawYaxisInversed(0),g=C.drawXaxisInversed(0),E.dom.elGraphical.add(g),E.dom.elGraphical.add(b)):(g=C.drawXaxis(),E.dom.elGraphical.add(g),k.yaxis.map(function(N,W){E.ignoreYAxisIndexes.indexOf(W)===-1&&(b=P.drawYaxis(W),E.dom.Paper.add(b))})))}}]),_e}(),Fi=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"drawXCrosshairs",value:function(){var n=this.w,o=new me(this.ctx),g=new ve(this.ctx),b=n.config.xaxis.crosshairs.fill.gradient,E=n.config.xaxis.crosshairs.dropShadow,k=n.config.xaxis.crosshairs.fill.type,C=b.colorFrom,P=b.colorTo,N=b.opacityFrom,W=b.opacityTo,K=b.stops,ee=E.enabled,ue=E.left,we=E.top,Me=E.blur,Oe=E.color,He=E.opacity,Le=n.config.xaxis.crosshairs.fill.color;if(n.config.xaxis.crosshairs.show){k==="gradient"&&(Le=o.drawGradient("vertical",C,P,N,W,null,K,null));var gt=o.drawRect();n.config.xaxis.crosshairs.width===1&&(gt=o.drawLine()),gt.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:n.globals.gridHeight,width:X.isNumber(n.config.xaxis.crosshairs.width)?n.config.xaxis.crosshairs.width:0,height:n.globals.gridHeight,fill:Le,filter:"none","fill-opacity":n.config.xaxis.crosshairs.opacity,stroke:n.config.xaxis.crosshairs.stroke.color,"stroke-width":n.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":n.config.xaxis.crosshairs.stroke.dashArray}),ee&&(gt=g.dropShadow(gt,{left:ue,top:we,blur:Me,color:Oe,opacity:He})),n.globals.dom.elGraphical.add(gt)}}},{key:"drawYCrosshairs",value:function(){var n=this.w,o=new me(this.ctx),g=n.config.yaxis[0].crosshairs,b=n.globals.barPadForNumericAxis;if(n.config.yaxis[0].crosshairs.show){var E=o.drawLine(-b,0,n.globals.gridWidth+b,0,g.stroke.color,g.stroke.dashArray,g.stroke.width);E.attr({class:"apexcharts-ycrosshairs"}),n.globals.dom.elGraphical.add(E)}var k=o.drawLine(-b,0,n.globals.gridWidth+b,0,g.stroke.color,0,0);k.attr({class:"apexcharts-ycrosshairs-hidden"}),n.globals.dom.elGraphical.add(k)}}]),_e}(),Lr=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"checkResponsiveConfig",value:function(n){var o=this,g=this.w,b=g.config;if(b.responsive.length!==0){var E=b.responsive.slice();E.sort(function(N,W){return N.breakpoint>W.breakpoint?1:W.breakpoint>N.breakpoint?-1:0}).reverse();var k=new Ze({}),C=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=E[0].breakpoint,K=window.innerWidth>0?window.innerWidth:screen.width;if(K>W){var ee=Q.extendArrayProps(k,g.globals.initialConfig,g);N=X.extend(ee,N),N=X.extend(g.config,N),o.overrideResponsiveOptions(N)}else for(var ue=0;ue<E.length;ue++)K<E[ue].breakpoint&&(N=Q.extendArrayProps(k,E[ue].options,g),N=X.extend(g.config,N),o.overrideResponsiveOptions(N))};if(n){var P=Q.extendArrayProps(k,n,g);P=X.extend(g.config,P),C(P=X.extend(P,n))}else C({})}}},{key:"overrideResponsiveOptions",value:function(n){var o=new Ze(n).init({responsiveOverride:!0});this.w.config=o}}]),_e}(),Vr=function(){function _e(n){p(this,_e),this.ctx=n,this.colors=[],this.w=n.w;var o=this.w;this.isColorFn=!1,this.isHeatmapDistributed=o.config.chart.type==="treemap"&&o.config.plotOptions.treemap.distributed||o.config.chart.type==="heatmap"&&o.config.plotOptions.heatmap.distributed,this.isBarDistributed=o.config.plotOptions.bar.distributed&&(o.config.chart.type==="bar"||o.config.chart.type==="rangeBar")}return x(_e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n=this,o=this.w,g=new X;if(o.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(o.config.theme.mode)),o.config.colors===void 0?o.globals.colors=this.predefined():(o.globals.colors=o.config.colors,Array.isArray(o.config.colors)&&o.config.colors.length>0&&typeof o.config.colors[0]=="function"&&(o.globals.colors=o.config.series.map(function(ue,we){var Me=o.config.colors[we];return Me||(Me=o.config.colors[0]),typeof Me=="function"?(n.isColorFn=!0,Me({value:o.globals.axisCharts?o.globals.series[we][0]?o.globals.series[we][0]:0:o.globals.series[we],seriesIndex:we,dataPointIndex:we,w:o})):Me}))),o.globals.seriesColors.map(function(ue,we){ue&&(o.globals.colors[we]=ue)}),o.config.theme.monochrome.enabled){var b=[],E=o.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(E=o.globals.series[0].length*o.globals.series.length);for(var k=o.config.theme.monochrome.color,C=1/(E/o.config.theme.monochrome.shadeIntensity),P=o.config.theme.monochrome.shadeTo,N=0,W=0;W<E;W++){var K=void 0;P==="dark"?(K=g.shadeColor(-1*N,k),N+=C):(K=g.shadeColor(N,k),N+=C),b.push(K)}o.globals.colors=b.slice()}var ee=o.globals.colors.slice();this.pushExtraColors(o.globals.colors),["fill","stroke"].forEach(function(ue){o.config[ue].colors===void 0?o.globals[ue].colors=n.isColorFn?o.config.colors:ee:o.globals[ue].colors=o.config[ue].colors.slice(),n.pushExtraColors(o.globals[ue].colors)}),o.config.dataLabels.style.colors===void 0?o.globals.dataLabels.style.colors=ee:o.globals.dataLabels.style.colors=o.config.dataLabels.style.colors.slice(),this.pushExtraColors(o.globals.dataLabels.style.colors,50),o.config.plotOptions.radar.polygons.fill.colors===void 0?o.globals.radarPolygons.fill.colors=[o.config.theme.mode==="dark"?"#424242":"none"]:o.globals.radarPolygons.fill.colors=o.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(o.globals.radarPolygons.fill.colors,20),o.config.markers.colors===void 0?o.globals.markers.colors=ee:o.globals.markers.colors=o.config.markers.colors.slice(),this.pushExtraColors(o.globals.markers.colors)}},{key:"pushExtraColors",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=this.w,E=o||b.globals.series.length;if(g===null&&(g=this.isBarDistributed||this.isHeatmapDistributed||b.config.chart.type==="heatmap"&&b.config.plotOptions.heatmap.colorScale.inverse),g&&b.globals.series.length&&(E=b.globals.series[b.globals.maxValsInArrayIndex].length*b.globals.series.length),n.length<E)for(var k=E-n.length,C=0;C<k;C++)n.push(n[C])}},{key:"updateThemeOptions",value:function(n){n.chart=n.chart||{},n.tooltip=n.tooltip||{};var o=n.theme.mode||"light",g=n.theme.palette?n.theme.palette:o==="dark"?"palette4":"palette1",b=n.chart.foreColor?n.chart.foreColor:o==="dark"?"#f6f7f8":"#373d3f";return n.tooltip.theme=o,n.chart.foreColor=b,n.theme.palette=g,n}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),_e}(),si=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(n){var o=this.w,g=n==="title"?o.config.title:o.config.subtitle,b=o.globals.svgWidth/2,E=g.offsetY,k="middle";if(g.align==="left"?(b=10,k="start"):g.align==="right"&&(b=o.globals.svgWidth-10,k="end"),b+=g.offsetX,E=E+parseInt(g.style.fontSize,10)+g.margin/2,g.text!==void 0){var C=new me(this.ctx).drawText({x:b,y:E,text:g.text,textAnchor:k,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight,foreColor:g.style.color,opacity:1});C.node.setAttribute("class","apexcharts-".concat(n,"-text")),o.globals.dom.Paper.add(C)}}}]),_e}(),tr=function(){function _e(n){p(this,_e),this.w=n.w,this.dCtx=n}return x(_e,[{key:"getTitleSubtitleCoords",value:function(n){var o=this.w,g=0,b=0,E=n==="title"?o.config.title.floating:o.config.subtitle.floating,k=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-text"));if(k!==null&&!E){var C=k.getBoundingClientRect();g=C.width,b=o.globals.axisCharts?C.height+5:C.height}return{width:g,height:b}}},{key:"getLegendsRect",value:function(){var n=this.w,o=n.globals.dom.baseEl.querySelector(".apexcharts-legend");n.config.legend.height||n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||(o.style.maxHeight=n.globals.svgHeight/2+"px");var g=Object.assign({},X.getBoundingClientRect(o));return o!==null&&!n.config.legend.floating&&n.config.legend.show?this.dCtx.lgRect={x:g.x,y:g.y,height:g.height,width:g.height===0?0:g.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},n.config.legend.position!=="left"&&n.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>n.globals.svgWidth&&(this.dCtx.lgRect.width=n.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(n,o){var g=n;if(this.w.globals.isMultiLineX){var b=o.map(function(k,C){return Array.isArray(k)?k.length:1}),E=Math.max.apply(Math,ye(b));g=o[b.indexOf(E)]}return g}}]),_e}(),yr=function(){function _e(n){p(this,_e),this.w=n.w,this.dCtx=n}return x(_e,[{key:"getxAxisLabelsCoords",value:function(){var n,o=this.w,g=o.globals.labels.slice();if(o.config.xaxis.convertedCatToNumeric&&g.length===0&&(g=o.globals.categoryLabels),o.globals.timescaleLabels.length>0){var b=this.getxAxisTimeScaleLabelsCoords();n={width:b.width,height:b.height},o.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=o.config.legend.position!=="left"&&o.config.legend.position!=="right"||o.config.legend.floating?0:this.dCtx.lgRect.width;var E=o.globals.xLabelFormatter,k=X.getLargestStringFromArr(g),C=this.dCtx.dimHelpers.getLargestStringFromMultiArr(k,g);o.globals.isBarHorizontal&&(C=k=o.globals.yAxisScale[0].result.reduce(function(we,Me){return we.length>Me.length?we:Me},0));var P=new Ot(this.dCtx.ctx),N=k;k=P.xLabelFormat(E,k,N,{i:void 0,dateFormatter:new ht(this.dCtx.ctx).formatDate,w:o}),C=P.xLabelFormat(E,C,N,{i:void 0,dateFormatter:new ht(this.dCtx.ctx).formatDate,w:o}),(o.config.xaxis.convertedCatToNumeric&&k===void 0||String(k).trim()==="")&&(C=k="1");var W=new me(this.dCtx.ctx),K=W.getTextRects(k,o.config.xaxis.labels.style.fontSize),ee=K;if(k!==C&&(ee=W.getTextRects(C,o.config.xaxis.labels.style.fontSize)),(n={width:K.width>=ee.width?K.width:ee.width,height:K.height>=ee.height?K.height:ee.height}).width*g.length>o.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&o.config.xaxis.labels.rotate!==0||o.config.xaxis.labels.rotateAlways){if(!o.globals.isBarHorizontal){o.globals.rotateXLabels=!0;var ue=function(we){return W.getTextRects(we,o.config.xaxis.labels.style.fontSize,o.config.xaxis.labels.style.fontFamily,"rotate(".concat(o.config.xaxis.labels.rotate," 0 0)"),!1)};K=ue(k),k!==C&&(ee=ue(C)),n.height=(K.height>ee.height?K.height:ee.height)/1.5,n.width=K.width>ee.width?K.width:ee.width}}else o.globals.rotateXLabels=!1}return o.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var n=this.w,o=0,g=0;if(n.config.xaxis.title.text!==void 0){var b=new me(this.dCtx.ctx).getTextRects(n.config.xaxis.title.text,n.config.xaxis.title.style.fontSize);o=b.width,g=b.height}return{width:o,height:g}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var n,o=this.w;this.dCtx.timescaleLabels=o.globals.timescaleLabels.slice();var g=this.dCtx.timescaleLabels.map(function(E){return E.value}),b=g.reduce(function(E,k){return E===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):E.length>k.length?E:k},0);return 1.05*(n=new me(this.dCtx.ctx).getTextRects(b,o.config.xaxis.labels.style.fontSize)).width*g.length>o.globals.gridWidth&&o.config.xaxis.labels.rotate!==0&&(o.globals.overlappingXLabels=!0),n}},{key:"additionalPaddingXLabels",value:function(n){var o=this,g=this.w,b=g.globals,E=g.config,k=E.xaxis.type,C=n.width;b.skipLastTimelinelabel=!1,b.skipFirstTimelinelabel=!1;var P=g.config.yaxis[0].opposite&&g.globals.isBarHorizontal,N=function(W,K){(function(ee){return b.collapsedSeriesIndices.indexOf(ee)!==-1})(K)||function(ee){if(o.dCtx.timescaleLabels&&o.dCtx.timescaleLabels.length){var ue=o.dCtx.timescaleLabels[0],we=o.dCtx.timescaleLabels[o.dCtx.timescaleLabels.length-1].position+C/1.75-o.dCtx.yAxisWidthRight,Me=ue.position-C/1.75+o.dCtx.yAxisWidthLeft;we>b.svgWidth-b.translateX&&(b.skipLastTimelinelabel=!0),Me<0&&(b.skipFirstTimelinelabel=!0)}else k==="datetime"?o.dCtx.gridPad.right<C&&!b.rotateXLabels&&(b.skipLastTimelinelabel=!0):k!=="datetime"&&o.dCtx.gridPad.right<C/2-o.dCtx.yAxisWidthRight&&!b.rotateXLabels&&(g.config.xaxis.tickPlacement!=="between"||g.globals.isBarHorizontal)&&(o.dCtx.xPadRight=C/2+1)}()};E.yaxis.forEach(function(W,K){P?(o.dCtx.gridPad.left<C&&(o.dCtx.xPadLeft=C/2+1),o.dCtx.xPadRight=C/2+1):N(0,K)})}}]),_e}(),ar=function(){function _e(n){p(this,_e),this.w=n.w,this.dCtx=n}return x(_e,[{key:"getyAxisLabelsCoords",value:function(){var n=this,o=this.w,g=[],b=10,E=new hi(this.dCtx.ctx);return o.config.yaxis.map(function(k,C){var P=o.globals.yAxisScale[C];if(!E.isYAxisHidden(C)&&k.labels.show&&P.result.length){var N=o.globals.yLabelFormatters[C],W=String(P.niceMin).length>String(P.niceMax).length?P.niceMin:P.niceMax,K=N(W,{seriesIndex:C,dataPointIndex:-1,w:o}),ee=K;if(K!==void 0&&K.length!==0||(K=W),o.globals.isBarHorizontal){b=0;var ue=o.globals.labels.slice();K=N(K=X.getLargestStringFromArr(ue),{seriesIndex:C,dataPointIndex:-1,w:o}),ee=n.dCtx.dimHelpers.getLargestStringFromMultiArr(K,ue)}var we=new me(n.dCtx.ctx),Me=we.getTextRects(K,k.labels.style.fontSize),Oe=Me;K!==ee&&(Oe=we.getTextRects(ee,k.labels.style.fontSize)),g.push({width:(Oe.width>Me.width?Oe.width:Me.width)+b,height:Oe.height>Me.height?Oe.height:Me.height})}else g.push({width:0,height:0})}),g}},{key:"getyAxisTitleCoords",value:function(){var n=this,o=this.w,g=[];return o.config.yaxis.map(function(b,E){if(b.show&&b.title.text!==void 0){var k=new me(n.dCtx.ctx).getTextRects(b.title.text,b.title.style.fontSize,b.title.style.fontFamily,"rotate(-90 0 0)",!1);g.push({width:k.width,height:k.height})}else g.push({width:0,height:0})}),g}},{key:"getTotalYAxisWidth",value:function(){var n=this.w,o=0,g=0,b=0,E=n.globals.yAxisScale.length>1?10:0,k=new hi(this.dCtx.ctx),C=function(P,N){var W=n.config.yaxis[N].floating,K=0;P.width>0&&!W?(K=P.width+E,function(ee){return n.globals.ignoreYAxisIndexes.indexOf(ee)>-1}(N)&&(K=K-P.width-E)):K=W||k.isYAxisHidden(N)?0:5,n.config.yaxis[N].opposite?b+=K:g+=K,o+=K};return n.globals.yLabelsCoords.map(function(P,N){C(P,N)}),n.globals.yTitleCoords.map(function(P,N){C(P,N)}),n.globals.isBarHorizontal&&!n.config.yaxis[0].floating&&(o=n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=g,this.dCtx.yAxisWidthRight=b,o}}]),_e}(),Ir=function(){function _e(n){p(this,_e),this.w=n.w,this.dCtx=n}return x(_e,[{key:"gridPadForColumnsInNumericAxis",value:function(n){var o=this.w;if(o.globals.noData||o.globals.allSeriesCollapsed)return 0;var g=function(W){return W==="bar"||W==="rangeBar"||W==="candlestick"||W==="boxPlot"},b=o.config.chart.type,E=0,k=g(b)?o.config.series.length:1;if(o.globals.comboBarCount>0&&(k=o.globals.comboBarCount),o.globals.collapsedSeries.forEach(function(W){g(W.type)&&(k-=1)}),o.config.chart.stacked&&(k=1),(g(b)||o.globals.comboBarCount>0)&&o.globals.isXNumeric&&!o.globals.isBarHorizontal&&k>0){var C,P,N=Math.abs(o.globals.initialMaxX-o.globals.initialMinX);N<=3&&(N=o.globals.dataPoints),C=N/n,o.globals.minXDiff&&o.globals.minXDiff/C>0&&(P=o.globals.minXDiff/C),P>n/2&&(P/=2),(E=P/k*parseInt(o.config.plotOptions.bar.columnWidth,10)/100)<1&&(E=1),E=E/(k>1?1:1.5)+5,o.globals.barPadForNumericAxis=E}return E}},{key:"gridPadFortitleSubtitle",value:function(){var n=this,o=this.w,g=o.globals,b=this.dCtx.isSparkline||!o.globals.axisCharts?0:10;["title","subtitle"].forEach(function(C){o.config[C].text!==void 0?b+=o.config[C].margin:b+=n.dCtx.isSparkline||!o.globals.axisCharts?0:5}),!o.config.legend.show||o.config.legend.position!=="bottom"||o.config.legend.floating||o.globals.axisCharts||(b+=10);var E=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),k=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");g.gridHeight=g.gridHeight-E.height-k.height-b,g.translateY=g.translateY+E.height+k.height+b}},{key:"setGridXPosForDualYAxis",value:function(n,o){var g=this.w,b=new hi(this.dCtx.ctx);g.config.yaxis.map(function(E,k){g.globals.ignoreYAxisIndexes.indexOf(k)!==-1||E.floating||b.isYAxisHidden(k)||(E.opposite&&(g.globals.translateX=g.globals.translateX-(o[k].width+n[k].width)-parseInt(g.config.yaxis[k].labels.style.fontSize,10)/1.2-12),g.globals.translateX<2&&(g.globals.translateX=2))})}}]),_e}(),Ar=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new tr(this),this.dimYAxis=new ar(this),this.dimXAxis=new yr(this),this.dimGrid=new Ir(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return x(_e,[{key:"plotCoords",value:function(){var n=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var o=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*o,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(o>0?o+4:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var n=this,o=this.w,g=o.globals,b=this.dimYAxis.getyAxisLabelsCoords(),E=this.dimYAxis.getyAxisTitleCoords();o.globals.yLabelsCoords=[],o.globals.yTitleCoords=[],o.config.yaxis.map(function(ee,ue){o.globals.yLabelsCoords.push({width:b[ue].width,index:ue}),o.globals.yTitleCoords.push({width:E[ue].width,index:ue})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var k=this.dimXAxis.getxAxisLabelsCoords(),C=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(k,C),g.translateXAxisY=o.globals.rotateXLabels?this.xAxisHeight/8:-4,g.translateXAxisX=o.globals.rotateXLabels&&o.globals.isXNumeric&&o.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,o.globals.isBarHorizontal&&(g.rotateXLabels=!1,g.translateXAxisY=parseInt(o.config.xaxis.labels.style.fontSize,10)/1.5*-1),g.translateXAxisY=g.translateXAxisY+o.config.xaxis.labels.offsetY,g.translateXAxisX=g.translateXAxisX+o.config.xaxis.labels.offsetX;var P=this.yAxisWidth,N=this.xAxisHeight;g.xAxisLabelsHeight=this.xAxisHeight-C.height,g.xAxisLabelsWidth=this.xAxisWidth,g.xAxisHeight=this.xAxisHeight;var W=10;(o.config.chart.type==="radar"||this.isSparkline)&&(P=0,N=g.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||o.config.chart.type==="treemap")&&(P=0,N=0,W=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(k);var K=function(){g.translateX=P,g.gridHeight=g.svgHeight-n.lgRect.height-N-(n.isSparkline||o.config.chart.type==="treemap"?0:o.globals.rotateXLabels?10:15),g.gridWidth=g.svgWidth-P};switch(o.config.xaxis.position==="top"&&(W=g.xAxisHeight-o.config.xaxis.axisTicks.height-5),o.config.legend.position){case"bottom":g.translateY=W,K();break;case"top":g.translateY=this.lgRect.height+W,K();break;case"left":g.translateY=W,g.translateX=this.lgRect.width+P,g.gridHeight=g.svgHeight-N-12,g.gridWidth=g.svgWidth-this.lgRect.width-P;break;case"right":g.translateY=W,g.translateX=P,g.gridHeight=g.svgHeight-N-12,g.gridWidth=g.svgWidth-this.lgRect.width-P-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(E,b),new Mi(this.ctx).setYAxisXPosition(b,E)}},{key:"setDimensionsForNonAxisCharts",value:function(){var n=this.w,o=n.globals,g=n.config,b=0;n.config.legend.show&&!n.config.legend.floating&&(b=20);var E=g.chart.type==="pie"||g.chart.type==="polarArea"||g.chart.type==="donut"?"pie":"radialBar",k=g.plotOptions[E].offsetY,C=g.plotOptions[E].offsetX;if(!g.legend.show||g.legend.floating)return o.gridHeight=o.svgHeight-g.grid.padding.left+g.grid.padding.right,o.gridWidth=o.gridHeight,o.translateY=k,void(o.translateX=C+(o.svgWidth-o.gridWidth)/2);switch(g.legend.position){case"bottom":o.gridHeight=o.svgHeight-this.lgRect.height-o.goldenPadding,o.gridWidth=o.svgWidth,o.translateY=k-10,o.translateX=C+(o.svgWidth-o.gridWidth)/2;break;case"top":o.gridHeight=o.svgHeight-this.lgRect.height-o.goldenPadding,o.gridWidth=o.svgWidth,o.translateY=this.lgRect.height+k+10,o.translateX=C+(o.svgWidth-o.gridWidth)/2;break;case"left":o.gridWidth=o.svgWidth-this.lgRect.width-b,o.gridHeight=g.chart.height!=="auto"?o.svgHeight:o.gridWidth,o.translateY=k,o.translateX=C+this.lgRect.width+b;break;case"right":o.gridWidth=o.svgWidth-this.lgRect.width-b-5,o.gridHeight=g.chart.height!=="auto"?o.svgHeight:o.gridWidth,o.translateY=k,o.translateX=C+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(n,o){var g=this.w;this.xAxisHeight=(n.height+o.height)*(g.globals.isMultiLineX?1.2:g.globals.LINE_HEIGHT_RATIO)+(g.globals.rotateXLabels?22:10),this.xAxisWidth=n.width,this.xAxisHeight-o.height>g.config.xaxis.labels.maxHeight&&(this.xAxisHeight=g.config.xaxis.labels.maxHeight),g.config.xaxis.labels.minHeight&&this.xAxisHeight<g.config.xaxis.labels.minHeight&&(this.xAxisHeight=g.config.xaxis.labels.minHeight),g.config.xaxis.floating&&(this.xAxisHeight=0);var b=0,E=0;g.config.yaxis.forEach(function(k){b+=k.labels.minWidth,E+=k.labels.maxWidth}),this.yAxisWidth<b&&(this.yAxisWidth=b),this.yAxisWidth>E&&(this.yAxisWidth=E)}}]),_e}(),En=function(){function _e(n){p(this,_e),this.w=n.w,this.lgCtx=n}return x(_e,[{key:"getLegendStyles",value:function(){var n=document.createElement("style");n.setAttribute("type","text/css");var o=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.position-right, .apexcharts-legend.position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return n.appendChild(o),n}},{key:"getLegendBBox",value:function(){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),o=n.width;return{clwh:n.height,clww:o}}},{key:"appendToForeignObject",value:function(){var n=this.w.globals;n.dom.elLegendForeign=document.createElementNS(n.SVGNS,"foreignObject");var o=n.dom.elLegendForeign;o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",n.svgWidth),o.setAttribute("height",n.svgHeight),n.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),o.appendChild(n.dom.elLegendWrap),o.appendChild(this.getLegendStyles()),n.dom.Paper.node.insertBefore(o,n.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(n,o){var g=this,b=this.w;if(b.globals.axisCharts||b.config.chart.type==="radialBar"){b.globals.resized=!0;var E=null,k=null;b.globals.risingSeries=[],b.globals.axisCharts?(E=b.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),k=parseInt(E.getAttribute("data:realIndex"),10)):(E=b.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")),k=parseInt(E.getAttribute("rel"),10)-1),o?[{cs:b.globals.collapsedSeries,csi:b.globals.collapsedSeriesIndices},{cs:b.globals.ancillaryCollapsedSeries,csi:b.globals.ancillaryCollapsedSeriesIndices}].forEach(function(W){g.riseCollapsedSeries(W.cs,W.csi,k)}):this.hideSeries({seriesEl:E,realIndex:k})}else{var C=b.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(n+1,"'] path")),P=b.config.chart.type;if(P==="pie"||P==="polarArea"||P==="donut"){var N=b.config.plotOptions.pie.donut.labels;new me(this.lgCtx.ctx).pathMouseDown(C.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(C.members[0].node,N)}C.fire("click")}}},{key:"hideSeries",value:function(n){var o=n.seriesEl,g=n.realIndex,b=this.w,E=X.clone(b.config.series);if(b.globals.axisCharts){var k=!1;if(b.config.yaxis[g]&&b.config.yaxis[g].show&&b.config.yaxis[g].showAlways&&(k=!0,b.globals.ancillaryCollapsedSeriesIndices.indexOf(g)<0&&(b.globals.ancillaryCollapsedSeries.push({index:g,data:E[g].data.slice(),type:o.parentNode.className.baseVal.split("-")[1]}),b.globals.ancillaryCollapsedSeriesIndices.push(g))),!k){b.globals.collapsedSeries.push({index:g,data:E[g].data.slice(),type:o.parentNode.className.baseVal.split("-")[1]}),b.globals.collapsedSeriesIndices.push(g);var C=b.globals.risingSeries.indexOf(g);b.globals.risingSeries.splice(C,1)}}else b.globals.collapsedSeries.push({index:g,data:E[g]}),b.globals.collapsedSeriesIndices.push(g);for(var P=o.childNodes,N=0;N<P.length;N++)P[N].classList.contains("apexcharts-series-markers-wrap")&&(P[N].classList.contains("apexcharts-hide")?P[N].classList.remove("apexcharts-hide"):P[N].classList.add("apexcharts-hide"));b.globals.allSeriesCollapsed=b.globals.collapsedSeries.length===b.config.series.length,E=this._getSeriesBasedOnCollapsedState(E),this.lgCtx.ctx.updateHelpers._updateSeries(E,b.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(n,o,g){var b=this.w,E=X.clone(b.config.series);if(n.length>0){for(var k=0;k<n.length;k++)n[k].index===g&&(b.globals.axisCharts?(E[g].data=n[k].data.slice(),n.splice(k,1),o.splice(k,1),b.globals.risingSeries.push(g)):(E[g]=n[k].data,n.splice(k,1),o.splice(k,1),b.globals.risingSeries.push(g)));E=this._getSeriesBasedOnCollapsedState(E),this.lgCtx.ctx.updateHelpers._updateSeries(E,b.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(n){var o=this.w;return o.globals.axisCharts?n.forEach(function(g,b){o.globals.collapsedSeriesIndices.indexOf(b)>-1&&(n[b].data=[])}):n.forEach(function(g,b){o.globals.collapsedSeriesIndices.indexOf(b)>-1&&(n[b]=0)}),n}}]),_e}(),kn=function(){function _e(n,o){p(this,_e),this.ctx=n,this.w=n.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new En(this)}return x(_e,[{key:"init",value:function(){var n=this.w,o=n.globals,g=n.config;if((g.legend.showForSingleSeries&&o.series.length===1||this.isBarsDistributed||o.series.length>1||!o.axisCharts)&&g.legend.show){for(;o.dom.elLegendWrap.firstChild;)o.dom.elLegendWrap.removeChild(o.dom.elLegendWrap.firstChild);this.drawLegends(),X.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),g.legend.position==="bottom"||g.legend.position==="top"?this.legendAlignHorizontal():g.legend.position!=="right"&&g.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var n=this,o=this.w,g=o.config.legend.fontFamily,b=o.globals.seriesNames,E=o.globals.colors.slice();if(o.config.chart.type==="heatmap"){var k=o.config.plotOptions.heatmap.colorScale.ranges;b=k.map(function(li){return li.name?li.name:li.from+" - "+li.to}),E=k.map(function(li){return li.color})}else this.isBarsDistributed&&(b=o.globals.labels.slice());for(var C=o.globals.legendFormatter,P=o.config.legend.inverseOrder,N=P?b.length-1:0;P?N>=0:N<=b.length-1;P?N--:N++){var W=C(b[N],{seriesIndex:N,w:o}),K=!1,ee=!1;if(o.globals.collapsedSeries.length>0)for(var ue=0;ue<o.globals.collapsedSeries.length;ue++)o.globals.collapsedSeries[ue].index===N&&(K=!0);if(o.globals.ancillaryCollapsedSeriesIndices.length>0)for(var we=0;we<o.globals.ancillaryCollapsedSeriesIndices.length;we++)o.globals.ancillaryCollapsedSeriesIndices[we]===N&&(ee=!0);var Me=document.createElement("span");Me.classList.add("apexcharts-legend-marker");var Oe=o.config.legend.markers.offsetX,He=o.config.legend.markers.offsetY,Le=o.config.legend.markers.height,gt=o.config.legend.markers.width,B=o.config.legend.markers.strokeWidth,se=o.config.legend.markers.strokeColor,ke=o.config.legend.markers.radius,Ke=Me.style;Ke.background=E[N],Ke.color=E[N],Ke.setProperty("background",E[N],"important"),o.config.legend.markers.fillColors&&o.config.legend.markers.fillColors[N]&&(Ke.background=o.config.legend.markers.fillColors[N]),o.globals.seriesColors[N]!==void 0&&(Ke.background=o.globals.seriesColors[N],Ke.color=o.globals.seriesColors[N]),Ke.height=Array.isArray(Le)?parseFloat(Le[N])+"px":parseFloat(Le)+"px",Ke.width=Array.isArray(gt)?parseFloat(gt[N])+"px":parseFloat(gt)+"px",Ke.left=Array.isArray(Oe)?Oe[N]:Oe,Ke.top=Array.isArray(He)?He[N]:He,Ke.borderWidth=Array.isArray(B)?B[N]:B,Ke.borderColor=Array.isArray(se)?se[N]:se,Ke.borderRadius=Array.isArray(ke)?parseFloat(ke[N])+"px":parseFloat(ke)+"px",o.config.legend.markers.customHTML&&(Array.isArray(o.config.legend.markers.customHTML)?o.config.legend.markers.customHTML[N]&&(Me.innerHTML=o.config.legend.markers.customHTML[N]()):Me.innerHTML=o.config.legend.markers.customHTML()),me.setAttrs(Me,{rel:N+1,"data:collapsed":K||ee}),(K||ee)&&Me.classList.add("apexcharts-inactive-legend");var zt=document.createElement("div"),ai=document.createElement("span");ai.classList.add("apexcharts-legend-text"),ai.innerHTML=Array.isArray(W)?W.join(" "):W;var Xt=o.config.legend.labels.useSeriesColors?o.globals.colors[N]:o.config.legend.labels.colors;Xt||(Xt=o.config.chart.foreColor),ai.style.color=Xt,ai.style.fontSize=parseFloat(o.config.legend.fontSize)+"px",ai.style.fontWeight=o.config.legend.fontWeight,ai.style.fontFamily=g||o.config.chart.fontFamily,me.setAttrs(ai,{rel:N+1,i:N,"data:default-text":encodeURIComponent(W),"data:collapsed":K||ee}),zt.appendChild(Me),zt.appendChild(ai);var Wt=new Q(this.ctx);o.config.legend.showForZeroSeries||Wt.getSeriesTotalByIndex(N)===0&&Wt.seriesHaveSameValues(N)&&!Wt.isSeriesNull(N)&&o.globals.collapsedSeriesIndices.indexOf(N)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(N)===-1&&zt.classList.add("apexcharts-hidden-zero-series"),o.config.legend.showForNullSeries||Wt.isSeriesNull(N)&&o.globals.collapsedSeriesIndices.indexOf(N)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(N)===-1&&zt.classList.add("apexcharts-hidden-null-series"),o.globals.dom.elLegendWrap.appendChild(zt),o.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(o.config.legend.horizontalAlign)),o.globals.dom.elLegendWrap.classList.add("position-"+o.config.legend.position),zt.classList.add("apexcharts-legend-series"),zt.style.margin="".concat(o.config.legend.itemMargin.vertical,"px ").concat(o.config.legend.itemMargin.horizontal,"px"),o.globals.dom.elLegendWrap.style.width=o.config.legend.width?o.config.legend.width+"px":"",o.globals.dom.elLegendWrap.style.height=o.config.legend.height?o.config.legend.height+"px":"",me.setAttrs(zt,{rel:N+1,seriesName:X.escapeString(b[N]),"data:collapsed":K||ee}),(K||ee)&&zt.classList.add("apexcharts-inactive-legend"),o.config.legend.onItemClick.toggleDataSeries||zt.classList.add("apexcharts-no-click")}o.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),o.config.legend.onItemHover.highlightDataSeries&&(o.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),o.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(n,o){var g=this.w,b=g.globals.dom.baseEl.querySelector(".apexcharts-legend"),E=b.getBoundingClientRect(),k=0,C=0;if(g.config.legend.position==="bottom")C+=g.globals.svgHeight-E.height/2;else if(g.config.legend.position==="top"){var P=new Ar(this.ctx),N=P.dimHelpers.getTitleSubtitleCoords("title").height,W=P.dimHelpers.getTitleSubtitleCoords("subtitle").height;C=C+(N>0?N-10:0)+(W>0?W-10:0)}b.style.position="absolute",k=k+n+g.config.legend.offsetX,C=C+o+g.config.legend.offsetY,b.style.left=k+"px",b.style.top=C+"px",g.config.legend.position==="bottom"?(b.style.top="auto",b.style.bottom=5-g.config.legend.offsetY+"px"):g.config.legend.position==="right"&&(b.style.left="auto",b.style.right=25+g.config.legend.offsetX+"px"),["width","height"].forEach(function(K){b.style[K]&&(b.style[K]=parseInt(g.config.legend[K],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var n=this.w;n.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var o=this.legendHelpers.getLegendBBox(),g=new Ar(this.ctx),b=g.dimHelpers.getTitleSubtitleCoords("title"),E=g.dimHelpers.getTitleSubtitleCoords("subtitle"),k=0;n.config.legend.position==="bottom"?k=-o.clwh/1.8:n.config.legend.position==="top"&&(k=b.height+E.height+n.config.title.margin+n.config.subtitle.margin-10),this.setLegendWrapXY(20,k)}},{key:"legendAlignVertical",value:function(){var n=this.w,o=this.legendHelpers.getLegendBBox(),g=0;n.config.legend.position==="left"&&(g=20),n.config.legend.position==="right"&&(g=n.globals.svgWidth-o.clww-10),this.setLegendWrapXY(g,20)}},{key:"onLegendHovered",value:function(n){var o=this.w,g=n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker");if(o.config.chart.type==="heatmap"||this.isBarsDistributed){if(g){var b=parseInt(n.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,b,this.w]),new Se(this.ctx).highlightRangeInSeries(n,n.target)}}else!n.target.classList.contains("apexcharts-inactive-legend")&&g&&new Se(this.ctx).toggleSeriesOnHover(n,n.target)}},{key:"onLegendClick",value:function(n){var o=this.w;if(n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker")){var g=parseInt(n.target.getAttribute("rel"),10)-1,b=n.target.getAttribute("data:collapsed")==="true",E=this.w.config.chart.events.legendClick;typeof E=="function"&&E(this.ctx,g,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,g,this.w]);var k=this.w.config.legend.markers.onClick;typeof k=="function"&&n.target.classList.contains("apexcharts-legend-marker")&&(k(this.ctx,g,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,g,this.w])),o.config.chart.type!=="treemap"&&o.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&o.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(g,b)}}}]),_e}(),oa=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w;var o=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=o.globals.minX,this.maxX=o.globals.maxX}return x(_e,[{key:"createToolbar",value:function(){var n=this,o=this.w,g=function(){return document.createElement("div")},b=g();if(b.setAttribute("class","apexcharts-toolbar"),b.style.top=o.config.chart.toolbar.offsetY+"px",b.style.right=3-o.config.chart.toolbar.offsetX+"px",o.globals.dom.elWrap.appendChild(b),this.elZoom=g(),this.elZoomIn=g(),this.elZoomOut=g(),this.elPan=g(),this.elSelection=g(),this.elZoomReset=g(),this.elMenuIcon=g(),this.elMenu=g(),this.elCustomIcons=[],this.t=o.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var E=0;E<this.t.customIcons.length;E++)this.elCustomIcons.push(g());var k=[],C=function(K,ee,ue){var we=K.toLowerCase();n.t[we]&&o.config.chart.zoom.enabled&&k.push({el:ee,icon:typeof n.t[we]=="string"?n.t[we]:ue,title:n.localeValues[K],class:"apexcharts-".concat(we,"-icon")})};C("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),C("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var P=function(K){n.t[K]&&o.config.chart[K].enabled&&k.push({el:K==="zoom"?n.elZoom:n.elSelection,icon:typeof n.t[K]=="string"?n.t[K]:K==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:n.localeValues[K==="zoom"?"selectionZoom":"selection"],class:o.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(K,"-icon")})};P("zoom"),P("selection"),this.t.pan&&o.config.chart.zoom.enabled&&k.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:o.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),C("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&k.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var N=0;N<this.elCustomIcons.length;N++)k.push({el:this.elCustomIcons[N],icon:this.t.customIcons[N].icon,title:this.t.customIcons[N].title,index:this.t.customIcons[N].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[N].class});k.forEach(function(K,ee){K.index&&X.moveIndexInArray(k,ee,K.index)});for(var W=0;W<k.length;W++)me.setAttrs(k[W].el,{class:k[W].class,title:k[W].title}),k[W].el.innerHTML=k[W].icon,b.appendChild(k[W].el);this._createHamburgerMenu(b),o.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):o.globals.panEnabled?this.elPan.classList.add(this.selectedClass):o.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(n){this.elMenuItems=[],n.appendChild(this.elMenu),me.setAttrs(this.elMenu,{class:"apexcharts-menu"});var o=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||o.splice(2,1);for(var g=0;g<o.length;g++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[g].innerHTML=o[g].title,me.setAttrs(this.elMenuItems[g],{class:"apexcharts-menu-item ".concat(o[g].name),title:o[g].title}),this.elMenu.appendChild(this.elMenuItems[g])}},{key:"addToolbarEventListeners",value:function(){var n=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(g){g.classList.contains("exportSVG")?g.addEventListener("click",n.handleDownload.bind(n,"svg")):g.classList.contains("exportPNG")?g.addEventListener("click",n.handleDownload.bind(n,"png")):g.classList.contains("exportCSV")&&g.addEventListener("click",n.handleDownload.bind(n,"csv"))});for(var o=0;o<this.t.customIcons.length;o++)this.elCustomIcons[o].addEventListener("click",this.t.customIcons[o].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach(function(o){o.ctx.toolbar.toggleOtherControls();var g=n==="selection"?o.ctx.toolbar.elSelection:o.ctx.toolbar.elZoom,b=n==="selection"?"selectionEnabled":"zoomEnabled";o.w.globals[b]=!o.w.globals[b],g.classList.contains(o.ctx.toolbar.selectedClass)?g.classList.remove(o.ctx.toolbar.selectedClass):g.classList.add(o.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var n=this.w;this.elZoom||(this.elZoom=n.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=n.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=n.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(n){this.toggleOtherControls(),n==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var o=n==="pan"?this.elPan:this.elZoom,g=n==="pan"?this.elZoom:this.elPan;o&&o.classList.add(this.selectedClass),g&&g.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls(),n.w.globals.panEnabled=!n.w.globals.panEnabled,n.ctx.toolbar.elPan.classList.contains(n.ctx.toolbar.selectedClass)?n.ctx.toolbar.elPan.classList.remove(n.ctx.toolbar.selectedClass):n.ctx.toolbar.elPan.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var n=this,o=this.w;o.globals.panEnabled=!1,o.globals.zoomEnabled=!1,o.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(g){g&&g.classList.remove(n.selectedClass)})}},{key:"handleZoomIn",value:function(){var n=this.w;n.globals.isTimelineBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY);var o=(this.minX+this.maxX)/2,g=(this.minX+o)/2,b=(this.maxX+o)/2,E=this._getNewMinXMaxX(g,b);n.globals.disableZoomIn||this.zoomUpdateOptions(E.minX,E.maxX)}},{key:"handleZoomOut",value:function(){var n=this.w;if(n.globals.isTimelineBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY),!(n.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var o=(this.minX+this.maxX)/2,g=this.minX-(o-this.minX),b=this.maxX-(o-this.maxX),E=this._getNewMinXMaxX(g,b);n.globals.disableZoomOut||this.zoomUpdateOptions(E.minX,E.maxX)}}},{key:"_getNewMinXMaxX",value:function(n,o){var g=this.w.config.xaxis.convertedCatToNumeric;return{minX:g?Math.floor(n):n,maxX:g?Math.floor(o):o}}},{key:"zoomUpdateOptions",value:function(n,o){var g=this.w;if(n!==void 0||o!==void 0){if(!(g.config.xaxis.convertedCatToNumeric&&(n<1&&(n=1,o=g.globals.dataPoints),o-n<2))){var b={min:n,max:o},E=this.getBeforeZoomRange(b);E&&(b=E.xaxis);var k={xaxis:b},C=X.clone(g.globals.initialConfig.yaxis);g.config.chart.zoom.autoScaleYaxis&&(C=new Vt(this.ctx).autoScaleY(this.ctx,C,{xaxis:b})),g.config.chart.group||(k.yaxis=C),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(k,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(b,C)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(n,o){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:n,yaxis:o})}},{key:"getBeforeZoomRange",value:function(n,o){var g=null;return typeof this.ev.beforeZoom=="function"&&(g=this.ev.beforeZoom(this,{xaxis:n,yaxis:o})),g}},{key:"toggleMenu",value:function(){var n=this;window.setTimeout(function(){n.elMenu.classList.contains("apexcharts-menu-open")?n.elMenu.classList.remove("apexcharts-menu-open"):n.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(n){var o=this.w,g=new gi(this.ctx);switch(n){case"svg":g.exportToSVG(this.ctx);break;case"png":g.exportToPng(this.ctx);break;case"csv":g.exportToCSV({series:o.config.series,columnDelimiter:o.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(n){this.ctx.getSyncedCharts().forEach(function(o){var g=o.w;if(g.globals.lastXAxis.min=void 0,g.globals.lastXAxis.max=void 0,o.updateHelpers.revertDefaultAxisMinMax(),typeof g.config.chart.events.beforeResetZoom=="function"){var b=g.config.chart.events.beforeResetZoom(o,g);b&&o.updateHelpers.revertDefaultAxisMinMax(b)}typeof g.config.chart.events.zoomed=="function"&&o.ctx.toolbar.zoomCallback({min:g.config.xaxis.min,max:g.config.xaxis.max}),g.globals.zoomed=!1;var E=o.ctx.series.emptyCollapsedSeries(X.clone(g.globals.initialSeries));o.updateHelpers._updateSeries(E,g.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),_e}(),Ge=function(_e){H(o,oa);var n=de(o);function o(g){var b;return p(this,o),(b=n.call(this,g)).ctx=g,b.w=g.w,b.dragged=!1,b.graphics=new me(b.ctx),b.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],b.clientX=0,b.clientY=0,b.startX=0,b.endX=0,b.dragX=0,b.startY=0,b.endY=0,b.dragY=0,b.moveDirection="none",b}return x(o,[{key:"init",value:function(g){var b=this,E=g.xyRatios,k=this.w,C=this;this.xyRatios=E,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=k.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),k.globals.dom.elGraphical.add(this.zoomRect),k.globals.dom.elGraphical.add(this.selectionRect),k.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:k.globals.gridWidth,maxY:k.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):k.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:k.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=k.globals.dom.baseEl.querySelector("".concat(k.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(P){b.hoverArea.addEventListener(P,C.svgMouseEvents.bind(C,E),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(g,b){var E=this.w,k=this,C=this.ctx.toolbar,P=E.globals.zoomEnabled?E.config.chart.zoom.type:E.config.chart.selection.type,N=E.config.chart.toolbar.autoSelected;b.shiftKey?(this.shiftWasPressed=!0,C.enableZoomPanFromToolbar(N==="pan"?"zoom":"pan")):this.shiftWasPressed&&(C.enableZoomPanFromToolbar(N),this.shiftWasPressed=!1);var W=b.target.classList;if(!(W.contains("apexcharts-selection-rect")||W.contains("apexcharts-legend-marker")||W.contains("apexcharts-legend-text")||b.target.parentNode.classList.contains("apexcharts-toolbar"))){if(k.clientX=b.type==="touchmove"||b.type==="touchstart"?b.touches[0].clientX:b.type==="touchend"?b.changedTouches[0].clientX:b.clientX,k.clientY=b.type==="touchmove"||b.type==="touchstart"?b.touches[0].clientY:b.type==="touchend"?b.changedTouches[0].clientY:b.clientY,b.type==="mousedown"&&b.which===1){var K=k.gridRect.getBoundingClientRect();k.startX=k.clientX-K.left,k.startY=k.clientY-K.top,k.dragged=!1,k.w.globals.mousedown=!0}if((b.type==="mousemove"&&b.which===1||b.type==="touchmove")&&(k.dragged=!0,E.globals.panEnabled?(E.globals.selection=null,k.w.globals.mousedown&&k.panDragging({context:k,zoomtype:P,xyRatios:g})):(k.w.globals.mousedown&&E.globals.zoomEnabled||k.w.globals.mousedown&&E.globals.selectionEnabled)&&(k.selection=k.selectionDrawing({context:k,zoomtype:P}))),b.type==="mouseup"||b.type==="touchend"||b.type==="mouseleave"){var ee=k.gridRect.getBoundingClientRect();k.w.globals.mousedown&&(k.endX=k.clientX-ee.left,k.endY=k.clientY-ee.top,k.dragX=Math.abs(k.endX-k.startX),k.dragY=Math.abs(k.endY-k.startY),(E.globals.zoomEnabled||E.globals.selectionEnabled)&&k.selectionDrawn({context:k,zoomtype:P}),E.globals.panEnabled&&E.config.xaxis.convertedCatToNumeric&&k.delayedPanScrolled()),E.globals.zoomEnabled&&k.hideSelectionRect(this.selectionRect),k.dragged=!1,k.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var g=this.w;if(this.selectionRect){var b=this.selectionRect.node.getBoundingClientRect();b.width>0&&b.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:g.globals.gridWidth,maxY:g.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var g=this.w,b=this.xyRatios;if(!g.globals.zoomEnabled){if(g.globals.selection!==void 0&&g.globals.selection!==null)this.drawSelectionRect(g.globals.selection);else if(g.config.chart.selection.xaxis.min!==void 0&&g.config.chart.selection.xaxis.max!==void 0){var E=(g.config.chart.selection.xaxis.min-g.globals.minX)/b.xRatio,k={x:E,y:0,width:g.globals.gridWidth-(g.globals.maxX-g.config.chart.selection.xaxis.max)/b.xRatio-E,height:g.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(k),this.makeSelectionRectDraggable(),typeof g.config.chart.events.selection=="function"&&g.config.chart.events.selection(this.ctx,{xaxis:{min:g.config.chart.selection.xaxis.min,max:g.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(g){var b=g.x,E=g.y,k=g.width,C=g.height,P=g.translateX,N=P===void 0?0:P,W=g.translateY,K=W===void 0?0:W,ee=this.w,ue=this.zoomRect,we=this.selectionRect;if(this.dragged||ee.globals.selection!==null){var Me={transform:"translate("+N+", "+K+")"};ee.globals.zoomEnabled&&this.dragged&&(k<0&&(k=1),ue.attr({x:b,y:E,width:k,height:C,fill:ee.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":ee.config.chart.zoom.zoomedArea.fill.opacity,stroke:ee.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":ee.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":ee.config.chart.zoom.zoomedArea.stroke.opacity}),me.setAttrs(ue.node,Me)),ee.globals.selectionEnabled&&(we.attr({x:b,y:E,width:k>0?k:0,height:C>0?C:0,fill:ee.config.chart.selection.fill.color,"fill-opacity":ee.config.chart.selection.fill.opacity,stroke:ee.config.chart.selection.stroke.color,"stroke-width":ee.config.chart.selection.stroke.width,"stroke-dasharray":ee.config.chart.selection.stroke.dashArray,"stroke-opacity":ee.config.chart.selection.stroke.opacity}),me.setAttrs(we.node,Me))}}},{key:"hideSelectionRect",value:function(g){g&&g.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(g){var b=g.context,E=g.zoomtype,k=this.w,C=b,P=this.gridRect.getBoundingClientRect(),N=C.startX-1,W=C.startY,K=!1,ee=!1,ue=C.clientX-P.left-N,we=C.clientY-P.top-W,Me={};return Math.abs(ue+N)>k.globals.gridWidth?ue=k.globals.gridWidth-N:C.clientX-P.left<0&&(ue=N),N>C.clientX-P.left&&(K=!0,ue=Math.abs(ue)),W>C.clientY-P.top&&(ee=!0,we=Math.abs(we)),Me=E==="x"?{x:K?N-ue:N,y:0,width:ue,height:k.globals.gridHeight}:E==="y"?{x:0,y:ee?W-we:W,width:k.globals.gridWidth,height:we}:{x:K?N-ue:N,y:ee?W-we:W,width:ue,height:we},C.drawSelectionRect(Me),C.selectionDragging("resizing"),Me}},{key:"selectionDragging",value:function(g,b){var E=this,k=this.w,C=this.xyRatios,P=this.selectionRect,N=0;g==="resizing"&&(N=30);var W=function(ee){return parseFloat(P.node.getAttribute(ee))},K={x:W("x"),y:W("y"),width:W("width"),height:W("height")};k.globals.selection=K,typeof k.config.chart.events.selection=="function"&&k.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var ee=E.gridRect.getBoundingClientRect(),ue=P.node.getBoundingClientRect(),we={xaxis:{min:k.globals.xAxisScale.niceMin+(ue.left-ee.left)*C.xRatio,max:k.globals.xAxisScale.niceMin+(ue.right-ee.left)*C.xRatio},yaxis:{min:k.globals.yAxisScale[0].niceMin+(ee.bottom-ue.bottom)*C.yRatio[0],max:k.globals.yAxisScale[0].niceMax-(ue.top-ee.top)*C.yRatio[0]}};k.config.chart.events.selection(E.ctx,we),k.config.chart.brush.enabled&&k.config.chart.events.brushScrolled!==void 0&&k.config.chart.events.brushScrolled(E.ctx,we)},N))}},{key:"selectionDrawn",value:function(g){var b=g.context,E=g.zoomtype,k=this.w,C=b,P=this.xyRatios,N=this.ctx.toolbar;if(C.startX>C.endX){var W=C.startX;C.startX=C.endX,C.endX=W}if(C.startY>C.endY){var K=C.startY;C.startY=C.endY,C.endY=K}var ee=void 0,ue=void 0;k.globals.isTimelineBar?(ee=k.globals.yAxisScale[0].niceMin+C.startX*P.invertedYRatio,ue=k.globals.yAxisScale[0].niceMin+C.endX*P.invertedYRatio):(ee=k.globals.xAxisScale.niceMin+C.startX*P.xRatio,ue=k.globals.xAxisScale.niceMin+C.endX*P.xRatio);var we=[],Me=[];if(k.config.yaxis.forEach(function(Ke,zt){we.push(k.globals.yAxisScale[zt].niceMax-P.yRatio[zt]*C.startY),Me.push(k.globals.yAxisScale[zt].niceMax-P.yRatio[zt]*C.endY)}),C.dragged&&(C.dragX>10||C.dragY>10)&&ee!==ue){if(k.globals.zoomEnabled){var Oe=X.clone(k.globals.initialConfig.yaxis),He=X.clone(k.globals.initialConfig.xaxis);if(k.globals.zoomed=!0,k.config.xaxis.convertedCatToNumeric&&(ee=Math.floor(ee),ue=Math.floor(ue),ee<1&&(ee=1,ue=k.globals.dataPoints),ue-ee<2&&(ue=ee+1)),E!=="xy"&&E!=="x"||(He={min:ee,max:ue}),E!=="xy"&&E!=="y"||Oe.forEach(function(Ke,zt){Oe[zt].min=Me[zt],Oe[zt].max=we[zt]}),k.config.chart.zoom.autoScaleYaxis){var Le=new Vt(C.ctx);Oe=Le.autoScaleY(C.ctx,Oe,{xaxis:He})}if(N){var gt=N.getBeforeZoomRange(He,Oe);gt&&(He=gt.xaxis?gt.xaxis:He,Oe=gt.yaxis?gt.yaxis:Oe)}var B={xaxis:He};k.config.chart.group||(B.yaxis=Oe),C.ctx.updateHelpers._updateOptions(B,!1,C.w.config.chart.animations.dynamicAnimation.enabled),typeof k.config.chart.events.zoomed=="function"&&N.zoomCallback(He,Oe)}else if(k.globals.selectionEnabled){var se,ke=null;se={min:ee,max:ue},E!=="xy"&&E!=="y"||(ke=X.clone(k.config.yaxis)).forEach(function(Ke,zt){ke[zt].min=Me[zt],ke[zt].max=we[zt]}),k.globals.selection=C.selection,typeof k.config.chart.events.selection=="function"&&k.config.chart.events.selection(C.ctx,{xaxis:se,yaxis:ke})}}}},{key:"panDragging",value:function(g){var b=g.context,E=this.w,k=b;if(E.globals.lastClientPosition.x!==void 0){var C=E.globals.lastClientPosition.x-k.clientX,P=E.globals.lastClientPosition.y-k.clientY;Math.abs(C)>Math.abs(P)&&C>0?this.moveDirection="left":Math.abs(C)>Math.abs(P)&&C<0?this.moveDirection="right":Math.abs(P)>Math.abs(C)&&P>0?this.moveDirection="up":Math.abs(P)>Math.abs(C)&&P<0&&(this.moveDirection="down")}E.globals.lastClientPosition={x:k.clientX,y:k.clientY};var N=E.globals.isTimelineBar?E.globals.minY:E.globals.minX,W=E.globals.isTimelineBar?E.globals.maxY:E.globals.maxX;E.config.xaxis.convertedCatToNumeric||k.panScrolled(N,W)}},{key:"delayedPanScrolled",value:function(){var g=this.w,b=g.globals.minX,E=g.globals.maxX,k=(g.globals.maxX-g.globals.minX)/2;this.moveDirection==="left"?(b=g.globals.minX+k,E=g.globals.maxX+k):this.moveDirection==="right"&&(b=g.globals.minX-k,E=g.globals.maxX-k),b=Math.floor(b),E=Math.floor(E),this.updateScrolledChart({xaxis:{min:b,max:E}},b,E)}},{key:"panScrolled",value:function(g,b){var E=this.w,k=this.xyRatios,C=X.clone(E.globals.initialConfig.yaxis),P=k.xRatio,N=E.globals.minX,W=E.globals.maxX;E.globals.isTimelineBar&&(P=k.invertedYRatio,N=E.globals.minY,W=E.globals.maxY),this.moveDirection==="left"?(g=N+E.globals.gridWidth/15*P,b=W+E.globals.gridWidth/15*P):this.moveDirection==="right"&&(g=N-E.globals.gridWidth/15*P,b=W-E.globals.gridWidth/15*P),E.globals.isTimelineBar||(g<E.globals.initialMinX||b>E.globals.initialMaxX)&&(g=N,b=W);var K={min:g,max:b};E.config.chart.zoom.autoScaleYaxis&&(C=new Vt(this.ctx).autoScaleY(this.ctx,C,{xaxis:K}));var ee={xaxis:{min:g,max:b}};E.config.chart.group||(ee.yaxis=C),this.updateScrolledChart(ee,g,b)}},{key:"updateScrolledChart",value:function(g,b,E){var k=this.w;this.ctx.updateHelpers._updateOptions(g,!1,!1),typeof k.config.chart.events.scrolled=="function"&&k.config.chart.events.scrolled(this.ctx,{xaxis:{min:b,max:E}})}}]),o}(),ma=function(){function _e(n){p(this,_e),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx}return x(_e,[{key:"getNearestValues",value:function(n){var o=n.hoverArea,g=n.elGrid,b=n.clientX,E=n.clientY,k=this.w,C=k.globals.gridWidth,P=C/(k.globals.dataPoints-1),N=g.getBoundingClientRect(),W=this.hasBars();!k.globals.comboCharts&&!W||k.config.xaxis.convertedCatToNumeric||(P=C/k.globals.dataPoints);var K=b-N.left-k.globals.barPadForNumericAxis,ee=E-N.top;K<0||ee<0||K>k.globals.gridWidth||ee>k.globals.gridHeight?(o.classList.remove("hovering-zoom"),o.classList.remove("hovering-pan")):k.globals.zoomEnabled?(o.classList.remove("hovering-pan"),o.classList.add("hovering-zoom")):k.globals.panEnabled&&(o.classList.remove("hovering-zoom"),o.classList.add("hovering-pan"));var ue=Math.round(K/P);W&&!k.config.xaxis.convertedCatToNumeric&&(ue=Math.ceil(K/P),ue-=1);for(var we,Me=null,Oe=null,He=[],Le=0;Le<k.globals.seriesXvalues.length;Le++)He.push([k.globals.seriesXvalues[Le][0]-1e-6].concat(k.globals.seriesXvalues[Le]));return He=He.map(function(gt){return gt.filter(function(B){return B})}),we=k.globals.seriesYvalues.map(function(gt){return gt.filter(function(B){return X.isNumber(B)})}),k.globals.isXNumeric&&(Me=(Oe=this.closestInMultiArray(K,ee,He,we)).index,ue=Oe.j,Me!==null&&(He=k.globals.seriesXvalues[Me],ue=(Oe=this.closestInArray(K,He)).index)),k.globals.capturedSeriesIndex=Me===null?-1:Me,(!ue||ue<1)&&(ue=0),k.globals.capturedDataPointIndex=ue,{capturedSeries:Me,j:ue,hoverX:K,hoverY:ee}}},{key:"closestInMultiArray",value:function(n,o,g,b){var E=this.w,k=0,C=null,P=-1;E.globals.series.length>1?k=this.getFirstActiveXArray(g):C=0;var N=b[k][0],W=g[k][0],K=Math.abs(n-W),ee=Math.abs(o-N),ue=ee+K;return b.map(function(we,Me){we.map(function(Oe,He){var Le=Math.abs(o-b[Me][He]),gt=Math.abs(n-g[Me][He]),B=gt+Le;B<ue&&(ue=B,K=gt,ee=Le,C=Me,P=He)})}),{index:C,j:P}}},{key:"getFirstActiveXArray",value:function(n){for(var o=0,g=n.map(function(E,k){return E.length>0?k:-1}),b=0;b<g.length;b++)if(g[b]!==-1){o=g[b];break}return o}},{key:"closestInArray",value:function(n,o){for(var g=o[0],b=null,E=Math.abs(n-g),k=0;k<o.length;k++){var C=Math.abs(n-o[k]);C<E&&(E=C,b=k)}return{index:b}}},{key:"isXoverlap",value:function(n){var o=[],g=this.w.globals.seriesX.filter(function(E){return E[0]!==void 0});if(g.length>0)for(var b=0;b<g.length-1;b++)g[b][n]!==void 0&&g[b+1][n]!==void 0&&g[b][n]!==g[b+1][n]&&o.push("unEqual");return o.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var n=!0,o=this.w.globals.initialSeries,g=0;g<o.length-1;g++)if(o[g].data.length!==o[g+1].data.length){n=!1;break}return n}},{key:"getBarsHeight",value:function(n){return ye(n).reduce(function(o,g){return o+g.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(n=ye(n)).sort(function(g,b){return Number(b.getAttribute("data:realIndex"))<Number(g.getAttribute("data:realIndex"))?0:-1});var o=[];return n.forEach(function(g){o.push(g.querySelector(".apexcharts-marker"))}),o}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(n){var o=this.w,g=o.config.markers.hover.size;return g===void 0&&(g=o.globals.markers.size[n]+o.config.markers.hover.sizeOffset),g}},{key:"toggleAllTooltipSeriesGroups",value:function(n){var o=this.w,g=this.ttCtx;g.allTooltipSeriesGroups.length===0&&(g.allTooltipSeriesGroups=o.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var b=g.allTooltipSeriesGroups,E=0;E<b.length;E++)n==="enable"?(b[E].classList.add("apexcharts-active"),b[E].style.display=o.config.tooltip.items.display):(b[E].classList.remove("apexcharts-active"),b[E].style.display="none")}}]),_e}(),ra=function(){function _e(n){p(this,_e),this.w=n.w,this.ctx=n.ctx,this.ttCtx=n,this.tooltipUtil=new ma(n)}return x(_e,[{key:"drawSeriesTexts",value:function(n){var o=n.shared,g=o===void 0||o,b=n.ttItems,E=n.i,k=E===void 0?0:E,C=n.j,P=C===void 0?null:C,N=n.y1,W=n.y2,K=n.e,ee=this.w;ee.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:k,j:P,y1:N,y2:W,w:ee}):this.toggleActiveInactiveSeries(g);var ue=this.getValuesToPrint({i:k,j:P});this.printLabels({i:k,j:P,values:ue,ttItems:b,shared:g,e:K});var we=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=we.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=we.getBoundingClientRect().height}},{key:"printLabels",value:function(n){var o,g=this,b=n.i,E=n.j,k=n.values,C=n.ttItems,P=n.shared,N=n.e,W=this.w,K=k.xVal,ee=k.zVal,ue=k.xAxisTTVal,we="",Me=W.globals.colors[b];E!==null&&W.config.plotOptions.bar.distributed&&(Me=W.globals.colors[E]);for(var Oe=function(gt,B){var se=g.getFormatters(b);we=g.getSeriesName({fn:se.yLbTitleFormatter,index:b,seriesIndex:b,j:E}),W.config.chart.type==="treemap"&&(we=se.yLbTitleFormatter(String(W.config.series[b].data[E].x),{series:W.globals.series,seriesIndex:b,dataPointIndex:E,w:W}));var ke=W.config.tooltip.inverseOrder?B:gt;if(W.globals.axisCharts){var Ke=function(zt){return se.yLbFormatter(W.globals.series[zt][E],{series:W.globals.series,seriesIndex:zt,dataPointIndex:E,w:W})};P?(se=g.getFormatters(ke),we=g.getSeriesName({fn:se.yLbTitleFormatter,index:ke,seriesIndex:b,j:E}),Me=W.globals.colors[ke],o=Ke(ke)):(N&&N.target&&N.target.getAttribute("fill")&&(Me=N.target.getAttribute("fill")),o=Ke(b))}E===null&&(o=se.yLbFormatter(W.globals.series[b],L(L({},W),{},{seriesIndex:b,dataPointIndex:b}))),g.DOMHandling({i:b,t:ke,j:E,ttItems:C,values:{val:o,xVal:K,xAxisTTVal:ue,zVal:ee},seriesName:we,shared:P,pColor:Me})},He=0,Le=W.globals.series.length-1;He<W.globals.series.length;He++,Le--)Oe(He,Le)}},{key:"getFormatters",value:function(n){var o,g=this.w,b=g.globals.yLabelFormatters[n];return g.globals.ttVal!==void 0?Array.isArray(g.globals.ttVal)?(b=g.globals.ttVal[n]&&g.globals.ttVal[n].formatter,o=g.globals.ttVal[n]&&g.globals.ttVal[n].title&&g.globals.ttVal[n].title.formatter):(b=g.globals.ttVal.formatter,typeof g.globals.ttVal.title.formatter=="function"&&(o=g.globals.ttVal.title.formatter)):o=g.config.tooltip.y.title.formatter,typeof b!="function"&&(b=g.globals.yLabelFormatters[0]?g.globals.yLabelFormatters[0]:function(E){return E}),typeof o!="function"&&(o=function(E){return E}),{yLbFormatter:b,yLbTitleFormatter:o}}},{key:"getSeriesName",value:function(n){var o=n.fn,g=n.index,b=n.seriesIndex,E=n.j,k=this.w;return o(String(k.globals.seriesNames[g]),{series:k.globals.series,seriesIndex:b,dataPointIndex:E,w:k})}},{key:"DOMHandling",value:function(n){n.i;var o=n.t,g=(n.j,n.ttItems),b=n.values,E=n.seriesName,k=n.shared,C=n.pColor,P=this.w,N=this.ttCtx,W=b.val,K=b.xVal,ee=b.xAxisTTVal,ue=b.zVal,we=null;we=g[o].children,P.config.tooltip.fillSeriesColor&&(g[o].style.backgroundColor=C,we[0].style.display="none"),N.showTooltipTitle&&(N.tooltipTitle===null&&(N.tooltipTitle=P.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),N.tooltipTitle.innerHTML=K),N.blxaxisTooltip&&(N.xaxisTooltipText.innerHTML=ee!==""?ee:K);var Me=g[o].querySelector(".apexcharts-tooltip-text-label");Me&&(Me.innerHTML=E||"");var Oe=g[o].querySelector(".apexcharts-tooltip-text-value");Oe&&(Oe.innerHTML=W!==void 0?W:""),we[0]&&we[0].classList.contains("apexcharts-tooltip-marker")&&(P.config.tooltip.marker.fillColors&&Array.isArray(P.config.tooltip.marker.fillColors)&&(C=P.config.tooltip.marker.fillColors[o]),we[0].style.backgroundColor=C),P.config.tooltip.marker.show||(we[0].style.display="none"),ue!==null&&(g[o].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=P.config.tooltip.z.title,g[o].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=ue!==void 0?ue:""),k&&we[0]&&(W==null||P.globals.collapsedSeriesIndices.indexOf(o)>-1?we[0].parentNode.style.display="none":we[0].parentNode.style.display=P.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(n){var o=this.w;if(n)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var g=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");g&&(g.classList.add("apexcharts-active"),g.style.display=o.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(n){var o=n.i,g=n.j,b=this.w,E=this.ctx.series.filteredSeriesX(),k="",C="",P=null,N=null,W={series:b.globals.series,seriesIndex:o,dataPointIndex:g,w:b},K=b.globals.ttZFormatter;g===null?N=b.globals.series[o]:b.globals.isXNumeric&&b.config.chart.type!=="treemap"?(k=E[o][g],E[o].length===0&&(k=E[this.tooltipUtil.getFirstActiveXArray(E)][g])):k=b.globals.labels[g]!==void 0?b.globals.labels[g]:"";var ee=k;return b.globals.isXNumeric&&b.config.xaxis.type==="datetime"?k=new Ot(this.ctx).xLabelFormat(b.globals.ttKeyFormatter,ee,ee,{i:void 0,dateFormatter:new ht(this.ctx).formatDate,w:this.w}):k=b.globals.isBarHorizontal?b.globals.yLabelFormatters[0](ee,W):b.globals.xLabelFormatter(ee,W),b.config.tooltip.x.formatter!==void 0&&(k=b.globals.ttKeyFormatter(ee,W)),b.globals.seriesZ.length>0&&b.globals.seriesZ[o].length>0&&(P=K(b.globals.seriesZ[o][g],b)),C=typeof b.config.xaxis.tooltip.formatter=="function"?b.globals.xaxisTooltipFormatter(ee,W):k,{val:Array.isArray(N)?N.join(" "):N,xVal:Array.isArray(k)?k.join(" "):k,xAxisTTVal:Array.isArray(C)?C.join(" "):C,zVal:P}}},{key:"handleCustomTooltip",value:function(n){var o=n.i,g=n.j,b=n.y1,E=n.y2,k=n.w,C=this.ttCtx.getElTooltip(),P=k.config.tooltip.custom;Array.isArray(P)&&P[o]&&(P=P[o]),C.innerHTML=P({ctx:this.ctx,series:k.globals.series,seriesIndex:o,dataPointIndex:g,y1:b,y2:E,w:k})}}]),_e}(),mn=function(){function _e(n){p(this,_e),this.ttCtx=n,this.ctx=n.ctx,this.w=n.w}return x(_e,[{key:"moveXCrosshairs",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=this.ttCtx,b=this.w,E=g.getElXCrosshairs(),k=n-g.xcrosshairsWidth/2,C=b.globals.labels.slice().length;if(o!==null&&(k=b.globals.gridWidth/C*o),E!==null&&(E.setAttribute("x",k),E.setAttribute("x1",k),E.setAttribute("x2",k),E.setAttribute("y2",b.globals.gridHeight),E.classList.add("apexcharts-active")),k<0&&(k=0),k>b.globals.gridWidth&&(k=b.globals.gridWidth),g.blxaxisTooltip){var P=k;b.config.xaxis.crosshairs.width!=="tickWidth"&&b.config.xaxis.crosshairs.width!=="barWidth"||(P=k+g.xcrosshairsWidth/2),this.moveXAxisTooltip(P)}}},{key:"moveYCrosshairs",value:function(n){var o=this.ttCtx;o.ycrosshairs!==null&&me.setAttrs(o.ycrosshairs,{y1:n,y2:n}),o.ycrosshairsHidden!==null&&me.setAttrs(o.ycrosshairsHidden,{y1:n,y2:n})}},{key:"moveXAxisTooltip",value:function(n){var o=this.w,g=this.ttCtx;if(g.xaxisTooltip!==null){g.xaxisTooltip.classList.add("apexcharts-active");var b=g.xaxisOffY+o.config.xaxis.tooltip.offsetY+o.globals.translateY+1+o.config.xaxis.offsetY;if(n-=g.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(n)){n+=o.globals.translateX;var E;E=new me(this.ctx).getTextRects(g.xaxisTooltipText.innerHTML),g.xaxisTooltipText.style.minWidth=E.width+"px",g.xaxisTooltip.style.left=n+"px",g.xaxisTooltip.style.top=b+"px"}}}},{key:"moveYAxisTooltip",value:function(n){var o=this.w,g=this.ttCtx;g.yaxisTTEls===null&&(g.yaxisTTEls=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var b=parseInt(g.ycrosshairsHidden.getAttribute("y1"),10),E=o.globals.translateY+b,k=g.yaxisTTEls[n].getBoundingClientRect().height,C=o.globals.translateYAxisX[n]-2;o.config.yaxis[n].opposite&&(C-=26),E-=k/2,o.globals.ignoreYAxisIndexes.indexOf(n)===-1?(g.yaxisTTEls[n].classList.add("apexcharts-active"),g.yaxisTTEls[n].style.top=E+"px",g.yaxisTTEls[n].style.left=C+o.config.yaxis[n].tooltip.offsetX+"px"):g.yaxisTTEls[n].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=this.w,E=this.ttCtx,k=E.getElTooltip(),C=E.tooltipRect,P=g!==null?parseFloat(g):1,N=parseFloat(n)+P+5,W=parseFloat(o)+P/2;if(N>b.globals.gridWidth/2&&(N=N-C.ttWidth-P-15),N>b.globals.gridWidth-C.ttWidth-10&&(N=b.globals.gridWidth-C.ttWidth),N<-20&&(N=-20),b.config.tooltip.followCursor){var K=E.getElGrid(),ee=K.getBoundingClientRect();W=E.e.clientY+b.globals.translateY-ee.top-C.ttHeight/2}if(!b.config.tooltip.followCursor){var ue=this.positionChecks(C,N,W);N=ue.x,W=ue.y}isNaN(N)||(N+=b.globals.translateX,k.style.left=N+"px",k.style.top=W+"px")}},{key:"positionChecks",value:function(n,o,g){var b=this.w;return n.ttHeight/2+g>b.globals.gridHeight&&(g=b.globals.gridHeight-n.ttHeight+b.globals.translateY),g<0&&(g=0),{x:o,y:g}}},{key:"moveMarkers",value:function(n,o){var g=this.w,b=this.ttCtx;if(g.globals.markers.size[n]>0)for(var E=g.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-marker")),k=0;k<E.length;k++)parseInt(E[k].getAttribute("rel"),10)===o&&(b.marker.resetPointsSize(),b.marker.enlargeCurrentPoint(o,E[k]));else b.marker.resetPointsSize(),this.moveDynamicPointOnHover(o,n)}},{key:"moveDynamicPointOnHover",value:function(n,o){var g,b,E=this.w,k=this.ttCtx,C=E.globals.pointsArray,P=k.tooltipUtil.getHoverMarkerSize(o),N=E.config.series[o].type;if(!N||N!=="column"&&N!=="candlestick"&&N!=="boxPlot"){g=C[o][n][0],b=C[o][n][1]?C[o][n][1]:0;var W=E.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(o,"'] .apexcharts-series-markers circle"));W&&b<E.globals.gridHeight&&b>0&&(W.setAttribute("r",P),W.setAttribute("cx",g),W.setAttribute("cy",b)),this.moveXCrosshairs(g),k.fixedTooltip||this.moveTooltip(g,b,P)}}},{key:"moveDynamicPointsOnHover",value:function(n){var o,g=this.ttCtx,b=g.w,E=0,k=0,C=b.globals.pointsArray;o=new Se(this.ctx).getActiveConfigSeriesIndex(!0);var P=g.tooltipUtil.getHoverMarkerSize(o);C[o]&&(E=C[o][n][0],k=C[o][n][1]);var N=g.tooltipUtil.getAllMarkers();if(N!==null)for(var W=0;W<b.globals.series.length;W++){var K=C[W];if(b.globals.comboCharts&&K===void 0&&N.splice(W,0,null),K&&K.length){var ee=C[W][n][1];N[W].setAttribute("cx",E),ee!==null&&!isNaN(ee)&&ee<b.globals.gridHeight&&ee>0?(N[W]&&N[W].setAttribute("r",P),N[W]&&N[W].setAttribute("cy",ee)):N[W]&&N[W].setAttribute("r",0)}}if(this.moveXCrosshairs(E),!g.fixedTooltip){var ue=k||b.globals.gridHeight;this.moveTooltip(E,ue,P)}}},{key:"moveStickyTooltipOverBars",value:function(n){var o,g=this.w,b=this.ttCtx,E=g.globals.columnSeries?g.globals.columnSeries.length:g.globals.series.length,k=E>=2&&E%2==0?Math.floor(E/2):Math.floor(E/2)+1,C=g.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(k,"'] path[j='").concat(n,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(k,"'] path[j='").concat(n,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(k,"'] path[j='").concat(n,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(k,"'] path[j='").concat(n,"']")),P=C?parseFloat(C.getAttribute("cx")):0,N=C?parseFloat(C.getAttribute("barWidth")):0;g.globals.isXNumeric?(P-=E%2!=0?N/2:0,(C.classList.contains("apexcharts-candlestick-area")||C.classList.contains("apexcharts-boxPlot-area"))&&g.globals.comboCharts&&(P-=N/2)):(P=b.xAxisTicksPositions[n-1]+b.dataPointsDividedWidth/2,isNaN(P)&&(P=b.xAxisTicksPositions[n]-b.dataPointsDividedWidth/2));var W=b.getElGrid().getBoundingClientRect();if(o=b.e.clientY-W.top-b.tooltipRect.ttHeight/2,this.moveXCrosshairs(P),!b.fixedTooltip){var K=o||g.globals.gridHeight;this.moveTooltip(P,K)}}}]),_e}(),na=function(){function _e(n){p(this,_e),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx,this.tooltipPosition=new mn(n)}return x(_e,[{key:"drawDynamicPoints",value:function(){var n=this.w,o=new me(this.ctx),g=new De(this.ctx),b=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");b=ye(b),n.config.chart.stacked&&b.sort(function(K,ee){return parseFloat(K.getAttribute("data:realIndex"))-parseFloat(ee.getAttribute("data:realIndex"))});for(var E=0;E<b.length;E++){var k=b[E].querySelector(".apexcharts-series-markers-wrap");if(k!==null){var C=void 0,P="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));n.config.chart.type!=="line"&&n.config.chart.type!=="area"||n.globals.comboCharts||n.config.tooltip.intersect||(P+=" no-pointer-events");var N=g.getMarkerConfig(P,E);(C=o.drawMarker(0,0,N)).node.setAttribute("default-marker-size",0);var W=document.createElementNS(n.globals.SVGNS,"g");W.classList.add("apexcharts-series-markers"),W.appendChild(C.node),k.appendChild(W)}}}},{key:"enlargeCurrentPoint",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,E=this.w;E.config.chart.type!=="bubble"&&this.newPointSize(n,o);var k=o.getAttribute("cx"),C=o.getAttribute("cy");if(g!==null&&b!==null&&(k=g,C=b),this.tooltipPosition.moveXCrosshairs(k),!this.fixedTooltip){if(E.config.chart.type==="radar"){var P=this.ttCtx.getElGrid(),N=P.getBoundingClientRect();k=this.ttCtx.e.clientX-N.left}this.tooltipPosition.moveTooltip(k,C,E.config.markers.hover.size)}}},{key:"enlargePoints",value:function(n){for(var o=this.w,g=this,b=this.ttCtx,E=n,k=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),C=o.config.markers.hover.size,P=0;P<k.length;P++){var N=k[P].getAttribute("rel"),W=k[P].getAttribute("index");if(C===void 0&&(C=o.globals.markers.size[W]+o.config.markers.hover.sizeOffset),E===parseInt(N,10)){g.newPointSize(E,k[P]);var K=k[P].getAttribute("cx"),ee=k[P].getAttribute("cy");g.tooltipPosition.moveXCrosshairs(K),b.fixedTooltip||g.tooltipPosition.moveTooltip(K,ee,C)}else g.oldPointSize(k[P])}}},{key:"newPointSize",value:function(n,o){var g=this.w,b=g.config.markers.hover.size,E=n===0?o.parentNode.firstChild:o.parentNode.lastChild;if(E.getAttribute("default-marker-size")!=="0"){var k=parseInt(E.getAttribute("index"),10);b===void 0&&(b=g.globals.markers.size[k]+g.config.markers.hover.sizeOffset),E.setAttribute("r",b)}}},{key:"oldPointSize",value:function(n){var o=parseFloat(n.getAttribute("default-marker-size"));n.setAttribute("r",o)}},{key:"resetPointsSize",value:function(){for(var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=0;o<n.length;o++){var g=parseFloat(n[o].getAttribute("default-marker-size"));X.isNumber(g)?n[o].setAttribute("r",g):n[o].setAttribute("r",0)}}}]),_e}(),Ua=function(){function _e(n){p(this,_e),this.w=n.w,this.ttCtx=n}return x(_e,[{key:"getAttr",value:function(n,o){return parseFloat(n.target.getAttribute(o))}},{key:"handleHeatTreeTooltip",value:function(n){var o=n.e,g=n.opt,b=n.x,E=n.y,k=n.type,C=this.ttCtx,P=this.w;if(o.target.classList.contains("apexcharts-".concat(k,"-rect"))){var N=this.getAttr(o,"i"),W=this.getAttr(o,"j"),K=this.getAttr(o,"cx"),ee=this.getAttr(o,"cy"),ue=this.getAttr(o,"width"),we=this.getAttr(o,"height");if(C.tooltipLabels.drawSeriesTexts({ttItems:g.ttItems,i:N,j:W,shared:!1,e:o}),P.globals.capturedSeriesIndex=N,P.globals.capturedDataPointIndex=W,b=K+C.tooltipRect.ttWidth/2+ue,E=ee+C.tooltipRect.ttHeight/2-we/2,C.tooltipPosition.moveXCrosshairs(K+ue/2),b>P.globals.gridWidth/2&&(b=K-C.tooltipRect.ttWidth/2+ue),C.w.config.tooltip.followCursor){var Me=P.globals.dom.elWrap.getBoundingClientRect();b=P.globals.clientX-Me.left-C.tooltipRect.ttWidth/2,E=P.globals.clientY-Me.top-C.tooltipRect.ttHeight-5}}return{x:b,y:E}}},{key:"handleMarkerTooltip",value:function(n){var o,g,b=n.e,E=n.opt,k=n.x,C=n.y,P=this.w,N=this.ttCtx;if(b.target.classList.contains("apexcharts-marker")){var W=parseInt(E.paths.getAttribute("cx"),10),K=parseInt(E.paths.getAttribute("cy"),10),ee=parseFloat(E.paths.getAttribute("val"));if(g=parseInt(E.paths.getAttribute("rel"),10),o=parseInt(E.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,N.intersect){var ue=X.findAncestor(E.paths,"apexcharts-series");ue&&(o=parseInt(ue.getAttribute("data:realIndex"),10))}if(N.tooltipLabels.drawSeriesTexts({ttItems:E.ttItems,i:o,j:g,shared:!N.showOnIntersect&&P.config.tooltip.shared,e:b}),b.type==="mouseup"&&N.markerClick(b,o,g),P.globals.capturedSeriesIndex=o,P.globals.capturedDataPointIndex=g,k=W,C=K+P.globals.translateY-1.4*N.tooltipRect.ttHeight,N.w.config.tooltip.followCursor){var we=N.getElGrid().getBoundingClientRect();C=N.e.clientY+P.globals.translateY-we.top}ee<0&&(C=K),N.marker.enlargeCurrentPoint(g,E.paths,k,C)}return{x:k,y:C}}},{key:"handleBarTooltip",value:function(n){var o,g,b=n.e,E=n.opt,k=this.w,C=this.ttCtx,P=C.getElTooltip(),N=0,W=0,K=0,ee=this.getBarTooltipXY({e:b,opt:E});o=ee.i;var ue=ee.barHeight,we=ee.j;if(k.globals.capturedSeriesIndex=o,k.globals.capturedDataPointIndex=we,k.globals.isBarHorizontal&&C.tooltipUtil.hasBars()||!k.config.tooltip.shared?(W=ee.x,K=ee.y,g=Array.isArray(k.config.stroke.width)?k.config.stroke.width[o]:k.config.stroke.width,N=W):k.globals.comboCharts||k.config.tooltip.shared||(N/=2),isNaN(K)?K=k.globals.svgHeight-C.tooltipRect.ttHeight:K<0&&(K=0),W+C.tooltipRect.ttWidth>k.globals.gridWidth?W-=C.tooltipRect.ttWidth:W<0&&(W=0),C.w.config.tooltip.followCursor){var Me=C.getElGrid().getBoundingClientRect();K=C.e.clientY-Me.top}if(C.tooltip===null&&(C.tooltip=k.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),k.config.tooltip.shared||(k.globals.comboBarCount>0?C.tooltipPosition.moveXCrosshairs(N+g/2):C.tooltipPosition.moveXCrosshairs(N)),!C.fixedTooltip&&(!k.config.tooltip.shared||k.globals.isBarHorizontal&&C.tooltipUtil.hasBars())){var Oe=k.globals.isMultipleYAxis?k.config.yaxis[He]&&k.config.yaxis[He].reversed:k.config.yaxis[0].reversed;Oe&&(W-=C.tooltipRect.ttWidth)<0&&(W=0),P.style.left=W+k.globals.translateX+"px";var He=parseInt(E.paths.parentNode.getAttribute("data:realIndex"),10);!Oe||k.globals.isBarHorizontal&&C.tooltipUtil.hasBars()||(K=K+ue-2*(k.globals.series[o][we]<0?ue:0)),C.tooltipRect.ttHeight+K>k.globals.gridHeight?(K=k.globals.gridHeight-C.tooltipRect.ttHeight+k.globals.translateY,P.style.top=K+"px"):P.style.top=K+k.globals.translateY-C.tooltipRect.ttHeight/2+"px"}}},{key:"getBarTooltipXY",value:function(n){var o=n.e,g=n.opt,b=this.w,E=null,k=this.ttCtx,C=0,P=0,N=0,W=0,K=0,ee=o.target.classList;if(ee.contains("apexcharts-bar-area")||ee.contains("apexcharts-candlestick-area")||ee.contains("apexcharts-boxPlot-area")||ee.contains("apexcharts-rangebar-area")){var ue=o.target,we=ue.getBoundingClientRect(),Me=g.elGrid.getBoundingClientRect(),Oe=we.height;K=we.height;var He=we.width,Le=parseInt(ue.getAttribute("cx"),10),gt=parseInt(ue.getAttribute("cy"),10);W=parseFloat(ue.getAttribute("barWidth"));var B=o.type==="touchmove"?o.touches[0].clientX:o.clientX;E=parseInt(ue.getAttribute("j"),10),C=parseInt(ue.parentNode.getAttribute("rel"),10)-1;var se=ue.getAttribute("data-range-y1"),ke=ue.getAttribute("data-range-y2");b.globals.comboCharts&&(C=parseInt(ue.parentNode.getAttribute("data:realIndex"),10)),k.tooltipLabels.drawSeriesTexts({ttItems:g.ttItems,i:C,j:E,y1:se?parseInt(se,10):null,y2:ke?parseInt(ke,10):null,shared:!k.showOnIntersect&&b.config.tooltip.shared,e:o}),b.config.tooltip.followCursor?b.globals.isBarHorizontal?(P=B-Me.left+15,N=gt-k.dataPointsDividedHeight+Oe/2-k.tooltipRect.ttHeight/2):(P=b.globals.isXNumeric?Le-He/2:Le-k.dataPointsDividedWidth+He/2,N=o.clientY-Me.top-k.tooltipRect.ttHeight/2-15):b.globals.isBarHorizontal?((P=Le)<k.xyRatios.baseLineInvertedY&&(P=Le-k.tooltipRect.ttWidth),N=gt-k.dataPointsDividedHeight+Oe/2-k.tooltipRect.ttHeight/2):(P=b.globals.isXNumeric?Le-He/2:Le-k.dataPointsDividedWidth+He/2,N=gt)}return{x:P,y:N,barHeight:K,barWidth:W,i:C,j:E}}}]),_e}(),jn=function(){function _e(n){p(this,_e),this.w=n.w,this.ttCtx=n}return x(_e,[{key:"drawXaxisTooltip",value:function(){var n=this.w,o=this.ttCtx,g=n.config.xaxis.position==="bottom";o.xaxisOffY=g?n.globals.gridHeight+1:-n.globals.xAxisHeight-n.config.xaxis.axisTicks.height+3;var b=g?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",E=n.globals.dom.elWrap;o.blxaxisTooltip&&n.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(o.xaxisTooltip=document.createElement("div"),o.xaxisTooltip.setAttribute("class",b+" apexcharts-theme-"+n.config.tooltip.theme),E.appendChild(o.xaxisTooltip),o.xaxisTooltipText=document.createElement("div"),o.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),o.xaxisTooltipText.style.fontFamily=n.config.xaxis.tooltip.style.fontFamily||n.config.chart.fontFamily,o.xaxisTooltipText.style.fontSize=n.config.xaxis.tooltip.style.fontSize,o.xaxisTooltip.appendChild(o.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var n=this.w,o=this.ttCtx,g=function(E){var k=n.config.yaxis[E].opposite||n.config.yaxis[E].crosshairs.opposite;o.yaxisOffX=k?n.globals.gridWidth+1:1;var C="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(E,k?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");n.globals.yAxisSameScaleIndices.map(function(N,W){N.map(function(K,ee){ee===E&&(C+=n.config.yaxis[ee].show?" ":" apexcharts-yaxistooltip-hidden")})});var P=n.globals.dom.elWrap;n.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(E))===null&&(o.yaxisTooltip=document.createElement("div"),o.yaxisTooltip.setAttribute("class",C+" apexcharts-theme-"+n.config.tooltip.theme),P.appendChild(o.yaxisTooltip),E===0&&(o.yaxisTooltipText=[]),o.yaxisTooltipText[E]=document.createElement("div"),o.yaxisTooltipText[E].classList.add("apexcharts-yaxistooltip-text"),o.yaxisTooltip.appendChild(o.yaxisTooltipText[E]))},b=0;b<n.config.yaxis.length;b++)g(b)}},{key:"setXCrosshairWidth",value:function(){var n=this.w,o=this.ttCtx,g=o.getElXCrosshairs();if(o.xcrosshairsWidth=parseInt(n.config.xaxis.crosshairs.width,10),n.globals.comboCharts){var b=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(b!==null&&n.config.xaxis.crosshairs.width==="barWidth"){var E=parseFloat(b.getAttribute("barWidth"));o.xcrosshairsWidth=E}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var k=n.globals.labels.length;o.xcrosshairsWidth=n.globals.gridWidth/k}}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var C=n.globals.labels.length;o.xcrosshairsWidth=n.globals.gridWidth/C}else if(n.config.xaxis.crosshairs.width==="barWidth"){var P=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(P!==null){var N=parseFloat(P.getAttribute("barWidth"));o.xcrosshairsWidth=N}else o.xcrosshairsWidth=1}n.globals.isBarHorizontal&&(o.xcrosshairsWidth=0),g!==null&&o.xcrosshairsWidth>0&&g.setAttribute("width",o.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var n=this.w,o=this.ttCtx;o.ycrosshairs=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),o.ycrosshairsHidden=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(n,o,g){var b=this.ttCtx,E=this.w,k=E.globals.yLabelFormatters[n];if(b.yaxisTooltips[n]){var C=b.getElGrid().getBoundingClientRect(),P=(o-C.top)*g.yRatio[n],N=E.globals.maxYArr[n]-E.globals.minYArr[n],W=E.globals.minYArr[n]+(N-P);b.tooltipPosition.moveYCrosshairs(o-C.top),b.yaxisTooltipText[n].innerHTML=k(W),b.tooltipPosition.moveYAxisTooltip(n)}}}]),_e}(),gn=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w;var o=this.w;this.tConfig=o.config.tooltip,this.tooltipUtil=new ma(this),this.tooltipLabels=new ra(this),this.tooltipPosition=new mn(this),this.marker=new na(this),this.intersect=new Ua(this),this.axesTooltip=new jn(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!o.globals.isBarHorizontal&&this.tConfig.shared}return x(_e,[{key:"getElTooltip",value:function(n){return n||(n=this),n.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(n){var o=this.w;this.xyRatios=n,this.blxaxisTooltip=o.config.xaxis.tooltip.enabled&&o.globals.axisCharts,this.yaxisTooltips=o.config.yaxis.map(function(k,C){return!!(k.show&&k.tooltip.enabled&&o.globals.axisCharts)}),this.allTooltipSeriesGroups=[],o.globals.axisCharts||(this.showTooltipTitle=!1);var g=document.createElement("div");if(g.classList.add("apexcharts-tooltip"),g.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),o.globals.dom.elWrap.appendChild(g),o.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var b=new Li(this.ctx);this.xAxisTicksPositions=b.getXAxisTicksPositions()}if(!o.globals.comboCharts&&!this.tConfig.intersect&&o.config.chart.type!=="bar"&&o.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),o.config.markers.size!==0&&o.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),o.globals.collapsedSeries.length!==o.globals.series.length){this.dataPointsDividedHeight=o.globals.gridHeight/o.globals.dataPoints,this.dataPointsDividedWidth=o.globals.gridWidth/o.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||o.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,g.appendChild(this.tooltipTitle));var E=o.globals.series.length;(o.globals.xyCharts||o.globals.comboCharts)&&this.tConfig.shared&&(E=this.showOnIntersect?1:o.globals.series.length),this.legendLabels=o.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(E),this.addSVGEvents()}}},{key:"createTTElements",value:function(n){for(var o=this.w,g=[],b=this.getElTooltip(),E=0;E<n;E++){var k=document.createElement("div");k.classList.add("apexcharts-tooltip-series-group"),k.style.order=o.config.tooltip.inverseOrder?n-E:E+1,this.tConfig.shared&&this.tConfig.enabledOnSeries&&Array.isArray(this.tConfig.enabledOnSeries)&&this.tConfig.enabledOnSeries.indexOf(E)<0&&k.classList.add("apexcharts-tooltip-series-group-hidden");var C=document.createElement("span");C.classList.add("apexcharts-tooltip-marker"),C.style.backgroundColor=o.globals.colors[E],k.appendChild(C);var P=document.createElement("div");P.classList.add("apexcharts-tooltip-text"),P.style.fontFamily=this.tConfig.style.fontFamily||o.config.chart.fontFamily,P.style.fontSize=this.tConfig.style.fontSize;var N=document.createElement("div");N.classList.add("apexcharts-tooltip-y-group");var W=document.createElement("span");W.classList.add("apexcharts-tooltip-text-label"),N.appendChild(W);var K=document.createElement("span");K.classList.add("apexcharts-tooltip-text-value"),N.appendChild(K);var ee=document.createElement("div");ee.classList.add("apexcharts-tooltip-z-group");var ue=document.createElement("span");ue.classList.add("apexcharts-tooltip-text-z-label"),ee.appendChild(ue);var we=document.createElement("span");we.classList.add("apexcharts-tooltip-text-z-value"),ee.appendChild(we),P.appendChild(N),P.appendChild(ee),k.appendChild(P),b.appendChild(k),g.push(k)}return g}},{key:"addSVGEvents",value:function(){var n=this.w,o=n.config.chart.type,g=this.getElTooltip(),b=!(o!=="bar"&&o!=="candlestick"&&o!=="boxPlot"&&o!=="rangeBar"),E=o==="area"||o==="line"||o==="scatter"||o==="bubble"||o==="radar",k=n.globals.dom.Paper.node,C=this.getElGrid();C&&(this.seriesBound=C.getBoundingClientRect());var P,N=[],W=[],K={hoverArea:k,elGrid:C,tooltipEl:g,tooltipY:N,tooltipX:W,ttItems:this.ttItems};if(n.globals.axisCharts&&(E?P=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):b?P=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):o!=="heatmap"&&o!=="treemap"||(P=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),P&&P.length))for(var ee=0;ee<P.length;ee++)N.push(P[ee].getAttribute("cy")),W.push(P[ee].getAttribute("cx"));if(n.globals.xyCharts&&!this.showOnIntersect||n.globals.comboCharts&&!this.showOnIntersect||b&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([k],K);else if(b&&!n.globals.comboCharts||E&&this.showOnIntersect)this.addDatapointEventsListeners(K);else if(!n.globals.axisCharts||o==="heatmap"||o==="treemap"){var ue=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(ue,K)}if(this.showOnIntersect){var we=n.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");we.length>0&&this.addPathsEventListeners(we,K),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(K)}}},{key:"drawFixedTooltipRect",value:function(){var n=this.w,o=this.getElTooltip(),g=o.getBoundingClientRect(),b=g.width+10,E=g.height+10,k=this.tConfig.fixed.offsetX,C=this.tConfig.fixed.offsetY,P=this.tConfig.fixed.position.toLowerCase();return P.indexOf("right")>-1&&(k=k+n.globals.svgWidth-b+10),P.indexOf("bottom")>-1&&(C=C+n.globals.svgHeight-E-10),o.style.left=k+"px",o.style.top=C+"px",{x:k,y:C,ttWidth:b,ttHeight:E}}},{key:"addDatapointEventsListeners",value:function(n){var o=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(o,n)}},{key:"addPathsEventListeners",value:function(n,o){for(var g=this,b=function(k){var C={paths:n[k],tooltipEl:o.tooltipEl,tooltipY:o.tooltipY,tooltipX:o.tooltipX,elGrid:o.elGrid,hoverArea:o.hoverArea,ttItems:o.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(P){return n[k].addEventListener(P,g.seriesHover.bind(g,C),{capture:!1,passive:!0})})},E=0;E<n.length;E++)b(E)}},{key:"seriesHover",value:function(n,o){var g=this,b=[],E=this.w;E.config.chart.group&&(b=this.ctx.getGroupedCharts()),E.globals.axisCharts&&(E.globals.minX===-1/0&&E.globals.maxX===1/0||E.globals.dataPoints===0)||(b.length?b.forEach(function(k){var C=g.getElTooltip(k),P={paths:n.paths,tooltipEl:C,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:k.w.globals.tooltip.ttItems};k.w.globals.minX===g.w.globals.minX&&k.w.globals.maxX===g.w.globals.maxX&&k.w.globals.tooltip.seriesHoverByContext({chartCtx:k,ttCtx:k.w.globals.tooltip,opt:P,e:o})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:o}))}},{key:"seriesHoverByContext",value:function(n){var o=n.chartCtx,g=n.ttCtx,b=n.opt,E=n.e,k=o.w,C=this.getElTooltip();g.tooltipRect={x:0,y:0,ttWidth:C.getBoundingClientRect().width,ttHeight:C.getBoundingClientRect().height},g.e=E,!g.tooltipUtil.hasBars()||k.globals.comboCharts||g.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new Se(o).toggleSeriesOnHover(E,E.target.parentNode),g.fixedTooltip&&g.drawFixedTooltipRect(),k.globals.axisCharts?g.axisChartsTooltips({e:E,opt:b,tooltipRect:g.tooltipRect}):g.nonAxisChartsTooltips({e:E,opt:b,tooltipRect:g.tooltipRect})}},{key:"axisChartsTooltips",value:function(n){var o,g,b=n.e,E=n.opt,k=this.w,C=E.elGrid.getBoundingClientRect(),P=b.type==="touchmove"?b.touches[0].clientX:b.clientX,N=b.type==="touchmove"?b.touches[0].clientY:b.clientY;if(this.clientY=N,this.clientX=P,k.globals.capturedSeriesIndex=-1,k.globals.capturedDataPointIndex=-1,N<C.top||N>C.top+C.height)this.handleMouseOut(E);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!k.config.tooltip.shared){var W=parseInt(E.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(W)<0)return void this.handleMouseOut(E)}var K=this.getElTooltip(),ee=this.getElXCrosshairs(),ue=k.globals.xyCharts||k.config.chart.type==="bar"&&!k.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||k.globals.comboCharts&&this.tooltipUtil.hasBars();if(k.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&(ue=!1),b.type==="mousemove"||b.type==="touchmove"||b.type==="mouseup"){ee!==null&&ee.classList.add("apexcharts-active");var we=this.yaxisTooltips.filter(function(He){return He===!0});if(this.ycrosshairs!==null&&we.length&&this.ycrosshairs.classList.add("apexcharts-active"),ue&&!this.showOnIntersect)this.handleStickyTooltip(b,P,N,E);else if(k.config.chart.type==="heatmap"||k.config.chart.type==="treemap"){var Me=this.intersect.handleHeatTreeTooltip({e:b,opt:E,x:o,y:g,type:k.config.chart.type});o=Me.x,g=Me.y,K.style.left=o+"px",K.style.top=g+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:b,opt:E}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:b,opt:E,x:o,y:g});if(this.yaxisTooltips.length)for(var Oe=0;Oe<k.config.yaxis.length;Oe++)this.axesTooltip.drawYaxisTooltipText(Oe,N,this.xyRatios);E.tooltipEl.classList.add("apexcharts-active")}else b.type!=="mouseout"&&b.type!=="touchend"||this.handleMouseOut(E)}}},{key:"nonAxisChartsTooltips",value:function(n){var o=n.e,g=n.opt,b=n.tooltipRect,E=this.w,k=g.paths.getAttribute("rel"),C=this.getElTooltip(),P=E.globals.dom.elWrap.getBoundingClientRect();if(o.type==="mousemove"||o.type==="touchmove"){C.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:g.ttItems,i:parseInt(k,10)-1,shared:!1});var N=E.globals.clientX-P.left-b.ttWidth/2,W=E.globals.clientY-P.top-b.ttHeight-10;if(C.style.left=N+"px",C.style.top=W+"px",E.config.legend.tooltipHoverFormatter){var K=k-1,ee=(0,E.config.legend.tooltipHoverFormatter)(this.legendLabels[K].getAttribute("data:default-text"),{seriesIndex:K,dataPointIndex:K,w:E});this.legendLabels[K].innerHTML=ee}}else o.type!=="mouseout"&&o.type!=="touchend"||(C.classList.remove("apexcharts-active"),E.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(ue){var we=ue.getAttribute("data:default-text");ue.innerHTML=decodeURIComponent(we)}))}},{key:"handleStickyTooltip",value:function(n,o,g,b){var E=this.w,k=this.tooltipUtil.getNearestValues({context:this,hoverArea:b.hoverArea,elGrid:b.elGrid,clientX:o,clientY:g}),C=k.j,P=k.capturedSeries;k.hoverX<0||k.hoverX>E.globals.gridWidth?this.handleMouseOut(b):P!==null?this.handleStickyCapturedSeries(n,P,b,C):this.tooltipUtil.isXoverlap(C)&&this.create(n,this,0,C,b.ttItems)}},{key:"handleStickyCapturedSeries",value:function(n,o,g,b){var E=this.w;E.globals.series[o][b]===null?this.handleMouseOut(g):E.globals.series[o][b]!==void 0?this.tConfig.shared&&this.tooltipUtil.isXoverlap(b)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(n,this,o,b,g.ttItems):this.create(n,this,o,b,g.ttItems,!1):this.tooltipUtil.isXoverlap(b)&&this.create(n,this,0,b,g.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var n=this.w,o=new me(this.ctx),g=n.globals.dom.Paper.select(".apexcharts-bar-area"),b=0;b<g.length;b++)o.pathMouseLeave(g[b])}},{key:"handleMouseOut",value:function(n){var o=this.w,g=this.getElXCrosshairs();if(n.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),o.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),g!==null&&g.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var b=0;b<this.yaxisTTEls.length;b++)this.yaxisTTEls[b].classList.remove("apexcharts-active")}o.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(E){var k=E.getAttribute("data:default-text");E.innerHTML=decodeURIComponent(k)})}},{key:"markerClick",value:function(n,o,g){var b=this.w;typeof b.config.chart.events.markerClick=="function"&&b.config.chart.events.markerClick(n,this.ctx,{seriesIndex:o,dataPointIndex:g,w:b}),this.ctx.events.fireEvent("markerClick",[n,this.ctx,{seriesIndex:o,dataPointIndex:g,w:b}])}},{key:"create",value:function(n,o,g,b,E){var k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,C=this.w,P=o;n.type==="mouseup"&&this.markerClick(n,g,b),k===null&&(k=this.tConfig.shared);var N=this.tooltipUtil.hasMarkers(),W=this.tooltipUtil.getElBars();if(C.config.legend.tooltipHoverFormatter){var K=C.config.legend.tooltipHoverFormatter,ee=Array.from(this.legendLabels);ee.forEach(function(se){var ke=se.getAttribute("data:default-text");se.innerHTML=decodeURIComponent(ke)});for(var ue=0;ue<ee.length;ue++){var we=ee[ue],Me=parseInt(we.getAttribute("i"),10),Oe=decodeURIComponent(we.getAttribute("data:default-text")),He=K(Oe,{seriesIndex:k?Me:g,dataPointIndex:b,w:C});if(k)we.innerHTML=C.globals.collapsedSeriesIndices.indexOf(Me)<0?He:Oe;else if(we.innerHTML=Me===g?He:Oe,g===Me)break}}if(k){if(P.tooltipLabels.drawSeriesTexts({ttItems:E,i:g,j:b,shared:!this.showOnIntersect&&this.tConfig.shared}),N&&(C.globals.markers.largestSize>0?P.marker.enlargePoints(b):P.tooltipPosition.moveDynamicPointsOnHover(b)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(W),this.barSeriesHeight>0)){var Le=new me(this.ctx),gt=C.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(b,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(b);for(var B=0;B<gt.length;B++)Le.pathMouseEnter(gt[B])}}else P.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:E,i:g,j:b}),this.tooltipUtil.hasBars()&&P.tooltipPosition.moveStickyTooltipOverBars(b),N&&P.tooltipPosition.moveMarkers(g,b)}}]),_e}(),qr=function(_e){H(o,ot);var n=de(o);function o(){return p(this,o),n.apply(this,arguments)}return x(o,[{key:"draw",value:function(g,b){var E=this,k=this.w;this.graphics=new me(this.ctx),this.bar=new ot(this.ctx,this.xyRatios);var C=new Q(this.ctx,k);g=C.getLogSeries(g),this.yRatio=C.getLogYRatios(this.yRatio),this.barHelpers.initVariables(g),k.config.chart.stackType==="100%"&&(g=k.globals.seriesPercent.slice()),this.series=g,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var P=0;P<g.length;P++)g[P].length>0&&(this.totalItems+=g[P].length);for(var N=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),W=0,K=0,ee=function(Me,Oe){var He=void 0,Le=void 0,gt=void 0,B=void 0,se=[],ke=[],Ke=k.globals.comboCharts?b[Me]:Me;E.yRatio.length>1&&(E.yaxisIndex=Ke),E.isReversed=k.config.yaxis[E.yaxisIndex]&&k.config.yaxis[E.yaxisIndex].reversed;var zt=E.graphics.group({class:"apexcharts-series",seriesName:X.escapeString(k.globals.seriesNames[Ke]),rel:Me+1,"data:realIndex":Ke});E.ctx.series.addCollapsedClassToSeries(zt,Ke);var ai=E.graphics.group({class:"apexcharts-datalabels","data:realIndex":Ke}),Xt=0,Wt=0,li=E.initialPositions(W,K,He,Le,gt,B);K=li.y,Xt=li.barHeight,Le=li.yDivision,B=li.zeroW,W=li.x,Wt=li.barWidth,He=li.xDivision,gt=li.zeroH,E.yArrj=[],E.yArrjF=[],E.yArrjVal=[],E.xArrj=[],E.xArrjF=[],E.xArrjVal=[],E.prevY.length===1&&E.prevY[0].every(function(vn){return isNaN(vn)})&&(E.prevY[0]=E.prevY[0].map(function(vn){return gt}),E.prevYF[0]=E.prevYF[0].map(function(vn){return 0}));for(var mi=0;mi<k.globals.dataPoints;mi++){var Yi=E.barHelpers.getStrokeWidth(Me,mi,Ke),Gr={indexes:{i:Me,j:mi,realIndex:Ke,bc:Oe},strokeWidth:Yi,x:W,y:K,elSeries:zt},Gi=null;E.isHorizontal?(Gi=E.drawStackedBarPaths(L(L({},Gr),{},{zeroW:B,barHeight:Xt,yDivision:Le})),Wt=E.series[Me][mi]/E.invertedYRatio):(Gi=E.drawStackedColumnPaths(L(L({},Gr),{},{xDivision:He,barWidth:Wt,zeroH:gt})),Xt=E.series[Me][mi]/E.yRatio[E.yaxisIndex]),K=Gi.y,W=Gi.x,se.push(W),ke.push(K);var Rr=E.barHelpers.getPathFillColor(g,Me,mi,Ke);zt=E.renderSeries({realIndex:Ke,pathFill:Rr,j:mi,i:Me,pathFrom:Gi.pathFrom,pathTo:Gi.pathTo,strokeWidth:Yi,elSeries:zt,x:W,y:K,series:g,barHeight:Xt,barWidth:Wt,elDataLabelsWrap:ai,type:"bar",visibleSeries:0})}k.globals.seriesXvalues[Ke]=se,k.globals.seriesYvalues[Ke]=ke,E.prevY.push(E.yArrj),E.prevYF.push(E.yArrjF),E.prevYVal.push(E.yArrjVal),E.prevX.push(E.xArrj),E.prevXF.push(E.xArrjF),E.prevXVal.push(E.xArrjVal),N.add(zt)},ue=0,we=0;ue<g.length;ue++,we++)ee(ue,we);return N}},{key:"initialPositions",value:function(g,b,E,k,C,P){var N,W,K=this.w;return this.isHorizontal?(N=(N=k=K.globals.gridHeight/K.globals.dataPoints)*parseInt(K.config.plotOptions.bar.barHeight,10)/100,P=this.baseLineInvertedY+K.globals.padHorizontal+(this.isReversed?K.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),b=(k-N)/2):(W=E=K.globals.gridWidth/K.globals.dataPoints,W=K.globals.isXNumeric&&K.globals.dataPoints>1?(E=K.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:W*parseInt(K.config.plotOptions.bar.columnWidth,10)/100,C=this.baseLineY[this.yaxisIndex]+(this.isReversed?K.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),g=K.globals.padHorizontal+(E-W)/2),{x:g,y:b,yDivision:k,xDivision:E,barHeight:N,barWidth:W,zeroH:C,zeroW:P}}},{key:"drawStackedBarPaths",value:function(g){for(var b,E=g.indexes,k=g.barHeight,C=g.strokeWidth,P=g.zeroW,N=g.x,W=g.y,K=g.yDivision,ee=g.elSeries,ue=this.w,we=W,Me=E.i,Oe=E.j,He=0,Le=0;Le<this.prevXF.length;Le++)He+=this.prevXF[Le][Oe];if(Me>0){var gt=P;this.prevXVal[Me-1][Oe]<0?gt=this.series[Me][Oe]>=0?this.prevX[Me-1][Oe]+He-2*(this.isReversed?He:0):this.prevX[Me-1][Oe]:this.prevXVal[Me-1][Oe]>=0&&(gt=this.series[Me][Oe]>=0?this.prevX[Me-1][Oe]:this.prevX[Me-1][Oe]-He+2*(this.isReversed?He:0)),b=gt}else b=P;N=this.series[Me][Oe]===null?b:b+this.series[Me][Oe]/this.invertedYRatio-2*(this.isReversed?this.series[Me][Oe]/this.invertedYRatio:0),this.xArrj.push(N),this.xArrjF.push(Math.abs(b-N)),this.xArrjVal.push(this.series[Me][Oe]);var B=this.barHelpers.getBarpaths({barYPosition:we,barHeight:k,x1:b,x2:N,strokeWidth:C,series:this.series,realIndex:E.realIndex,i:Me,j:Oe,w:ue});return this.barHelpers.barBackground({j:Oe,i:Me,y1:we,y2:k,elSeries:ee}),W+=K,{pathTo:B.pathTo,pathFrom:B.pathFrom,x:N,y:W}}},{key:"drawStackedColumnPaths",value:function(g){var b=g.indexes,E=g.x,k=g.y,C=g.xDivision,P=g.barWidth,N=g.zeroH,W=(g.strokeWidth,g.elSeries),K=this.w,ee=b.i,ue=b.j,we=b.bc;if(K.globals.isXNumeric){var Me=K.globals.seriesX[ee][ue];Me||(Me=0),E=(Me-K.globals.minX)/this.xRatio-P/2}for(var Oe,He=E,Le=0,gt=0;gt<this.prevYF.length;gt++)Le+=isNaN(this.prevYF[gt][ue])?0:this.prevYF[gt][ue];if(ee>0&&!K.globals.isXNumeric||ee>0&&K.globals.isXNumeric&&K.globals.seriesX[ee-1][ue]===K.globals.seriesX[ee][ue]){var B,se,ke=Math.min(this.yRatio.length+1,ee+1);if(this.prevY[ee-1]!==void 0){for(var Ke=1;Ke<ke;Ke++)if(!isNaN(this.prevY[ee-Ke][ue])){se=this.prevY[ee-Ke][ue];break}}for(var zt=1;zt<ke;zt++){if(this.prevYVal[ee-zt][ue]<0){B=this.series[ee][ue]>=0?se-Le+2*(this.isReversed?Le:0):se;break}if(this.prevYVal[ee-zt][ue]>=0){B=this.series[ee][ue]>=0?se:se+Le-2*(this.isReversed?Le:0);break}}B===void 0&&(B=K.globals.gridHeight),Oe=this.prevYF[0].every(function(Xt){return Xt===0})&&this.prevYF.slice(1,ee).every(function(Xt){return Xt.every(function(Wt){return isNaN(Wt)})})?K.globals.gridHeight-N:B}else Oe=K.globals.gridHeight-N;k=Oe-this.series[ee][ue]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[ee][ue]/this.yRatio[this.yaxisIndex]:0),this.yArrj.push(k),this.yArrjF.push(Math.abs(Oe-k)),this.yArrjVal.push(this.series[ee][ue]);var ai=this.barHelpers.getColumnPaths({barXPosition:He,barWidth:P,y1:Oe,y2:k,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:b.realIndex,i:ee,j:ue,w:K});return this.barHelpers.barBackground({bc:we,j:ue,i:ee,x1:He,x2:P,elSeries:W}),E+=C,{pathTo:ai.pathTo,pathFrom:ai.pathFrom,x:K.globals.isXNumeric?E-C:E,y:k}}}]),o}(),Pa=function(_e){H(o,ot);var n=de(o);function o(){return p(this,o),n.apply(this,arguments)}return x(o,[{key:"draw",value:function(g,b){var E=this,k=this.w,C=new me(this.ctx),P=new Pe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot;var N=new Q(this.ctx,k);g=N.getLogSeries(g),this.series=g,this.yRatio=N.getLogYRatios(this.yRatio),this.barHelpers.initVariables(g);for(var W=C.group({class:"apexcharts-".concat(k.config.chart.type,"-series apexcharts-plot-series")}),K=function(ue){E.isBoxPlot=k.config.chart.type==="boxPlot"||k.config.series[ue].type==="boxPlot";var we,Me,Oe=void 0,He=void 0,Le=[],gt=[],B=k.globals.comboCharts?b[ue]:ue,se=C.group({class:"apexcharts-series",seriesName:X.escapeString(k.globals.seriesNames[B]),rel:ue+1,"data:realIndex":B});g[ue].length>0&&(E.visibleI=E.visibleI+1);var ke,Ke;E.yRatio.length>1&&(E.yaxisIndex=B);var zt=E.barHelpers.initialPositions();He=zt.y,ke=zt.barHeight,Oe=zt.x,Ke=zt.barWidth,we=zt.xDivision,Me=zt.zeroH,gt.push(Oe+Ke/2);for(var ai=C.group({class:"apexcharts-datalabels","data:realIndex":B}),Xt=function(li){var mi=E.barHelpers.getStrokeWidth(ue,li,B),Yi=E.drawBoxPaths({indexes:{i:ue,j:li,realIndex:B},x:Oe,y:He,xDivision:we,barWidth:Ke,zeroH:Me,strokeWidth:mi,elSeries:se});He=Yi.y,Oe=Yi.x,li>0&&gt.push(Oe+Ke/2),Le.push(He),Yi.pathTo.forEach(function(Gr,Gi){var Rr=!E.isBoxPlot&&E.candlestickOptions.wick.useFillColor?Yi.color[Gi]:k.globals.stroke.colors[ue],vn=P.fillPath({seriesNumber:B,dataPointIndex:li,color:Yi.color[Gi],value:g[ue][li]});E.renderSeries({realIndex:B,pathFill:vn,lineFill:Rr,j:li,i:ue,pathFrom:Yi.pathFrom,pathTo:Gr,strokeWidth:mi,elSeries:se,x:Oe,y:He,series:g,barHeight:ke,barWidth:Ke,elDataLabelsWrap:ai,visibleSeries:E.visibleI,type:k.config.chart.type})})},Wt=0;Wt<k.globals.dataPoints;Wt++)Xt(Wt);k.globals.seriesXvalues[B]=gt,k.globals.seriesYvalues[B]=Le,W.add(se)},ee=0;ee<g.length;ee++)K(ee);return W}},{key:"drawBoxPaths",value:function(g){var b=g.indexes,E=g.x,k=(g.y,g.xDivision),C=g.barWidth,P=g.zeroH,N=g.strokeWidth,W=this.w,K=new me(this.ctx),ee=b.i,ue=b.j,we=!0,Me=W.config.plotOptions.candlestick.colors.upward,Oe=W.config.plotOptions.candlestick.colors.downward,He="";this.isBoxPlot&&(He=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Le=this.yRatio[this.yaxisIndex],gt=b.realIndex,B=this.getOHLCValue(gt,ue),se=P,ke=P;B.o>B.c&&(we=!1);var Ke=Math.min(B.o,B.c),zt=Math.max(B.o,B.c),ai=B.m;W.globals.isXNumeric&&(E=(W.globals.seriesX[gt][ue]-W.globals.minX)/this.xRatio-C/2);var Xt=E+C*this.visibleI;this.series[ee][ue]===void 0||this.series[ee][ue]===null?Ke=P:(Ke=P-Ke/Le,zt=P-zt/Le,se=P-B.h/Le,ke=P-B.l/Le,ai=P-B.m/Le);var Wt=K.move(Xt,P),li=K.move(Xt+C/2,Ke);return W.globals.previousPaths.length>0&&(li=this.getPreviousPath(gt,ue,!0)),Wt=this.isBoxPlot?[K.move(Xt,Ke)+K.line(Xt+C/2,Ke)+K.line(Xt+C/2,se)+K.line(Xt+C/4,se)+K.line(Xt+C-C/4,se)+K.line(Xt+C/2,se)+K.line(Xt+C/2,Ke)+K.line(Xt+C,Ke)+K.line(Xt+C,ai)+K.line(Xt,ai)+K.line(Xt,Ke+N/2),K.move(Xt,ai)+K.line(Xt+C,ai)+K.line(Xt+C,zt)+K.line(Xt+C/2,zt)+K.line(Xt+C/2,ke)+K.line(Xt+C-C/4,ke)+K.line(Xt+C/4,ke)+K.line(Xt+C/2,ke)+K.line(Xt+C/2,zt)+K.line(Xt,zt)+K.line(Xt,ai)+"z"]:[K.move(Xt,zt)+K.line(Xt+C/2,zt)+K.line(Xt+C/2,se)+K.line(Xt+C/2,zt)+K.line(Xt+C,zt)+K.line(Xt+C,Ke)+K.line(Xt+C/2,Ke)+K.line(Xt+C/2,ke)+K.line(Xt+C/2,Ke)+K.line(Xt,Ke)+K.line(Xt,zt-N/2)],li+=K.move(Xt,Ke),W.globals.isXNumeric||(E+=k),{pathTo:Wt,pathFrom:li,x:E,y:zt,barXPosition:Xt,color:this.isBoxPlot?He:we?[Me]:[Oe]}}},{key:"getOHLCValue",value:function(g,b){var E=this.w;return{o:this.isBoxPlot?E.globals.seriesCandleH[g][b]:E.globals.seriesCandleO[g][b],h:this.isBoxPlot?E.globals.seriesCandleO[g][b]:E.globals.seriesCandleH[g][b],m:E.globals.seriesCandleM[g][b],l:this.isBoxPlot?E.globals.seriesCandleC[g][b]:E.globals.seriesCandleL[g][b],c:this.isBoxPlot?E.globals.seriesCandleL[g][b]:E.globals.seriesCandleC[g][b]}}}]),o}(),Oa=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"checkColorRange",value:function(){var n=this.w,o=!1,g=n.config.plotOptions[n.config.chart.type];return g.colorScale.ranges.length>0&&g.colorScale.ranges.map(function(b,E){b.from<=0&&(o=!0)}),o}},{key:"getShadeColor",value:function(n,o,g,b){var E=this.w,k=1,C=E.config.plotOptions[n].shadeIntensity,P=this.determineColor(n,o,g);E.globals.hasNegs||b?k=E.config.plotOptions[n].reverseNegativeShade?P.percent<0?P.percent/100*(1.25*C):(1-P.percent/100)*(1.25*C):P.percent<=0?1-(1+P.percent/100)*C:(1-P.percent/100)*C:(k=1-P.percent/100,n==="treemap"&&(k=(1-P.percent/100)*(1.25*C)));var N=P.color,W=new X;return E.config.plotOptions[n].enableShades&&(k<0&&(k=0),N=this.w.config.theme.mode==="dark"?X.hexToRgba(W.shadeColor(-1*k,P.color),E.config.fill.opacity):X.hexToRgba(W.shadeColor(k,P.color),E.config.fill.opacity)),{color:N,colorProps:P}}},{key:"determineColor",value:function(n,o,g){var b=this.w,E=b.globals.series[o][g],k=b.config.plotOptions[n],C=k.colorScale.inverse?g:o;b.config.plotOptions[n].distributed&&(C=g);var P=b.globals.colors[C],N=null,W=Math.min.apply(Math,ye(b.globals.series[o])),K=Math.max.apply(Math,ye(b.globals.series[o]));k.distributed||n!=="heatmap"||(W=b.globals.minY,K=b.globals.maxY),k.colorScale.min!==void 0&&(W=k.colorScale.min<b.globals.minY?k.colorScale.min:b.globals.minY,K=k.colorScale.max>b.globals.maxY?k.colorScale.max:b.globals.maxY);var ee=Math.abs(K)+Math.abs(W),ue=100*E/(ee===0?ee-1e-6:ee);return k.colorScale.ranges.length>0&&k.colorScale.ranges.map(function(we,Me){if(E>=we.from&&E<=we.to){P=we.color,N=we.foreColor?we.foreColor:null,W=we.from,K=we.to;var Oe=Math.abs(K)+Math.abs(W);ue=100*E/(Oe===0?Oe-1e-6:Oe)}}),{color:P,foreColor:N,percent:ue}}},{key:"calculateDataLabels",value:function(n){var o=n.text,g=n.x,b=n.y,E=n.i,k=n.j,C=n.colorProps,P=n.fontSize,N=this.w.config.dataLabels,W=new me(this.ctx),K=new fe(this.ctx),ee=null;if(N.enabled){ee=W.group({class:"apexcharts-data-labels"});var ue=N.offsetX,we=N.offsetY,Me=g+ue,Oe=b+parseFloat(N.style.fontSize)/3+we;K.plotDataLabelsText({x:Me,y:Oe,text:o,i:E,j:k,color:C.foreColor,parent:ee,fontSize:P,dataLabelsConfig:N})}return ee}},{key:"addListeners",value:function(n){var o=new me(this.ctx);n.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,n)),n.node.addEventListener("mousedown",o.pathMouseDown.bind(this,n))}}]),_e}(),Ur=function(){function _e(n,o){p(this,_e),this.ctx=n,this.w=n.w,this.xRatio=o.xRatio,this.yRatio=o.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Oa(n),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return x(_e,[{key:"draw",value:function(n){var o=this.w,g=new me(this.ctx),b=g.group({class:"apexcharts-heatmap"});b.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")"));var E=o.globals.gridWidth/o.globals.dataPoints,k=o.globals.gridHeight/o.globals.series.length,C=0,P=!1;this.negRange=this.helpers.checkColorRange();var N=n.slice();o.config.yaxis[0].reversed&&(P=!0,N.reverse());for(var W=P?0:N.length-1;P?W<N.length:W>=0;P?W++:W--){var K=g.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:X.escapeString(o.globals.seriesNames[W]),rel:W+1,"data:realIndex":W});if(this.ctx.series.addCollapsedClassToSeries(K,W),o.config.chart.dropShadow.enabled){var ee=o.config.chart.dropShadow;new ve(this.ctx).dropShadow(K,ee,W)}for(var ue=0,we=o.config.plotOptions.heatmap.shadeIntensity,Me=0;Me<N[W].length;Me++){var Oe=this.helpers.getShadeColor(o.config.chart.type,W,Me,this.negRange),He=Oe.color,Le=Oe.colorProps;o.config.fill.type==="image"&&(He=new Pe(this.ctx).fillPath({seriesNumber:W,dataPointIndex:Me,opacity:o.globals.hasNegs?Le.percent<0?1-(1+Le.percent/100):we+Le.percent/100:Le.percent/100,patternID:X.randomId(),width:o.config.fill.image.width?o.config.fill.image.width:E,height:o.config.fill.image.height?o.config.fill.image.height:k}));var gt=this.rectRadius,B=g.drawRect(ue,C,E,k,gt);if(B.attr({cx:ue,cy:C}),B.node.classList.add("apexcharts-heatmap-rect"),K.add(B),B.attr({fill:He,i:W,index:W,j:Me,val:N[W][Me],"stroke-width":this.strokeWidth,stroke:o.config.plotOptions.heatmap.useFillColorAsStroke?He:o.globals.stroke.colors[0],color:He}),this.helpers.addListeners(B),o.config.chart.animations.enabled&&!o.globals.dataChanged){var se=1;o.globals.resized||(se=o.config.chart.animations.speed),this.animateHeatMap(B,ue,C,E,k,se)}if(o.globals.dataChanged){var ke=1;if(this.dynamicAnim.enabled&&o.globals.shouldAnimate){ke=this.dynamicAnim.speed;var Ke=o.globals.previousPaths[W]&&o.globals.previousPaths[W][Me]&&o.globals.previousPaths[W][Me].color;Ke||(Ke="rgba(255, 255, 255, 0)"),this.animateHeatColor(B,X.isColorHex(Ke)?Ke:X.rgb2hex(Ke),X.isColorHex(He)?He:X.rgb2hex(He),ke)}}var zt=(0,o.config.dataLabels.formatter)(o.globals.series[W][Me],{value:o.globals.series[W][Me],seriesIndex:W,dataPointIndex:Me,w:o}),ai=this.helpers.calculateDataLabels({text:zt,x:ue+E/2,y:C+k/2,i:W,j:Me,colorProps:Le,series:N});ai!==null&&K.add(ai),ue+=E}C+=k,b.add(K)}var Xt=o.globals.yAxisScale[0].result.slice();o.config.yaxis[0].reversed?Xt.unshift(""):Xt.push(""),o.globals.yAxisScale[0].result=Xt;var Wt=o.globals.gridHeight/o.globals.series.length;return o.config.yaxis[0].labels.offsetY=-Wt/2,b}},{key:"animateHeatMap",value:function(n,o,g,b,E,k){var C=new pe(this.ctx);C.animateRect(n,{x:o+b/2,y:g+E/2,width:0,height:0},{x:o,y:g,width:b,height:E},k,function(){C.animationCompleted(n)})}},{key:"animateHeatColor",value:function(n,o,g,b){n.attr({fill:o}).animate(b).attr({fill:g})}}]),_e}(),Vn=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"drawYAxisTexts",value:function(n,o,g,b){var E=this.w,k=E.config.yaxis[0],C=E.globals.yLabelFormatters[0];return new me(this.ctx).drawText({x:n+k.labels.offsetX,y:o+k.labels.offsetY,text:C(b,g),textAnchor:"middle",fontSize:k.labels.style.fontSize,fontFamily:k.labels.style.fontFamily,foreColor:Array.isArray(k.labels.style.colors)?k.labels.style.colors[g]:k.labels.style.colors})}}]),_e}(),cs=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w;var o=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=o.globals.stroke.colors!==void 0?o.globals.stroke.colors:o.globals.colors,this.defaultSize=Math.min(o.globals.gridWidth,o.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=o.globals.gridWidth/2,o.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(o.config.plotOptions.pie.endAngle-o.config.plotOptions.pie.startAngle),this.initialAngle=o.config.plotOptions.pie.startAngle%this.fullAngle,o.globals.radialSize=this.defaultSize/2.05-o.config.stroke.width-(o.config.chart.sparkline.enabled?0:o.config.chart.dropShadow.blur),this.donutSize=o.globals.radialSize*parseInt(o.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return x(_e,[{key:"draw",value:function(n){var o=this,g=this.w,b=new me(this.ctx);if(this.ret=b.group({class:"apexcharts-pie"}),g.globals.noData)return this.ret;for(var E=0,k=0;k<n.length;k++)E+=X.negToZero(n[k]);var C=[],P=b.group();E===0&&(E=1e-5),n.forEach(function(Ke){o.maxY=Math.max(o.maxY,Ke)}),g.config.yaxis[0].max&&(this.maxY=g.config.yaxis[0].max),g.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var N=0;N<n.length;N++){var W=this.fullAngle*X.negToZero(n[N])/E;C.push(W),this.chartType==="polarArea"?(C[N]=this.fullAngle/n.length,this.sliceSizes.push(g.globals.radialSize*n[N]/this.maxY)):this.sliceSizes.push(g.globals.radialSize)}if(g.globals.dataChanged){for(var K,ee=0,ue=0;ue<g.globals.previousPaths.length;ue++)ee+=X.negToZero(g.globals.previousPaths[ue]);for(var we=0;we<g.globals.previousPaths.length;we++)K=this.fullAngle*X.negToZero(g.globals.previousPaths[we])/ee,this.prevSectorAngleArr.push(K)}this.donutSize<0&&(this.donutSize=0);var Me=g.config.plotOptions.pie.customScale,Oe=g.globals.gridWidth/2,He=g.globals.gridHeight/2,Le=Oe-g.globals.gridWidth/2*Me,gt=He-g.globals.gridHeight/2*Me;if(this.chartType==="donut"){var B=b.drawCircle(this.donutSize);B.attr({cx:this.centerX,cy:this.centerY,fill:g.config.plotOptions.pie.donut.background?g.config.plotOptions.pie.donut.background:"transparent"}),P.add(B)}var se=this.drawArcs(C,n);if(this.sliceLabels.forEach(function(Ke){se.add(Ke)}),P.attr({transform:"translate(".concat(Le,", ").concat(gt,") scale(").concat(Me,")")}),P.add(se),this.ret.add(P),this.donutDataLabels.show){var ke=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Le,translateY:gt});this.ret.add(ke)}return g.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(n,o){var g=this.w,b=new ve(this.ctx),E=new me(this.ctx),k=new Pe(this.ctx),C=E.group({class:"apexcharts-slices"}),P=this.initialAngle,N=this.initialAngle,W=this.initialAngle,K=this.initialAngle;this.strokeWidth=g.config.stroke.show?g.config.stroke.width:0;for(var ee=0;ee<n.length;ee++){var ue=E.group({class:"apexcharts-series apexcharts-pie-series",seriesName:X.escapeString(g.globals.seriesNames[ee]),rel:ee+1,"data:realIndex":ee});C.add(ue),N=K,W=(P=W)+n[ee],K=N+this.prevSectorAngleArr[ee];var we=W<P?this.fullAngle+W-P:W-P,Me=k.fillPath({seriesNumber:ee,size:this.sliceSizes[ee],value:o[ee]}),Oe=this.getChangedPath(N,K),He=E.drawPath({d:Oe,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[ee]:this.lineColorArr,strokeWidth:0,fill:Me,fillOpacity:g.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(ee)});if(He.attr({index:0,j:ee}),b.setSelectionFilter(He,0,ee),g.config.chart.dropShadow.enabled){var Le=g.config.chart.dropShadow;b.dropShadow(He,Le,ee)}this.addListeners(He,this.donutDataLabels),me.setAttrs(He.node,{"data:angle":we,"data:startAngle":P,"data:strokeWidth":this.strokeWidth,"data:value":o[ee]});var gt={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?gt=X.polarToCartesian(this.centerX,this.centerY,g.globals.radialSize/1.25+g.config.plotOptions.pie.dataLabels.offset,(P+we/2)%this.fullAngle):this.chartType==="donut"&&(gt=X.polarToCartesian(this.centerX,this.centerY,(g.globals.radialSize+this.donutSize)/2+g.config.plotOptions.pie.dataLabels.offset,(P+we/2)%this.fullAngle)),ue.add(He);var B=0;if(!this.initialAnim||g.globals.resized||g.globals.dataChanged?this.animBeginArr.push(0):((B=we/this.fullAngle*g.config.chart.animations.speed)===0&&(B=1),this.animDur=B+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&g.globals.dataChanged?this.animatePaths(He,{size:this.sliceSizes[ee],endAngle:W,startAngle:P,prevStartAngle:N,prevEndAngle:K,animateStartingPos:!0,i:ee,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:g.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(He,{size:this.sliceSizes[ee],endAngle:W,startAngle:P,i:ee,totalItems:n.length-1,animBeginArr:this.animBeginArr,dur:B}),g.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&He.click(this.pieClicked.bind(this,ee)),g.globals.selectedDataPoints[0]!==void 0&&g.globals.selectedDataPoints[0].indexOf(ee)>-1&&this.pieClicked(ee),g.config.dataLabels.enabled){var se=gt.x,ke=gt.y,Ke=100*we/this.fullAngle+"%";if(we!==0&&g.config.plotOptions.pie.dataLabels.minAngleToShowLabel<n[ee]){var zt=g.config.dataLabels.formatter;zt!==void 0&&(Ke=zt(g.globals.seriesPercent[ee][0],{seriesIndex:ee,w:g}));var ai=g.globals.dataLabels.style.colors[ee],Xt=E.group({class:"apexcharts-datalabels"}),Wt=E.drawText({x:se,y:ke,text:Ke,textAnchor:"middle",fontSize:g.config.dataLabels.style.fontSize,fontFamily:g.config.dataLabels.style.fontFamily,fontWeight:g.config.dataLabels.style.fontWeight,foreColor:ai});if(Xt.add(Wt),g.config.dataLabels.dropShadow.enabled){var li=g.config.dataLabels.dropShadow;b.dropShadow(Wt,li)}Wt.node.classList.add("apexcharts-pie-label"),g.config.chart.animations.animate&&g.globals.resized===!1&&(Wt.node.classList.add("apexcharts-pie-label-delay"),Wt.node.style.animationDelay=g.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Xt)}}}return C}},{key:"addListeners",value:function(n,o){var g=new me(this.ctx);n.node.addEventListener("mouseenter",g.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",g.pathMouseLeave.bind(this,n)),n.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,n.node,o)),n.node.addEventListener("mousedown",g.pathMouseDown.bind(this,n)),this.donutDataLabels.total.showAlways||(n.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,n.node,o)),n.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,n.node,o)))}},{key:"animatePaths",value:function(n,o){var g=this.w,b=o.endAngle<o.startAngle?this.fullAngle+o.endAngle-o.startAngle:o.endAngle-o.startAngle,E=b,k=o.startAngle,C=o.startAngle;o.prevStartAngle!==void 0&&o.prevEndAngle!==void 0&&(k=o.prevEndAngle,E=o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle),o.i===g.config.series.length-1&&(b+C>this.fullAngle?o.endAngle=o.endAngle-(b+C):b+C<this.fullAngle&&(o.endAngle=o.endAngle+(this.fullAngle-(b+C)))),b===this.fullAngle&&(b=this.fullAngle-.01),this.animateArc(n,k,C,b,E,o)}},{key:"animateArc",value:function(n,o,g,b,E,k){var C,P=this,N=this.w,W=new pe(this.ctx),K=k.size;(isNaN(o)||isNaN(E))&&(o=g,E=b,k.dur=0);var ee=b,ue=g,we=o<g?this.fullAngle+o-g:o-g;N.globals.dataChanged&&k.shouldSetPrevPaths&&k.prevEndAngle&&(C=P.getPiePath({me:P,startAngle:k.prevStartAngle,angle:k.prevEndAngle<k.prevStartAngle?this.fullAngle+k.prevEndAngle-k.prevStartAngle:k.prevEndAngle-k.prevStartAngle,size:K}),n.attr({d:C})),k.dur!==0?n.animate(k.dur,N.globals.easing,k.animBeginArr[k.i]).afterAll(function(){P.chartType!=="pie"&&P.chartType!=="donut"&&P.chartType!=="polarArea"||this.animate(N.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":P.strokeWidth}),k.i===N.config.series.length-1&&W.animationCompleted(n)}).during(function(Me){ee=we+(b-we)*Me,k.animateStartingPos&&(ee=E+(b-E)*Me,ue=o-E+(g-(o-E))*Me),C=P.getPiePath({me:P,startAngle:ue,angle:ee,size:K}),n.node.setAttribute("data:pathOrig",C),n.attr({d:C})}):(C=P.getPiePath({me:P,startAngle:ue,angle:b,size:K}),k.isTrack||(N.globals.animationEnded=!0),n.node.setAttribute("data:pathOrig",C),n.attr({d:C,"stroke-width":P.strokeWidth}))}},{key:"pieClicked",value:function(n){var o,g=this.w,b=this,E=b.sliceSizes[n]+(g.config.plotOptions.pie.expandOnClick?4:0),k=g.globals.dom.Paper.select(".apexcharts-".concat(b.chartType.toLowerCase(),"-slice-").concat(n)).members[0];if(k.attr("data:pieClicked")!=="true"){var C=g.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(C,function(K){K.setAttribute("data:pieClicked","false");var ee=K.getAttribute("data:pathOrig");K.setAttribute("d",ee)}),k.attr("data:pieClicked","true");var P=parseInt(k.attr("data:startAngle"),10),N=parseInt(k.attr("data:angle"),10);o=b.getPiePath({me:b,startAngle:P,angle:N,size:E}),N!==360&&k.plot(o)}else{k.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(k.node,this.donutDataLabels);var W=k.attr("data:pathOrig");k.attr({d:W})}}},{key:"getChangedPath",value:function(n,o){var g="";return this.dynamicAnim&&this.w.globals.dataChanged&&(g=this.getPiePath({me:this,startAngle:n,angle:o-n,size:this.size})),g}},{key:"getPiePath",value:function(n){var o=n.me,g=n.startAngle,b=n.angle,E=n.size,k=g,C=Math.PI*(k-90)/180,P=b+g;Math.ceil(P)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(P=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(P)>this.fullAngle&&(P-=this.fullAngle);var N=Math.PI*(P-90)/180,W=o.centerX+E*Math.cos(C),K=o.centerY+E*Math.sin(C),ee=o.centerX+E*Math.cos(N),ue=o.centerY+E*Math.sin(N),we=X.polarToCartesian(o.centerX,o.centerY,o.donutSize,P),Me=X.polarToCartesian(o.centerX,o.centerY,o.donutSize,k),Oe=b>180?1:0,He=["M",W,K,"A",E,E,0,Oe,1,ee,ue];return o.chartType==="donut"?[].concat(He,["L",we.x,we.y,"A",o.donutSize,o.donutSize,0,Oe,0,Me.x,Me.y,"L",W,K,"z"]).join(" "):o.chartType==="pie"||o.chartType==="polarArea"?[].concat(He,["L",o.centerX,o.centerY,"L",W,K]).join(" "):[].concat(He).join(" ")}},{key:"drawPolarElements",value:function(n){var o=this.w,g=new Vt(this.ctx),b=new me(this.ctx),E=new Vn(this.ctx),k=b.group(),C=b.group(),P=g.niceScale(0,Math.ceil(this.maxY),o.config.yaxis[0].tickAmount,0,!0),N=P.result.reverse(),W=P.result.length;this.maxY=P.niceMax;for(var K=o.globals.radialSize,ee=K/(W-1),ue=0;ue<W-1;ue++){var we=b.drawCircle(K);if(we.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":o.config.plotOptions.polarArea.rings.strokeWidth,stroke:o.config.plotOptions.polarArea.rings.strokeColor}),o.config.yaxis[0].show){var Me=E.drawYAxisTexts(this.centerX,this.centerY-K+parseInt(o.config.yaxis[0].labels.style.fontSize,10)/2,ue,N[ue]);C.add(Me)}k.add(we),K-=ee}this.drawSpokes(n),n.add(k),n.add(C)}},{key:"renderInnerDataLabels",value:function(n,o){var g=this.w,b=new me(this.ctx),E=b.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(o.translateX?o.translateX:0,", ").concat(o.translateY?o.translateY:0,") scale(").concat(g.config.plotOptions.pie.customScale,")")}),k=n.total.show;E.node.style.opacity=o.opacity;var C,P,N=o.centerX,W=o.centerY;C=n.name.color===void 0?g.globals.colors[0]:n.name.color;var K=n.name.fontSize,ee=n.name.fontFamily,ue=n.value.fontWeight;P=n.value.color===void 0?g.config.chart.foreColor:n.value.color;var we=n.value.formatter,Me="",Oe="";if(k?(C=n.total.color,K=n.total.fontSize,ee=n.total.fontFamily,ue=n.total.fontWeight,Oe=n.total.label,Me=n.total.formatter(g)):g.globals.series.length===1&&(Me=we(g.globals.series[0],g),Oe=g.globals.seriesNames[0]),Oe&&(Oe=n.name.formatter(Oe,n.total.show,g)),n.name.show){var He=b.drawText({x:N,y:W+parseFloat(n.name.offsetY),text:Oe,textAnchor:"middle",foreColor:C,fontSize:K,fontWeight:ue,fontFamily:ee});He.node.classList.add("apexcharts-datalabel-label"),E.add(He)}if(n.value.show){var Le=n.name.show?parseFloat(n.value.offsetY)+16:n.value.offsetY,gt=b.drawText({x:N,y:W+Le,text:Me,textAnchor:"middle",foreColor:P,fontWeight:n.value.fontWeight,fontSize:n.value.fontSize,fontFamily:n.value.fontFamily});gt.node.classList.add("apexcharts-datalabel-value"),E.add(gt)}return E}},{key:"printInnerLabels",value:function(n,o,g,b){var E,k=this.w;b?E=n.name.color===void 0?k.globals.colors[parseInt(b.parentNode.getAttribute("rel"),10)-1]:n.name.color:k.globals.series.length>1&&n.total.show&&(E=n.total.color);var C=k.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),P=k.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");g=(0,n.value.formatter)(g,k),b||typeof n.total.formatter!="function"||(g=n.total.formatter(k));var N=o===n.total.label;o=n.name.formatter(o,N,k),C!==null&&(C.textContent=o),P!==null&&(P.textContent=g),C!==null&&(C.style.fill=E)}},{key:"printDataLabelsInner",value:function(n,o){var g=this.w,b=n.getAttribute("data:value"),E=g.globals.seriesNames[parseInt(n.parentNode.getAttribute("rel"),10)-1];g.globals.series.length>1&&this.printInnerLabels(o,E,b,n);var k=g.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");k!==null&&(k.style.opacity=1)}},{key:"drawSpokes",value:function(n){var o=this,g=this.w,b=new me(this.ctx),E=g.config.plotOptions.polarArea.spokes;E.strokeWidth!==0&&X.getPolygonPos(g.globals.radialSize,g.globals.series.length).forEach(function(k,C){var P=b.drawLine(k.x+o.centerX,k.y+o.centerY,o.centerX,o.centerY,Array.isArray(E.connectorColors)?E.connectorColors[C]:E.connectorColors);n.add(P)})}},{key:"revertDataLabelsInner",value:function(n,o,g){var b=this,E=this.w,k=E.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),C=!1,P=E.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),N=function(ee){var ue=ee.makeSliceOut,we=ee.printLabel;Array.prototype.forEach.call(P,function(Me){Me.getAttribute("data:pieClicked")==="true"&&(ue&&(C=!0),we&&b.printDataLabelsInner(Me,o))})};if(N({makeSliceOut:!0,printLabel:!1}),o.total.show&&E.globals.series.length>1)C&&!o.total.showAlways?N({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(o,o.total.label,o.total.formatter(E));else if(N({makeSliceOut:!1,printLabel:!0}),!C)if(E.globals.selectedDataPoints.length&&E.globals.series.length>1)if(E.globals.selectedDataPoints[0].length>0){var W=E.globals.selectedDataPoints[0],K=E.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(W));this.printDataLabelsInner(K,o)}else k&&E.globals.selectedDataPoints.length&&E.globals.selectedDataPoints[0].length===0&&(k.style.opacity=0);else k&&E.globals.series.length>1&&(k.style.opacity=0)}}]),_e}(),ga=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var o=this.w;this.graphics=new me(this.ctx),this.lineColorArr=o.globals.stroke.colors!==void 0?o.globals.stroke.colors:o.globals.colors,this.defaultSize=o.globals.svgHeight<o.globals.svgWidth?o.globals.gridHeight+1.5*o.globals.goldenPadding:o.globals.gridWidth,this.isLog=o.config.yaxis[0].logarithmic,this.coreUtils=new Q(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(o.globals.maxY,0):o.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):o.globals.minY,this.polygons=o.config.plotOptions.radar.polygons,this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-o.config.chart.dropShadow.blur,o.config.xaxis.labels.show&&(this.size=this.size-o.globals.xAxisLabelsWidth/1.75),o.config.plotOptions.radar.size!==void 0&&(this.size=o.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return x(_e,[{key:"draw",value:function(n){var o=this,g=this.w,b=new Pe(this.ctx),E=[],k=new fe(this.ctx);n.length&&(this.dataPointsLen=n[g.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var C=g.globals.gridWidth/2,P=g.globals.gridHeight/2,N=C+g.config.plotOptions.radar.offsetX,W=P+g.config.plotOptions.radar.offsetY,K=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(N||0,", ").concat(W||0,")")}),ee=[],ue=null,we=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),n.forEach(function(Oe,He){var Le=Oe.length===g.globals.dataPoints,gt=o.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Le,seriesName:X.escapeString(g.globals.seriesNames[He]),rel:He+1,"data:realIndex":He});o.dataRadiusOfPercent[He]=[],o.dataRadius[He]=[],o.angleArr[He]=[],Oe.forEach(function(mi,Yi){var Gr=Math.abs(o.maxValue-o.minValue);mi+=Math.abs(o.minValue),o.isLog&&(mi=o.coreUtils.getLogVal(mi,0)),o.dataRadiusOfPercent[He][Yi]=mi/Gr,o.dataRadius[He][Yi]=o.dataRadiusOfPercent[He][Yi]*o.size,o.angleArr[He][Yi]=Yi*o.disAngle}),ee=o.getDataPointsPos(o.dataRadius[He],o.angleArr[He]);var B=o.createPaths(ee,{x:0,y:0});ue=o.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),we=o.graphics.group({class:"apexcharts-datalabels","data:realIndex":He}),g.globals.delayedElements.push({el:ue.node,index:He});var se={i:He,realIndex:He,animationDelay:He,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:g.globals.stroke.colors[He],strokeLineCap:g.config.stroke.lineCap},ke=null;g.globals.previousPaths.length>0&&(ke=o.getPreviousPath(He));for(var Ke=0;Ke<B.linePathsTo.length;Ke++){var zt=o.graphics.renderPaths(L(L({},se),{},{pathFrom:ke===null?B.linePathsFrom[Ke]:ke,pathTo:B.linePathsTo[Ke],strokeWidth:Array.isArray(o.strokeWidth)?o.strokeWidth[He]:o.strokeWidth,fill:"none",drawShadow:!1}));gt.add(zt);var ai=b.fillPath({seriesNumber:He}),Xt=o.graphics.renderPaths(L(L({},se),{},{pathFrom:ke===null?B.areaPathsFrom[Ke]:ke,pathTo:B.areaPathsTo[Ke],strokeWidth:0,fill:ai,drawShadow:!1}));if(g.config.chart.dropShadow.enabled){var Wt=new ve(o.ctx),li=g.config.chart.dropShadow;Wt.dropShadow(Xt,Object.assign({},li,{noUserSpaceOnUse:!0}),He)}gt.add(Xt)}Oe.forEach(function(mi,Yi){var Gr=new De(o.ctx).getMarkerConfig("apexcharts-marker",He,Yi),Gi=o.graphics.drawMarker(ee[Yi].x,ee[Yi].y,Gr);Gi.attr("rel",Yi),Gi.attr("j",Yi),Gi.attr("index",He),Gi.node.setAttribute("default-marker-size",Gr.pSize);var Rr=o.graphics.group({class:"apexcharts-series-markers"});Rr&&Rr.add(Gi),ue.add(Rr),gt.add(ue);var vn=g.config.dataLabels;if(vn.enabled){var qn=vn.formatter(g.globals.series[He][Yi],{seriesIndex:He,dataPointIndex:Yi,w:g});k.plotDataLabelsText({x:ee[Yi].x,y:ee[Yi].y,text:qn,textAnchor:"middle",i:He,j:He,parent:we,offsetCorrection:!1,dataLabelsConfig:L({},vn)})}gt.add(we)}),E.push(gt)}),this.drawPolygons({parent:K}),g.config.xaxis.labels.show){var Me=this.drawXAxisTexts();K.add(Me)}return E.forEach(function(Oe){K.add(Oe)}),K.add(this.yaxisLabels),K}},{key:"drawPolygons",value:function(n){for(var o=this,g=this.w,b=n.parent,E=new Vn(this.ctx),k=g.globals.yAxisScale[0].result.reverse(),C=k.length,P=[],N=this.size/(C-1),W=0;W<C;W++)P[W]=N*W;P.reverse();var K=[],ee=[];P.forEach(function(ue,we){var Me=X.getPolygonPos(ue,o.dataPointsLen),Oe="";Me.forEach(function(He,Le){if(we===0){var gt=o.graphics.drawLine(He.x,He.y,0,0,Array.isArray(o.polygons.connectorColors)?o.polygons.connectorColors[Le]:o.polygons.connectorColors);ee.push(gt)}Le===0&&o.yaxisLabelsTextsPos.push({x:He.x,y:He.y}),Oe+=He.x+","+He.y+" "}),K.push(Oe)}),K.forEach(function(ue,we){var Me=o.polygons.strokeColors,Oe=o.polygons.strokeWidth,He=o.graphics.drawPolygon(ue,Array.isArray(Me)?Me[we]:Me,Array.isArray(Oe)?Oe[we]:Oe,g.globals.radarPolygons.fill.colors[we]);b.add(He)}),ee.forEach(function(ue){b.add(ue)}),g.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(ue,we){var Me=E.drawYAxisTexts(ue.x,ue.y,we,k[we]);o.yaxisLabels.add(Me)})}},{key:"drawXAxisTexts",value:function(){var n=this,o=this.w,g=o.config.xaxis.labels,b=this.graphics.group({class:"apexcharts-xaxis"}),E=X.getPolygonPos(this.size,this.dataPointsLen);return o.globals.labels.forEach(function(k,C){var P=o.config.xaxis.labels.formatter,N=new fe(n.ctx);if(E[C]){var W=n.getTextPos(E[C],n.size),K=P(k,{seriesIndex:-1,dataPointIndex:C,w:o});N.plotDataLabelsText({x:W.newX,y:W.newY,text:K,textAnchor:W.textAnchor,i:C,j:C,parent:b,color:Array.isArray(g.style.colors)&&g.style.colors[C]?g.style.colors[C]:"#a8a8a8",dataLabelsConfig:L({textAnchor:W.textAnchor,dropShadow:{enabled:!1}},g),offsetCorrection:!1})}}),b}},{key:"createPaths",value:function(n,o){var g=this,b=[],E=[],k=[],C=[];if(n.length){E=[this.graphics.move(o.x,o.y)],C=[this.graphics.move(o.x,o.y)];var P=this.graphics.move(n[0].x,n[0].y),N=this.graphics.move(n[0].x,n[0].y);n.forEach(function(W,K){P+=g.graphics.line(W.x,W.y),N+=g.graphics.line(W.x,W.y),K===n.length-1&&(P+="Z",N+="Z")}),b.push(P),k.push(N)}return{linePathsFrom:E,linePathsTo:b,areaPathsFrom:C,areaPathsTo:k}}},{key:"getTextPos",value:function(n,o){var g="middle",b=n.x,E=n.y;return Math.abs(n.x)>=10?n.x>0?(g="start",b+=10):n.x<0&&(g="end",b-=10):g="middle",Math.abs(n.y)>=o-10&&(n.y<0?E-=10:n.y>0&&(E+=10)),{textAnchor:g,newX:b,newY:E}}},{key:"getPreviousPath",value:function(n){for(var o=this.w,g=null,b=0;b<o.globals.previousPaths.length;b++){var E=o.globals.previousPaths[b];E.paths.length>0&&parseInt(E.realIndex,10)===parseInt(n,10)&&o.globals.previousPaths[b].paths[0]!==void 0&&(g=o.globals.previousPaths[b].paths[0].d)}return g}},{key:"getDataPointsPos",value:function(n,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;n=n||[],o=o||[];for(var b=[],E=0;E<g;E++){var k={};k.x=n[E]*Math.sin(o[E]),k.y=-n[E]*Math.cos(o[E]),b.push(k)}return b}}]),_e}(),Xn=function(_e){H(o,cs);var n=de(o);function o(g){var b;p(this,o),(b=n.call(this,g)).ctx=g,b.w=g.w,b.animBeginArr=[0],b.animDur=0;var E=b.w;return b.startAngle=E.config.plotOptions.radialBar.startAngle,b.endAngle=E.config.plotOptions.radialBar.endAngle,b.totalAngle=Math.abs(E.config.plotOptions.radialBar.endAngle-E.config.plotOptions.radialBar.startAngle),b.trackStartAngle=E.config.plotOptions.radialBar.track.startAngle,b.trackEndAngle=E.config.plotOptions.radialBar.track.endAngle,b.radialDataLabels=E.config.plotOptions.radialBar.dataLabels,b.trackStartAngle||(b.trackStartAngle=b.startAngle),b.trackEndAngle||(b.trackEndAngle=b.endAngle),b.endAngle===360&&(b.endAngle=359.99),b.margin=parseInt(E.config.plotOptions.radialBar.track.margin,10),b}return x(o,[{key:"draw",value:function(g){var b=this.w,E=new me(this.ctx),k=E.group({class:"apexcharts-radialbar"});if(b.globals.noData)return k;var C=E.group(),P=this.defaultSize/2,N=b.globals.gridWidth/2,W=this.defaultSize/2.05;b.config.chart.sparkline.enabled||(W=W-b.config.stroke.width-b.config.chart.dropShadow.blur);var K=b.globals.fill.colors;if(b.config.plotOptions.radialBar.track.show){var ee=this.drawTracks({size:W,centerX:N,centerY:P,colorArr:K,series:g});C.add(ee)}var ue=this.drawArcs({size:W,centerX:N,centerY:P,colorArr:K,series:g}),we=360;b.config.plotOptions.radialBar.startAngle<0&&(we=this.totalAngle);var Me=(360-we)/360;if(b.globals.radialSize=W-W*Me,this.radialDataLabels.value.show){var Oe=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);b.globals.radialSize+=Oe*Me}return C.add(ue.g),b.config.plotOptions.radialBar.hollow.position==="front"&&(ue.g.add(ue.elHollow),ue.dataLabels&&ue.g.add(ue.dataLabels)),k.add(C),k}},{key:"drawTracks",value:function(g){var b=this.w,E=new me(this.ctx),k=E.group({class:"apexcharts-tracks"}),C=new ve(this.ctx),P=new Pe(this.ctx),N=this.getStrokeWidth(g);g.size=g.size-N/2;for(var W=0;W<g.series.length;W++){var K=E.group({class:"apexcharts-radialbar-track apexcharts-track"});k.add(K),K.attr({rel:W+1}),g.size=g.size-N-this.margin;var ee=b.config.plotOptions.radialBar.track,ue=P.fillPath({seriesNumber:0,size:g.size,fillColors:Array.isArray(ee.background)?ee.background[W]:ee.background,solid:!0}),we=this.trackStartAngle,Me=this.trackEndAngle;Math.abs(Me)+Math.abs(we)>=360&&(Me=360-Math.abs(this.startAngle)-.1);var Oe=E.drawPath({d:"",stroke:ue,strokeWidth:N*parseInt(ee.strokeWidth,10)/100,fill:"none",strokeOpacity:ee.opacity,classes:"apexcharts-radialbar-area"});if(ee.dropShadow.enabled){var He=ee.dropShadow;C.dropShadow(Oe,He)}K.add(Oe),Oe.attr("id","apexcharts-radialbarTrack-"+W),this.animatePaths(Oe,{centerX:g.centerX,centerY:g.centerY,endAngle:Me,startAngle:we,size:g.size,i:W,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:b.globals.easing})}return k}},{key:"drawArcs",value:function(g){var b=this.w,E=new me(this.ctx),k=new Pe(this.ctx),C=new ve(this.ctx),P=E.group(),N=this.getStrokeWidth(g);g.size=g.size-N/2;var W=b.config.plotOptions.radialBar.hollow.background,K=g.size-N*g.series.length-this.margin*g.series.length-N*parseInt(b.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,ee=K-b.config.plotOptions.radialBar.hollow.margin;b.config.plotOptions.radialBar.hollow.image!==void 0&&(W=this.drawHollowImage(g,P,K,W));var ue=this.drawHollow({size:ee,centerX:g.centerX,centerY:g.centerY,fill:W||"transparent"});if(b.config.plotOptions.radialBar.hollow.dropShadow.enabled){var we=b.config.plotOptions.radialBar.hollow.dropShadow;C.dropShadow(ue,we)}var Me=1;!this.radialDataLabels.total.show&&b.globals.series.length>1&&(Me=0);var Oe=null;this.radialDataLabels.show&&(Oe=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:K,centerX:g.centerX,centerY:g.centerY,opacity:Me})),b.config.plotOptions.radialBar.hollow.position==="back"&&(P.add(ue),Oe&&P.add(Oe));var He=!1;b.config.plotOptions.radialBar.inverseOrder&&(He=!0);for(var Le=He?g.series.length-1:0;He?Le>=0:Le<g.series.length;He?Le--:Le++){var gt=E.group({class:"apexcharts-series apexcharts-radial-series",seriesName:X.escapeString(b.globals.seriesNames[Le])});P.add(gt),gt.attr({rel:Le+1,"data:realIndex":Le}),this.ctx.series.addCollapsedClassToSeries(gt,Le),g.size=g.size-N-this.margin;var B=k.fillPath({seriesNumber:Le,size:g.size,value:g.series[Le]}),se=this.startAngle,ke=void 0,Ke=X.negToZero(g.series[Le]>100?100:g.series[Le])/100,zt=Math.round(this.totalAngle*Ke)+this.startAngle,ai=void 0;b.globals.dataChanged&&(ke=this.startAngle,ai=Math.round(this.totalAngle*X.negToZero(b.globals.previousPaths[Le])/100)+ke),Math.abs(zt)+Math.abs(se)>=360&&(zt-=.01),Math.abs(ai)+Math.abs(ke)>=360&&(ai-=.01);var Xt=zt-se,Wt=Array.isArray(b.config.stroke.dashArray)?b.config.stroke.dashArray[Le]:b.config.stroke.dashArray,li=E.drawPath({d:"",stroke:B,strokeWidth:N,fill:"none",fillOpacity:b.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Le,strokeDashArray:Wt});if(me.setAttrs(li.node,{"data:angle":Xt,"data:value":g.series[Le]}),b.config.chart.dropShadow.enabled){var mi=b.config.chart.dropShadow;C.dropShadow(li,mi,Le)}C.setSelectionFilter(li,0,Le),this.addListeners(li,this.radialDataLabels),gt.add(li),li.attr({index:0,j:Le});var Yi=0;!this.initialAnim||b.globals.resized||b.globals.dataChanged||(Yi=(zt-se)/360*b.config.chart.animations.speed,this.animDur=Yi/(1.2*g.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),b.globals.dataChanged&&(Yi=(zt-se)/360*b.config.chart.animations.dynamicAnimation.speed,this.animDur=Yi/(1.2*g.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(li,{centerX:g.centerX,centerY:g.centerY,endAngle:zt,startAngle:se,prevEndAngle:ai,prevStartAngle:ke,size:g.size,i:Le,totalItems:2,animBeginArr:this.animBeginArr,dur:Yi,shouldSetPrevPaths:!0,easing:b.globals.easing})}return{g:P,elHollow:ue,dataLabels:Oe}}},{key:"drawHollow",value:function(g){var b=new me(this.ctx).drawCircle(2*g.size);return b.attr({class:"apexcharts-radialbar-hollow",cx:g.centerX,cy:g.centerY,r:g.size,fill:g.fill}),b}},{key:"drawHollowImage",value:function(g,b,E,k){var C=this.w,P=new Pe(this.ctx),N=X.randomId(),W=C.config.plotOptions.radialBar.hollow.image;if(C.config.plotOptions.radialBar.hollow.imageClipped)P.clippedImgArea({width:E,height:E,image:W,patternID:"pattern".concat(C.globals.cuid).concat(N)}),k="url(#pattern".concat(C.globals.cuid).concat(N,")");else{var K=C.config.plotOptions.radialBar.hollow.imageWidth,ee=C.config.plotOptions.radialBar.hollow.imageHeight;if(K===void 0&&ee===void 0){var ue=C.globals.dom.Paper.image(W).loaded(function(Me){this.move(g.centerX-Me.width/2+C.config.plotOptions.radialBar.hollow.imageOffsetX,g.centerY-Me.height/2+C.config.plotOptions.radialBar.hollow.imageOffsetY)});b.add(ue)}else{var we=C.globals.dom.Paper.image(W).loaded(function(Me){this.move(g.centerX-K/2+C.config.plotOptions.radialBar.hollow.imageOffsetX,g.centerY-ee/2+C.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(K,ee)});b.add(we)}}return k}},{key:"getStrokeWidth",value:function(g){var b=this.w;return g.size*(100-parseInt(b.config.plotOptions.radialBar.hollow.size,10))/100/(g.series.length+1)-this.margin}}]),o}(),Ga=function(){function _e(n){p(this,_e),this.w=n.w,this.lineCtx=n}return x(_e,[{key:"sameValueSeriesFix",value:function(n,o){var g=this.w;if(g.config.chart.type==="line"&&(g.config.fill.type==="gradient"||g.config.fill.type[n]==="gradient")&&new Q(this.lineCtx.ctx,g).seriesHaveSameValues(n)){var b=o[n].slice();b[b.length-1]=b[b.length-1]+1e-6,o[n]=b}return o}},{key:"calculatePoints",value:function(n){var o=n.series,g=n.realIndex,b=n.x,E=n.y,k=n.i,C=n.j,P=n.prevY,N=this.w,W=[],K=[];if(C===0){var ee=this.lineCtx.categoryAxisCorrection+N.config.markers.offsetX;N.globals.isXNumeric&&(ee=(N.globals.seriesX[g][0]-N.globals.minX)/this.lineCtx.xRatio+N.config.markers.offsetX),W.push(ee),K.push(X.isNumber(o[k][0])?P+N.config.markers.offsetY:null),W.push(b+N.config.markers.offsetX),K.push(X.isNumber(o[k][C+1])?E+N.config.markers.offsetY:null)}else W.push(b+N.config.markers.offsetX),K.push(X.isNumber(o[k][C+1])?E+N.config.markers.offsetY:null);return{x:W,y:K}}},{key:"checkPreviousPaths",value:function(n){for(var o=n.pathFromLine,g=n.pathFromArea,b=n.realIndex,E=this.w,k=0;k<E.globals.previousPaths.length;k++){var C=E.globals.previousPaths[k];(C.type==="line"||C.type==="area")&&C.paths.length>0&&parseInt(C.realIndex,10)===parseInt(b,10)&&(C.type==="line"?(this.lineCtx.appendPathFrom=!1,o=E.globals.previousPaths[k].paths[0].d):C.type==="area"&&(this.lineCtx.appendPathFrom=!1,g=E.globals.previousPaths[k].paths[0].d,E.config.stroke.show&&E.globals.previousPaths[k].paths[1]&&(o=E.globals.previousPaths[k].paths[1].d)))}return{pathFromLine:o,pathFromArea:g}}},{key:"determineFirstPrevY",value:function(n){var o=n.i,g=n.series,b=n.prevY,E=n.lineYPosition,k=this.w;if(g[o][0]!==void 0)b=(E=k.config.chart.stacked&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-g[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?g[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(k.config.chart.stacked&&o>0&&g[o][0]===void 0){for(var C=o-1;C>=0;C--)if(g[C][0]!==null&&g[C][0]!==void 0){b=E=this.lineCtx.prevSeriesY[C][0];break}}return{prevY:b,lineYPosition:E}}}]),_e}(),tn=function(){function _e(n,o,g){p(this,_e),this.ctx=n,this.w=n.w,this.xyRatios=o,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||g,this.scatter=new te(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ga(this),this.markers=new De(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return x(_e,[{key:"draw",value:function(n,o,g){var b=this.w,E=new me(this.ctx),k=b.globals.comboCharts?o:b.config.chart.type,C=E.group({class:"apexcharts-".concat(k,"-series apexcharts-plot-series")}),P=new Q(this.ctx,b);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,n=P.getLogSeries(n),this.yRatio=P.getLogYRatios(this.yRatio);for(var N=[],W=0;W<n.length;W++){n=this.lineHelpers.sameValueSeriesFix(W,n);var K=b.globals.comboCharts?g[W]:W;this._initSerieVariables(n,W,K);var ee=[],ue=[],we=b.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,K),b.globals.isXNumeric&&b.globals.seriesX.length>0&&(we=(b.globals.seriesX[K][0]-b.globals.minX)/this.xRatio),ue.push(we);var Me,Oe=we,He=Oe,Le=this.zeroY;Le=this.lineHelpers.determineFirstPrevY({i:W,series:n,prevY:Le,lineYPosition:0}).prevY,ee.push(Le),Me=Le;var gt=this._calculatePathsFrom({series:n,i:W,realIndex:K,prevX:He,prevY:Le}),B=this._iterateOverDataPoints({series:n,realIndex:K,i:W,x:we,y:1,pX:Oe,pY:Me,pathsFrom:gt,linePaths:[],areaPaths:[],seriesIndex:g,lineYPosition:0,xArrj:ue,yArrj:ee});this._handlePaths({type:k,realIndex:K,i:W,paths:B}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),N.push(this.elSeries)}if(b.config.chart.stacked)for(var se=N.length;se>0;se--)C.add(N[se-1]);else for(var ke=0;ke<N.length;ke++)C.add(N[ke]);return C}},{key:"_initSerieVariables",value:function(n,o,g){var b=this.w,E=new me(this.ctx);this.xDivision=b.globals.gridWidth/(b.globals.dataPoints-(b.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(b.config.stroke.width)?b.config.stroke.width[g]:b.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=g),this.isReversed=b.config.yaxis[this.yaxisIndex]&&b.config.yaxis[this.yaxisIndex].reversed,this.zeroY=b.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?b.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>b.globals.gridHeight||b.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=b.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=E.group({class:"apexcharts-series",seriesName:X.escapeString(b.globals.seriesNames[g])}),this.elPointsMain=E.group({class:"apexcharts-series-markers-wrap","data:realIndex":g}),this.elDataLabelsWrap=E.group({class:"apexcharts-datalabels","data:realIndex":g});var k=n[o].length===b.globals.dataPoints;this.elSeries.attr({"data:longestSeries":k,rel:o+1,"data:realIndex":g}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(n){var o,g,b,E,k=n.series,C=n.i,P=n.realIndex,N=n.prevX,W=n.prevY,K=this.w,ee=new me(this.ctx);if(k[C][0]===null){for(var ue=0;ue<k[C].length;ue++)if(k[C][ue]!==null){N=this.xDivision*ue,W=this.zeroY-k[C][ue]/this.yRatio[this.yaxisIndex],o=ee.move(N,W),g=ee.move(N,this.areaBottomY);break}}else o=ee.move(N,W),g=ee.move(N,this.areaBottomY)+ee.line(N,W);if(b=ee.move(-1,this.zeroY)+ee.line(-1,this.zeroY),E=ee.move(-1,this.zeroY)+ee.line(-1,this.zeroY),K.globals.previousPaths.length>0){var we=this.lineHelpers.checkPreviousPaths({pathFromLine:b,pathFromArea:E,realIndex:P});b=we.pathFromLine,E=we.pathFromArea}return{prevX:N,prevY:W,linePath:o,areaPath:g,pathFromLine:b,pathFromArea:E}}},{key:"_handlePaths",value:function(n){var o=n.type,g=n.realIndex,b=n.i,E=n.paths,k=this.w,C=new me(this.ctx),P=new Pe(this.ctx);this.prevSeriesY.push(E.yArrj),k.globals.seriesXvalues[g]=E.xArrj,k.globals.seriesYvalues[g]=E.yArrj,this.pointsChart||k.globals.delayedElements.push({el:this.elPointsMain.node,index:g});var N={i:b,realIndex:g,animationDelay:b,initialSpeed:k.config.chart.animations.speed,dataChangeSpeed:k.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(o)};if(o==="area")for(var W=P.fillPath({seriesNumber:g}),K=0;K<E.areaPaths.length;K++){var ee=C.renderPaths(L(L({},N),{},{pathFrom:E.pathFromArea,pathTo:E.areaPaths[K],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:W}));this.elSeries.add(ee)}if(k.config.stroke.show&&!this.pointsChart){var ue=null;ue=o==="line"?P.fillPath({seriesNumber:g,i:b}):k.globals.stroke.colors[g];for(var we=0;we<E.linePaths.length;we++){var Me=C.renderPaths(L(L({},N),{},{pathFrom:E.pathFromLine,pathTo:E.linePaths[we],stroke:ue,strokeWidth:this.strokeWidth,strokeLineCap:k.config.stroke.lineCap,fill:"none"}));this.elSeries.add(Me)}}}},{key:"_iterateOverDataPoints",value:function(n){for(var o=n.series,g=n.realIndex,b=n.i,E=n.x,k=n.y,C=n.pX,P=n.pY,N=n.pathsFrom,W=n.linePaths,K=n.areaPaths,ee=n.seriesIndex,ue=n.lineYPosition,we=n.xArrj,Me=n.yArrj,Oe=this.w,He=new me(this.ctx),Le=this.yRatio,gt=N.prevY,B=N.linePath,se=N.areaPath,ke=N.pathFromLine,Ke=N.pathFromArea,zt=X.isNumber(Oe.globals.minYArr[g])?Oe.globals.minYArr[g]:Oe.globals.minY,ai=Oe.globals.dataPoints>1?Oe.globals.dataPoints-1:Oe.globals.dataPoints,Xt=0;Xt<ai;Xt++){var Wt=o[b][Xt+1]===void 0||o[b][Xt+1]===null;if(Oe.globals.isXNumeric){var li=Oe.globals.seriesX[g][Xt+1];Oe.globals.seriesX[g][Xt+1]===void 0&&(li=Oe.globals.seriesX[g][ai-1]),E=(li-Oe.globals.minX)/this.xRatio}else E+=this.xDivision;Oe.config.chart.stacked?b>0&&Oe.globals.collapsedSeries.length<Oe.config.series.length-1?ue=this.prevSeriesY[function(Gr){for(var Gi=Gr,Rr=0;Rr<Oe.globals.series.length;Rr++)if(Oe.globals.collapsedSeriesIndices.indexOf(Gr)>-1){Gi--;break}return Gi>=0?Gi:0}(b-1)][Xt+1]:ue=this.zeroY:ue=this.zeroY,k=Wt?ue-zt/Le[this.yaxisIndex]+2*(this.isReversed?zt/Le[this.yaxisIndex]:0):ue-o[b][Xt+1]/Le[this.yaxisIndex]+2*(this.isReversed?o[b][Xt+1]/Le[this.yaxisIndex]:0),we.push(E),Me.push(k);var mi=this.lineHelpers.calculatePoints({series:o,x:E,y:k,realIndex:g,i:b,j:Xt,prevY:gt}),Yi=this._createPaths({series:o,i:b,realIndex:g,j:Xt,x:E,y:k,pX:C,pY:P,linePath:B,areaPath:se,linePaths:W,areaPaths:K,seriesIndex:ee});K=Yi.areaPaths,W=Yi.linePaths,C=Yi.pX,P=Yi.pY,se=Yi.areaPath,B=Yi.linePath,this.appendPathFrom&&(ke+=He.line(E,this.zeroY),Ke+=He.line(E,this.zeroY)),this.handleNullDataPoints(o,mi,b,Xt,g),this._handleMarkersAndLabels({pointsPos:mi,series:o,x:E,y:k,prevY:gt,i:b,j:Xt,realIndex:g})}return{yArrj:Me,xArrj:we,pathFromArea:Ke,areaPaths:K,pathFromLine:ke,linePaths:W}}},{key:"_handleMarkersAndLabels",value:function(n){var o=n.pointsPos,g=(n.series,n.x,n.y,n.prevY,n.i),b=n.j,E=n.realIndex,k=this.w,C=new fe(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,b,{realIndex:E,pointsPos:o,zRatio:this.zRatio,elParent:this.elPointsMain});else{k.globals.series[g].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var P=this.markers.plotChartMarkers(o,E,b+1);P!==null&&this.elPointsMain.add(P)}var N=C.drawDataLabel(o,E,b+1,null);N!==null&&this.elDataLabelsWrap.add(N)}},{key:"_createPaths",value:function(n){var o=n.series,g=n.i,b=n.realIndex,E=n.j,k=n.x,C=n.y,P=n.pX,N=n.pY,W=n.linePath,K=n.areaPath,ee=n.linePaths,ue=n.areaPaths,we=n.seriesIndex,Me=this.w,Oe=new me(this.ctx),He=Me.config.stroke.curve,Le=this.areaBottomY;if(Array.isArray(Me.config.stroke.curve)&&(He=Array.isArray(we)?Me.config.stroke.curve[we[g]]:Me.config.stroke.curve[g]),He==="smooth"){var gt=.35*(k-P);Me.globals.hasNullValues?(o[g][E]!==null&&(o[g][E+1]!==null?(W=Oe.move(P,N)+Oe.curve(P+gt,N,k-gt,C,k+1,C),K=Oe.move(P+1,N)+Oe.curve(P+gt,N,k-gt,C,k+1,C)+Oe.line(k,Le)+Oe.line(P,Le)+"z"):(W=Oe.move(P,N),K=Oe.move(P,N)+"z")),ee.push(W),ue.push(K)):(W+=Oe.curve(P+gt,N,k-gt,C,k,C),K+=Oe.curve(P+gt,N,k-gt,C,k,C)),P=k,N=C,E===o[g].length-2&&(K=K+Oe.curve(P,N,k,C,k,Le)+Oe.move(k,C)+"z",Me.globals.hasNullValues||(ee.push(W),ue.push(K)))}else{if(o[g][E+1]===null){W+=Oe.move(k,C);var B=Me.globals.isXNumeric?(Me.globals.seriesX[b][E]-Me.globals.minX)/this.xRatio:k-this.xDivision;K=K+Oe.line(B,Le)+Oe.move(k,C)+"z"}o[g][E]===null&&(W+=Oe.move(k,C),K+=Oe.move(k,Le)),He==="stepline"?(W=W+Oe.line(k,null,"H")+Oe.line(null,C,"V"),K=K+Oe.line(k,null,"H")+Oe.line(null,C,"V")):He==="straight"&&(W+=Oe.line(k,C),K+=Oe.line(k,C)),E===o[g].length-2&&(K=K+Oe.line(k,Le)+Oe.move(k,C)+"z",ee.push(W),ue.push(K))}return{linePaths:ee,areaPaths:ue,pX:P,pY:N,linePath:W,areaPath:K}}},{key:"handleNullDataPoints",value:function(n,o,g,b,E){var k=this.w;if(n[g][b]===null&&k.config.markers.showNullDataPoints||n[g].length===1){var C=this.markers.plotChartMarkers(o,E,b+1,this.strokeWidth-k.config.markers.strokeWidth/2,!0);C!==null&&this.elPointsMain.add(C)}}}]),_e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function _e(C,P,N,W){this.xoffset=C,this.yoffset=P,this.height=W,this.width=N,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(K){var ee,ue=[],we=this.xoffset,Me=this.yoffset,Oe=E(K)/this.height,He=E(K)/this.width;if(this.width>=this.height)for(ee=0;ee<K.length;ee++)ue.push([we,Me,we+Oe,Me+K[ee]/Oe]),Me+=K[ee]/Oe;else for(ee=0;ee<K.length;ee++)ue.push([we,Me,we+K[ee]/He,Me+He]),we+=K[ee]/He;return ue},this.cutArea=function(K){var ee;if(this.width>=this.height){var ue=K/this.height,we=this.width-ue;ee=new _e(this.xoffset+ue,this.yoffset,we,this.height)}else{var Me=K/this.width,Oe=this.height-Me;ee=new _e(this.xoffset,this.yoffset+Me,this.width,Oe)}return ee}}function n(C,P,N,W,K){return W=W===void 0?0:W,K=K===void 0?0:K,function(ee){var ue,we,Me=[];for(ue=0;ue<ee.length;ue++)for(we=0;we<ee[ue].length;we++)Me.push(ee[ue][we]);return Me}(o(function(ee,ue){var we,Me=[],Oe=ue/E(ee);for(we=0;we<ee.length;we++)Me[we]=ee[we]*Oe;return Me}(C,P*N),[],new _e(W,K,P,N),[]))}function o(C,P,N,W){var K,ee,ue;if(C.length!==0)return K=N.shortestEdge(),function(we,Me,Oe){var He;if(we.length===0)return!0;(He=we.slice()).push(Me);var Le=g(we,Oe),gt=g(He,Oe);return Le>=gt}(P,ee=C[0],K)?(P.push(ee),o(C.slice(1),P,N,W)):(ue=N.cutArea(E(P),W),W.push(N.getCoordinates(P)),o(C,[],ue,W)),W;W.push(N.getCoordinates(P))}function g(C,P){var N=Math.min.apply(Math,C),W=Math.max.apply(Math,C),K=E(C);return Math.max(Math.pow(P,2)*W/Math.pow(K,2),Math.pow(K,2)/(Math.pow(P,2)*N))}function b(C){return C&&C.constructor===Array}function E(C){var P,N=0;for(P=0;P<C.length;P++)N+=C[P];return N}function k(C){var P,N=0;if(b(C[0]))for(P=0;P<C.length;P++)N+=k(C[P]);else N=E(C);return N}return function C(P,N,W,K,ee){K=K===void 0?0:K,ee=ee===void 0?0:ee;var ue,we,Me=[],Oe=[];if(b(P[0])){for(we=0;we<P.length;we++)Me[we]=k(P[we]);for(ue=n(Me,N,W,K,ee),we=0;we<P.length;we++)Oe.push(C(P[we],ue[we][2]-ue[we][0],ue[we][3]-ue[we][1],ue[we][0],ue[we][1]))}else Oe=n(P,N,W,K,ee);return Oe}}();var Br,Zn,ut=function(){function _e(n,o){p(this,_e),this.ctx=n,this.w=n.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Oa(n),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return x(_e,[{key:"draw",value:function(n){var o=this,g=this.w,b=new me(this.ctx),E=new Pe(this.ctx),k=b.group({class:"apexcharts-treemap"});if(g.globals.noData)return k;var C=[];return n.forEach(function(P){var N=P.map(function(W){return Math.abs(W)});C.push(N)}),this.negRange=this.helpers.checkColorRange(),g.config.series.forEach(function(P,N){P.data.forEach(function(W){Array.isArray(o.labels[N])||(o.labels[N]=[]),o.labels[N].push(W.x)})}),window.TreemapSquared.generate(C,g.globals.gridWidth,g.globals.gridHeight).forEach(function(P,N){var W=b.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:X.escapeString(g.globals.seriesNames[N]),rel:N+1,"data:realIndex":N});if(g.config.chart.dropShadow.enabled){var K=g.config.chart.dropShadow;new ve(o.ctx).dropShadow(k,K,N)}var ee=b.group({class:"apexcharts-data-labels"});P.forEach(function(ue,we){var Me=ue[0],Oe=ue[1],He=ue[2],Le=ue[3],gt=b.drawRect(Me,Oe,He-Me,Le-Oe,0,"#fff",1,o.strokeWidth,g.config.plotOptions.treemap.useFillColorAsStroke?se:g.globals.stroke.colors[N]);gt.attr({cx:Me,cy:Oe,index:N,i:N,j:we,width:He-Me,height:Le-Oe});var B=o.helpers.getShadeColor(g.config.chart.type,N,we,o.negRange),se=B.color;g.config.series[N].data[we]!==void 0&&g.config.series[N].data[we].fillColor&&(se=g.config.series[N].data[we].fillColor);var ke=E.fillPath({color:se,seriesNumber:N,dataPointIndex:we});gt.node.classList.add("apexcharts-treemap-rect"),gt.attr({fill:ke}),o.helpers.addListeners(gt);var Ke={x:Me+(He-Me)/2,y:Oe+(Le-Oe)/2,width:0,height:0},zt={x:Me,y:Oe,width:He-Me,height:Le-Oe};if(g.config.chart.animations.enabled&&!g.globals.dataChanged){var ai=1;g.globals.resized||(ai=g.config.chart.animations.speed),o.animateTreemap(gt,Ke,zt,ai)}if(g.globals.dataChanged){var Xt=1;o.dynamicAnim.enabled&&g.globals.shouldAnimate&&(Xt=o.dynamicAnim.speed,g.globals.previousPaths[N][we]&&g.globals.previousPaths[N][we].rect&&(Ke=g.globals.previousPaths[N][we].rect),o.animateTreemap(gt,Ke,zt,Xt))}var Wt=o.getFontSize(ue),li=g.config.dataLabels.formatter(o.labels[N][we],{value:g.globals.series[N][we],seriesIndex:N,dataPointIndex:we,w:g}),mi=o.helpers.calculateDataLabels({text:li,x:(Me+He)/2,y:(Oe+Le)/2+o.strokeWidth/2+Wt/3,i:N,j:we,colorProps:B,fontSize:Wt,series:n});g.config.dataLabels.enabled&&mi&&o.rotateToFitLabel(mi,li,Me,Oe,He,Le),W.add(gt),mi!==null&&W.add(mi)}),W.add(ee),k.add(W)}),k}},{key:"getFontSize",value:function(n){var o=this.w,g,b,E,k,C=function P(N){var W,K=0;if(Array.isArray(N[0]))for(W=0;W<N.length;W++)K+=P(N[W]);else for(W=0;W<N.length;W++)K+=N[W].length;return K}(this.labels)/function P(N){var W,K=0;if(Array.isArray(N[0]))for(W=0;W<N.length;W++)K+=P(N[W]);else for(W=0;W<N.length;W++)K+=1;return K}(this.labels);return g=n[2]-n[0],b=n[3]-n[1],E=g*b,k=Math.pow(E,.5),Math.min(k/C,parseInt(o.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(n,o,g,b,E,k){var C=new me(this.ctx),P=C.getTextRects(o);if(P.width+5>E-g&&P.width<=k-b){var N=C.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(-90 ".concat(N.x," ").concat(N.y,")"))}}},{key:"animateTreemap",value:function(n,o,g,b){var E=new pe(this.ctx);E.animateRect(n,{x:o.x,y:o.y,width:o.width,height:o.height},{x:g.x,y:g.y,width:g.width,height:g.height},b,function(){E.animationCompleted(n)})}}]),_e}(),Ce=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return x(_e,[{key:"calculateTimeScaleTicks",value:function(n,o){var g=this,b=this.w;if(b.globals.allSeriesCollapsed)return b.globals.labels=[],b.globals.timescaleLabels=[],[];var E=new ht(this.ctx),k=(o-n)/864e5;this.determineInterval(k),b.globals.disableZoomIn=!1,b.globals.disableZoomOut=!1,k<.005?b.globals.disableZoomIn=!0:k>5e4&&(b.globals.disableZoomOut=!0);var C=E.getTimeUnitsfromTimestamp(n,o,this.utc),P=b.globals.gridWidth/k,N=P/24,W=N/60,K=W/60,ee=Math.floor(24*k),ue=Math.floor(24*k*60),we=Math.floor(24*k*60*60),Me=Math.floor(k),Oe=Math.floor(k/30),He=Math.floor(k/365),Le={minSecond:C.minSecond,minMinute:C.minMinute,minHour:C.minHour,minDate:C.minDate,minMonth:C.minMonth,minYear:C.minYear},gt={firstVal:Le,currentSecond:Le.minSecond,currentMinute:Le.minMinute,currentHour:Le.minHour,currentMonthDate:Le.minDate,currentDate:Le.minDate,currentMonth:Le.minMonth,currentYear:Le.minYear,daysWidthOnXAxis:P,hoursWidthOnXAxis:N,minutesWidthOnXAxis:W,secondsWidthOnXAxis:K,numberOfSeconds:we,numberOfMinutes:ue,numberOfHours:ee,numberOfDays:Me,numberOfMonths:Oe,numberOfYears:He};switch(this.tickInterval){case"years":this.generateYearScale(gt);break;case"months":case"half_year":this.generateMonthScale(gt);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(gt);break;case"hours":this.generateHourScale(gt);break;case"minutes":this.generateMinuteScale(gt)}var B=this.timeScaleArray.map(function(se){var ke={position:se.position,unit:se.unit,year:se.year,day:se.day?se.day:1,hour:se.hour?se.hour:0,month:se.month+1};return se.unit==="month"?L(L({},ke),{},{day:1,value:se.value+1}):se.unit==="day"||se.unit==="hour"?L(L({},ke),{},{value:se.value}):se.unit==="minute"?L(L({},ke),{},{value:se.value,minute:se.value}):se});return B.filter(function(se){var ke=1,Ke=Math.ceil(b.globals.gridWidth/120),zt=se.value;b.config.xaxis.tickAmount!==void 0&&(Ke=b.config.xaxis.tickAmount),B.length>Ke&&(ke=Math.floor(B.length/Ke));var ai=!1,Xt=!1;switch(g.tickInterval){case"years":se.unit==="year"&&(ai=!0);break;case"half_year":ke=7,se.unit==="year"&&(ai=!0);break;case"months":ke=1,se.unit==="year"&&(ai=!0);break;case"months_fortnight":ke=15,se.unit!=="year"&&se.unit!=="month"||(ai=!0),zt===30&&(Xt=!0);break;case"months_days":ke=10,se.unit==="month"&&(ai=!0),zt===30&&(Xt=!0);break;case"week_days":ke=8,se.unit==="month"&&(ai=!0);break;case"days":ke=1,se.unit==="month"&&(ai=!0);break;case"hours":se.unit==="day"&&(ai=!0);break;case"minutes":zt%5!=0&&(Xt=!0)}if(g.tickInterval==="minutes"||g.tickInterval==="hours"){if(!Xt)return!0}else if((zt%ke==0||ai)&&!Xt)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(n,o){var g=this.w,b=this.formatDates(n),E=this.removeOverlappingTS(b);g.globals.timescaleLabels=E.slice(),new Ar(this.ctx).plotCoords()}},{key:"determineInterval",value:function(n){switch(!0){case n>1825:this.tickInterval="years";break;case(n>800&&n<=1825):this.tickInterval="half_year";break;case(n>180&&n<=800):this.tickInterval="months";break;case(n>90&&n<=180):this.tickInterval="months_fortnight";break;case(n>60&&n<=90):this.tickInterval="months_days";break;case(n>30&&n<=60):this.tickInterval="week_days";break;case(n>2&&n<=30):this.tickInterval="days";break;case(n>.1&&n<=2):this.tickInterval="hours";break;case n<.1:this.tickInterval="minutes";break;default:this.tickInterval="days"}}},{key:"generateYearScale",value:function(n){var o=n.firstVal,g=n.currentMonth,b=n.currentYear,E=n.daysWidthOnXAxis,k=n.numberOfYears,C=o.minYear,P=0,N=new ht(this.ctx),W="year";if(o.minDate>1||o.minMonth>0){var K=N.determineRemainingDaysOfYear(o.minYear,o.minMonth,o.minDate);P=(N.determineDaysOfYear(o.minYear)-K+1)*E,C=o.minYear+1,this.timeScaleArray.push({position:P,value:C,unit:W,year:C,month:X.monthMod(g+1)})}else o.minDate===1&&o.minMonth===0&&this.timeScaleArray.push({position:P,value:C,unit:W,year:b,month:X.monthMod(g+1)});for(var ee=C,ue=P,we=0;we<k;we++)ee++,ue=N.determineDaysOfYear(ee-1)*E+ue,this.timeScaleArray.push({position:ue,value:ee,unit:W,year:ee,month:1})}},{key:"generateMonthScale",value:function(n){var o=n.firstVal,g=n.currentMonthDate,b=n.currentMonth,E=n.currentYear,k=n.daysWidthOnXAxis,C=n.numberOfMonths,P=b,N=0,W=new ht(this.ctx),K="month",ee=0;if(o.minDate>1){N=(W.determineDaysOfMonths(b+1,o.minYear)-g+1)*k,P=X.monthMod(b+1);var ue=E+ee,we=X.monthMod(P),Me=P;P===0&&(K="year",Me=ue,we=1,ue+=ee+=1),this.timeScaleArray.push({position:N,value:Me,unit:K,year:ue,month:we})}else this.timeScaleArray.push({position:N,value:P,unit:K,year:E,month:X.monthMod(b)});for(var Oe=P+1,He=N,Le=0,gt=1;Le<C;Le++,gt++){(Oe=X.monthMod(Oe))===0?(K="year",ee+=1):K="month";var B=this._getYear(E,Oe,ee);He=W.determineDaysOfMonths(Oe,B)*k+He;var se=Oe===0?B:Oe;this.timeScaleArray.push({position:He,value:se,unit:K,year:B,month:Oe===0?1:Oe}),Oe++}}},{key:"generateDayScale",value:function(n){var o=n.firstVal,g=n.currentMonth,b=n.currentYear,E=n.hoursWidthOnXAxis,k=n.numberOfDays,C=new ht(this.ctx),P="day",N=o.minDate+1,W=N,K=function(gt,B,se){return gt>C.determineDaysOfMonths(B+1,se)&&(W=1,P="month",ue=B+=1),B},ee=(24-o.minHour)*E,ue=N,we=K(W,g,b);o.minHour===0&&o.minDate===1&&(ee=0,ue=X.monthMod(o.minMonth),P="month",W=o.minDate,k++),this.timeScaleArray.push({position:ee,value:ue,unit:P,year:this._getYear(b,we,0),month:X.monthMod(we),day:W});for(var Me=ee,Oe=0;Oe<k;Oe++){P="day",we=K(W+=1,we,this._getYear(b,we,0));var He=this._getYear(b,we,0);Me=24*E+Me;var Le=W===1?X.monthMod(we):W;this.timeScaleArray.push({position:Me,value:Le,unit:P,year:He,month:X.monthMod(we),day:Le})}}},{key:"generateHourScale",value:function(n){var o=n.firstVal,g=n.currentDate,b=n.currentMonth,E=n.currentYear,k=n.minutesWidthOnXAxis,C=n.numberOfHours,P=new ht(this.ctx),N="hour",W=function(ke,Ke){return ke>P.determineDaysOfMonths(Ke+1,E)&&(Oe=1,Ke+=1),{month:Ke,date:Oe}},K=function(ke,Ke){return ke>P.determineDaysOfMonths(Ke+1,E)?Ke+=1:Ke},ee=60-(o.minMinute+o.minSecond/60),ue=ee*k,we=o.minHour+1,Me=we+1;ee===60&&(ue=0,Me=(we=o.minHour)+1);var Oe=g,He=K(Oe,b);this.timeScaleArray.push({position:ue,value:we,unit:N,day:Oe,hour:Me,year:E,month:X.monthMod(He)});for(var Le=ue,gt=0;gt<C;gt++){N="hour",Me>=24&&(Me=0,N="day",He=W(Oe+=1,He).month,He=K(Oe,He));var B=this._getYear(E,He,0);Le=Me===0&&gt===0?ee*k:60*k+Le;var se=Me===0?Oe:Me;this.timeScaleArray.push({position:Le,value:se,unit:N,hour:Me,day:Oe,year:B,month:X.monthMod(He)}),Me++}}},{key:"generateMinuteScale",value:function(n){var o=n.firstVal,g=(n.currentSecond,n.currentMinute,n.currentHour),b=n.currentDate,E=n.currentMonth,k=n.currentYear,C=n.minutesWidthOnXAxis,P=n.secondsWidthOnXAxis,N=n.numberOfMinutes,W="minute",K=(60-o.minSecond)*P,ee=o.minMinute+1,ue=ee+1,we=b,Me=E,Oe=k,He=g;this.timeScaleArray.push({position:K,value:ee,unit:W,day:we,hour:He,minute:ue,year:Oe,month:X.monthMod(Me)});for(var Le=K,gt=0;gt<N;gt++)ue>=60&&(ue=0,(He+=1)===24&&(He=0)),Le=C+Le,this.timeScaleArray.push({position:Le,value:ue,unit:W,hour:He,minute:ue,day:we,year:this._getYear(k,Me,0),month:X.monthMod(Me)}),ue++}},{key:"createRawDateString",value:function(n,o){var g=n.year;return g+="-"+("0"+n.month.toString()).slice(-2),n.unit==="day"?g+=n.unit==="day"?"-"+("0"+o).slice(-2):"-01":g+="-"+("0"+(n.day?n.day:"1")).slice(-2),n.unit==="hour"?g+=n.unit==="hour"?"T"+("0"+o).slice(-2):"T00":g+="T"+("0"+(n.hour?n.hour:"0")).slice(-2),g+=n.unit==="minute"?":"+("0"+o).slice(-2)+":00":":00:00",this.utc&&(g+=".000Z"),g}},{key:"formatDates",value:function(n){var o=this,g=this.w;return n.map(function(b){var E=b.value.toString(),k=new ht(o.ctx),C=o.createRawDateString(b,E),P=k.getDate(k.parseDate(C));if(o.utc||(P=k.getDate(k.parseDateWithTimezone(C))),g.config.xaxis.labels.format===void 0){var N="dd MMM",W=g.config.xaxis.labels.datetimeFormatter;b.unit==="year"&&(N=W.year),b.unit==="month"&&(N=W.month),b.unit==="day"&&(N=W.day),b.unit==="hour"&&(N=W.hour),b.unit==="minute"&&(N=W.minute),E=k.formatDate(P,N)}else E=k.formatDate(P,g.config.xaxis.labels.format);return{dateString:C,position:b.position,value:E,unit:b.unit,year:b.year,month:b.month}})}},{key:"removeOverlappingTS",value:function(n){var o,g=this,b=new me(this.ctx),E=!1;n.length>0&&n[0].value&&n.every(function(P){return P.value.length===n[0].value.length})&&(E=!0,o=b.getTextRects(n[0].value).width);var k=0,C=n.map(function(P,N){if(N>0&&g.w.config.xaxis.labels.hideOverlappingLabels){var W=E?o:b.getTextRects(n[k].value).width,K=n[k].position;return P.position>K+W+10?(k=N,P):null}return P});return C=C.filter(function(P){return P!==null})}},{key:"_getYear",value:function(n,o,g){return n+Math.floor(o/12)+g}}]),_e}(),je=function(){function _e(n,o){p(this,_e),this.ctx=o,this.w=o.w,this.el=n}return x(_e,[{key:"setupElements",value:function(){var n=this.w.globals,o=this.w.config,g=o.chart.type;n.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(g)>-1,n.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(g)>-1,n.isBarHorizontal=(o.chart.type==="bar"||o.chart.type==="rangeBar")&&o.plotOptions.bar.horizontal,n.chartClass=".apexcharts"+n.chartID,n.dom.baseEl=this.el,n.dom.elWrap=document.createElement("div"),me.setAttrs(n.dom.elWrap,{id:n.chartClass.substring(1),class:"apexcharts-canvas "+n.chartClass.substring(1)}),this.el.appendChild(n.dom.elWrap),n.dom.Paper=new window.SVG.Doc(n.dom.elWrap),n.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(o.chart.offsetX,", ").concat(o.chart.offsetY,")")}),n.dom.Paper.node.style.background=o.chart.background,this.setSVGDimensions(),n.dom.elGraphical=n.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),n.dom.elAnnotations=n.dom.Paper.group().attr({class:"apexcharts-annotations"}),n.dom.elDefs=n.dom.Paper.defs(),n.dom.elLegendWrap=document.createElement("div"),n.dom.elLegendWrap.classList.add("apexcharts-legend"),n.dom.elWrap.appendChild(n.dom.elLegendWrap),n.dom.Paper.add(n.dom.elGraphical),n.dom.elGraphical.add(n.dom.elDefs)}},{key:"plotChartType",value:function(n,o){var g=this.w,b=g.config,E=g.globals,k={series:[],i:[]},C={series:[],i:[]},P={series:[],i:[]},N={series:[],i:[]},W={series:[],i:[]},K={series:[],i:[]},ee={series:[],i:[]};E.series.map(function(se,ke){var Ke=0;n[ke].type!==void 0?(n[ke].type==="column"||n[ke].type==="bar"?(E.series.length>1&&b.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),W.series.push(se),W.i.push(ke),Ke++,g.globals.columnSeries=W.series):n[ke].type==="area"?(C.series.push(se),C.i.push(ke),Ke++):n[ke].type==="line"?(k.series.push(se),k.i.push(ke),Ke++):n[ke].type==="scatter"?(P.series.push(se),P.i.push(ke)):n[ke].type==="bubble"?(N.series.push(se),N.i.push(ke),Ke++):n[ke].type==="candlestick"?(K.series.push(se),K.i.push(ke),Ke++):n[ke].type==="boxPlot"?(ee.series.push(se),ee.i.push(ke),Ke++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),Ke>1&&(E.comboCharts=!0)):(k.series.push(se),k.i.push(ke))});var ue=new tn(this.ctx,o),we=new Pa(this.ctx,o);this.ctx.pie=new cs(this.ctx);var Me=new Xn(this.ctx);this.ctx.rangeBar=new Pt(this.ctx,o);var Oe=new ga(this.ctx),He=[];if(E.comboCharts){if(C.series.length>0&&He.push(ue.draw(C.series,"area",C.i)),W.series.length>0)if(g.config.chart.stacked){var Le=new qr(this.ctx,o);He.push(Le.draw(W.series,W.i))}else this.ctx.bar=new ot(this.ctx,o),He.push(this.ctx.bar.draw(W.series,W.i));if(k.series.length>0&&He.push(ue.draw(k.series,"line",k.i)),K.series.length>0&&He.push(we.draw(K.series,K.i)),ee.series.length>0&&He.push(we.draw(ee.series,ee.i)),P.series.length>0){var gt=new tn(this.ctx,o,!0);He.push(gt.draw(P.series,"scatter",P.i))}if(N.series.length>0){var B=new tn(this.ctx,o,!0);He.push(B.draw(N.series,"bubble",N.i))}}else switch(b.chart.type){case"line":He=ue.draw(E.series,"line");break;case"area":He=ue.draw(E.series,"area");break;case"bar":b.chart.stacked?He=new qr(this.ctx,o).draw(E.series):(this.ctx.bar=new ot(this.ctx,o),He=this.ctx.bar.draw(E.series));break;case"candlestick":He=new Pa(this.ctx,o).draw(E.series);break;case"boxPlot":He=new Pa(this.ctx,o).draw(E.series);break;case"rangeBar":He=this.ctx.rangeBar.draw(E.series);break;case"heatmap":He=new Ur(this.ctx,o).draw(E.series);break;case"treemap":He=new ut(this.ctx,o).draw(E.series);break;case"pie":case"donut":case"polarArea":He=this.ctx.pie.draw(E.series);break;case"radialBar":He=Me.draw(E.series);break;case"radar":He=Oe.draw(E.series);break;default:He=ue.draw(E.series)}return He}},{key:"setSVGDimensions",value:function(){var n=this.w.globals,o=this.w.config;n.svgWidth=o.chart.width,n.svgHeight=o.chart.height;var g=X.getDimensions(this.el),b=o.chart.width.toString().split(/[0-9]+/g).pop();b==="%"?X.isNumber(g[0])&&(g[0].width===0&&(g=X.getDimensions(this.el.parentNode)),n.svgWidth=g[0]*parseInt(o.chart.width,10)/100):b!=="px"&&b!==""||(n.svgWidth=parseInt(o.chart.width,10));var E=o.chart.height.toString().split(/[0-9]+/g).pop();if(n.svgHeight!=="auto"&&n.svgHeight!=="")if(E==="%"){var k=X.getDimensions(this.el.parentNode);n.svgHeight=k[1]*parseInt(o.chart.height,10)/100}else n.svgHeight=parseInt(o.chart.height,10);else n.axisCharts?n.svgHeight=n.svgWidth/1.61:n.svgHeight=n.svgWidth/1.2;if(n.svgWidth<0&&(n.svgWidth=0),n.svgHeight<0&&(n.svgHeight=0),me.setAttrs(n.dom.Paper.node,{width:n.svgWidth,height:n.svgHeight}),E!=="%"){var C=o.chart.sparkline.enabled?0:n.axisCharts?o.chart.parentHeightOffset:0;n.dom.Paper.node.parentNode.parentNode.style.minHeight=n.svgHeight+C+"px"}n.dom.elWrap.style.width=n.svgWidth+"px",n.dom.elWrap.style.height=n.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var n=this.w.globals,o=n.translateY,g={transform:"translate("+n.translateX+", "+o+")"};me.setAttrs(n.dom.elGraphical.node,g)}},{key:"resizeNonAxisCharts",value:function(){var n=this.w,o=n.globals,g=0,b=n.config.chart.sparkline.enabled?1:15;b+=n.config.grid.padding.bottom,n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||!n.config.legend.show||n.config.legend.floating||(g=new kn(this.ctx).legendHelpers.getLegendBBox().clwh+10);var E=n.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),k=2.05*n.globals.radialSize;if(E&&!n.config.chart.sparkline.enabled){var C=X.getBoundingClientRect(E);k=C.bottom;var P=C.bottom-C.top;k=Math.max(2.05*n.globals.radialSize,P)}var N=k+o.translateY+g+b;o.dom.elLegendForeign&&o.dom.elLegendForeign.setAttribute("height",N),o.dom.elWrap.style.height=N+"px",me.setAttrs(o.dom.Paper.node,{height:N}),o.dom.Paper.node.parentNode.parentNode.style.minHeight=N+"px"}},{key:"coreCalculations",value:function(){new wi(this.ctx).init()}},{key:"resetGlobals",value:function(){var n=this,o=function(){return n.w.config.series.map(function(E){return[]})},g=new Ie,b=this.w.globals;g.initGlobalVars(b),b.seriesXvalues=o(),b.seriesYvalues=o()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var n=null,o=this.w;if(o.globals.axisCharts){if(o.config.xaxis.crosshairs.position==="back"&&new Fi(this.ctx).drawXCrosshairs(),o.config.yaxis[0].crosshairs.position==="back"&&new Fi(this.ctx).drawYCrosshairs(),o.config.xaxis.type==="datetime"&&o.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Ce(this.ctx);var g=[];isFinite(o.globals.minX)&&isFinite(o.globals.maxX)&&!o.globals.isBarHorizontal?g=this.ctx.timeScale.calculateTimeScaleTicks(o.globals.minX,o.globals.maxX):o.globals.isBarHorizontal&&(g=this.ctx.timeScale.calculateTimeScaleTicks(o.globals.minY,o.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(g)}n=new Q(this.ctx).getCalculatedRatios()}return n}},{key:"updateSourceChart",value:function(n){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var n=this,o=this.w;if(o.config.chart.brush.enabled&&typeof o.config.chart.events.selection!="function"){var g=o.config.chart.brush.targets||[o.config.chart.brush.target];g.forEach(function(b){var E=ApexCharts.getChartByID(b);E.w.globals.brushSource=n.ctx,typeof E.w.config.chart.events.zoomed!="function"&&(E.w.config.chart.events.zoomed=function(){n.updateSourceChart(E)}),typeof E.w.config.chart.events.scrolled!="function"&&(E.w.config.chart.events.scrolled=function(){n.updateSourceChart(E)})}),o.config.chart.events.selection=function(b,E){g.forEach(function(k){var C=ApexCharts.getChartByID(k),P=X.clone(o.config.yaxis);if(o.config.chart.brush.autoScaleYaxis&&C.w.globals.series.length===1){var N=new Vt(C);P=N.autoScaleY(C,P,E)}var W=C.w.config.yaxis.reduce(function(K,ee,ue){return[].concat(ye(K),[L(L({},C.w.config.yaxis[ue]),{},{min:P[0].min,max:P[0].max})])},[]);C.ctx.updateHelpers._updateOptions({xaxis:{min:E.xaxis.min,max:E.xaxis.max},yaxis:W},!1,!1,!1,!1)})}}}}]),_e}(),ct=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"_updateOptions",value:function(n){var o=this,g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],b=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],E=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],k=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=[this.ctx];E&&(C=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(C=[this.ctx],this.ctx.w.globals.isExecCalled=!1),C.forEach(function(P){var N=P.w;return N.globals.shouldAnimate=b,g||(N.globals.resized=!0,N.globals.dataChanged=!0,b&&P.series.getPreviousPaths()),n&&h(n)==="object"&&(P.config=new Ze(n),n=Q.extendArrayProps(P.config,n,N),P.w.globals.chartID!==o.ctx.w.globals.chartID&&delete n.series,N.config=X.extend(N.config,n),k&&(N.globals.lastXAxis=n.xaxis?X.clone(n.xaxis):[],N.globals.lastYAxis=n.yaxis?X.clone(n.yaxis):[],N.globals.initialConfig=X.extend({},N.config),N.globals.initialSeries=X.clone(N.config.series))),P.update(n)})}},{key:"_updateSeries",value:function(n,o){var g,b=this,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2],k=this.w;return k.globals.shouldAnimate=o,k.globals.dataChanged=!0,o&&this.ctx.series.getPreviousPaths(),k.globals.axisCharts?((g=n.map(function(C,P){return b._extendSeries(C,P)})).length===0&&(g=[{data:[]}]),k.config.series=g):k.config.series=n.slice(),E&&(k.globals.initialSeries=X.clone(k.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(n,o){var g=this.w,b=g.config.series[o];return L(L({},g.config.series[o]),{},{name:n.name?n.name:b&&b.name,color:n.color?n.color:b&&b.color,type:n.type?n.type:b&&b.type,data:n.data?n.data:b&&b.data})}},{key:"toggleDataPointSelection",value:function(n,o){var g=this.w,b=null,E=".apexcharts-series[data\\:realIndex='".concat(n,"']");return g.globals.axisCharts?b=g.globals.dom.Paper.select("".concat(E," path[j='").concat(o,"'], ").concat(E," circle[j='").concat(o,"'], ").concat(E," rect[j='").concat(o,"']")).members[0]:o===void 0&&(b=g.globals.dom.Paper.select("".concat(E," path[j='").concat(n,"']")).members[0],g.config.chart.type!=="pie"&&g.config.chart.type!=="polarArea"&&g.config.chart.type!=="donut"||this.ctx.pie.pieClicked(n)),b?(new me(this.ctx).pathMouseDown(b,null),b.node?b.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(n){var o=this.w;if(["min","max"].forEach(function(b){n.xaxis[b]!==void 0&&(o.config.xaxis[b]=n.xaxis[b],o.globals.lastXAxis[b]=n.xaxis[b])}),n.xaxis.categories&&n.xaxis.categories.length&&(o.config.xaxis.categories=n.xaxis.categories),o.config.xaxis.convertedCatToNumeric){var g=new Ne(n);n=g.convertCatToNumericXaxis(n,this.ctx)}return n}},{key:"forceYAxisUpdate",value:function(n){var o=this.w;return o.config.chart.stacked&&o.config.chart.stackType==="100%"&&(Array.isArray(n.yaxis)?n.yaxis.forEach(function(g,b){n.yaxis[b].min=0,n.yaxis[b].max=100}):(n.yaxis.min=0,n.yaxis.max=100)),n}},{key:"revertDefaultAxisMinMax",value:function(n){var o=this,g=this.w,b=g.globals.lastXAxis,E=g.globals.lastYAxis;n&&n.xaxis&&(b=n.xaxis),n&&n.yaxis&&(E=n.yaxis),g.config.xaxis.min=b.min,g.config.xaxis.max=b.max;var k=function(C){E[C]!==void 0&&(g.config.yaxis[C].min=E[C].min,g.config.yaxis[C].max=E[C].max)};g.config.yaxis.map(function(C,P){g.globals.zoomed||E[P]!==void 0?k(P):o.ctx.opts.yaxis[P]!==void 0&&(C.min=o.ctx.opts.yaxis[P].min,C.max=o.ctx.opts.yaxis[P].max)})}}]),_e}();Br=typeof window<"u"?window:void 0,Zn=function(_e,n){var o=(this!==void 0?this:_e).SVG=function(B){if(o.supported)return B=new o.Doc(B),o.parser.draw||o.prepare(),B};if(o.ns="http://www.w3.org/2000/svg",o.xmlns="http://www.w3.org/2000/xmlns/",o.xlink="http://www.w3.org/1999/xlink",o.svgjs="http://svgjs.com/svgjs",o.supported=!0,!o.supported)return!1;o.did=1e3,o.eid=function(B){return"Svgjs"+W(B)+o.did++},o.create=function(B){var se=n.createElementNS(this.ns,B);return se.setAttribute("id",this.eid(B)),se},o.extend=function(){var B,se;se=(B=[].slice.call(arguments)).pop();for(var ke=B.length-1;ke>=0;ke--)if(B[ke])for(var Ke in se)B[ke].prototype[Ke]=se[Ke];o.Set&&o.Set.inherit&&o.Set.inherit()},o.invent=function(B){var se=typeof B.create=="function"?B.create:function(){this.constructor.call(this,o.create(B.create))};return B.inherit&&(se.prototype=new B.inherit),B.extend&&o.extend(se,B.extend),B.construct&&o.extend(B.parent||o.Container,B.construct),se},o.adopt=function(B){return B?B.instance?B.instance:((se=B.nodeName=="svg"?B.parentNode instanceof _e.SVGElement?new o.Nested:new o.Doc:B.nodeName=="linearGradient"?new o.Gradient("linear"):B.nodeName=="radialGradient"?new o.Gradient("radial"):o[W(B.nodeName)]?new o[W(B.nodeName)]:new o.Element(B)).type=B.nodeName,se.node=B,B.instance=se,se instanceof o.Doc&&se.namespace().defs(),se.setData(JSON.parse(B.getAttribute("svgjs:data"))||{}),se):null;var se},o.prepare=function(){var B=n.getElementsByTagName("body")[0],se=(B?new o.Doc(B):o.adopt(n.documentElement).nested()).size(2,0);o.parser={body:B||n.documentElement,draw:se.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:se.polyline().node,path:se.path().node,native:o.create("svg")}},o.parser={native:o.create("svg")},n.addEventListener("DOMContentLoaded",function(){o.parser.draw||o.prepare()},!1),o.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},o.utils={map:function(B,se){for(var ke=B.length,Ke=[],zt=0;zt<ke;zt++)Ke.push(se(B[zt]));return Ke},filter:function(B,se){for(var ke=B.length,Ke=[],zt=0;zt<ke;zt++)se(B[zt])&&Ke.push(B[zt]);return Ke},filterSVGElements:function(B){return this.filter(B,function(se){return se instanceof _e.SVGElement})}},o.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},o.Color=function(B){var se,ke;this.r=0,this.g=0,this.b=0,B&&(typeof B=="string"?o.regex.isRgb.test(B)?(se=o.regex.rgb.exec(B.replace(o.regex.whitespace,"")),this.r=parseInt(se[1]),this.g=parseInt(se[2]),this.b=parseInt(se[3])):o.regex.isHex.test(B)&&(se=o.regex.hex.exec((ke=B).length==4?["#",ke.substring(1,2),ke.substring(1,2),ke.substring(2,3),ke.substring(2,3),ke.substring(3,4),ke.substring(3,4)].join(""):ke),this.r=parseInt(se[1],16),this.g=parseInt(se[2],16),this.b=parseInt(se[3],16)):h(B)==="object"&&(this.r=B.r,this.g=B.g,this.b=B.b))},o.extend(o.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+K(this.r)+K(this.g)+K(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(B){return this.destination=new o.Color(B),this},at:function(B){return this.destination?(B=B<0?0:B>1?1:B,new o.Color({r:~~(this.r+(this.destination.r-this.r)*B),g:~~(this.g+(this.destination.g-this.g)*B),b:~~(this.b+(this.destination.b-this.b)*B)})):this}}),o.Color.test=function(B){return B+="",o.regex.isHex.test(B)||o.regex.isRgb.test(B)},o.Color.isRgb=function(B){return B&&typeof B.r=="number"&&typeof B.g=="number"&&typeof B.b=="number"},o.Color.isColor=function(B){return o.Color.isRgb(B)||o.Color.test(B)},o.Array=function(B,se){(B=(B||[]).valueOf()).length==0&&se&&(B=se.valueOf()),this.value=this.parse(B)},o.extend(o.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(B){return B=B.valueOf(),Array.isArray(B)?B:this.split(B)}}),o.PointArray=function(B,se){o.Array.call(this,B,se||[[0,0]])},o.PointArray.prototype=new o.Array,o.PointArray.prototype.constructor=o.PointArray;for(var g={M:function(B,se,ke){return se.x=ke.x=B[0],se.y=ke.y=B[1],["M",se.x,se.y]},L:function(B,se){return se.x=B[0],se.y=B[1],["L",B[0],B[1]]},H:function(B,se){return se.x=B[0],["H",B[0]]},V:function(B,se){return se.y=B[0],["V",B[0]]},C:function(B,se){return se.x=B[4],se.y=B[5],["C",B[0],B[1],B[2],B[3],B[4],B[5]]},Q:function(B,se){return se.x=B[2],se.y=B[3],["Q",B[0],B[1],B[2],B[3]]},Z:function(B,se,ke){return se.x=ke.x,se.y=ke.y,["Z"]}},b="mlhvqtcsaz".split(""),E=0,k=b.length;E<k;++E)g[b[E]]=function(B){return function(se,ke,Ke){if(B=="H")se[0]=se[0]+ke.x;else if(B=="V")se[0]=se[0]+ke.y;else if(B=="A")se[5]=se[5]+ke.x,se[6]=se[6]+ke.y;else for(var zt=0,ai=se.length;zt<ai;++zt)se[zt]=se[zt]+(zt%2?ke.y:ke.x);return g[B](se,ke,Ke)}}(b[E].toUpperCase());o.PathArray=function(B,se){o.Array.call(this,B,se||[["M",0,0]])},o.PathArray.prototype=new o.Array,o.PathArray.prototype.constructor=o.PathArray,o.extend(o.PathArray,{toString:function(){return function(B){for(var se=0,ke=B.length,Ke="";se<ke;se++)Ke+=B[se][0],B[se][1]!=null&&(Ke+=B[se][1],B[se][2]!=null&&(Ke+=" ",Ke+=B[se][2],B[se][3]!=null&&(Ke+=" ",Ke+=B[se][3],Ke+=" ",Ke+=B[se][4],B[se][5]!=null&&(Ke+=" ",Ke+=B[se][5],Ke+=" ",Ke+=B[se][6],B[se][7]!=null&&(Ke+=" ",Ke+=B[se][7])))));return Ke+" "}(this.value)},move:function(B,se){var ke=this.bbox();return ke.x,ke.y,this},at:function(B){if(!this.destination)return this;for(var se=this.value,ke=this.destination.value,Ke=[],zt=new o.PathArray,ai=0,Xt=se.length;ai<Xt;ai++){Ke[ai]=[se[ai][0]];for(var Wt=1,li=se[ai].length;Wt<li;Wt++)Ke[ai][Wt]=se[ai][Wt]+(ke[ai][Wt]-se[ai][Wt])*B;Ke[ai][0]==="A"&&(Ke[ai][4]=+(Ke[ai][4]!=0),Ke[ai][5]=+(Ke[ai][5]!=0))}return zt.value=Ke,zt},parse:function(B){if(B instanceof o.PathArray)return B.valueOf();var se,ke={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};B=typeof B=="string"?B.replace(o.regex.numbersWithDots,P).replace(o.regex.pathLetters," $& ").replace(o.regex.hyphen,"$1 -").trim().split(o.regex.delimiter):B.reduce(function(li,mi){return[].concat.call(li,mi)},[]);var Ke=[],zt=new o.Point,ai=new o.Point,Xt=0,Wt=B.length;do o.regex.isPathLetter.test(B[Xt])?(se=B[Xt],++Xt):se=="M"?se="L":se=="m"&&(se="l"),Ke.push(g[se].call(null,B.slice(Xt,Xt+=ke[se.toUpperCase()]).map(parseFloat),zt,ai));while(Wt>Xt);return Ke},bbox:function(){return o.parser.draw||o.prepare(),o.parser.path.setAttribute("d",this.toString()),o.parser.path.getBBox()}}),o.Number=o.invent({create:function(B,se){this.value=0,this.unit=se||"",typeof B=="number"?this.value=isNaN(B)?0:isFinite(B)?B:B<0?-34e37:34e37:typeof B=="string"?(se=B.match(o.regex.numberAndUnit))&&(this.value=parseFloat(se[1]),se[5]=="%"?this.value/=100:se[5]=="s"&&(this.value*=1e3),this.unit=se[5]):B instanceof o.Number&&(this.value=B.valueOf(),this.unit=B.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(B){return B=new o.Number(B),new o.Number(this+B,this.unit||B.unit)},minus:function(B){return B=new o.Number(B),new o.Number(this-B,this.unit||B.unit)},times:function(B){return B=new o.Number(B),new o.Number(this*B,this.unit||B.unit)},divide:function(B){return B=new o.Number(B),new o.Number(this/B,this.unit||B.unit)},to:function(B){var se=new o.Number(this);return typeof B=="string"&&(se.unit=B),se},morph:function(B){return this.destination=new o.Number(B),B.relative&&(this.destination.value+=this.value),this},at:function(B){return this.destination?new o.Number(this.destination).minus(this).times(B).plus(this):this}}}),o.Element=o.invent({create:function(B){this._stroke=o.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=B)&&(this.type=B.nodeName,this.node.instance=this,this._stroke=B.getAttribute("stroke")||this._stroke)},extend:{x:function(B){return this.attr("x",B)},y:function(B){return this.attr("y",B)},cx:function(B){return B==null?this.x()+this.width()/2:this.x(B-this.width()/2)},cy:function(B){return B==null?this.y()+this.height()/2:this.y(B-this.height()/2)},move:function(B,se){return this.x(B).y(se)},center:function(B,se){return this.cx(B).cy(se)},width:function(B){return this.attr("width",B)},height:function(B){return this.attr("height",B)},size:function(B,se){var ke=ee(this,B,se);return this.width(new o.Number(ke.width)).height(new o.Number(ke.height))},clone:function(B){this.writeDataToDom();var se=Me(this.node.cloneNode(!0));return B?B.add(se):this.after(se),se},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(B){return this.after(B).remove(),B},addTo:function(B){return B.put(this)},putIn:function(B){return B.add(this)},id:function(B){return this.attr("id",B)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var B=this.attr("class");return B==null?[]:B.trim().split(o.regex.delimiter)},hasClass:function(B){return this.classes().indexOf(B)!=-1},addClass:function(B){if(!this.hasClass(B)){var se=this.classes();se.push(B),this.attr("class",se.join(" "))}return this},removeClass:function(B){return this.hasClass(B)&&this.attr("class",this.classes().filter(function(se){return se!=B}).join(" ")),this},toggleClass:function(B){return this.hasClass(B)?this.removeClass(B):this.addClass(B)},reference:function(B){return o.get(this.attr(B))},parent:function(B){var se=this;if(!se.node.parentNode)return null;if(se=o.adopt(se.node.parentNode),!B)return se;for(;se&&se.node instanceof _e.SVGElement;){if(typeof B=="string"?se.matches(B):se instanceof B)return se;if(!se.node.parentNode||se.node.parentNode.nodeName=="#document")return null;se=o.adopt(se.node.parentNode)}},doc:function(){return this instanceof o.Doc?this:this.parent(o.Doc)},parents:function(B){var se=[],ke=this;do{if(!(ke=ke.parent(B))||!ke.node)break;se.push(ke)}while(ke.parent);return se},matches:function(B){return function(se,ke){return(se.matches||se.matchesSelector||se.msMatchesSelector||se.mozMatchesSelector||se.webkitMatchesSelector||se.oMatchesSelector).call(se,ke)}(this.node,B)},native:function(){return this.node},svg:function(B){var se=n.createElement("svg");if(!(B&&this instanceof o.Parent))return se.appendChild(B=n.createElement("svg")),this.writeDataToDom(),B.appendChild(this.node.cloneNode(!0)),se.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");se.innerHTML="<svg>"+B.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var ke=0,Ke=se.firstChild.childNodes.length;ke<Ke;ke++)this.node.appendChild(se.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(B){return this.dom=B,this},is:function(B){return function(se,ke){return se instanceof ke}(this,B)}}}),o.easing={"-":function(B){return B},"<>":function(B){return-Math.cos(B*Math.PI)/2+.5},">":function(B){return Math.sin(B*Math.PI/2)},"<":function(B){return 1-Math.cos(B*Math.PI/2)}},o.morph=function(B){return function(se,ke){return new o.MorphObj(se,ke).at(B)}},o.Situation=o.invent({create:function(B){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new o.Number(B.duration).valueOf(),this.delay=new o.Number(B.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=B.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),o.FX=o.invent({create:function(B){this._target=B,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(B,se,ke){h(B)==="object"&&(se=B.ease,ke=B.delay,B=B.duration);var Ke=new o.Situation({duration:B||1e3,delay:ke||0,ease:o.easing[se||"-"]||se});return this.queue(Ke),this},target:function(B){return B&&B instanceof o.Element?(this._target=B,this):this._target},timeToAbsPos:function(B){return(B-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(B){return this.situation.duration/this._speed*B+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=_e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){_e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(B){return(typeof B=="function"||B instanceof o.Situation)&&this.situations.push(B),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof o.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var B,se=this.situation;if(se.init)return this;for(var ke in se.animations){B=this.target()[ke](),Array.isArray(B)||(B=[B]),Array.isArray(se.animations[ke])||(se.animations[ke]=[se.animations[ke]]);for(var Ke=B.length;Ke--;)se.animations[ke][Ke]instanceof o.Number&&(B[Ke]=new o.Number(B[Ke])),se.animations[ke][Ke]=B[Ke].morph(se.animations[ke][Ke])}for(var ke in se.attrs)se.attrs[ke]=new o.MorphObj(this.target().attr(ke),se.attrs[ke]);for(var ke in se.styles)se.styles[ke]=new o.MorphObj(this.target().style(ke),se.styles[ke]);return se.initialTransformation=this.target().matrixify(),se.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(B,se){var ke=this.active;return this.active=!1,se&&this.clearQueue(),B&&this.situation&&(!ke&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(B){var se=this.last();return this.target().on("finished.fx",function ke(Ke){Ke.detail.situation==se&&(B.call(this,se),this.off("finished.fx",ke))}),this._callStart()},during:function(B){var se=this.last(),ke=function(Ke){Ke.detail.situation==se&&B.call(this,Ke.detail.pos,o.morph(Ke.detail.pos),Ke.detail.eased,se)};return this.target().off("during.fx",ke).on("during.fx",ke),this.after(function(){this.off("during.fx",ke)}),this._callStart()},afterAll:function(B){var se=function ke(Ke){B.call(this),this.off("allfinished.fx",ke)};return this.target().off("allfinished.fx",se).on("allfinished.fx",se),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(B,se,ke){return this.last()[ke||"animations"][B]=se,this._callStart()},step:function(B){var se,ke,Ke;B||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(se=Math.max(this.absPos,0),ke=Math.floor(se),this.situation.loops===!0||ke<this.situation.loops?(this.pos=se-ke,Ke=this.situation.loop,this.situation.loop=ke):(this.absPos=this.situation.loops,this.pos=1,Ke=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-Ke)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var zt=this.situation.ease(this.pos);for(var ai in this.situation.once)ai>this.lastPos&&ai<=zt&&(this.situation.once[ai].call(this.target(),this.pos,zt),delete this.situation.once[ai]);return this.active&&this.target().fire("during",{pos:this.pos,eased:zt,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=zt,this):this},eachAt:function(){var B,se=this,ke=this.target(),Ke=this.situation;for(var zt in Ke.animations)B=[].concat(Ke.animations[zt]).map(function(Wt){return typeof Wt!="string"&&Wt.at?Wt.at(Ke.ease(se.pos),se.pos):Wt}),ke[zt].apply(ke,B);for(var zt in Ke.attrs)B=[zt].concat(Ke.attrs[zt]).map(function(li){return typeof li!="string"&&li.at?li.at(Ke.ease(se.pos),se.pos):li}),ke.attr.apply(ke,B);for(var zt in Ke.styles)B=[zt].concat(Ke.styles[zt]).map(function(li){return typeof li!="string"&&li.at?li.at(Ke.ease(se.pos),se.pos):li}),ke.style.apply(ke,B);if(Ke.transforms.length){B=Ke.initialTransformation,zt=0;for(var ai=Ke.transforms.length;zt<ai;zt++){var Xt=Ke.transforms[zt];Xt instanceof o.Matrix?B=Xt.relative?B.multiply(new o.Matrix().morph(Xt).at(Ke.ease(this.pos))):B.morph(Xt).at(Ke.ease(this.pos)):(Xt.relative||Xt.undo(B.extract()),B=B.multiply(Xt.at(Ke.ease(this.pos))))}ke.matrix(B)}return this},once:function(B,se,ke){var Ke=this.last();return ke||(B=Ke.ease(B)),Ke.once[B]=se,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:o.Element,construct:{animate:function(B,se,ke){return(this.fx||(this.fx=new o.FX(this))).animate(B,se,ke)},delay:function(B){return(this.fx||(this.fx=new o.FX(this))).delay(B)},stop:function(B,se){return this.fx&&this.fx.stop(B,se),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),o.MorphObj=o.invent({create:function(B,se){return o.Color.isColor(se)?new o.Color(B).morph(se):o.regex.delimiter.test(B)?o.regex.pathLetters.test(B)?new o.PathArray(B).morph(se):new o.Array(B).morph(se):o.regex.numberAndUnit.test(se)?new o.Number(B).morph(se):(this.value=B,void(this.destination=se))},extend:{at:function(B,se){return se<1?this.value:this.destination},valueOf:function(){return this.value}}}),o.extend(o.FX,{attr:function(B,se,ke){if(h(B)==="object")for(var Ke in B)this.attr(Ke,B[Ke]);else this.add(B,se,"attrs");return this},plot:function(B,se,ke,Ke){return arguments.length==4?this.plot([B,se,ke,Ke]):this.add("plot",new(this.target()).morphArray(B))}}),o.Box=o.invent({create:function(B,se,ke,Ke){if(!(h(B)!=="object"||B instanceof o.Element))return o.Box.call(this,B.left!=null?B.left:B.x,B.top!=null?B.top:B.y,B.width,B.height);arguments.length==4&&(this.x=B,this.y=se,this.width=ke,this.height=Ke),Oe(this)}}),o.BBox=o.invent({create:function(B){if(o.Box.apply(this,[].slice.call(arguments)),B instanceof o.Element){var se;try{if(!n.documentElement.contains){for(var ke=B.node;ke.parentNode;)ke=ke.parentNode;if(ke!=n)throw new Error("Element not in the dom")}se=B.node.getBBox()}catch{if(B instanceof o.Shape){o.parser.draw||o.prepare();var Ke=B.clone(o.parser.draw.instance).show();se=Ke.node.getBBox(),Ke.remove()}else se={x:B.node.clientLeft,y:B.node.clientTop,width:B.node.clientWidth,height:B.node.clientHeight}}o.Box.call(this,se)}},inherit:o.Box,parent:o.Element,construct:{bbox:function(){return new o.BBox(this)}}}),o.BBox.prototype.constructor=o.BBox,o.Matrix=o.invent({create:function(B){var se=we([1,0,0,1,0,0]);B=B instanceof o.Element?B.matrixify():typeof B=="string"?we(B.split(o.regex.delimiter).map(parseFloat)):arguments.length==6?we([].slice.call(arguments)):Array.isArray(B)?we(B):h(B)==="object"?B:se;for(var ke=Le.length-1;ke>=0;--ke)this[Le[ke]]=B[Le[ke]]!=null?B[Le[ke]]:se[Le[ke]]},extend:{extract:function(){var B=ue(this,0,1),se=(ue(this,1,0),180/Math.PI*Math.atan2(B.y,B.x)-90);return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(se*Math.PI/180)+this.f*Math.sin(se*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(se*Math.PI/180)+this.e*Math.sin(-se*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:se,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new o.Matrix(this)}},clone:function(){return new o.Matrix(this)},morph:function(B){return this.destination=new o.Matrix(B),this},multiply:function(B){return new o.Matrix(this.native().multiply(function(se){return se instanceof o.Matrix||(se=new o.Matrix(se)),se}(B).native()))},inverse:function(){return new o.Matrix(this.native().inverse())},translate:function(B,se){return new o.Matrix(this.native().translate(B||0,se||0))},native:function(){for(var B=o.parser.native.createSVGMatrix(),se=Le.length-1;se>=0;se--)B[Le[se]]=this[Le[se]];return B},toString:function(){return"matrix("+He(this.a)+","+He(this.b)+","+He(this.c)+","+He(this.d)+","+He(this.e)+","+He(this.f)+")"}},parent:o.Element,construct:{ctm:function(){return new o.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof o.Nested){var B=this.rect(1,1),se=B.node.getScreenCTM();return B.remove(),new o.Matrix(se)}return new o.Matrix(this.node.getScreenCTM())}}}),o.Point=o.invent({create:function(B,se){var ke;ke=Array.isArray(B)?{x:B[0],y:B[1]}:h(B)==="object"?{x:B.x,y:B.y}:B!=null?{x:B,y:se??B}:{x:0,y:0},this.x=ke.x,this.y=ke.y},extend:{clone:function(){return new o.Point(this)},morph:function(B,se){return this.destination=new o.Point(B,se),this}}}),o.extend(o.Element,{point:function(B,se){return new o.Point(B,se).transform(this.screenCTM().inverse())}}),o.extend(o.Element,{attr:function(B,se,ke){if(B==null){for(B={},ke=(se=this.node.attributes).length-1;ke>=0;ke--)B[se[ke].nodeName]=o.regex.isNumber.test(se[ke].nodeValue)?parseFloat(se[ke].nodeValue):se[ke].nodeValue;return B}if(h(B)==="object")for(var Ke in B)this.attr(Ke,B[Ke]);else if(se===null)this.node.removeAttribute(B);else{if(se==null)return(se=this.node.getAttribute(B))==null?o.defaults.attrs[B]:o.regex.isNumber.test(se)?parseFloat(se):se;B=="stroke-width"?this.attr("stroke",parseFloat(se)>0?this._stroke:null):B=="stroke"&&(this._stroke=se),B!="fill"&&B!="stroke"||(o.regex.isImage.test(se)&&(se=this.doc().defs().image(se,0,0)),se instanceof o.Image&&(se=this.doc().defs().pattern(0,0,function(){this.add(se)}))),typeof se=="number"?se=new o.Number(se):o.Color.isColor(se)?se=new o.Color(se):Array.isArray(se)&&(se=new o.Array(se)),B=="leading"?this.leading&&this.leading(se):typeof ke=="string"?this.node.setAttributeNS(ke,B,se.toString()):this.node.setAttribute(B,se.toString()),!this.rebuild||B!="font-size"&&B!="x"||this.rebuild(B,se)}return this}}),o.extend(o.Element,{transform:function(B,se){var ke;return h(B)!=="object"?(ke=new o.Matrix(this).extract(),typeof B=="string"?ke[B]:ke):(ke=new o.Matrix(this),se=!!se||!!B.relative,B.a!=null&&(ke=se?ke.multiply(new o.Matrix(B)):new o.Matrix(B)),this.attr("transform",ke))}}),o.extend(o.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(o.regex.transforms).slice(0,-1).map(function(B){var se=B.trim().split("(");return[se[0],se[1].split(o.regex.delimiter).map(function(ke){return parseFloat(ke)})]}).reduce(function(B,se){return se[0]=="matrix"?B.multiply(we(se[1])):B[se[0]].apply(B,se[1])},new o.Matrix)},toParent:function(B){if(this==B)return this;var se=this.screenCTM(),ke=B.screenCTM().inverse();return this.addTo(B).untransform().transform(ke.multiply(se)),this},toDoc:function(){return this.toParent(this.doc())}}),o.Transformation=o.invent({create:function(B,se){if(arguments.length>1&&typeof se!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(B))for(var ke=0,Ke=this.arguments.length;ke<Ke;++ke)this[this.arguments[ke]]=B[ke];else if(h(B)==="object")for(ke=0,Ke=this.arguments.length;ke<Ke;++ke)this[this.arguments[ke]]=B[this.arguments[ke]];this.inversed=!1,se===!0&&(this.inversed=!0)}}),o.Translate=o.invent({parent:o.Matrix,inherit:o.Transformation,create:function(B,se){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),o.extend(o.Element,{style:function(B,se){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(h(B)==="object")for(var ke in B)this.style(ke,B[ke]);else{if(!o.regex.isCss.test(B))return this.node.style[N(B)];for(B=B.split(/\s*;\s*/).filter(function(Ke){return!!Ke}).map(function(Ke){return Ke.split(/\s*:\s*/)});se=B.pop();)this.style(se[0],se[1])}else this.node.style[N(B)]=se===null||o.regex.isBlank.test(se)?"":se;return this}}),o.Parent=o.invent({create:function(B){this.constructor.call(this,B)},inherit:o.Element,extend:{children:function(){return o.utils.map(o.utils.filterSVGElements(this.node.childNodes),function(B){return o.adopt(B)})},add:function(B,se){return se==null?this.node.appendChild(B.node):B.node!=this.node.childNodes[se]&&this.node.insertBefore(B.node,this.node.childNodes[se]),this},put:function(B,se){return this.add(B,se),B},has:function(B){return this.index(B)>=0},index:function(B){return[].slice.call(this.node.childNodes).indexOf(B.node)},get:function(B){return o.adopt(this.node.childNodes[B])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(B,se){for(var ke=this.children(),Ke=0,zt=ke.length;Ke<zt;Ke++)ke[Ke]instanceof o.Element&&B.apply(ke[Ke],[Ke,ke]),se&&ke[Ke]instanceof o.Container&&ke[Ke].each(B,se);return this},removeElement:function(B){return this.node.removeChild(B.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),o.extend(o.Parent,{ungroup:function(B,se){return se===0||this instanceof o.Defs||this.node==o.parser.draw||(B=B||(this instanceof o.Doc?this:this.parent(o.Parent)),se=se||1/0,this.each(function(){return this instanceof o.Defs?this:this instanceof o.Parent?this.ungroup(B,se-1):this.toParent(B)}),this.node.firstChild||this.remove()),this},flatten:function(B,se){return this.ungroup(B,se)}}),o.Container=o.invent({create:function(B){this.constructor.call(this,B)},inherit:o.Parent}),o.ViewBox=o.invent({parent:o.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(B){o.Element.prototype[B]=function(se){return o.on(this.node,B,se),this}}),o.listeners=[],o.handlerMap=[],o.listenerId=0,o.on=function(B,se,ke,Ke,zt){var ai=ke.bind(Ke||B.instance||B),Xt=(o.handlerMap.indexOf(B)+1||o.handlerMap.push(B))-1,Wt=se.split(".")[0],li=se.split(".")[1]||"*";o.listeners[Xt]=o.listeners[Xt]||{},o.listeners[Xt][Wt]=o.listeners[Xt][Wt]||{},o.listeners[Xt][Wt][li]=o.listeners[Xt][Wt][li]||{},ke._svgjsListenerId||(ke._svgjsListenerId=++o.listenerId),o.listeners[Xt][Wt][li][ke._svgjsListenerId]=ai,B.addEventListener(Wt,ai,zt||{passive:!0})},o.off=function(B,se,ke){var Ke=o.handlerMap.indexOf(B),zt=se&&se.split(".")[0],ai=se&&se.split(".")[1],Xt="";if(Ke!=-1)if(ke){if(typeof ke=="function"&&(ke=ke._svgjsListenerId),!ke)return;o.listeners[Ke][zt]&&o.listeners[Ke][zt][ai||"*"]&&(B.removeEventListener(zt,o.listeners[Ke][zt][ai||"*"][ke],!1),delete o.listeners[Ke][zt][ai||"*"][ke])}else if(ai&&zt){if(o.listeners[Ke][zt]&&o.listeners[Ke][zt][ai]){for(var Wt in o.listeners[Ke][zt][ai])o.off(B,[zt,ai].join("."),Wt);delete o.listeners[Ke][zt][ai]}}else if(ai)for(var li in o.listeners[Ke])for(var Xt in o.listeners[Ke][li])ai===Xt&&o.off(B,[li,ai].join("."));else if(zt){if(o.listeners[Ke][zt]){for(var Xt in o.listeners[Ke][zt])o.off(B,[zt,Xt].join("."));delete o.listeners[Ke][zt]}}else{for(var li in o.listeners[Ke])o.off(B,li);delete o.listeners[Ke],delete o.handlerMap[Ke]}},o.extend(o.Element,{on:function(B,se,ke,Ke){return o.on(this.node,B,se,ke,Ke),this},off:function(B,se){return o.off(this.node,B,se),this},fire:function(B,se){return B instanceof _e.Event?this.node.dispatchEvent(B):this.node.dispatchEvent(B=new o.CustomEvent(B,{detail:se,cancelable:!0})),this._event=B,this},event:function(){return this._event}}),o.Defs=o.invent({create:"defs",inherit:o.Container}),o.G=o.invent({create:"g",inherit:o.Container,extend:{x:function(B){return B==null?this.transform("x"):this.transform({x:B-this.x()},!0)}},construct:{group:function(){return this.put(new o.G)}}}),o.Doc=o.invent({create:function(B){B&&((B=typeof B=="string"?n.getElementById(B):B).nodeName=="svg"?this.constructor.call(this,B):(this.constructor.call(this,o.create("svg")),B.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:o.Container,extend:{namespace:function(){return this.attr({xmlns:o.ns,version:"1.1"}).attr("xmlns:xlink",o.xlink,o.xmlns).attr("xmlns:svgjs",o.svgjs,o.xmlns)},defs:function(){var B;return this._defs||((B=this.node.getElementsByTagName("defs")[0])?this._defs=o.adopt(B):this._defs=new o.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,o.parser.draw&&!o.parser.draw.parentNode&&this.node.appendChild(o.parser.draw),this},clone:function(B){this.writeDataToDom();var se=this.node,ke=Me(se.cloneNode(!0));return B?(B.node||B).appendChild(ke.node):se.parentNode.insertBefore(ke.node,se.nextSibling),ke}}}),o.extend(o.Element,{}),o.Gradient=o.invent({create:function(B){this.constructor.call(this,o.create(B+"Gradient")),this.type=B},inherit:o.Container,extend:{at:function(B,se,ke){return this.put(new o.Stop).update(B,se,ke)},update:function(B){return this.clear(),typeof B=="function"&&B.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(B,se,ke){return B=="transform"&&(B="gradientTransform"),o.Container.prototype.attr.call(this,B,se,ke)}},construct:{gradient:function(B,se){return this.defs().gradient(B,se)}}}),o.extend(o.Gradient,o.FX,{from:function(B,se){return(this._target||this).type=="radial"?this.attr({fx:new o.Number(B),fy:new o.Number(se)}):this.attr({x1:new o.Number(B),y1:new o.Number(se)})},to:function(B,se){return(this._target||this).type=="radial"?this.attr({cx:new o.Number(B),cy:new o.Number(se)}):this.attr({x2:new o.Number(B),y2:new o.Number(se)})}}),o.extend(o.Defs,{gradient:function(B,se){return this.put(new o.Gradient(B)).update(se)}}),o.Stop=o.invent({create:"stop",inherit:o.Element,extend:{update:function(B){return(typeof B=="number"||B instanceof o.Number)&&(B={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),B.opacity!=null&&this.attr("stop-opacity",B.opacity),B.color!=null&&this.attr("stop-color",B.color),B.offset!=null&&this.attr("offset",new o.Number(B.offset)),this}}}),o.Pattern=o.invent({create:"pattern",inherit:o.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(B){return this.clear(),typeof B=="function"&&B.call(this,this),this},toString:function(){return this.fill()},attr:function(B,se,ke){return B=="transform"&&(B="patternTransform"),o.Container.prototype.attr.call(this,B,se,ke)}},construct:{pattern:function(B,se,ke){return this.defs().pattern(B,se,ke)}}}),o.extend(o.Defs,{pattern:function(B,se,ke){return this.put(new o.Pattern).update(ke).attr({x:0,y:0,width:B,height:se,patternUnits:"userSpaceOnUse"})}}),o.Shape=o.invent({create:function(B){this.constructor.call(this,B)},inherit:o.Element}),o.Symbol=o.invent({create:"symbol",inherit:o.Container,construct:{symbol:function(){return this.put(new o.Symbol)}}}),o.Use=o.invent({create:"use",inherit:o.Shape,extend:{element:function(B,se){return this.attr("href",(se||"")+"#"+B,o.xlink)}},construct:{use:function(B,se){return this.put(new o.Use).element(B,se)}}}),o.Rect=o.invent({create:"rect",inherit:o.Shape,construct:{rect:function(B,se){return this.put(new o.Rect).size(B,se)}}}),o.Circle=o.invent({create:"circle",inherit:o.Shape,construct:{circle:function(B){return this.put(new o.Circle).rx(new o.Number(B).divide(2)).move(0,0)}}}),o.extend(o.Circle,o.FX,{rx:function(B){return this.attr("r",B)},ry:function(B){return this.rx(B)}}),o.Ellipse=o.invent({create:"ellipse",inherit:o.Shape,construct:{ellipse:function(B,se){return this.put(new o.Ellipse).size(B,se).move(0,0)}}}),o.extend(o.Ellipse,o.Rect,o.FX,{rx:function(B){return this.attr("rx",B)},ry:function(B){return this.attr("ry",B)}}),o.extend(o.Circle,o.Ellipse,{x:function(B){return B==null?this.cx()-this.rx():this.cx(B+this.rx())},y:function(B){return B==null?this.cy()-this.ry():this.cy(B+this.ry())},cx:function(B){return B==null?this.attr("cx"):this.attr("cx",B)},cy:function(B){return B==null?this.attr("cy"):this.attr("cy",B)},width:function(B){return B==null?2*this.rx():this.rx(new o.Number(B).divide(2))},height:function(B){return B==null?2*this.ry():this.ry(new o.Number(B).divide(2))},size:function(B,se){var ke=ee(this,B,se);return this.rx(new o.Number(ke.width).divide(2)).ry(new o.Number(ke.height).divide(2))}}),o.Line=o.invent({create:"line",inherit:o.Shape,extend:{array:function(){return new o.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(B,se,ke,Ke){return B==null?this.array():(B=se!==void 0?{x1:B,y1:se,x2:ke,y2:Ke}:new o.PointArray(B).toLine(),this.attr(B))},move:function(B,se){return this.attr(this.array().move(B,se).toLine())},size:function(B,se){var ke=ee(this,B,se);return this.attr(this.array().size(ke.width,ke.height).toLine())}},construct:{line:function(B,se,ke,Ke){return o.Line.prototype.plot.apply(this.put(new o.Line),B!=null?[B,se,ke,Ke]:[0,0,0,0])}}}),o.Polyline=o.invent({create:"polyline",inherit:o.Shape,construct:{polyline:function(B){return this.put(new o.Polyline).plot(B||new o.PointArray)}}}),o.Polygon=o.invent({create:"polygon",inherit:o.Shape,construct:{polygon:function(B){return this.put(new o.Polygon).plot(B||new o.PointArray)}}}),o.extend(o.Polyline,o.Polygon,{array:function(){return this._array||(this._array=new o.PointArray(this.attr("points")))},plot:function(B){return B==null?this.array():this.clear().attr("points",typeof B=="string"?B:this._array=new o.PointArray(B))},clear:function(){return delete this._array,this},move:function(B,se){return this.attr("points",this.array().move(B,se))},size:function(B,se){var ke=ee(this,B,se);return this.attr("points",this.array().size(ke.width,ke.height))}}),o.extend(o.Line,o.Polyline,o.Polygon,{morphArray:o.PointArray,x:function(B){return B==null?this.bbox().x:this.move(B,this.bbox().y)},y:function(B){return B==null?this.bbox().y:this.move(this.bbox().x,B)},width:function(B){var se=this.bbox();return B==null?se.width:this.size(B,se.height)},height:function(B){var se=this.bbox();return B==null?se.height:this.size(se.width,B)}}),o.Path=o.invent({create:"path",inherit:o.Shape,extend:{morphArray:o.PathArray,array:function(){return this._array||(this._array=new o.PathArray(this.attr("d")))},plot:function(B){return B==null?this.array():this.clear().attr("d",typeof B=="string"?B:this._array=new o.PathArray(B))},clear:function(){return delete this._array,this}},construct:{path:function(B){return this.put(new o.Path).plot(B||new o.PathArray)}}}),o.Image=o.invent({create:"image",inherit:o.Shape,extend:{load:function(B){if(!B)return this;var se=this,ke=new _e.Image;return o.on(ke,"load",function(){o.off(ke);var Ke=se.parent(o.Pattern);Ke!==null&&(se.width()==0&&se.height()==0&&se.size(ke.width,ke.height),Ke&&Ke.width()==0&&Ke.height()==0&&Ke.size(se.width(),se.height()),typeof se._loaded=="function"&&se._loaded.call(se,{width:ke.width,height:ke.height,ratio:ke.width/ke.height,url:B}))}),o.on(ke,"error",function(Ke){o.off(ke),typeof se._error=="function"&&se._error.call(se,Ke)}),this.attr("href",ke.src=this.src=B,o.xlink)},loaded:function(B){return this._loaded=B,this},error:function(B){return this._error=B,this}},construct:{image:function(B,se,ke){return this.put(new o.Image).load(B).size(se||0,ke||se||0)}}}),o.Text=o.invent({create:function(){this.constructor.call(this,o.create("text")),this.dom.leading=new o.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",o.defaults.attrs["font-family"])},inherit:o.Shape,extend:{x:function(B){return B==null?this.attr("x"):this.attr("x",B)},text:function(B){if(B===void 0){B="";for(var se=this.node.childNodes,ke=0,Ke=se.length;ke<Ke;++ke)ke!=0&&se[ke].nodeType!=3&&o.adopt(se[ke]).dom.newLined==1&&(B+=`
`),B+=se[ke].textContent;return B}if(this.clear().build(!0),typeof B=="function")B.call(this,this);else{ke=0;for(var zt=(B=B.split(`
`)).length;ke<zt;ke++)this.tspan(B[ke]).newLine()}return this.build(!1).rebuild()},size:function(B){return this.attr("font-size",B).rebuild()},leading:function(B){return B==null?this.dom.leading:(this.dom.leading=new o.Number(B),this.rebuild())},lines:function(){var B=(this.textPath&&this.textPath()||this).node,se=o.utils.map(o.utils.filterSVGElements(B.childNodes),function(ke){return o.adopt(ke)});return new o.Set(se)},rebuild:function(B){if(typeof B=="boolean"&&(this._rebuild=B),this._rebuild){var se=this,ke=0,Ke=this.dom.leading*new o.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(se.textPath()||this.attr("x",se.attr("x")),this.text()==`
`?ke+=Ke:(this.attr("dy",Ke+ke),ke=0))}),this.fire("rebuild")}return this},build:function(B){return this._build=!!B,this},setData:function(B){return this.dom=B,this.dom.leading=new o.Number(B.leading||1.3),this}},construct:{text:function(B){return this.put(new o.Text).text(B)},plain:function(B){return this.put(new o.Text).plain(B)}}}),o.Tspan=o.invent({create:"tspan",inherit:o.Shape,extend:{text:function(B){return B==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof B=="function"?B.call(this,this):this.plain(B),this)},dx:function(B){return this.attr("dx",B)},dy:function(B){return this.attr("dy",B)},newLine:function(){var B=this.parent(o.Text);return this.dom.newLined=!0,this.dy(B.dom.leading*B.attr("font-size")).attr("x",B.x())}}}),o.extend(o.Text,o.Tspan,{plain:function(B){return this._build===!1&&this.clear(),this.node.appendChild(n.createTextNode(B)),this},tspan:function(B){var se=(this.textPath&&this.textPath()||this).node,ke=new o.Tspan;return this._build===!1&&this.clear(),se.appendChild(ke.node),ke.text(B)},clear:function(){for(var B=(this.textPath&&this.textPath()||this).node;B.hasChildNodes();)B.removeChild(B.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),o.TextPath=o.invent({create:"textPath",inherit:o.Parent,parent:o.Text,construct:{morphArray:o.PathArray,array:function(){var B=this.track();return B?B.array():null},plot:function(B){var se=this.track(),ke=null;return se&&(ke=se.plot(B)),B==null?ke:this},track:function(){var B=this.textPath();if(B)return B.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return o.adopt(this.node.firstChild)}}}),o.Nested=o.invent({create:function(){this.constructor.call(this,o.create("svg")),this.style("overflow","visible")},inherit:o.Container,construct:{nested:function(){return this.put(new o.Nested)}}});var C={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(B,se){return se=="color"?B:B+"-"+se}};function P(B,se,ke,Ke){return ke+Ke.replace(o.regex.dots," .")}function N(B){return B.toLowerCase().replace(/-(.)/g,function(se,ke){return ke.toUpperCase()})}function W(B){return B.charAt(0).toUpperCase()+B.slice(1)}function K(B){var se=B.toString(16);return se.length==1?"0"+se:se}function ee(B,se,ke){if(se==null||ke==null){var Ke=B.bbox();se==null?se=Ke.width/Ke.height*ke:ke==null&&(ke=Ke.height/Ke.width*se)}return{width:se,height:ke}}function ue(B,se,ke){return{x:se*B.a+ke*B.c+0,y:se*B.b+ke*B.d+0}}function we(B){return{a:B[0],b:B[1],c:B[2],d:B[3],e:B[4],f:B[5]}}function Me(B){for(var se=B.childNodes.length-1;se>=0;se--)B.childNodes[se]instanceof _e.SVGElement&&Me(B.childNodes[se]);return o.adopt(B).id(o.eid(B.nodeName))}function Oe(B){return B.x==null&&(B.x=0,B.y=0,B.width=0,B.height=0),B.w=B.width,B.h=B.height,B.x2=B.x+B.width,B.y2=B.y+B.height,B.cx=B.x+B.width/2,B.cy=B.y+B.height/2,B}function He(B){return Math.abs(B)>1e-37?B:0}["fill","stroke"].forEach(function(B){var se={};se[B]=function(ke){if(ke===void 0)return this;if(typeof ke=="string"||o.Color.isRgb(ke)||ke&&typeof ke.fill=="function")this.attr(B,ke);else for(var Ke=C[B].length-1;Ke>=0;Ke--)ke[C[B][Ke]]!=null&&this.attr(C.prefix(B,C[B][Ke]),ke[C[B][Ke]]);return this},o.extend(o.Element,o.FX,se)}),o.extend(o.Element,o.FX,{translate:function(B,se){return this.transform({x:B,y:se})},matrix:function(B){return this.attr("transform",new o.Matrix(arguments.length==6?[].slice.call(arguments):B))},opacity:function(B){return this.attr("opacity",B)},dx:function(B){return this.x(new o.Number(B).plus(this instanceof o.FX?0:this.x()),!0)},dy:function(B){return this.y(new o.Number(B).plus(this instanceof o.FX?0:this.y()),!0)}}),o.extend(o.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(B){return this.node.getPointAtLength(B)}}),o.Set=o.invent({create:function(B){Array.isArray(B)?this.members=B:this.clear()},extend:{add:function(){for(var B=[].slice.call(arguments),se=0,ke=B.length;se<ke;se++)this.members.push(B[se]);return this},remove:function(B){var se=this.index(B);return se>-1&&this.members.splice(se,1),this},each:function(B){for(var se=0,ke=this.members.length;se<ke;se++)B.apply(this.members[se],[se,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(B){return this.index(B)>=0},index:function(B){return this.members.indexOf(B)},get:function(B){return this.members[B]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(B){return new o.Set(B)}}}),o.FX.Set=o.invent({create:function(B){this.set=B}}),o.Set.inherit=function(){var B=[];for(var se in o.Shape.prototype)typeof o.Shape.prototype[se]=="function"&&typeof o.Set.prototype[se]!="function"&&B.push(se);for(var se in B.forEach(function(Ke){o.Set.prototype[Ke]=function(){for(var zt=0,ai=this.members.length;zt<ai;zt++)this.members[zt]&&typeof this.members[zt][Ke]=="function"&&this.members[zt][Ke].apply(this.members[zt],arguments);return Ke=="animate"?this.fx||(this.fx=new o.FX.Set(this)):this}}),B=[],o.FX.prototype)typeof o.FX.prototype[se]=="function"&&typeof o.FX.Set.prototype[se]!="function"&&B.push(se);B.forEach(function(ke){o.FX.Set.prototype[ke]=function(){for(var Ke=0,zt=this.set.members.length;Ke<zt;Ke++)this.set.members[Ke].fx[ke].apply(this.set.members[Ke].fx,arguments);return this}})},o.extend(o.Element,{}),o.extend(o.Element,{remember:function(B,se){if(h(arguments[0])==="object")for(var ke in B)this.remember(ke,B[ke]);else{if(arguments.length==1)return this.memory()[B];this.memory()[B]=se}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var B=arguments.length-1;B>=0;B--)delete this.memory()[arguments[B]];return this},memory:function(){return this._memory||(this._memory={})}}),o.get=function(B){var se=n.getElementById(function(ke){var Ke=(ke||"").toString().match(o.regex.reference);if(Ke)return Ke[1]}(B)||B);return o.adopt(se)},o.select=function(B,se){return new o.Set(o.utils.map((se||n).querySelectorAll(B),function(ke){return o.adopt(ke)}))},o.extend(o.Parent,{select:function(B){return o.select(B,this.node)}});var Le="abcdef".split("");if(typeof _e.CustomEvent!="function"){var gt=function(B,se){se=se||{bubbles:!1,cancelable:!1,detail:void 0};var ke=n.createEvent("CustomEvent");return ke.initCustomEvent(B,se.bubbles,se.cancelable,se.detail),ke};gt.prototype=_e.Event.prototype,o.CustomEvent=gt}else o.CustomEvent=_e.CustomEvent;return o},h(r)==="object"?e.exports=Br.document?Zn(Br,Br.document):function(_e){return Zn(_e,_e.document)}:Br.SVG=Zn(Br,Br.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(C,P){return this.add(C,P),!C.attr("in")&&this.autoSetIn&&C.attr("in",this.source),C.attr("result")||C.attr("result",C),C},blend:function(C,P,N){return this.put(new SVG.BlendEffect(C,P,N))},colorMatrix:function(C,P){return this.put(new SVG.ColorMatrixEffect(C,P))},convolveMatrix:function(C){return this.put(new SVG.ConvolveMatrixEffect(C))},componentTransfer:function(C){return this.put(new SVG.ComponentTransferEffect(C))},composite:function(C,P,N){return this.put(new SVG.CompositeEffect(C,P,N))},flood:function(C,P){return this.put(new SVG.FloodEffect(C,P))},offset:function(C,P){return this.put(new SVG.OffsetEffect(C,P))},image:function(C){return this.put(new SVG.ImageEffect(C))},merge:function(){var C=[void 0];for(var P in arguments)C.push(arguments[P]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,C)))},gaussianBlur:function(C,P){return this.put(new SVG.GaussianBlurEffect(C,P))},morphology:function(C,P){return this.put(new SVG.MorphologyEffect(C,P))},diffuseLighting:function(C,P,N){return this.put(new SVG.DiffuseLightingEffect(C,P,N))},displacementMap:function(C,P,N,W,K){return this.put(new SVG.DisplacementMapEffect(C,P,N,W,K))},specularLighting:function(C,P,N,W){return this.put(new SVG.SpecularLightingEffect(C,P,N,W))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(C,P,N,W,K){return this.put(new SVG.TurbulenceEffect(C,P,N,W,K))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(C){var P=this.put(new SVG.Filter);return typeof C=="function"&&C.call(P,P),P}}),SVG.extend(SVG.Container,{filter:function(C){return this.defs().filter(C)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(C){return this.filterer=C instanceof SVG.Element?C:this.doc().filter(C),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(C){return this.filterer&&C===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(C){return C==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",C)},result:function(C){return C==null?this.attr("result"):this.attr("result",C)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(C){return C==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",C)},result:function(C){return C==null?this.attr("result"):this.attr("result",C)},toString:function(){return this.result()}}});var _e={blend:function(C,P){return this.parent()&&this.parent().blend(this,C,P)},colorMatrix:function(C,P){return this.parent()&&this.parent().colorMatrix(C,P).in(this)},convolveMatrix:function(C){return this.parent()&&this.parent().convolveMatrix(C).in(this)},componentTransfer:function(C){return this.parent()&&this.parent().componentTransfer(C).in(this)},composite:function(C,P){return this.parent()&&this.parent().composite(this,C,P)},flood:function(C,P){return this.parent()&&this.parent().flood(C,P)},offset:function(C,P){return this.parent()&&this.parent().offset(C,P).in(this)},image:function(C){return this.parent()&&this.parent().image(C)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(C,P){return this.parent()&&this.parent().gaussianBlur(C,P).in(this)},morphology:function(C,P){return this.parent()&&this.parent().morphology(C,P).in(this)},diffuseLighting:function(C,P,N){return this.parent()&&this.parent().diffuseLighting(C,P,N).in(this)},displacementMap:function(C,P,N,W){return this.parent()&&this.parent().displacementMap(this,C,P,N,W)},specularLighting:function(C,P,N,W){return this.parent()&&this.parent().specularLighting(C,P,N,W).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(C,P,N,W,K){return this.parent()&&this.parent().turbulence(C,P,N,W,K).in(this)}};SVG.extend(SVG.Effect,_e),SVG.extend(SVG.ParentEffect,_e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(C){this.attr("in",C)}}});var n={blend:function(C,P,N){this.attr({in:C,in2:P,mode:N||"normal"})},colorMatrix:function(C,P){C=="matrix"&&(P=b(P)),this.attr({type:C,values:P===void 0?null:P})},convolveMatrix:function(C){C=b(C),this.attr({order:Math.sqrt(C.split(" ").length),kernelMatrix:C})},composite:function(C,P,N){this.attr({in:C,in2:P,operator:N})},flood:function(C,P){this.attr("flood-color",C),P!=null&&this.attr("flood-opacity",P)},offset:function(C,P){this.attr({dx:C,dy:P})},image:function(C){this.attr("href",C,SVG.xlink)},displacementMap:function(C,P,N,W,K){this.attr({in:C,in2:P,scale:N,xChannelSelector:W,yChannelSelector:K})},gaussianBlur:function(C,P){C!=null||P!=null?this.attr("stdDeviation",E(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(C,P){this.attr({operator:C,radius:P})},tile:function(){},turbulence:function(C,P,N,W,K){this.attr({numOctaves:P,seed:N,stitchTiles:W,baseFrequency:C,type:K})}},o={merge:function(){var C;if(arguments[0]instanceof SVG.Set){var P=this;arguments[0].each(function(W){this instanceof SVG.MergeNode?P.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&P.put(new SVG.MergeNode(this))})}else{C=Array.isArray(arguments[0])?arguments[0]:arguments;for(var N=0;N<C.length;N++)C[N]instanceof SVG.MergeNode?this.put(C[N]):this.put(new SVG.MergeNode(C[N]))}},componentTransfer:function(C){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(N){this[N]=new SVG["Func"+N.toUpperCase()]("identity"),this.rgb.add(this[N]),this.node.appendChild(this[N].node)}.bind(this)),C)for(var P in C.rgb&&(["r","g","b"].forEach(function(N){this[N].attr(C.rgb)}.bind(this)),delete C.rgb),C)this[P].attr(C[P])},diffuseLighting:function(C,P,N){this.attr({surfaceScale:C,diffuseConstant:P,kernelUnitLength:N})},specularLighting:function(C,P,N,W){this.attr({surfaceScale:C,diffuseConstant:P,specularExponent:N,kernelUnitLength:W})}},g={distantLight:function(C,P){this.attr({azimuth:C,elevation:P})},pointLight:function(C,P,N){this.attr({x:C,y:P,z:N})},spotLight:function(C,P,N,W,K,ee){this.attr({x:C,y:P,z:N,pointsAtX:W,pointsAtY:K,pointsAtZ:ee})},mergeNode:function(C){this.attr("in",C)}};function b(C){return Array.isArray(C)&&(C=new SVG.Array(C)),C.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function E(C){if(!Array.isArray(C))return C;for(var P=0,N=C.length,W=[];P<N;P++)W.push(C[P]);return W.join(" ")}function k(){var C=function(){};for(var P in typeof arguments[arguments.length-1]=="function"&&(C=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var N in arguments[P])C(arguments[P][N],N,arguments[P])}["r","g","b","a"].forEach(function(C){g["Func"+C.toUpperCase()]=function(P){switch(this.attr("type",P),P){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),k(n,function(C,P){var N=P.charAt(0).toUpperCase()+P.slice(1);SVG[N+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+N)),C.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),k(o,function(C,P){var N=P.charAt(0).toUpperCase()+P.slice(1);SVG[N+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+N)),C.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),k(g,function(C,P){var N=P.charAt(0).toUpperCase()+P.slice(1);SVG[N]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+N)),C.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(C){return C instanceof SVG.MergeNode?this.add(C,0):this.add(new SVG.MergeNode(C),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(C){return C==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",C)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function _e(E,k,C,P,N,W,K){for(var ee=E.slice(k,C||K),ue=P.slice(N,W||K),we=0,Me={pos:[0,0],start:[0,0]},Oe={pos:[0,0],start:[0,0]};ee[we]=n.call(Me,ee[we]),ue[we]=n.call(Oe,ue[we]),ee[we][0]!=ue[we][0]||ee[we][0]=="M"||ee[we][0]=="A"&&(ee[we][4]!=ue[we][4]||ee[we][5]!=ue[we][5])?(Array.prototype.splice.apply(ee,[we,1].concat(g.call(Me,ee[we]))),Array.prototype.splice.apply(ue,[we,1].concat(g.call(Oe,ue[we])))):(ee[we]=o.call(Me,ee[we]),ue[we]=o.call(Oe,ue[we])),!(++we==ee.length&&we==ue.length);)we==ee.length&&ee.push(["C",Me.pos[0],Me.pos[1],Me.pos[0],Me.pos[1],Me.pos[0],Me.pos[1]]),we==ue.length&&ue.push(["C",Oe.pos[0],Oe.pos[1],Oe.pos[0],Oe.pos[1],Oe.pos[0],Oe.pos[1]]);return{start:ee,dest:ue}}function n(E){switch(E[0]){case"z":case"Z":E[0]="L",E[1]=this.start[0],E[2]=this.start[1];break;case"H":E[0]="L",E[2]=this.pos[1];break;case"V":E[0]="L",E[2]=E[1],E[1]=this.pos[0];break;case"T":E[0]="Q",E[3]=E[1],E[4]=E[2],E[1]=this.reflection[1],E[2]=this.reflection[0];break;case"S":E[0]="C",E[6]=E[4],E[5]=E[3],E[4]=E[2],E[3]=E[1],E[2]=this.reflection[1],E[1]=this.reflection[0]}return E}function o(E){var k=E.length;return this.pos=[E[k-2],E[k-1]],"SCQT".indexOf(E[0])!=-1&&(this.reflection=[2*this.pos[0]-E[k-4],2*this.pos[1]-E[k-3]]),E}function g(E){var k=[E];switch(E[0]){case"M":return this.pos=this.start=[E[1],E[2]],k;case"L":E[5]=E[3]=E[1],E[6]=E[4]=E[2],E[1]=this.pos[0],E[2]=this.pos[1];break;case"Q":E[6]=E[4],E[5]=E[3],E[4]=1*E[4]/3+2*E[2]/3,E[3]=1*E[3]/3+2*E[1]/3,E[2]=1*this.pos[1]/3+2*E[2]/3,E[1]=1*this.pos[0]/3+2*E[1]/3;break;case"A":E=(k=function(C,P){var N,W,K,ee,ue,we,Me,Oe,He,Le,gt,B,se,ke,Ke,zt,ai,Xt,Wt,li,mi,Yi,Gr,Gi,Rr,vn,qn=Math.abs(P[1]),rn=Math.abs(P[2]),kr=P[3]%360,Kn=P[4],La=P[5],hs=P[6],_s=P[7],Un=new SVG.Point(C),$r=new SVG.Point(hs,_s),Ha=[];if(qn===0||rn===0||Un.x===$r.x&&Un.y===$r.y)return[["C",Un.x,Un.y,$r.x,$r.y,$r.x,$r.y]];for(N=new SVG.Point((Un.x-$r.x)/2,(Un.y-$r.y)/2).transform(new SVG.Matrix().rotate(kr)),(W=N.x*N.x/(qn*qn)+N.y*N.y/(rn*rn))>1&&(qn*=W=Math.sqrt(W),rn*=W),K=new SVG.Matrix().rotate(kr).scale(1/qn,1/rn).rotate(-kr),Un=Un.transform(K),$r=$r.transform(K),ee=[$r.x-Un.x,$r.y-Un.y],we=ee[0]*ee[0]+ee[1]*ee[1],ue=Math.sqrt(we),ee[0]/=ue,ee[1]/=ue,Me=we<4?Math.sqrt(1-we/4):0,Kn===La&&(Me*=-1),Oe=new SVG.Point(($r.x+Un.x)/2+Me*-ee[1],($r.y+Un.y)/2+Me*ee[0]),He=new SVG.Point(Un.x-Oe.x,Un.y-Oe.y),Le=new SVG.Point($r.x-Oe.x,$r.y-Oe.y),gt=Math.acos(He.x/Math.sqrt(He.x*He.x+He.y*He.y)),He.y<0&&(gt*=-1),B=Math.acos(Le.x/Math.sqrt(Le.x*Le.x+Le.y*Le.y)),Le.y<0&&(B*=-1),La&&gt>B&&(B+=2*Math.PI),!La&&gt<B&&(B-=2*Math.PI),ke=Math.ceil(2*Math.abs(gt-B)/Math.PI),zt=[],ai=gt,se=(B-gt)/ke,Ke=4*Math.tan(se/4)/3,mi=0;mi<=ke;mi++)Wt=Math.cos(ai),Xt=Math.sin(ai),li=new SVG.Point(Oe.x+Wt,Oe.y+Xt),zt[mi]=[new SVG.Point(li.x+Ke*Xt,li.y-Ke*Wt),li,new SVG.Point(li.x-Ke*Xt,li.y+Ke*Wt)],ai+=se;for(zt[0][0]=zt[0][1].clone(),zt[zt.length-1][2]=zt[zt.length-1][1].clone(),K=new SVG.Matrix().rotate(kr).scale(qn,rn).rotate(-kr),mi=0,Yi=zt.length;mi<Yi;mi++)zt[mi][0]=zt[mi][0].transform(K),zt[mi][1]=zt[mi][1].transform(K),zt[mi][2]=zt[mi][2].transform(K);for(mi=1,Yi=zt.length;mi<Yi;mi++)Gr=(li=zt[mi-1][2]).x,Gi=li.y,Rr=(li=zt[mi][0]).x,vn=li.y,hs=(li=zt[mi][1]).x,_s=li.y,Ha.push(["C",Gr,Gi,Rr,vn,hs,_s]);return Ha}(this.pos,E))[0]}return E[0]="C",this.pos=[E[5],E[6]],this.reflection=[2*E[5]-E[3],2*E[6]-E[4]],k}function b(E,k){if(k===!1)return!1;for(var C=k,P=E.length;C<P;++C)if(E[C][0]=="M")return C;return!1}SVG.extend(SVG.PathArray,{morph:function(E){for(var k=this.value,C=this.parse(E),P=0,N=0,W=!1,K=!1;P!==!1||N!==!1;){var ee;W=b(k,P!==!1&&P+1),K=b(C,N!==!1&&N+1),P===!1&&(P=(ee=new SVG.PathArray(ue.start).bbox()).height==0||ee.width==0?k.push(k[0])-1:k.push(["M",ee.x+ee.width/2,ee.y+ee.height/2])-1),N===!1&&(N=(ee=new SVG.PathArray(ue.dest).bbox()).height==0||ee.width==0?C.push(C[0])-1:C.push(["M",ee.x+ee.width/2,ee.y+ee.height/2])-1);var ue=_e(k,P,W,C,N,K);k=k.slice(0,P).concat(ue.start,W===!1?[]:k.slice(W)),C=C.slice(0,N).concat(ue.dest,K===!1?[]:C.slice(K)),P=W!==!1&&P+ue.start.length,N=K!==!1&&N+ue.dest.length}return this.value=k,this.destination=new SVG.PathArray,this.destination.value=C,this}})}(),function(){function _e(n){n.remember("_draggable",this),this.el=n}_e.prototype.init=function(n,o){var g=this;this.constraint=n,this.value=o,this.el.on("mousedown.drag",function(b){g.start(b)}),this.el.on("touchstart.drag",function(b){g.start(b)})},_e.prototype.transformPoint=function(n,o){var g=(n=n||window.event).changedTouches&&n.changedTouches[0]||n;return this.p.x=g.clientX-(o||0),this.p.y=g.clientY,this.p.matrixTransform(this.m)},_e.prototype.getBBox=function(){var n=this.el.bbox();return this.el instanceof SVG.Nested&&(n=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(n.x=this.el.x(),n.y=this.el.y()),n},_e.prototype.start=function(n){if(n.type!="click"&&n.type!="mousedown"&&n.type!="mousemove"||(n.which||n.buttons)==1){var o=this;if(this.el.fire("beforedrag",{event:n,handler:this}),!this.el.event().defaultPrevented){n.preventDefault(),n.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var g,b=this.getBBox();if(this.el instanceof SVG.Text)switch(g=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":g/=2;break;case"start":g=0}this.startPoints={point:this.transformPoint(n,g),box:b,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(E){o.drag(E)}),SVG.on(window,"touchmove.drag",function(E){o.drag(E)}),SVG.on(window,"mouseup.drag",function(E){o.end(E)}),SVG.on(window,"touchend.drag",function(E){o.end(E)}),this.el.fire("dragstart",{event:n,p:this.startPoints.point,m:this.m,handler:this})}}},_e.prototype.drag=function(n){var o=this.getBBox(),g=this.transformPoint(n),b=this.startPoints.box.x+g.x-this.startPoints.point.x,E=this.startPoints.box.y+g.y-this.startPoints.point.y,k=this.constraint,C=g.x-this.startPoints.point.x,P=g.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:n,p:g,m:this.m,handler:this}),this.el.event().defaultPrevented)return g;if(typeof k=="function"){var N=k.call(this.el,b,E,this.m);typeof N=="boolean"&&(N={x:N,y:N}),N.x===!0?this.el.x(b):N.x!==!1&&this.el.x(N.x),N.y===!0?this.el.y(E):N.y!==!1&&this.el.y(N.y)}else typeof k=="object"&&(k.minX!=null&&b<k.minX?C=(b=k.minX)-this.startPoints.box.x:k.maxX!=null&&b>k.maxX-o.width&&(C=(b=k.maxX-o.width)-this.startPoints.box.x),k.minY!=null&&E<k.minY?P=(E=k.minY)-this.startPoints.box.y:k.maxY!=null&&E>k.maxY-o.height&&(P=(E=k.maxY-o.height)-this.startPoints.box.y),k.snapToGrid!=null&&(b-=b%k.snapToGrid,E-=E%k.snapToGrid,C-=C%k.snapToGrid,P-=P%k.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:C,y:P},!0):this.el.move(b,E));return g},_e.prototype.end=function(n){var o=this.drag(n);this.el.fire("dragend",{event:n,p:o,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(n,o){typeof n!="function"&&typeof n!="object"||(o=n,n=!0);var g=this.remember("_draggable")||new _e(this);return(n=n===void 0||n)?g.init(o||{},n):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function _e(n){this.el=n,n.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(o,g,b){var E=typeof o!="string"?o:g[o];return b?E/2:E},this.pointCoords=function(o,g){var b=this.pointsList[o];return{x:this.pointCoord(b[0],g,o==="t"||o==="b"),y:this.pointCoord(b[1],g,o==="r"||o==="l")}}}_e.prototype.init=function(n,o){var g=this.el.bbox();this.options={};var b=this.el.selectize.defaults.points;for(var E in this.el.selectize.defaults)this.options[E]=this.el.selectize.defaults[E],o[E]!==void 0&&(this.options[E]=o[E]);var k=["points","pointsExclude"];for(var E in k){var C=this.options[k[E]];typeof C=="string"?C=C.length>0?C.split(/\s*,\s*/i):[]:typeof C=="boolean"&&k[E]==="points"&&(C=C?b:[]),this.options[k[E]]=C}this.options.points=[b,this.options.points].reduce(function(P,N){return P.filter(function(W){return N.indexOf(W)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(P,N){return P.filter(function(W){return N.indexOf(W)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(g.x,g.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(n):this.selectRect(n),this.observe(),this.cleanup()},_e.prototype.selectPoints=function(n){return this.pointSelection.isSelected=n,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},_e.prototype.getPointArray=function(){var n=this.el.bbox();return this.el.array().valueOf().map(function(o){return[o[0]-n.x,o[1]-n.y]})},_e.prototype.drawPoints=function(){for(var n=this,o=this.getPointArray(),g=0,b=o.length;g<b;++g){var E=function(C){return function(P){(P=P||window.event).preventDefault?P.preventDefault():P.returnValue=!1,P.stopPropagation();var N=P.pageX||P.touches[0].pageX,W=P.pageY||P.touches[0].pageY;n.el.fire("point",{x:N,y:W,i:C,event:P})}}(g),k=this.drawPoint(o[g][0],o[g][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",E).on("mousedown",E);this.pointSelection.set.add(k)}},_e.prototype.drawPoint=function(n,o){var g=this.options.pointType;switch(g){case"circle":return this.drawCircle(n,o);case"rect":return this.drawRect(n,o);default:if(typeof g=="function")return g.call(this,n,o);throw new Error("Unknown "+g+" point type!")}},_e.prototype.drawCircle=function(n,o){return this.nested.circle(this.options.pointSize).center(n,o)},_e.prototype.drawRect=function(n,o){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(n,o)},_e.prototype.updatePointSelection=function(){var n=this.getPointArray();this.pointSelection.set.each(function(o){this.cx()===n[o][0]&&this.cy()===n[o][1]||this.center(n[o][0],n[o][1])})},_e.prototype.updateRectSelection=function(){var n=this,o=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:o.width,height:o.height}),this.options.points.length&&this.options.points.map(function(b,E){var k=n.pointCoords(b,o);n.rectSelection.set.get(E+1).center(k.x,k.y)}),this.options.rotationPoint){var g=this.rectSelection.set.length();this.rectSelection.set.get(g-1).center(o.width/2,20)}},_e.prototype.selectRect=function(n){var o=this,g=this.el.bbox();function b(C){return function(P){(P=P||window.event).preventDefault?P.preventDefault():P.returnValue=!1,P.stopPropagation();var N=P.pageX||P.touches[0].pageX,W=P.pageY||P.touches[0].pageY;o.el.fire(C,{x:N,y:W,event:P})}}if(this.rectSelection.isSelected=n,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(g.width,g.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(C,P){var N=o.pointCoords(C,g),W=o.drawPoint(N.x,N.y).attr("class",o.options.classPoints+"_"+C).on("mousedown",b(C)).on("touchstart",b(C));o.rectSelection.set.add(W)}),this.rectSelection.set.each(function(){this.addClass(o.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var E=function(C){(C=C||window.event).preventDefault?C.preventDefault():C.returnValue=!1,C.stopPropagation();var P=C.pageX||C.touches[0].pageX,N=C.pageY||C.touches[0].pageY;o.el.fire("rot",{x:P,y:N,event:C})},k=this.drawPoint(g.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",E).on("mousedown",E);this.rectSelection.set.add(k)}},_e.prototype.handler=function(){var n=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},_e.prototype.observe=function(){var n=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){n.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){n.handler()})},_e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(n,o){return typeof n=="object"&&(o=n,n=!0),(this.remember("_selectHandler")||new _e(this)).init(n===void 0||n,o||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function _e(n){n.remember("_resizeHandler",this),this.el=n,this.parameters={},this.lastUpdateCall=null,this.p=n.doc().node.createSVGPoint()}_e.prototype.transformPoint=function(n,o,g){return this.p.x=n-(this.offset.x-window.pageXOffset),this.p.y=o-(this.offset.y-window.pageYOffset),this.p.matrixTransform(g||this.m)},_e.prototype._extractPosition=function(n){return{x:n.clientX!=null?n.clientX:n.touches[0].clientX,y:n.clientY!=null?n.clientY:n.touches[0].clientY}},_e.prototype.init=function(n){var o=this;if(this.stop(),n!=="stop"){for(var g in this.options={},this.el.resize.defaults)this.options[g]=this.el.resize.defaults[g],n[g]!==void 0&&(this.options[g]=n[g]);this.el.on("lt.resize",function(b){o.resize(b||window.event)}),this.el.on("rt.resize",function(b){o.resize(b||window.event)}),this.el.on("rb.resize",function(b){o.resize(b||window.event)}),this.el.on("lb.resize",function(b){o.resize(b||window.event)}),this.el.on("t.resize",function(b){o.resize(b||window.event)}),this.el.on("r.resize",function(b){o.resize(b||window.event)}),this.el.on("b.resize",function(b){o.resize(b||window.event)}),this.el.on("l.resize",function(b){o.resize(b||window.event)}),this.el.on("rot.resize",function(b){o.resize(b||window.event)}),this.el.on("point.resize",function(b){o.resize(b||window.event)}),this.update()}},_e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},_e.prototype.resize=function(n){var o=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var g=this._extractPosition(n.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(g.x,g.y),x:n.detail.x,y:n.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),n.detail.i!==void 0){var b=this.el.array().valueOf();this.parameters.i=n.detail.i,this.parameters.pointCoords=[b[n.detail.i][0],b[n.detail.i][1]]}switch(n.type){case"lt":this.calc=function(E,k){var C=this.snapToGrid(E,k);if(this.parameters.box.width-C[0]>0&&this.parameters.box.height-C[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+C[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-C[0]);C=this.checkAspectRatio(C),this.el.move(this.parameters.box.x+C[0],this.parameters.box.y+C[1]).size(this.parameters.box.width-C[0],this.parameters.box.height-C[1])}};break;case"rt":this.calc=function(E,k){var C=this.snapToGrid(E,k,2);if(this.parameters.box.width+C[0]>0&&this.parameters.box.height-C[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-C[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+C[0]);C=this.checkAspectRatio(C,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+C[1]).size(this.parameters.box.width+C[0],this.parameters.box.height-C[1])}};break;case"rb":this.calc=function(E,k){var C=this.snapToGrid(E,k,0);if(this.parameters.box.width+C[0]>0&&this.parameters.box.height+C[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-C[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+C[0]);C=this.checkAspectRatio(C),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+C[0],this.parameters.box.height+C[1])}};break;case"lb":this.calc=function(E,k){var C=this.snapToGrid(E,k,1);if(this.parameters.box.width-C[0]>0&&this.parameters.box.height+C[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+C[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-C[0]);C=this.checkAspectRatio(C,!0),this.el.move(this.parameters.box.x+C[0],this.parameters.box.y).size(this.parameters.box.width-C[0],this.parameters.box.height+C[1])}};break;case"t":this.calc=function(E,k){var C=this.snapToGrid(E,k,2);if(this.parameters.box.height-C[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+C[1]).height(this.parameters.box.height-C[1])}};break;case"r":this.calc=function(E,k){var C=this.snapToGrid(E,k,0);if(this.parameters.box.width+C[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+C[0])}};break;case"b":this.calc=function(E,k){var C=this.snapToGrid(E,k,0);if(this.parameters.box.height+C[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+C[1])}};break;case"l":this.calc=function(E,k){var C=this.snapToGrid(E,k,1);if(this.parameters.box.width-C[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+C[0],this.parameters.box.y).width(this.parameters.box.width-C[0])}};break;case"rot":this.calc=function(E,k){var C=E+this.parameters.p.x,P=k+this.parameters.p.y,N=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),W=Math.atan2(P-this.parameters.box.y-this.parameters.box.height/2,C-this.parameters.box.x-this.parameters.box.width/2),K=this.parameters.rotation+180*(W-N)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(K-K%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(E,k){var C=this.snapToGrid(E,k,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),P=this.el.array().valueOf();P[this.parameters.i][0]=this.parameters.pointCoords[0]+C[0],P[this.parameters.i][1]=this.parameters.pointCoords[1]+C[1],this.el.plot(P)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:n}),SVG.on(window,"touchmove.resize",function(E){o.update(E||window.event)}),SVG.on(window,"touchend.resize",function(){o.done()}),SVG.on(window,"mousemove.resize",function(E){o.update(E||window.event)}),SVG.on(window,"mouseup.resize",function(){o.done()})},_e.prototype.update=function(n){if(n){var o=this._extractPosition(n),g=this.transformPoint(o.x,o.y),b=g.x-this.parameters.p.x,E=g.y-this.parameters.p.y;this.lastUpdateCall=[b,E],this.calc(b,E),this.el.fire("resizing",{dx:b,dy:E,event:n})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},_e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},_e.prototype.snapToGrid=function(n,o,g,b){var E;return b!==void 0?E=[(g+n)%this.options.snapToGrid,(b+o)%this.options.snapToGrid]:(g=g??3,E=[(this.parameters.box.x+n+(1&g?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+o+(2&g?0:this.parameters.box.height))%this.options.snapToGrid]),n<0&&(E[0]-=this.options.snapToGrid),o<0&&(E[1]-=this.options.snapToGrid),n-=Math.abs(E[0])<this.options.snapToGrid/2?E[0]:E[0]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),o-=Math.abs(E[1])<this.options.snapToGrid/2?E[1]:E[1]-(o<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(n,o,g,b)},_e.prototype.constraintToBox=function(n,o,g,b){var E,k,C=this.options.constraint||{};return b!==void 0?(E=g,k=b):(E=this.parameters.box.x+(1&g?0:this.parameters.box.width),k=this.parameters.box.y+(2&g?0:this.parameters.box.height)),C.minX!==void 0&&E+n<C.minX&&(n=C.minX-E),C.maxX!==void 0&&E+n>C.maxX&&(n=C.maxX-E),C.minY!==void 0&&k+o<C.minY&&(o=C.minY-k),C.maxY!==void 0&&k+o>C.maxY&&(o=C.maxY-k),[n,o]},_e.prototype.checkAspectRatio=function(n,o){if(!this.options.saveAspectRatio)return n;var g=n.slice(),b=this.parameters.box.width/this.parameters.box.height,E=this.parameters.box.width+n[0],k=this.parameters.box.height-n[1],C=E/k;return C<b?(g[1]=E/b-this.parameters.box.height,o&&(g[1]=-g[1])):C>b&&(g[0]=this.parameters.box.width-k*b,o&&(g[0]=-g[0])),g},SVG.extend(SVG.Element,{resize:function(n){return(this.remember("_resizeHandler")||new _e(this)).init(n||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(_e,n){n===void 0&&(n={});var o=n.insertAt;if(_e&&typeof document<"u"){var g=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",o==="top"&&g.firstChild?g.insertBefore(b,g.firstChild):g.appendChild(b),b.styleSheet?b.styleSheet.cssText=_e:b.appendChild(document.createTextNode(_e))}}(`.apexcharts-canvas {
  position: relative;
  user-select: none;
  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */
}


/* scrollbar is not visible by default for legend, hence forcing the visibility */
.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px;
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);
}


.apexcharts-inner {
  position: relative;
}

.apexcharts-text tspan {
  font-family: inherit;
}

.legend-mouseover-inactive {
  transition: 0.15s ease all;
  opacity: 0.20;
}

.apexcharts-series-collapsed {
  opacity: 0;
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: 0.15s ease all;
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: 0.15s ease all;
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, 0.96);
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, 0.8);
}

.apexcharts-tooltip * {
  font-family: inherit;
}


.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px;
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #ECEFF1;
  border-bottom: 1px solid #ddd;
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, 0.7);
  border-bottom: 1px solid #333;
}

.apexcharts-tooltip-text-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  font-weight: 600;
  margin-left: 5px;
}

.apexcharts-tooltip-text-z-label:empty,
.apexcharts-tooltip-text-z-value:empty {
  display: none;
}

.apexcharts-tooltip-text-value,
.apexcharts-tooltip-text-z-value {
  font-weight: 600;
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0px;
  margin-right: 10px;
  border-radius: 50%;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center;
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1;
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px;
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0 !important;
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px;
}

.apexcharts-tooltip-box, .apexcharts-custom-tooltip {
  padding: 4px 8px;
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse;
}

.apexcharts-tooltip-box>div {
  margin: 4px 0;
}

.apexcharts-tooltip-box span.value {
  font-weight: bold;
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px;
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777;
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: bold;
  display: block;
  margin-bottom: 5px;
}

.apexcharts-xaxistooltip {
  opacity: 0;
  padding: 9px 10px;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #ECEFF1;
  border: 1px solid #90A4AE;
  transition: 0.15s ease all;
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(0, 0, 0, 0.5);
  color: #fff;
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.apexcharts-xaxistooltip:after {
  border-color: rgba(236, 239, 241, 0);
  border-width: 6px;
  margin-left: -6px;
}

.apexcharts-xaxistooltip:before {
  border-color: rgba(144, 164, 174, 0);
  border-width: 7px;
  margin-left: -7px;
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%;
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%;
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #ECEFF1;
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90A4AE;
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {
  border-bottom-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #ECEFF1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90A4AE;
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {
  border-top-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: 0.15s ease all;
}

.apexcharts-yaxistooltip {
  opacity: 0;
  padding: 4px 10px;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #ECEFF1;
  border: 1px solid #90A4AE;
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(0, 0, 0, 0.5);
  color: #fff;
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.apexcharts-yaxistooltip:after {
  border-color: rgba(236, 239, 241, 0);
  border-width: 6px;
  margin-top: -6px;
}

.apexcharts-yaxistooltip:before {
  border-color: rgba(144, 164, 174, 0);
  border-width: 7px;
  margin-top: -7px;
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%;
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%;
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #ECEFF1;
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90A4AE;
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {
  border-left-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #ECEFF1;
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90A4AE;
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {
  border-right-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1;
}

.apexcharts-yaxistooltip-hidden {
  display: none;
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: 0.15s ease all;
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: 0.15s ease all;
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0;
}

.apexcharts-selection-rect {
  cursor: move;
}

.svg_select_boundingRect, .svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
}
.apexcharts-selection-rect + g .svg_select_boundingRect,
.apexcharts-selection-rect + g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden;
}

.apexcharts-selection-rect + g .svg_select_points_l,
.apexcharts-selection-rect + g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible;
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon,
.apexcharts-reset-icon,
.apexcharts-pan-icon,
.apexcharts-selection-icon,
.apexcharts-menu-icon,
.apexcharts-toolbar-custom-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6E8192;
  text-align: center;
}

.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-menu-icon svg {
  fill: #6E8192;
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(0.76)
}

.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {
  fill: #f3f4f5;
}

.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {
  fill: #008FFB;
}

.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-menu-icon:hover svg {
  fill: #333;
}

.apexcharts-selection-icon,
.apexcharts-menu-icon {
  position: relative;
}

.apexcharts-reset-icon {
  margin-left: 5px;
}

.apexcharts-zoom-icon,
.apexcharts-reset-icon,
.apexcharts-menu-icon {
  transform: scale(0.85);
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(0.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px;
}

.apexcharts-pan-icon {
  transform: scale(0.62);
  position: relative;
  left: 1px;
  top: 0px;
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6E8192;
  stroke-width: 2;
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008FFB;
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333;
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0px 6px 2px 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: 0.15s ease all;
  pointer-events: none;
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: 0.15s ease all;
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer;
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee;
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, 0.7);
  color: #fff;
}

@media screen and (min-width: 768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1;
  }
}

.apexcharts-datalabel.apexcharts-element-hidden {
  opacity: 0;
}

.apexcharts-pie-label,
.apexcharts-datalabels,
.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value {
  cursor: default;
  pointer-events: none;
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: 0.3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease;
}

.apexcharts-canvas .apexcharts-element-hidden {
  opacity: 0;
}

.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-gridline,
.apexcharts-annotation-rect,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-area-series .apexcharts-area,
.apexcharts-line,
.apexcharts-zoom-rect,
.apexcharts-toolbar svg,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-radar-series path,
.apexcharts-radar-series polygon {
  pointer-events: none;
}


/* markers */

.apexcharts-marker {
  transition: 0.15s ease all;
}

@keyframes opaque {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}


/* Resize generated styles */

@keyframes resizeanim {
  from {
    opacity: 0;
  }
  to {
    opacity: 0;
  }
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
}

.resize-triggers,
.resize-triggers>div,
.contract-trigger:before {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;
}

.resize-triggers>div {
  background: #eee;
  overflow: auto;
}

.contract-trigger:before {
  width: 200%;
  height: 200%;
}`),function(){function _e(ee){var ue=ee.__resizeTriggers__,we=ue.firstElementChild,Me=ue.lastElementChild,Oe=we?we.firstElementChild:null;Me&&(Me.scrollLeft=Me.scrollWidth,Me.scrollTop=Me.scrollHeight),Oe&&(Oe.style.width=we.offsetWidth+1+"px",Oe.style.height=we.offsetHeight+1+"px"),we&&(we.scrollLeft=we.scrollWidth,we.scrollTop=we.scrollHeight)}function n(ee){var ue=this;_e(this),this.__resizeRAF__&&E(this.__resizeRAF__),this.__resizeRAF__=b(function(){(function(we){return we.offsetWidth!=we.__resizeLast__.width||we.offsetHeight!=we.__resizeLast__.height})(ue)&&(ue.__resizeLast__.width=ue.offsetWidth,ue.__resizeLast__.height=ue.offsetHeight,ue.__resizeListeners__.forEach(function(we){we.call(ee)}))})}var o,g,b=(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(ee){return window.setTimeout(ee,20)},function(ee){return o(ee)}),E=(g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(ee){return g(ee)}),k=!1,C="animationstart",P="Webkit Moz O ms".split(" "),N="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),W=document.createElement("fakeelement");if(W.style.animationName!==void 0&&(k=!0),k===!1){for(var K=0;K<P.length;K++)if(W.style[P[K]+"AnimationName"]!==void 0){C=N[K];break}}window.addResizeListener=function(ee,ue){ee.__resizeTriggers__||(getComputedStyle(ee).position=="static"&&(ee.style.position="relative"),ee.__resizeLast__={},ee.__resizeListeners__=[],(ee.__resizeTriggers__=document.createElement("div")).className="resize-triggers",ee.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',ee.appendChild(ee.__resizeTriggers__),_e(ee),ee.addEventListener("scroll",n,!0),C&&ee.__resizeTriggers__.addEventListener(C,function(we){we.animationName=="resizeanim"&&_e(ee)})),ee.__resizeListeners__.push(ue)},window.removeResizeListener=function(ee,ue){ee&&(ee.__resizeListeners__.splice(ee.__resizeListeners__.indexOf(ue),1),ee.__resizeListeners__.length||(ee.removeEventListener("scroll",n),ee.__resizeTriggers__.parentNode&&(ee.__resizeTriggers__=!ee.removeChild(ee.__resizeTriggers__))))}}(),window.Apex===void 0&&(window.Apex={});var mt=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","touchstart","touchmove","mouseup","touchend"],this.ctx.animations=new pe(this.ctx),this.ctx.axes=new Xi(this.ctx),this.ctx.core=new je(this.ctx.el,this.ctx),this.ctx.config=new Ze({}),this.ctx.data=new rt(this.ctx),this.ctx.grid=new ur(this.ctx),this.ctx.graphics=new me(this.ctx),this.ctx.coreUtils=new Q(this.ctx),this.ctx.crosshairs=new Fi(this.ctx),this.ctx.events=new Ji(this.ctx),this.ctx.exports=new gi(this.ctx),this.ctx.localization=new Ei(this.ctx),this.ctx.options=new ui,this.ctx.responsive=new Lr(this.ctx),this.ctx.series=new Se(this.ctx),this.ctx.theme=new Vr(this.ctx),this.ctx.formatters=new Ot(this.ctx),this.ctx.titleSubtitle=new si(this.ctx),this.ctx.legend=new kn(this.ctx),this.ctx.toolbar=new oa(this.ctx),this.ctx.dimensions=new Ar(this.ctx),this.ctx.updateHelpers=new ct(this.ctx),this.ctx.zoomPanSelection=new Ge(this.ctx),this.ctx.w.globals.tooltip=new gn(this.ctx)}}]),_e}(),It=function(){function _e(n){p(this,_e),this.ctx=n,this.w=n.w}return x(_e,[{key:"clear",value:function(n){var o=n.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:o})}},{key:"killSVG",value:function(n){n.each(function(o,g){this.removeClass("*"),this.off(),this.stop()},!0),n.ungroup(),n.clear()}},{key:"clearDomElements",value:function(n){var o=this,g=n.isUpdating,b=this.w.globals.dom.Paper.node;b.parentNode&&b.parentNode.parentNode&&!g&&(b.parentNode.parentNode.style.minHeight="unset");var E=this.w.globals.dom.baseEl;E&&this.ctx.eventList.forEach(function(C){E.removeEventListener(C,o.ctx.events.documentEvent)});var k=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(k.Paper),k.Paper.remove(),k.elWrap=null,k.elGraphical=null,k.elAnnotations=null,k.elLegendWrap=null,k.baseEl=null,k.elGridRect=null,k.elGridRectMask=null,k.elGridRectMarkerMask=null,k.elDefs=null}}]),_e}(),Bt=function(){function _e(n,o){p(this,_e),this.opts=o,this.ctx=this,this.w=new We(o).init(),this.el=n,this.w.globals.cuid=X.randomId(),this.w.globals.chartID=this.w.config.chart.id?X.escapeString(this.w.config.chart.id):this.w.globals.cuid,new mt(this).initModules(),this.create=X.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return x(_e,[{key:"render",value:function(){var n=this;return new Promise(function(o,g){if(n.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),n.w.config.chart.id&&Apex._chartInstances.push({id:n.w.globals.chartID,group:n.w.config.chart.group,chart:n}),n.setLocale(n.w.config.chart.defaultLocale);var b=n.w.config.chart.events.beforeMount;typeof b=="function"&&b(n,n.w),n.events.fireEvent("beforeMount",[n,n.w]),window.addEventListener("resize",n.windowResizeHandler),window.addResizeListener(n.el.parentNode,n.parentResizeHandler);var E=n.create(n.w.config.series,{});if(!E)return o(n);n.mount(E).then(function(){typeof n.w.config.chart.events.mounted=="function"&&n.w.config.chart.events.mounted(n,n.w),n.events.fireEvent("mounted",[n,n.w]),o(E)}).catch(function(k){g(k)})}else g(new Error("Element not found"))})}},{key:"create",value:function(n,o){var g=this.w;new mt(this).initModules();var b=this.w.globals;if(b.noData=!1,b.animationEnded=!1,this.responsive.checkResponsiveConfig(o),g.config.xaxis.convertedCatToNumeric&&new Ne(g.config).convertCatToNumericXaxis(g.config,this.ctx),this.el===null||(this.core.setupElements(),g.config.chart.type==="treemap"&&(g.config.grid.show=!1,g.config.yaxis[0].show=!1),b.svgWidth===0))return b.animationEnded=!0,null;var E=Q.checkComboSeries(n);b.comboCharts=E.comboCharts,b.comboBarCount=E.comboBarCount;var k=n.every(function(K){return K.data&&K.data.length===0});(n.length===0||k)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(n),this.theme.init(),new De(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),b.noData&&b.collapsedSeries.length!==b.series.length&&!g.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),b.axisCharts&&(this.core.coreCalculations(),g.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=g.globals.minX,this.ctx.toolbar.maxX=g.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var C=this.core.xySettings();this.grid.createGridMask();var P=this.core.plotChartType(n,C),N=new fe(this);N.bringForward(),g.config.dataLabels.background.enabled&&N.dataLabelsBackground(),this.core.shiftGraphPosition();var W={plot:{left:g.globals.translateX,top:g.globals.translateY,width:g.globals.gridWidth,height:g.globals.gridHeight}};return{elGraph:P,xyRatios:C,elInner:g.globals.dom.elGraphical,dimensions:W}}},{key:"mount",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this,b=g.w;return new Promise(function(E,k){if(g.el===null)return k(new Error("Not enough data to display or target element not found"));(o===null||b.globals.allSeriesCollapsed)&&g.series.handleNoData(),b.config.chart.type!=="treemap"&&g.axes.drawAxis(b.config.chart.type,o.xyRatios),g.grid=new ur(g);var C=g.grid.drawGrid();g.annotations=new Ue(g),g.annotations.drawImageAnnos(),g.annotations.drawTextAnnos(),b.config.grid.position==="back"&&C&&b.globals.dom.elGraphical.add(C.el);var P=new Li(n.ctx),N=new Mi(n.ctx);if(C!==null&&(P.xAxisLabelCorrections(C.xAxisTickWidth),N.setYAxisTextAlignments(),b.config.yaxis.map(function(ee,ue){b.globals.ignoreYAxisIndexes.indexOf(ue)===-1&&N.yAxisTitleRotate(ue,ee.opposite)})),b.config.annotations.position==="back"&&(b.globals.dom.Paper.add(b.globals.dom.elAnnotations),g.annotations.drawAxesAnnotations()),Array.isArray(o.elGraph))for(var W=0;W<o.elGraph.length;W++)b.globals.dom.elGraphical.add(o.elGraph[W]);else b.globals.dom.elGraphical.add(o.elGraph);if(b.config.grid.position==="front"&&C&&b.globals.dom.elGraphical.add(C.el),b.config.xaxis.crosshairs.position==="front"&&g.crosshairs.drawXCrosshairs(),b.config.yaxis[0].crosshairs.position==="front"&&g.crosshairs.drawYCrosshairs(),b.config.annotations.position==="front"&&(b.globals.dom.Paper.add(b.globals.dom.elAnnotations),g.annotations.drawAxesAnnotations()),!b.globals.noData){if(b.config.tooltip.enabled&&!b.globals.noData&&g.w.globals.tooltip.drawTooltip(o.xyRatios),b.globals.axisCharts&&(b.globals.isXNumeric||b.config.xaxis.convertedCatToNumeric||b.globals.isTimelineBar))(b.config.chart.zoom.enabled||b.config.chart.selection&&b.config.chart.selection.enabled||b.config.chart.pan&&b.config.chart.pan.enabled)&&g.zoomPanSelection.init({xyRatios:o.xyRatios});else{var K=b.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(ee){K[ee]=!1})}b.config.chart.toolbar.show&&!b.globals.allSeriesCollapsed&&g.toolbar.createToolbar()}b.globals.memory.methodsToExec.length>0&&b.globals.memory.methodsToExec.forEach(function(ee){ee.method(ee.params,!1,ee.context)}),b.globals.axisCharts||b.globals.noData||g.core.resizeNonAxisCharts(),E(g)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var n=this.w.config.chart.id;n&&Apex._chartInstances.forEach(function(o,g){o.id===X.escapeString(n)&&Apex._chartInstances.splice(g,1)}),new It(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(n){var o=this,g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],b=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],E=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],k=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],C=this.w;return C.globals.selection=void 0,n.series&&(this.series.resetSeries(!1,!0,!1),n.series.length&&n.series[0].data&&(n.series=n.series.map(function(P,N){return o.updateHelpers._extendSeries(P,N)})),this.updateHelpers.revertDefaultAxisMinMax()),n.xaxis&&(n=this.updateHelpers.forceXAxisUpdate(n)),n.yaxis&&(n=this.updateHelpers.forceYAxisUpdate(n)),C.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),n.theme&&(n=this.theme.updateThemeOptions(n)),this.updateHelpers._updateOptions(n,g,b,E,k)}},{key:"updateSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,o,g)}},{key:"appendSeries",value:function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=this.w.config.series.slice();return b.push(n),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(b,o,g)}},{key:"appendData",value:function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=this;g.w.globals.dataChanged=!0,g.series.getPreviousPaths();for(var b=g.w.config.series.slice(),E=0;E<b.length;E++)if(n[E]!==null&&n[E]!==void 0)for(var k=0;k<n[E].data.length;k++)b[E].data.push(n[E].data[k]);return g.w.config.series=b,o&&(g.w.globals.initialSeries=X.clone(g.w.config.series)),this.update()}},{key:"update",value:function(n){var o=this;return new Promise(function(g,b){new It(o.ctx).clear({isUpdating:!0});var E=o.create(o.w.config.series,n);if(!E)return g(o);o.mount(E).then(function(){typeof o.w.config.chart.events.updated=="function"&&o.w.config.chart.events.updated(o,o.w),o.events.fireEvent("updated",[o,o.w]),o.w.globals.isDirty=!0,g(o)}).catch(function(k){b(k)})})}},{key:"getSyncedCharts",value:function(){var n=this.getGroupedCharts(),o=[this];return n.length&&(o=[],n.forEach(function(g){o.push(g)})),o}},{key:"getGroupedCharts",value:function(){var n=this;return Apex._chartInstances.filter(function(o){if(o.group)return!0}).map(function(o){return n.w.config.chart.group===o.group?o.chart:n})}},{key:"toggleSeries",value:function(n){return this.series.toggleSeries(n)}},{key:"showSeries",value:function(n){this.series.showSeries(n)}},{key:"hideSeries",value:function(n){this.series.hideSeries(n)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(n,o)}},{key:"addEventListener",value:function(n,o){this.events.addEventListener(n,o)}},{key:"removeEventListener",value:function(n,o){this.events.removeEventListener(n,o)}},{key:"addXaxisAnnotation",value:function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,b=this;g&&(b=g),b.annotations.addXaxisAnnotationExternal(n,o,b)}},{key:"addYaxisAnnotation",value:function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,b=this;g&&(b=g),b.annotations.addYaxisAnnotationExternal(n,o,b)}},{key:"addPointAnnotation",value:function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,b=this;g&&(b=g),b.annotations.addPointAnnotationExternal(n,o,b)}},{key:"clearAnnotations",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,o=this;n&&(o=n),o.annotations.clearAnnotations(o)}},{key:"removeAnnotation",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,g=this;o&&(g=o),g.annotations.removeAnnotation(g,n)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(n,o){return this.coreUtils.getSeriesTotalsXRange(n,o)}},{key:"getHighestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=new wi(this.ctx);return o.getMinYMaxY(n).highestY}},{key:"getLowestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=new wi(this.ctx);return o.getMinYMaxY(n).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(n,o){return this.updateHelpers.toggleDataPointSelection(n,o)}},{key:"zoomX",value:function(n,o){this.ctx.toolbar.zoomUpdateOptions(n,o)}},{key:"setLocale",value:function(n){this.localization.setCurrentLocaleValues(n)}},{key:"dataURI",value:function(){return new gi(this.ctx).dataURI()}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var n=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){n.w.globals.resized=!0,n.w.globals.dataChanged=!1,n.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var n=this.w.config.chart.redrawOnWindowResize;typeof n=="function"&&(n=n()),n&&this._windowResize()}}],[{key:"getChartByID",value:function(n){var o=X.escapeString(n),g=Apex._chartInstances.filter(function(b){return b.id===o})[0];return g&&g.chart}},{key:"initOnLoad",value:function(){for(var n=document.querySelectorAll("[data-apexcharts]"),o=0;o<n.length;o++)new _e(n[o],JSON.parse(n[o].getAttribute("data-options"))).render()}},{key:"exec",value:function(n,o){var g=this.getChartByID(n);if(g){g.w.globals.isExecCalled=!0;var b=null;if(g.publicMethods.indexOf(o)!==-1){for(var E=arguments.length,k=new Array(E>2?E-2:0),C=2;C<E;C++)k[C-2]=arguments[C];b=g[o].apply(g,k)}return b}}},{key:"merge",value:function(n,o){return X.extend(n,o)}}]),_e}();e.exports=Bt})(kK,D1);const DK=D1;window.ApexCharts=DK;document.addEventListener("DOMContentLoaded",()=>{window.Apex={colors:[window.theme.primary,window.theme.success,window.theme.warning,window.theme.danger,window.theme.info],chart:{foreColor:window.theme["gray-600"]}},setTimeout(()=>{window.dispatchEvent(new Event("resize"))},250)});var N5={},PK={get exports(){return N5},set exports(e){N5=e}};/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/(function(e){(function(r,h){if(e.exports){var p=typeof window<"u"?window.jQuery:void 0;p||(p=Jh(),p.fn||(p.fn={}));var m=typeof window<"u"&&typeof window.moment<"u"?window.moment:f7;e.exports=h(m,p)}else r.daterangepicker=h(r.moment,r.jQuery)})(fn,function(r,h){var p=function(m,x,w){if(this.parentEl="body",this.element=h(m),this.startDate=r().startOf("day"),this.endDate=r().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=r().subtract(100,"year").format("YYYY"),this.maxYear=r().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:r.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:r.weekdaysMin(),monthNames:r.monthsShort(),firstDay:r.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof x!="object"||x===null)&&(x={}),x=h.extend(this.element.data(),x),typeof x.template!="string"&&!(x.template instanceof h)&&(x.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=x.parentEl&&h(x.parentEl).length?h(x.parentEl):h(this.parentEl),this.container=h(x.template).appendTo(this.parentEl),typeof x.locale=="object"&&(typeof x.locale.direction=="string"&&(this.locale.direction=x.locale.direction),typeof x.locale.format=="string"&&(this.locale.format=x.locale.format),typeof x.locale.separator=="string"&&(this.locale.separator=x.locale.separator),typeof x.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=x.locale.daysOfWeek.slice()),typeof x.locale.monthNames=="object"&&(this.locale.monthNames=x.locale.monthNames.slice()),typeof x.locale.firstDay=="number"&&(this.locale.firstDay=x.locale.firstDay),typeof x.locale.applyLabel=="string"&&(this.locale.applyLabel=x.locale.applyLabel),typeof x.locale.cancelLabel=="string"&&(this.locale.cancelLabel=x.locale.cancelLabel),typeof x.locale.weekLabel=="string"&&(this.locale.weekLabel=x.locale.weekLabel),typeof x.locale.customRangeLabel=="string")){var l=document.createElement("textarea");l.innerHTML=x.locale.customRangeLabel;var L=l.value;this.locale.customRangeLabel=L}if(this.container.addClass(this.locale.direction),typeof x.startDate=="string"&&(this.startDate=r(x.startDate,this.locale.format)),typeof x.endDate=="string"&&(this.endDate=r(x.endDate,this.locale.format)),typeof x.minDate=="string"&&(this.minDate=r(x.minDate,this.locale.format)),typeof x.maxDate=="string"&&(this.maxDate=r(x.maxDate,this.locale.format)),typeof x.startDate=="object"&&(this.startDate=r(x.startDate)),typeof x.endDate=="object"&&(this.endDate=r(x.endDate)),typeof x.minDate=="object"&&(this.minDate=r(x.minDate)),typeof x.maxDate=="object"&&(this.maxDate=r(x.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof x.applyButtonClasses=="string"&&(this.applyButtonClasses=x.applyButtonClasses),typeof x.applyClass=="string"&&(this.applyButtonClasses=x.applyClass),typeof x.cancelButtonClasses=="string"&&(this.cancelButtonClasses=x.cancelButtonClasses),typeof x.cancelClass=="string"&&(this.cancelButtonClasses=x.cancelClass),typeof x.maxSpan=="object"&&(this.maxSpan=x.maxSpan),typeof x.dateLimit=="object"&&(this.maxSpan=x.dateLimit),typeof x.opens=="string"&&(this.opens=x.opens),typeof x.drops=="string"&&(this.drops=x.drops),typeof x.showWeekNumbers=="boolean"&&(this.showWeekNumbers=x.showWeekNumbers),typeof x.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=x.showISOWeekNumbers),typeof x.buttonClasses=="string"&&(this.buttonClasses=x.buttonClasses),typeof x.buttonClasses=="object"&&(this.buttonClasses=x.buttonClasses.join(" ")),typeof x.showDropdowns=="boolean"&&(this.showDropdowns=x.showDropdowns),typeof x.minYear=="number"&&(this.minYear=x.minYear),typeof x.maxYear=="number"&&(this.maxYear=x.maxYear),typeof x.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=x.showCustomRangeLabel),typeof x.singleDatePicker=="boolean"&&(this.singleDatePicker=x.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof x.timePicker=="boolean"&&(this.timePicker=x.timePicker),typeof x.timePickerSeconds=="boolean"&&(this.timePickerSeconds=x.timePickerSeconds),typeof x.timePickerIncrement=="number"&&(this.timePickerIncrement=x.timePickerIncrement),typeof x.timePicker24Hour=="boolean"&&(this.timePicker24Hour=x.timePicker24Hour),typeof x.autoApply=="boolean"&&(this.autoApply=x.autoApply),typeof x.autoUpdateInput=="boolean"&&(this.autoUpdateInput=x.autoUpdateInput),typeof x.linkedCalendars=="boolean"&&(this.linkedCalendars=x.linkedCalendars),typeof x.isInvalidDate=="function"&&(this.isInvalidDate=x.isInvalidDate),typeof x.isCustomDate=="function"&&(this.isCustomDate=x.isCustomDate),typeof x.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=x.alwaysShowCalendars),this.locale.firstDay!=0)for(var H=this.locale.firstDay;H>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),H--;var q,J,oe;if(typeof x.startDate>"u"&&typeof x.endDate>"u"&&h(this.element).is(":text")){var de=h(this.element).val(),ye=de.split(this.locale.separator);q=J=null,ye.length==2?(q=r(ye[0],this.locale.format),J=r(ye[1],this.locale.format)):this.singleDatePicker&&de!==""&&(q=r(de,this.locale.format),J=r(de,this.locale.format)),q!==null&&J!==null&&(this.setStartDate(q),this.setEndDate(J))}if(typeof x.ranges=="object"){for(oe in x.ranges){typeof x.ranges[oe][0]=="string"?q=r(x.ranges[oe][0],this.locale.format):q=r(x.ranges[oe][0]),typeof x.ranges[oe][1]=="string"?J=r(x.ranges[oe][1],this.locale.format):J=r(x.ranges[oe][1]),this.minDate&&q.isBefore(this.minDate)&&(q=this.minDate.clone());var ne=this.maxDate;if(this.maxSpan&&ne&&q.clone().add(this.maxSpan).isAfter(ne)&&(ne=q.clone().add(this.maxSpan)),ne&&J.isAfter(ne)&&(J=ne.clone()),!(this.minDate&&J.isBefore(this.minDate,this.timepicker?"minute":"day")||ne&&q.isAfter(ne,this.timepicker?"minute":"day"))){var l=document.createElement("textarea");l.innerHTML=oe;var L=l.value;this.ranges[L]=[q,J]}}var X="<ul>";for(oe in this.ranges)X+='<li data-range-key="'+oe+'">'+oe+"</li>";this.showCustomRangeLabel&&(X+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),X+="</ul>",this.container.find(".ranges").prepend(X)}typeof w=="function"&&(this.callback=w),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),typeof x.ranges=="object"&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(typeof x.ranges>"u"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",h.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",h.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",h.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",h.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",h.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",h.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",h.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",h.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",h.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",h.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":h.proxy(this.show,this),"focus.daterangepicker":h.proxy(this.show,this),"keyup.daterangepicker":h.proxy(this.elementChanged,this),"keydown.daterangepicker":h.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",h.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",h.proxy(this.toggle,this))),this.updateElement()};return p.prototype={constructor:p,setStartDate:function(m){typeof m=="string"&&(this.startDate=r(m,this.locale.format)),typeof m=="object"&&(this.startDate=r(m)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(m){typeof m=="string"&&(this.endDate=r(m,this.locale.format)),typeof m=="object"&&(this.endDate=r(m)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var m,x,w;if(this.endDate){if(m=parseInt(this.container.find(".left .hourselect").val(),10),x=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(x)&&(x=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),w=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();l==="PM"&&m<12&&(m+=12),l==="AM"&&m===12&&(m=0)}}else if(m=parseInt(this.container.find(".right .hourselect").val(),10),x=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(x)&&(x=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),w=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();l==="PM"&&m<12&&(m+=12),l==="AM"&&m===12&&(m=0)}this.leftCalendar.month.hour(m).minute(x).second(w),this.rightCalendar.month.hour(m).minute(x).second(w)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),this.endDate!=null&&this.calculateChosenLabel()},renderCalendar:function(m){var pe=m=="left"?this.leftCalendar:this.rightCalendar,x=pe.month.month(),w=pe.month.year(),l=pe.month.hour(),L=pe.month.minute(),H=pe.month.second(),q=r([w,x]).daysInMonth(),J=r([w,x,1]),oe=r([w,x,q]),de=r(J).subtract(1,"month").month(),ye=r(J).subtract(1,"month").year(),ne=r([ye,de]).daysInMonth(),X=J.day(),pe=[];pe.firstDay=J,pe.lastDay=oe;for(var ve=0;ve<6;ve++)pe[ve]=[];var me=ne-X+this.locale.firstDay+1;me>ne&&(me-=7),X==this.locale.firstDay&&(me=ne-6);for(var it=r([ye,de,me,12,L,H]),Ye,Q,ve=0,Ye=0,Q=0;ve<42;ve++,Ye++,it=r(it).add(24,"hour"))ve>0&&Ye%7===0&&(Ye=0,Q++),pe[Q][Ye]=it.clone().hour(l).minute(L).second(H),it.hour(12),this.minDate&&pe[Q][Ye].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&pe[Q][Ye].isBefore(this.minDate)&&m=="left"&&(pe[Q][Ye]=this.minDate.clone()),this.maxDate&&pe[Q][Ye].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&pe[Q][Ye].isAfter(this.maxDate)&&m=="right"&&(pe[Q][Ye]=this.maxDate.clone());m=="left"?this.leftCalendar.calendar=pe:this.rightCalendar.calendar=pe;var Dt=m=="left"?this.minDate:this.startDate,St=this.maxDate;m=="left"?this.startDate:this.endDate,this.locale.direction=="ltr";var At='<table class="table-condensed">';At+="<thead>",At+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(At+="<th></th>"),(!Dt||Dt.isBefore(pe.firstDay))&&(!this.linkedCalendars||m=="left")?At+='<th class="prev available"><span></span></th>':At+="<th></th>";var ui=this.locale.monthNames[pe[1][1].month()]+pe[1][1].format(" YYYY");if(this.showDropdowns){for(var Ue=pe[1][1].month(),Pe=pe[1][1].year(),De=St&&St.year()||this.maxYear,te=Dt&&Dt.year()||this.minYear,fe=Pe==te,le=Pe==De,Se='<select class="monthselect">',Re=0;Re<12;Re++)(!fe||Dt&&Re>=Dt.month())&&(!le||St&&Re<=St.month())?Se+="<option value='"+Re+"'"+(Re===Ue?" selected='selected'":"")+">"+this.locale.monthNames[Re]+"</option>":Se+="<option value='"+Re+"'"+(Re===Ue?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[Re]+"</option>";Se+="</select>";for(var ot='<select class="yearselect">',ht=te;ht<=De;ht++)ot+='<option value="'+ht+'"'+(ht===Pe?' selected="selected"':"")+">"+ht+"</option>";ot+="</select>",ui=Se+ot}if(At+='<th colspan="5" class="month">'+ui+"</th>",(!St||St.isAfter(pe.lastDay))&&(!this.linkedCalendars||m=="right"||this.singleDatePicker)?At+='<th class="next available"><span></span></th>':At+="<th></th>",At+="</tr>",At+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(At+='<th class="week">'+this.locale.weekLabel+"</th>"),h.each(this.locale.daysOfWeek,function(rt,Ot){At+="<th>"+Ot+"</th>"}),At+="</tr>",At+="</thead>",At+="<tbody>",this.endDate==null&&this.maxSpan){var Pt=this.startDate.clone().add(this.maxSpan).endOf("day");(!St||Pt.isBefore(St))&&(St=Pt)}for(var Q=0;Q<6;Q++){At+="<tr>",this.showWeekNumbers?At+='<td class="week">'+pe[Q][0].week()+"</td>":this.showISOWeekNumbers&&(At+='<td class="week">'+pe[Q][0].isoWeek()+"</td>");for(var Ye=0;Ye<7;Ye++){var Ne=[];pe[Q][Ye].isSame(new Date,"day")&&Ne.push("today"),pe[Q][Ye].isoWeekday()>5&&Ne.push("weekend"),pe[Q][Ye].month()!=pe[1][1].month()&&Ne.push("off","ends"),this.minDate&&pe[Q][Ye].isBefore(this.minDate,"day")&&Ne.push("off","disabled"),St&&pe[Q][Ye].isAfter(St,"day")&&Ne.push("off","disabled"),this.isInvalidDate(pe[Q][Ye])&&Ne.push("off","disabled"),pe[Q][Ye].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&Ne.push("active","start-date"),this.endDate!=null&&pe[Q][Ye].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&Ne.push("active","end-date"),this.endDate!=null&&pe[Q][Ye]>this.startDate&&pe[Q][Ye]<this.endDate&&Ne.push("in-range");var Ze=this.isCustomDate(pe[Q][Ye]);Ze!==!1&&(typeof Ze=="string"?Ne.push(Ze):Array.prototype.push.apply(Ne,Ze));for(var Ie="",We=!1,ve=0;ve<Ne.length;ve++)Ie+=Ne[ve]+" ",Ne[ve]=="disabled"&&(We=!0);We||(Ie+="available"),At+='<td class="'+Ie.replace(/^\s+|\s+$/g,"")+'" data-title="r'+Q+"c"+Ye+'">'+pe[Q][Ye].date()+"</td>"}At+="</tr>"}At+="</tbody>",At+="</table>",this.container.find(".drp-calendar."+m+" .calendar-table").html(At)},renderTimePicker:function(m){if(!(m=="right"&&!this.endDate)){var x,w,l,L=this.maxDate;if(this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(L=this.startDate.clone().add(this.maxSpan)),m=="left")w=this.startDate.clone(),l=this.minDate;else if(m=="right"){w=this.endDate.clone(),l=this.startDate;var H=this.container.find(".drp-calendar.right .calendar-time");if(H.html()!=""&&(w.hour(isNaN(w.hour())?H.find(".hourselect option:selected").val():w.hour()),w.minute(isNaN(w.minute())?H.find(".minuteselect option:selected").val():w.minute()),w.second(isNaN(w.second())?H.find(".secondselect option:selected").val():w.second()),!this.timePicker24Hour)){var q=H.find(".ampmselect option:selected").val();q==="PM"&&w.hour()<12&&w.hour(w.hour()+12),q==="AM"&&w.hour()===12&&w.hour(0)}w.isBefore(this.startDate)&&(w=this.startDate.clone()),L&&w.isAfter(L)&&(w=L.clone())}x='<select class="hourselect">';for(var J=this.timePicker24Hour?0:1,oe=this.timePicker24Hour?23:12,de=J;de<=oe;de++){var ye=de;this.timePicker24Hour||(ye=w.hour()>=12?de==12?12:de+12:de==12?0:de);var ne=w.clone().hour(ye),X=!1;l&&ne.minute(59).isBefore(l)&&(X=!0),L&&ne.minute(0).isAfter(L)&&(X=!0),ye==w.hour()&&!X?x+='<option value="'+de+'" selected="selected">'+de+"</option>":X?x+='<option value="'+de+'" disabled="disabled" class="disabled">'+de+"</option>":x+='<option value="'+de+'">'+de+"</option>"}x+="</select> ",x+=': <select class="minuteselect">';for(var de=0;de<60;de+=this.timePickerIncrement){var pe=de<10?"0"+de:de,ne=w.clone().minute(de),X=!1;l&&ne.second(59).isBefore(l)&&(X=!0),L&&ne.second(0).isAfter(L)&&(X=!0),w.minute()==de&&!X?x+='<option value="'+de+'" selected="selected">'+pe+"</option>":X?x+='<option value="'+de+'" disabled="disabled" class="disabled">'+pe+"</option>":x+='<option value="'+de+'">'+pe+"</option>"}if(x+="</select> ",this.timePickerSeconds){x+=': <select class="secondselect">';for(var de=0;de<60;de++){var pe=de<10?"0"+de:de,ne=w.clone().second(de),X=!1;l&&ne.isBefore(l)&&(X=!0),L&&ne.isAfter(L)&&(X=!0),w.second()==de&&!X?x+='<option value="'+de+'" selected="selected">'+pe+"</option>":X?x+='<option value="'+de+'" disabled="disabled" class="disabled">'+pe+"</option>":x+='<option value="'+de+'">'+pe+"</option>"}x+="</select> "}if(!this.timePicker24Hour){x+='<select class="ampmselect">';var ve="",me="";l&&w.clone().hour(12).minute(0).second(0).isBefore(l)&&(ve=' disabled="disabled" class="disabled"'),L&&w.clone().hour(0).minute(0).second(0).isAfter(L)&&(me=' disabled="disabled" class="disabled"'),w.hour()>=12?x+='<option value="AM"'+ve+'>AM</option><option value="PM" selected="selected"'+me+">PM</option>":x+='<option value="AM" selected="selected"'+ve+'>AM</option><option value="PM"'+me+">PM</option>",x+="</select>"}this.container.find(".drp-calendar."+m+" .calendar-time").html(x)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var m={top:0,left:0},x,w=this.drops,l=h(window).width();switch(this.parentEl.is("body")||(m={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},l=this.parentEl[0].clientWidth+this.parentEl.offset().left),w){case"auto":x=this.element.offset().top+this.element.outerHeight()-m.top,x+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(x=this.element.offset().top-this.container.outerHeight()-m.top,w="up");break;case"up":x=this.element.offset().top-this.container.outerHeight()-m.top;break;default:x=this.element.offset().top+this.element.outerHeight()-m.top;break}this.container.css({top:0,left:0,right:"auto"});var L=this.container.outerWidth();if(this.container.toggleClass("drop-up",w=="up"),this.opens=="left"){var H=l-this.element.offset().left-this.element.outerWidth();L+H>h(window).width()?this.container.css({top:x,right:"auto",left:9}):this.container.css({top:x,right:H,left:"auto"})}else if(this.opens=="center"){var q=this.element.offset().left-m.left+this.element.outerWidth()/2-L/2;q<0?this.container.css({top:x,right:"auto",left:9}):q+L>h(window).width()?this.container.css({top:x,left:"auto",right:0}):this.container.css({top:x,left:q,right:"auto"})}else{var q=this.element.offset().left-m.left;q+L>h(window).width()?this.container.css({top:x,left:"auto",right:0}):this.container.css({top:x,left:q,right:"auto"})}},show:function(m){this.isShowing||(this._outsideClickProxy=h.proxy(function(x){this.outsideClick(x)},this),h(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),h(window).on("resize.daterangepicker",h.proxy(function(x){this.move(x)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(m){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),h(document).off(".daterangepicker"),h(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(m){this.isShowing?this.hide():this.show()},outsideClick:function(m){var x=h(m.target);m.type=="focusin"||x.closest(this.element).length||x.closest(this.container).length||x.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(m){var x=m.target.getAttribute("data-range-key");if(this.chosenLabel=x,x==this.locale.customRangeLabel)this.showCalendars();else{var w=this.ranges[x];this.startDate=w[0],this.endDate=w[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(m){var x=h(m.target).parents(".drp-calendar");x.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(m){var x=h(m.target).parents(".drp-calendar");x.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(m){if(h(m.target).hasClass("available")){var x=h(m.target).attr("data-title"),w=x.substr(1,1),l=x.substr(3,1),L=h(m.target).parents(".drp-calendar"),H=L.hasClass("left")?this.leftCalendar.calendar[w][l]:this.rightCalendar.calendar[w][l],q=this.leftCalendar,J=this.rightCalendar,oe=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(de,ye){if(!h(ye).hasClass("week")){var ne=h(ye).attr("data-title"),X=ne.substr(1,1),pe=ne.substr(3,1),ve=h(ye).parents(".drp-calendar"),me=ve.hasClass("left")?q.calendar[X][pe]:J.calendar[X][pe];me.isAfter(oe)&&me.isBefore(H)||me.isSame(H,"day")?h(ye).addClass("in-range"):h(ye).removeClass("in-range")}})}},clickDate:function(m){if(h(m.target).hasClass("available")){var x=h(m.target).attr("data-title"),w=x.substr(1,1),l=x.substr(3,1),L=h(m.target).parents(".drp-calendar"),H=L.hasClass("left")?this.leftCalendar.calendar[w][l]:this.rightCalendar.calendar[w][l];if(this.endDate||H.isBefore(this.startDate,"day")){if(this.timePicker){var q=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var J=this.container.find(".left .ampmselect").val();J==="PM"&&q<12&&(q+=12),J==="AM"&&q===12&&(q=0)}var oe=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(oe)&&(oe=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var de=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;H=H.clone().hour(q).minute(oe).second(de)}this.endDate=null,this.setStartDate(H.clone())}else if(!this.endDate&&H.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var q=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var J=this.container.find(".right .ampmselect").val();J==="PM"&&q<12&&(q+=12),J==="AM"&&q===12&&(q=0)}var oe=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(oe)&&(oe=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var de=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;H=H.clone().hour(q).minute(oe).second(de)}this.setEndDate(H.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),m.stopPropagation()}},calculateChosenLabel:function(){var m=!0,x=0;for(var w in this.ranges){if(this.timePicker){var l=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(l)==this.ranges[w][0].format(l)&&this.endDate.format(l)==this.ranges[w][1].format(l)){m=!1,this.chosenLabel=this.container.find(".ranges li:eq("+x+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[w][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[w][1].format("YYYY-MM-DD")){m=!1,this.chosenLabel=this.container.find(".ranges li:eq("+x+")").addClass("active").attr("data-range-key");break}x++}m&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(m){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(m){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(m){var x=h(m.target).closest(".drp-calendar").hasClass("left"),w=x?"left":"right",l=this.container.find(".drp-calendar."+w),L=parseInt(l.find(".monthselect").val(),10),H=l.find(".yearselect").val();x||(H<this.startDate.year()||H==this.startDate.year()&&L<this.startDate.month())&&(L=this.startDate.month(),H=this.startDate.year()),this.minDate&&(H<this.minDate.year()||H==this.minDate.year()&&L<this.minDate.month())&&(L=this.minDate.month(),H=this.minDate.year()),this.maxDate&&(H>this.maxDate.year()||H==this.maxDate.year()&&L>this.maxDate.month())&&(L=this.maxDate.month(),H=this.maxDate.year()),x?(this.leftCalendar.month.month(L).year(H),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(L).year(H),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(m){var x=h(m.target).closest(".drp-calendar"),w=x.hasClass("left"),l=parseInt(x.find(".hourselect").val(),10),L=parseInt(x.find(".minuteselect").val(),10);isNaN(L)&&(L=parseInt(x.find(".minuteselect option:last").val(),10));var H=this.timePickerSeconds?parseInt(x.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var q=x.find(".ampmselect").val();q==="PM"&&l<12&&(l+=12),q==="AM"&&l===12&&(l=0)}if(w){var J=this.startDate.clone();J.hour(l),J.minute(L),J.second(H),this.setStartDate(J),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==J.format("YYYY-MM-DD")&&this.endDate.isBefore(J)&&this.setEndDate(J.clone())}else if(this.endDate){var oe=this.endDate.clone();oe.hour(l),oe.minute(L),oe.second(H),this.setEndDate(oe)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var m=this.element.val().split(this.locale.separator),x=null,w=null;m.length===2&&(x=r(m[0],this.locale.format),w=r(m[1],this.locale.format)),(this.singleDatePicker||x===null||w===null)&&(x=r(this.element.val(),this.locale.format),w=x),!(!x.isValid()||!w.isValid())&&(this.setStartDate(x),this.setEndDate(w),this.updateView())}},keydown:function(m){(m.keyCode===9||m.keyCode===13)&&this.hide(),m.keyCode===27&&(m.preventDefault(),m.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var m=this.startDate.format(this.locale.format);this.singleDatePicker||(m+=this.locale.separator+this.endDate.format(this.locale.format)),m!==this.element.val()&&this.element.val(m).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},h.fn.daterangepicker=function(m,x){var w=h.extend(!0,{},h.fn.daterangepicker.defaultOptions,m);return this.each(function(){var l=h(this);l.data("daterangepicker")&&l.data("daterangepicker").remove(),l.data("daterangepicker",new p(l,w,x))}),this},p})})(PK);/*!@preserve
 * Tempus Dominus Bootstrap4 v5.39.0 (https://tempusdominus.github.io/bootstrap-4/)
 * Copyright 2016-2020 Jonathan Peterson and contributors
 * Licensed under MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)
 */if(typeof jQuery>"u")throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");+function(e){var r=e.fn.jquery.split(" ")[0].split(".");if(r[0]<2&&r[1]<9||r[0]===1&&r[1]===9&&r[2]<1||r[0]>=4)throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(jQuery);if(typeof moment>"u")throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var Wv=moment.version.split(".");if(Wv[0]<=2&&Wv[1]<17||Wv[0]>=3)throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");+function(){function e(m,x){m.prototype=Object.create(x.prototype),m.prototype.constructor=m,m.__proto__=x}function r(m,x){for(var w=0;w<x.length;w++){var l=x[w];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(m,l.key,l)}}function h(m,x,w){return x&&r(m.prototype,x),w&&r(m,w),m}var p=function(m,x){function w(Ue){return Ue.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function l(Ue){return Object.prototype.toString.call(Ue)==="[object Date]"&&!isNaN(Ue.getTime())}function L(Ue){return l(new Date(Ue))}var H=function(Pe){return Pe.replace(/(^\s+)|(\s+$)/g,"")},q="datetimepicker",J=""+q,oe="."+J,de=".data-api",ye={DATA_TOGGLE:'[data-toggle="'+J+'"]'},ne={INPUT:q+"-input"},X={CHANGE:"change"+oe,BLUR:"blur"+oe,KEYUP:"keyup"+oe,KEYDOWN:"keydown"+oe,FOCUS:"focus"+oe,CLICK_DATA_API:"click"+oe+de,UPDATE:"update"+oe,ERROR:"error"+oe,HIDE:"hide"+oe,SHOW:"show"+oe},pe=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],ve={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},me=["times","days","months","years","decades"],it={},Ye={},Q={timeZone:-39,format:-38,dayViewHeaderFormat:-37,extraFormats:-36,stepping:-35,minDate:-34,maxDate:-33,useCurrent:-32,collapse:-31,locale:-30,defaultDate:-29,disabledDates:-28,enabledDates:-27,icons:-26,tooltips:-25,useStrict:-24,sideBySide:-23,daysOfWeekDisabled:-22,calendarWeeks:-21,viewMode:-20,toolbarPlacement:-19,buttons:-18,widgetPositioning:-17,widgetParent:-16,ignoreReadonly:-15,keepOpen:-14,focusOnShow:-13,inline:-12,keepInvalid:-11,keyBinds:-10,debug:-9,allowInputToggle:-8,disabledTimeIntervals:-7,disabledHours:-6,enabledHours:-5,viewDate:-4,allowMultidate:-3,multidateSeparator:-2,updateOnlyThroughDateOption:-1,date:1},Dt={time:"clock",date:"calendar",up:"arrow-up",down:"arrow-down",previous:"arrow-left",next:"arrow-right",today:"arrow-down-circle",clear:"trash-2",close:"x"};function St(Ue,Pe){return Q[Ue]&&Q[Pe]?Q[Ue]<0&&Q[Pe]<0?Math.abs(Q[Pe])-Math.abs(Q[Ue]):Q[Ue]<0?-1:Q[Pe]<0?1:Q[Ue]-Q[Pe]:Q[Ue]?Q[Ue]:Q[Pe]?Q[Pe]:0}var At={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:x.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{type:"class",time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-trash",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,readonly:!1,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(Pe.clone().subtract(7,"d")):this.date(Pe.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(Pe.clone().add(7,"d")):this.date(Pe.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(Pe.clone().subtract(1,"y")):this.date(Pe.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(Pe.clone().add(1,"y")):this.date(Pe.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(Pe.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(Pe.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(Pe.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var Pe=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(Pe.clone().add(1,"M")),!0},enter:function(){return this.widget?(this.hide(),!0):!1},escape:function(){return this.widget?(this.hide(),!0):!1},"control space":function(){return this.widget?(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0):!1},t:function(){return this.widget?(this.date(this.getMoment()),!0):!1},delete:function(){return this.widget?(this.clear(),!0):!1}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:", ",updateOnlyThroughDateOption:!1,promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200},ui=function(){function Ue(De,te){this._options=this._getOptions(te),this._element=De,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this.MinViewModeNumber=0,this.isInitFormatting=!1,this.isInit=!1,this.isDateUpdateThroughDateOptionFromClientCode=!1,this.hasInitDate=!1,this.initDate=void 0,this._notifyChangeEventContext=void 0,this._currentPromptTimeTimeout=null,this._int()}var Pe=Ue.prototype;return Pe._int=function(){this.isInit=!0;var te=this._element.data("target-input");this._element.is("input")?this.input=this._element:te!==void 0&&(te==="nearest"?this.input=this._element.find("input"):this.input=m(te)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),m.extend(!0,this._options,this._dataToOptions()),this.hasInitDate=!1,this.initDate=void 0,this.options(this._options),this.isInitFormatting=!0,this._initFormatting(),this.isInitFormatting=!1,this.input!==void 0&&this.input.is("input")&&this.input.val().trim().length!==0?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&this.input!==void 0&&this.input.attr("placeholder")===void 0&&this._setValue(this._options.defaultDate,0),this.hasInitDate&&this.date(this.initDate),this._options.inline&&this.show(),this.isInit=!1},Pe._update=function(){this.widget&&(this._fillDate(),this._fillTime())},Pe._setValue=function(te,fe){var le=typeof fe>"u",Se=!te&&le,Re=this.isDateUpdateThroughDateOptionFromClientCode,ot=!this.isInit&&this._options.updateOnlyThroughDateOption&&!Re,ht="",Pt=!1,Ne=this.unset?null:this._dates[fe];if(!Ne&&!this.unset&&le&&Se&&(Ne=this._dates[this._dates.length-1]),!te){if(ot){this._notifyEvent({type:Ue.Event.CHANGE,date:te,oldDate:Ne,isClear:Se,isInvalid:Pt,isDateUpdateThroughDateOptionFromClientCode:Re,isInit:this.isInit});return}!this._options.allowMultidate||this._dates.length===1||Se?(this.unset=!0,this._dates=[],this._datesFormatted=[]):(ht=""+this._element.data("date")+this._options.multidateSeparator,ht=Ne&&ht.replace(""+Ne.format(this.actualFormat)+this._options.multidateSeparator,"").replace(""+this._options.multidateSeparator+this._options.multidateSeparator,"").replace(new RegExp(w(this._options.multidateSeparator)+"\\s*$"),"")||"",this._dates.splice(fe,1),this._datesFormatted.splice(fe,1)),ht=H(ht),this.input!==void 0&&(this.input.val(ht),this.input.trigger("input")),this._element.data("date",ht),this._notifyEvent({type:Ue.Event.CHANGE,date:!1,oldDate:Ne,isClear:Se,isInvalid:Pt,isDateUpdateThroughDateOptionFromClientCode:Re,isInit:this.isInit}),this._update();return}if(te=te.clone().locale(this._options.locale),this._hasTimeZone()&&te.tz(this._options.timeZone),this._options.stepping!==1&&te.minutes(Math.round(te.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(te)){if(ot){this._notifyEvent({type:Ue.Event.CHANGE,date:te.clone(),oldDate:Ne,isClear:Se,isInvalid:Pt,isDateUpdateThroughDateOptionFromClientCode:Re,isInit:this.isInit});return}if(this._dates[fe]=te,this._datesFormatted[fe]=te.format("YYYY-MM-DD"),this._viewDate=te.clone(),this._options.allowMultidate&&this._dates.length>1){for(var Ze=0;Ze<this._dates.length;Ze++)ht+=""+this._dates[Ze].format(this.actualFormat)+this._options.multidateSeparator;ht=ht.replace(new RegExp(this._options.multidateSeparator+"\\s*$"),"")}else ht=this._dates[fe].format(this.actualFormat);ht=H(ht),this.input!==void 0&&(this.input.val(ht),this.input.trigger("input")),this._element.data("date",ht),this.unset=!1,this._update(),this._notifyEvent({type:Ue.Event.CHANGE,date:this._dates[fe].clone(),oldDate:Ne,isClear:Se,isInvalid:Pt,isDateUpdateThroughDateOptionFromClientCode:Re,isInit:this.isInit})}else Pt=!0,this._options.keepInvalid?this._notifyEvent({type:Ue.Event.CHANGE,date:te,oldDate:Ne,isClear:Se,isInvalid:Pt,isDateUpdateThroughDateOptionFromClientCode:Re,isInit:this.isInit}):this.input!==void 0&&(this.input.val(""+(this.unset?"":this._dates[fe].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:Ue.Event.ERROR,date:te,oldDate:Ne})},Pe._change=function(te){var fe=m(te.target).val().trim(),le=fe?this._parseInputDate(fe):null;return this._setValue(le,0),te.stopImmediatePropagation(),!1},Pe._getOptions=function(te){return te=m.extend(!0,{},At,te&&te.icons&&te.icons.type==="feather"?{icons:Dt}:{},te),te},Pe._hasTimeZone=function(){return x.tz!==void 0&&this._options.timeZone!==void 0&&this._options.timeZone!==null&&this._options.timeZone!==""},Pe._isEnabled=function(te){if(typeof te!="string"||te.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(te){case"y":return this.actualFormat.indexOf("Y")!==-1;case"M":return this.actualFormat.indexOf("M")!==-1;case"d":return this.actualFormat.toLowerCase().indexOf("d")!==-1;case"h":case"H":return this.actualFormat.toLowerCase().indexOf("h")!==-1;case"m":return this.actualFormat.indexOf("m")!==-1;case"s":return this.actualFormat.indexOf("s")!==-1;case"a":case"A":return this.actualFormat.toLowerCase().indexOf("a")!==-1;default:return!1}},Pe._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},Pe._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},Pe._dataToOptions=function(){var te=this._element.data(),fe={};return te.dateOptions&&te.dateOptions instanceof Object&&(fe=m.extend(!0,fe,te.dateOptions)),m.each(this._options,function(le){var Se="date"+le.charAt(0).toUpperCase()+le.slice(1);te[Se]!==void 0?fe[le]=te[Se]:delete fe[le]}),fe},Pe._format=function(){return this._options.format||"YYYY-MM-DD HH:mm"},Pe._areSameDates=function(te,fe){var le=this._format();return te&&fe&&(te.isSame(fe)||x(te.format(le),le).isSame(x(fe.format(le),le)))},Pe._notifyEvent=function(te){if(te.type===Ue.Event.CHANGE){if(this._notifyChangeEventContext=this._notifyChangeEventContext||0,this._notifyChangeEventContext++,te.date&&this._areSameDates(te.date,te.oldDate)||!te.isClear&&!te.date&&!te.oldDate||this._notifyChangeEventContext>1){this._notifyChangeEventContext=void 0;return}this._handlePromptTimeIfNeeded(te)}this._element.trigger(te),this._notifyChangeEventContext=void 0},Pe._handlePromptTimeIfNeeded=function(te){if(this._options.promptTimeOnDateChange){if(!te.oldDate&&this._options.useCurrent)return;if(te.oldDate&&te.date&&(te.oldDate.format("YYYY-MM-DD")===te.date.format("YYYY-MM-DD")||te.oldDate.format("YYYY-MM-DD")!==te.date.format("YYYY-MM-DD")&&te.oldDate.format("HH:mm:ss")!==te.date.format("HH:mm:ss")))return;var fe=this;clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(function(){fe.widget&&fe.widget.find('[data-action="togglePicker"]').click()},this._options.promptTimeOnDateChangeTransitionDelay)}},Pe._viewUpdate=function(te){te==="y"&&(te="YYYY"),this._notifyEvent({type:Ue.Event.UPDATE,change:te,viewDate:this._viewDate.clone()})},Pe._showMode=function(te){this.widget&&(te&&(this.currentViewMode=Math.max(this.MinViewModeNumber,Math.min(3,this.currentViewMode+te))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+pe[this.currentViewMode].CLASS_NAME).show())},Pe._isInDisabledDates=function(te){return this._options.disabledDates[te.format("YYYY-MM-DD")]===!0},Pe._isInEnabledDates=function(te){return this._options.enabledDates[te.format("YYYY-MM-DD")]===!0},Pe._isInDisabledHours=function(te){return this._options.disabledHours[te.format("H")]===!0},Pe._isInEnabledHours=function(te){return this._options.enabledHours[te.format("H")]===!0},Pe._isValid=function(te,fe){if(!te||!te.isValid()||this._options.disabledDates&&fe==="d"&&this._isInDisabledDates(te)||this._options.enabledDates&&fe==="d"&&!this._isInEnabledDates(te)||this._options.minDate&&te.isBefore(this._options.minDate,fe)||this._options.maxDate&&te.isAfter(this._options.maxDate,fe)||this._options.daysOfWeekDisabled&&fe==="d"&&this._options.daysOfWeekDisabled.indexOf(te.day())!==-1||this._options.disabledHours&&(fe==="h"||fe==="m"||fe==="s")&&this._isInDisabledHours(te)||this._options.enabledHours&&(fe==="h"||fe==="m"||fe==="s")&&!this._isInEnabledHours(te))return!1;if(this._options.disabledTimeIntervals&&(fe==="h"||fe==="m"||fe==="s")){var le=!1;if(m.each(this._options.disabledTimeIntervals,function(){if(te.isBetween(this[0],this[1]))return le=!0,!1}),le)return!1}return!0},Pe._parseInputDate=function(te,fe){var le=fe===void 0?{}:fe,Se=le.isPickerShow,Re=Se===void 0?!1:Se;return this._options.parseInputDate===void 0||Re?x.isMoment(te)||(te=this.getMoment(te)):te=this._options.parseInputDate(te),te},Pe._keydown=function(te){var fe=null,le,Se,Re,ot,ht=[],Pt={},Ne=te.which,Ze="p";it[Ne]=Ze;for(le in it)it.hasOwnProperty(le)&&it[le]===Ze&&(ht.push(le),parseInt(le,10)!==Ne&&(Pt[le]=!0));for(le in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(le)&&typeof this._options.keyBinds[le]=="function"&&(Re=le.split(" "),Re.length===ht.length&&ve[Ne]===Re[Re.length-1])){for(ot=!0,Se=Re.length-2;Se>=0;Se--)if(!(ve[Re[Se]]in Pt)){ot=!1;break}if(ot){fe=this._options.keyBinds[le];break}}fe&&fe.call(this)&&(te.stopPropagation(),te.preventDefault())},Pe._keyup=function(te){it[te.which]="r",Ye[te.which]&&(Ye[te.which]=!1,te.stopPropagation(),te.preventDefault())},Pe._indexGivenDates=function(te){var fe={},le=this;return m.each(te,function(){var Se=le._parseInputDate(this);Se.isValid()&&(fe[Se.format("YYYY-MM-DD")]=!0)}),Object.keys(fe).length?fe:!1},Pe._indexGivenHours=function(te){var fe={};return m.each(te,function(){fe[this]=!0}),Object.keys(fe).length?fe:!1},Pe._initFormatting=function(){var te=this._options.format||"L LT",fe=this;this.actualFormat=te.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(le){return(fe.isInitFormatting&&fe._options.date===null?fe.getMoment():fe._dates[0]).localeData().longDateFormat(le)||le}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],this.parseFormats.indexOf(te)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat),this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1,this._isEnabled("y")&&(this.MinViewModeNumber=2),this._isEnabled("M")&&(this.MinViewModeNumber=1),this._isEnabled("d")&&(this.MinViewModeNumber=0),this.currentViewMode=Math.max(this.MinViewModeNumber,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},Pe._getLastPickedDate=function(){var te=this._dates[this._getLastPickedDateIndex()];return!te&&this._options.allowMultidate&&(te=x(new Date)),te},Pe._getLastPickedDateIndex=function(){return this._dates.length-1},Pe.getMoment=function(te){var fe;return te==null?fe=x().clone().locale(this._options.locale):this._hasTimeZone()?fe=x.tz(te,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):fe=x(te,this.parseFormats,this._options.locale,this._options.useStrict),this._hasTimeZone()&&fe.tz(this._options.timeZone),fe},Pe.toggle=function(){return this.widget?this.hide():this.show()},Pe.readonly=function(te){if(arguments.length===0)return this._options.readonly;if(typeof te!="boolean")throw new TypeError("readonly() expects a boolean parameter");this._options.readonly=te,this.input!==void 0&&this.input.prop("readonly",this._options.readonly),this.widget&&(this.hide(),this.show())},Pe.ignoreReadonly=function(te){if(arguments.length===0)return this._options.ignoreReadonly;if(typeof te!="boolean")throw new TypeError("ignoreReadonly() expects a boolean parameter");this._options.ignoreReadonly=te},Pe.options=function(te){if(arguments.length===0)return m.extend(!0,{},this._options);if(!(te instanceof Object))throw new TypeError("options() this.options parameter should be an object");m.extend(!0,this._options,te);var fe=this,le=Object.keys(this._options).sort(St);m.each(le,function(Se,Re){var ot=fe._options[Re];if(fe[Re]!==void 0){if(fe.isInit&&Re==="date"){fe.hasInitDate=!0,fe.initDate=ot;return}fe[Re](ot)}})},Pe.date=function(te,fe){if(fe=fe||0,arguments.length===0)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[fe].clone();if(te!==null&&typeof te!="string"&&!x.isMoment(te)&&!(te instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");typeof te=="string"&&L(te)&&(te=new Date(te)),this._setValue(te===null?null:this._parseInputDate(te),fe)},Pe.updateOnlyThroughDateOption=function(te){if(typeof te!="boolean")throw new TypeError("updateOnlyThroughDateOption() expects a boolean parameter");this._options.updateOnlyThroughDateOption=te},Pe.format=function(te){if(arguments.length===0)return this._options.format;if(typeof te!="string"&&(typeof te!="boolean"||te!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+te);this._options.format=te,this.actualFormat&&this._initFormatting()},Pe.timeZone=function(te){if(arguments.length===0)return this._options.timeZone;if(typeof te!="string")throw new TypeError("newZone() expects a string parameter");this._options.timeZone=te},Pe.dayViewHeaderFormat=function(te){if(arguments.length===0)return this._options.dayViewHeaderFormat;if(typeof te!="string")throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=te},Pe.extraFormats=function(te){if(arguments.length===0)return this._options.extraFormats;if(te!==!1&&!(te instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=te,this.parseFormats&&this._initFormatting()},Pe.disabledDates=function(te){if(arguments.length===0)return this._options.disabledDates?m.extend({},this._options.disabledDates):this._options.disabledDates;if(!te)return this._options.disabledDates=!1,this._update(),!0;if(!(te instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(te),this._options.enabledDates=!1,this._update()},Pe.enabledDates=function(te){if(arguments.length===0)return this._options.enabledDates?m.extend({},this._options.enabledDates):this._options.enabledDates;if(!te)return this._options.enabledDates=!1,this._update(),!0;if(!(te instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(te),this._options.disabledDates=!1,this._update()},Pe.daysOfWeekDisabled=function(te){if(arguments.length===0)return this._options.daysOfWeekDisabled.splice(0);if(typeof te=="boolean"&&!te)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(te instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=te.reduce(function(Se,Re){return Re=parseInt(Re,10),Re>6||Re<0||isNaN(Re)||Se.indexOf(Re)===-1&&Se.push(Re),Se},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var fe=0;fe<this._dates.length;fe++){for(var le=0;!this._isValid(this._dates[fe],"d");){if(this._dates[fe].add(1,"d"),le===31)throw"Tried 31 times to find a valid date";le++}this._setValue(this._dates[fe],fe)}this._update()},Pe.maxDate=function(te){if(arguments.length===0)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if(typeof te=="boolean"&&te===!1)return this._options.maxDate=!1,this._update(),!0;typeof te=="string"&&(te==="now"||te==="moment")&&(te=this.getMoment());var fe=this._parseInputDate(te);if(!fe.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+te);if(this._options.minDate&&fe.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+fe.format(this.actualFormat));this._options.maxDate=fe;for(var le=0;le<this._dates.length;le++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[le].isAfter(te)&&this._setValue(this._options.maxDate,le);this._viewDate.isAfter(fe)&&(this._viewDate=fe.clone().subtract(this._options.stepping,"m")),this._update()},Pe.minDate=function(te){if(arguments.length===0)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if(typeof te=="boolean"&&te===!1)return this._options.minDate=!1,this._update(),!0;typeof te=="string"&&(te==="now"||te==="moment")&&(te=this.getMoment());var fe=this._parseInputDate(te);if(!fe.isValid())throw new TypeError("minDate() Could not parse date parameter: "+te);if(this._options.maxDate&&fe.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+fe.format(this.actualFormat));this._options.minDate=fe;for(var le=0;le<this._dates.length;le++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[le].isBefore(te)&&this._setValue(this._options.minDate,le);this._viewDate.isBefore(fe)&&(this._viewDate=fe.clone().add(this._options.stepping,"m")),this._update()},Pe.defaultDate=function(te){if(arguments.length===0)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!te)return this._options.defaultDate=!1,!0;typeof te=="string"&&(te==="now"||te==="moment"?te=this.getMoment():te=this.getMoment(te));var fe=this._parseInputDate(te);if(!fe.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+te);if(!this._isValid(fe))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=fe,(this._options.defaultDate&&this._options.inline||this.input!==void 0&&this.input.val().trim()==="")&&this._setValue(this._options.defaultDate,0)},Pe.locale=function(te){if(arguments.length===0)return this._options.locale;if(!x.localeData(te))throw new TypeError("locale() locale "+te+" is not loaded from moment locales!");this._options.locale=te;for(var fe=0;fe<this._dates.length;fe++)this._dates[fe].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},Pe.stepping=function(te){if(arguments.length===0)return this._options.stepping;te=parseInt(te,10),(isNaN(te)||te<1)&&(te=1),this._options.stepping=te},Pe.useCurrent=function(te){var fe=["year","month","day","hour","minute"];if(arguments.length===0)return this._options.useCurrent;if(typeof te!="boolean"&&typeof te!="string")throw new TypeError("useCurrent() expects a boolean or string parameter");if(typeof te=="string"&&fe.indexOf(te.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+fe.join(", "));this._options.useCurrent=te},Pe.collapse=function(te){if(arguments.length===0)return this._options.collapse;if(typeof te!="boolean")throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===te)return!0;this._options.collapse=te,this.widget&&(this.hide(),this.show())},Pe.icons=function(te){if(arguments.length===0)return m.extend({},this._options.icons);if(!(te instanceof Object))throw new TypeError("icons() expects parameter to be an Object");m.extend(this._options.icons,te),this.widget&&(this.hide(),this.show())},Pe.tooltips=function(te){if(arguments.length===0)return m.extend({},this._options.tooltips);if(!(te instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");m.extend(this._options.tooltips,te),this.widget&&(this.hide(),this.show())},Pe.useStrict=function(te){if(arguments.length===0)return this._options.useStrict;if(typeof te!="boolean")throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=te},Pe.sideBySide=function(te){if(arguments.length===0)return this._options.sideBySide;if(typeof te!="boolean")throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=te,this.widget&&(this.hide(),this.show())},Pe.viewMode=function(te){if(arguments.length===0)return this._options.viewMode;if(typeof te!="string")throw new TypeError("viewMode() expects a string parameter");if(Ue.ViewModes.indexOf(te)===-1)throw new TypeError("viewMode() parameter must be one of ("+Ue.ViewModes.join(", ")+") value");this._options.viewMode=te,this.currentViewMode=Math.max(Ue.ViewModes.indexOf(te)-1,this.MinViewModeNumber),this._showMode()},Pe.calendarWeeks=function(te){if(arguments.length===0)return this._options.calendarWeeks;if(typeof te!="boolean")throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=te,this._update()},Pe.buttons=function(te){if(arguments.length===0)return m.extend({},this._options.buttons);if(!(te instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(m.extend(this._options.buttons,te),typeof this._options.buttons.showToday!="boolean")throw new TypeError("buttons.showToday expects a boolean parameter");if(typeof this._options.buttons.showClear!="boolean")throw new TypeError("buttons.showClear expects a boolean parameter");if(typeof this._options.buttons.showClose!="boolean")throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},Pe.keepOpen=function(te){if(arguments.length===0)return this._options.keepOpen;if(typeof te!="boolean")throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=te},Pe.focusOnShow=function(te){if(arguments.length===0)return this._options.focusOnShow;if(typeof te!="boolean")throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=te},Pe.inline=function(te){if(arguments.length===0)return this._options.inline;if(typeof te!="boolean")throw new TypeError("inline() expects a boolean parameter");this._options.inline=te},Pe.clear=function(){this._setValue(null)},Pe.keyBinds=function(te){if(arguments.length===0)return this._options.keyBinds;this._options.keyBinds=te},Pe.debug=function(te){if(typeof te!="boolean")throw new TypeError("debug() expects a boolean parameter");this._options.debug=te},Pe.allowInputToggle=function(te){if(arguments.length===0)return this._options.allowInputToggle;if(typeof te!="boolean")throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=te},Pe.keepInvalid=function(te){if(arguments.length===0)return this._options.keepInvalid;if(typeof te!="boolean")throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=te},Pe.datepickerInput=function(te){if(arguments.length===0)return this._options.datepickerInput;if(typeof te!="string")throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=te},Pe.parseInputDate=function(te){if(arguments.length===0)return this._options.parseInputDate;if(typeof te!="function")throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=te},Pe.disabledTimeIntervals=function(te){if(arguments.length===0)return this._options.disabledTimeIntervals?m.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!te)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(te instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=te,this._update()},Pe.disabledHours=function(te){if(arguments.length===0)return this._options.disabledHours?m.extend({},this._options.disabledHours):this._options.disabledHours;if(!te)return this._options.disabledHours=!1,this._update(),!0;if(!(te instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(te),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var fe=0;fe<this._dates.length;fe++){for(var le=0;!this._isValid(this._dates[fe],"h");){if(this._dates[fe].add(1,"h"),le===24)throw"Tried 24 times to find a valid date";le++}this._setValue(this._dates[fe],fe)}this._update()},Pe.enabledHours=function(te){if(arguments.length===0)return this._options.enabledHours?m.extend({},this._options.enabledHours):this._options.enabledHours;if(!te)return this._options.enabledHours=!1,this._update(),!0;if(!(te instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(te),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var fe=0;fe<this._dates.length;fe++){for(var le=0;!this._isValid(this._dates[fe],"h");){if(this._dates[fe].add(1,"h"),le===24)throw"Tried 24 times to find a valid date";le++}this._setValue(this._dates[fe],fe)}this._update()},Pe.viewDate=function(te){if(arguments.length===0)return this._viewDate.clone();if(!te)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(typeof te!="string"&&!x.isMoment(te)&&!(te instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(te),this._update(),this._viewUpdate(pe[this.currentViewMode]&&pe[this.currentViewMode].NAV_FUNCTION)},Pe._fillDate=function(){},Pe._useFeatherIcons=function(){return this._options.icons.type==="feather"},Pe.allowMultidate=function(te){if(typeof te!="boolean")throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=te},Pe.multidateSeparator=function(te){if(arguments.length===0)return this._options.multidateSeparator;if(typeof te!="string")throw new TypeError("multidateSeparator expects a string parameter");this._options.multidateSeparator=te},h(Ue,null,[{key:"NAME",get:function(){return q}},{key:"DATA_KEY",get:function(){return J}},{key:"EVENT_KEY",get:function(){return oe}},{key:"DATA_API_KEY",get:function(){return de}},{key:"DatePickerModes",get:function(){return pe}},{key:"ViewModes",get:function(){return me}},{key:"Event",get:function(){return X}},{key:"Selector",get:function(){return ye}},{key:"Default",get:function(){return At},set:function(te){At=te}},{key:"ClassName",get:function(){return ne}}]),Ue}();return ui}(jQuery,moment);(function(m){var x=m.fn[p.NAME],w=["top","bottom","auto"],l=["left","right","auto"],L=["default","top","bottom"],H=function(oe){var de=oe.data("target"),ye;return de||(de=oe.attr("href")||"",de=/^#[a-z]/i.test(de)?de:null),ye=m(de),ye.length===0?oe:(ye.data(p.DATA_KEY)||m.extend({},ye.data(),m(this).data()),ye)},q=function(J){e(oe,J);function oe(ye,ne){var X;return X=J.call(this,ye,ne)||this,X._init(),X}var de=oe.prototype;return de._init=function(){if(this._element.hasClass("input-group")){var ne=this._element.find(".datepickerbutton");ne.length===0?this.component=this._element.find('[data-toggle="datetimepicker"]'):this.component=ne}},de._iconTag=function(ne){return typeof feather<"u"&&this._useFeatherIcons()&&feather.icons[ne]?m("<span>").html(feather.icons[ne].toSvg()):m("<span>").addClass(ne)},de._getDatePickerTemplate=function(){var ne=m("<thead>").append(m("<tr>").append(m("<th>").addClass("prev").attr("data-action","previous").append(this._iconTag(this._options.icons.previous))).append(m("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(m("<th>").addClass("next").attr("data-action","next").append(this._iconTag(this._options.icons.next)))),X=m("<tbody>").append(m("<tr>").append(m("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[m("<div>").addClass("datepicker-days").append(m("<table>").addClass("table table-sm").append(ne).append(m("<tbody>"))),m("<div>").addClass("datepicker-months").append(m("<table>").addClass("table-condensed").append(ne.clone()).append(X.clone())),m("<div>").addClass("datepicker-years").append(m("<table>").addClass("table-condensed").append(ne.clone()).append(X.clone())),m("<div>").addClass("datepicker-decades").append(m("<table>").addClass("table-condensed").append(ne.clone()).append(X.clone()))]},de._getTimePickerMainTemplate=function(){var ne=m("<tr>"),X=m("<tr>"),pe=m("<tr>");return this._isEnabled("h")&&(ne.append(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(this._iconTag(this._options.icons.up)))),X.append(m("<td>").append(m("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),pe.append(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(this._iconTag(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(ne.append(m("<td>").addClass("separator")),X.append(m("<td>").addClass("separator").html(":")),pe.append(m("<td>").addClass("separator"))),ne.append(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(this._iconTag(this._options.icons.up)))),X.append(m("<td>").append(m("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),pe.append(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(this._iconTag(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(ne.append(m("<td>").addClass("separator")),X.append(m("<td>").addClass("separator").html(":")),pe.append(m("<td>").addClass("separator"))),ne.append(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(this._iconTag(this._options.icons.up)))),X.append(m("<td>").append(m("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),pe.append(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(this._iconTag(this._options.icons.down))))),this.use24Hours||(ne.append(m("<td>").addClass("separator")),X.append(m("<td>").append(m("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),pe.append(m("<td>").addClass("separator"))),m("<div>").addClass("timepicker-picker").append(m("<table>").addClass("table-condensed").append([ne,X,pe]))},de._getTimePickerTemplate=function(){var ne=m("<div>").addClass("timepicker-hours").append(m("<table>").addClass("table-condensed")),X=m("<div>").addClass("timepicker-minutes").append(m("<table>").addClass("table-condensed")),pe=m("<div>").addClass("timepicker-seconds").append(m("<table>").addClass("table-condensed")),ve=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&ve.push(ne),this._isEnabled("m")&&ve.push(X),this._isEnabled("s")&&ve.push(pe),ve},de._getToolbar=function(){var ne=[];if(this._options.buttons.showToday&&ne.push(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(this._iconTag(this._options.icons.today)))),!this._options.sideBySide&&this._options.collapse&&this._hasDate()&&this._hasTime()){var X,pe;this._options.viewMode==="times"?(X=this._options.tooltips.selectDate,pe=this._options.icons.date):(X=this._options.tooltips.selectTime,pe=this._options.icons.time),ne.push(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:X}).append(this._iconTag(pe))))}return this._options.buttons.showClear&&ne.push(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(this._iconTag(this._options.icons.clear)))),this._options.buttons.showClose&&ne.push(m("<td>").append(m("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(this._iconTag(this._options.icons.close)))),ne.length===0?"":m("<table>").addClass("table-condensed").append(m("<tbody>").append(m("<tr>").append(ne)))},de._getTemplate=function(){var ne=m("<div>").addClass(("bootstrap-datetimepicker-widget dropdown-menu "+(this._options.calendarWeeks?"tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks":"")+" "+((this._useFeatherIcons()?"tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons":"")+" ")).trim()),X=m("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),pe=m("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),ve=m("<ul>").addClass("list-unstyled"),me=m("<li>").addClass(("picker-switch"+(this._options.collapse?" accordion-toggle":"")+" "+(this._useFeatherIcons()?"picker-switch-with-feathers-icons":"")).trim()).append(this._getToolbar());return this._options.inline&&ne.removeClass("dropdown-menu"),this.use24Hours&&ne.addClass("usetwentyfour"),(this.input!==void 0&&this.input.prop("readonly")||this._options.readonly)&&ne.addClass("bootstrap-datetimepicker-widget-readonly"),this._isEnabled("s")&&!this.use24Hours&&ne.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(ne.addClass("timepicker-sbs"),this._options.toolbarPlacement==="top"&&ne.append(me),ne.append(m("<div>").addClass("row").append(X.addClass("col-md-6")).append(pe.addClass("col-md-6"))),(this._options.toolbarPlacement==="bottom"||this._options.toolbarPlacement==="default")&&ne.append(me),ne):(this._options.toolbarPlacement==="top"&&ve.append(me),this._hasDate()&&ve.append(m("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&this._options.viewMode==="times"?"":"show").append(X)),this._options.toolbarPlacement==="default"&&ve.append(me),this._hasTime()&&ve.append(m("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&this._options.viewMode==="times"?"show":"").append(pe)),this._options.toolbarPlacement==="bottom"&&ve.append(me),ne.append(ve))},de._place=function(ne){var X=ne&&ne.data&&ne.data.picker||this,pe=X._options.widgetPositioning.vertical,ve=X._options.widgetPositioning.horizontal,me,it=(X.component&&X.component.length?X.component:X._element).position(),Ye=(X.component&&X.component.length?X.component:X._element).offset();if(X._options.widgetParent)me=X._options.widgetParent.append(X.widget);else if(X._element.is("input"))me=X._element.after(X.widget).parent();else if(X._options.inline){me=X._element.append(X.widget);return}else me=X._element,X._element.children().first().after(X.widget);if(pe==="auto"&&(Ye.top+X.widget.height()*1.5>=m(window).height()+m(window).scrollTop()&&X.widget.height()+X._element.outerHeight()<Ye.top?pe="top":pe="bottom"),ve==="auto"&&(me.width()<Ye.left+X.widget.outerWidth()/2&&Ye.left+X.widget.outerWidth()>m(window).width()?ve="right":ve="left"),pe==="top"?X.widget.addClass("top").removeClass("bottom"):X.widget.addClass("bottom").removeClass("top"),ve==="right"?X.widget.addClass("float-right"):X.widget.removeClass("float-right"),me.css("position")!=="relative"&&(me=me.parents().filter(function(){return m(this).css("position")==="relative"}).first()),me.length===0)throw new Error("datetimepicker component should be placed within a relative positioned container");X.widget.css({top:pe==="top"?"auto":it.top+X._element.outerHeight()+"px",bottom:pe==="top"?me.outerHeight()-(me===X._element?0:it.top)+"px":"auto",left:ve==="left"?(me===X._element?0:it.left)+"px":"auto",right:ve==="left"?"auto":me.outerWidth()-X._element.outerWidth()-(me===X._element?0:it.left)+"px"})},de._fillDow=function(){var ne=m("<tr>"),X=this._viewDate.clone().startOf("w").startOf("d");for(this._options.calendarWeeks===!0&&ne.append(m("<th>").addClass("cw").text("#"));X.isBefore(this._viewDate.clone().endOf("w"));)ne.append(m("<th>").addClass("dow").text(X.format("dd"))),X.add(1,"d");this.widget.find(".datepicker-days thead").append(ne)},de._fillMonths=function(){for(var ne=[],X=this._viewDate.clone().startOf("y").startOf("d");X.isSame(this._viewDate,"y");)ne.push(m("<span>").attr("data-action","selectMonth").addClass("month").text(X.format("MMM"))),X.add(1,"M");this.widget.find(".datepicker-months td").empty().append(ne)},de._updateMonths=function(){var ne=this.widget.find(".datepicker-months"),X=ne.find("th"),pe=ne.find("tbody").find("span"),ve=this,me=this._getLastPickedDate();X.eq(0).find("span").attr("title",this._options.tooltips.prevYear),X.eq(1).attr("title",this._options.tooltips.selectYear),X.eq(2).find("span").attr("title",this._options.tooltips.nextYear),ne.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||X.eq(0).addClass("disabled"),X.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||X.eq(2).addClass("disabled"),pe.removeClass("active"),me&&me.isSame(this._viewDate,"y")&&!this.unset&&pe.eq(me.month()).addClass("active"),pe.each(function(it){ve._isValid(ve._viewDate.clone().month(it),"M")||m(this).addClass("disabled")})},de._getStartEndYear=function(ne,X){var pe=ne/10,ve=Math.floor(X/ne)*ne,me=ve+pe*9,it=Math.floor(X/pe)*pe;return[ve,me,it]},de._updateYears=function(){var ne=this.widget.find(".datepicker-years"),X=ne.find("th"),pe=this._getStartEndYear(10,this._viewDate.year()),ve=this._viewDate.clone().year(pe[0]),me=this._viewDate.clone().year(pe[1]),it="";for(X.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),X.eq(1).attr("title",this._options.tooltips.selectDecade),X.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),ne.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(ve,"y")&&X.eq(0).addClass("disabled"),X.eq(1).text(ve.year()+"-"+me.year()),this._options.maxDate&&this._options.maxDate.isBefore(me,"y")&&X.eq(2).addClass("disabled"),it+='<span data-action="selectYear" class="year old'+(this._isValid(ve,"y")?"":" disabled")+'">'+(ve.year()-1)+"</span>";!ve.isAfter(me,"y");)it+='<span data-action="selectYear" class="year'+(ve.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(ve,"y")?"":" disabled")+'">'+ve.year()+"</span>",ve.add(1,"y");it+='<span data-action="selectYear" class="year old'+(this._isValid(ve,"y")?"":" disabled")+'">'+ve.year()+"</span>",ne.find("td").html(it)},de._updateDecades=function(){var ne=this.widget.find(".datepicker-decades"),X=ne.find("th"),pe=this._getStartEndYear(100,this._viewDate.year()),ve=this._viewDate.clone().year(pe[0]),me=this._viewDate.clone().year(pe[1]),it=this._getLastPickedDate(),Ye=!1,Q=!1,Dt,St="";for(X.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),X.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),ne.find(".disabled").removeClass("disabled"),(ve.year()===0||this._options.minDate&&this._options.minDate.isAfter(ve,"y"))&&X.eq(0).addClass("disabled"),X.eq(1).text(ve.year()+"-"+me.year()),this._options.maxDate&&this._options.maxDate.isBefore(me,"y")&&X.eq(2).addClass("disabled"),ve.year()-10<0?St+="<span>&nbsp;</span>":St+='<span data-action="selectDecade" class="decade old" data-selection="'+(ve.year()+6)+'">'+(ve.year()-10)+"</span>";!ve.isAfter(me,"y");)Dt=ve.year()+11,Ye=this._options.minDate&&this._options.minDate.isAfter(ve,"y")&&this._options.minDate.year()<=Dt,Q=this._options.maxDate&&this._options.maxDate.isAfter(ve,"y")&&this._options.maxDate.year()<=Dt,St+='<span data-action="selectDecade" class="decade'+(it&&it.isAfter(ve)&&it.year()<=Dt?" active":"")+(!this._isValid(ve,"y")&&!Ye&&!Q?" disabled":"")+'" data-selection="'+(ve.year()+6)+'">'+ve.year()+"</span>",ve.add(10,"y");St+='<span data-action="selectDecade" class="decade old" data-selection="'+(ve.year()+6)+'">'+ve.year()+"</span>",ne.find("td").html(St)},de._fillDate=function(){J.prototype._fillDate.call(this);var ne=this.widget.find(".datepicker-days"),X=ne.find("th"),pe=[],ve,me,it,Ye;if(this._hasDate()){for(X.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),X.eq(1).attr("title",this._options.tooltips.selectMonth),X.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),ne.find(".disabled").removeClass("disabled"),X.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||X.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||X.eq(2).addClass("disabled"),ve=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),Ye=0;Ye<42;Ye++){if(ve.weekday()===0&&(me=m("<tr>"),this._options.calendarWeeks&&me.append('<td class="cw">'+ve.week()+"</td>"),pe.push(me)),it="",ve.isBefore(this._viewDate,"M")&&(it+=" old"),ve.isAfter(this._viewDate,"M")&&(it+=" new"),this._options.allowMultidate){var Q=this._datesFormatted.indexOf(ve.format("YYYY-MM-DD"));Q!==-1&&ve.isSame(this._datesFormatted[Q],"d")&&!this.unset&&(it+=" active")}else ve.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(it+=" active");this._isValid(ve,"d")||(it+=" disabled"),ve.isSame(this.getMoment(),"d")&&(it+=" today"),(ve.day()===0||ve.day()===6)&&(it+=" weekend"),me.append('<td data-action="selectDay" data-day="'+ve.format("L")+'" class="day'+it+'">'+ve.date()+"</td>"),ve.add(1,"d")}m("body").addClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),m("body").append('<div class="tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel"></div>'),ne.find("tbody").empty().append(pe),m("body").find(".tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel").remove(),m("body").removeClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),this._updateMonths(),this._updateYears(),this._updateDecades()}},de._fillHours=function(){var ne=this.widget.find(".timepicker-hours table"),X=this._viewDate.clone().startOf("d"),pe=[],ve=m("<tr>");for(this._viewDate.hour()>11&&!this.use24Hours&&X.hour(12);X.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&X.hour()<12||this._viewDate.hour()>11);)X.hour()%4===0&&(ve=m("<tr>"),pe.push(ve)),ve.append('<td data-action="selectHour" class="hour'+(this._isValid(X,"h")?"":" disabled")+'">'+X.format(this.use24Hours?"HH":"hh")+"</td>"),X.add(1,"h");ne.empty().append(pe)},de._fillMinutes=function(){for(var ne=this.widget.find(".timepicker-minutes table"),X=this._viewDate.clone().startOf("h"),pe=[],ve=this._options.stepping===1?5:this._options.stepping,me=m("<tr>");this._viewDate.isSame(X,"h");)X.minute()%(ve*4)===0&&(me=m("<tr>"),pe.push(me)),me.append('<td data-action="selectMinute" class="minute'+(this._isValid(X,"m")?"":" disabled")+'">'+X.format("mm")+"</td>"),X.add(ve,"m");ne.empty().append(pe)},de._fillSeconds=function(){for(var ne=this.widget.find(".timepicker-seconds table"),X=this._viewDate.clone().startOf("m"),pe=[],ve=m("<tr>");this._viewDate.isSame(X,"m");)X.second()%20===0&&(ve=m("<tr>"),pe.push(ve)),ve.append('<td data-action="selectSecond" class="second'+(this._isValid(X,"s")?"":" disabled")+'">'+X.format("ss")+"</td>"),X.add(5,"s");ne.empty().append(pe)},de._fillTime=function(){var ne,X,pe=this.widget.find(".timepicker span[data-time-component]"),ve=this._getLastPickedDate();this.use24Hours||(ne=this.widget.find(".timepicker [data-action=togglePeriod]"),X=ve?ve.clone().add(ve.hours()>=12?-12:12,"h"):void 0,ve&&ne.text(ve.format("A")),this._isValid(X,"h")?ne.removeClass("disabled"):ne.addClass("disabled")),ve&&pe.filter("[data-time-component=hours]").text(ve.format(this.use24Hours?"HH":"hh")),ve&&pe.filter("[data-time-component=minutes]").text(ve.format("mm")),ve&&pe.filter("[data-time-component=seconds]").text(ve.format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},de._doAction=function(ne,X){var pe=this._getLastPickedDate();if(m(ne.currentTarget).is(".disabled"))return!1;switch(X=X||m(ne.currentTarget).data("action"),X){case"next":{var ve=p.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(p.DatePickerModes[this.currentViewMode].NAV_STEP,ve),this._fillDate(),this._viewUpdate(ve);break}case"previous":{var me=p.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(p.DatePickerModes[this.currentViewMode].NAV_STEP,me),this._fillDate(),this._viewUpdate(me);break}case"pickerSwitch":this._showMode(1);break;case"selectMonth":{var it=m(ne.target).closest("tbody").find("span").index(m(ne.target));this._viewDate.month(it),this.currentViewMode===this.MinViewModeNumber?(this._setValue(pe.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break}case"selectYear":{var Ye=parseInt(m(ne.target).text(),10)||0;this._viewDate.year(Ye),this.currentViewMode===this.MinViewModeNumber?(this._setValue(pe.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break}case"selectDecade":{var Q=parseInt(m(ne.target).data("selection"),10)||0;this._viewDate.year(Q),this.currentViewMode===this.MinViewModeNumber?(this._setValue(pe.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break}case"selectDay":{var Dt=this._viewDate.clone();m(ne.target).is(".old")&&Dt.subtract(1,"M"),m(ne.target).is(".new")&&Dt.add(1,"M");var St=Dt.date(parseInt(m(ne.target).text(),10)),At=0;this._options.allowMultidate?(At=this._datesFormatted.indexOf(St.format("YYYY-MM-DD")),At!==-1?this._setValue(null,At):this._setValue(St,this._getLastPickedDateIndex()+1)):this._setValue(St,this._getLastPickedDateIndex()),!this._hasTime()&&!this._options.keepOpen&&!this._options.inline&&!this._options.allowMultidate&&this.hide();break}case"incrementHours":{if(!pe)break;var ui=pe.clone().add(1,"h");this._isValid(ui,"h")&&(this._getLastPickedDateIndex()<0&&this.date(ui),this._setValue(ui,this._getLastPickedDateIndex()));break}case"incrementMinutes":{if(!pe)break;var Ue=pe.clone().add(this._options.stepping,"m");this._isValid(Ue,"m")&&(this._getLastPickedDateIndex()<0&&this.date(Ue),this._setValue(Ue,this._getLastPickedDateIndex()));break}case"incrementSeconds":{if(!pe)break;var Pe=pe.clone().add(1,"s");this._isValid(Pe,"s")&&(this._getLastPickedDateIndex()<0&&this.date(Pe),this._setValue(Pe,this._getLastPickedDateIndex()));break}case"decrementHours":{if(!pe)break;var De=pe.clone().subtract(1,"h");this._isValid(De,"h")&&(this._getLastPickedDateIndex()<0&&this.date(De),this._setValue(De,this._getLastPickedDateIndex()));break}case"decrementMinutes":{if(!pe)break;var te=pe.clone().subtract(this._options.stepping,"m");this._isValid(te,"m")&&(this._getLastPickedDateIndex()<0&&this.date(te),this._setValue(te,this._getLastPickedDateIndex()));break}case"decrementSeconds":{if(!pe)break;var fe=pe.clone().subtract(1,"s");this._isValid(fe,"s")&&(this._getLastPickedDateIndex()<0&&this.date(fe),this._setValue(fe,this._getLastPickedDateIndex()));break}case"togglePeriod":{this._setValue(pe.clone().add(pe.hours()>=12?-12:12,"h"),this._getLastPickedDateIndex());break}case"togglePicker":{var le=m(ne.target),Se=le.closest("a"),Re=le.closest("ul"),ot=Re.find(".show"),ht=Re.find(".collapse:not(.show)"),Pt=le.is("span")?le:le.find("span"),Ne,Ze,Ie;if(ot&&ot.length){if(Ne=ot.data("collapse"),Ne&&Ne.transitioning)return!0;ot.collapse?(ot.collapse("hide"),ht.collapse("show")):(ot.removeClass("show"),ht.addClass("show")),this._useFeatherIcons()?(Se.toggleClass(this._options.icons.time+" "+this._options.icons.date),Ze=Se.hasClass(this._options.icons.time)?this._options.icons.date:this._options.icons.time,Se.html(this._iconTag(Ze))):Pt.toggleClass(this._options.icons.time+" "+this._options.icons.date),this._useFeatherIcons()?Ie=Se.hasClass(this._options.icons.date):Ie=Pt.hasClass(this._options.icons.date),Ie?Se.attr("title",this._options.tooltips.selectDate):Se.attr("title",this._options.tooltips.selectTime)}}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":{var We=parseInt(m(ne.target).text(),10);this.use24Hours||(pe.hours()>=12?We!==12&&(We+=12):We===12&&(We=0)),this._setValue(pe.clone().hours(We),this._getLastPickedDateIndex()),!this._isEnabled("a")&&!this._isEnabled("m")&&!this._options.keepOpen&&!this._options.inline?this.hide():this._doAction(ne,"showPicker");break}case"selectMinute":this._setValue(pe.clone().minutes(parseInt(m(ne.target).text(),10)),this._getLastPickedDateIndex()),!this._isEnabled("a")&&!this._isEnabled("s")&&!this._options.keepOpen&&!this._options.inline?this.hide():this._doAction(ne,"showPicker");break;case"selectSecond":this._setValue(pe.clone().seconds(parseInt(m(ne.target).text(),10)),this._getLastPickedDateIndex()),!this._isEnabled("a")&&!this._options.keepOpen&&!this._options.inline?this.hide():this._doAction(ne,"showPicker");break;case"clear":this.clear();break;case"close":this.hide();break;case"today":{var rt=this.getMoment();this._isValid(rt,"d")&&this._setValue(rt,this._getLastPickedDateIndex());break}}return!1},de.hide=function(){var ne=!1;if(this.widget&&(this.widget.find(".collapse").each(function(){var pe=m(this).data("collapse");return pe&&pe.transitioning?(ne=!0,!1):!0}),!ne)){this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),m(window).off("resize",this._place),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,this.input!==void 0&&this.input.val()!==void 0&&this.input.val().trim().length!==0&&this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!1}),0);var X=this._getLastPickedDate();this._notifyEvent({type:p.Event.HIDE,date:this.unset?null:X?X.clone():void 0}),this.input!==void 0&&this.input.blur(),this._viewDate=X?X.clone():this.getMoment()}},de.show=function(){var ne,X=!1,pe={year:function(me){return me.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(me){return me.date(1).hours(0).seconds(0).minutes(0)},day:function(me){return me.hours(0).seconds(0).minutes(0)},hour:function(me){return me.seconds(0).minutes(0)},minute:function(me){return me.seconds(0)}};if(this.input!==void 0){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;this.input.val()!==void 0&&this.input.val().trim().length!==0?this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!0}),0):X=!0}else X=!0;X&&this.unset&&this._options.useCurrent&&(ne=this.getMoment(),typeof this._options.useCurrent=="string"&&(ne=pe[this._options.useCurrent](ne)),this._setValue(ne,0)),this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),m(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",m.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),this.input!==void 0&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:p.Event.SHOW})},de.destroy=function(){this.hide(),this._element.removeData(p.DATA_KEY),this._element.removeData("date")},de.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),this.input!==void 0&&this.input.prop("disabled",!0)},de.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),this.input!==void 0&&this.input.prop("disabled",!1)},de.toolbarPlacement=function(ne){if(arguments.length===0)return this._options.toolbarPlacement;if(typeof ne!="string")throw new TypeError("toolbarPlacement() expects a string parameter");if(L.indexOf(ne)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+L.join(", ")+") value");this._options.toolbarPlacement=ne,this.widget&&(this.hide(),this.show())},de.widgetPositioning=function(ne){if(arguments.length===0)return m.extend({},this._options.widgetPositioning);if({}.toString.call(ne)!=="[object Object]")throw new TypeError("widgetPositioning() expects an object variable");if(ne.horizontal){if(typeof ne.horizontal!="string")throw new TypeError("widgetPositioning() horizontal variable must be a string");if(ne.horizontal=ne.horizontal.toLowerCase(),l.indexOf(ne.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+l.join(", ")+")");this._options.widgetPositioning.horizontal=ne.horizontal}if(ne.vertical){if(typeof ne.vertical!="string")throw new TypeError("widgetPositioning() vertical variable must be a string");if(ne.vertical=ne.vertical.toLowerCase(),w.indexOf(ne.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+w.join(", ")+")");this._options.widgetPositioning.vertical=ne.vertical}this._update()},de.widgetParent=function(ne){if(arguments.length===0)return this._options.widgetParent;if(typeof ne=="string"&&(ne=m(ne)),ne!==null&&typeof ne!="string"&&!(ne instanceof m))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=ne,this.widget&&(this.hide(),this.show())},de.setMultiDate=function(ne){var X=this._options.format;this.clear();for(var pe=0;pe<ne.length;pe++){var ve=moment(ne[pe],X);this._setValue(ve,pe)}},oe._jQueryHandleThis=function(ne,X,pe){var ve=m(ne).data(p.DATA_KEY);if(typeof X=="object"&&m.extend({},p.Default,X),ve||(ve=new oe(m(ne),X),m(ne).data(p.DATA_KEY,ve)),typeof X=="string"){if(ve[X]===void 0)throw new Error('No method named "'+X+'"');if(pe===void 0)return ve[X]();X==="date"&&(ve.isDateUpdateThroughDateOptionFromClientCode=!0);var me=ve[X](pe);return ve.isDateUpdateThroughDateOptionFromClientCode=!1,me}},oe._jQueryInterface=function(ne,X){return this.length===1?oe._jQueryHandleThis(this[0],ne,X):this.each(function(){oe._jQueryHandleThis(this,ne,X)})},oe}(p);return m(document).on(p.Event.CLICK_DATA_API,p.Selector.DATA_TOGGLE,function(){var J=m(this),oe=H(J),de=oe.data(p.DATA_KEY);oe.length!==0&&(de._options.allowInputToggle&&J.is('input[data-toggle="datetimepicker"]')||q._jQueryInterface.call(oe,"toggle"))}).on(p.Event.CHANGE,"."+p.ClassName.INPUT,function(J){var oe=H(m(this));oe.length===0||J.isInit||q._jQueryInterface.call(oe,"_change",J)}).on(p.Event.BLUR,"."+p.ClassName.INPUT,function(J){var oe=H(m(this)),de=oe.data(p.DATA_KEY);oe.length!==0&&(de._options.debug||window.debug||q._jQueryInterface.call(oe,"hide",J))}).on(p.Event.KEYDOWN,"."+p.ClassName.INPUT,function(J){var oe=H(m(this));oe.length!==0&&q._jQueryInterface.call(oe,"_keydown",J)}).on(p.Event.KEYUP,"."+p.ClassName.INPUT,function(J){var oe=H(m(this));oe.length!==0&&q._jQueryInterface.call(oe,"_keyup",J)}).on(p.Event.FOCUS,"."+p.ClassName.INPUT,function(J){var oe=H(m(this)),de=oe.data(p.DATA_KEY);oe.length!==0&&de._options.allowInputToggle&&q._jQueryInterface.call(oe,"show",J)}),m.fn[p.NAME]=q._jQueryInterface,m.fn[p.NAME].Constructor=q,m.fn[p.NAME].noConflict=function(){return m.fn[p.NAME]=x,q._jQueryInterface},q})(jQuery)}();$.fn.datetimepicker.Constructor.Default=$.extend({},$.fn.datetimepicker.Constructor.Default,{icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"far fa-calendar-check-o",clear:"fas fa-trash",close:"fas fa-times"}});var F5={},OK={get exports(){return F5},set exports(e){F5=e}};(function(e,r){var h=h||{};h.scope={},h.findInternal=function(p,m,x){p instanceof String&&(p=String(p));for(var w=p.length,l=0;l<w;l++){var L=p[l];if(m.call(x,L,l,p))return{i:l,v:L}}return{i:-1,v:void 0}},h.ASSUME_ES5=!1,h.ASSUME_NO_NATIVE_MAP=!1,h.ASSUME_NO_NATIVE_SET=!1,h.SIMPLE_FROUND_POLYFILL=!1,h.defineProperty=h.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(p,m,x){p!=Array.prototype&&p!=Object.prototype&&(p[m]=x.value)},h.getGlobal=function(p){return typeof window<"u"&&window===p?p:typeof fn<"u"&&fn!=null?fn:p},h.global=h.getGlobal(fn),h.polyfill=function(p,m,x,w){if(m){for(x=h.global,p=p.split("."),w=0;w<p.length-1;w++){var l=p[w];l in x||(x[l]={}),x=x[l]}p=p[p.length-1],w=x[p],m=m(w),m!=w&&m!=null&&h.defineProperty(x,p,{configurable:!0,writable:!0,value:m})}},h.polyfill("Array.prototype.find",function(p){return p||function(m,x){return h.findInternal(this,m,x).v}},"es6","es3"),function(p,m,x){typeof Meteor>"u"?e.exports=p(Jh()):p(m||x)}(function(p){var m=function(L,H,q){var J={invalid:[],getCaret:function(){try{var ne=0,X=L.get(0),pe=document.selection,ve=X.selectionStart;if(pe&&navigator.appVersion.indexOf("MSIE 10")===-1){var me=pe.createRange();me.moveStart("character",-J.val().length),ne=me.text.length}else(ve||ve==="0")&&(ne=ve);return ne}catch{}},setCaret:function(ne){try{if(L.is(":focus")){var X=L.get(0);if(X.setSelectionRange)X.setSelectionRange(ne,ne);else{var pe=X.createTextRange();pe.collapse(!0),pe.moveEnd("character",ne),pe.moveStart("character",ne),pe.select()}}}catch{}},events:function(){L.on("keydown.mask",function(ne){L.data("mask-keycode",ne.keyCode||ne.which),L.data("mask-previus-value",L.val()),L.data("mask-previus-caret-pos",J.getCaret()),J.maskDigitPosMapOld=J.maskDigitPosMap}).on(p.jMaskGlobals.useInput?"input.mask":"keyup.mask",J.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){L.keydown().keyup()},100)}).on("change.mask",function(){L.data("changed",!0)}).on("blur.mask",function(){de===J.val()||L.data("changed")||L.trigger("change"),L.data("changed",!1)}).on("blur.mask",function(){de=J.val()}).on("focus.mask",function(ne){q.selectOnFocus===!0&&p(ne.target).select()}).on("focusout.mask",function(){q.clearIfNotMatch&&!ye.test(J.val())&&J.val("")})},getRegexMask:function(){for(var ne=[],X,pe,ve,me,it=0;it<H.length;it++)(X=oe.translation[H.charAt(it)])?(pe=X.pattern.toString().replace(/.{1}$|^.{1}/g,""),ve=X.optional,(X=X.recursive)?(ne.push(H.charAt(it)),me={digit:H.charAt(it),pattern:pe}):ne.push(ve||X?pe+"?":pe)):ne.push(H.charAt(it).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return ne=ne.join(""),me&&(ne=ne.replace(new RegExp("("+me.digit+"(.*"+me.digit+")?)"),"($1)?").replace(new RegExp(me.digit,"g"),me.pattern)),new RegExp(ne)},destroyEvents:function(){L.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(ne){var X=L.is("input")?"val":"text";return 0<arguments.length?(L[X]()!==ne&&L[X](ne),X=L):X=L[X](),X},calculateCaretPosition:function(ne){var X=J.getMasked(),pe=J.getCaret();if(ne!==X){var ve=L.data("mask-previus-caret-pos")||0;X=X.length;var me=ne.length,it=ne=0,Ye=0,Q=0,Dt;for(Dt=pe;Dt<X&&J.maskDigitPosMap[Dt];Dt++)it++;for(Dt=pe-1;0<=Dt&&J.maskDigitPosMap[Dt];Dt--)ne++;for(Dt=pe-1;0<=Dt;Dt--)J.maskDigitPosMap[Dt]&&Ye++;for(Dt=ve-1;0<=Dt;Dt--)J.maskDigitPosMapOld[Dt]&&Q++;pe>me?pe=10*X:ve>=pe&&ve!==me?J.maskDigitPosMapOld[pe]||(ve=pe,pe=pe-(Q-Ye)-ne,J.maskDigitPosMap[pe]&&(pe=ve)):pe>ve&&(pe=pe+(Ye-Q)+it)}return pe},behaviour:function(ne){ne=ne||window.event,J.invalid=[];var X=L.data("mask-keycode");if(p.inArray(X,oe.byPassKeys)===-1){X=J.getMasked();var pe=J.getCaret(),ve=L.data("mask-previus-value")||"";return setTimeout(function(){J.setCaret(J.calculateCaretPosition(ve))},p.jMaskGlobals.keyStrokeCompensation),J.val(X),J.setCaret(pe),J.callbacks(ne)}},getMasked:function(ne,X){var pe=[],ve=X===void 0?J.val():X+"",me=0,it=H.length,Ye=0,Q=ve.length,Dt=1,St="push",At=-1,ui=0;if(X=[],q.reverse){St="unshift",Dt=-1;var Ue=0;me=it-1,Ye=Q-1;var Pe=function(){return-1<me&&-1<Ye}}else Ue=it-1,Pe=function(){return me<it&&Ye<Q};for(var De;Pe();){var te=H.charAt(me),fe=ve.charAt(Ye),le=oe.translation[te];le?(fe.match(le.pattern)?(pe[St](fe),le.recursive&&(At===-1?At=me:me===Ue&&me!==At&&(me=At-Dt),Ue===At&&(me-=Dt)),me+=Dt):fe===De?(ui--,De=void 0):le.optional?(me+=Dt,Ye-=Dt):le.fallback?(pe[St](le.fallback),me+=Dt,Ye-=Dt):J.invalid.push({p:Ye,v:fe,e:le.pattern}),Ye+=Dt):(ne||pe[St](te),fe===te?(X.push(Ye),Ye+=Dt):(De=te,X.push(Ye+ui),ui++),me+=Dt)}return ne=H.charAt(Ue),it!==Q+1||oe.translation[ne]||pe.push(ne),pe=pe.join(""),J.mapMaskdigitPositions(pe,X,Q),pe},mapMaskdigitPositions:function(ne,X,pe){for(ne=q.reverse?ne.length-pe:0,J.maskDigitPosMap={},pe=0;pe<X.length;pe++)J.maskDigitPosMap[X[pe]+ne]=1},callbacks:function(ne){var X=J.val(),pe=X!==de,ve=[X,ne,L,q],me=function(it,Ye,Q){typeof q[it]=="function"&&Ye&&q[it].apply(this,Q)};me("onChange",pe===!0,ve),me("onKeyPress",pe===!0,ve),me("onComplete",X.length===H.length,ve),me("onInvalid",0<J.invalid.length,[X,ne,L,J.invalid,q])}};L=p(L);var oe=this,de=J.val(),ye;H=typeof H=="function"?H(J.val(),void 0,L,q):H,oe.mask=H,oe.options=q,oe.remove=function(){var ne=J.getCaret();return oe.options.placeholder&&L.removeAttr("placeholder"),L.data("mask-maxlength")&&L.removeAttr("maxlength"),J.destroyEvents(),J.val(oe.getCleanVal()),J.setCaret(ne),L},oe.getCleanVal=function(){return J.getMasked(!0)},oe.getMaskedVal=function(ne){return J.getMasked(!1,ne)},oe.init=function(ne){if(ne=ne||!1,q=q||{},oe.clearIfNotMatch=p.jMaskGlobals.clearIfNotMatch,oe.byPassKeys=p.jMaskGlobals.byPassKeys,oe.translation=p.extend({},p.jMaskGlobals.translation,q.translation),oe=p.extend(!0,{},oe,q),ye=J.getRegexMask(),ne)J.events(),J.val(J.getMasked());else{q.placeholder&&L.attr("placeholder",q.placeholder),L.data("mask")&&L.attr("autocomplete","off"),ne=0;for(var X=!0;ne<H.length;ne++){var pe=oe.translation[H.charAt(ne)];if(pe&&pe.recursive){X=!1;break}}X&&L.attr("maxlength",H.length).data("mask-maxlength",!0),J.destroyEvents(),J.events(),ne=J.getCaret(),J.val(J.getMasked()),J.setCaret(ne)}},oe.init(!L.is("input"))};p.maskWatchers={};var x=function(){var L=p(this),H={},q=L.attr("data-mask");if(L.attr("data-mask-reverse")&&(H.reverse=!0),L.attr("data-mask-clearifnotmatch")&&(H.clearIfNotMatch=!0),L.attr("data-mask-selectonfocus")==="true"&&(H.selectOnFocus=!0),w(L,q,H))return L.data("mask",new m(this,q,H))},w=function(L,H,q){q=q||{};var J=p(L).data("mask"),oe=JSON.stringify;L=p(L).val()||p(L).text();try{return typeof H=="function"&&(H=H(L)),typeof J!="object"||oe(J.options)!==oe(q)||J.mask!==H}catch{}},l=function(L){var H=document.createElement("div");L="on"+L;var q=L in H;return q||(H.setAttribute(L,"return;"),q=typeof H[L]=="function"),q};p.fn.mask=function(L,H){H=H||{};var q=this.selector,J=p.jMaskGlobals,oe=J.watchInterval;J=H.watchInputs||J.watchInputs;var de=function(){if(w(this,L,H))return p(this).data("mask",new m(this,L,H))};return p(this).each(de),q&&q!==""&&J&&(clearInterval(p.maskWatchers[q]),p.maskWatchers[q]=setInterval(function(){p(document).find(q).each(de)},oe)),this},p.fn.masked=function(L){return this.data("mask").getMaskedVal(L)},p.fn.unmask=function(){return clearInterval(p.maskWatchers[this.selector]),delete p.maskWatchers[this.selector],this.each(function(){var L=p(this).data("mask");L&&L.remove().removeData("mask")})},p.fn.cleanVal=function(){return this.data("mask").getCleanVal()},p.applyDataMask=function(L){L=L||p.jMaskGlobals.maskElements,(L instanceof p?L:p(L)).filter(p.jMaskGlobals.dataMaskAttr).each(x)},l={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&l("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},p.jMaskGlobals=p.jMaskGlobals||{},l=p.jMaskGlobals=p.extend(!0,{},l,p.jMaskGlobals),l.dataMask&&p.applyDataMask(),setInterval(function(){p.jMaskGlobals.watchDataMask&&p.applyDataMask()},l.watchInterval)},window.jQuery,window.Zepto)})(OK);var B5={},LK={get exports(){return B5},set exports(e){B5=e}};/*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */(function(e){(function(r){e.exports?e.exports=function(h,p){return p===void 0&&(p=typeof window<"u"?Jh():Jh()(h)),r(p),p}:r(jQuery)})(function(r){var h=function(){if(r&&r.fn&&r.fn.select2&&r.fn.select2.amd)var m=r.fn.select2.amd;var x,w,l,L,H,q,J,oe,de,ye,ne,X,pe,ve,me;function it(Ue,Pe){return pe.call(Ue,Pe)}function Ye(Ue,Pe){var De,te,fe,le,Se,Re,ot,ht,Pt,Ne,Ze,Ie=Pe&&Pe.split("/"),We=ne.map,rt=We&&We["*"]||{};if(Ue){for(Se=(Ue=Ue.split("/")).length-1,ne.nodeIdCompat&&me.test(Ue[Se])&&(Ue[Se]=Ue[Se].replace(me,"")),Ue[0].charAt(0)==="."&&Ie&&(Ue=Ie.slice(0,Ie.length-1).concat(Ue)),Pt=0;Pt<Ue.length;Pt++)if((Ze=Ue[Pt])===".")Ue.splice(Pt,1),--Pt;else if(Ze===".."){if(Pt===0||Pt===1&&Ue[2]===".."||Ue[Pt-1]==="..")continue;0<Pt&&(Ue.splice(Pt-1,2),Pt-=2)}Ue=Ue.join("/")}if((Ie||rt)&&We){for(Pt=(De=Ue.split("/")).length;0<Pt;--Pt){if(te=De.slice(0,Pt).join("/"),Ie){for(Ne=Ie.length;0<Ne;--Ne)if(fe=(fe=We[Ie.slice(0,Ne).join("/")])&&fe[te]){le=fe,Re=Pt;break}}if(le)break;!ot&&rt&&rt[te]&&(ot=rt[te],ht=Pt)}!le&&ot&&(le=ot,Re=ht),le&&(De.splice(0,Re,le),Ue=De.join("/"))}return Ue}function Q(Ue,Pe){return function(){var De=ve.call(arguments,0);return typeof De[0]!="string"&&De.length===1&&De.push(null),q.apply(L,De.concat([Ue,Pe]))}}function Dt(Ue){return function(Pe){de[Ue]=Pe}}function St(Ue){if(it(ye,Ue)){var Pe=ye[Ue];delete ye[Ue],X[Ue]=!0,H.apply(L,Pe)}if(!it(de,Ue)&&!it(X,Ue))throw new Error("No "+Ue);return de[Ue]}function At(Ue){var Pe,De=Ue?Ue.indexOf("!"):-1;return-1<De&&(Pe=Ue.substring(0,De),Ue=Ue.substring(De+1,Ue.length)),[Pe,Ue]}function ui(Ue){return Ue?At(Ue):[]}return m&&m.requirejs||(m?w=m:m={},de={},ye={},ne={},X={},pe=Object.prototype.hasOwnProperty,ve=[].slice,me=/\.js$/,J=function(Ue,Pe){var De,te,fe=At(Ue),le=fe[0],Se=Pe[1];return Ue=fe[1],le&&(De=St(le=Ye(le,Se))),le?Ue=De&&De.normalize?De.normalize(Ue,(te=Se,function(Re){return Ye(Re,te)})):Ye(Ue,Se):(le=(fe=At(Ue=Ye(Ue,Se)))[0],Ue=fe[1],le&&(De=St(le))),{f:le?le+"!"+Ue:Ue,n:Ue,pr:le,p:De}},oe={require:function(Ue){return Q(Ue)},exports:function(Ue){var Pe=de[Ue];return Pe!==void 0?Pe:de[Ue]={}},module:function(Ue){return{id:Ue,uri:"",exports:de[Ue],config:(Pe=Ue,function(){return ne&&ne.config&&ne.config[Pe]||{}})};var Pe}},H=function(Ue,Pe,De,te){var fe,le,Se,Re,ot,ht,Pt,Ne=[],Ze=typeof De;if(ht=ui(te=te||Ue),Ze=="undefined"||Ze=="function"){for(Pe=!Pe.length&&De.length?["require","exports","module"]:Pe,ot=0;ot<Pe.length;ot+=1)if((le=(Re=J(Pe[ot],ht)).f)==="require")Ne[ot]=oe.require(Ue);else if(le==="exports")Ne[ot]=oe.exports(Ue),Pt=!0;else if(le==="module")fe=Ne[ot]=oe.module(Ue);else if(it(de,le)||it(ye,le)||it(X,le))Ne[ot]=St(le);else{if(!Re.p)throw new Error(Ue+" missing "+le);Re.p.load(Re.n,Q(te,!0),Dt(le),{}),Ne[ot]=de[le]}Se=De?De.apply(de[Ue],Ne):void 0,Ue&&(fe&&fe.exports!==L&&fe.exports!==de[Ue]?de[Ue]=fe.exports:Se===L&&Pt||(de[Ue]=Se))}else Ue&&(de[Ue]=De)},x=w=q=function(Ue,Pe,De,te,fe){if(typeof Ue=="string")return oe[Ue]?oe[Ue](Pe):St(J(Ue,ui(Pe)).f);if(!Ue.splice){if((ne=Ue).deps&&q(ne.deps,ne.callback),!Pe)return;Pe.splice?(Ue=Pe,Pe=De,De=null):Ue=L}return Pe=Pe||function(){},typeof De=="function"&&(De=te,te=fe),te?H(L,Ue,Pe,De):setTimeout(function(){H(L,Ue,Pe,De)},4),q},q.config=function(Ue){return q(Ue)},x._defined=de,(l=function(Ue,Pe,De){if(typeof Ue!="string")throw new Error("See almond README: incorrect module build, no module name");Pe.splice||(De=Pe,Pe=[]),it(de,Ue)||it(ye,Ue)||(ye[Ue]=[Ue,Pe,De])}).amd={jQuery:!0},m.requirejs=x,m.require=w,m.define=l),m.define("almond",function(){}),m.define("jquery",[],function(){var Ue=r||$;return Ue==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),Ue}),m.define("select2/utils",["jquery"],function(Ue){var Pe={};function De(le){var Se=le.prototype,Re=[];for(var ot in Se)typeof Se[ot]=="function"&&ot!=="constructor"&&Re.push(ot);return Re}Pe.Extend=function(le,Se){var Re={}.hasOwnProperty;function ot(){this.constructor=le}for(var ht in Se)Re.call(Se,ht)&&(le[ht]=Se[ht]);return ot.prototype=Se.prototype,le.prototype=new ot,le.__super__=Se.prototype,le},Pe.Decorate=function(le,Se){var Re=De(Se),ot=De(le);function ht(){var rt=Array.prototype.unshift,Ot=Se.prototype.constructor.length,hi=le.prototype.constructor;0<Ot&&(rt.call(arguments,le.prototype.constructor),hi=Se.prototype.constructor),hi.apply(this,arguments)}Se.displayName=le.displayName,ht.prototype=new function(){this.constructor=ht};for(var Pt=0;Pt<ot.length;Pt++){var Ne=ot[Pt];ht.prototype[Ne]=le.prototype[Ne]}function Ze(rt){var Ot=function(){};rt in ht.prototype&&(Ot=ht.prototype[rt]);var hi=Se.prototype[rt];return function(){return Array.prototype.unshift.call(arguments,Ot),hi.apply(this,arguments)}}for(var Ie=0;Ie<Re.length;Ie++){var We=Re[Ie];ht.prototype[We]=Ze(We)}return ht};function te(){this.listeners={}}te.prototype.on=function(le,Se){this.listeners=this.listeners||{},le in this.listeners?this.listeners[le].push(Se):this.listeners[le]=[Se]},te.prototype.trigger=function(le){var Se=Array.prototype.slice,Re=Se.call(arguments,1);this.listeners=this.listeners||{},Re==null&&(Re=[]),Re.length===0&&Re.push({}),(Re[0]._type=le)in this.listeners&&this.invoke(this.listeners[le],Se.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},te.prototype.invoke=function(le,Se){for(var Re=0,ot=le.length;Re<ot;Re++)le[Re].apply(this,Se)},Pe.Observable=te,Pe.generateChars=function(le){for(var Se="",Re=0;Re<le;Re++)Se+=Math.floor(36*Math.random()).toString(36);return Se},Pe.bind=function(le,Se){return function(){le.apply(Se,arguments)}},Pe._convertData=function(le){for(var Se in le){var Re=Se.split("-"),ot=le;if(Re.length!==1){for(var ht=0;ht<Re.length;ht++){var Pt=Re[ht];(Pt=Pt.substring(0,1).toLowerCase()+Pt.substring(1))in ot||(ot[Pt]={}),ht==Re.length-1&&(ot[Pt]=le[Se]),ot=ot[Pt]}delete le[Se]}}return le},Pe.hasScroll=function(le,Se){var Re=Ue(Se),ot=Se.style.overflowX,ht=Se.style.overflowY;return(ot!==ht||ht!=="hidden"&&ht!=="visible")&&(ot==="scroll"||ht==="scroll"||Re.innerHeight()<Se.scrollHeight||Re.innerWidth()<Se.scrollWidth)},Pe.escapeMarkup=function(le){var Se={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof le!="string"?le:String(le).replace(/[&<>"'\/\\]/g,function(Re){return Se[Re]})},Pe.appendMany=function(le,Se){if(Ue.fn.jquery.substr(0,3)==="1.7"){var Re=Ue();Ue.map(Se,function(ot){Re=Re.add(ot)}),Se=Re}le.append(Se)},Pe.__cache={};var fe=0;return Pe.GetUniqueElementId=function(le){var Se=le.getAttribute("data-select2-id");return Se==null&&(le.id?(Se=le.id,le.setAttribute("data-select2-id",Se)):(le.setAttribute("data-select2-id",++fe),Se=fe.toString())),Se},Pe.StoreData=function(le,Se,Re){var ot=Pe.GetUniqueElementId(le);Pe.__cache[ot]||(Pe.__cache[ot]={}),Pe.__cache[ot][Se]=Re},Pe.GetData=function(le,Se){var Re=Pe.GetUniqueElementId(le);return Se?Pe.__cache[Re]&&Pe.__cache[Re][Se]!=null?Pe.__cache[Re][Se]:Ue(le).data(Se):Pe.__cache[Re]},Pe.RemoveData=function(le){var Se=Pe.GetUniqueElementId(le);Pe.__cache[Se]!=null&&delete Pe.__cache[Se],le.removeAttribute("data-select2-id")},Pe}),m.define("select2/results",["jquery","./utils"],function(Ue,Pe){function De(te,fe,le){this.$element=te,this.data=le,this.options=fe,De.__super__.constructor.call(this)}return Pe.Extend(De,Pe.Observable),De.prototype.render=function(){var te=Ue('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&te.attr("aria-multiselectable","true"),this.$results=te},De.prototype.clear=function(){this.$results.empty()},De.prototype.displayMessage=function(te){var fe=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var le=Ue('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),Se=this.options.get("translations").get(te.message);le.append(fe(Se(te.args))),le[0].className+=" select2-results__message",this.$results.append(le)},De.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},De.prototype.append=function(te){this.hideLoading();var fe=[];if(te.results!=null&&te.results.length!==0){te.results=this.sort(te.results);for(var le=0;le<te.results.length;le++){var Se=te.results[le],Re=this.option(Se);fe.push(Re)}this.$results.append(fe)}else this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"})},De.prototype.position=function(te,fe){fe.find(".select2-results").append(te)},De.prototype.sort=function(te){return this.options.get("sorter")(te)},De.prototype.highlightFirstItem=function(){var te=this.$results.find(".select2-results__option[aria-selected]"),fe=te.filter("[aria-selected=true]");0<fe.length?fe.first().trigger("mouseenter"):te.first().trigger("mouseenter"),this.ensureHighlightVisible()},De.prototype.setClasses=function(){var te=this;this.data.current(function(fe){var le=Ue.map(fe,function(Se){return Se.id.toString()});te.$results.find(".select2-results__option[aria-selected]").each(function(){var Se=Ue(this),Re=Pe.GetData(this,"data"),ot=""+Re.id;Re.element!=null&&Re.element.selected||Re.element==null&&-1<Ue.inArray(ot,le)?Se.attr("aria-selected","true"):Se.attr("aria-selected","false")})})},De.prototype.showLoading=function(te){this.hideLoading();var fe={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(te)},le=this.option(fe);le.className+=" loading-results",this.$results.prepend(le)},De.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},De.prototype.option=function(te){var fe=document.createElement("li");fe.className="select2-results__option";var le={role:"option","aria-selected":"false"},Se=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var Re in(te.element!=null&&Se.call(te.element,":disabled")||te.element==null&&te.disabled)&&(delete le["aria-selected"],le["aria-disabled"]="true"),te.id==null&&delete le["aria-selected"],te._resultId!=null&&(fe.id=te._resultId),te.title&&(fe.title=te.title),te.children&&(le.role="group",le["aria-label"]=te.text,delete le["aria-selected"]),le){var ot=le[Re];fe.setAttribute(Re,ot)}if(te.children){var ht=Ue(fe),Pt=document.createElement("strong");Pt.className="select2-results__group",Ue(Pt),this.template(te,Pt);for(var Ne=[],Ze=0;Ze<te.children.length;Ze++){var Ie=te.children[Ze],We=this.option(Ie);Ne.push(We)}var rt=Ue("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});rt.append(Ne),ht.append(Pt),ht.append(rt)}else this.template(te,fe);return Pe.StoreData(fe,"data",te),fe},De.prototype.bind=function(te,fe){var le=this,Se=te.id+"-results";this.$results.attr("id",Se),te.on("results:all",function(Re){le.clear(),le.append(Re.data),te.isOpen()&&(le.setClasses(),le.highlightFirstItem())}),te.on("results:append",function(Re){le.append(Re.data),te.isOpen()&&le.setClasses()}),te.on("query",function(Re){le.hideMessages(),le.showLoading(Re)}),te.on("select",function(){te.isOpen()&&(le.setClasses(),le.options.get("scrollAfterSelect")&&le.highlightFirstItem())}),te.on("unselect",function(){te.isOpen()&&(le.setClasses(),le.options.get("scrollAfterSelect")&&le.highlightFirstItem())}),te.on("open",function(){le.$results.attr("aria-expanded","true"),le.$results.attr("aria-hidden","false"),le.setClasses(),le.ensureHighlightVisible()}),te.on("close",function(){le.$results.attr("aria-expanded","false"),le.$results.attr("aria-hidden","true"),le.$results.removeAttr("aria-activedescendant")}),te.on("results:toggle",function(){var Re=le.getHighlightedResults();Re.length!==0&&Re.trigger("mouseup")}),te.on("results:select",function(){var Re=le.getHighlightedResults();if(Re.length!==0){var ot=Pe.GetData(Re[0],"data");Re.attr("aria-selected")=="true"?le.trigger("close",{}):le.trigger("select",{data:ot})}}),te.on("results:previous",function(){var Re=le.getHighlightedResults(),ot=le.$results.find("[aria-selected]"),ht=ot.index(Re);if(!(ht<=0)){var Pt=ht-1;Re.length===0&&(Pt=0);var Ne=ot.eq(Pt);Ne.trigger("mouseenter");var Ze=le.$results.offset().top,Ie=Ne.offset().top,We=le.$results.scrollTop()+(Ie-Ze);Pt===0?le.$results.scrollTop(0):Ie-Ze<0&&le.$results.scrollTop(We)}}),te.on("results:next",function(){var Re=le.getHighlightedResults(),ot=le.$results.find("[aria-selected]"),ht=ot.index(Re)+1;if(!(ht>=ot.length)){var Pt=ot.eq(ht);Pt.trigger("mouseenter");var Ne=le.$results.offset().top+le.$results.outerHeight(!1),Ze=Pt.offset().top+Pt.outerHeight(!1),Ie=le.$results.scrollTop()+Ze-Ne;ht===0?le.$results.scrollTop(0):Ne<Ze&&le.$results.scrollTop(Ie)}}),te.on("results:focus",function(Re){Re.element.addClass("select2-results__option--highlighted")}),te.on("results:message",function(Re){le.displayMessage(Re)}),Ue.fn.mousewheel&&this.$results.on("mousewheel",function(Re){var ot=le.$results.scrollTop(),ht=le.$results.get(0).scrollHeight-ot+Re.deltaY,Pt=0<Re.deltaY&&ot-Re.deltaY<=0,Ne=Re.deltaY<0&&ht<=le.$results.height();Pt?(le.$results.scrollTop(0),Re.preventDefault(),Re.stopPropagation()):Ne&&(le.$results.scrollTop(le.$results.get(0).scrollHeight-le.$results.height()),Re.preventDefault(),Re.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(Re){var ot=Ue(this),ht=Pe.GetData(this,"data");ot.attr("aria-selected")!=="true"?le.trigger("select",{originalEvent:Re,data:ht}):le.options.get("multiple")?le.trigger("unselect",{originalEvent:Re,data:ht}):le.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(Re){var ot=Pe.GetData(this,"data");le.getHighlightedResults().removeClass("select2-results__option--highlighted"),le.trigger("results:focus",{data:ot,element:Ue(this)})})},De.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},De.prototype.destroy=function(){this.$results.remove()},De.prototype.ensureHighlightVisible=function(){var te=this.getHighlightedResults();if(te.length!==0){var fe=this.$results.find("[aria-selected]").index(te),le=this.$results.offset().top,Se=te.offset().top,Re=this.$results.scrollTop()+(Se-le),ot=Se-le;Re-=2*te.outerHeight(!1),fe<=2?this.$results.scrollTop(0):(ot>this.$results.outerHeight()||ot<0)&&this.$results.scrollTop(Re)}},De.prototype.template=function(te,fe){var le=this.options.get("templateResult"),Se=this.options.get("escapeMarkup"),Re=le(te,fe);Re==null?fe.style.display="none":typeof Re=="string"?fe.innerHTML=Se(Re):Ue(fe).append(Re)},De}),m.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),m.define("select2/selection/base",["jquery","../utils","../keys"],function(Ue,Pe,De){function te(fe,le){this.$element=fe,this.options=le,te.__super__.constructor.call(this)}return Pe.Extend(te,Pe.Observable),te.prototype.render=function(){var fe=Ue('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,Pe.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=Pe.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),fe.attr("title",this.$element.attr("title")),fe.attr("tabindex",this._tabindex),fe.attr("aria-disabled","false"),this.$selection=fe},te.prototype.bind=function(fe,le){var Se=this,Re=fe.id+"-results";this.container=fe,this.$selection.on("focus",function(ot){Se.trigger("focus",ot)}),this.$selection.on("blur",function(ot){Se._handleBlur(ot)}),this.$selection.on("keydown",function(ot){Se.trigger("keypress",ot),ot.which===De.SPACE&&ot.preventDefault()}),fe.on("results:focus",function(ot){Se.$selection.attr("aria-activedescendant",ot.data._resultId)}),fe.on("selection:update",function(ot){Se.update(ot.data)}),fe.on("open",function(){Se.$selection.attr("aria-expanded","true"),Se.$selection.attr("aria-owns",Re),Se._attachCloseHandler(fe)}),fe.on("close",function(){Se.$selection.attr("aria-expanded","false"),Se.$selection.removeAttr("aria-activedescendant"),Se.$selection.removeAttr("aria-owns"),Se.$selection.trigger("focus"),Se._detachCloseHandler(fe)}),fe.on("enable",function(){Se.$selection.attr("tabindex",Se._tabindex),Se.$selection.attr("aria-disabled","false")}),fe.on("disable",function(){Se.$selection.attr("tabindex","-1"),Se.$selection.attr("aria-disabled","true")})},te.prototype._handleBlur=function(fe){var le=this;window.setTimeout(function(){document.activeElement==le.$selection[0]||Ue.contains(le.$selection[0],document.activeElement)||le.trigger("blur",fe)},1)},te.prototype._attachCloseHandler=function(fe){Ue(document.body).on("mousedown.select2."+fe.id,function(le){var Se=Ue(le.target).closest(".select2");Ue(".select2.select2-container--open").each(function(){this!=Se[0]&&Pe.GetData(this,"element").select2("close")})})},te.prototype._detachCloseHandler=function(fe){Ue(document.body).off("mousedown.select2."+fe.id)},te.prototype.position=function(fe,le){le.find(".selection").append(fe)},te.prototype.destroy=function(){this._detachCloseHandler(this.container)},te.prototype.update=function(fe){throw new Error("The `update` method must be defined in child classes.")},te.prototype.isEnabled=function(){return!this.isDisabled()},te.prototype.isDisabled=function(){return this.options.get("disabled")},te}),m.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(Ue,Pe,De,te){function fe(){fe.__super__.constructor.apply(this,arguments)}return De.Extend(fe,Pe),fe.prototype.render=function(){var le=fe.__super__.render.call(this);return le.addClass("select2-selection--single"),le.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),le},fe.prototype.bind=function(le,Se){var Re=this;fe.__super__.bind.apply(this,arguments);var ot=le.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",ot).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",ot),this.$selection.on("mousedown",function(ht){ht.which===1&&Re.trigger("toggle",{originalEvent:ht})}),this.$selection.on("focus",function(ht){}),this.$selection.on("blur",function(ht){}),le.on("focus",function(ht){le.isOpen()||Re.$selection.trigger("focus")})},fe.prototype.clear=function(){var le=this.$selection.find(".select2-selection__rendered");le.empty(),le.removeAttr("title")},fe.prototype.display=function(le,Se){var Re=this.options.get("templateSelection");return this.options.get("escapeMarkup")(Re(le,Se))},fe.prototype.selectionContainer=function(){return Ue("<span></span>")},fe.prototype.update=function(le){if(le.length!==0){var Se=le[0],Re=this.$selection.find(".select2-selection__rendered"),ot=this.display(Se,Re);Re.empty().append(ot);var ht=Se.title||Se.text;ht?Re.attr("title",ht):Re.removeAttr("title")}else this.clear()},fe}),m.define("select2/selection/multiple",["jquery","./base","../utils"],function(Ue,Pe,De){function te(fe,le){te.__super__.constructor.apply(this,arguments)}return De.Extend(te,Pe),te.prototype.render=function(){var fe=te.__super__.render.call(this);return fe.addClass("select2-selection--multiple"),fe.html('<ul class="select2-selection__rendered"></ul>'),fe},te.prototype.bind=function(fe,le){var Se=this;te.__super__.bind.apply(this,arguments),this.$selection.on("click",function(Re){Se.trigger("toggle",{originalEvent:Re})}),this.$selection.on("click",".select2-selection__choice__remove",function(Re){if(!Se.isDisabled()){var ot=Ue(this).parent(),ht=De.GetData(ot[0],"data");Se.trigger("unselect",{originalEvent:Re,data:ht})}})},te.prototype.clear=function(){var fe=this.$selection.find(".select2-selection__rendered");fe.empty(),fe.removeAttr("title")},te.prototype.display=function(fe,le){var Se=this.options.get("templateSelection");return this.options.get("escapeMarkup")(Se(fe,le))},te.prototype.selectionContainer=function(){return Ue('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},te.prototype.update=function(fe){if(this.clear(),fe.length!==0){for(var le=[],Se=0;Se<fe.length;Se++){var Re=fe[Se],ot=this.selectionContainer(),ht=this.display(Re,ot);ot.append(ht);var Pt=Re.title||Re.text;Pt&&ot.attr("title",Pt),De.StoreData(ot[0],"data",Re),le.push(ot)}var Ne=this.$selection.find(".select2-selection__rendered");De.appendMany(Ne,le)}},te}),m.define("select2/selection/placeholder",["../utils"],function(Ue){function Pe(De,te,fe){this.placeholder=this.normalizePlaceholder(fe.get("placeholder")),De.call(this,te,fe)}return Pe.prototype.normalizePlaceholder=function(De,te){return typeof te=="string"&&(te={id:"",text:te}),te},Pe.prototype.createPlaceholder=function(De,te){var fe=this.selectionContainer();return fe.html(this.display(te)),fe.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),fe},Pe.prototype.update=function(De,te){var fe=te.length==1&&te[0].id!=this.placeholder.id;if(1<te.length||fe)return De.call(this,te);this.clear();var le=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(le)},Pe}),m.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(Ue,Pe,De){function te(){}return te.prototype.bind=function(fe,le,Se){var Re=this;fe.call(this,le,Se),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(ot){Re._handleClear(ot)}),le.on("keypress",function(ot){Re._handleKeyboardClear(ot,le)})},te.prototype._handleClear=function(fe,le){if(!this.isDisabled()){var Se=this.$selection.find(".select2-selection__clear");if(Se.length!==0){le.stopPropagation();var Re=De.GetData(Se[0],"data"),ot=this.$element.val();this.$element.val(this.placeholder.id);var ht={data:Re};if(this.trigger("clear",ht),ht.prevented)this.$element.val(ot);else{for(var Pt=0;Pt<Re.length;Pt++)if(ht={data:Re[Pt]},this.trigger("unselect",ht),ht.prevented)return void this.$element.val(ot);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},te.prototype._handleKeyboardClear=function(fe,le,Se){Se.isOpen()||le.which!=Pe.DELETE&&le.which!=Pe.BACKSPACE||this._handleClear(le)},te.prototype.update=function(fe,le){if(fe.call(this,le),!(0<this.$selection.find(".select2-selection__placeholder").length||le.length===0)){var Se=this.options.get("translations").get("removeAllItems"),Re=Ue('<span class="select2-selection__clear" title="'+Se()+'">&times;</span>');De.StoreData(Re[0],"data",le),this.$selection.find(".select2-selection__rendered").prepend(Re)}},te}),m.define("select2/selection/search",["jquery","../utils","../keys"],function(Ue,Pe,De){function te(fe,le,Se){fe.call(this,le,Se)}return te.prototype.render=function(fe){var le=Ue('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=le,this.$search=le.find("input");var Se=fe.call(this);return this._transferTabIndex(),Se},te.prototype.bind=function(fe,le,Se){var Re=this,ot=le.id+"-results";fe.call(this,le,Se),le.on("open",function(){Re.$search.attr("aria-controls",ot),Re.$search.trigger("focus")}),le.on("close",function(){Re.$search.val(""),Re.$search.removeAttr("aria-controls"),Re.$search.removeAttr("aria-activedescendant"),Re.$search.trigger("focus")}),le.on("enable",function(){Re.$search.prop("disabled",!1),Re._transferTabIndex()}),le.on("disable",function(){Re.$search.prop("disabled",!0)}),le.on("focus",function(Ne){Re.$search.trigger("focus")}),le.on("results:focus",function(Ne){Ne.data._resultId?Re.$search.attr("aria-activedescendant",Ne.data._resultId):Re.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(Ne){Re.trigger("focus",Ne)}),this.$selection.on("focusout",".select2-search--inline",function(Ne){Re._handleBlur(Ne)}),this.$selection.on("keydown",".select2-search--inline",function(Ne){if(Ne.stopPropagation(),Re.trigger("keypress",Ne),Re._keyUpPrevented=Ne.isDefaultPrevented(),Ne.which===De.BACKSPACE&&Re.$search.val()===""){var Ze=Re.$searchContainer.prev(".select2-selection__choice");if(0<Ze.length){var Ie=Pe.GetData(Ze[0],"data");Re.searchRemoveChoice(Ie),Ne.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(Ne){Re.$search.val()&&Ne.stopPropagation()});var ht=document.documentMode,Pt=ht&&ht<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(Ne){Pt?Re.$selection.off("input.search input.searchcheck"):Re.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(Ne){if(Pt&&Ne.type==="input")Re.$selection.off("input.search input.searchcheck");else{var Ze=Ne.which;Ze!=De.SHIFT&&Ze!=De.CTRL&&Ze!=De.ALT&&Ze!=De.TAB&&Re.handleSearch(Ne)}})},te.prototype._transferTabIndex=function(fe){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},te.prototype.createPlaceholder=function(fe,le){this.$search.attr("placeholder",le.text)},te.prototype.update=function(fe,le){var Se=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),fe.call(this,le),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),Se&&this.$search.trigger("focus")},te.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var fe=this.$search.val();this.trigger("query",{term:fe})}this._keyUpPrevented=!1},te.prototype.searchRemoveChoice=function(fe,le){this.trigger("unselect",{data:le}),this.$search.val(le.text),this.handleSearch()},te.prototype.resizeSearch=function(){this.$search.css("width","25px");var fe="";this.$search.attr("placeholder")!==""?fe=this.$selection.find(".select2-selection__rendered").width():fe=.75*(this.$search.val().length+1)+"em",this.$search.css("width",fe)},te}),m.define("select2/selection/eventRelay",["jquery"],function(Ue){function Pe(){}return Pe.prototype.bind=function(De,te,fe){var le=this,Se=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],Re=["opening","closing","selecting","unselecting","clearing"];De.call(this,te,fe),te.on("*",function(ot,ht){if(Ue.inArray(ot,Se)!==-1){ht=ht||{};var Pt=Ue.Event("select2:"+ot,{params:ht});le.$element.trigger(Pt),Ue.inArray(ot,Re)!==-1&&(ht.prevented=Pt.isDefaultPrevented())}})},Pe}),m.define("select2/translation",["jquery","require"],function(Ue,Pe){function De(te){this.dict=te||{}}return De.prototype.all=function(){return this.dict},De.prototype.get=function(te){return this.dict[te]},De.prototype.extend=function(te){this.dict=Ue.extend({},te.all(),this.dict)},De._cache={},De.loadPath=function(te){if(!(te in De._cache)){var fe=Pe(te);De._cache[te]=fe}return new De(De._cache[te])},De}),m.define("select2/diacritics",[],function(){return{"â¶":"A",ï¼¡:"A",Ã:"A",Ã:"A",Ã:"A",áº¦:"A",áº¤:"A",áºª:"A",áº¨:"A",Ã:"A",Ä:"A",Ä:"A",áº°:"A",áº®:"A",áº´:"A",áº²:"A",È¦:"A",Ç :"A",Ã:"A",Ç:"A",áº¢:"A",Ã:"A",Çº:"A",Ç:"A",È:"A",È:"A",áº :"A",áº¬:"A",áº¶:"A",á¸:"A",Ä:"A","Èº":"A","â±¯":"A","ê²":"AA",Ã:"AE",Ç¼:"AE",Ç¢:"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B",ï¼¢:"B",á¸:"B",á¸:"B",á¸:"B","É":"B",Æ:"B",Æ:"B","â¸":"C",ï¼£:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ã:"C",á¸:"C",Æ:"C","È»":"C","ê¾":"C","â¹":"D",ï¼¤:"D",á¸:"D",Ä:"D",á¸:"D",á¸:"D",á¸:"D",á¸:"D",Ä:"D",Æ:"D",Æ:"D",Æ:"D","ê¹":"D",Ç±:"DZ",Ç:"DZ",Ç²:"Dz",Ç:"Dz","âº":"E",ï¼¥:"E",Ã:"E",Ã:"E",Ã:"E",á»:"E",áº¾:"E",á»:"E",á»:"E",áº¼:"E",Ä:"E",á¸:"E",á¸:"E",Ä:"E",Ä:"E",Ã:"E",áºº:"E",Ä:"E",È:"E",È:"E",áº¸:"E",á»:"E",È¨:"E",á¸:"E",Ä:"E",á¸:"E",á¸:"E",Æ:"E",Æ:"E","â»":"F",ï¼¦:"F",á¸:"F",Æ:"F","ê»":"F","â¼":"G",ï¼§:"G",Ç´:"G",Ä:"G",á¸ :"G",Ä:"G",Ä :"G",Ç¦:"G",Ä¢:"G",Ç¤:"G",Æ:"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H",ï¼¨:"H",Ä¤:"H",á¸¢:"H",á¸¦:"H",È:"H",á¸¤:"H",á¸¨:"H",á¸ª:"H",Ä¦:"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I",ï¼©:"I",Ã:"I",Ã:"I",Ã:"I",Ä¨:"I",Äª:"I",Ä¬:"I",Ä°:"I",Ã:"I",á¸®:"I",á»:"I",Ç:"I",È:"I",È:"I",á»:"I",Ä®:"I",á¸¬:"I",Æ:"I","â¿":"J",ï¼ª:"J",Ä´:"J","É":"J","â":"K",ï¼«:"K",á¸°:"K",Ç¨:"K",á¸²:"K",Ä¶:"K",á¸´:"K",Æ:"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L",ï¼¬:"L",Ä¿:"L",Ä¹:"L",Ä½:"L",á¸¶:"L",á¸¸:"L",Ä»:"L",á¸¼:"L",á¸º:"L",Å:"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L",Ç:"LJ",Ç:"Lj","â":"M",ï¼­:"M",á¸¾:"M",á¹:"M",á¹:"M","â±®":"M",Æ:"M","â":"N",ï¼®:"N",Ç¸:"N",Å:"N",Ã:"N",á¹:"N",Å:"N",á¹:"N",Å:"N",á¹:"N",á¹:"N","È ":"N",Æ:"N","ê":"N","ê¤":"N",Ç:"NJ",Ç:"Nj","â":"O",ï¼¯:"O",Ã:"O",Ã:"O",Ã:"O",á»:"O",á»:"O",á»:"O",á»:"O",Ã:"O",á¹:"O",È¬:"O",á¹:"O",Å:"O",á¹:"O",á¹:"O",Å:"O",È®:"O",È°:"O",Ã:"O",Èª:"O",á»:"O",Å:"O",Ç:"O",È:"O",È:"O",Æ :"O",á»:"O",á»:"O",á» :"O",á»:"O",á»¢:"O",á»:"O",á»:"O",Çª:"O",Ç¬:"O",Ã:"O",Ç¾:"O",Æ:"O",Æ:"O","ê":"O","ê":"O",Å:"OE",Æ¢:"OI","ê":"OO",È¢:"OU","â":"P",ï¼°:"P",á¹:"P",á¹:"P",Æ¤:"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q",ï¼±:"Q","ê":"Q","ê":"Q","É":"Q","â":"R",ï¼²:"R",Å:"R",á¹:"R",Å:"R",È:"R",È:"R",á¹:"R",á¹:"R",Å:"R",á¹:"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S",ï¼³:"S","áº":"S",Å:"S",á¹¤:"S",Å:"S",á¹ :"S",Å :"S",á¹¦:"S",á¹¢:"S",á¹¨:"S",È:"S",Å:"S","â±¾":"S","ê¨":"S","ê":"S","â":"T",ï¼´:"T",á¹ª:"T",Å¤:"T",á¹¬:"T",È:"T",Å¢:"T",á¹°:"T",á¹®:"T",Å¦:"T",Æ¬:"T",Æ®:"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U",ï¼µ:"U",Ã:"U",Ã:"U",Ã:"U",Å¨:"U",á¹¸:"U",Åª:"U",á¹º:"U",Å¬:"U",Ã:"U",Ç:"U",Ç:"U",Ç:"U",Ç:"U",á»¦:"U",Å®:"U",Å°:"U",Ç:"U",È:"U",È:"U",Æ¯:"U",á»ª:"U",á»¨:"U",á»®:"U",á»¬:"U",á»°:"U",á»¤:"U",á¹²:"U",Å²:"U",á¹¶:"U",á¹´:"U","É":"U","â":"V",ï¼¶:"V",á¹¼:"V",á¹¾:"V",Æ²:"V","ê":"V","É":"V","ê ":"VY","â":"W",ï¼·:"W",áº:"W",áº:"W",Å´:"W",áº:"W",áº:"W",áº:"W","â±²":"W","â":"X",ï¼¸:"X",áº:"X",áº:"X","â":"Y",ï¼¹:"Y",á»²:"Y",Ã:"Y",Å¶:"Y",á»¸:"Y",È²:"Y",áº:"Y",Å¸:"Y",á»¶:"Y",á»´:"Y",Æ³:"Y","É":"Y","á»¾":"Y","â":"Z",ï¼º:"Z",Å¹:"Z",áº:"Z",Å»:"Z",Å½:"Z",áº:"Z",áº:"Z",Æµ:"Z",È¤:"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a",ï½:"a",áº:"a",Ã :"a",Ã¡:"a",Ã¢:"a",áº§:"a",áº¥:"a",áº«:"a",áº©:"a",Ã£:"a",Ä:"a",Ä:"a",áº±:"a",áº¯:"a",áºµ:"a",áº³:"a",È§:"a",Ç¡:"a",Ã¤:"a",Ç:"a",áº£:"a",Ã¥:"a",Ç»:"a",Ç:"a",È:"a",È:"a",áº¡:"a",áº­:"a",áº·:"a",á¸:"a",Ä:"a","â±¥":"a",É:"a","ê³":"aa",Ã¦:"ae",Ç½:"ae",Ç£:"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b",ï½:"b",á¸:"b",á¸:"b",á¸:"b",Æ:"b",Æ:"b",É:"b","â":"c",ï½:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ã§:"c",á¸:"c",Æ:"c","È¼":"c","ê¿":"c","â":"c","â":"d",ï½:"d",á¸:"d",Ä:"d",á¸:"d",á¸:"d",á¸:"d",á¸:"d",Ä:"d",Æ:"d",É:"d",É:"d","êº":"d",Ç³:"dz",Ç:"dz","â":"e",ï½:"e",Ã¨:"e",Ã©:"e",Ãª:"e",á»:"e",áº¿:"e",á»:"e",á»:"e",áº½:"e",Ä:"e",á¸:"e",á¸:"e",Ä:"e",Ä:"e",Ã«:"e",áº»:"e",Ä:"e",È:"e",È:"e",áº¹:"e",á»:"e",È©:"e",á¸:"e",Ä:"e",á¸:"e",á¸:"e","É":"e",É:"e",Ç:"e","â":"f",ï½:"f",á¸:"f",Æ:"f","ê¼":"f","â":"g",ï½:"g",Çµ:"g",Ä:"g",á¸¡:"g",Ä:"g",Ä¡:"g",Ç§:"g",Ä£:"g",Ç¥:"g",É :"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h",ï½:"h",Ä¥:"h",á¸£:"h",á¸§:"h",È:"h",á¸¥:"h",á¸©:"h",á¸«:"h",áº:"h",Ä§:"h","â±¨":"h","â±¶":"h",É¥:"h",Æ:"hv","â":"i",ï½:"i",Ã¬:"i",Ã­:"i",Ã®:"i",Ä©:"i",Ä«:"i",Ä­:"i",Ã¯:"i",á¸¯:"i",á»:"i",Ç:"i",È:"i",È:"i",á»:"i",Ä¯:"i",á¸­:"i",É¨:"i",Ä±:"i","â":"j",ï½:"j",Äµ:"j",Ç°:"j","É":"j","â":"k",ï½:"k",á¸±:"k",Ç©:"k",á¸³:"k",Ä·:"k",á¸µ:"k",Æ:"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l",ï½:"l",Å:"l",Äº:"l",Ä¾:"l",á¸·:"l",á¸¹:"l",Ä¼:"l",á¸½:"l",á¸»:"l",Å¿:"l",Å:"l",Æ:"l",É«:"l","â±¡":"l","ê":"l","ê":"l","ê":"l",Ç:"lj","â":"m",ï½:"m",á¸¿:"m",á¹:"m",á¹:"m",É±:"m",É¯:"m","â":"n",ï½:"n",Ç¹:"n",Å:"n",Ã±:"n",á¹:"n",Å:"n",á¹:"n",Å:"n",á¹:"n",á¹:"n",Æ:"n",É²:"n",Å:"n","ê":"n","ê¥":"n",Ç:"nj","â":"o",ï½:"o",Ã²:"o",Ã³:"o",Ã´:"o",á»:"o",á»:"o",á»:"o",á»:"o",Ãµ:"o",á¹:"o",È­:"o",á¹:"o",Å:"o",á¹:"o",á¹:"o",Å:"o",È¯:"o",È±:"o",Ã¶:"o",È«:"o",á»:"o",Å:"o",Ç:"o",È:"o",È:"o",Æ¡:"o",á»:"o",á»:"o",á»¡:"o",á»:"o",á»£:"o",á»:"o",á»:"o",Ç«:"o",Ç­:"o",Ã¸:"o",Ç¿:"o",É:"o","ê":"o","ê":"o",Éµ:"o",Å:"oe",Æ£:"oi",È£:"ou","ê":"oo","â":"p",ï½:"p",á¹:"p",á¹:"p",Æ¥:"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q",ï½:"q","É":"q","ê":"q","ê":"q","â¡":"r",ï½:"r",Å:"r",á¹:"r",Å:"r",È:"r",È:"r",á¹:"r",á¹:"r",Å:"r",á¹:"r","É":"r",É½:"r","ê":"r","ê§":"r","ê":"r","â¢":"s",ï½:"s",Ã:"s",Å:"s",á¹¥:"s",Å:"s",á¹¡:"s",Å¡:"s",á¹§:"s",á¹£:"s",á¹©:"s",È:"s",Å:"s","È¿":"s","ê©":"s","ê":"s",áº:"s","â£":"t",ï½:"t",á¹«:"t",áº:"t",Å¥:"t",á¹­:"t",È:"t",Å£:"t",á¹±:"t",á¹¯:"t",Å§:"t",Æ­:"t",Ê:"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u",ï½:"u",Ã¹:"u",Ãº:"u",Ã»:"u",Å©:"u",á¹¹:"u",Å«:"u",á¹»:"u",Å­:"u",Ã¼:"u",Ç:"u",Ç:"u",Ç:"u",Ç:"u",á»§:"u",Å¯:"u",Å±:"u",Ç:"u",È:"u",È:"u",Æ°:"u",á»«:"u",á»©:"u",á»¯:"u",á»­:"u",á»±:"u",á»¥:"u",á¹³:"u",Å³:"u",á¹·:"u",á¹µ:"u",Ê:"u","â¥":"v",ï½:"v",á¹½:"v",á¹¿:"v",Ê:"v","ê":"v",Ê:"v","ê¡":"vy","â¦":"w",ï½:"w",áº:"w",áº:"w",Åµ:"w",áº:"w",áº:"w",áº:"w",áº:"w","â±³":"w","â§":"x",ï½:"x",áº:"x",áº:"x","â¨":"y",ï½:"y",á»³:"y",Ã½:"y",Å·:"y",á»¹:"y",È³:"y",áº:"y",Ã¿:"y",á»·:"y",áº:"y",á»µ:"y",Æ´:"y","É":"y","á»¿":"y","â©":"z",ï½:"z",Åº:"z",áº:"z",Å¼:"z",Å¾:"z",áº:"z",áº:"z",Æ¶:"z",È¥:"z","É":"z","â±¬":"z","ê£":"z",Î:"Î",Î:"Î",Î:"Î",Î:"Î",Îª:"Î",Î:"Î",Î:"Î¥",Î«:"Î¥",Î:"Î©",Î¬:"Î±",Î­:"Îµ",Î®:"Î·",Î¯:"Î¹",Ï:"Î¹",Î:"Î¹",Ï:"Î¿",Ï:"Ï",Ï:"Ï",Î°:"Ï",Ï:"Ï",Ï:"Ï","â":"'"}}),m.define("select2/data/base",["../utils"],function(Ue){function Pe(De,te){Pe.__super__.constructor.call(this)}return Ue.Extend(Pe,Ue.Observable),Pe.prototype.current=function(De){throw new Error("The `current` method must be defined in child classes.")},Pe.prototype.query=function(De,te){throw new Error("The `query` method must be defined in child classes.")},Pe.prototype.bind=function(De,te){},Pe.prototype.destroy=function(){},Pe.prototype.generateResultId=function(De,te){var fe=De.id+"-result-";return fe+=Ue.generateChars(4),te.id!=null?fe+="-"+te.id.toString():fe+="-"+Ue.generateChars(4),fe},Pe}),m.define("select2/data/select",["./base","../utils","jquery"],function(Ue,Pe,De){function te(fe,le){this.$element=fe,this.options=le,te.__super__.constructor.call(this)}return Pe.Extend(te,Ue),te.prototype.current=function(fe){var le=[],Se=this;this.$element.find(":selected").each(function(){var Re=De(this),ot=Se.item(Re);le.push(ot)}),fe(le)},te.prototype.select=function(fe){var le=this;if(fe.selected=!0,De(fe.element).is("option"))return fe.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(Re){var ot=[];(fe=[fe]).push.apply(fe,Re);for(var ht=0;ht<fe.length;ht++){var Pt=fe[ht].id;De.inArray(Pt,ot)===-1&&ot.push(Pt)}le.$element.val(ot),le.$element.trigger("input").trigger("change")});else{var Se=fe.id;this.$element.val(Se),this.$element.trigger("input").trigger("change")}},te.prototype.unselect=function(fe){var le=this;if(this.$element.prop("multiple")){if(fe.selected=!1,De(fe.element).is("option"))return fe.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(Se){for(var Re=[],ot=0;ot<Se.length;ot++){var ht=Se[ot].id;ht!==fe.id&&De.inArray(ht,Re)===-1&&Re.push(ht)}le.$element.val(Re),le.$element.trigger("input").trigger("change")})}},te.prototype.bind=function(fe,le){var Se=this;(this.container=fe).on("select",function(Re){Se.select(Re.data)}),fe.on("unselect",function(Re){Se.unselect(Re.data)})},te.prototype.destroy=function(){this.$element.find("*").each(function(){Pe.RemoveData(this)})},te.prototype.query=function(fe,le){var Se=[],Re=this;this.$element.children().each(function(){var ot=De(this);if(ot.is("option")||ot.is("optgroup")){var ht=Re.item(ot),Pt=Re.matches(fe,ht);Pt!==null&&Se.push(Pt)}}),le({results:Se})},te.prototype.addOptions=function(fe){Pe.appendMany(this.$element,fe)},te.prototype.option=function(fe){var le;fe.children?(le=document.createElement("optgroup")).label=fe.text:(le=document.createElement("option")).textContent!==void 0?le.textContent=fe.text:le.innerText=fe.text,fe.id!==void 0&&(le.value=fe.id),fe.disabled&&(le.disabled=!0),fe.selected&&(le.selected=!0),fe.title&&(le.title=fe.title);var Se=De(le),Re=this._normalizeItem(fe);return Re.element=le,Pe.StoreData(le,"data",Re),Se},te.prototype.item=function(fe){var le={};if((le=Pe.GetData(fe[0],"data"))!=null)return le;if(fe.is("option"))le={id:fe.val(),text:fe.text(),disabled:fe.prop("disabled"),selected:fe.prop("selected"),title:fe.prop("title")};else if(fe.is("optgroup")){le={text:fe.prop("label"),children:[],title:fe.prop("title")};for(var Se=fe.children("option"),Re=[],ot=0;ot<Se.length;ot++){var ht=De(Se[ot]),Pt=this.item(ht);Re.push(Pt)}le.children=Re}return(le=this._normalizeItem(le)).element=fe[0],Pe.StoreData(fe[0],"data",le),le},te.prototype._normalizeItem=function(fe){return fe!==Object(fe)&&(fe={id:fe,text:fe}),(fe=De.extend({},{text:""},fe)).id!=null&&(fe.id=fe.id.toString()),fe.text!=null&&(fe.text=fe.text.toString()),fe._resultId==null&&fe.id&&this.container!=null&&(fe._resultId=this.generateResultId(this.container,fe)),De.extend({},{selected:!1,disabled:!1},fe)},te.prototype.matches=function(fe,le){return this.options.get("matcher")(fe,le)},te}),m.define("select2/data/array",["./select","../utils","jquery"],function(Ue,Pe,De){function te(fe,le){this._dataToConvert=le.get("data")||[],te.__super__.constructor.call(this,fe,le)}return Pe.Extend(te,Ue),te.prototype.bind=function(fe,le){te.__super__.bind.call(this,fe,le),this.addOptions(this.convertToOptions(this._dataToConvert))},te.prototype.select=function(fe){var le=this.$element.find("option").filter(function(Se,Re){return Re.value==fe.id.toString()});le.length===0&&(le=this.option(fe),this.addOptions(le)),te.__super__.select.call(this,fe)},te.prototype.convertToOptions=function(fe){var le=this,Se=this.$element.find("option"),Re=Se.map(function(){return le.item(De(this)).id}).get(),ot=[];function ht(gi){return function(){return De(this).val()==gi.id}}for(var Pt=0;Pt<fe.length;Pt++){var Ne=this._normalizeItem(fe[Pt]);if(0<=De.inArray(Ne.id,Re)){var Ze=Se.filter(ht(Ne)),Ie=this.item(Ze),We=De.extend(!0,{},Ne,Ie),rt=this.option(We);Ze.replaceWith(rt)}else{var Ot=this.option(Ne);if(Ne.children){var hi=this.convertToOptions(Ne.children);Pe.appendMany(Ot,hi)}ot.push(Ot)}}return ot},te}),m.define("select2/data/ajax",["./array","../utils","jquery"],function(Ue,Pe,De){function te(fe,le){this.ajaxOptions=this._applyDefaults(le.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),te.__super__.constructor.call(this,fe,le)}return Pe.Extend(te,Ue),te.prototype._applyDefaults=function(fe){var le={data:function(Se){return De.extend({},Se,{q:Se.term})},transport:function(Se,Re,ot){var ht=De.ajax(Se);return ht.then(Re),ht.fail(ot),ht}};return De.extend({},le,fe,!0)},te.prototype.processResults=function(fe){return fe},te.prototype.query=function(fe,le){var Se=this;this._request!=null&&(De.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var Re=De.extend({type:"GET"},this.ajaxOptions);function ot(){var ht=Re.transport(Re,function(Pt){var Ne=Se.processResults(Pt,fe);Se.options.get("debug")&&window.console&&console.error&&(Ne&&Ne.results&&De.isArray(Ne.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),le(Ne)},function(){"status"in ht&&(ht.status===0||ht.status==="0")||Se.trigger("results:message",{message:"errorLoading"})});Se._request=ht}typeof Re.url=="function"&&(Re.url=Re.url.call(this.$element,fe)),typeof Re.data=="function"&&(Re.data=Re.data.call(this.$element,fe)),this.ajaxOptions.delay&&fe.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(ot,this.ajaxOptions.delay)):ot()},te}),m.define("select2/data/tags",["jquery"],function(Ue){function Pe(De,te,fe){var le=fe.get("tags"),Se=fe.get("createTag");Se!==void 0&&(this.createTag=Se);var Re=fe.get("insertTag");if(Re!==void 0&&(this.insertTag=Re),De.call(this,te,fe),Ue.isArray(le))for(var ot=0;ot<le.length;ot++){var ht=le[ot],Pt=this._normalizeItem(ht),Ne=this.option(Pt);this.$element.append(Ne)}}return Pe.prototype.query=function(De,te,fe){var le=this;this._removeOldTags(),te.term!=null&&te.page==null?De.call(this,te,function Se(Re,ot){for(var ht=Re.results,Pt=0;Pt<ht.length;Pt++){var Ne=ht[Pt],Ze=Ne.children!=null&&!Se({results:Ne.children},!0);if((Ne.text||"").toUpperCase()===(te.term||"").toUpperCase()||Ze)return!ot&&(Re.data=ht,void fe(Re))}if(ot)return!0;var Ie=le.createTag(te);if(Ie!=null){var We=le.option(Ie);We.attr("data-select2-tag",!0),le.addOptions([We]),le.insertTag(ht,Ie)}Re.results=ht,fe(Re)}):De.call(this,te,fe)},Pe.prototype.createTag=function(De,te){var fe=Ue.trim(te.term);return fe===""?null:{id:fe,text:fe}},Pe.prototype.insertTag=function(De,te,fe){te.unshift(fe)},Pe.prototype._removeOldTags=function(De){this.$element.find("option[data-select2-tag]").each(function(){this.selected||Ue(this).remove()})},Pe}),m.define("select2/data/tokenizer",["jquery"],function(Ue){function Pe(De,te,fe){var le=fe.get("tokenizer");le!==void 0&&(this.tokenizer=le),De.call(this,te,fe)}return Pe.prototype.bind=function(De,te,fe){De.call(this,te,fe),this.$search=te.dropdown.$search||te.selection.$search||fe.find(".select2-search__field")},Pe.prototype.query=function(De,te,fe){var le=this;te.term=te.term||"";var Se=this.tokenizer(te,this.options,function(Re){var ot,ht=le._normalizeItem(Re);if(!le.$element.find("option").filter(function(){return Ue(this).val()===ht.id}).length){var Pt=le.option(ht);Pt.attr("data-select2-tag",!0),le._removeOldTags(),le.addOptions([Pt])}ot=ht,le.trigger("select",{data:ot})});Se.term!==te.term&&(this.$search.length&&(this.$search.val(Se.term),this.$search.trigger("focus")),te.term=Se.term),De.call(this,te,fe)},Pe.prototype.tokenizer=function(De,te,fe,le){for(var Se=fe.get("tokenSeparators")||[],Re=te.term,ot=0,ht=this.createTag||function(Ie){return{id:Ie.term,text:Ie.term}};ot<Re.length;){var Pt=Re[ot];if(Ue.inArray(Pt,Se)!==-1){var Ne=Re.substr(0,ot),Ze=ht(Ue.extend({},te,{term:Ne}));Ze!=null?(le(Ze),Re=Re.substr(ot+1)||"",ot=0):ot++}else ot++}return{term:Re}},Pe}),m.define("select2/data/minimumInputLength",[],function(){function Ue(Pe,De,te){this.minimumInputLength=te.get("minimumInputLength"),Pe.call(this,De,te)}return Ue.prototype.query=function(Pe,De,te){De.term=De.term||"",De.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:De.term,params:De}}):Pe.call(this,De,te)},Ue}),m.define("select2/data/maximumInputLength",[],function(){function Ue(Pe,De,te){this.maximumInputLength=te.get("maximumInputLength"),Pe.call(this,De,te)}return Ue.prototype.query=function(Pe,De,te){De.term=De.term||"",0<this.maximumInputLength&&De.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:De.term,params:De}}):Pe.call(this,De,te)},Ue}),m.define("select2/data/maximumSelectionLength",[],function(){function Ue(Pe,De,te){this.maximumSelectionLength=te.get("maximumSelectionLength"),Pe.call(this,De,te)}return Ue.prototype.bind=function(Pe,De,te){var fe=this;Pe.call(this,De,te),De.on("select",function(){fe._checkIfMaximumSelected()})},Ue.prototype.query=function(Pe,De,te){var fe=this;this._checkIfMaximumSelected(function(){Pe.call(fe,De,te)})},Ue.prototype._checkIfMaximumSelected=function(Pe,De){var te=this;this.current(function(fe){var le=fe!=null?fe.length:0;0<te.maximumSelectionLength&&le>=te.maximumSelectionLength?te.trigger("results:message",{message:"maximumSelected",args:{maximum:te.maximumSelectionLength}}):De&&De()})},Ue}),m.define("select2/dropdown",["jquery","./utils"],function(Ue,Pe){function De(te,fe){this.$element=te,this.options=fe,De.__super__.constructor.call(this)}return Pe.Extend(De,Pe.Observable),De.prototype.render=function(){var te=Ue('<span class="select2-dropdown"><span class="select2-results"></span></span>');return te.attr("dir",this.options.get("dir")),this.$dropdown=te},De.prototype.bind=function(){},De.prototype.position=function(te,fe){},De.prototype.destroy=function(){this.$dropdown.remove()},De}),m.define("select2/dropdown/search",["jquery","../utils"],function(Ue,Pe){function De(){}return De.prototype.render=function(te){var fe=te.call(this),le=Ue('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=le,this.$search=le.find("input"),fe.prepend(le),fe},De.prototype.bind=function(te,fe,le){var Se=this,Re=fe.id+"-results";te.call(this,fe,le),this.$search.on("keydown",function(ot){Se.trigger("keypress",ot),Se._keyUpPrevented=ot.isDefaultPrevented()}),this.$search.on("input",function(ot){Ue(this).off("keyup")}),this.$search.on("keyup input",function(ot){Se.handleSearch(ot)}),fe.on("open",function(){Se.$search.attr("tabindex",0),Se.$search.attr("aria-controls",Re),Se.$search.trigger("focus"),window.setTimeout(function(){Se.$search.trigger("focus")},0)}),fe.on("close",function(){Se.$search.attr("tabindex",-1),Se.$search.removeAttr("aria-controls"),Se.$search.removeAttr("aria-activedescendant"),Se.$search.val(""),Se.$search.trigger("blur")}),fe.on("focus",function(){fe.isOpen()||Se.$search.trigger("focus")}),fe.on("results:all",function(ot){ot.query.term!=null&&ot.query.term!==""||(Se.showSearch(ot)?Se.$searchContainer.removeClass("select2-search--hide"):Se.$searchContainer.addClass("select2-search--hide"))}),fe.on("results:focus",function(ot){ot.data._resultId?Se.$search.attr("aria-activedescendant",ot.data._resultId):Se.$search.removeAttr("aria-activedescendant")})},De.prototype.handleSearch=function(te){if(!this._keyUpPrevented){var fe=this.$search.val();this.trigger("query",{term:fe})}this._keyUpPrevented=!1},De.prototype.showSearch=function(te,fe){return!0},De}),m.define("select2/dropdown/hidePlaceholder",[],function(){function Ue(Pe,De,te,fe){this.placeholder=this.normalizePlaceholder(te.get("placeholder")),Pe.call(this,De,te,fe)}return Ue.prototype.append=function(Pe,De){De.results=this.removePlaceholder(De.results),Pe.call(this,De)},Ue.prototype.normalizePlaceholder=function(Pe,De){return typeof De=="string"&&(De={id:"",text:De}),De},Ue.prototype.removePlaceholder=function(Pe,De){for(var te=De.slice(0),fe=De.length-1;0<=fe;fe--){var le=De[fe];this.placeholder.id===le.id&&te.splice(fe,1)}return te},Ue}),m.define("select2/dropdown/infiniteScroll",["jquery"],function(Ue){function Pe(De,te,fe,le){this.lastParams={},De.call(this,te,fe,le),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return Pe.prototype.append=function(De,te){this.$loadingMore.remove(),this.loading=!1,De.call(this,te),this.showLoadingMore(te)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},Pe.prototype.bind=function(De,te,fe){var le=this;De.call(this,te,fe),te.on("query",function(Se){le.lastParams=Se,le.loading=!0}),te.on("query:append",function(Se){le.lastParams=Se,le.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},Pe.prototype.loadMoreIfNeeded=function(){var De=Ue.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&De){var te=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=te+50&&this.loadMore()}},Pe.prototype.loadMore=function(){this.loading=!0;var De=Ue.extend({},{page:1},this.lastParams);De.page++,this.trigger("query:append",De)},Pe.prototype.showLoadingMore=function(De,te){return te.pagination&&te.pagination.more},Pe.prototype.createLoadingMore=function(){var De=Ue('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),te=this.options.get("translations").get("loadingMore");return De.html(te(this.lastParams)),De},Pe}),m.define("select2/dropdown/attachBody",["jquery","../utils"],function(Ue,Pe){function De(te,fe,le){this.$dropdownParent=Ue(le.get("dropdownParent")||document.body),te.call(this,fe,le)}return De.prototype.bind=function(te,fe,le){var Se=this;te.call(this,fe,le),fe.on("open",function(){Se._showDropdown(),Se._attachPositioningHandler(fe),Se._bindContainerResultHandlers(fe)}),fe.on("close",function(){Se._hideDropdown(),Se._detachPositioningHandler(fe)}),this.$dropdownContainer.on("mousedown",function(Re){Re.stopPropagation()})},De.prototype.destroy=function(te){te.call(this),this.$dropdownContainer.remove()},De.prototype.position=function(te,fe,le){fe.attr("class",le.attr("class")),fe.removeClass("select2"),fe.addClass("select2-container--open"),fe.css({position:"absolute",top:-999999}),this.$container=le},De.prototype.render=function(te){var fe=Ue("<span></span>"),le=te.call(this);return fe.append(le),this.$dropdownContainer=fe},De.prototype._hideDropdown=function(te){this.$dropdownContainer.detach()},De.prototype._bindContainerResultHandlers=function(te,fe){if(!this._containerResultsHandlersBound){var le=this;fe.on("results:all",function(){le._positionDropdown(),le._resizeDropdown()}),fe.on("results:append",function(){le._positionDropdown(),le._resizeDropdown()}),fe.on("results:message",function(){le._positionDropdown(),le._resizeDropdown()}),fe.on("select",function(){le._positionDropdown(),le._resizeDropdown()}),fe.on("unselect",function(){le._positionDropdown(),le._resizeDropdown()}),this._containerResultsHandlersBound=!0}},De.prototype._attachPositioningHandler=function(te,fe){var le=this,Se="scroll.select2."+fe.id,Re="resize.select2."+fe.id,ot="orientationchange.select2."+fe.id,ht=this.$container.parents().filter(Pe.hasScroll);ht.each(function(){Pe.StoreData(this,"select2-scroll-position",{x:Ue(this).scrollLeft(),y:Ue(this).scrollTop()})}),ht.on(Se,function(Pt){var Ne=Pe.GetData(this,"select2-scroll-position");Ue(this).scrollTop(Ne.y)}),Ue(window).on(Se+" "+Re+" "+ot,function(Pt){le._positionDropdown(),le._resizeDropdown()})},De.prototype._detachPositioningHandler=function(te,fe){var le="scroll.select2."+fe.id,Se="resize.select2."+fe.id,Re="orientationchange.select2."+fe.id;this.$container.parents().filter(Pe.hasScroll).off(le),Ue(window).off(le+" "+Se+" "+Re)},De.prototype._positionDropdown=function(){var te=Ue(window),fe=this.$dropdown.hasClass("select2-dropdown--above"),le=this.$dropdown.hasClass("select2-dropdown--below"),Se=null,Re=this.$container.offset();Re.bottom=Re.top+this.$container.outerHeight(!1);var ot={height:this.$container.outerHeight(!1)};ot.top=Re.top,ot.bottom=Re.top+ot.height;var ht=this.$dropdown.outerHeight(!1),Pt=te.scrollTop(),Ne=te.scrollTop()+te.height(),Ze=Pt<Re.top-ht,Ie=Ne>Re.bottom+ht,We={left:Re.left,top:ot.bottom},rt=this.$dropdownParent;rt.css("position")==="static"&&(rt=rt.offsetParent());var Ot={top:0,left:0};(Ue.contains(document.body,rt[0])||rt[0].isConnected)&&(Ot=rt.offset()),We.top-=Ot.top,We.left-=Ot.left,fe||le||(Se="below"),Ie||!Ze||fe?!Ze&&Ie&&fe&&(Se="below"):Se="above",(Se=="above"||fe&&Se!=="below")&&(We.top=ot.top-Ot.top-ht),Se!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+Se),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+Se)),this.$dropdownContainer.css(We)},De.prototype._resizeDropdown=function(){var te={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(te.minWidth=te.width,te.position="relative",te.width="auto"),this.$dropdown.css(te)},De.prototype._showDropdown=function(te){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},De}),m.define("select2/dropdown/minimumResultsForSearch",[],function(){function Ue(Pe,De,te,fe){this.minimumResultsForSearch=te.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),Pe.call(this,De,te,fe)}return Ue.prototype.showSearch=function(Pe,De){return!(function te(fe){for(var le=0,Se=0;Se<fe.length;Se++){var Re=fe[Se];Re.children?le+=te(Re.children):le++}return le}(De.data.results)<this.minimumResultsForSearch)&&Pe.call(this,De)},Ue}),m.define("select2/dropdown/selectOnClose",["../utils"],function(Ue){function Pe(){}return Pe.prototype.bind=function(De,te,fe){var le=this;De.call(this,te,fe),te.on("close",function(Se){le._handleSelectOnClose(Se)})},Pe.prototype._handleSelectOnClose=function(De,te){if(te&&te.originalSelect2Event!=null){var fe=te.originalSelect2Event;if(fe._type==="select"||fe._type==="unselect")return}var le=this.getHighlightedResults();if(!(le.length<1)){var Se=Ue.GetData(le[0],"data");Se.element!=null&&Se.element.selected||Se.element==null&&Se.selected||this.trigger("select",{data:Se})}},Pe}),m.define("select2/dropdown/closeOnSelect",[],function(){function Ue(){}return Ue.prototype.bind=function(Pe,De,te){var fe=this;Pe.call(this,De,te),De.on("select",function(le){fe._selectTriggered(le)}),De.on("unselect",function(le){fe._selectTriggered(le)})},Ue.prototype._selectTriggered=function(Pe,De){var te=De.originalEvent;te&&(te.ctrlKey||te.metaKey)||this.trigger("close",{originalEvent:te,originalSelect2Event:De})},Ue}),m.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(Ue){var Pe=Ue.input.length-Ue.maximum,De="Please delete "+Pe+" character";return Pe!=1&&(De+="s"),De},inputTooShort:function(Ue){return"Please enter "+(Ue.minimum-Ue.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(Ue){var Pe="You can only select "+Ue.maximum+" item";return Ue.maximum!=1&&(Pe+="s"),Pe},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}}),m.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(Ue,Pe,De,te,fe,le,Se,Re,ot,ht,Pt,Ne,Ze,Ie,We,rt,Ot,hi,gi,Li,ur,Vt,wi,Mi,Ji,Ei,Xi,Fi,Lr){function Vr(){this.reset()}return Vr.prototype.apply=function(si){if((si=Ue.extend(!0,{},this.defaults,si)).dataAdapter==null){if(si.ajax!=null?si.dataAdapter=We:si.data!=null?si.dataAdapter=Ie:si.dataAdapter=Ze,0<si.minimumInputLength&&(si.dataAdapter=ht.Decorate(si.dataAdapter,hi)),0<si.maximumInputLength&&(si.dataAdapter=ht.Decorate(si.dataAdapter,gi)),0<si.maximumSelectionLength&&(si.dataAdapter=ht.Decorate(si.dataAdapter,Li)),si.tags&&(si.dataAdapter=ht.Decorate(si.dataAdapter,rt)),si.tokenSeparators==null&&si.tokenizer==null||(si.dataAdapter=ht.Decorate(si.dataAdapter,Ot)),si.query!=null){var tr=Pe(si.amdBase+"compat/query");si.dataAdapter=ht.Decorate(si.dataAdapter,tr)}if(si.initSelection!=null){var yr=Pe(si.amdBase+"compat/initSelection");si.dataAdapter=ht.Decorate(si.dataAdapter,yr)}}if(si.resultsAdapter==null&&(si.resultsAdapter=De,si.ajax!=null&&(si.resultsAdapter=ht.Decorate(si.resultsAdapter,Mi)),si.placeholder!=null&&(si.resultsAdapter=ht.Decorate(si.resultsAdapter,wi)),si.selectOnClose&&(si.resultsAdapter=ht.Decorate(si.resultsAdapter,Xi))),si.dropdownAdapter==null){if(si.multiple)si.dropdownAdapter=ur;else{var ar=ht.Decorate(ur,Vt);si.dropdownAdapter=ar}if(si.minimumResultsForSearch!==0&&(si.dropdownAdapter=ht.Decorate(si.dropdownAdapter,Ei)),si.closeOnSelect&&(si.dropdownAdapter=ht.Decorate(si.dropdownAdapter,Fi)),si.dropdownCssClass!=null||si.dropdownCss!=null||si.adaptDropdownCssClass!=null){var Ir=Pe(si.amdBase+"compat/dropdownCss");si.dropdownAdapter=ht.Decorate(si.dropdownAdapter,Ir)}si.dropdownAdapter=ht.Decorate(si.dropdownAdapter,Ji)}if(si.selectionAdapter==null){if(si.multiple?si.selectionAdapter=fe:si.selectionAdapter=te,si.placeholder!=null&&(si.selectionAdapter=ht.Decorate(si.selectionAdapter,le)),si.allowClear&&(si.selectionAdapter=ht.Decorate(si.selectionAdapter,Se)),si.multiple&&(si.selectionAdapter=ht.Decorate(si.selectionAdapter,Re)),si.containerCssClass!=null||si.containerCss!=null||si.adaptContainerCssClass!=null){var Ar=Pe(si.amdBase+"compat/containerCss");si.selectionAdapter=ht.Decorate(si.selectionAdapter,Ar)}si.selectionAdapter=ht.Decorate(si.selectionAdapter,ot)}si.language=this._resolveLanguage(si.language),si.language.push("en");for(var En=[],kn=0;kn<si.language.length;kn++){var oa=si.language[kn];En.indexOf(oa)===-1&&En.push(oa)}return si.language=En,si.translations=this._processTranslations(si.language,si.debug),si},Vr.prototype.reset=function(){function si(tr){return tr.replace(/[^\u0000-\u007E]/g,function(yr){return Ne[yr]||yr})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:ht.escapeMarkup,language:{},matcher:function tr(yr,ar){if(Ue.trim(yr.term)==="")return ar;if(ar.children&&0<ar.children.length){for(var Ir=Ue.extend(!0,{},ar),Ar=ar.children.length-1;0<=Ar;Ar--)tr(yr,ar.children[Ar])==null&&Ir.children.splice(Ar,1);return 0<Ir.children.length?Ir:tr(yr,Ir)}var En=si(ar.text).toUpperCase(),kn=si(yr.term).toUpperCase();return-1<En.indexOf(kn)?ar:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(tr){return tr},templateResult:function(tr){return tr.text},templateSelection:function(tr){return tr.text},theme:"default",width:"resolve"}},Vr.prototype.applyFromElement=function(si,tr){var yr=si.language,ar=this.defaults.language,Ir=tr.prop("lang"),Ar=tr.closest("[lang]").prop("lang"),En=Array.prototype.concat.call(this._resolveLanguage(Ir),this._resolveLanguage(yr),this._resolveLanguage(ar),this._resolveLanguage(Ar));return si.language=En,si},Vr.prototype._resolveLanguage=function(si){if(!si)return[];if(Ue.isEmptyObject(si))return[];if(Ue.isPlainObject(si))return[si];var tr;tr=Ue.isArray(si)?si:[si];for(var yr=[],ar=0;ar<tr.length;ar++)if(yr.push(tr[ar]),typeof tr[ar]=="string"&&0<tr[ar].indexOf("-")){var Ir=tr[ar].split("-")[0];yr.push(Ir)}return yr},Vr.prototype._processTranslations=function(si,tr){for(var yr=new Pt,ar=0;ar<si.length;ar++){var Ir=new Pt,Ar=si[ar];if(typeof Ar=="string")try{Ir=Pt.loadPath(Ar)}catch{try{Ar=this.defaults.amdLanguageBase+Ar,Ir=Pt.loadPath(Ar)}catch{tr&&window.console&&console.warn&&console.warn('Select2: The language file for "'+Ar+'" could not be automatically loaded. A fallback will be used instead.')}}else Ir=Ue.isPlainObject(Ar)?new Pt(Ar):Ar;yr.extend(Ir)}return yr},Vr.prototype.set=function(si,tr){var yr={};yr[Ue.camelCase(si)]=tr;var ar=ht._convertData(yr);Ue.extend(!0,this.defaults,ar)},new Vr}),m.define("select2/options",["require","jquery","./defaults","./utils"],function(Ue,Pe,De,te){function fe(le,Se){if(this.options=le,Se!=null&&this.fromElement(Se),Se!=null&&(this.options=De.applyFromElement(this.options,Se)),this.options=De.apply(this.options),Se&&Se.is("input")){var Re=Ue(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=te.Decorate(this.options.dataAdapter,Re)}}return fe.prototype.fromElement=function(le){var Se=["select2"];this.options.multiple==null&&(this.options.multiple=le.prop("multiple")),this.options.disabled==null&&(this.options.disabled=le.prop("disabled")),this.options.dir==null&&(le.prop("dir")?this.options.dir=le.prop("dir"):le.closest("[dir]").prop("dir")?this.options.dir=le.closest("[dir]").prop("dir"):this.options.dir="ltr"),le.prop("disabled",this.options.disabled),le.prop("multiple",this.options.multiple),te.GetData(le[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),te.StoreData(le[0],"data",te.GetData(le[0],"select2Tags")),te.StoreData(le[0],"tags",!0)),te.GetData(le[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),le.attr("ajax--url",te.GetData(le[0],"ajaxUrl")),te.StoreData(le[0],"ajax-Url",te.GetData(le[0],"ajaxUrl")));var Re={};function ot(Ot,hi){return hi.toUpperCase()}for(var ht=0;ht<le[0].attributes.length;ht++){var Pt=le[0].attributes[ht].name,Ne="data-";if(Pt.substr(0,Ne.length)==Ne){var Ze=Pt.substring(Ne.length),Ie=te.GetData(le[0],Ze);Re[Ze.replace(/-([a-z])/g,ot)]=Ie}}Pe.fn.jquery&&Pe.fn.jquery.substr(0,2)=="1."&&le[0].dataset&&(Re=Pe.extend(!0,{},le[0].dataset,Re));var We=Pe.extend(!0,{},te.GetData(le[0]),Re);for(var rt in We=te._convertData(We))-1<Pe.inArray(rt,Se)||(Pe.isPlainObject(this.options[rt])?Pe.extend(this.options[rt],We[rt]):this.options[rt]=We[rt]);return this},fe.prototype.get=function(le){return this.options[le]},fe.prototype.set=function(le,Se){this.options[le]=Se},fe}),m.define("select2/core",["jquery","./options","./utils","./keys"],function(Ue,Pe,De,te){var fe=function(le,Se){De.GetData(le[0],"select2")!=null&&De.GetData(le[0],"select2").destroy(),this.$element=le,this.id=this._generateId(le),Se=Se||{},this.options=new Pe(Se,le),fe.__super__.constructor.call(this);var Re=le.attr("tabindex")||0;De.StoreData(le[0],"old-tabindex",Re),le.attr("tabindex","-1");var ot=this.options.get("dataAdapter");this.dataAdapter=new ot(le,this.options);var ht=this.render();this._placeContainer(ht);var Pt=this.options.get("selectionAdapter");this.selection=new Pt(le,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,ht);var Ne=this.options.get("dropdownAdapter");this.dropdown=new Ne(le,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,ht);var Ze=this.options.get("resultsAdapter");this.results=new Ze(le,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var Ie=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(We){Ie.trigger("selection:update",{data:We})}),le.addClass("select2-hidden-accessible"),le.attr("aria-hidden","true"),this._syncAttributes(),De.StoreData(le[0],"select2",this),le.data("select2",this)};return De.Extend(fe,De.Observable),fe.prototype._generateId=function(le){return"select2-"+(le.attr("id")!=null?le.attr("id"):le.attr("name")!=null?le.attr("name")+"-"+De.generateChars(2):De.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},fe.prototype._placeContainer=function(le){le.insertAfter(this.$element);var Se=this._resolveWidth(this.$element,this.options.get("width"));Se!=null&&le.css("width",Se)},fe.prototype._resolveWidth=function(le,Se){var Re=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(Se=="resolve"){var ot=this._resolveWidth(le,"style");return ot??this._resolveWidth(le,"element")}if(Se=="element"){var ht=le.outerWidth(!1);return ht<=0?"auto":ht+"px"}if(Se!="style")return Se!="computedstyle"?Se:window.getComputedStyle(le[0]).width;var Pt=le.attr("style");if(typeof Pt!="string")return null;for(var Ne=Pt.split(";"),Ze=0,Ie=Ne.length;Ze<Ie;Ze+=1){var We=Ne[Ze].replace(/\s/g,"").match(Re);if(We!==null&&1<=We.length)return We[1]}return null},fe.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},fe.prototype._registerDomEvents=function(){var le=this;this.$element.on("change.select2",function(){le.dataAdapter.current(function(Re){le.trigger("selection:update",{data:Re})})}),this.$element.on("focus.select2",function(Re){le.trigger("focus",Re)}),this._syncA=De.bind(this._syncAttributes,this),this._syncS=De.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var Se=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;Se!=null?(this._observer=new Se(function(Re){le._syncA(),le._syncS(null,Re)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",le._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",le._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",le._syncS,!1))},fe.prototype._registerDataEvents=function(){var le=this;this.dataAdapter.on("*",function(Se,Re){le.trigger(Se,Re)})},fe.prototype._registerSelectionEvents=function(){var le=this,Se=["toggle","focus"];this.selection.on("toggle",function(){le.toggleDropdown()}),this.selection.on("focus",function(Re){le.focus(Re)}),this.selection.on("*",function(Re,ot){Ue.inArray(Re,Se)===-1&&le.trigger(Re,ot)})},fe.prototype._registerDropdownEvents=function(){var le=this;this.dropdown.on("*",function(Se,Re){le.trigger(Se,Re)})},fe.prototype._registerResultsEvents=function(){var le=this;this.results.on("*",function(Se,Re){le.trigger(Se,Re)})},fe.prototype._registerEvents=function(){var le=this;this.on("open",function(){le.$container.addClass("select2-container--open")}),this.on("close",function(){le.$container.removeClass("select2-container--open")}),this.on("enable",function(){le.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){le.$container.addClass("select2-container--disabled")}),this.on("blur",function(){le.$container.removeClass("select2-container--focus")}),this.on("query",function(Se){le.isOpen()||le.trigger("open",{}),this.dataAdapter.query(Se,function(Re){le.trigger("results:all",{data:Re,query:Se})})}),this.on("query:append",function(Se){this.dataAdapter.query(Se,function(Re){le.trigger("results:append",{data:Re,query:Se})})}),this.on("keypress",function(Se){var Re=Se.which;le.isOpen()?Re===te.ESC||Re===te.TAB||Re===te.UP&&Se.altKey?(le.close(Se),Se.preventDefault()):Re===te.ENTER?(le.trigger("results:select",{}),Se.preventDefault()):Re===te.SPACE&&Se.ctrlKey?(le.trigger("results:toggle",{}),Se.preventDefault()):Re===te.UP?(le.trigger("results:previous",{}),Se.preventDefault()):Re===te.DOWN&&(le.trigger("results:next",{}),Se.preventDefault()):(Re===te.ENTER||Re===te.SPACE||Re===te.DOWN&&Se.altKey)&&(le.open(),Se.preventDefault())})},fe.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},fe.prototype._isChangeMutation=function(le,Se){var Re=!1,ot=this;if(!le||!le.target||le.target.nodeName==="OPTION"||le.target.nodeName==="OPTGROUP"){if(Se)if(Se.addedNodes&&0<Se.addedNodes.length)for(var ht=0;ht<Se.addedNodes.length;ht++)Se.addedNodes[ht].selected&&(Re=!0);else Se.removedNodes&&0<Se.removedNodes.length?Re=!0:Ue.isArray(Se)&&Ue.each(Se,function(Pt,Ne){if(ot._isChangeMutation(Pt,Ne))return!(Re=!0)});else Re=!0;return Re}},fe.prototype._syncSubtree=function(le,Se){var Re=this._isChangeMutation(le,Se),ot=this;Re&&this.dataAdapter.current(function(ht){ot.trigger("selection:update",{data:ht})})},fe.prototype.trigger=function(le,Se){var Re=fe.__super__.trigger,ot={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(Se===void 0&&(Se={}),le in ot){var ht=ot[le],Pt={prevented:!1,name:le,args:Se};if(Re.call(this,ht,Pt),Pt.prevented)return void(Se.prevented=!0)}Re.call(this,le,Se)},fe.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},fe.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},fe.prototype.close=function(le){this.isOpen()&&this.trigger("close",{originalEvent:le})},fe.prototype.isEnabled=function(){return!this.isDisabled()},fe.prototype.isDisabled=function(){return this.options.get("disabled")},fe.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},fe.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},fe.prototype.focus=function(le){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},fe.prototype.enable=function(le){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),le!=null&&le.length!==0||(le=[!0]);var Se=!le[0];this.$element.prop("disabled",Se)},fe.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var le=[];return this.dataAdapter.current(function(Se){le=Se}),le},fe.prototype.val=function(le){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),le==null||le.length===0)return this.$element.val();var Se=le[0];Ue.isArray(Se)&&(Se=Ue.map(Se,function(Re){return Re.toString()})),this.$element.val(Se).trigger("input").trigger("change")},fe.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",De.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),De.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},fe.prototype.render=function(){var le=Ue('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return le.attr("dir",this.options.get("dir")),this.$container=le,this.$container.addClass("select2-container--"+this.options.get("theme")),De.StoreData(le[0],"element",this.$element),le},fe}),m.define("jquery-mousewheel",["jquery"],function(Ue){return Ue}),m.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(Ue,Pe,De,te,fe){if(Ue.fn.select2==null){var le=["open","close","destroy"];Ue.fn.select2=function(Se){if(typeof(Se=Se||{})=="object")return this.each(function(){var ht=Ue.extend(!0,{},Se);new De(Ue(this),ht)}),this;if(typeof Se!="string")throw new Error("Invalid arguments for Select2: "+Se);var Re,ot=Array.prototype.slice.call(arguments,1);return this.each(function(){var ht=fe.GetData(this,"select2");ht==null&&window.console&&console.error&&console.error("The select2('"+Se+"') method was called on an element that is not using Select2."),Re=ht[Se].apply(ht,ot)}),-1<Ue.inArray(Se,le)?this:Re}}return Ue.fn.select2.defaults==null&&(Ue.fn.select2.defaults=te),De}),{define:m.define,require:m.require}}(),p=h.require("jquery.select2");return r.fn.select2.amd=h,p})})(LK);$.fn.select2.defaults.set("theme","bootstrap4");var j5={},RK={get exports(){return j5},set exports(e){j5=e}};/*!
 * jQuery Validation Plugin v1.19.5
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2022 JÃ¶rn Zaefferer
 * Released under the MIT license
 */(function(e){(function(r){e.exports?e.exports=r(Jh()):r(jQuery)})(function(r){r.extend(r.fn,{validate:function(x){if(!this.length){x&&x.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var w=r.data(this[0],"validator");return w||(this.attr("novalidate","novalidate"),w=new r.validator(x,this[0]),r.data(this[0],"validator",w),w.settings.onsubmit&&(this.on("click.validate",":submit",function(l){w.submitButton=l.currentTarget,r(this).hasClass("cancel")&&(w.cancelSubmit=!0),r(this).attr("formnovalidate")!==void 0&&(w.cancelSubmit=!0)}),this.on("submit.validate",function(l){w.settings.debug&&l.preventDefault();function L(){var H,q;return w.submitButton&&(w.settings.submitHandler||w.formSubmitted)&&(H=r("<input type='hidden'/>").attr("name",w.submitButton.name).val(r(w.submitButton).val()).appendTo(w.currentForm)),w.settings.submitHandler&&!w.settings.debug?(q=w.settings.submitHandler.call(w,w.currentForm,l),H&&H.remove(),q!==void 0?q:!1):!0}return w.cancelSubmit?(w.cancelSubmit=!1,L()):w.form()?w.pendingRequest?(w.formSubmitted=!0,!1):L():(w.focusInvalid(),!1)})),w)},valid:function(){var x,w,l;return r(this[0]).is("form")?x=this.validate().form():(l=[],x=!0,w=r(this[0].form).validate(),this.each(function(){x=w.element(this)&&x,x||(l=l.concat(w.errorList))}),w.errorList=l),x},rules:function(x,w){var l=this[0],L=typeof this.attr("contenteditable")<"u"&&this.attr("contenteditable")!=="false",H,q,J,oe,de,ye;if(l!=null&&(!l.form&&L&&(l.form=this.closest("form")[0],l.name=this.attr("name")),l.form!=null)){if(x)switch(H=r.data(l.form,"validator").settings,q=H.rules,J=r.validator.staticRules(l),x){case"add":r.extend(J,r.validator.normalizeRule(w)),delete J.messages,q[l.name]=J,w.messages&&(H.messages[l.name]=r.extend(H.messages[l.name],w.messages));break;case"remove":return w?(ye={},r.each(w.split(/\s/),function(ne,X){ye[X]=J[X],delete J[X]}),ye):(delete q[l.name],J)}return oe=r.validator.normalizeRules(r.extend({},r.validator.classRules(l),r.validator.attributeRules(l),r.validator.dataRules(l),r.validator.staticRules(l)),l),oe.required&&(de=oe.required,delete oe.required,oe=r.extend({required:de},oe)),oe.remote&&(de=oe.remote,delete oe.remote,oe=r.extend(oe,{remote:de})),oe}}});var h=function(x){return x.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};r.extend(r.expr.pseudos||r.expr[":"],{blank:function(x){return!h(""+r(x).val())},filled:function(x){var w=r(x).val();return w!==null&&!!h(""+w)},unchecked:function(x){return!r(x).prop("checked")}}),r.validator=function(x,w){this.settings=r.extend(!0,{},r.validator.defaults,x),this.currentForm=w,this.init()},r.validator.format=function(x,w){return arguments.length===1?function(){var l=r.makeArray(arguments);return l.unshift(x),r.validator.format.apply(this,l)}:(w===void 0||(arguments.length>2&&w.constructor!==Array&&(w=r.makeArray(arguments).slice(1)),w.constructor!==Array&&(w=[w]),r.each(w,function(l,L){x=x.replace(new RegExp("\\{"+l+"\\}","g"),function(){return L})})),x)},r.extend(r.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:r([]),errorLabelContainer:r([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(x){this.lastActive=x,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,x,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(x)))},onfocusout:function(x){!this.checkable(x)&&(x.name in this.submitted||!this.optional(x))&&this.element(x)},onkeyup:function(x,w){var l=[16,17,18,20,35,36,37,38,39,40,45,144,225];w.which===9&&this.elementValue(x)===""||r.inArray(w.keyCode,l)!==-1||(x.name in this.submitted||x.name in this.invalid)&&this.element(x)},onclick:function(x){x.name in this.submitted?this.element(x):x.parentNode.name in this.submitted&&this.element(x.parentNode)},highlight:function(x,w,l){x.type==="radio"?this.findByName(x.name).addClass(w).removeClass(l):r(x).addClass(w).removeClass(l)},unhighlight:function(x,w,l){x.type==="radio"?this.findByName(x.name).removeClass(w).addClass(l):r(x).removeClass(w).addClass(l)}},setDefaults:function(x){r.extend(r.validator.defaults,x)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:r.validator.format("Please enter no more than {0} characters."),minlength:r.validator.format("Please enter at least {0} characters."),rangelength:r.validator.format("Please enter a value between {0} and {1} characters long."),range:r.validator.format("Please enter a value between {0} and {1}."),max:r.validator.format("Please enter a value less than or equal to {0}."),min:r.validator.format("Please enter a value greater than or equal to {0}."),step:r.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=r(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||r(this.currentForm),this.containers=r(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var x=this.currentForm,w=this.groups={},l;r.each(this.settings.groups,function(H,q){typeof q=="string"&&(q=q.split(/\s/)),r.each(q,function(J,oe){w[oe]=H})}),l=this.settings.rules,r.each(l,function(H,q){l[H]=r.validator.normalizeRule(q)});function L(H){var q=typeof r(this).attr("contenteditable")<"u"&&r(this).attr("contenteditable")!=="false";if(!this.form&&q&&(this.form=r(this).closest("form")[0],this.name=r(this).attr("name")),x===this.form){var J=r.data(this.form,"validator"),oe="on"+H.type.replace(/^validate/,""),de=J.settings;de[oe]&&!r(this).is(de.ignore)&&de[oe].call(J,this,H)}}r(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",L).on("click.validate","select, option, [type='radio'], [type='checkbox']",L),this.settings.invalidHandler&&r(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),r.extend(this.submitted,this.errorMap),this.invalid=r.extend({},this.errorMap),this.valid()||r(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var x=0,w=this.currentElements=this.elements();w[x];x++)this.check(w[x]);return this.valid()},element:function(x){var w=this.clean(x),l=this.validationTargetFor(w),L=this,H=!0,q,J;return l===void 0?delete this.invalid[w.name]:(this.prepareElement(l),this.currentElements=r(l),J=this.groups[l.name],J&&r.each(this.groups,function(oe,de){de===J&&oe!==l.name&&(w=L.validationTargetFor(L.clean(L.findByName(oe))),w&&w.name in L.invalid&&(L.currentElements.push(w),H=L.check(w)&&H))}),q=this.check(l)!==!1,H=H&&q,q?this.invalid[l.name]=!1:this.invalid[l.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r(x).attr("aria-invalid",!q)),H},showErrors:function(x){if(x){var w=this;r.extend(this.errorMap,x),this.errorList=r.map(this.errorMap,function(l,L){return{message:l,element:w.findByName(L)[0]}}),this.successList=r.grep(this.successList,function(l){return!(l.name in x)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){r.fn.resetForm&&r(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var x=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(x)},resetElements:function(x){var w;if(this.settings.unhighlight)for(w=0;x[w];w++)this.settings.unhighlight.call(this,x[w],this.settings.errorClass,""),this.findByName(x[w].name).removeClass(this.settings.validClass);else x.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(x){var w=0,l;for(l in x)x[l]!==void 0&&x[l]!==null&&x[l]!==!1&&w++;return w},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(x){x.not(this.containers).text(""),this.addWrapper(x).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{r(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch{}},findLastActive:function(){var x=this.lastActive;return x&&r.grep(this.errorList,function(w){return w.element.name===x.name}).length===1&&x},elements:function(){var x=this,w={};return r(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var l=this.name||r(this).attr("name"),L=typeof r(this).attr("contenteditable")<"u"&&r(this).attr("contenteditable")!=="false";return!l&&x.settings.debug&&window.console&&console.error("%o has no name assigned",this),L&&(this.form=r(this).closest("form")[0],this.name=l),this.form!==x.currentForm||l in w||!x.objectLength(r(this).rules())?!1:(w[l]=!0,!0)})},clean:function(x){return r(x)[0]},errors:function(){var x=this.settings.errorClass.split(" ").join(".");return r(this.settings.errorElement+"."+x,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=r([]),this.toHide=r([])},reset:function(){this.resetInternals(),this.currentElements=r([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(x){this.reset(),this.toHide=this.errorsFor(x)},elementValue:function(x){var w=r(x),l=x.type,L=typeof w.attr("contenteditable")<"u"&&w.attr("contenteditable")!=="false",H,q;return l==="radio"||l==="checkbox"?this.findByName(x.name).filter(":checked").val():l==="number"&&typeof x.validity<"u"?x.validity.badInput?"NaN":w.val():(L?H=w.text():H=w.val(),l==="file"?H.substr(0,12)==="C:\\fakepath\\"?H.substr(12):(q=H.lastIndexOf("/"),q>=0||(q=H.lastIndexOf("\\"),q>=0)?H.substr(q+1):H):typeof H=="string"?H.replace(/\r/g,""):H)},check:function(x){x=this.validationTargetFor(this.clean(x));var w=r(x).rules(),l=r.map(w,function(ye,ne){return ne}).length,L=!1,H=this.elementValue(x),q,J,oe,de;typeof w.normalizer=="function"?de=w.normalizer:typeof this.settings.normalizer=="function"&&(de=this.settings.normalizer),de&&(H=de.call(x,H),delete w.normalizer);for(J in w){oe={method:J,parameters:w[J]};try{if(q=r.validator.methods[J].call(this,H,x,oe.parameters),q==="dependency-mismatch"&&l===1){L=!0;continue}if(L=!1,q==="pending"){this.toHide=this.toHide.not(this.errorsFor(x));return}if(!q)return this.formatAndAdd(x,oe),!1}catch(ye){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+x.id+", check the '"+oe.method+"' method.",ye),ye instanceof TypeError&&(ye.message+=".  Exception occurred when checking element "+x.id+", check the '"+oe.method+"' method."),ye}}if(!L)return this.objectLength(w)&&this.successList.push(x),!0},customDataMessage:function(x,w){return r(x).data("msg"+w.charAt(0).toUpperCase()+w.substring(1).toLowerCase())||r(x).data("msg")},customMessage:function(x,w){var l=this.settings.messages[x];return l&&(l.constructor===String?l:l[w])},findDefined:function(){for(var x=0;x<arguments.length;x++)if(arguments[x]!==void 0)return arguments[x]},defaultMessage:function(x,w){typeof w=="string"&&(w={method:w});var l=this.findDefined(this.customMessage(x.name,w.method),this.customDataMessage(x,w.method),!this.settings.ignoreTitle&&x.title||void 0,r.validator.messages[w.method],"<strong>Warning: No message defined for "+x.name+"</strong>"),L=/\$?\{(\d+)\}/g;return typeof l=="function"?l=l.call(this,w.parameters,x):L.test(l)&&(l=r.validator.format(l.replace(L,"{$1}"),w.parameters)),l},formatAndAdd:function(x,w){var l=this.defaultMessage(x,w);this.errorList.push({message:l,element:x,method:w.method}),this.errorMap[x.name]=l,this.submitted[x.name]=l},addWrapper:function(x){return this.settings.wrapper&&(x=x.add(x.parent(this.settings.wrapper))),x},defaultShowErrors:function(){var x,w,l;for(x=0;this.errorList[x];x++)l=this.errorList[x],this.settings.highlight&&this.settings.highlight.call(this,l.element,this.settings.errorClass,this.settings.validClass),this.showLabel(l.element,l.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(x=0;this.successList[x];x++)this.showLabel(this.successList[x]);if(this.settings.unhighlight)for(x=0,w=this.validElements();w[x];x++)this.settings.unhighlight.call(this,w[x],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return r(this.errorList).map(function(){return this.element})},showLabel:function(x,w){var l,L,H,q,J=this.errorsFor(x),oe=this.idOrName(x),de=r(x).attr("aria-describedby");J.length?(J.removeClass(this.settings.validClass).addClass(this.settings.errorClass),J.html(w)):(J=r("<"+this.settings.errorElement+">").attr("id",oe+"-error").addClass(this.settings.errorClass).html(w||""),l=J,this.settings.wrapper&&(l=J.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(l):this.settings.errorPlacement?this.settings.errorPlacement.call(this,l,r(x)):l.insertAfter(x),J.is("label")?J.attr("for",oe):J.parents("label[for='"+this.escapeCssMeta(oe)+"']").length===0&&(H=J.attr("id"),de?de.match(new RegExp("\\b"+this.escapeCssMeta(H)+"\\b"))||(de+=" "+H):de=H,r(x).attr("aria-describedby",de),L=this.groups[x.name],L&&(q=this,r.each(q.groups,function(ye,ne){ne===L&&r("[name='"+q.escapeCssMeta(ye)+"']",q.currentForm).attr("aria-describedby",J.attr("id"))})))),!w&&this.settings.success&&(J.text(""),typeof this.settings.success=="string"?J.addClass(this.settings.success):this.settings.success(J,x)),this.toShow=this.toShow.add(J)},errorsFor:function(x){var w=this.escapeCssMeta(this.idOrName(x)),l=r(x).attr("aria-describedby"),L="label[for='"+w+"'], label[for='"+w+"'] *";return l&&(L=L+", #"+this.escapeCssMeta(l).replace(/\s+/g,", #")),this.errors().filter(L)},escapeCssMeta:function(x){return x===void 0?"":x.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(x){return this.groups[x.name]||(this.checkable(x)?x.name:x.id||x.name)},validationTargetFor:function(x){return this.checkable(x)&&(x=this.findByName(x.name)),r(x).not(this.settings.ignore)[0]},checkable:function(x){return/radio|checkbox/i.test(x.type)},findByName:function(x){return r(this.currentForm).find("[name='"+this.escapeCssMeta(x)+"']")},getLength:function(x,w){switch(w.nodeName.toLowerCase()){case"select":return r("option:selected",w).length;case"input":if(this.checkable(w))return this.findByName(w.name).filter(":checked").length}return x.length},depend:function(x,w){return this.dependTypes[typeof x]?this.dependTypes[typeof x](x,w):!0},dependTypes:{boolean:function(x){return x},string:function(x,w){return!!r(x,w.form).length},function:function(x,w){return x(w)}},optional:function(x){var w=this.elementValue(x);return!r.validator.methods.required.call(this,w,x)&&"dependency-mismatch"},startRequest:function(x){this.pending[x.name]||(this.pendingRequest++,r(x).addClass(this.settings.pendingClass),this.pending[x.name]=!0)},stopRequest:function(x,w){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[x.name],r(x).removeClass(this.settings.pendingClass),w&&this.pendingRequest===0&&this.formSubmitted&&this.form()&&this.pendingRequest===0?(r(this.currentForm).trigger("submit"),this.submitButton&&r("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!w&&this.pendingRequest===0&&this.formSubmitted&&(r(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(x,w){return w=typeof w=="string"&&w||"remote",r.data(x,"previousValue")||r.data(x,"previousValue",{old:null,valid:!0,message:this.defaultMessage(x,{method:w})})},destroy:function(){this.resetForm(),r(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(x,w){x.constructor===String?this.classRuleSettings[x]=w:r.extend(this.classRuleSettings,x)},classRules:function(x){var w={},l=r(x).attr("class");return l&&r.each(l.split(" "),function(){this in r.validator.classRuleSettings&&r.extend(w,r.validator.classRuleSettings[this])}),w},normalizeAttributeRule:function(x,w,l,L){/min|max|step/.test(l)&&(w===null||/number|range|text/.test(w))&&(L=Number(L),isNaN(L)&&(L=void 0)),L||L===0?x[l]=L:w===l&&w!=="range"&&(x[w==="date"?"dateISO":l]=!0)},attributeRules:function(x){var w={},l=r(x),L=x.getAttribute("type"),H,q;for(H in r.validator.methods)H==="required"?(q=x.getAttribute(H),q===""&&(q=!0),q=!!q):q=l.attr(H),this.normalizeAttributeRule(w,L,H,q);return w.maxlength&&/-1|2147483647|524288/.test(w.maxlength)&&delete w.maxlength,w},dataRules:function(x){var w={},l=r(x),L=x.getAttribute("type"),H,q;for(H in r.validator.methods)q=l.data("rule"+H.charAt(0).toUpperCase()+H.substring(1).toLowerCase()),q===""&&(q=!0),this.normalizeAttributeRule(w,L,H,q);return w},staticRules:function(x){var w={},l=r.data(x.form,"validator");return l.settings.rules&&(w=r.validator.normalizeRule(l.settings.rules[x.name])||{}),w},normalizeRules:function(x,w){return r.each(x,function(l,L){if(L===!1){delete x[l];return}if(L.param||L.depends){var H=!0;switch(typeof L.depends){case"string":H=!!r(L.depends,w.form).length;break;case"function":H=L.depends.call(w,w);break}H?x[l]=L.param!==void 0?L.param:!0:(r.data(w.form,"validator").resetElements(r(w)),delete x[l])}}),r.each(x,function(l,L){x[l]=typeof L=="function"&&l!=="normalizer"?L(w):L}),r.each(["minlength","maxlength"],function(){x[this]&&(x[this]=Number(x[this]))}),r.each(["rangelength","range"],function(){var l;x[this]&&(Array.isArray(x[this])?x[this]=[Number(x[this][0]),Number(x[this][1])]:typeof x[this]=="string"&&(l=x[this].replace(/[\[\]]/g,"").split(/[\s,]+/),x[this]=[Number(l[0]),Number(l[1])]))}),r.validator.autoCreateRanges&&(x.min!=null&&x.max!=null&&(x.range=[x.min,x.max],delete x.min,delete x.max),x.minlength!=null&&x.maxlength!=null&&(x.rangelength=[x.minlength,x.maxlength],delete x.minlength,delete x.maxlength)),x},normalizeRule:function(x){if(typeof x=="string"){var w={};r.each(x.split(/\s/),function(){w[this]=!0}),x=w}return x},addMethod:function(x,w,l){r.validator.methods[x]=w,r.validator.messages[x]=l!==void 0?l:r.validator.messages[x],w.length<3&&r.validator.addClassRules(x,r.validator.normalizeRule(x))},methods:{required:function(x,w,l){if(!this.depend(l,w))return"dependency-mismatch";if(w.nodeName.toLowerCase()==="select"){var L=r(w).val();return L&&L.length>0}return this.checkable(w)?this.getLength(x,w)>0:x!=null&&x.length>0},email:function(x,w){return this.optional(w)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(x)},url:function(x,w){return this.optional(w)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(x)},date:function(){var x=!1;return function(w,l){return x||(x=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(l)||!/Invalid|NaN/.test(new Date(w).toString())}}(),dateISO:function(x,w){return this.optional(w)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(x)},number:function(x,w){return this.optional(w)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(x)},digits:function(x,w){return this.optional(w)||/^\d+$/.test(x)},minlength:function(x,w,l){var L=Array.isArray(x)?x.length:this.getLength(x,w);return this.optional(w)||L>=l},maxlength:function(x,w,l){var L=Array.isArray(x)?x.length:this.getLength(x,w);return this.optional(w)||L<=l},rangelength:function(x,w,l){var L=Array.isArray(x)?x.length:this.getLength(x,w);return this.optional(w)||L>=l[0]&&L<=l[1]},min:function(x,w,l){return this.optional(w)||x>=l},max:function(x,w,l){return this.optional(w)||x<=l},range:function(x,w,l){return this.optional(w)||x>=l[0]&&x<=l[1]},step:function(x,w,l){var L=r(w).attr("type"),H="Step attribute on input type "+L+" is not supported.",q=["text","number","range"],J=new RegExp("\\b"+L+"\\b"),oe=L&&!J.test(q.join()),de=function(pe){var ve=(""+pe).match(/(?:\.(\d+))?$/);return ve&&ve[1]?ve[1].length:0},ye=function(pe){return Math.round(pe*Math.pow(10,X))},ne=!0,X;if(oe)throw new Error(H);return X=de(l),(de(x)>X||ye(x)%ye(l)!==0)&&(ne=!1),this.optional(w)||ne},equalTo:function(x,w,l){var L=r(l);return this.settings.onfocusout&&L.not(".validate-equalTo-blur").length&&L.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){r(w).valid()}),x===L.val()},remote:function(x,w,l,L){if(this.optional(w))return"dependency-mismatch";L=typeof L=="string"&&L||"remote";var H=this.previousValue(w,L),q,J,oe;return this.settings.messages[w.name]||(this.settings.messages[w.name]={}),H.originalMessage=H.originalMessage||this.settings.messages[w.name][L],this.settings.messages[w.name][L]=H.message,l=typeof l=="string"&&{url:l}||l,oe=r.param(r.extend({data:x},l.data)),H.old===oe?H.valid:(H.old=oe,q=this,this.startRequest(w),J={},J[w.name]=x,r.ajax(r.extend(!0,{mode:"abort",port:"validate"+w.name,dataType:"json",data:J,context:q.currentForm,success:function(de){var ye=de===!0||de==="true",ne,X,pe;q.settings.messages[w.name][L]=H.originalMessage,ye?(pe=q.formSubmitted,q.resetInternals(),q.toHide=q.errorsFor(w),q.formSubmitted=pe,q.successList.push(w),q.invalid[w.name]=!1,q.showErrors()):(ne={},X=de||q.defaultMessage(w,{method:L,parameters:x}),ne[w.name]=H.message=X,q.invalid[w.name]=!0,q.showErrors(ne)),H.valid=ye,q.stopRequest(w,ye)}},l)),"pending")}}});var p={},m;return r.ajaxPrefilter?r.ajaxPrefilter(function(x,w,l){var L=x.port;x.mode==="abort"&&(p[L]&&p[L].abort(),p[L]=l)}):(m=r.ajax,r.ajax=function(x){var w=("mode"in x?x:r.ajaxSettings).mode,l=("port"in x?x:r.ajaxSettings).port;return w==="abort"?(p[l]&&p[l].abort(),p[l]=m.apply(this,arguments),p[l]):m.apply(this,arguments)}),r})})(RK);var V5={},zK={get exports(){return V5},set exports(e){V5=e}};/*!
 * jQuery Validation Plugin v1.19.5
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2022 JÃ¶rn Zaefferer
 * Released under the MIT license
 */(function(e){(function(r){e.exports?e.exports=r(Jh()):r(jQuery)})(function(r){return function(){function h(p){return p.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g,"")}r.validator.addMethod("maxWords",function(p,m,x){return this.optional(m)||h(p).match(/\b\w+\b/g).length<=x},r.validator.format("Please enter {0} words or less.")),r.validator.addMethod("minWords",function(p,m,x){return this.optional(m)||h(p).match(/\b\w+\b/g).length>=x},r.validator.format("Please enter at least {0} words.")),r.validator.addMethod("rangeWords",function(p,m,x){var w=h(p),l=/\b\w+\b/g;return this.optional(m)||w.match(l).length>=x[0]&&w.match(l).length<=x[1]},r.validator.format("Please enter between {0} and {1} words."))}(),r.validator.addMethod("abaRoutingNumber",function(h){var p=0,m=h.split(""),x=m.length;if(x!==9)return!1;for(var w=0;w<x;w+=3)p+=parseInt(m[w],10)*3+parseInt(m[w+1],10)*7+parseInt(m[w+2],10);return p!==0&&p%10===0},"Please enter a valid routing number."),r.validator.addMethod("accept",function(h,p,m){var x=typeof m=="string"?m.replace(/\s/g,""):"image/*",w=this.optional(p),l,L,H;if(w)return w;if(r(p).attr("type")==="file"&&(x=x.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),p.files&&p.files.length)){for(H=new RegExp(".?("+x+")$","i"),l=0;l<p.files.length;l++)if(L=p.files[l],!L.type.match(H))return!1}return!0},r.validator.format("Please enter a value with a valid mimetype.")),r.validator.addMethod("alphanumeric",function(h,p){return this.optional(p)||/^\w+$/i.test(h)},"Letters, numbers, and underscores only please."),r.validator.addMethod("bankaccountNL",function(h,p){if(this.optional(p))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(h))return!1;var m=h.replace(/ /g,""),x=0,w=m.length,l,L,H;for(l=0;l<w;l++)L=w-l,H=m.substring(l,l+1),x=x+L*H;return x%11===0},"Please specify a valid bank account number."),r.validator.addMethod("bankorgiroaccountNL",function(h,p){return this.optional(p)||r.validator.methods.bankaccountNL.call(this,h,p)||r.validator.methods.giroaccountNL.call(this,h,p)},"Please specify a valid bank or giro account number."),r.validator.addMethod("bic",function(h,p){return this.optional(p)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(h.toUpperCase())},"Please specify a valid BIC code."),r.validator.addMethod("cifES",function(h,p){if(this.optional(p))return!0;var m=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),x=h.substring(0,1),w=h.substring(1,8),l=h.substring(8,9),L=0,H=0,q=0,J,oe,de,ye;function ne(X){return X%2===0}if(h.length!==9||!m.test(h))return!1;for(J=0;J<w.length;J++)oe=parseInt(w[J],10),ne(J)?(oe*=2,q+=oe<10?oe:oe-9):H+=oe;return L=H+q,de=(10-L.toString().substr(-1)).toString(),de=parseInt(de,10)>9?"0":de,ye="JABCDEFGHI".substr(de,1).toString(),x.match(/[ABEH]/)?l===de:x.match(/[KPQS]/)?l===ye:l===de||l===ye},"Please specify a valid CIF number."),r.validator.addMethod("cnhBR",function(h){if(h=h.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),h.length!==11)return!1;var p=0,m=0,x,w,l,L,H;if(x=h.charAt(0),new Array(12).join(x)===h)return!1;for(L=0,H=9,0;L<9;++L,--H)p+=+(h.charAt(L)*H);for(w=p%11,w>=10&&(w=0,m=2),p=0,L=0,H=1,0;L<9;++L,++H)p+=+(h.charAt(L)*H);return l=p%11,l>=10?l=0:l=l-m,String(w).concat(l)===h.substr(-2)},"Please specify a valid CNH number."),r.validator.addMethod("cnpjBR",function(h,p){if(this.optional(p))return!0;if(h=h.replace(/[^\d]+/g,""),h.length!==14||h==="00000000000000"||h==="11111111111111"||h==="22222222222222"||h==="33333333333333"||h==="44444444444444"||h==="55555555555555"||h==="66666666666666"||h==="77777777777777"||h==="88888888888888"||h==="99999999999999")return!1;for(var m=h.length-2,x=h.substring(0,m),w=h.substring(m),l=0,L=m-7,H=m;H>=1;H--)l+=x.charAt(m-H)*L--,L<2&&(L=9);var q=l%11<2?0:11-l%11;if(q!==parseInt(w.charAt(0),10))return!1;m=m+1,x=h.substring(0,m),l=0,L=m-7;for(var J=m;J>=1;J--)l+=x.charAt(m-J)*L--,L<2&&(L=9);return q=l%11<2?0:11-l%11,q===parseInt(w.charAt(1),10)},"Please specify a CNPJ value number."),r.validator.addMethod("cpfBR",function(h,p){if(this.optional(p))return!0;if(h=h.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),h.length!==11)return!1;var m=0,x,w,l,L;if(x=parseInt(h.substring(9,10),10),w=parseInt(h.substring(10,11),10),l=function(H,q){var J=H*10%11;return(J===10||J===11)&&(J=0),J===q},h===""||h==="00000000000"||h==="11111111111"||h==="22222222222"||h==="33333333333"||h==="44444444444"||h==="55555555555"||h==="66666666666"||h==="77777777777"||h==="88888888888"||h==="99999999999")return!1;for(L=1;L<=9;L++)m=m+parseInt(h.substring(L-1,L),10)*(11-L);if(l(m,x)){for(m=0,L=1;L<=10;L++)m=m+parseInt(h.substring(L-1,L),10)*(12-L);return l(m,w)}return!1},"Please specify a valid CPF number."),r.validator.addMethod("creditcard",function(h,p){if(this.optional(p))return"dependency-mismatch";if(/[^0-9 \-]+/.test(h))return!1;var m=0,x=0,w=!1,l,L;if(h=h.replace(/\D/g,""),h.length<13||h.length>19)return!1;for(l=h.length-1;l>=0;l--)L=h.charAt(l),x=parseInt(L,10),w&&(x*=2)>9&&(x-=9),m+=x,w=!w;return m%10===0},"Please enter a valid credit card number."),r.validator.addMethod("creditcardtypes",function(h,p,m){if(/[^0-9\-]+/.test(h))return!1;h=h.replace(/\D/g,"");var x=0;return m.mastercard&&(x|=1),m.visa&&(x|=2),m.amex&&(x|=4),m.dinersclub&&(x|=8),m.enroute&&(x|=16),m.discover&&(x|=32),m.jcb&&(x|=64),m.unknown&&(x|=128),m.all&&(x=255),x&1&&(/^(5[12345])/.test(h)||/^(2[234567])/.test(h))||x&2&&/^(4)/.test(h)?h.length===16:x&4&&/^(3[47])/.test(h)?h.length===15:x&8&&/^(3(0[012345]|[68]))/.test(h)?h.length===14:x&16&&/^(2(014|149))/.test(h)?h.length===15:x&32&&/^(6011)/.test(h)||x&64&&/^(3)/.test(h)?h.length===16:x&64&&/^(2131|1800)/.test(h)?h.length===15:!!(x&128)},"Please enter a valid credit card number."),r.validator.addMethod("currency",function(h,p,m){var x=typeof m=="string",w=x?m:m[0],l=x?!0:m[1],L;return w=w.replace(/,/g,""),w=l?w+"]":w+"]?",L="^["+w+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",L=new RegExp(L),this.optional(p)||L.test(h)},"Please specify a valid currency."),r.validator.addMethod("dateFA",function(h,p){return this.optional(p)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(h)},r.validator.messages.date),r.validator.addMethod("dateITA",function(h,p){var m=!1,x=/^\d{1,2}\/\d{1,2}\/\d{4}$/,w,l,L,H,q;return x.test(h)?(w=h.split("/"),l=parseInt(w[0],10),L=parseInt(w[1],10),H=parseInt(w[2],10),q=new Date(Date.UTC(H,L-1,l,12,0,0,0)),q.getUTCFullYear()===H&&q.getUTCMonth()===L-1&&q.getUTCDate()===l?m=!0:m=!1):m=!1,this.optional(p)||m},r.validator.messages.date),r.validator.addMethod("dateNL",function(h,p){return this.optional(p)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(h)},r.validator.messages.date),r.validator.addMethod("extension",function(h,p,m){return m=typeof m=="string"?m.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(p)||h.match(new RegExp("\\.("+m+")$","i"))},r.validator.format("Please enter a value with a valid extension.")),r.validator.addMethod("giroaccountNL",function(h,p){return this.optional(p)||/^[0-9]{1,7}$/.test(h)},"Please specify a valid giro account number."),r.validator.addMethod("greaterThan",function(h,p,m){var x=r(m);return this.settings.onfocusout&&x.not(".validate-greaterThan-blur").length&&x.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){r(p).valid()}),h>x.val()},"Please enter a greater value."),r.validator.addMethod("greaterThanEqual",function(h,p,m){var x=r(m);return this.settings.onfocusout&&x.not(".validate-greaterThanEqual-blur").length&&x.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){r(p).valid()}),h>=x.val()},"Please enter a greater value."),r.validator.addMethod("iban",function(h,p){if(this.optional(p))return!0;var m=h.replace(/ /g,"").toUpperCase(),x="",w=!0,l="",L="",H,q,J,oe,de,ye,ne,X,pe,ve=5;if(m.length<ve||(H=m.substring(0,2),ye={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},de=ye[H],typeof de<"u"&&(ne=new RegExp("^[A-Z]{2}\\d{2}"+de+"$",""),!ne.test(m))))return!1;for(q=m.substring(4,m.length)+m.substring(0,4),X=0;X<q.length;X++)J=q.charAt(X),J!=="0"&&(w=!1),w||(x+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(J));for(pe=0;pe<x.length;pe++)oe=x.charAt(pe),L=""+l+oe,l=L%97;return l===1},"Please specify a valid IBAN."),r.validator.addMethod("integer",function(h,p){return this.optional(p)||/^-?\d+$/.test(h)},"A positive or negative non-decimal number please."),r.validator.addMethod("ipv4",function(h,p){return this.optional(p)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(h)},"Please enter a valid IP v4 address."),r.validator.addMethod("ipv6",function(h,p){return this.optional(p)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(h)},"Please enter a valid IP v6 address."),r.validator.addMethod("lessThan",function(h,p,m){var x=r(m);return this.settings.onfocusout&&x.not(".validate-lessThan-blur").length&&x.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){r(p).valid()}),h<x.val()},"Please enter a lesser value."),r.validator.addMethod("lessThanEqual",function(h,p,m){var x=r(m);return this.settings.onfocusout&&x.not(".validate-lessThanEqual-blur").length&&x.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){r(p).valid()}),h<=x.val()},"Please enter a lesser value."),r.validator.addMethod("lettersonly",function(h,p){return this.optional(p)||/^[a-z]+$/i.test(h)},"Letters only please."),r.validator.addMethod("letterswithbasicpunc",function(h,p){return this.optional(p)||/^[a-z\-.,()'"\s]+$/i.test(h)},"Letters or punctuation only please."),r.validator.addMethod("maxfiles",function(h,p,m){return this.optional(p)?!0:!(r(p).attr("type")==="file"&&p.files&&p.files.length>m)},r.validator.format("Please select no more than {0} files.")),r.validator.addMethod("maxsize",function(h,p,m){if(this.optional(p))return!0;if(r(p).attr("type")==="file"&&p.files&&p.files.length){for(var x=0;x<p.files.length;x++)if(p.files[x].size>m)return!1}return!0},r.validator.format("File size must not exceed {0} bytes each.")),r.validator.addMethod("maxsizetotal",function(h,p,m){if(this.optional(p))return!0;if(r(p).attr("type")==="file"&&p.files&&p.files.length){for(var x=0,w=0;w<p.files.length;w++)if(x+=p.files[w].size,x>m)return!1}return!0},r.validator.format("Total size of all files must not exceed {0} bytes.")),r.validator.addMethod("mobileNL",function(h,p){return this.optional(p)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(h)},"Please specify a valid mobile number."),r.validator.addMethod("mobileRU",function(h,p){var m=h.replace(/\(|\)|\s+|-/g,"");return this.optional(p)||m.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(m)},"Please specify a valid mobile number."),r.validator.addMethod("mobileUK",function(h,p){return h=h.replace(/\(|\)|\s+|-/g,""),this.optional(p)||h.length>9&&h.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number."),r.validator.addMethod("netmask",function(h,p){return this.optional(p)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(h)},"Please enter a valid netmask."),r.validator.addMethod("nieES",function(h,p){if(this.optional(p))return!0;var m=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),x="TRWAGMYFPDXBNJZSQVHLCKET",w=h.substr(h.length-1).toUpperCase(),l;return h=h.toString().toUpperCase(),h.length>10||h.length<9||!m.test(h)?!1:(h=h.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),l=h.length===9?h.substr(0,8):h.substr(0,9),x.charAt(parseInt(l,10)%23)===w)},"Please specify a valid NIE number."),r.validator.addMethod("nifES",function(h,p){return this.optional(p)?!0:(h=h.toUpperCase(),h.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(h)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(h.substring(8,0)%23)===h.charAt(8):/^[KLM]{1}/.test(h)?h[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(h.substring(8,1)%23):!1:!1)},"Please specify a valid NIF number."),r.validator.addMethod("nipPL",function(h){if(h=h.replace(/[^0-9]/g,""),h.length!==10)return!1;for(var p=[6,5,7,2,3,4,5,6,7],m=0,x=0;x<9;x++)m+=p[x]*h[x];var w=m%11,l=w===10?0:w;return l===parseInt(h[9],10)},"Please specify a valid NIP number."),r.validator.addMethod("nisBR",function(h){var p,m,x=0,w,l,L;if(h=h.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),h.length!==11)return!1;for(m=parseInt(h.substring(10,11),10),p=parseInt(h.substring(0,10),10),l=2;l<12;l++)L=l,l===10&&(L=2),l===11&&(L=3),x+=p%10*L,p=parseInt(p/10,10);return w=x%11,w>1?w=11-w:w=0,m===w},"Please specify a valid NIS/PIS number."),r.validator.addMethod("notEqualTo",function(h,p,m){return this.optional(p)||!r.validator.methods.equalTo.call(this,h,p,m)},"Please enter a different value, values must not be the same."),r.validator.addMethod("nowhitespace",function(h,p){return this.optional(p)||/^\S+$/i.test(h)},"No white space please."),r.validator.addMethod("pattern",function(h,p,m){return this.optional(p)?!0:(typeof m=="string"&&(m=new RegExp("^(?:"+m+")$")),m.test(h))},"Invalid format."),r.validator.addMethod("phoneNL",function(h,p){return this.optional(p)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(h)},"Please specify a valid phone number."),r.validator.addMethod("phonePL",function(h,p){h=h.replace(/\s+/g,"");var m=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(p)||m.test(h)},"Please specify a valid phone number."),r.validator.addMethod("phonesUK",function(h,p){return h=h.replace(/\(|\)|\s+|-/g,""),this.optional(p)||h.length>9&&h.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number."),r.validator.addMethod("phoneUK",function(h,p){return h=h.replace(/\(|\)|\s+|-/g,""),this.optional(p)||h.length>9&&h.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number."),r.validator.addMethod("phoneUS",function(h,p){return h=h.replace(/\s+/g,""),this.optional(p)||h.length>9&&h.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number."),r.validator.addMethod("postalcodeBR",function(h,p){return this.optional(p)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(h)},"Informe um CEP vÃ¡lido."),r.validator.addMethod("postalCodeCA",function(h,p){return this.optional(p)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(h)},"Please specify a valid postal code."),r.validator.addMethod("postalcodeIT",function(h,p){return this.optional(p)||/^\d{5}$/.test(h)},"Please specify a valid postal code."),r.validator.addMethod("postalcodeNL",function(h,p){return this.optional(p)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(h)},"Please specify a valid postal code."),r.validator.addMethod("postcodeUK",function(h,p){return this.optional(p)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(h)},"Please specify a valid UK postcode."),r.validator.addMethod("require_from_group",function(h,p,m){var x=r(m[1],p.form),w=x.eq(0),l=w.data("valid_req_grp")?w.data("valid_req_grp"):r.extend({},this),L=x.filter(function(){return l.elementValue(this)}).length>=m[0];return w.data("valid_req_grp",l),r(p).data("being_validated")||(x.data("being_validated",!0),x.each(function(){l.element(this)}),x.data("being_validated",!1)),L},r.validator.format("Please fill at least {0} of these fields.")),r.validator.addMethod("skip_or_fill_minimum",function(h,p,m){var x=r(m[1],p.form),w=x.eq(0),l=w.data("valid_skip")?w.data("valid_skip"):r.extend({},this),L=x.filter(function(){return l.elementValue(this)}).length,H=L===0||L>=m[0];return w.data("valid_skip",l),r(p).data("being_validated")||(x.data("being_validated",!0),x.each(function(){l.element(this)}),x.data("being_validated",!1)),H},r.validator.format("Please either skip these fields or fill at least {0} of them.")),r.validator.addMethod("stateUS",function(h,p,m){var x=typeof m>"u",w=x||typeof m.caseSensitive>"u"?!1:m.caseSensitive,l=x||typeof m.includeTerritories>"u"?!1:m.includeTerritories,L=x||typeof m.includeMilitary>"u"?!1:m.includeMilitary,H;return!l&&!L?H="^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":l&&L?H="^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":l?H="^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":H="^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",H=w?new RegExp(H):new RegExp(H,"i"),this.optional(p)||H.test(h)},"Please specify a valid state."),r.validator.addMethod("strippedminlength",function(h,p,m){return r(h).text().length>=m},r.validator.format("Please enter at least {0} characters.")),r.validator.addMethod("time",function(h,p){return this.optional(p)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(h)},"Please enter a valid time, between 00:00 and 23:59."),r.validator.addMethod("time12h",function(h,p){return this.optional(p)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(h)},"Please enter a valid time in 12-hour am/pm format."),r.validator.addMethod("url2",function(h,p){return this.optional(p)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?)|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff])|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62}\.)))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(h)},r.validator.messages.url),r.validator.addMethod("vinUS",function(h){if(h.length!==17)return!1;var p=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],m=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],x=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],w=0,l,L,H,q,J,oe;for(l=0;l<17;l++){if(q=x[l],H=h.slice(l,l+1),l===8&&(oe=H),!isNaN(H))H*=q;else for(L=0;L<p.length;L++)if(H.toUpperCase()===p[L]){H=m[L],H*=q,isNaN(oe)&&L===8&&(oe=p[L]);break}w+=H}return J=w%11,J===10&&(J="X"),J===oe},"The specified vehicle identification number (VIN) is invalid."),r.validator.addMethod("zipcodeUS",function(h,p){return this.optional(p)||/^\d{5}(-\d{4})?$/.test(h)},"The specified US ZIP Code is invalid."),r.validator.addMethod("ziprange",function(h,p){return this.optional(p)||/^90[2-5]\d\{2\}-\d{4}$/.test(h)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx."),r})})(zK);var U5={},NK={get exports(){return U5},set exports(e){U5=e}};(function(e,r){(function(h,p){e.exports=p()})(fn,function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(Ne){for(var Ze=(this.document||this.ownerDocument).querySelectorAll(Ne),Ie=Ze.length;--Ie>=0&&Ze.item(Ie)!==this;);return Ie>-1}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(Ne){if(Ne==null)throw new TypeError("Cannot convert first argument to object");for(var Ze=Object(Ne),Ie=1;Ie<arguments.length;Ie++){var We=arguments[Ie];if(We!=null){We=Object(We);for(var rt=Object.keys(Object(We)),Ot=0,hi=rt.length;Ot<hi;Ot++){var gi=rt[Ot],Li=Object.getOwnPropertyDescriptor(We,gi);Li!==void 0&&Li.enumerable&&(Ze[gi]=We[gi])}}}return Ze}});var h={},p=1,m=function(Ne,Ze,Ie,We){We===void 0&&(We={}),h["jvm:"+Ze+"::"+p++]={selector:Ne,handler:Ie},Ne.addEventListener(Ze,Ie,We)},x=function(Ne,Ze,Ie){var We=Ze.split(":")[1];Ne.removeEventListener(We,Ie),delete h[Ze]},w=function(){return h},l=function(){function Ne(Ie){return Ie instanceof Element?(this.selector=Ie,this):(this.selector=document.querySelector(Ie),this)}var Ze=Ne.prototype;return Ze.on=function(Ie,We,rt){return rt===void 0&&(rt={}),m(this.selector,Ie,We,rt),this},Ze.delegate=function(Ie,We,rt){for(var Ot in We=We.split(" "))this.on(We[Ot],function(hi){var gi=hi.target;gi.matches(Ie)&&rt.call(gi,hi)})},Ze.css=function(Ie){for(var We in Ie)this.selector.style[We]=Ie[We];return this},Ze.text=function(Ie){return Ie?(this.selector.textContent=Ie,this):this.selector.textContent},Ze.attr=function(Ie,We){return Ie&&We?(this.selector.setAttribute(Ie,We),this):this.selector.getAttribute(Ie)},Ze.addClass=function(Ie){return this.selector.classList?(this.selector.classList.add(Ie),this):(this.selector.className.split(" ").indexOf(Ie)==-1&&(this.selector.className+=" "+Ie),this)},Ze.append=function(Ie){return this.selector.appendChild(Ie),this},Ze.show=function(){this.css({display:"block"})},Ze.hide=function(){this.css({display:"none"})},Ze.height=function(){return this.selector.offsetHeight},Ze.width=function(){return this.selector.offsetWidth},Ne}(),L=function(Ne){return function(Ze){return!!Ze&&typeof Ze=="object"}(Ne)&&!function(Ze){var Ie=Object.prototype.toString.call(Ze);return Ie==="[object RegExp]"||Ie==="[object Date]"||function(We){return We.$$typeof===H}(Ze)}(Ne)},H=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function q(Ne,Ze){return Ze.clone!==!1&&Ze.isMergeableObject(Ne)?ne((Ie=Ne,Array.isArray(Ie)?[]:{}),Ne,Ze):Ne;var Ie}function J(Ne,Ze,Ie){return Ne.concat(Ze).map(function(We){return q(We,Ie)})}function oe(Ne){return Object.keys(Ne).concat(function(Ze){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(Ze).filter(function(Ie){return Ze.propertyIsEnumerable(Ie)}):[]}(Ne))}function de(Ne,Ze){try{return Ze in Ne}catch{return!1}}function ye(Ne,Ze,Ie){var We={};return Ie.isMergeableObject(Ne)&&oe(Ne).forEach(function(rt){We[rt]=q(Ne[rt],Ie)}),oe(Ze).forEach(function(rt){(function(Ot,hi){return de(Ot,hi)&&!(Object.hasOwnProperty.call(Ot,hi)&&Object.propertyIsEnumerable.call(Ot,hi))})(Ne,rt)||(de(Ne,rt)&&Ie.isMergeableObject(Ze[rt])?We[rt]=function(Ot,hi){if(!hi.customMerge)return ne;var gi=hi.customMerge(Ot);return typeof gi=="function"?gi:ne}(rt,Ie)(Ne[rt],Ze[rt],Ie):We[rt]=q(Ze[rt],Ie))}),We}var ne=function(Ne,Ze,Ie){(Ie=Ie||{}).arrayMerge=Ie.arrayMerge||J,Ie.isMergeableObject=Ie.isMergeableObject||L,Ie.cloneUnlessOtherwiseSpecified=q;var We=Array.isArray(Ze);return We===Array.isArray(Ne)?We?Ie.arrayMerge(Ne,Ze,Ie):ye(Ne,Ze,Ie):q(Ze,Ie)},X={isImageUrl:function(Ne){return/\.(jpg|gif|png)$/.test(Ne)},createElement:function(Ne,Ze,Ie,We){We===void 0&&(We=!1);var rt=document.createElement(Ne);return Ie&&(rt[We?"innerHTML":"textContent"]=Ie),Ze&&(rt.className=Ze),rt},$:function(Ne){return new l(Ne)},hyphenate:function(Ne){return Ne.replace(/[\w]([A-Z])/g,function(Ze){return Ze[0]+"-"+Ze[1]}).toLowerCase()},isFunc:function(Ne){return typeof Ne=="function"},isObj:function(Ne){return typeof Ne=="object"},isStr:function(Ne){return typeof Ne=="string"},isArr:function(Ne){return Array.isArray(Ne)},merge:function(Ne,Ze){return Object.assign(Ne,Ze)},mergeDeeply:function(Ne,Ze){return ne(Ne,Ze)},keys:function(Ne){return Object.keys(Ne)}};function pe(Ne,Ze){Ne.prototype=Object.create(Ze.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=Ze}var ve=function(){function Ne(Ie,We){this._name=Ie,this.node=this.createElement(Ie),We&&this.set(We)}var Ze=Ne.prototype;return Ze.createElement=function(Ie){return document.createElementNS("http://www.w3.org/2000/svg",Ie)},Ze.addClass=function(Ie){this.node.setAttribute("class",Ie)},Ze.getBBox=function(){return this.node.getBBox()},Ze.set=function(Ie,We){if(X.isObj(Ie))for(var rt in Ie)this.applyAttr(rt,Ie[rt]);else this.applyAttr(Ie,We)},Ze.get=function(Ie){return this.style.initial[Ie]},Ze.applyAttr=function(Ie,We){this.node.setAttribute(X.hyphenate(Ie),We)},Ze.remove=function(){this.node.parentNode.removeChild(this.node)},Ne}(),me=function(Ne){function Ze(We,rt,Ot){var hi;return Ot===void 0&&(Ot={}),(hi=Ne.call(this,We,rt)||this).isHovered=!1,hi.isSelected=!1,hi.style=Ot,hi.style.current={},hi.updateStyle(),hi}pe(Ze,Ne);var Ie=Ze.prototype;return Ie.setStyle=function(We,rt){var Ot;X.isObj(We)?X.merge(this.style.current,We):X.merge(this.style.current,((Ot={})[We]=rt,Ot)),this.updateStyle()},Ie.updateStyle=function(){var We={};X.merge(We,this.style.initial),X.merge(We,this.style.current),this.isHovered&&X.merge(We,this.style.hover),this.isSelected&&(X.merge(We,this.style.selected),this.isHovered&&X.merge(We,this.style.selectedHover)),this.set(We)},Ze}(ve),it=function(Ne){function Ze(Ie,We){return Ne.call(this,"text",Ie,We)||this}return pe(Ze,Ne),Ze.prototype.applyAttr=function(Ie,We){Ie==="text"?this.node.textContent=We:Ne.prototype.applyAttr.call(this,Ie,We)},Ze}(me),Ye=function(Ne){function Ze(Ie,We){return Ne.call(this,"image",Ie,We)||this}return pe(Ze,Ne),Ze.prototype.applyAttr=function(Ie,We){var rt;Ie==="image"?(X.isObj(We)?(rt=We.url,this.offset=We.offset):(rt=We,this.offset=[0,0]),this.node.setAttributeNS("http://www.w3.org/1999/xlink","href",rt),this.width=23,this.height=23,this.applyAttr("width",this.width),this.applyAttr("height",this.height),this.applyAttr("x",this.cx-this.width/2+this.offset[0]),this.applyAttr("y",this.cy-this.height/2+this.offset[1])):Ie=="cx"?(this.cx=We,this.width&&this.applyAttr("x",We-this.width/2+this.offset[0])):Ie=="cy"?(this.cy=We,this.height&&this.applyAttr("y",We-this.height/2+this.offset[1])):Ne.prototype.applyAttr.apply(this,arguments)},Ze}(me),Q=function(Ne){function Ze(We){var rt;return(rt=Ne.call(this,"svg")||this)._container=We,rt._defsElement=new ve("defs"),rt._rootElement=new ve("g",{id:"jvm-regions-group"}),rt.node.appendChild(rt._defsElement.node),rt.node.appendChild(rt._rootElement.node),rt._container.append(rt.node),rt}pe(Ze,Ne);var Ie=Ze.prototype;return Ie.setSize=function(We,rt){this.node.setAttribute("width",We),this.node.setAttribute("height",rt)},Ie.applyTransformParams=function(We,rt,Ot){this._rootElement.node.setAttribute("transform","scale("+We+") translate("+rt+", "+Ot+")")},Ie.createPath=function(We,rt){var Ot=new me("path",We,rt);return Ot.node.setAttribute("fill-rule","evenodd"),this.add(Ot)},Ie.createCircle=function(We,rt,Ot){var hi=new me("circle",We,rt);return this.add(hi,Ot)},Ie.createLine=function(We,rt,Ot){var hi=new me("line",We,rt);return this.add(hi,Ot)},Ie.createText=function(We,rt,Ot){var hi=new it(We,rt);return this.add(hi,Ot)},Ie.createImage=function(We,rt,Ot){var hi=new Ye(We,rt);return this.add(hi,Ot)},Ie.createGroup=function(We){var rt=new ve("g");return this.node.appendChild(rt.node),We&&(rt.node.id=We),rt.canvas=this,rt},Ie.add=function(We,rt){return(rt=rt||this._rootElement).node.appendChild(We.node),We},Ze}(ve);function Dt(Ne,Ze,Ie){var We=X.$(Ze),rt=We.attr("class").indexOf("jvm-region")===-1?"marker":"region",Ot=rt==="region"?We.attr("data-code"):We.attr("data-index"),hi=rt+":select";return Ie&&(hi=rt+".tooltip:show"),{event:hi,type:rt,code:Ot,element:rt==="region"?Ne.regions[Ot].element:Ne.markers[Ot].element,tooltipText:rt==="region"?Ne.mapData.paths[Ot].name||"":Ne.markers[Ot].config.name||""}}var St=function(){function Ne(){}var Ze=Ne.prototype;return Ze.getLabelText=function(Ie,We){if(We){if(X.isFunc(We.render)){var rt=[];return this.config.marker&&rt.push(this.config.marker),rt.push(Ie),We.render.apply(this,rt)}return Ie}},Ze.getLabelOffsets=function(Ie,We){return X.isFunc(We.offsets)?We.offsets(Ie):X.isArr(We.offsets)?We.offsets[Ie]:[0,0]},Ze.setStyle=function(Ie,We){this.shape.setStyle(Ie,We)},Ze.remove=function(){this.shape.remove(),this.label&&this.label.remove()},Ze.hover=function(Ie){this._setStatus("isHovered",Ie)},Ze.select=function(Ie){this._setStatus("isSelected",Ie)},Ze._setStatus=function(Ie,We){this.shape[Ie]=We,this.shape.updateStyle(),this[Ie]=We,this.label&&(this.label[Ie]=We,this.label.updateStyle())},Ne}(),At=function(Ne){function Ze(Ie){var We,rt=Ie.map,Ot=Ie.code,hi=Ie.path,gi=Ie.style,Li=Ie.label,ur=Ie.labelStyle,Vt=Ie.labelsGroup;(We=Ne.call(this)||this).config=arguments[0],We.canvas=rt.canvas,We.map=rt,We.shape=We.canvas.createPath({d:hi,dataCode:Ot},gi),We.shape.addClass("jvm-region jvm-element");var wi=We.shape.getBBox(),Mi=We.getLabelText(Ot,Li);if(Li&&Mi){var Ji=We.getLabelOffsets(Ot);We.labelX=wi.x+wi.width/2+Ji[0],We.labelY=wi.y+wi.height/2+Ji[1],We.label=We.canvas.createText({text:Mi,textAnchor:"middle",alignmentBaseline:"central",dataCode:Ot,x:We.labelX,y:We.labelY},ur,Vt),We.label.addClass("jvm-region jvm-element")}return We}return pe(Ze,Ne),Ze.prototype.updateLabelPosition=function(){this.label&&this.label.set({x:this.labelX*this.map.scale+this.map.transX*this.map.scale,y:this.labelY*this.map.scale+this.map.transY*this.map.scale})},Ze}(St),ui=function(Ne){function Ze(Ie){var We,rt=Ie.index,Ot=Ie.map,hi=Ie.style,gi=Ie.x1,Li=Ie.y1,ur=Ie.x2,Vt=Ie.y2,wi=Ie.group;return(We=Ne.call(this)||this).shape=Ot.canvas.createLine({x1:gi,y1:Li,x2:ur,y2:Vt,dataIndex:rt},hi,wi),We.shape.addClass("jvm-line"),We}return pe(Ze,Ne),Ze}(St);function Ue(Ne,Ze){return Ne.toLowerCase()+":to:"+Ze.toLowerCase()}var Pe=function(Ne){function Ze(We){var rt,Ot=We.index,hi=We.style,gi=We.label,Li=We.cx,ur=We.cy,Vt=We.map,wi=We.group;return(rt=Ne.call(this)||this)._map=Vt,rt._isImage=!!hi.initial.image,rt.config=arguments[0],rt.shape=Vt.canvas[rt._isImage?"createImage":"createCircle"]({dataIndex:Ot,cx:Li,cy:ur},rt._getStyle(),wi),rt.shape.addClass("jvm-marker jvm-element"),rt._isImage&&rt.updateLabelPosition(),gi&&rt._createLabel(rt.config),rt}pe(Ze,Ne);var Ie=Ze.prototype;return Ie.updateLabelPosition=function(){this.label&&this.label.set({x:this._labelX*this._map.scale+this._offsets[0]+this._map.transX*this._map.scale+5+(this._isImage?(this.shape.width||0)/2:this.shape.node.r.baseVal.value),y:this._labelY*this._map.scale+this._map.transY*this._map.scale+this._offsets[1]})},Ie._createLabel=function(We){var rt=We.index,Ot=We.map,hi=We.label,gi=We.labelsGroup,Li=We.cx,ur=We.cy,Vt=We.marker,wi=We.isRecentlyCreated,Mi=this.getLabelText(rt,hi);this._labelX=Li/Ot.scale-Ot.transX,this._labelY=ur/Ot.scale-Ot.transY,this._offsets=wi&&Vt.offsets?Vt.offsets:this.getLabelOffsets(rt,hi),this.label=Ot.canvas.createText({text:Mi,dataIndex:rt,x:this._labelX,y:this._labelY,dy:"0.6ex"},Ot.params.markerLabelStyle,gi),this.label.addClass("jvm-marker jvm-element"),wi&&this.updateLabelPosition()},Ie._getStyle=function(){var We={};return this._isImage?We.initial={image:this.config.style.initial.image}:We=this.config.style,We},Ze}(St),De=function(){function Ne(Ze){this.params=Ze||{},this.map=this.params.map,this.series=this.params.series,this.body=X.createElement("div","jvm-legend"),this.params.cssClass&&this.body.setAttribute("class",this.params.cssClass),Ze.vertical?this.map.legendVertical.appendChild(this.body):this.map.legendHorizontal.appendChild(this.body),this.render()}return Ne.prototype.render=function(){var Ze,Ie,We,rt=this.series.scale.getTicks(),Ot=X.createElement("div","jvm-legend-inner");if(this.body.innderHTML="",this.params.title){var hi=X.createElement("div","jvm-legend-title",this.params.title);this.body.appendChild(hi)}this.body.appendChild(Ot);for(var gi=0;gi<rt.length;gi++){switch(Ze=X.createElement("div","jvm-legend-tick"),Ie=X.createElement("div","jvm-legend-tick-sample"),this.series.config.attribute){case"fill":X.isImageUrl(rt[gi].value)?Ie.style.background="url("+rt[gi].value+")":Ie.style.background=rt[gi].value;break;case"stroke":Ie.style.background=rt[gi].value;break;case"image":Ie.style.background="url("+(X.isObject(rt[gi].value)?rt[gi].value.url:rt[gi].value)+") no-repeat center center",Ie.style.backgroundSize="cover"}Ze.appendChild(Ie),We=rt[gi].label,this.params.labelRender&&(We=this.params.labelRender(We));var Li=X.createElement("div","jvm-legend-tick-text",We);Ze.appendChild(Li),Ot.appendChild(Ze)}},Ne}(),te=function(){function Ne(Ie){this._scale=Ie}var Ze=Ne.prototype;return Ze.getValue=function(Ie){return this._scale[Ie]},Ze.getTicks=function(){var Ie=[];for(var We in this._scale)Ie.push({label:We,value:this._scale[We]});return Ie},Ne}(),fe=function(){function Ne(Ie,We,rt){Ie===void 0&&(Ie={}),this._map=rt,this._elements=We,this._values=Ie.values||{},this.config=Ie,this.config.attribute=Ie.attribute||"fill",Ie.attributes&&this.setAttributes(Ie.attributes),X.isObj(Ie.scale)&&(this.scale=new te(Ie.scale)),this.config.legend&&(this.legend=new De(X.merge({map:this._map,series:this},this.config.legend))),this.setValues(this._values)}var Ze=Ne.prototype;return Ze.setValues=function(Ie){var We={};for(var rt in Ie)Ie[rt]&&(We[rt]=this.scale.getValue(Ie[rt]));this.setAttributes(We)},Ze.setAttributes=function(Ie){for(var We in Ie)this._elements[We]&&this._elements[We].element.setStyle(this.config.attribute,Ie[We])},Ze.clear=function(){var Ie,We={};for(Ie in this._values)this._elements[Ie]&&(We[Ie]=this._elements[Ie].element.shape.style.initial[this.config.attribute]);this.setAttributes(We),this._values={}},Ne}(),le={mill:function(Ne,Ze,Ie){return{x:this.radius*(Ze-Ie)*this.radDeg,y:-this.radius*Math.log(Math.tan((45+.4*Ne)*this.radDeg))/.8}},merc:function(Ne,Ze,Ie){return{x:this.radius*(Ze-Ie)*this.radDeg,y:-this.radius*Math.log(Math.tan(Math.PI/4+Ne*Math.PI/360))}},aea:function(Ne,Ze,Ie){var We=Ie*this.radDeg,rt=29.5*this.radDeg,Ot=45.5*this.radDeg,hi=Ne*this.radDeg,gi=Ze*this.radDeg,Li=(Math.sin(rt)+Math.sin(Ot))/2,ur=Math.cos(rt)*Math.cos(rt)+2*Li*Math.sin(rt),Vt=Li*(gi-We),wi=Math.sqrt(ur-2*Li*Math.sin(hi))/Li,Mi=Math.sqrt(ur-2*Li*Math.sin(0))/Li;return{x:wi*Math.sin(Vt)*this.radius,y:-(Mi-wi*Math.cos(Vt))*this.radius}},lcc:function(Ne,Ze,Ie){var We=Ie*this.radDeg,rt=Ze*this.radDeg,Ot=33*this.radDeg,hi=45*this.radDeg,gi=Ne*this.radDeg,Li=Math.log(Math.cos(Ot)*(1/Math.cos(hi)))/Math.log(Math.tan(Math.PI/4+hi/2)*(1/Math.tan(Math.PI/4+Ot/2))),ur=Math.cos(Ot)*Math.pow(Math.tan(Math.PI/4+Ot/2),Li)/Li,Vt=ur*Math.pow(1/Math.tan(Math.PI/4+gi/2),Li),wi=ur*Math.pow(1/Math.tan(Math.PI/4+0),Li);return{x:Vt*Math.sin(Li*(rt-We))*this.radius,y:-(wi-Vt*Math.cos(Li*(rt-We)))*this.radius}}};le.degRad=180/Math.PI,le.radDeg=Math.PI/180,le.radius=6381372;var Se=function(){function Ne(Ie,We){var rt=Ie.scale,Ot=Ie.values;this._scale=rt,this._values=Ot,this._fromColor=this.hexToRgb(rt[0]),this._toColor=this.hexToRgb(rt[1]),this._map=We,this.setMinMaxValues(Ot),this.visualize()}var Ze=Ne.prototype;return Ze.setMinMaxValues=function(Ie){for(var We in this.min=Number.MAX_VALUE,this.max=0,Ie)(We=parseFloat(Ie[We]))>this.max&&(this.max=We),We<this.min&&(this.min=We)},Ze.visualize=function(){var Ie,We={};for(var rt in this._values)Ie=parseFloat(this._values[rt]),isNaN(Ie)||(We[rt]=this.getValue(Ie));this.setAttributes(We)},Ze.setAttributes=function(Ie){for(var We in Ie)this._map.regions[We]&&this._map.regions[We].element.setStyle("fill",Ie[We])},Ze.getValue=function(Ie){for(var We,rt="#",Ot=0;Ot<3;Ot++)rt+=((We=Math.round(this._fromColor[Ot]+(this._toColor[Ot]-this._fromColor[Ot])*(Ie/(this.max-this.min))).toString(16)).length===1?"0":"")+We;return rt},Ze.hexToRgb=function(Ie){var We=0,rt=0,Ot=0;return Ie.length==4?(We="0x"+Ie[1]+Ie[1],rt="0x"+Ie[2]+Ie[2],Ot="0x"+Ie[3]+Ie[3]):Ie.length==7&&(We="0x"+Ie[1]+Ie[2],rt="0x"+Ie[3]+Ie[4],Ot="0x"+Ie[5]+Ie[6]),[parseInt(We),parseInt(rt),parseInt(Ot)]},Ne}(),Re=Object.freeze({__proto__:null,handleContainerEvents:function(){var Ne,Ze,Ie=this,We=!1,rt=this;this.params.draggable&&(this.container.on("mousemove",function(Ot){return We&&(rt.transX-=(Ne-Ot.pageX)/rt.scale,rt.transY-=(Ze-Ot.pageY)/rt.scale,rt.applyTransform(),Ne=Ot.pageX,Ze=Ot.pageY),!1}).on("mousedown",function(Ot){return We=!0,Ne=Ot.pageX,Ze=Ot.pageY,!1}),X.$("body").on("mouseup",function(){We=!1})),this.params.zoomOnScroll&&this.container.on("wheel",function(Ot){var hi=0;hi=(Ot.deltaY||-Ot.wheelDelta||Ot.detail)>>10||1,hi*=75;var gi=Ie.container.selector.getBoundingClientRect(),Li=Ot.pageX-gi.left-window.pageXOffset,ur=Ot.pageY-gi.top-window.pageYOffset,Vt=Math.pow(1+rt.params.zoomOnScrollSpeed/1e3,-1.5*hi);rt.tooltip.hide(),rt.setScale(rt.scale*Vt,Li,ur)},{passive:!0})},handleElementEvents:function(){var Ne=this;this.container.delegate(".jvm-element","mouseover mouseout",function(Ze){var Ie=Dt(Ne,this,!0),We=Ne.params.showTooltip;Ze.type==="mouseover"?Ze.defaultPrevented||(Ie.element.hover(!0),We&&(Ne.tooltip.text(Ie.tooltipText),Ne.tooltip.show(),Ne.emit(Ie.event,[Ne.tooltip,Ie.code]))):(Ie.element.hover(!1),We&&Ne.tooltip.hide())}),this.container.delegate(".jvm-element","mouseup",function(Ze){var Ie=Dt(Ne,this);if(Ie.type==="region"&&Ne.params.regionsSelectable||Ie.type==="marker"&&Ne.params.markersSelectable&&!Ze.defaultPrevented){var We=Ie.element;Ne.params[Ie.type+"sSelectableOne"]&&Ne.clearSelected(Ie.type+"s"),Ie.element.isSelected?We.select(!1):We.select(!0),Ne.emit(Ie.event,[Ie.code,We.isSelected,Ne.getSelected(Ie.type+"s")])}})},handleZoomButtons:function(){var Ne=this,Ze=this,Ie=X.createElement("div","jvm-zoom-btn jvm-zoomin","&#43;",!0),We=X.createElement("div","jvm-zoom-btn jvm-zoomout","&#x2212",!0);this.container.append(Ie).append(We),m(Ie,"click",function(){Ne.setScale(Ze.scale*Ze.params.zoomStep,Ze.width/2,Ze.height/2,!1,Ze.params.zoomAnimate)}),m(We,"click",function(){Ne.setScale(Ze.scale/Ze.params.zoomStep,Ze.width/2,Ze.height/2,!1,Ze.params.zoomAnimate)})},bindContainerTouchEvents:function(){var Ne,Ze,Ie,We,rt,Ot,hi,gi=this,Li=function(ur){var Vt,wi,Mi,Ji,Ei=ur.touches;if(ur.type=="touchstart"&&(hi=0),Ei.length==1)hi==1&&(Mi=gi.transX,Ji=gi.transY,gi.transX-=(Ie-Ei[0].pageX)/gi.scale,gi.transY-=(We-Ei[0].pageY)/gi.scale,gi.tooltip.hide(),gi.applyTransform(),Mi==gi.transX&&Ji==gi.transY||ur.preventDefault()),Ie=Ei[0].pageX,We=Ei[0].pageY;else if(Ei.length==2)if(hi==2)wi=Math.sqrt(Math.pow(Ei[0].pageX-Ei[1].pageX,2)+Math.pow(Ei[0].pageY-Ei[1].pageY,2))/Ze,gi.setScale(Ne*wi,rt,Ot),gi.tooltip.hide(),ur.preventDefault();else{var Xi=gi.container.selector.getBoundingClientRect();Vt={top:Xi.top+window.scrollY,left:Xi.left+window.scrollX},rt=Ei[0].pageX>Ei[1].pageX?Ei[1].pageX+(Ei[0].pageX-Ei[1].pageX)/2:Ei[0].pageX+(Ei[1].pageX-Ei[0].pageX)/2,Ot=Ei[0].pageY>Ei[1].pageY?Ei[1].pageY+(Ei[0].pageY-Ei[1].pageY)/2:Ei[0].pageY+(Ei[1].pageY-Ei[0].pageY)/2,rt-=Vt.left,Ot-=Vt.top,Ne=gi.scale,Ze=Math.sqrt(Math.pow(Ei[0].pageX-Ei[1].pageX,2)+Math.pow(Ei[0].pageY-Ei[1].pageY,2))}hi=Ei.length};this.container.on("touchstart",Li).on("touchmove",Li)},createRegions:function(){var Ne,Ze;for(Ne in this.regionLabelsGroup=this.regionLabelsGroup||this.canvas.createGroup("jvm-regions-labels-group"),this.mapData.paths)Ze=new At({map:this,code:Ne,path:this.mapData.paths[Ne].path,style:X.merge({},this.params.regionStyle),labelStyle:this.params.regionLabelStyle,labelsGroup:this.regionLabelsGroup,label:this.params.labels&&this.params.labels.regions}),this.regions[Ne]={config:this.mapData.paths[Ne],element:Ze}},createLines:function(Ne,Ze,Ie){var We=this;Ie===void 0&&(Ie=!1);var rt,Ot=!1,hi=!1;for(var gi in this.linesGroup=this.linesGroup||this.canvas.createGroup("jvm-lines-group"),Ne){var Li=Ne[gi];for(var ur in Ze){var Vt=Ie?Ze[ur].config:Ze[ur];Vt.name===Li.from&&(Ot=this.getMarkerPosition(Vt)),Vt.name===Li.to&&(hi=this.getMarkerPosition(Vt))}Ot!==!1&&hi!==!1&&(rt=new ui({index:gi,map:this,style:X.mergeDeeply({initial:this.params.lineStyle},{initial:Li.style||{}}),x1:Ot.x,y1:Ot.y,x2:hi.x,y2:hi.y,group:this.linesGroup}),Ie&&Object.keys(this.lines).forEach(function(wi){wi===Ue(Ne[0].from,Ne[0].to)&&We.lines[wi].element.remove()}),this.lines[Ue(Li.from,Li.to)]={element:rt,config:Li})}},createMarkers:function(Ne,Ze){var Ie,We,rt,Ot,hi=this;for(var gi in Ne===void 0&&(Ne={}),Ze===void 0&&(Ze=!1),this.markersGroup=this.markersGroup||this.canvas.createGroup("jvm-markers-group"),this.markerLabelsGroup=this.markerLabelsGroup||this.canvas.createGroup("jvm-markers-labels-group"),Ne){if(Ie=Ne[gi],rt=this.getMarkerPosition(Ie),Ot=Ie.coords.join(":"),Ze){if(X.keys(this.markers).filter(function(Li){return hi.markers[Li]._uid===Ot}).length)continue;gi=X.keys(this.markers).length}rt!==!1&&(We=new Pe({index:gi,map:this,style:X.mergeDeeply(this.params.markerStyle,{initial:Ie.style||{}}),label:this.params.labels&&this.params.labels.markers,labelsGroup:this.markerLabelsGroup,cx:rt.x,cy:rt.y,group:this.markersGroup,marker:Ie,isRecentlyCreated:Ze}),this.markers[gi]&&this.removeMarkers([gi]),this.markers[gi]={_uid:Ot,config:Ie,element:We})}},createTooltip:function(){var Ne=this,Ze=this,Ie=X.createElement("div","jvm-tooltip");this.tooltip=X.$(document.body.appendChild(Ie)),this.container.on("mousemove",function(We){if(Ze.tooltip.selector.style.display==="block"){var rt=Ne.container.selector.querySelector("#jvm-regions-group").getBoundingClientRect(),Ot=Ie.getBoundingClientRect(),hi=Ot.height,gi=Ot.width,Li=We.clientY<=rt.top+hi+5,ur=We.pageY-hi-5,Vt=We.pageX-gi-5;Li&&(ur+=hi+5,Vt-=10),We.clientX<rt.left+gi+5&&(Vt=We.pageX+5+2,Li&&(Vt+=10)),Ne.tooltip.css({top:ur+"px",left:Vt+"px"})}})},createSeries:function(){for(var Ne in this.series={markers:[],regions:[]},this.params.series)for(var Ze=0;Ze<this.params.series[Ne].length;Ze++)this.series[Ne][Ze]=new fe(this.params.series[Ne][Ze],this[Ne],this)},applyTransform:function(){var Ne,Ze,Ie,We;this.defaultWidth*this.scale<=this.width?(Ne=(this.width-this.defaultWidth*this.scale)/(2*this.scale),Ie=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(Ne=0,Ie=(this.width-this.defaultWidth*this.scale)/this.scale),this.defaultHeight*this.scale<=this.height?(Ze=(this.height-this.defaultHeight*this.scale)/(2*this.scale),We=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(Ze=0,We=(this.height-this.defaultHeight*this.scale)/this.scale),this.transY>Ze?this.transY=Ze:this.transY<We&&(this.transY=We),this.transX>Ne?this.transX=Ne:this.transX<Ie&&(this.transX=Ie),this.canvas.applyTransformParams(this.scale,this.transX,this.transY),this.markers&&this.repositionMarkers(),this.lines&&this.repositionLines(),this.repositionLabels()},setFocus:function(Ne){var Ze,Ie,We=this;if((Ne=Ne||{}).region&&X.isStr(Ne.region)?Ie=[Ne.region]:Ne.regions&&X.isArr(Ne.regions)&&(Ie=Ne.regions),Ie)return Ie.forEach(function(rt){if(We.regions[rt]){var Ot=We.regions[rt].element.shape.getBBox();Ot&&(Ze=Ze===void 0?Ot:{x:Math.min(Ze.x,Ot.x),y:Math.min(Ze.y,Ot.y),width:Math.max(Ze.x+Ze.width,Ot.x+Ot.width)-Math.min(Ze.x,Ot.x),height:Math.max(Ze.y+Ze.height,Ot.y+Ot.height)-Math.min(Ze.y,Ot.y)})}}),this.setScale(Math.min(this.width/Ze.width,this.height/Ze.height),-(Ze.x+Ze.width/2),-(Ze.y+Ze.height/2),!0,Ne.animate)},resize:function(){var Ne=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)),this.scale*=this.baseScale/Ne,this.transX*=this.baseScale/Ne,this.transY*=this.baseScale/Ne},setScale:function(Ne,Ze,Ie,We,rt){var Ot,hi,gi,Li,ur,Vt,wi,Mi,Ji,Ei,Xi=this,Fi=0,Lr=Math.abs(Math.round(60*(Ne-this.scale)/Math.max(Ne,this.scale)));Ne>this.params.zoomMax*this.baseScale?Ne=this.params.zoomMax*this.baseScale:Ne<this.params.zoomMin*this.baseScale&&(Ne=this.params.zoomMin*this.baseScale),Ze!==void 0&&Ie!==void 0&&(Ot=Ne/this.scale,We?(Ji=Ze+this.defaultWidth*(this.width/(this.defaultWidth*Ne))/2,Ei=Ie+this.defaultHeight*(this.height/(this.defaultHeight*Ne))/2):(Ji=this.transX-(Ot-1)/Ne*Ze,Ei=this.transY-(Ot-1)/Ne*Ie)),rt&&Lr>0?(gi=this.scale,Li=(Ne-gi)/Lr,ur=this.transX*this.scale,wi=this.transY*this.scale,Vt=(Ji*Ne-ur)/Lr,Mi=(Ei*Ne-wi)/Lr,hi=setInterval(function(){Fi+=1,Xi.scale=gi+Li*Fi,Xi.transX=(ur+Vt*Fi)/Xi.scale,Xi.transY=(wi+Mi*Fi)/Xi.scale,Xi.applyTransform(),Fi==Lr&&(clearInterval(hi),Xi.emit("viewport:changed",[Xi.scale,Xi.transX,Xi.transY]))},10)):(this.transX=Ji,this.transY=Ei,this.scale=Ne,this.applyTransform(),this.emit("viewport:changed",[this.scale,this.transX,this.transY]))},updateSize:function(){this.width=this.container.width(),this.height=this.container.height(),this.resize(),this.canvas.setSize(this.width,this.height),this.applyTransform()},coordsToPoint:function(Ne,Ze){var Ie,We,rt,Ot=ht.maps[this.params.map].projection,hi=Ot.centralMeridian;return Ie=le[Ot.type](Ne,Ze,hi),!!(We=this.getInsetForPoint(Ie.x,Ie.y))&&(rt=We.bbox,Ie.x=(Ie.x-rt[0].x)/(rt[1].x-rt[0].x)*We.width*this.scale,Ie.y=(Ie.y-rt[0].y)/(rt[1].y-rt[0].y)*We.height*this.scale,{x:Ie.x+this.transX*this.scale+We.left*this.scale,y:Ie.y+this.transY*this.scale+We.top*this.scale})},getInsetForPoint:function(Ne,Ze){var Ie,We,rt=ht.maps[this.params.map].insets;for(Ie=0;Ie<rt.length;Ie++)if(Ne>(We=rt[Ie].bbox)[0].x&&Ne<We[1].x&&Ze>We[0].y&&Ze<We[1].y)return rt[Ie]},getMarkerPosition:function(Ne){var Ze=Ne.coords;return ht.maps[this.params.map].projection?this.coordsToPoint.apply(this,Ze):{x:Ze[0]*this.scale+this.transX*this.scale,y:Ze[1]*this.scale+this.transY*this.scale}},repositionLines:function(){var Ne=!1,Ze=!1;for(var Ie in this.lines){for(var We in this.markers){var rt=this.markers[We];rt.config.name===this.lines[Ie].config.from&&(Ne=this.getMarkerPosition(rt.config)),rt.config.name===this.lines[Ie].config.to&&(Ze=this.getMarkerPosition(rt.config))}Ne!==!1&&Ze!==!1&&this.lines[Ie].element.setStyle({x1:Ne.x,y1:Ne.y,x2:Ze.x,y2:Ze.y})}},repositionMarkers:function(){var Ne;for(var Ze in this.markers)(Ne=this.getMarkerPosition(this.markers[Ze].config))!==!1&&this.markers[Ze].element.setStyle({cx:Ne.x,cy:Ne.y})},repositionLabels:function(){var Ne=this.params.labels;if(Ne){if(Ne.regions)for(var Ze in this.regions)this.regions[Ze].element.updateLabelPosition();if(Ne.markers)for(var Ie in this.markers)this.markers[Ie].element.updateLabelPosition()}},visualizeData:function(Ne){X.isObj(Ne)&&(this.dataVisualization=new Se(Ne,this))}}),ot={onViewportChange:"viewport:changed",onRegionSelected:"region:select",onMarkerSelected:"marker:select",onRegionTooltipShow:"region.tooltip:show",onMarkerTooltipShow:"marker.tooltip:show",onLoaded:"map:loaded"},ht=function(){function Ne(Ie){if(Ie===void 0&&(Ie={}),this.params=X.mergeDeeply(Ne.defaults,Ie),!Ne.maps[this.params.map])throw new Error("Attempt to use map which was not loaded: "+Ie.map);this.mapData=Ne.maps[this.params.map],this.regions={},this.markers={},this.lines={},this.defaultWidth=this.mapData.width,this.defaultHeight=this.mapData.height,this.height=0,this.width=0,this.scale=1,this.baseScale=1,this.transX=0,this.transY=0,this.baseTransX=0,this.baseTransY=0,window.document.readyState!=="loading"?this.init(Ie.selector):window.addEventListener("DOMContentLoaded",this.init.bind(this,Ie.selector))}var Ze=Ne.prototype;return Ze.init=function(Ie){this.container=X.$(Ie).addClass("jvm-container"),this.canvas=new Q(this.container,this.width,this.height),this.setBackgroundColor(this.params.backgroundColor),this.handleContainerEvents(),this.createRegions(),this.updateSize(),this.createLines(this.params.lines||{},this.params.markers||{}),this.createMarkers(this.params.markers),this.handleElementEvents(),this.repositionLabels(),this.params.showTooltip&&this.createTooltip(),this.params.zoomButtons&&this.handleZoomButtons(),this.params.selectedRegions&&this.setSelected("regions",this.params.selectedRegions),this.params.selectedMarkers&&this.setSelected("markers",this.params.selectedMarkers),this.params.focusOn&&this.setFocus(this.params.focusOn),this.params.visualizeData&&this.visualizeData(this.params.visualizeData),this.params.bindTouchEvents&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&this.bindContainerTouchEvents(),this.params.series&&(this.container.append(this.legendHorizontal=X.createElement("div","jvm-series-container jvm-series-h")).append(this.legendVertical=X.createElement("div","jvm-series-container jvm-series-v")),this.createSeries()),this.emit("map:loaded",[this])},Ze.emit=function(Ie,We){for(var rt in ot)ot[rt]===Ie&&X.isFunc(this.params[rt])&&this.params[rt].apply(this,We)},Ze.setBackgroundColor=function(Ie){this.container.css({backgroundColor:Ie})},Ze.getSelected=function(Ie){var We,rt=[];for(We in this[Ie])this[Ie][We].element.isSelected&&rt.push(We);return rt},Ze.clearSelected=function(Ie){var We=this;this.getSelected(Ie).forEach(function(rt){We[Ie][rt].element.select(!1)})},Ze.setSelected=function(Ie,We){var rt=this;We.forEach(function(Ot){rt[Ie][Ot]&&rt[Ie][Ot].element.select(!0)})},Ze.getSelectedRegions=function(){return this.getSelected("regions")},Ze.clearSelectedRegions=function(){var Ie=this;this.getSelected("regions").forEach(function(We){Ie.regions[We].element.select(!1)})},Ze.getSelectedMarkers=function(){return this.getSelected("markers")},Ze.clearSelectedMarkers=function(){var Ie=this;this.getSelected("markers").forEach(function(We){Ie.markers[We].element.select(!1)})},Ze.addMarker=function(Ie){this.createMarkers([Ie],!0)},Ze.removeMarkers=function(Ie){var We=this;Ie.forEach(function(rt){We.markers[rt].element.remove(),delete We.markers[rt]})},Ze.addLine=function(Ie,We,rt){rt===void 0&&(rt={}),this.createLines([{from:Ie,to:We,style:rt}],this.markers,!0)},Ze.reset=function(){for(var Ie in this.series)for(var We=0;We<this.series[Ie].length;We++)this.series[Ie][We].clear();this.scale=this.baseScale,this.transX=this.baseTransX,this.transY=this.baseTransY,this.clearSelectedMarkers(),this.clearSelectedRegions(),this.applyTransform()},Ze.destroy=function(Ie){var We=this;Ie===void 0&&(Ie=!0);var rt=w(),Ot=this.tooltip.selector,hi=Object.keys;Ot.parentElement.removeChild(Ot),hi(rt).forEach(function(gi){x(rt[gi].selector,gi,rt[gi].handler)}),Ie&&hi(this).forEach(function(gi){try{delete We[gi]}catch{}})},Ne}();ht.maps={},ht.defaults={map:"world",backgroundColor:"tranparent",draggable:!0,zoomButtons:!0,zoomOnScroll:!0,zoomOnScrollSpeed:3,zoomMax:12,zoomMin:1,zoomAnimate:!0,showTooltip:!0,zoomStep:1.5,bindTouchEvents:!0,lineStyle:{stroke:"#808080",strokeWidth:1,strokeLinecap:"round"},markersSelectable:!1,markersSelectableOne:!1,markerStyle:{initial:{r:7,fill:"#374151",fillOpacity:1,stroke:"#FFF",strokeWidth:5,strokeOpacity:.5},hover:{fill:"#3cc0ff",cursor:"pointer"},selected:{fill:"blue"},selectedHover:{}},markerLabelStyle:{initial:{fontFamily:"Verdana",fontSize:12,fontWeight:500,cursor:"default",fill:"#374151"},hover:{cursor:"pointer"},selected:{},selectedHover:{}},regionsSelectable:!1,regionsSelectableOne:!1,regionStyle:{initial:{fill:"#dee2e8",fillOpacity:1,stroke:"none",strokeWidth:0},hover:{fillOpacity:.7,cursor:"pointer"},selected:{fill:"#9ca3af"},selectedHover:{}},regionLabelStyle:{initial:{fontFamily:"Verdana",fontSize:"12",fontWeight:"bold",cursor:"default",fill:"#35373e"},hover:{cursor:"pointer"}}},Object.assign(ht.prototype,Re);var Pt=function(){function Ne(Ze){if(Ze===void 0&&(Ze={}),!Ze.selector)throw new Error("Selector is not given.");return new ht(Ze)}return Ne.prototype.addMap=function(Ze,Ie){ht.maps[Ze]=Ie},Ne}();return window.jsVectorMap=Pt})})(NK);jsVectorMap.prototype.addMap("world",{insets:[{width:900,top:0,left:0,height:440.70631074413296,bbox:[{y:-12671671123330014e-9,x:-20004297151525836e-9},{y:6930392025135122e-9,x:2002657239474939e-8}]}],paths:{BD:{path:"M651.84,230.21l-0.6,-2.0l-1.36,-1.71l-2.31,-0.11l-0.41,0.48l0.2,0.94l-0.53,0.99l-0.72,-0.36l-0.68,0.35l-1.2,-0.36l-0.37,-2.0l-0.81,-1.86l0.39,-1.46l-0.22,-0.47l-1.14,-0.53l0.29,-0.5l1.48,-0.94l0.03,-0.65l-1.55,-1.22l0.55,-1.14l1.61,0.94l1.04,0.15l0.18,1.54l0.34,0.35l5.64,0.63l-0.84,1.64l-1.22,0.34l-0.77,1.51l0.07,0.47l1.37,1.37l0.67,-0.19l0.42,-1.39l1.21,3.84l-0.03,1.21l-0.33,-0.15l-0.4,0.28Z",name:"Bangladesh"},BE:{path:"M429.29,144.05l1.91,0.24l2.1,-0.63l2.63,1.99l-0.21,1.66l-0.69,0.4l-0.18,1.2l-1.66,-1.13l-1.39,0.15l-2.73,-2.7l-1.17,-0.18l-0.16,-0.52l1.54,-0.5Z",name:"Belgium"},BF:{path:"M421.42,247.64l-0.11,0.95l0.34,1.16l1.4,1.71l0.07,1.1l0.32,0.37l2.55,0.51l-0.04,1.28l-0.38,0.53l-1.07,0.21l-0.72,1.18l-0.63,0.21l-3.22,-0.25l-0.94,0.39l-5.4,-0.05l-0.39,0.38l0.16,2.73l-1.23,-0.43l-1.17,0.1l-0.89,0.57l-2.27,-1.72l-0.13,-1.11l0.61,-0.96l0.02,-0.93l1.87,-1.98l0.44,-1.81l0.43,-0.39l1.28,0.26l1.05,-0.52l0.47,-0.73l1.84,-1.09l0.55,-0.83l2.2,-1.0l1.15,-0.3l0.72,0.45l1.13,-0.01Z",name:"Burkina Faso"},BG:{path:"M491.65,168.18l-0.86,0.88l-0.91,2.17l0.48,1.34l-1.6,-0.24l-2.55,0.95l-0.28,1.51l-1.8,0.22l-2.0,-1.0l-1.92,0.79l-1.42,-0.07l-0.15,-1.63l-1.05,-0.97l0.0,-0.8l1.2,-1.57l0.01,-0.56l-1.14,-1.23l-0.05,-0.94l0.88,0.97l0.88,-0.2l1.91,0.47l3.68,0.16l1.42,-0.81l2.72,-0.66l2.55,1.24Z",name:"Bulgaria"},BA:{path:"M463.49,163.65l2.1,0.5l1.72,-0.03l1.52,0.68l-0.36,0.78l0.08,0.45l1.04,1.02l-0.25,0.98l-1.81,1.15l-0.38,1.38l-1.67,-0.87l-0.89,-1.2l-2.11,-1.83l-1.63,-2.22l0.23,-0.57l0.48,0.38l0.55,-0.06l0.43,-0.51l0.94,-0.06Z",name:"Bosnia and Herz."},BN:{path:"M707.48,273.58l0.68,-0.65l1.41,-0.91l-0.15,1.63l-0.81,-0.05l-0.61,0.58l-0.53,-0.6Z",name:"Brunei"},BO:{path:"M263.83,340.69l-3.09,-0.23l-0.38,0.23l-0.7,1.52l-1.31,-1.53l-3.28,-0.64l-2.37,2.4l-1.31,0.26l-0.88,-3.26l-1.3,-2.86l0.74,-2.37l-0.13,-0.43l-1.2,-1.01l-0.37,-1.89l-1.08,-1.55l1.45,-2.56l-0.96,-2.33l0.47,-1.06l-0.34,-0.73l0.91,-1.32l0.16,-3.84l0.5,-1.18l-1.81,-3.41l2.46,0.07l0.8,-0.85l3.4,-1.91l2.66,-0.35l-0.19,1.38l0.3,1.07l-0.05,1.97l2.72,2.27l2.88,0.49l0.89,0.86l1.79,0.58l0.98,0.7l1.71,0.05l1.17,0.61l0.6,2.7l-0.7,0.54l0.96,2.99l0.37,0.28l4.3,0.1l-0.25,1.2l0.27,1.02l1.43,0.9l0.5,1.35l-0.41,1.86l-0.65,1.08l0.12,1.35l-2.69,-1.65l-2.4,-0.03l-4.36,0.76l-1.49,2.5l-0.11,1.52l-0.75,2.37Z",name:"Bolivia"},JP:{path:"M781.12,166.87l1.81,0.68l1.62,-0.97l0.39,2.42l-3.35,0.75l-2.23,2.88l-3.63,-1.9l-0.56,0.2l-1.26,3.05l-2.16,0.03l-0.29,-2.51l1.08,-2.03l2.45,-0.16l0.37,-0.33l1.25,-5.94l2.47,2.71l2.03,1.12ZM773.56,187.34l-0.91,2.22l0.37,1.52l-1.14,1.75l-3.02,1.26l-4.58,0.27l-3.34,3.01l-1.25,-0.8l-0.09,-1.9l-0.46,-0.38l-4.35,0.62l-3.0,1.32l-2.85,0.05l-0.37,0.27l0.13,0.44l2.32,1.89l-1.54,4.34l-1.26,0.9l-0.79,-0.7l0.56,-2.27l-0.21,-0.45l-1.47,-0.75l-0.74,-1.4l2.12,-0.84l1.26,-1.7l2.45,-1.42l1.83,-1.91l4.78,-0.81l2.6,0.57l0.44,-0.21l2.39,-4.66l1.29,1.06l0.5,0.01l5.1,-4.02l1.69,-3.73l-0.38,-3.4l0.9,-1.61l2.14,-0.44l1.23,3.72l-0.07,2.18l-2.23,2.84l-0.04,3.16ZM757.78,196.26l0.19,0.56l-1.01,1.21l-1.16,-0.68l-1.28,0.65l-0.69,1.45l-1.02,-0.5l0.01,-0.93l1.14,-1.38l1.57,0.14l0.85,-0.98l1.4,0.46Z",name:"Japan"},BI:{path:"M495.45,295.49l-1.08,-2.99l1.14,-0.11l0.64,-1.19l0.76,0.09l0.65,1.83l-2.1,2.36Z",name:"Burundi"},BJ:{path:"M429.57,255.75l-0.05,0.8l0.5,1.34l-0.42,0.86l0.17,0.79l-1.81,2.12l-0.57,1.76l-0.08,5.42l-1.41,0.2l-0.48,-1.36l0.11,-5.71l-0.52,-0.7l-0.2,-1.35l-1.48,-1.48l0.21,-0.9l0.89,-0.43l0.42,-0.92l1.27,-0.36l1.22,-1.34l0.61,-0.0l1.62,1.24Z",name:"Benin"},BT:{path:"M650.32,213.86l0.84,0.71l-0.12,1.1l-3.76,-0.11l-1.57,0.4l-1.93,-0.87l1.48,-1.96l1.13,-0.57l1.63,0.57l1.33,0.08l0.99,0.65Z",name:"Bhutan"},JM:{path:"M228.38,239.28l-0.8,0.4l-2.26,-1.06l0.84,-0.23l2.14,0.3l1.17,0.56l-1.08,0.03Z",name:"Jamaica"},BW:{path:"M483.92,330.07l2.27,4.01l2.83,2.86l0.96,0.31l0.78,2.43l2.13,0.61l1.02,0.76l-3.0,1.64l-2.32,2.02l-1.54,2.69l-1.52,0.45l-0.64,1.94l-1.34,0.52l-1.85,-0.12l-1.21,-0.74l-1.35,-0.3l-1.22,0.62l-0.75,1.37l-2.31,1.9l-1.4,0.21l-0.35,-0.59l0.16,-1.75l-1.48,-2.54l-0.62,-0.43l-0.0,-7.1l2.08,-0.08l0.39,-0.4l0.07,-8.9l5.19,-0.93l0.8,0.89l0.51,0.07l1.5,-0.95l2.21,-0.49Z",name:"Botswana"},BR:{path:"M259.98,275.05l3.24,0.7l0.65,-0.53l4.55,-1.32l1.08,-1.06l-0.02,-0.63l0.55,-0.05l0.28,0.28l-0.26,0.87l0.22,0.48l0.73,0.32l0.4,0.81l-0.62,0.86l-0.4,2.13l0.82,2.56l1.69,1.43l1.43,0.2l3.17,-1.68l3.18,0.3l0.65,-0.75l-0.27,-0.92l1.9,-0.09l2.39,0.99l1.06,-0.61l0.84,0.78l1.2,-0.18l1.18,-1.06l0.84,-1.94l1.36,-2.11l0.37,-0.05l1.89,5.45l1.33,0.59l0.05,1.28l-1.77,1.94l0.02,0.56l1.02,0.87l4.07,0.36l0.08,2.16l0.66,0.29l1.74,-1.5l6.97,2.32l1.02,1.22l-0.35,1.18l0.49,0.5l2.81,-0.74l4.77,1.3l3.75,-0.08l3.57,2.0l3.29,2.86l1.93,0.72l2.12,0.12l0.71,0.62l1.21,4.51l-0.95,3.98l-4.72,5.06l-1.64,2.92l-1.72,2.05l-0.8,0.3l-0.72,2.03l0.18,4.75l-0.94,5.53l-0.81,1.13l-0.43,3.36l-2.55,3.5l-0.4,2.51l-1.86,1.04l-0.67,1.53l-2.54,0.01l-3.94,1.01l-1.83,1.2l-2.87,0.82l-3.03,2.19l-2.2,2.83l-0.36,2.0l0.4,1.58l-0.44,2.6l-0.51,1.2l-1.77,1.54l-2.75,4.78l-3.83,3.42l-1.24,2.74l-1.18,1.15l-0.36,-0.83l0.95,-1.14l0.01,-0.5l-1.52,-1.97l-4.56,-3.32l-1.03,-0.0l-2.38,-2.02l-0.81,-0.0l5.34,-5.45l3.77,-2.58l0.22,-2.46l-1.35,-1.81l-0.91,0.07l0.58,-2.33l0.01,-1.54l-1.11,-0.83l-1.75,0.3l-0.44,-3.11l-0.52,-0.95l-1.88,-0.88l-1.24,0.47l-2.17,-0.41l0.15,-3.21l-0.62,-1.34l0.66,-0.73l-0.22,-1.34l0.66,-1.13l0.44,-2.04l-0.61,-1.83l-1.4,-0.86l-0.2,-0.75l0.34,-1.39l-0.38,-0.5l-4.52,-0.1l-0.72,-2.22l0.59,-0.42l-0.03,-1.1l-0.5,-0.87l-0.32,-1.7l-1.45,-0.76l-1.63,-0.02l-1.05,-0.72l-1.6,-0.48l-1.13,-0.99l-2.69,-0.4l-2.47,-2.06l0.13,-4.35l-0.45,-0.45l-3.46,0.5l-3.44,1.94l-0.6,0.74l-2.9,-0.17l-1.47,0.42l-0.72,-0.18l0.15,-3.52l-0.63,-0.34l-1.94,1.41l-1.87,-0.06l-0.83,-1.18l-1.37,-0.26l0.21,-1.01l-1.35,-1.49l-0.88,-1.91l0.56,-0.6l-0.0,-0.81l1.29,-0.62l0.22,-0.43l-0.22,-1.19l0.61,-0.91l0.15,-0.99l2.65,-1.58l1.99,-0.47l0.42,-0.36l2.06,0.11l0.42,-0.33l1.19,-8.0l-0.41,-1.56l-1.1,-1.0l0.01,-1.33l1.91,-0.42l0.08,-0.96l-0.33,-0.43l-1.14,-0.2l-0.02,-0.83l4.47,0.05l0.82,-0.67l0.82,1.81l0.8,0.07l1.15,1.1l2.26,-0.05l0.71,-0.83l2.78,-0.96l0.48,-1.13l1.6,-0.64l0.24,-0.47l-0.48,-0.82l-1.83,-0.19l-0.36,-3.22Z",name:"Brazil"},BS:{path:"M226.4,223.87l-0.48,-1.15l-0.84,-0.75l0.36,-1.11l0.95,1.95l0.01,1.06ZM225.56,216.43l-1.87,0.29l-0.04,-0.22l0.74,-0.14l1.17,0.06Z",name:"Bahamas"},BY:{path:"M493.84,128.32l0.29,0.7l0.49,0.23l1.19,-0.38l2.09,0.72l0.19,1.26l-0.45,1.24l1.57,2.26l0.89,0.59l0.17,0.81l1.58,0.56l0.4,0.5l-0.53,0.41l-1.87,-0.11l-0.73,0.38l-0.13,0.52l1.04,2.74l-1.91,0.26l-0.89,0.99l-0.11,1.18l-2.73,-0.04l-0.53,-0.62l-0.52,-0.08l-0.75,0.46l-0.91,-0.42l-1.92,-0.07l-2.75,-0.79l-2.6,-0.28l-2.0,0.07l-1.5,0.92l-0.67,0.07l-0.08,-1.22l-0.59,-1.19l1.36,-0.88l0.01,-1.35l-0.7,-1.41l-0.07,-1.0l2.16,-0.02l2.72,-1.3l0.75,-2.04l1.91,-1.04l0.2,-0.41l-0.19,-1.25l3.8,-1.78l2.3,0.77Z",name:"Belarus"},BZ:{path:"M198.03,244.38l0.1,-4.49l0.69,-0.06l0.74,-1.3l0.34,0.28l-0.4,1.3l0.17,0.58l-0.34,2.25l-1.3,1.42Z",name:"Belize"},RU:{path:"M491.55,115.25l2.55,-1.85l-0.01,-0.65l-2.2,-1.5l7.32,-6.76l1.03,-2.11l-0.13,-0.49l-3.46,-2.52l0.86,-2.7l-2.11,-2.81l1.56,-3.67l-2.77,-4.52l2.15,-2.99l-0.08,-0.55l-3.65,-2.73l0.3,-2.54l1.81,-0.37l4.26,-1.77l2.42,-1.45l4.06,2.61l6.79,1.04l9.34,4.85l1.78,1.88l0.14,2.46l-2.55,2.02l-3.9,1.06l-11.07,-3.14l-2.06,0.53l-0.13,0.7l3.94,2.94l0.31,5.86l0.26,0.36l5.14,2.24l0.58,-0.29l0.32,-1.94l-1.35,-1.78l1.13,-1.09l6.13,2.42l2.11,-0.98l0.18,-0.56l-1.51,-2.67l5.41,-3.76l2.07,0.22l2.26,1.41l0.57,-0.16l1.46,-2.87l-0.05,-0.44l-1.92,-2.32l1.12,-2.32l-1.32,-2.27l5.87,1.16l1.04,1.75l-2.59,0.43l-0.33,0.4l0.02,2.36l2.46,1.83l3.87,-0.91l0.86,-2.8l13.69,-5.65l0.99,0.11l-1.92,2.06l0.23,0.67l3.11,0.45l2.0,-1.48l4.56,-0.12l3.64,-1.73l2.65,2.44l0.56,-0.01l2.85,-2.88l-0.01,-0.57l-2.35,-2.29l0.9,-1.01l7.14,1.3l3.41,1.36l9.05,4.97l0.51,-0.11l1.67,-2.27l-0.05,-0.53l-2.43,-2.21l-0.06,-0.78l-0.34,-0.36l-2.52,-0.36l0.64,-1.93l-1.32,-3.46l-0.06,-1.21l4.48,-4.06l1.69,-4.29l1.6,-0.81l6.23,1.18l0.44,2.21l-2.29,3.64l0.06,0.5l1.47,1.39l0.76,3.0l-0.56,6.03l2.69,2.82l-0.96,2.57l-4.86,5.95l0.23,0.64l2.86,0.61l0.42,-0.17l0.93,-1.4l2.64,-1.03l0.87,-2.24l2.09,-1.96l0.07,-0.5l-1.36,-2.28l1.09,-2.69l-0.32,-0.55l-2.47,-0.33l-0.5,-2.06l1.94,-4.38l-0.06,-0.42l-2.96,-3.4l4.12,-2.88l0.16,-0.4l-0.51,-2.93l0.54,-0.05l1.13,2.25l-0.96,4.35l0.27,0.47l2.68,0.84l0.5,-0.51l-1.02,-2.99l3.79,-1.66l5.01,-0.24l4.53,2.61l0.48,-0.06l0.07,-0.48l-2.18,-3.82l-0.23,-4.67l3.98,-0.9l5.97,0.21l5.49,-0.64l0.27,-0.65l-1.83,-2.31l2.56,-2.9l2.87,-0.17l4.8,-2.47l6.54,-0.67l1.03,-1.42l6.25,-0.45l2.32,1.11l5.53,-2.7l4.5,0.08l0.39,-0.28l0.66,-2.15l2.26,-2.12l5.69,-2.11l3.21,1.29l-2.46,0.94l-0.25,0.42l0.34,0.35l5.41,0.77l0.61,2.33l0.58,0.25l2.2,-1.22l7.13,0.07l5.51,2.47l1.79,1.72l-0.53,2.24l-9.16,4.15l-1.97,1.52l0.16,0.71l6.77,1.91l2.16,-0.78l1.13,2.74l0.67,0.11l1.01,-1.15l3.81,-0.73l7.7,0.77l0.54,1.99l0.36,0.29l10.47,0.71l0.43,-0.38l0.13,-3.23l4.87,0.78l3.95,-0.02l3.83,2.4l1.03,2.71l-1.35,1.79l0.02,0.5l3.15,3.64l4.07,1.96l0.53,-0.18l2.23,-4.47l3.95,1.93l4.16,-1.21l4.73,1.39l2.05,-1.26l3.94,0.62l0.43,-0.55l-1.68,-4.02l2.89,-1.8l22.31,3.03l2.16,2.75l6.55,3.51l10.29,-0.81l4.82,0.73l1.85,1.66l-0.29,3.08l0.25,0.41l3.08,1.26l3.56,-0.88l4.35,-0.11l4.8,0.87l4.57,-0.47l4.23,3.79l0.43,0.07l3.1,-1.4l0.16,-0.6l-1.88,-2.62l0.85,-1.52l7.71,1.21l5.22,-0.26l7.09,2.09l9.59,5.22l6.35,4.11l-0.2,2.38l1.88,1.41l0.6,-0.42l-0.48,-2.53l6.15,0.57l4.4,3.51l-1.97,1.43l-4.0,0.41l-0.36,0.39l-0.06,3.79l-0.74,0.62l-2.07,-0.11l-1.91,-1.39l-3.14,-1.11l-0.78,-1.85l-2.72,-0.68l-2.63,0.49l-1.04,-1.1l0.46,-1.31l-0.5,-0.51l-3.0,0.98l-0.22,0.58l0.99,1.7l-1.21,1.48l-3.04,1.68l-3.12,-0.28l-0.4,0.23l0.09,0.46l2.2,2.09l1.46,3.2l1.15,1.1l0.24,1.33l-0.42,0.67l-4.63,-0.77l-6.96,2.9l-2.19,0.44l-7.6,5.06l-0.84,1.45l-3.61,-2.37l-6.24,2.82l-0.94,-1.15l-0.53,-0.08l-2.28,1.52l-3.2,-0.49l-0.44,0.27l-0.78,2.37l-3.05,3.78l0.09,1.47l0.29,0.36l2.54,0.72l-0.29,4.53l-1.97,0.11l-0.35,0.26l-1.07,2.94l0.8,1.45l-3.91,1.58l-1.05,3.95l-3.48,0.77l-0.3,0.3l-0.72,3.29l-3.09,2.65l-0.7,-1.74l-2.44,-12.44l1.16,-4.71l2.04,-2.06l0.22,-1.64l3.8,-0.86l4.46,-4.61l4.28,-3.81l4.48,-3.01l2.17,-5.63l-0.42,-0.54l-3.04,0.33l-1.77,3.31l-5.86,3.86l-1.86,-4.25l-0.45,-0.23l-6.46,1.3l-6.47,6.44l-0.01,0.55l1.58,1.74l-8.24,1.17l0.15,-2.2l-0.34,-0.42l-3.89,-0.56l-3.25,1.81l-7.62,-0.62l-8.45,1.19l-17.71,15.41l0.22,0.7l3.74,0.41l1.36,2.17l2.43,0.76l1.88,-1.68l2.4,0.2l3.4,3.54l0.08,2.6l-1.95,3.42l-0.21,3.9l-1.1,5.06l-3.71,4.54l-0.87,2.21l-8.29,8.89l-3.19,1.7l-1.32,0.03l-1.45,-1.36l-0.49,-0.04l-2.27,1.5l0.41,-3.65l-0.59,-2.47l1.75,-0.89l2.91,0.53l0.42,-0.2l1.68,-3.03l0.87,-3.46l0.97,-1.18l1.32,-2.88l-0.45,-0.56l-4.14,0.95l-2.19,1.25l-3.41,-0.0l-1.06,-2.93l-2.97,-2.3l-4.28,-1.06l-1.75,-5.07l-2.66,-5.01l-2.29,-1.29l-3.75,-1.01l-3.44,0.08l-3.18,0.62l-2.24,1.77l0.05,0.66l1.18,0.69l0.02,1.43l-1.33,1.05l-2.26,3.51l-0.04,1.43l-3.16,1.84l-2.82,-1.16l-3.01,0.23l-1.35,-1.07l-1.5,-0.35l-3.9,2.31l-3.22,0.52l-2.27,0.79l-3.05,-0.51l-2.21,0.03l-1.48,-1.6l-2.6,-1.63l-2.63,-0.43l-5.46,1.01l-3.23,-1.25l-0.72,-2.57l-5.2,-1.24l-2.75,-1.36l-0.5,0.12l-2.59,3.45l0.84,2.1l-2.06,1.93l-3.41,-0.77l-2.42,-0.12l-1.83,-1.54l-2.53,-0.05l-2.42,-0.98l-3.86,1.57l-4.72,2.78l-3.3,0.75l-1.55,-1.92l-3.0,0.41l-1.11,-1.33l-1.62,-0.59l-1.31,-1.94l-1.38,-0.6l-3.7,0.79l-3.31,-1.83l-0.51,0.11l-0.99,1.29l-5.29,-8.05l-2.96,-2.48l0.65,-0.77l0.01,-0.51l-0.5,-0.11l-6.2,3.21l-1.84,0.15l0.15,-1.39l-0.26,-0.42l-3.22,-1.17l-2.46,0.7l-0.69,-3.16l-0.32,-0.31l-4.5,-0.75l-2.47,1.47l-6.19,1.27l-1.29,0.86l-9.51,1.3l-1.15,1.17l-0.03,0.53l1.47,1.9l-1.89,0.69l-0.22,0.56l0.31,0.6l-2.11,1.44l0.03,0.68l3.75,2.12l-0.39,0.98l-3.23,-0.13l-0.86,0.86l-3.09,-1.59l-3.97,0.07l-2.66,1.35l-8.32,-3.56l-4.07,0.06l-5.39,3.68l-0.39,2.0l-2.03,-1.5l-0.59,0.13l-2.0,3.59l0.57,0.93l-1.28,2.16l0.06,0.48l2.13,2.17l1.95,0.04l1.37,1.82l-0.23,1.46l0.25,0.43l0.83,0.33l-0.8,1.31l-2.49,0.62l-2.49,3.2l0.0,0.49l2.17,2.78l-0.15,2.18l2.5,3.24l-1.58,1.59l-0.7,-0.13l-1.63,-1.72l-2.29,-0.84l-0.94,-1.31l-2.34,-0.63l-1.48,0.4l-0.43,-0.47l-3.51,-1.48l-5.76,-1.01l-0.45,0.19l-2.89,-2.34l-2.9,-1.2l-1.53,-1.29l1.29,-0.43l2.08,-2.61l-0.05,-0.55l-0.89,-0.79l3.05,-1.06l0.27,-0.42l-0.07,-0.69l-0.49,-0.35l-1.73,0.39l0.04,-0.68l1.04,-0.72l2.66,-0.48l0.4,-1.32l-0.5,-1.6l0.92,-1.54l0.03,-1.17l-0.29,-0.37l-3.69,-1.06l-1.41,0.02l-1.42,-1.41l-2.19,0.38l-2.77,-1.01l-0.03,-0.59l-0.89,-1.43l-2.0,-0.32l-0.11,-0.54l0.49,-0.53l0.01,-0.53l-1.6,-1.9l-3.58,0.02l-0.88,0.73l-0.46,-0.07l-1.0,-2.79l2.22,-0.02l0.97,-0.74l0.07,-0.57l-0.9,-1.04l-1.35,-0.48l-0.11,-0.7l-0.95,-0.58l-1.38,-1.99l0.46,-0.98l-0.51,-1.96l-2.45,-0.84l-1.21,0.3l-0.46,-0.76l-2.46,-0.83l-0.72,-1.87l-0.21,-1.69l-0.99,-0.85l0.85,-1.17l-0.7,-3.21l1.66,-1.97l-0.16,-0.79ZM749.2,170.72l-0.6,0.4l-0.13,0.16l-0.01,-0.51l0.74,-0.05ZM874.85,67.94l-5.63,0.48l-0.26,-0.84l3.15,-1.89l1.94,0.01l3.19,1.16l-2.39,1.09ZM797.39,48.49l-2.0,1.36l-3.8,-0.42l-4.25,-1.8l0.35,-0.97l9.69,1.83ZM783.67,46.12l-1.63,3.09l-8.98,-0.13l-4.09,1.14l-4.54,-2.97l1.16,-3.01l3.05,-0.89l6.5,0.22l8.54,2.56ZM778.2,134.98l-0.56,-0.9l0.27,-0.12l0.29,1.01ZM778.34,135.48l0.94,3.53l-0.05,3.38l1.05,3.39l2.18,5.0l-2.89,-0.83l-0.49,0.26l-1.54,4.65l2.42,3.5l-0.04,1.13l-1.24,-1.24l-0.61,0.06l-1.09,1.61l-0.28,-1.61l0.27,-3.1l-0.28,-3.4l0.58,-2.47l0.11,-4.39l-1.46,-3.36l0.21,-4.32l2.15,-1.46l0.07,-0.34ZM771.95,56.61l1.76,-1.42l2.89,-0.42l3.28,1.71l0.14,0.6l-3.27,0.03l-4.81,-0.5ZM683.76,31.09l-13.01,1.93l4.03,-6.35l1.82,-0.56l1.73,0.34l5.99,2.98l-0.56,1.66ZM670.85,27.93l-5.08,0.64l-6.86,-1.57l-3.99,-2.05l-2.1,-4.16l-2.6,-0.87l5.72,-3.5l5.2,-1.28l4.69,2.85l5.59,5.4l-0.56,4.53ZM564.15,68.94l-0.64,0.17l-7.85,-0.57l-0.86,-2.04l-4.28,-1.17l-0.28,-1.94l2.27,-0.89l0.25,-0.39l-0.08,-2.38l4.81,-3.97l-0.15,-0.7l-1.47,-0.38l5.3,-3.81l0.15,-0.44l-0.58,-1.94l5.28,-2.51l8.21,-3.27l8.28,-0.96l4.35,-1.94l4.6,-0.64l1.36,1.61l-1.34,1.28l-16.43,4.94l-7.97,4.88l-7.74,9.63l0.66,4.14l4.16,3.27ZM548.81,18.48l-5.5,1.18l-0.58,1.02l-2.59,0.84l-2.13,-1.07l1.12,-1.42l-0.3,-0.65l-2.33,-0.07l1.68,-0.36l3.47,-0.06l0.42,1.29l0.66,0.16l1.38,-1.34l2.15,-0.88l2.94,1.01l-0.39,0.36ZM477.37,133.15l-4.08,0.05l-2.56,-0.32l0.33,-0.87l3.17,-1.03l3.24,0.96l-0.09,1.23Z",name:"Russia"},RW:{path:"M497.0,288.25l0.71,1.01l-0.11,1.09l-1.63,0.03l-1.04,1.39l-0.83,-0.11l0.51,-1.2l0.08,-1.34l0.42,-0.41l0.7,0.14l1.19,-0.61Z",name:"Rwanda"},RS:{path:"M469.4,163.99l0.42,-0.5l-0.01,-0.52l-1.15,-1.63l1.43,-0.62l1.33,0.12l1.17,1.06l0.46,1.13l1.34,0.64l0.35,1.35l1.46,0.9l0.76,-0.29l0.2,0.69l-0.48,0.78l0.22,1.12l1.05,1.22l-0.77,0.8l-0.37,1.52l-1.21,0.08l0.24,-0.64l-0.39,-0.54l-2.08,-1.64l-0.9,0.05l-0.48,0.94l-2.12,-1.37l0.53,-1.6l-1.11,-1.37l0.51,-1.1l-0.41,-0.57Z",name:"Serbia"},LT:{path:"M486.93,129.3l0.17,1.12l-1.81,0.98l-0.72,2.02l-2.47,1.18l-2.1,-0.02l-0.73,-1.05l-1.06,-0.3l-0.09,-1.87l-3.56,-1.13l-0.43,-2.36l2.48,-0.94l4.12,0.22l2.25,-0.31l0.52,0.69l1.24,0.21l2.19,1.56Z",name:"Lithuania"},LU:{path:"M436.08,149.45l-0.48,-0.07l0.3,-1.28l0.27,0.4l-0.09,0.96Z",name:"Luxembourg"},LR:{path:"M399.36,265.97l0.18,1.54l-0.48,0.99l0.08,0.47l2.47,1.8l-0.33,2.8l-2.65,-1.13l-5.78,-4.61l0.58,-1.32l2.1,-2.33l0.86,-0.22l0.77,1.14l-0.14,0.85l0.59,0.87l1.0,0.14l0.76,-0.99Z",name:"Liberia"},RO:{path:"M487.53,154.23l0.6,0.24l2.87,3.98l-0.17,2.69l0.45,1.42l1.32,0.81l1.35,-0.42l0.76,0.36l0.02,0.31l-0.83,0.45l-0.59,-0.22l-0.54,0.3l-0.62,3.3l-1.0,-0.22l-2.07,-1.13l-2.95,0.71l-1.25,0.76l-3.51,-0.15l-1.89,-0.47l-0.87,0.16l-0.82,-1.3l0.29,-0.26l-0.06,-0.64l-1.09,-0.34l-0.56,0.5l-1.05,-0.64l-0.39,-1.39l-1.36,-0.65l-0.35,-1.0l-0.83,-0.75l1.54,-0.54l2.66,-4.21l2.4,-1.24l2.96,0.34l1.48,0.73l0.79,-0.45l1.78,-0.3l0.75,-0.74l0.79,0.0Z",name:"Romania"},GW:{path:"M386.23,253.6l-0.29,0.84l0.15,0.6l-2.21,0.59l-0.86,0.96l-1.04,-0.83l-1.09,-0.23l-0.54,-1.06l-0.66,-0.49l2.41,-0.48l4.13,0.1Z",name:"Guinea-Bissau"},GT:{path:"M195.08,249.77l-2.48,-0.37l-1.03,-0.45l-1.14,-0.89l0.3,-0.99l-0.24,-0.68l0.96,-1.66l2.98,-0.01l0.4,-0.37l-0.19,-1.28l-1.67,-1.4l0.51,-0.4l0.0,-1.05l3.85,0.02l-0.21,4.53l0.4,0.43l1.46,0.38l-1.48,0.98l-0.35,0.7l0.12,0.57l-2.2,1.96Z",name:"Guatemala"},GR:{path:"M487.07,174.59l-0.59,1.43l-0.37,0.21l-2.84,-0.35l-3.03,0.77l-0.18,0.68l1.28,1.23l-0.61,0.23l-1.14,0.0l-1.2,-1.39l-0.63,0.03l-0.53,1.01l0.56,1.76l1.03,1.19l-0.56,0.38l-0.05,0.62l2.52,2.12l0.02,0.87l-1.78,-0.59l-0.48,0.56l0.5,1.0l-1.07,0.2l-0.3,0.53l0.75,2.01l-0.98,0.02l-1.84,-1.12l-1.37,-4.2l-2.21,-2.95l-0.11,-0.56l1.04,-1.28l0.2,-0.95l0.85,-0.66l0.03,-0.46l1.32,-0.21l1.01,-0.64l1.22,0.05l0.65,-0.56l2.26,-0.0l1.82,-0.75l1.85,1.0l2.28,-0.28l0.35,-0.39l0.01,-0.77l0.34,0.22ZM480.49,192.16l0.58,0.4l-0.68,-0.12l0.11,-0.28ZM482.52,192.82l2.51,0.06l0.24,0.32l-1.99,0.13l-0.77,-0.51Z",name:"Greece"},GQ:{path:"M448.79,279.62l0.02,2.22l-4.09,0.0l0.69,-2.27l3.38,0.05Z",name:"Eq. Guinea"},GY:{path:"M277.42,270.07l-0.32,1.83l-1.32,0.57l-0.23,0.46l-0.28,2.0l1.11,1.82l0.83,0.19l0.32,1.25l1.13,1.62l-1.21,-0.19l-1.08,0.71l-1.77,0.5l-0.44,0.46l-0.86,-0.09l-1.32,-1.01l-0.77,-2.27l0.36,-1.9l0.68,-1.23l-0.57,-1.17l-0.74,-0.43l0.12,-1.16l-0.9,-0.69l-1.1,0.09l-1.31,-1.48l0.53,-0.72l-0.04,-0.84l1.99,-0.86l0.05,-0.59l-0.71,-0.78l0.14,-0.57l1.66,-1.24l1.36,0.77l1.41,1.49l0.06,1.15l0.37,0.38l0.8,0.05l2.06,1.86Z",name:"Guyana"},GE:{path:"M521.71,168.93l5.29,0.89l4.07,2.01l1.41,-0.44l2.07,0.56l0.68,1.1l1.07,0.55l-0.12,0.59l0.98,1.29l-1.01,-0.13l-1.81,-0.83l-0.94,0.47l-3.23,0.43l-2.29,-1.39l-2.33,0.05l0.21,-0.97l-0.76,-2.26l-1.45,-1.12l-1.43,-0.39l-0.41,-0.42Z",name:"Georgia"},GB:{path:"M412.61,118.72l-2.19,3.22l-0.0,0.45l5.13,-0.3l-0.53,2.37l-2.2,3.12l0.29,0.63l2.37,0.21l2.33,4.3l1.76,0.69l2.2,5.12l2.94,0.77l-0.23,1.62l-1.15,0.88l-0.1,0.52l0.82,1.42l-1.86,1.43l-3.3,-0.02l-4.12,0.87l-1.04,-0.58l-0.47,0.06l-1.51,1.41l-2.12,-0.34l-1.86,1.18l-0.6,-0.29l3.19,-3.0l2.16,-0.69l0.28,-0.41l-0.34,-0.36l-3.73,-0.53l-0.4,-0.76l2.2,-0.87l0.17,-0.61l-1.26,-1.67l0.36,-1.7l3.38,0.28l0.43,-0.33l0.37,-1.99l-1.79,-2.49l-3.11,-0.72l-0.38,-0.59l0.79,-1.35l-0.04,-0.46l-0.82,-0.97l-0.61,0.01l-0.68,0.84l-0.1,-2.34l-1.23,-1.88l0.85,-3.47l1.77,-2.68l1.85,0.26l2.17,-0.22ZM406.26,132.86l-1.01,1.77l-1.57,-0.59l-1.16,0.01l0.37,-1.54l-0.39,-1.39l1.45,-0.1l2.3,1.84Z",name:"United Kingdom"},GA:{path:"M453.24,279.52l-0.08,0.98l0.7,1.29l2.36,0.24l-0.98,2.63l1.18,1.79l0.25,1.78l-0.29,1.52l-0.6,0.93l-1.84,-0.09l-1.23,-1.11l-0.66,0.23l-0.15,0.84l-1.42,0.26l-1.02,0.7l-0.11,0.52l0.77,1.35l-1.34,0.97l-3.94,-4.3l-1.44,-2.45l0.06,-0.6l0.54,-0.81l1.05,-3.46l4.17,-0.07l0.4,-0.4l-0.02,-2.66l2.39,0.21l1.25,-0.27Z",name:"Gabon"},GN:{path:"M391.8,254.11l0.47,0.8l1.11,-0.32l0.98,0.7l1.07,0.2l2.26,-1.22l0.64,0.44l1.13,1.56l-0.48,1.4l0.8,0.3l-0.08,0.48l0.46,0.68l-0.35,1.36l1.05,2.61l-1.0,0.69l0.03,1.41l-0.72,-0.06l-1.08,1.0l-0.24,-0.27l0.07,-1.11l-1.05,-1.54l-1.79,0.21l-0.35,-2.01l-1.6,-2.18l-2.0,-0.0l-1.31,0.54l-1.95,2.18l-1.86,-2.19l-1.2,-0.78l-0.3,-1.11l-0.8,-0.85l0.65,-0.72l0.81,-0.03l1.64,-0.8l0.23,-1.87l2.67,0.64l0.89,-0.3l1.21,0.15Z",name:"Guinea"},GM:{path:"M379.31,251.39l0.1,-0.35l2.43,-0.07l0.74,-0.61l0.51,-0.03l0.77,0.49l-1.03,-0.3l-1.87,0.9l-1.65,-0.04ZM384.03,250.91l0.91,0.05l0.75,-0.24l-0.59,0.31l-1.08,-0.13Z",name:"Gambia"},GL:{path:"M353.02,1.2l14.69,4.67l-3.68,1.89l-22.97,0.86l-0.36,0.27l0.12,0.43l1.55,1.18l8.79,-0.66l7.48,2.07l4.86,-1.77l1.66,1.73l-2.53,3.19l-0.01,0.48l0.46,0.15l6.35,-2.2l12.06,-2.31l7.24,1.13l1.09,1.99l-9.79,4.01l-1.44,1.32l-7.87,0.98l-0.35,0.41l0.38,0.38l5.07,0.24l-2.53,3.58l-2.07,3.81l0.08,6.05l2.57,3.11l-3.22,0.2l-4.12,1.66l-0.05,0.72l4.45,2.65l0.51,3.75l-2.3,0.4l-0.25,0.64l2.79,3.69l-4.82,0.31l-0.36,0.29l0.16,0.44l2.62,1.8l-0.59,1.22l-3.3,0.7l-3.45,0.01l-0.29,0.68l3.03,3.12l0.02,1.34l-4.4,-1.73l-1.72,1.35l0.15,0.66l3.31,1.15l3.13,2.71l0.81,3.16l-3.85,0.75l-4.89,-4.26l-0.47,-0.03l-0.17,0.44l0.79,2.86l-2.71,2.21l-0.13,0.44l0.37,0.27l8.73,0.34l-12.32,6.64l-7.24,1.48l-2.94,0.08l-2.69,1.75l-3.43,4.41l-5.24,2.84l-1.73,0.18l-7.12,2.1l-2.15,2.52l-0.13,2.99l-1.19,2.45l-4.01,3.09l-0.14,0.44l0.97,2.9l-2.28,6.48l-3.1,0.2l-3.83,-3.07l-4.86,-0.02l-2.25,-1.93l-1.7,-3.79l-4.3,-4.84l-1.21,-2.49l-0.44,-3.8l-3.32,-3.63l0.84,-2.86l-1.56,-1.7l2.28,-4.6l3.83,-1.74l1.03,-1.96l0.52,-3.47l-0.59,-0.41l-4.17,2.21l-2.07,0.58l-2.72,-1.28l-0.15,-2.71l0.85,-2.09l2.01,-0.06l5.06,1.2l0.46,-0.23l-0.14,-0.49l-6.54,-4.47l-2.67,0.55l-1.58,-0.86l2.56,-4.01l-0.03,-0.48l-1.5,-1.74l-4.98,-8.5l-3.13,-1.96l0.03,-1.88l-0.24,-0.37l-6.85,-3.02l-5.36,-0.38l-12.7,0.58l-2.78,-1.57l-3.66,-2.77l5.73,-1.45l5.0,-0.28l0.38,-0.38l-0.35,-0.41l-10.67,-1.38l-5.3,-2.06l0.25,-1.54l18.41,-5.26l1.22,-2.27l-0.25,-0.55l-6.14,-1.86l1.68,-1.77l8.55,-4.03l3.59,-0.63l0.3,-0.54l-0.88,-2.27l5.47,-1.47l7.65,-0.95l7.55,-0.05l3.04,1.85l6.48,-3.27l5.81,2.22l3.56,0.5l5.16,1.94l0.5,-0.21l-0.17,-0.52l-5.71,-3.13l0.28,-2.13l8.12,-3.6l8.7,0.28l3.35,-2.34l8.71,-0.6l19.93,0.8Z",name:"Greenland"},KW:{path:"M540.81,207.91l0.37,0.86l-0.17,0.76l0.6,1.53l-0.95,0.04l-0.82,-1.28l-1.57,-0.18l1.31,-1.88l1.22,0.17Z",name:"Kuwait"},GH:{path:"M420.53,257.51l-0.01,0.72l0.96,1.2l0.24,3.73l0.59,0.95l-0.51,2.1l0.19,1.41l1.02,2.21l-6.97,2.84l-1.8,-0.57l0.04,-0.89l-1.02,-2.04l0.61,-2.65l1.07,-2.32l-0.96,-6.47l5.01,0.07l0.94,-0.39l0.61,0.11Z",name:"Ghana"},OM:{path:"M568.09,230.93l-0.91,1.67l-1.22,0.04l-0.6,0.76l-0.41,1.51l0.27,1.58l-1.16,0.05l-1.56,0.97l-0.76,1.74l-1.62,0.05l-0.98,0.65l-0.17,1.15l-0.89,0.52l-1.49,-0.18l-2.4,0.94l-2.47,-5.4l7.35,-2.71l1.67,-5.23l-1.12,-2.09l0.05,-0.83l0.67,-1.0l0.07,-1.05l0.9,-0.42l-0.05,-2.07l0.7,-0.01l1.0,1.62l1.51,1.08l3.3,0.84l1.73,2.29l0.81,0.37l-1.23,2.35l-0.99,0.79Z",name:"Oman"},_2:{path:"M531.15,258.94l1.51,0.12l5.13,-0.95l5.3,-1.48l-0.01,4.4l-2.67,3.39l-1.85,0.01l-8.04,-2.94l-2.55,-3.17l1.12,-1.71l2.04,2.34Z",name:"Somaliland"},_1:{path:"M472.77,172.64l-1.08,-1.29l0.96,-0.77l0.29,-0.83l1.98,1.64l-0.36,0.67l-1.79,0.58Z",name:"Kosovo"},_0:{path:"M504.91,192.87l0.34,0.01l0.27,-0.07l-0.29,0.26l-0.31,-0.2Z",name:"N. Cyprus"},JO:{path:"M518.64,201.38l-5.14,1.56l-0.19,0.65l2.16,2.39l-0.89,1.14l-1.71,0.34l-1.71,1.8l-2.34,-0.37l1.21,-4.32l0.56,-4.07l2.8,0.94l4.46,-2.71l0.79,2.66Z",name:"Jordan"},HR:{path:"M455.59,162.84l1.09,0.07l-0.82,0.94l-0.27,-1.01ZM456.96,162.92l0.62,-0.41l1.73,0.45l0.42,-0.4l-0.01,-0.59l0.86,-0.52l0.2,-1.05l1.63,-0.68l2.57,1.68l2.07,0.6l0.87,-0.31l1.05,1.57l-0.52,0.63l-1.05,-0.56l-1.68,0.04l-2.1,-0.5l-1.29,0.06l-0.57,0.49l-0.59,-0.47l-0.62,0.16l-0.46,1.7l1.79,2.42l2.79,2.75l-1.18,-0.87l-2.21,-0.87l-1.67,-1.78l0.13,-0.63l-1.05,-1.19l-0.32,-1.27l-1.42,-0.43Z",name:"Croatia"},HT:{path:"M237.05,238.38l-1.16,0.43l-0.91,-0.55l0.05,-0.2l2.02,0.31ZM237.53,238.43l1.06,0.12l-0.05,0.01l-1.01,-0.12ZM239.25,238.45l0.79,-0.51l0.06,-0.62l-1.02,-1.0l0.02,-0.82l-0.3,-0.4l-0.93,-0.32l3.16,0.45l0.02,1.84l-0.48,0.34l-0.08,0.58l0.54,0.72l-1.78,-0.26Z",name:"Haiti"},HU:{path:"M462.08,157.89l0.65,-1.59l-0.09,-0.44l0.64,-0.0l0.39,-0.34l0.1,-0.69l1.75,0.87l2.32,-0.37l0.43,-0.66l3.49,-0.78l0.69,-0.78l0.57,-0.14l2.57,0.93l0.67,-0.23l1.03,0.65l0.08,0.37l-1.42,0.71l-2.59,4.14l-1.8,0.53l-1.68,-0.1l-2.74,1.23l-1.85,-0.54l-2.54,-1.66l-0.66,-1.1Z",name:"Hungary"},HN:{path:"M199.6,249.52l-1.7,-1.21l0.06,-0.94l3.04,-2.14l2.37,0.28l1.27,-0.09l1.1,-0.52l1.3,0.28l1.14,-0.25l1.38,0.37l2.23,1.37l-2.36,0.93l-1.23,-0.39l-0.88,1.3l-1.28,0.99l-0.98,-0.22l-0.42,0.52l-0.96,0.05l-0.36,0.41l0.04,0.88l-0.52,0.6l-0.3,0.04l-0.3,-0.55l-0.66,-0.31l0.11,-0.67l-0.48,-0.65l-0.87,-0.26l-0.73,0.2Z",name:"Honduras"},PR:{path:"M256.17,238.73l-0.26,0.27l-2.83,0.05l-0.07,-0.55l1.95,-0.1l1.22,0.33Z",name:"Puerto Rico"},PS:{path:"M509.21,203.07l0.1,-0.06l-0.02,0.03l-0.09,0.03ZM509.36,202.91l-0.02,-0.63l-0.33,-0.16l0.31,-1.09l0.24,0.1l-0.2,1.78Z",name:"Palestine"},PT:{path:"M401.84,187.38l-0.64,0.47l-1.13,-0.35l-0.91,0.17l0.28,-1.78l-0.24,-1.78l-1.25,-0.56l-0.45,-0.84l0.17,-1.66l1.01,-1.18l0.69,-2.92l-0.04,-1.39l-0.59,-1.9l1.3,-0.85l0.84,1.35l3.1,-0.3l0.46,0.99l-1.05,0.94l-0.03,2.16l-0.41,0.57l-0.08,1.1l-0.79,0.18l-0.26,0.59l0.91,1.6l-0.63,1.75l0.76,1.09l-1.1,1.52l0.07,1.05Z",name:"Portugal"},PY:{path:"M274.9,336.12l0.74,1.52l-0.16,3.45l0.32,0.41l2.64,0.5l1.11,-0.47l1.4,0.59l0.36,0.6l0.53,3.42l1.27,0.4l0.98,-0.38l0.51,0.27l-0.0,1.18l-1.21,5.32l-2.09,1.9l-1.8,0.4l-4.71,-0.98l2.2,-3.63l-0.32,-1.5l-2.78,-1.28l-3.03,-1.94l-2.07,-0.44l-4.34,-4.06l0.91,-2.9l0.08,-1.42l1.07,-2.04l4.13,-0.72l2.18,0.03l2.05,1.17l0.03,0.59Z",name:"Paraguay"},PA:{path:"M213.8,263.68l0.26,-1.52l-0.36,-0.26l-0.01,-0.49l0.44,-0.1l0.93,1.4l1.26,0.03l0.77,0.49l1.38,-0.23l2.51,-1.11l0.86,-0.72l3.45,0.85l1.4,1.18l0.41,1.74l-0.21,0.34l-0.53,-0.12l-0.47,0.29l-0.16,0.6l-0.68,-1.28l0.45,-0.49l-0.19,-0.66l-0.47,-0.13l-0.54,-0.84l-1.5,-0.75l-1.1,0.16l-0.75,0.99l-1.62,0.84l-0.18,0.96l0.85,0.97l-0.58,0.45l-0.69,0.08l-0.34,-1.18l-1.27,0.03l-0.71,-1.05l-2.59,-0.46Z",name:"Panama"},PG:{path:"M808.58,298.86l2.54,2.56l-0.13,0.26l-0.33,0.12l-0.87,-0.78l-1.22,-2.16ZM801.41,293.04l0.5,0.29l0.26,0.27l-0.49,-0.35l-0.27,-0.21ZM803.17,294.58l0.59,0.5l0.08,1.06l-0.29,-0.91l-0.38,-0.65ZM796.68,298.41l0.52,0.75l1.43,-0.19l2.27,-1.81l-0.01,-1.43l1.12,0.16l-0.04,1.1l-0.7,1.28l-1.12,0.18l-0.62,0.79l-2.46,1.11l-1.17,-0.0l-3.08,-1.25l3.41,0.0l0.45,-0.68ZM789.15,303.55l2.31,1.8l1.59,2.61l1.34,0.13l-0.06,0.66l0.31,0.43l1.06,0.24l0.06,0.65l2.25,1.05l-1.22,0.13l-0.72,-0.63l-4.56,-0.65l-3.22,-2.87l-1.49,-2.34l-3.27,-1.1l-2.38,0.72l-1.59,0.86l-0.2,0.42l0.27,1.55l-1.55,0.68l-1.36,-0.4l-2.21,-0.09l-0.08,-15.41l8.39,2.93l2.95,2.4l0.6,1.64l4.02,1.49l0.31,0.68l-1.76,0.21l-0.33,0.52l0.55,1.68Z",name:"Papua New Guinea"},PE:{path:"M244.96,295.21l-1.26,-0.07l-0.57,0.42l-1.93,0.45l-2.98,1.75l-0.36,1.36l-0.58,0.8l0.12,1.37l-1.24,0.59l-0.22,1.22l-0.62,0.84l1.04,2.27l1.28,1.44l-0.41,0.84l0.32,0.57l1.48,0.13l1.16,1.37l2.21,0.07l1.63,-1.08l-0.13,3.02l0.3,0.4l1.14,0.29l1.31,-0.34l1.9,3.59l-0.48,0.85l-0.17,3.85l-0.94,1.59l0.35,0.75l-0.47,1.07l0.98,1.97l-2.1,3.82l-0.98,0.5l-2.17,-1.28l-0.39,-1.16l-4.95,-2.58l-4.46,-2.79l-1.84,-1.51l-0.91,-1.84l0.3,-0.96l-2.11,-3.33l-4.82,-9.68l-1.04,-1.2l-0.87,-1.94l-3.4,-2.48l0.58,-1.18l-1.13,-2.23l0.66,-1.49l1.45,-1.15l-0.6,0.98l0.07,0.92l0.47,0.36l1.74,0.03l0.97,1.17l0.54,0.07l1.42,-1.03l0.6,-1.84l1.42,-2.02l3.04,-1.04l2.73,-2.62l0.86,-1.74l-0.1,-1.87l1.44,1.02l0.9,1.25l1.06,0.59l1.7,2.73l1.86,0.31l1.45,-0.61l0.96,0.39l1.36,-0.19l1.45,0.89l-1.4,2.21l0.31,0.61l0.59,0.05l0.47,0.5Z",name:"Peru"},PK:{path:"M615.09,192.34l-1.83,1.81l-2.6,0.39l-3.73,-0.68l-1.58,1.33l-0.09,0.42l1.77,4.39l1.7,1.23l-1.69,1.27l-0.12,2.14l-2.33,2.64l-1.6,2.8l-2.46,2.67l-3.03,-0.07l-2.76,2.83l0.05,0.6l1.5,1.11l0.26,1.9l1.44,1.5l0.37,1.68l-5.01,-0.01l-1.78,1.7l-1.42,-0.52l-0.76,-1.87l-2.27,-2.15l-11.61,0.86l0.71,-2.34l3.43,-1.32l0.25,-0.44l-0.21,-1.24l-1.2,-0.65l-0.28,-2.46l-2.29,-1.14l-1.28,-1.94l2.82,0.94l2.62,-0.38l1.42,0.33l0.76,-0.56l1.71,0.19l3.25,-1.14l0.27,-0.36l0.08,-2.19l1.18,-1.32l1.68,0.0l0.58,-0.82l1.6,-0.3l1.19,0.16l0.98,-0.78l0.02,-1.88l0.93,-1.47l1.48,-0.66l0.19,-0.55l-0.66,-1.25l2.04,-0.11l0.69,-1.01l-0.02,-1.16l1.11,-1.06l-0.17,-1.78l-0.49,-1.03l1.15,-0.98l5.42,-0.91l2.6,-0.82l1.6,1.16l0.97,2.34l3.45,0.97Z",name:"Pakistan"},PH:{path:"M737.01,263.84l0.39,2.97l-0.44,1.18l-0.55,-1.53l-0.67,-0.14l-1.17,1.28l0.65,2.09l-0.42,0.69l-2.48,-1.23l-0.57,-1.49l0.65,-1.03l-0.1,-0.54l-1.59,-1.19l-0.56,0.08l-0.65,0.87l-1.23,0.0l-1.58,0.97l0.83,-1.8l2.56,-1.42l0.65,0.84l0.45,0.13l1.9,-0.69l0.56,-1.11l1.5,-0.06l0.38,-0.43l-0.09,-1.19l1.21,0.71l0.36,2.02ZM733.59,256.58l0.05,0.75l0.08,0.26l-0.8,-0.42l-0.18,-0.71l0.85,0.12ZM734.08,256.1l-0.12,-1.12l-1.0,-1.27l1.36,0.03l0.53,0.73l0.51,2.04l-1.27,-0.4ZM733.76,257.68l0.38,0.98l-0.32,0.15l-0.07,-1.13ZM724.65,238.43l1.46,0.7l0.72,-0.31l-0.32,1.17l0.79,1.71l-0.57,1.84l-1.53,1.04l-0.39,2.25l0.56,2.04l1.63,0.57l1.16,-0.27l2.71,1.23l-0.19,1.08l0.76,0.84l-0.08,0.36l-1.4,-0.9l-0.88,-1.27l-0.66,0.0l-0.38,0.55l-1.6,-1.31l-2.15,0.36l-0.87,-0.39l0.07,-0.61l0.66,-0.55l-0.01,-0.62l-0.75,-0.59l-0.72,0.44l-0.74,-0.87l-0.39,-2.49l0.32,0.27l0.66,-0.28l0.26,-3.97l0.7,-2.02l1.14,0.0ZM731.03,258.87l-0.88,0.85l-1.19,1.94l-1.05,-1.19l0.93,-1.1l0.32,-1.47l0.52,-0.06l-0.27,1.15l0.22,0.45l0.49,-0.12l1.0,-1.32l-0.08,0.85ZM726.83,255.78l0.83,0.38l1.17,-0.0l-0.02,0.48l-2.0,1.4l0.03,-2.26ZM724.81,252.09l-0.38,1.27l-1.42,-1.95l1.2,0.05l0.6,0.63ZM716.55,261.82l1.1,-0.95l0.03,-0.03l-0.28,0.36l-0.85,0.61ZM719.22,259.06l0.04,-0.06l0.8,-1.53l0.16,0.75l-1.0,0.84Z",name:"Philippines"},PL:{path:"M468.44,149.42l-1.11,-1.54l-1.86,-0.33l-0.48,-1.05l-1.72,-0.37l-0.65,0.69l-0.72,-0.36l0.11,-0.61l-0.33,-0.46l-1.75,-0.27l-1.04,-0.93l-0.94,-1.94l0.16,-1.22l-0.62,-1.8l-0.78,-1.07l0.57,-1.04l-0.48,-1.43l1.41,-0.83l6.91,-2.71l2.14,0.5l0.52,0.91l5.51,0.44l4.55,-0.05l1.07,0.31l0.48,0.84l0.15,1.58l0.65,1.2l-0.01,0.99l-1.27,0.58l-0.19,0.54l0.73,1.48l0.08,1.55l1.2,2.76l-0.17,0.58l-1.23,0.44l-2.27,2.72l0.18,0.95l-1.97,-1.03l-1.98,0.4l-1.36,-0.28l-1.24,0.58l-1.07,-0.97l-1.16,0.24Z",name:"Poland"},ZM:{path:"M481.47,313.3l0.39,0.31l2.52,0.14l0.99,1.17l2.01,0.35l1.4,-0.64l0.69,1.17l1.78,0.33l1.84,2.35l2.23,0.18l0.4,-0.43l-0.21,-2.74l-0.62,-0.3l-0.48,0.32l-1.98,-1.17l0.72,-5.29l-0.51,-1.18l0.57,-1.3l3.68,-0.62l0.26,0.63l1.21,0.63l0.9,-0.22l2.16,0.67l1.33,0.71l1.07,1.02l0.56,1.87l-0.88,2.7l0.43,2.09l-0.73,0.87l-0.76,2.37l0.59,0.68l-6.6,1.83l-0.29,0.44l0.19,1.45l-1.68,0.35l-1.43,1.02l-0.38,0.87l-0.87,0.26l-3.48,3.69l-4.16,-0.53l-1.52,-1.0l-1.77,-0.13l-1.83,0.52l-3.04,-3.4l0.11,-7.59l4.82,0.03l0.39,-0.49l-0.18,-0.76l0.33,-0.83l-0.4,-1.36l0.24,-1.05Z",name:"Zambia"},EH:{path:"M384.42,230.28l0.25,-0.79l1.06,-1.29l0.8,-3.51l3.38,-2.78l0.7,-1.81l0.06,4.84l-1.98,0.2l-0.94,1.59l0.39,3.56l-3.7,-0.01ZM392.01,218.1l0.7,-1.8l1.77,-0.24l2.09,0.34l0.95,-0.62l1.28,-0.07l-0.0,2.51l-6.79,-0.12Z",name:"W. Sahara"},EE:{path:"M485.71,115.04l2.64,0.6l2.56,0.11l-1.6,1.91l0.61,3.54l-0.81,0.87l-1.78,-0.01l-3.22,-1.76l-1.8,0.45l0.21,-1.53l-0.58,-0.41l-0.69,0.34l-1.26,-1.03l-0.17,-1.63l2.83,-0.92l3.05,-0.52Z",name:"Estonia"},EG:{path:"M492.06,205.03l1.46,0.42l2.95,-1.64l2.04,-0.21l1.53,0.3l0.59,1.19l0.69,0.04l0.41,-0.64l1.81,0.58l1.95,0.16l1.04,-0.51l1.42,4.08l-2.03,4.54l-1.66,-1.77l-1.76,-3.85l-0.64,-0.12l-0.36,0.67l1.04,2.88l3.44,6.95l1.78,3.04l2.03,2.65l-0.36,0.53l0.23,2.01l2.7,2.19l-28.41,0.0l0.0,-18.96l-0.73,-2.2l0.59,-1.56l-0.32,-1.26l0.68,-0.99l3.06,-0.04l4.82,1.52Z",name:"Egypt"},ZA:{path:"M467.14,373.21l-0.13,-1.96l-0.68,-1.56l0.7,-0.68l-0.13,-2.33l-4.56,-8.19l0.77,-0.86l0.6,0.45l0.69,1.31l2.83,0.72l1.5,-0.26l2.24,-1.39l0.19,-9.55l1.35,2.3l-0.21,1.5l0.61,1.2l0.4,0.19l1.79,-0.27l2.6,-2.07l0.69,-1.32l0.96,-0.48l2.19,1.04l2.04,0.13l1.77,-0.65l0.85,-2.12l1.38,-0.33l1.59,-2.76l2.15,-1.89l3.41,-1.87l2.0,0.45l1.02,-0.28l0.99,0.2l1.75,5.29l-0.38,3.25l-0.81,-0.23l-1.0,0.46l-0.87,1.68l-0.05,1.16l1.97,1.84l1.47,-0.29l0.69,-1.18l1.09,0.01l-0.76,3.69l-0.58,1.09l-2.2,1.79l-3.17,4.76l-2.8,2.83l-3.57,2.88l-2.53,1.05l-1.22,0.14l-0.51,0.7l-1.18,-0.32l-1.39,0.5l-2.59,-0.52l-1.61,0.33l-1.18,-0.11l-2.55,1.1l-2.1,0.44l-1.6,1.07l-0.85,0.05l-0.93,-0.89l-0.93,-0.15l-0.97,-1.13l-0.25,0.05ZM491.45,364.19l0.62,-0.93l1.48,-0.59l1.18,-2.19l-0.07,-0.49l-1.99,-1.69l-1.66,0.56l-1.43,1.14l-1.34,1.73l0.02,0.51l1.88,2.11l1.31,-0.16Z",name:"South Africa"},EC:{path:"M231.86,285.53l0.29,1.59l-0.69,1.45l-2.61,2.51l-3.13,1.11l-1.53,2.18l-0.49,1.68l-1.0,0.73l-1.02,-1.11l-1.78,-0.16l0.67,-1.15l-0.24,-0.86l1.25,-2.13l-0.54,-1.09l-0.67,-0.08l-0.72,0.87l-0.87,-0.64l0.35,-0.69l-0.36,-1.96l0.81,-0.51l0.45,-1.51l0.92,-1.57l-0.07,-0.97l2.65,-1.33l2.75,1.35l0.77,1.05l2.12,0.35l0.76,-0.32l1.96,1.21Z",name:"Ecuador"},AL:{path:"M470.32,171.8l0.74,0.03l0.92,0.89l-0.17,1.95l0.36,1.28l1.01,0.82l-1.82,2.83l-0.19,-0.61l-1.25,-0.89l-0.18,-1.2l0.53,-2.82l-0.54,-1.47l0.6,-0.83Z",name:"Albania"},AO:{path:"M461.55,300.03l1.26,3.15l1.94,2.36l2.47,-0.53l1.25,0.32l0.44,-0.18l0.93,-1.92l1.31,-0.08l0.41,-0.44l0.47,-0.0l-0.1,0.41l0.39,0.49l2.65,-0.02l0.03,1.19l0.48,1.01l-0.34,1.52l0.18,1.55l0.83,1.04l-0.13,2.85l0.54,0.39l3.96,-0.41l-0.1,1.79l0.39,1.05l-0.24,1.43l-4.7,-0.03l-0.4,0.39l-0.12,8.13l2.92,3.49l-3.83,0.88l-5.89,-0.36l-1.88,-1.24l-10.47,0.22l-1.3,-1.01l-1.85,-0.16l-2.4,0.77l-0.15,-1.06l0.33,-2.16l1.0,-3.45l1.35,-3.2l2.24,-2.8l0.33,-2.06l-0.13,-1.53l-0.8,-1.08l-1.21,-2.87l0.87,-1.62l-1.27,-4.12l-1.17,-1.53l2.47,-0.63l7.03,0.03ZM451.71,298.87l-0.47,-1.25l1.25,-1.11l0.32,0.3l-0.99,1.03l-0.12,1.03Z",name:"Angola"},KZ:{path:"M552.8,172.89l0.46,-1.27l-0.48,-1.05l-2.96,-1.19l-1.06,-2.58l-1.37,-0.87l-0.03,-0.3l1.95,0.23l0.45,-0.38l0.08,-1.96l1.75,-0.41l2.1,0.45l0.48,-0.33l0.45,-3.04l-0.45,-2.09l-0.41,-0.31l-2.42,0.15l-2.36,-0.73l-2.87,1.37l-2.17,0.61l-0.85,-0.34l0.13,-1.61l-1.6,-2.12l-2.02,-0.08l-1.78,-1.82l1.29,-2.18l-0.57,-0.95l1.62,-2.91l2.21,1.63l0.63,-0.27l0.29,-2.22l4.92,-3.43l3.71,-0.08l8.4,3.6l2.92,-1.36l3.77,-0.06l3.11,1.66l0.51,-0.11l0.6,-0.81l3.31,0.13l0.39,-0.25l0.63,-1.57l-0.17,-0.5l-3.5,-1.98l1.87,-1.27l-0.13,-1.03l1.98,-0.72l0.18,-0.62l-1.59,-2.06l0.81,-0.82l9.23,-1.18l1.33,-0.88l6.18,-1.26l2.26,-1.42l4.08,0.68l0.73,3.33l0.51,0.3l2.48,-0.8l2.79,1.02l-0.17,1.56l0.43,0.44l2.55,-0.24l4.89,-2.53l0.03,0.32l3.15,2.61l5.56,8.47l0.65,0.02l1.12,-1.46l3.15,1.74l3.76,-0.78l1.15,0.49l1.14,1.8l1.84,0.76l0.99,1.29l3.35,-0.25l1.02,1.52l-1.6,1.81l-1.93,0.28l-0.34,0.38l-0.11,3.05l-1.13,1.16l-4.75,-1.0l-0.46,0.27l-1.76,5.47l-1.1,0.59l-4.91,1.23l-0.27,0.54l2.1,4.97l-1.37,0.63l-0.23,0.41l0.13,1.13l-0.88,-0.25l-1.42,-1.13l-7.89,-0.4l-0.92,0.31l-3.73,-1.22l-1.42,0.63l-0.53,1.66l-3.72,-0.94l-1.85,0.43l-0.76,1.4l-4.65,2.62l-1.13,2.08l-0.44,0.01l-0.92,-1.4l-2.87,-0.09l-0.45,-2.14l-0.38,-0.32l-0.8,-0.01l0.0,-2.96l-3.0,-2.22l-7.31,0.58l-2.35,-2.68l-6.71,-3.69l-6.45,1.83l-0.29,0.39l0.1,10.85l-0.7,0.08l-1.62,-2.17l-1.83,-0.96l-3.11,0.59l-0.64,0.51Z",name:"Kazakhstan"},ET:{path:"M516.04,247.79l1.1,0.84l1.63,-0.45l0.68,0.47l1.63,0.03l2.01,0.94l1.73,1.66l1.64,2.07l-1.52,2.04l0.16,1.72l0.39,0.38l2.05,0.0l-0.36,1.03l2.86,3.58l8.32,3.08l1.31,0.02l-6.32,6.75l-3.1,0.11l-2.36,1.77l-1.47,0.04l-0.86,0.79l-1.38,-0.0l-1.32,-0.81l-2.29,1.05l-0.76,0.98l-3.29,-0.41l-3.07,-2.07l-1.8,-0.07l-0.62,-0.6l0.0,-1.24l-0.28,-0.38l-1.15,-0.37l-1.4,-2.59l-1.19,-0.68l-0.47,-1.0l-1.27,-1.23l-1.16,-0.22l0.43,-0.72l1.45,-0.28l0.41,-0.95l-0.03,-2.21l0.68,-2.44l1.05,-0.63l1.43,-3.06l1.57,-1.37l1.02,-2.51l0.35,-1.88l2.52,0.46l0.44,-0.24l0.58,-1.43Z",name:"Ethiopia"},ZW:{path:"M498.91,341.09l-1.11,-0.22l-0.92,0.28l-2.09,-0.44l-1.5,-1.11l-1.89,-0.43l-0.62,-1.4l-0.01,-0.84l-0.3,-0.38l-0.97,-0.25l-2.71,-2.74l-1.92,-3.32l3.83,0.45l3.73,-3.82l1.08,-0.44l0.26,-0.77l1.25,-0.9l1.41,-0.26l0.5,0.89l1.99,-0.05l1.72,1.17l1.11,0.17l1.05,0.66l0.01,2.99l-0.59,3.76l0.38,0.86l-0.23,1.23l-0.39,0.35l-0.63,1.81l-2.43,2.75Z",name:"Zimbabwe"},ES:{path:"M416.0,169.21l1.07,1.17l4.61,1.38l1.06,-0.57l2.6,1.26l2.71,-0.3l0.09,1.12l-2.14,1.8l-3.11,0.61l-0.31,0.31l-0.2,0.89l-1.54,1.69l-0.97,2.4l0.84,1.74l-1.32,1.27l-0.48,1.68l-1.88,0.65l-1.66,2.07l-5.36,-0.01l-1.79,1.08l-0.89,0.98l-0.88,-0.17l-0.79,-0.82l-0.68,-1.59l-2.37,-0.63l-0.11,-0.5l1.21,-1.82l-0.77,-1.13l0.61,-1.68l-0.76,-1.62l0.87,-0.49l0.09,-1.25l0.42,-0.6l0.03,-2.11l0.99,-0.69l0.13,-0.5l-1.03,-1.73l-1.46,-0.11l-0.61,0.38l-1.06,0.0l-0.52,-1.23l-0.53,-0.21l-1.32,0.67l-0.01,-1.49l-0.75,-0.96l3.03,-1.88l2.99,0.53l3.32,-0.02l2.63,0.51l6.01,-0.06Z",name:"Spain"},ER:{path:"M520.38,246.23l3.42,2.43l3.5,3.77l0.84,0.54l-0.95,-0.01l-3.51,-3.89l-2.33,-1.15l-1.73,-0.07l-0.91,-0.51l-1.26,0.51l-1.34,-1.02l-0.61,0.17l-0.66,1.61l-2.35,-0.43l-0.17,-0.67l1.29,-5.29l0.61,-0.61l1.95,-0.53l0.87,-1.01l1.17,2.41l0.68,2.33l1.49,1.43Z",name:"Eritrea"},ME:{path:"M468.91,172.53l-1.22,-1.02l0.47,-1.81l0.89,-0.72l2.26,1.51l-0.5,0.57l-0.75,-0.27l-1.14,1.73Z",name:"Montenegro"},MD:{path:"M488.41,153.73l1.4,-0.27l1.72,0.93l1.07,0.15l0.85,0.65l-0.14,0.84l0.96,0.85l1.12,2.47l-1.15,-0.07l-0.66,-0.41l-0.52,0.25l-0.09,0.86l-1.08,1.89l-0.27,-0.86l0.25,-1.34l-0.16,-1.6l-3.29,-4.34Z",name:"Moldova"},MG:{path:"M545.91,319.14l0.4,3.03l0.62,1.21l-0.21,1.02l-0.57,-0.8l-0.69,-0.01l-0.47,0.76l0.41,2.12l-0.18,0.87l-0.73,0.78l-0.15,2.14l-4.71,15.2l-1.06,2.88l-3.92,1.64l-3.12,-1.49l-0.6,-1.21l-0.19,-2.4l-0.86,-2.05l-0.21,-1.77l0.38,-1.62l1.21,-0.75l0.01,-0.76l1.19,-2.04l0.23,-1.66l-1.06,-2.99l-0.19,-2.21l0.81,-1.33l0.32,-1.46l4.63,-1.22l3.44,-3.0l0.85,-1.4l-0.08,-0.7l0.78,-0.04l1.38,-1.77l0.13,-1.64l0.45,-0.61l1.16,1.69l0.59,1.6Z",name:"Madagascar"},MA:{path:"M378.78,230.02l0.06,-0.59l0.92,-0.73l0.82,-1.37l-0.09,-1.04l0.79,-1.7l1.31,-1.58l0.96,-0.59l0.66,-1.55l0.09,-1.47l0.81,-1.48l1.72,-1.07l1.55,-2.69l1.16,-0.96l2.44,-0.39l1.94,-1.82l1.31,-0.78l2.09,-2.28l-0.51,-3.65l1.24,-3.7l1.5,-1.75l4.46,-2.57l2.37,-4.47l1.44,0.01l1.68,1.21l2.32,-0.19l3.47,0.65l0.8,1.54l0.16,1.71l0.86,2.96l0.56,0.59l-0.26,0.61l-3.05,0.44l-1.26,1.05l-1.33,0.22l-0.33,0.37l-0.09,1.78l-2.68,1.0l-1.07,1.42l-4.47,1.13l-4.04,2.01l-0.54,4.64l-1.15,0.06l-0.92,0.61l-1.96,-0.35l-2.42,0.54l-0.74,1.9l-0.86,0.4l-1.14,3.26l-3.53,3.01l-0.8,3.55l-0.96,1.1l-0.29,0.82l-4.95,0.18Z",name:"Morocco"},UZ:{path:"M598.64,172.75l-1.63,1.52l0.06,0.64l1.85,1.12l1.97,-0.64l2.21,1.17l-2.52,1.68l-2.59,-0.22l-0.18,-0.41l0.46,-1.23l-0.45,-0.53l-3.35,0.69l-2.1,3.51l-1.87,-0.12l-1.03,1.51l0.22,0.55l1.64,0.62l0.46,1.83l-1.19,2.49l-2.66,-0.53l0.05,-1.36l-0.26,-0.39l-3.3,-1.23l-2.56,-1.4l-4.4,-3.34l-1.34,-3.14l-1.08,-0.6l-2.58,0.13l-0.69,-0.44l-0.47,-2.52l-3.37,-1.6l-0.43,0.05l-2.07,1.72l-2.1,1.01l-0.21,0.47l0.28,1.01l-1.91,0.03l-0.09,-10.5l5.99,-1.7l6.19,3.54l2.71,2.84l7.05,-0.67l2.71,2.01l-0.17,2.81l0.39,0.42l0.9,0.02l0.44,2.14l0.38,0.32l2.94,0.09l0.95,1.42l1.28,-0.24l1.05,-2.04l4.43,-2.5Z",name:"Uzbekistan"},MM:{path:"M673.9,230.21l-1.97,1.57l-0.57,0.96l-1.4,0.6l-1.36,1.05l-1.99,0.36l-1.08,2.66l-0.91,0.4l-0.19,0.55l1.21,2.27l2.52,3.43l-0.79,1.91l-0.74,0.41l-0.17,0.52l0.65,1.37l1.61,1.95l0.25,2.58l0.9,2.13l-1.92,3.57l0.68,-2.25l-0.81,-1.74l0.19,-2.65l-1.05,-1.53l-1.24,-6.17l-1.12,-2.26l-0.6,-0.13l-4.34,3.02l-2.39,-0.65l0.77,-2.84l-0.52,-2.61l-1.91,-2.96l0.25,-0.75l-0.29,-0.51l-1.33,-0.3l-1.61,-1.93l-0.1,-1.3l0.82,-0.24l0.04,-1.64l1.02,-0.52l0.21,-0.45l-0.23,-0.95l0.54,-0.96l0.08,-2.22l1.46,0.45l0.47,-0.2l1.12,-2.19l0.16,-1.35l1.33,-2.16l-0.0,-1.52l2.89,-1.66l1.63,0.44l0.5,-0.44l-0.17,-1.4l0.64,-0.36l0.08,-1.04l0.77,-0.11l0.71,1.35l1.06,0.69l-0.03,3.86l-2.38,2.37l-0.3,3.15l0.46,0.43l2.28,-0.38l0.51,2.08l1.47,0.67l-0.6,1.8l0.19,0.48l2.97,1.48l1.64,-0.55l0.02,0.32Z",name:"Myanmar"},ML:{path:"M392.61,254.08l-0.19,-2.37l-0.99,-0.87l-0.44,-1.3l-0.09,-1.28l0.81,-0.58l0.35,-1.24l2.37,0.65l1.31,-0.47l0.86,0.15l0.66,-0.56l9.83,-0.04l0.38,-0.28l0.56,-1.8l-0.44,-0.65l-2.35,-21.95l3.27,-0.04l16.7,11.38l0.74,1.31l2.5,1.09l0.02,1.38l0.44,0.39l2.34,-0.21l0.01,5.38l-1.28,1.61l-0.26,1.49l-5.31,0.57l-1.07,0.92l-2.9,0.1l-0.86,-0.48l-1.38,0.36l-2.4,1.08l-0.6,0.87l-1.85,1.09l-0.43,0.7l-0.79,0.39l-1.44,-0.21l-0.81,0.84l-0.34,1.64l-1.91,2.02l-0.06,1.03l-0.67,1.22l0.13,1.16l-0.97,0.39l-0.23,-0.64l-0.52,-0.24l-1.35,0.4l-0.34,0.55l-2.69,-0.28l-0.37,-0.35l-0.02,-0.9l-0.65,-0.35l0.45,-0.64l-0.03,-0.53l-2.12,-2.44l-0.76,-0.01l-2.0,1.16l-0.78,-0.15l-0.8,-0.67l-1.21,0.23Z",name:"Mali"},MN:{path:"M676.61,146.48l3.81,1.68l5.67,-1.0l2.37,0.41l2.34,1.5l1.79,1.75l2.29,-0.03l3.12,0.52l2.47,-0.81l3.41,-0.59l3.53,-2.21l1.25,0.29l1.53,1.13l2.27,-0.21l-2.66,5.01l0.64,1.68l0.47,0.21l1.32,-0.38l2.38,0.48l2.02,-1.11l1.76,0.89l2.06,2.02l-0.13,0.53l-1.72,-0.29l-3.77,0.46l-1.88,0.99l-1.76,1.99l-3.71,1.17l-2.45,1.6l-3.83,-0.87l-0.41,0.17l-1.31,1.99l1.04,2.24l-1.52,0.9l-1.74,1.57l-2.79,1.02l-3.78,0.13l-4.05,1.05l-2.77,1.52l-1.16,-0.85l-2.94,0.0l-3.62,-1.79l-2.58,-0.49l-3.4,0.41l-5.12,-0.67l-2.63,0.06l-1.31,-1.6l-1.4,-3.0l-1.48,-0.33l-3.13,-1.94l-6.16,-0.93l-0.71,-1.06l0.86,-3.82l-1.93,-2.71l-3.5,-1.18l-1.95,-1.58l-0.5,-1.72l2.34,-0.52l4.75,-2.8l3.62,-1.47l2.18,0.97l2.46,0.05l1.81,1.53l2.46,0.12l3.95,0.71l2.43,-2.28l0.08,-0.48l-0.9,-1.72l2.24,-2.98l2.62,1.27l4.94,1.17l0.43,2.24Z",name:"Mongolia"},MK:{path:"M472.8,173.98l0.49,-0.71l3.57,-0.71l1.0,0.77l0.13,1.45l-0.65,0.53l-1.15,-0.05l-1.12,0.67l-1.39,0.22l-0.79,-0.55l-0.29,-1.03l0.19,-0.6Z",name:"Macedonia"},MW:{path:"M505.5,309.31l0.85,1.95l0.15,2.86l-0.69,1.65l0.71,1.8l0.06,1.28l0.49,0.64l0.07,1.06l0.4,0.55l0.8,-0.23l0.55,0.61l0.69,-0.21l0.34,0.6l0.19,2.94l-1.04,0.62l-0.54,1.25l-1.11,-1.08l-0.16,-1.56l0.51,-1.31l-0.32,-1.3l-0.99,-0.65l-0.82,0.12l-2.36,-1.64l0.63,-1.96l0.82,-1.18l-0.46,-2.01l0.9,-2.86l-0.94,-2.51l0.96,0.18l0.29,0.4Z",name:"Malawi"},MR:{path:"M407.36,220.66l-2.58,0.03l-0.39,0.44l2.42,22.56l0.36,0.43l-0.39,1.24l-9.75,0.04l-0.56,0.53l-0.91,-0.11l-1.27,0.45l-1.61,-0.66l-0.97,0.03l-0.36,0.29l-0.38,1.35l-0.42,0.23l-2.93,-3.4l-2.96,-1.52l-1.62,-0.03l-1.27,0.54l-1.12,-0.2l-0.65,0.4l-0.08,-0.49l0.68,-1.29l0.31,-2.43l-0.57,-3.91l0.23,-1.21l-0.69,-1.5l-1.15,-1.02l0.25,-0.39l9.58,0.02l0.4,-0.45l-0.46,-3.68l0.47,-1.04l2.12,-0.21l0.36,-0.4l-0.08,-6.4l7.81,0.13l0.41,-0.4l0.01,-3.31l7.76,5.35Z",name:"Mauritania"},UG:{path:"M498.55,276.32l0.7,-0.46l1.65,0.5l1.96,-0.57l1.7,0.01l1.45,-0.98l0.91,1.33l1.33,3.95l-2.57,4.03l-1.46,-0.4l-2.54,0.91l-1.37,1.61l-0.01,0.81l-2.42,-0.01l-2.26,1.01l-0.17,-1.59l0.58,-1.04l0.14,-1.94l1.37,-2.28l1.78,-1.58l-0.17,-0.65l-0.72,-0.24l0.13,-2.43Z",name:"Uganda"},MY:{path:"M717.47,273.46l-1.39,0.65l-2.12,-0.41l-2.88,-0.0l-0.38,0.28l-0.84,2.75l-0.99,0.96l-1.21,3.29l-1.73,0.45l-2.45,-0.68l-1.39,0.31l-1.33,1.15l-1.59,-0.14l-1.41,0.44l-1.44,-1.19l-0.18,-0.73l1.34,0.53l1.93,-0.47l0.75,-2.22l4.02,-1.03l2.75,-3.21l0.82,0.94l0.64,-0.05l0.4,-0.65l0.96,0.06l0.42,-0.36l0.24,-2.68l1.81,-1.64l1.21,-1.86l0.63,-0.01l1.07,1.05l0.34,1.28l3.44,1.35l-0.06,0.35l-1.37,0.1l-0.35,0.54l0.32,0.88ZM673.68,269.59l0.17,1.09l0.47,0.33l1.65,-0.3l0.87,-0.94l1.61,1.52l0.98,1.56l-0.12,2.81l0.41,2.29l0.95,0.9l0.88,2.44l-1.27,0.12l-5.1,-3.67l-0.34,-1.29l-1.37,-1.59l-0.33,-1.97l-0.88,-1.4l0.25,-1.68l-0.46,-1.05l1.63,0.84Z",name:"Malaysia"},MX:{path:"M133.12,200.41l0.2,0.47l9.63,3.33l6.96,-0.02l0.4,-0.4l0.0,-0.74l3.77,0.0l3.55,2.93l1.39,2.83l1.52,1.04l2.08,0.82l0.47,-0.14l1.46,-2.0l1.73,-0.04l1.59,0.98l2.05,3.35l1.47,1.56l1.26,3.14l2.18,1.02l2.26,0.58l-1.18,3.72l-0.42,5.04l1.79,4.89l1.62,1.89l0.61,1.52l1.2,1.42l2.55,0.66l1.37,1.1l7.54,-1.89l1.86,-1.3l1.14,-4.3l4.1,-1.21l3.57,-0.11l0.32,0.3l-0.06,0.94l-1.26,1.45l-0.67,1.71l0.38,0.7l-0.72,2.27l-0.49,-0.3l-1.0,0.08l-1.0,1.39l-0.47,-0.11l-0.53,0.47l-4.26,-0.02l-0.4,0.4l-0.0,1.06l-1.1,0.26l0.1,0.44l1.82,1.44l0.56,0.91l-3.19,0.21l-1.21,2.09l0.24,0.72l-0.2,0.44l-2.24,-2.18l-1.45,-0.93l-2.22,-0.69l-1.52,0.22l-3.07,1.16l-10.55,-3.85l-2.86,-1.96l-3.78,-0.92l-1.08,-1.19l-2.62,-1.43l-1.18,-1.54l-0.38,-0.81l0.66,-0.63l-0.18,-0.53l0.52,-0.76l0.01,-0.91l-2.0,-3.82l-2.21,-2.63l-2.53,-2.09l-1.19,-1.62l-2.2,-1.17l-0.3,-0.43l0.34,-1.48l-0.21,-0.45l-1.23,-0.6l-1.36,-1.2l-0.59,-1.78l-1.54,-0.47l-2.44,-2.55l-0.16,-0.9l-1.33,-2.03l-0.84,-1.99l-0.16,-1.33l-1.81,-1.1l-0.97,0.05l-1.31,-0.7l-0.57,0.22l-0.4,1.12l0.72,3.77l3.51,3.89l0.28,0.78l0.53,0.26l0.41,1.43l1.33,1.73l1.58,1.41l0.8,2.39l1.43,2.41l0.13,1.32l0.37,0.36l1.04,0.08l1.67,2.28l-0.85,0.76l-0.66,-1.51l-1.68,-1.54l-2.91,-1.87l0.06,-1.82l-0.54,-1.68l-2.91,-2.03l-0.55,0.09l-1.95,-1.1l-0.88,-0.94l0.68,-0.08l0.93,-1.01l0.08,-1.78l-1.93,-1.94l-1.46,-0.77l-3.75,-7.56l4.88,-0.42Z",name:"Mexico"},VU:{path:"M839.04,322.8l0.22,1.14l-0.44,0.03l-0.2,-1.45l0.42,0.27Z",name:"Vanuatu"},FR:{path:"M444.48,172.62l-0.64,1.78l-0.58,-0.31l-0.49,-1.72l0.4,-0.89l1.0,-0.72l0.3,1.85ZM429.64,147.1l1.78,1.58l1.46,-0.13l2.1,1.42l1.35,0.27l1.23,0.83l3.04,0.5l-1.03,1.85l-0.3,2.12l-0.41,0.32l-0.95,-0.24l-0.5,0.43l0.06,0.61l-1.81,1.92l-0.04,1.42l0.55,0.38l0.88,-0.36l0.61,0.97l-0.03,1.0l0.57,0.91l-0.75,1.09l0.65,2.39l1.27,0.57l-0.18,0.82l-2.01,1.53l-4.77,-0.8l-3.82,1.0l-0.53,1.85l-2.49,0.34l-2.71,-1.31l-1.16,0.57l-4.31,-1.29l-0.72,-0.86l1.19,-1.78l0.39,-6.45l-2.58,-3.3l-1.9,-1.66l-3.72,-1.23l-0.19,-1.72l2.81,-0.61l4.12,0.81l0.47,-0.48l-0.6,-2.77l1.94,0.95l5.83,-2.54l0.92,-2.74l1.6,-0.49l0.24,0.78l1.36,0.33l1.05,1.19ZM289.01,278.39l-0.81,0.8l-0.78,0.12l-0.5,-0.66l-0.56,-0.1l-0.91,0.6l-0.46,-0.22l1.09,-2.96l-0.96,-1.77l-0.17,-1.49l1.07,-1.77l2.32,0.75l2.51,2.01l0.3,0.74l-2.14,3.96Z",name:"France"},FI:{path:"M492.17,76.39l-0.23,3.5l3.52,2.63l-2.08,2.88l-0.02,0.44l2.8,4.56l-1.59,3.31l2.16,3.24l-0.94,2.39l0.14,0.47l3.44,2.51l-0.77,1.62l-7.52,6.95l-4.5,0.31l-4.38,1.37l-3.8,0.74l-1.44,-1.96l-2.17,-1.11l0.5,-3.66l-1.16,-3.33l1.09,-2.08l2.21,-2.42l5.67,-4.32l1.64,-0.83l0.21,-0.42l-0.46,-2.02l-3.38,-1.89l-0.75,-1.43l-0.22,-6.74l-6.79,-4.8l0.8,-0.62l2.54,2.12l3.46,-0.12l3.0,0.96l2.51,-2.11l1.17,-3.08l3.55,-1.38l2.76,1.53l-0.95,2.79Z",name:"Finland"},FJ:{path:"M871.53,326.34l-2.8,1.05l-0.08,-0.23l2.97,-1.21l-0.1,0.39ZM867.58,329.25l0.43,0.37l-0.27,0.88l-1.24,0.28l-1.04,-0.24l-0.14,-0.66l0.63,-0.58l0.92,0.26l0.7,-0.31Z",name:"Fiji"},FK:{path:"M274.36,425.85l1.44,1.08l-0.47,0.73l-3.0,0.89l-0.96,-1.0l-0.52,-0.05l-1.83,1.29l-0.73,-0.88l2.46,-1.64l1.93,0.76l1.67,-1.19Z",name:"Falkland Is."},NI:{path:"M202.33,252.67l0.81,-0.18l1.03,-1.02l-0.04,-0.88l0.68,-0.0l0.63,-0.54l0.97,0.22l1.53,-1.26l0.58,-0.99l1.17,0.34l2.41,-0.94l0.13,1.32l-0.81,1.94l0.1,2.74l-0.36,0.37l-0.11,1.75l-0.47,0.81l0.18,1.14l-1.73,-0.85l-0.71,0.27l-1.47,-0.6l-0.52,0.16l-4.01,-3.81Z",name:"Nicaragua"},NL:{path:"M430.31,143.39l0.6,-0.5l2.13,-4.8l3.2,-1.33l1.74,0.08l0.33,0.8l-0.59,2.92l-0.5,0.99l-1.26,0.0l-0.4,0.45l0.33,2.7l-2.2,-1.78l-2.62,0.58l-0.75,-0.11Z",name:"Netherlands"},NO:{path:"M491.44,67.41l6.8,2.89l-2.29,0.86l-0.15,0.65l2.33,2.38l-4.98,1.79l0.84,-2.45l-0.18,-0.48l-3.55,-1.8l-3.89,1.52l-1.42,3.38l-2.12,1.72l-2.64,-1.0l-3.11,0.21l-2.66,-2.22l-0.5,-0.01l-1.41,1.1l-1.44,0.17l-0.35,0.35l-0.32,2.47l-4.32,-0.64l-0.44,0.29l-0.58,2.11l-2.45,0.2l-4.15,7.68l-3.88,5.76l0.78,1.62l-0.64,1.16l-2.24,-0.06l-0.38,0.24l-1.66,3.89l0.15,5.17l1.57,2.04l-0.78,4.16l-2.02,2.48l-0.85,1.63l-1.3,-1.75l-0.58,-0.07l-4.87,4.19l-3.1,0.79l-3.16,-1.7l-0.85,-3.77l-0.77,-8.55l2.14,-2.31l6.55,-3.27l5.02,-4.17l10.63,-13.84l10.98,-8.7l5.35,-1.91l4.34,0.12l3.69,-3.64l4.49,0.19l4.37,-0.89ZM484.55,20.04l4.26,1.75l-3.1,2.55l-7.1,0.65l-7.08,-0.9l-0.37,-1.31l-0.37,-0.29l-3.44,-0.1l-2.08,-2.0l6.87,-1.44l3.9,1.31l2.39,-1.64l6.13,1.4ZM481.69,33.93l-4.45,1.74l-3.54,-0.99l1.12,-0.9l0.05,-0.58l-1.06,-1.22l4.22,-0.89l1.09,1.97l2.57,0.87ZM466.44,24.04l7.43,3.77l-5.41,1.86l-1.58,4.08l-2.26,1.2l-1.12,4.11l-2.61,0.18l-4.79,-2.86l1.84,-1.54l-0.1,-0.68l-3.69,-1.53l-4.77,-4.51l-1.73,-3.89l6.11,-1.82l1.54,1.92l3.57,-0.08l1.2,-1.96l3.32,-0.18l3.05,1.92Z",name:"Norway"},NA:{path:"M474.26,330.66l-0.97,0.04l-0.38,0.4l-0.07,8.9l-2.09,0.08l-0.39,0.4l-0.0,17.42l-1.98,1.23l-1.17,0.17l-2.44,-0.66l-0.48,-1.13l-0.99,-0.74l-0.54,0.05l-0.9,1.01l-1.53,-1.68l-0.93,-1.88l-1.99,-8.56l-0.06,-3.12l-0.33,-1.52l-2.3,-3.34l-1.91,-4.83l-1.96,-2.43l-0.12,-1.57l2.33,-0.79l1.43,0.07l1.81,1.13l10.23,-0.25l1.84,1.23l5.87,0.35ZM474.66,330.64l6.51,-1.6l1.9,0.39l-1.69,0.4l-1.31,0.83l-1.12,-0.94l-4.29,0.92Z",name:"Namibia"},NC:{path:"M838.78,341.24l-0.33,0.22l-2.9,-1.75l-3.26,-3.37l1.65,0.83l4.85,4.07Z",name:"New Caledonia"},NE:{path:"M454.75,226.53l1.33,1.37l0.48,0.07l1.27,-0.7l0.53,3.52l0.94,0.83l0.17,0.92l0.81,0.69l-0.44,0.95l-0.96,5.26l-0.13,3.22l-3.04,2.31l-1.22,3.57l1.02,1.24l-0.0,1.46l0.39,0.4l1.13,0.04l-0.9,1.25l-1.47,-2.42l-0.86,-0.29l-2.09,1.37l-1.74,-0.67l-1.45,-0.17l-0.85,0.35l-1.36,-0.07l-1.64,1.09l-1.06,0.05l-2.94,-1.28l-1.44,0.59l-1.01,-0.03l-0.97,-0.94l-2.7,-0.98l-2.69,0.3l-0.87,0.64l-0.47,1.6l-0.75,1.16l-0.12,1.53l-1.57,-1.1l-1.31,0.24l0.03,-0.81l-0.32,-0.41l-2.59,-0.52l-0.15,-1.16l-1.35,-1.6l-0.29,-1.0l0.13,-0.84l1.29,-0.08l1.08,-0.92l3.31,-0.22l2.22,-0.41l0.32,-0.34l0.2,-1.47l1.39,-1.88l-0.01,-5.66l3.36,-1.12l7.24,-5.12l8.42,-4.92l3.69,1.06Z",name:"Niger"},NG:{path:"M456.32,253.89l0.64,0.65l-0.28,1.04l-2.11,2.01l-2.03,5.18l-1.37,1.16l-1.15,3.18l-1.33,0.66l-1.46,-0.97l-1.21,0.16l-1.38,1.36l-0.91,0.24l-1.79,4.06l-2.33,0.81l-1.11,-0.07l-0.86,0.5l-1.71,-0.05l-1.19,-1.39l-0.89,-1.89l-1.77,-1.66l-3.95,-0.08l0.07,-5.21l0.42,-1.43l1.95,-2.3l-0.14,-0.91l0.43,-1.18l-0.53,-1.41l0.25,-2.92l0.72,-1.07l0.32,-1.34l0.46,-0.39l2.47,-0.28l2.34,0.89l1.15,1.02l1.28,0.04l1.22,-0.58l3.03,1.27l1.49,-0.14l1.36,-1.0l1.33,0.07l0.82,-0.35l3.45,0.8l1.82,-1.32l1.84,2.67l0.66,0.16Z",name:"Nigeria"},NZ:{path:"M857.8,379.65l1.86,3.12l0.44,0.18l0.3,-0.38l0.03,-1.23l0.38,0.27l0.57,2.31l2.02,0.94l1.81,0.27l1.57,-1.06l0.7,0.18l-1.15,3.59l-1.98,0.11l-0.74,1.2l0.2,1.11l-2.42,3.98l-1.49,0.92l-1.04,-0.85l1.21,-2.05l-0.81,-2.01l-2.63,-1.25l0.04,-0.57l1.82,-1.19l0.43,-2.34l-0.16,-2.03l-0.95,-1.82l-0.06,-0.72l-3.11,-3.64l-0.79,-1.52l1.56,1.45l1.76,0.66l0.65,2.34ZM853.83,393.59l0.57,1.24l0.59,0.16l1.42,-0.97l0.46,0.79l0.0,1.03l-2.47,3.48l-1.26,1.2l-0.06,0.5l0.55,0.87l-1.41,0.07l-2.33,1.38l-2.03,5.02l-3.02,2.16l-2.06,-0.06l-1.71,-1.04l-2.47,-0.2l-0.27,-0.73l1.22,-2.1l3.05,-2.94l1.62,-0.59l4.02,-2.82l1.57,-1.67l1.07,-2.16l0.88,-0.7l0.48,-1.75l1.24,-0.97l0.35,0.79Z",name:"New Zealand"},NP:{path:"M641.14,213.62l0.01,3.19l-1.74,0.04l-4.8,-0.86l-1.58,-1.39l-3.37,-0.34l-7.65,-3.7l0.8,-2.09l2.33,-1.7l1.77,0.75l2.49,1.76l1.38,0.41l0.99,1.35l1.9,0.52l1.99,1.17l5.49,0.9Z",name:"Nepal"},CI:{path:"M407.4,259.27l0.86,0.42l0.56,0.9l1.13,0.53l1.19,-0.61l0.97,-0.08l1.42,0.54l0.6,3.24l-1.03,2.08l-0.65,2.84l1.06,2.33l-0.06,0.53l-2.54,-0.47l-1.66,0.03l-3.06,0.46l-4.11,1.6l0.32,-3.06l-1.18,-1.31l-1.32,-0.66l0.42,-0.85l-0.2,-1.4l0.5,-0.67l0.01,-1.59l0.84,-0.32l0.26,-0.5l-1.15,-3.01l0.12,-0.5l0.51,-0.25l0.66,0.31l1.93,0.02l0.67,-0.71l0.71,-0.14l0.25,0.69l0.57,0.22l1.4,-0.61Z",name:"CÃ´te d'Ivoire"},CH:{path:"M444.62,156.35l-0.29,0.87l0.18,0.53l1.13,0.58l1.0,0.1l-0.1,0.65l-0.79,0.38l-1.72,-0.37l-0.45,0.23l-0.45,1.04l-0.75,0.06l-0.84,-0.4l-1.32,1.0l-0.96,0.12l-0.88,-0.55l-0.81,-1.3l-0.49,-0.16l-0.63,0.26l0.02,-0.65l1.71,-1.66l0.1,-0.56l0.93,0.08l0.58,-0.46l1.99,0.02l0.66,-0.61l2.19,0.79Z",name:"Switzerland"},CO:{path:"M242.07,254.93l-1.7,0.59l-0.59,1.18l-1.7,1.69l-0.38,1.93l-0.67,1.43l0.31,0.57l1.03,0.13l0.25,0.9l0.57,0.64l-0.04,2.34l1.64,1.42l3.16,-0.24l1.26,0.28l1.67,2.06l0.41,0.13l4.09,-0.39l0.45,0.22l-0.92,1.95l-0.2,1.8l0.52,1.83l0.75,1.05l-1.12,1.1l0.07,0.63l0.84,0.51l0.74,1.29l-0.39,-0.45l-0.59,-0.01l-0.71,0.74l-4.71,-0.05l-0.4,0.41l0.03,1.57l0.33,0.39l1.11,0.2l-1.68,0.4l-0.29,0.38l-0.01,1.82l1.16,1.14l0.34,1.25l-1.05,7.05l-1.04,-0.87l1.26,-1.99l-0.13,-0.56l-2.18,-1.23l-1.38,0.2l-1.14,-0.38l-1.27,0.61l-1.55,-0.26l-1.38,-2.46l-1.23,-0.75l-0.85,-1.2l-1.67,-1.19l-0.86,0.13l-2.11,-1.32l-1.01,0.31l-1.8,-0.29l-0.52,-0.91l-3.09,-1.68l0.77,-0.52l-0.1,-1.12l0.41,-0.64l1.34,-0.32l2.0,-2.88l-0.11,-0.57l-0.66,-0.43l0.39,-1.38l-0.52,-2.1l0.49,-0.83l-0.4,-2.13l-0.97,-1.35l0.17,-0.66l0.86,-0.08l0.47,-0.75l-0.46,-1.63l1.41,-0.07l1.8,-1.69l0.93,-0.24l0.3,-0.38l0.45,-2.76l1.22,-1.0l1.44,-0.04l0.45,-0.5l1.91,0.12l2.93,-1.84l1.15,-1.14l0.91,0.46l-0.25,0.45Z",name:"Colombia"},CN:{path:"M740.23,148.97l4.57,1.3l2.8,2.17l0.98,2.9l0.38,0.27l3.8,0.0l2.32,-1.28l3.29,-0.75l-0.96,2.09l-1.02,1.28l-0.85,3.4l-1.52,2.73l-2.76,-0.5l-2.4,1.13l-0.21,0.45l0.64,2.57l-0.32,3.2l-0.94,0.06l-0.37,0.89l-0.91,-1.01l-0.64,0.07l-0.92,1.57l-3.73,1.25l-0.26,0.48l0.26,1.06l-1.5,-0.08l-1.09,-0.86l-0.56,0.06l-1.67,2.06l-2.7,1.56l-2.03,1.88l-3.4,0.83l-1.93,1.4l-1.15,0.34l0.33,-0.7l-0.41,-0.89l1.79,-1.79l0.02,-0.54l-1.32,-1.56l-0.48,-0.1l-2.24,1.09l-2.83,2.06l-1.51,1.83l-2.28,0.13l-1.55,1.49l-0.04,0.5l1.32,1.97l2.0,0.58l0.31,1.35l1.98,0.84l3.0,-1.96l2.0,1.02l1.49,0.11l0.22,0.83l-3.37,0.86l-1.12,1.48l-2.5,1.52l-1.29,1.99l0.14,0.56l2.57,1.48l0.97,2.7l3.17,4.63l-0.03,1.66l-1.35,0.65l-0.2,0.51l0.6,1.47l1.4,0.91l-0.89,3.82l-1.43,0.38l-3.85,6.44l-2.27,3.11l-6.78,4.57l-2.73,0.29l-1.45,1.04l-0.62,-0.61l-0.55,-0.01l-1.36,1.25l-3.39,1.27l-2.61,0.4l-1.1,2.79l-0.81,0.09l-0.49,-1.42l0.5,-0.85l-0.25,-0.59l-3.36,-0.84l-1.3,0.4l-2.31,-0.62l-0.94,-0.84l0.33,-1.28l-0.3,-0.49l-2.19,-0.46l-1.13,-0.93l-0.47,-0.02l-2.06,1.36l-4.29,0.28l-2.76,1.05l-0.28,0.43l0.32,2.53l-0.59,-0.03l-0.19,-1.34l-0.55,-0.34l-1.68,0.7l-2.46,-1.23l0.62,-1.87l-0.26,-0.51l-1.37,-0.44l-0.54,-2.22l-0.45,-0.3l-2.13,0.35l0.24,-2.48l2.39,-2.4l0.03,-4.31l-1.19,-0.92l-0.78,-1.49l-0.41,-0.21l-1.41,0.19l-1.98,-0.3l0.46,-1.07l-1.17,-1.7l-0.55,-0.11l-1.63,1.05l-2.25,-0.57l-2.89,1.73l-2.25,1.98l-1.75,0.29l-1.17,-0.71l-3.31,-0.65l-1.48,0.79l-1.04,1.27l-0.12,-1.17l-0.54,-0.34l-1.44,0.54l-5.55,-0.86l-1.98,-1.16l-1.89,-0.54l-0.99,-1.35l-1.34,-0.37l-2.55,-1.79l-2.01,-0.84l-1.21,0.56l-5.57,-3.45l-0.53,-2.31l1.19,0.25l0.48,-0.37l0.08,-1.42l-0.98,-1.56l0.15,-2.44l-2.69,-3.32l-4.12,-1.23l-0.67,-2.0l-1.92,-1.48l-0.38,-0.7l-0.51,-3.01l-1.52,-0.66l-0.7,0.13l-0.48,-2.05l0.55,-0.51l-0.09,-0.82l2.03,-1.19l1.6,-0.54l2.56,0.38l0.42,-0.22l0.85,-1.7l3.0,-0.33l1.1,-1.26l4.05,-1.77l0.39,-0.91l-0.17,-1.44l1.45,-0.67l0.2,-0.52l-2.07,-4.9l4.51,-1.12l1.37,-0.73l1.89,-5.51l4.98,0.86l1.51,-1.7l0.11,-2.87l1.99,-0.38l1.83,-2.06l0.49,-0.13l0.68,2.08l2.23,1.77l3.44,1.16l1.55,2.29l-0.92,3.49l0.96,1.67l6.54,1.13l2.95,1.87l1.47,0.35l1.06,2.62l1.53,1.91l3.05,0.08l5.14,0.67l3.37,-0.41l2.36,0.43l3.65,1.8l3.06,0.04l1.45,0.88l2.87,-1.59l3.95,-1.02l3.83,-0.14l3.06,-1.14l1.77,-1.6l1.72,-1.01l0.17,-0.49l-1.1,-2.05l1.02,-1.54l4.02,0.8l2.45,-1.61l3.76,-1.19l1.96,-2.13l1.63,-0.83l3.51,-0.4l1.92,0.34l0.46,-0.3l0.17,-1.5l-2.27,-2.22l-2.11,-1.09l-2.18,1.11l-2.32,-0.47l-1.29,0.32l-0.4,-0.82l2.73,-5.16l3.02,1.06l3.53,-2.06l0.18,-1.68l2.16,-3.35l1.49,-1.35l-0.03,-1.85l-1.07,-0.85l1.54,-1.26l2.98,-0.59l3.23,-0.09l3.64,0.99l2.04,1.16l3.29,6.71l0.92,3.19ZM696.92,237.31l-1.87,1.08l-1.63,-0.64l-0.06,-1.79l1.03,-0.98l2.58,-0.69l1.16,0.05l0.3,0.54l-0.98,1.06l-0.53,1.37Z",name:"China"},CM:{path:"M457.92,257.49l1.05,1.91l-1.4,0.16l-1.05,-0.23l-0.45,0.22l-0.54,1.19l0.08,0.45l1.48,1.47l1.05,0.45l1.01,2.46l-1.52,2.99l-0.68,0.68l-0.13,3.69l2.38,3.84l1.09,0.8l0.24,2.48l-3.67,-1.14l-11.27,-0.13l0.23,-1.79l-0.98,-1.66l-1.19,-0.54l-0.44,-0.97l-0.6,-0.42l1.71,-4.27l0.75,-0.13l1.38,-1.36l0.65,-0.03l1.71,0.99l1.93,-1.12l1.14,-3.18l1.38,-1.17l2.0,-5.14l2.17,-2.13l0.3,-1.64l-0.86,-0.88l0.03,-0.33l0.94,1.28l0.07,3.22Z",name:"Cameroon"},CL:{path:"M246.5,429.18l-3.14,1.83l-0.57,3.16l-0.64,0.05l-2.68,-1.06l-2.82,-2.33l-3.04,-1.89l-0.69,-1.85l0.63,-2.14l-1.21,-2.11l-0.31,-5.37l1.01,-2.91l2.57,-2.38l-0.18,-0.68l-3.16,-0.77l2.05,-2.47l0.77,-4.65l2.32,0.9l0.54,-0.29l1.31,-6.31l-0.22,-0.44l-1.68,-0.8l-0.56,0.28l-0.7,3.36l-0.81,-0.22l1.56,-9.41l1.15,-2.24l-0.71,-2.82l-0.18,-2.84l1.01,-0.33l3.26,-9.14l1.07,-4.22l-0.56,-4.21l0.74,-2.34l-0.29,-3.27l1.46,-3.34l2.04,-16.59l-0.66,-7.76l1.03,-0.53l0.54,-0.9l0.79,1.14l0.32,1.78l1.25,1.16l-0.69,2.55l1.33,2.9l0.97,3.59l0.46,0.29l1.5,-0.3l0.11,0.23l-0.76,2.44l-2.57,1.23l-0.23,0.37l0.08,4.33l-0.46,0.77l0.56,1.21l-1.58,1.51l-1.68,2.62l-0.89,2.47l0.2,2.7l-1.48,2.73l1.12,5.09l0.64,0.61l-0.01,2.29l-1.38,2.68l0.01,2.4l-1.89,2.04l0.02,2.75l0.69,2.57l-1.43,1.13l-1.26,5.68l0.39,3.51l-0.97,0.89l0.58,3.5l1.02,1.14l-0.65,1.02l0.15,0.57l1.0,0.53l0.16,0.69l-1.03,0.85l0.26,1.75l-0.89,4.03l-1.31,2.66l0.24,1.75l-0.71,1.83l-1.99,1.7l0.3,3.67l0.88,1.19l1.58,0.01l0.01,2.21l1.04,1.95l5.98,0.63ZM248.69,430.79l0.0,7.33l0.4,0.4l3.52,0.05l-0.44,0.75l-1.94,0.98l-2.49,-0.37l-1.88,-1.06l-2.55,-0.49l-5.59,-3.71l-2.38,-2.63l4.1,2.48l3.32,1.23l0.45,-0.12l1.29,-1.57l0.83,-2.32l2.05,-1.24l1.31,0.29Z",name:"Chile"},CA:{path:"M280.06,145.6l-1.67,2.88l0.07,0.49l0.5,0.04l1.46,-0.98l1.0,0.42l-0.56,0.72l0.17,0.62l2.22,0.89l1.35,-0.71l1.95,0.78l-0.66,2.01l0.5,0.51l1.32,-0.42l0.98,3.17l-0.91,2.41l-0.8,0.08l-1.23,-0.45l0.47,-2.25l-0.89,-0.83l-0.48,0.06l-2.78,2.63l-0.34,-0.02l1.02,-0.85l-0.14,-0.69l-2.4,-0.77l-7.4,0.08l-0.17,-0.41l1.3,-0.94l0.02,-0.64l-0.73,-0.58l1.85,-1.74l2.57,-5.16l1.47,-1.79l1.99,-1.05l0.46,0.06l-1.53,2.45ZM68.32,74.16l4.13,0.95l4.02,2.14l2.61,0.4l2.47,-1.89l2.88,-1.31l3.85,0.48l3.71,-1.94l3.82,-1.04l1.56,1.68l0.49,0.08l1.87,-1.04l0.65,-1.98l1.24,0.35l4.16,3.94l0.54,0.01l2.75,-2.49l0.26,2.59l0.49,0.35l3.08,-0.73l1.04,-1.27l2.73,0.23l3.83,1.86l5.86,1.61l3.47,0.75l2.44,-0.26l2.73,1.78l-2.98,1.81l-0.19,0.41l0.31,0.32l4.53,0.92l6.87,-0.5l2.0,-0.69l2.49,2.39l0.53,0.02l2.72,-2.16l-0.02,-0.64l-2.16,-1.54l1.15,-1.06l4.83,-0.61l1.84,0.95l2.48,2.31l3.01,-0.23l4.55,1.92l3.85,-0.67l3.61,0.1l0.41,-0.44l-0.25,-2.36l1.79,-0.61l3.49,1.32l-0.01,3.77l0.31,0.39l0.45,-0.22l1.48,-3.16l1.74,0.1l0.41,-0.3l1.13,-4.37l-2.78,-3.11l-2.8,-1.74l0.19,-4.64l2.71,-3.07l2.98,0.67l2.41,1.95l3.19,4.8l-1.99,1.97l0.21,0.68l4.33,0.84l-0.01,4.15l0.25,0.37l0.44,-0.09l3.07,-3.15l2.54,2.39l-0.61,3.33l2.42,2.88l0.61,0.0l2.61,-3.08l1.88,-3.82l0.17,-4.58l6.72,0.94l3.13,2.04l0.13,1.82l-1.76,2.19l-0.01,0.49l1.66,2.16l-0.26,1.71l-4.68,2.8l-3.28,0.61l-2.47,-1.2l-0.55,0.23l-0.73,2.04l-2.38,3.43l-0.74,1.77l-2.74,2.57l-3.44,0.25l-2.21,1.78l-0.28,2.53l-2.82,0.55l-3.12,3.22l-2.72,4.31l-1.03,3.17l-0.14,4.31l0.33,0.41l3.44,0.57l2.24,5.95l0.45,0.23l3.4,-0.69l4.52,1.51l2.43,1.31l1.91,1.73l3.1,0.96l2.62,1.46l6.6,0.54l-0.35,2.74l0.81,3.53l1.81,3.78l3.83,3.3l0.45,0.04l2.1,-1.28l1.37,-3.69l-1.31,-5.38l-1.45,-1.58l3.57,-1.47l2.84,-2.46l1.52,-2.8l-0.25,-2.55l-1.7,-3.07l-2.85,-2.61l2.8,-3.95l-1.08,-3.37l-0.79,-5.67l1.36,-0.7l6.76,1.41l2.12,-0.96l5.12,3.36l1.05,1.61l4.08,0.26l-0.06,2.87l0.83,4.7l0.3,0.32l2.16,0.54l1.73,2.06l0.5,0.09l3.63,-2.03l2.52,-4.19l1.26,-1.32l7.6,11.72l-0.92,2.04l0.16,0.51l3.3,1.97l2.22,1.98l4.1,0.98l1.43,0.99l0.95,2.79l2.1,0.68l0.84,1.08l0.17,3.45l-3.37,2.26l-4.22,1.24l-3.06,2.63l-4.06,0.51l-5.35,-0.69l-6.39,0.2l-2.3,2.41l-3.26,1.51l-6.47,7.15l-0.06,0.48l0.44,0.19l2.13,-0.52l4.17,-4.24l5.12,-2.62l3.52,-0.3l1.69,1.21l-2.12,2.21l0.81,3.47l1.02,2.61l3.47,1.6l4.14,-0.45l2.15,-2.8l0.26,1.48l1.14,0.8l-2.56,1.69l-5.5,1.82l-2.54,1.27l-2.74,2.15l-1.4,-0.16l-0.07,-2.01l4.14,-2.44l0.18,-0.45l-0.39,-0.29l-6.63,0.45l-1.39,-1.49l-0.14,-4.43l-1.11,-0.91l-1.82,0.39l-0.66,-0.66l-0.6,0.03l-1.91,2.39l-0.82,2.52l-0.8,1.27l-1.67,0.56l-0.46,0.76l-8.31,0.07l-1.21,0.62l-2.35,1.97l-0.71,-0.14l-1.37,0.96l-1.12,-0.48l-4.74,1.26l-0.9,1.17l0.21,0.62l1.73,0.3l-1.81,0.31l-1.85,0.81l-2.11,-0.13l-2.95,1.78l-0.69,-0.09l1.39,-2.1l1.73,-1.21l0.1,-2.29l1.16,-1.99l0.49,0.53l2.03,0.42l1.2,-1.16l0.02,-0.47l-2.66,-3.51l-2.28,-0.61l-5.64,-0.71l-0.4,-0.57l-0.79,0.13l0.2,-0.41l-0.22,-0.55l-0.68,-0.26l0.19,-1.26l-0.78,-0.73l0.31,-0.64l-0.29,-0.57l-2.6,-0.44l-0.75,-1.63l-0.94,-0.66l-4.31,-0.65l-1.13,1.19l-1.48,0.59l-0.85,1.06l-2.83,-0.76l-2.09,0.39l-2.39,-0.97l-4.24,-0.7l-0.57,-0.4l-0.41,-1.63l-0.4,-0.3l-0.85,0.02l-0.39,0.4l-0.01,0.85l-69.13,-0.01l-6.51,-4.52l-4.5,-1.38l-1.26,-2.66l0.33,-1.93l-0.23,-0.43l-3.01,-1.35l-0.55,-2.77l-2.89,-2.38l-0.04,-1.45l1.39,-1.83l-0.28,-2.55l-4.16,-2.2l-4.07,-6.6l-4.02,-3.22l-1.3,-1.88l-0.5,-0.13l-2.51,1.21l-2.23,1.87l-3.85,-3.88l-2.44,-1.04l-2.22,-0.13l0.03,-37.49ZM260.37,148.65l3.04,0.76l2.26,1.2l-3.78,-0.95l-1.53,-1.01ZM249.4,3.81l6.68,0.49l5.32,0.79l4.26,1.57l-0.07,1.1l-5.85,2.53l-6.02,1.21l-2.39,1.39l-0.18,0.45l0.39,0.29l4.01,-0.02l-4.65,2.82l-4.2,1.74l-4.19,4.59l-5.03,0.92l-1.67,1.15l-7.47,0.59l-0.37,0.37l0.32,0.42l2.41,0.49l-0.81,0.47l-0.12,0.59l1.83,2.41l-2.02,1.59l-3.81,1.51l-1.32,2.16l-3.38,1.53l-0.22,0.48l0.35,1.19l0.4,0.29l3.88,-0.18l0.03,0.61l-6.33,2.95l-6.41,-1.4l-7.43,0.79l-3.72,-0.62l-4.4,-0.25l-0.23,-1.83l4.29,-1.11l0.28,-0.51l-1.1,-3.45l1.0,-0.25l6.58,2.28l0.47,-0.16l-0.05,-0.49l-3.41,-3.45l-3.58,-0.98l1.48,-1.55l4.34,-1.29l0.97,-2.19l-0.16,-0.48l-3.42,-2.13l-0.81,-2.26l6.2,0.22l2.24,0.58l3.91,-2.1l0.2,-0.43l-0.35,-0.32l-5.64,-0.67l-8.73,0.36l-4.26,-1.9l-2.12,-2.4l-2.78,-1.66l-0.41,-1.52l3.31,-1.03l2.93,-0.2l4.91,-0.99l3.7,-2.27l2.87,0.3l2.62,1.67l0.56,-0.14l1.82,-3.2l3.13,-0.94l4.44,-0.69l7.53,-0.26l1.48,0.67l7.19,-1.06l10.8,0.79ZM203.85,57.54l0.01,0.42l1.97,2.97l0.68,-0.02l2.24,-3.72l5.95,-1.86l4.01,4.64l-0.35,2.91l0.5,0.43l4.95,-1.36l2.32,-1.8l5.31,2.28l3.27,2.11l0.3,1.84l0.48,0.33l4.42,-0.99l2.64,2.87l5.97,1.77l2.06,1.72l2.11,3.71l-4.19,1.86l-0.01,0.73l5.9,2.83l3.94,0.94l3.78,3.95l3.46,0.25l-0.63,2.37l-4.11,4.47l-2.76,-1.56l-3.9,-3.94l-3.59,0.41l-0.33,0.34l-0.19,2.72l2.63,2.38l3.42,1.89l0.94,0.97l1.55,3.75l-0.7,2.29l-2.74,-0.92l-6.25,-3.15l-0.51,0.13l0.05,0.52l6.07,5.69l0.18,0.59l-6.09,-1.39l-5.31,-2.24l-2.63,-1.66l0.6,-0.77l-0.12,-0.6l-7.39,-4.01l-0.59,0.37l0.03,0.79l-6.73,0.6l-1.69,-1.1l1.36,-2.46l4.51,-0.07l5.15,-0.52l0.31,-0.6l-0.74,-1.3l0.78,-1.84l3.21,-4.05l-0.67,-2.35l-1.11,-1.6l-3.84,-2.1l-4.35,-1.28l0.91,-0.63l0.06,-0.61l-2.65,-2.75l-2.34,-0.36l-1.89,-1.46l-0.53,0.03l-1.24,1.23l-4.36,0.55l-9.04,-0.99l-9.26,-1.98l-1.6,-1.22l2.22,-1.77l0.13,-0.44l-0.38,-0.27l-3.22,-0.02l-0.72,-4.25l1.83,-4.04l2.42,-1.85l5.5,-1.1l-1.39,2.35ZM261.19,159.33l2.07,0.61l1.44,-0.04l-1.15,0.63l-2.94,-1.23l-0.4,-0.68l0.36,-0.37l0.61,1.07ZM230.83,84.39l-2.37,0.18l-0.49,-1.63l0.93,-2.09l1.94,-0.51l1.62,0.99l0.02,1.52l-1.66,1.54ZM229.43,58.25l0.11,0.65l-4.87,-0.21l-2.72,0.62l-3.1,-2.57l0.08,-1.26l0.86,-0.23l5.57,0.51l4.08,2.5ZM222.0,105.02l-0.72,1.49l-0.63,-0.19l-0.48,-0.84l0.81,-0.99l0.65,0.05l0.37,0.46ZM183.74,38.32l2.9,1.7l4.79,-0.01l1.84,1.46l-0.49,1.68l0.23,0.48l2.82,1.14l1.76,1.26l7.01,0.65l4.1,-1.1l5.03,-0.43l3.93,0.35l2.48,1.77l0.46,1.7l-1.3,1.1l-3.56,1.01l-3.23,-0.59l-7.17,0.76l-5.09,0.09l-3.99,-0.6l-6.42,-1.54l-0.79,-2.51l-0.3,-2.49l-2.64,-2.5l-5.32,-0.72l-2.52,-1.4l0.68,-1.57l4.78,0.31ZM207.38,91.35l0.4,1.56l0.56,0.26l1.06,-0.52l1.32,0.96l5.42,2.57l0.2,1.68l0.46,0.35l1.68,-0.28l1.15,0.85l-1.55,0.87l-3.61,-0.88l-1.32,-1.69l-0.57,-0.06l-2.45,2.1l-3.12,1.79l-0.7,-1.87l-0.42,-0.26l-2.16,0.24l1.39,-1.39l0.32,-3.14l0.76,-3.35l1.18,0.22ZM215.49,102.6l-2.67,1.95l-1.4,-0.07l-0.3,-0.58l1.53,-1.48l2.84,0.18ZM202.7,24.12l2.53,1.59l-2.87,1.4l-4.53,4.05l-4.25,0.38l-5.03,-0.68l-2.45,-2.04l0.03,-1.62l1.82,-1.37l0.14,-0.45l-0.38,-0.27l-4.45,0.04l-2.59,-1.76l-1.41,-2.29l1.57,-2.32l1.62,-1.66l2.44,-0.39l0.25,-0.65l-0.6,-0.74l4.86,-0.25l3.24,3.11l8.16,2.3l1.9,3.61ZM187.47,59.2l-2.76,3.49l-2.38,-0.15l-1.44,-3.84l0.04,-2.2l1.19,-1.88l2.3,-1.23l5.07,0.17l4.11,1.02l-3.24,3.72l-2.88,0.89ZM186.07,48.79l-1.08,1.53l-3.34,-0.34l-2.56,-1.1l1.03,-1.75l3.25,-1.23l1.95,1.58l0.75,1.3ZM185.71,35.32l-5.3,-0.2l-0.32,-0.71l4.31,0.07l1.3,0.84ZM180.68,32.48l-3.34,1.0l-1.79,-1.1l-0.98,-1.87l-0.15,-1.73l4.1,0.53l2.67,1.7l-0.51,1.47ZM180.9,76.31l-1.1,1.08l-3.13,-1.23l-2.12,0.43l-2.71,-1.57l1.72,-1.09l1.55,-1.72l3.81,1.9l1.98,2.2ZM169.74,54.87l2.96,0.97l4.17,-0.57l0.41,0.88l-2.14,2.11l0.09,0.64l3.55,1.92l-0.4,3.72l-3.79,1.65l-2.17,-0.35l-1.72,-1.74l-6.02,-3.5l0.03,-0.85l4.68,0.54l0.4,-0.21l-0.05,-0.45l-2.48,-2.81l2.46,-1.95ZM174.45,40.74l1.37,1.73l0.07,2.44l-1.05,3.45l-3.79,0.47l-2.32,-0.69l0.05,-2.64l-0.44,-0.41l-3.68,0.35l-0.12,-3.1l2.45,0.1l3.67,-1.73l3.41,0.29l0.37,-0.26ZM170.05,31.55l0.67,1.56l-3.33,-0.49l-4.22,-1.77l-4.35,-0.16l1.4,-0.94l-0.06,-0.7l-2.81,-1.23l-0.12,-1.39l4.39,0.68l6.62,1.98l1.81,2.47ZM134.5,58.13l-1.02,1.82l0.45,0.58l5.4,-1.39l3.33,2.29l0.49,-0.03l2.6,-2.23l1.94,1.32l2.0,4.5l0.7,0.06l1.3,-2.29l-1.63,-4.46l1.69,-0.54l2.31,0.71l2.65,1.81l2.49,7.92l8.48,4.27l-0.19,1.35l-3.79,0.33l-0.26,0.67l1.4,1.49l-0.58,1.1l-4.23,-0.64l-4.43,-1.19l-3.0,0.28l-4.66,1.47l-10.52,1.04l-1.43,-2.02l-3.42,-1.2l-2.21,0.43l-2.51,-2.86l4.84,-1.05l3.6,0.19l3.27,-0.78l0.31,-0.39l-0.31,-0.39l-4.84,-1.06l-8.79,0.27l-0.85,-1.07l5.26,-1.66l0.27,-0.45l-0.4,-0.34l-3.8,0.06l-3.81,-1.06l1.81,-3.01l1.66,-1.79l6.48,-2.81l1.97,0.71ZM158.7,56.61l-1.7,2.44l-3.2,-2.75l0.37,-0.3l3.11,-0.18l1.42,0.79ZM149.61,42.73l1.01,1.89l0.5,0.18l2.14,-0.82l2.23,0.19l0.36,2.04l-1.33,2.09l-8.28,0.76l-6.35,2.15l-3.41,0.1l-0.19,-0.96l4.9,-2.08l0.23,-0.46l-0.41,-0.31l-11.25,0.59l-2.89,-0.74l3.04,-4.44l2.14,-1.32l6.81,1.69l4.58,3.06l4.37,0.39l0.36,-0.63l-3.36,-4.6l1.85,-1.53l2.18,0.51l0.77,2.26ZM144.76,34.41l-4.36,1.44l-3.0,-1.4l1.46,-1.24l3.47,-0.52l2.96,0.71l-0.52,1.01ZM145.13,29.83l-1.9,0.66l-3.67,-0.0l2.27,-1.61l3.3,0.95ZM118.92,65.79l-6.03,2.02l-1.33,-1.9l-5.38,-2.28l2.59,-5.05l2.16,-3.14l-0.02,-0.48l-1.97,-2.41l7.64,-0.7l3.6,1.02l6.3,0.27l4.42,2.95l-2.53,0.98l-6.24,3.43l-3.1,3.28l-0.11,2.01ZM129.54,35.53l-0.28,3.37l-1.72,1.62l-2.33,0.28l-4.61,2.19l-3.86,0.76l-2.64,-0.87l3.72,-3.4l5.01,-3.34l3.72,0.07l3.0,-0.67ZM111.09,152.69l-0.67,0.24l-3.85,-1.37l-0.83,-1.17l-2.12,-1.07l-0.66,-1.02l-2.4,-0.55l-0.74,-1.71l6.02,1.45l2.0,2.55l2.52,1.39l0.73,1.27ZM87.8,134.64l0.89,0.29l1.86,-0.21l-0.65,3.34l1.69,2.33l-1.31,-1.33l-0.99,-1.62l-1.17,-0.98l-0.33,-1.82Z",name:"Canada"},CG:{path:"M466.72,276.48l-0.1,1.03l-1.25,2.97l-0.19,3.62l-0.46,1.78l-0.23,0.63l-1.61,1.19l-1.21,1.39l-1.09,2.43l0.04,2.09l-3.25,3.24l-0.5,-0.24l-0.5,-0.83l-1.36,-0.02l-0.98,0.89l-1.68,-0.99l-1.54,1.24l-1.52,-1.96l1.57,-1.14l0.11,-0.52l-0.77,-1.35l2.1,-0.66l0.39,-0.73l1.05,0.82l2.21,0.11l1.12,-1.37l0.37,-1.81l-0.27,-2.09l-1.13,-1.5l1.0,-2.69l-0.13,-0.45l-0.92,-0.58l-1.6,0.17l-0.51,-0.94l0.1,-0.61l2.75,0.09l3.97,1.24l0.51,-0.33l0.17,-1.28l1.24,-2.21l1.28,-1.14l2.76,0.49Z",name:"Congo"},CF:{path:"M461.16,278.2l-0.26,-1.19l-1.09,-0.77l-0.84,-1.17l-0.29,-1.0l-1.04,-1.15l0.08,-3.43l0.58,-0.49l1.16,-2.35l1.85,-0.17l0.61,-0.62l0.97,0.58l3.15,-0.96l2.48,-1.92l0.02,-0.96l2.81,0.02l2.36,-1.17l1.93,-2.85l1.16,-0.93l1.11,-0.3l0.27,0.86l1.34,1.47l-0.39,2.01l0.3,1.01l4.01,2.75l0.17,0.93l2.63,2.31l0.6,1.44l2.08,1.4l-3.84,-0.21l-1.94,0.88l-1.23,-0.49l-2.67,1.2l-1.29,-0.18l-0.51,0.36l-0.6,1.22l-3.35,-0.65l-1.57,-0.91l-2.42,-0.83l-1.45,0.91l-0.97,1.27l-0.26,1.56l-3.22,-0.43l-1.49,1.33l-0.94,1.62Z",name:"Central African Rep."},CD:{path:"M487.01,272.38l2.34,-0.14l1.35,1.84l1.34,0.45l0.86,-0.39l1.21,0.12l1.07,-0.41l0.54,0.89l2.04,1.54l-0.14,2.72l0.7,0.54l-1.38,1.13l-1.53,2.54l-0.17,2.05l-0.59,1.08l-0.02,1.72l-0.72,0.84l-0.66,3.01l0.63,1.32l-0.44,4.26l0.64,1.47l-0.37,1.22l0.86,1.8l1.53,1.41l0.3,1.26l0.44,0.5l-4.08,0.75l-0.92,1.81l0.51,1.34l-0.74,5.43l0.17,0.38l2.45,1.46l0.54,-0.1l0.12,1.62l-1.28,-0.01l-1.85,-2.35l-1.94,-0.45l-0.48,-1.13l-0.55,-0.2l-1.41,0.74l-1.71,-0.3l-1.01,-1.18l-2.49,-0.19l-0.44,-0.77l-1.98,-0.21l-2.88,0.36l0.11,-2.41l-0.85,-1.13l-0.16,-1.36l0.32,-1.73l-0.46,-0.89l-0.04,-1.49l-0.4,-0.39l-2.53,0.02l0.1,-0.41l-0.39,-0.49l-1.28,0.01l-0.43,0.45l-1.62,0.32l-0.83,1.79l-1.09,-0.28l-2.4,0.52l-1.37,-1.91l-1.3,-3.3l-0.38,-0.27l-7.39,-0.03l-2.46,0.42l0.5,-0.45l0.37,-1.47l0.66,-0.38l0.92,0.08l0.73,-0.82l0.87,0.02l0.31,0.68l1.4,0.36l3.59,-3.63l0.01,-2.23l1.02,-2.29l2.69,-2.39l0.43,-0.99l0.49,-1.96l0.17,-3.51l1.25,-2.95l0.36,-3.14l0.86,-1.13l1.1,-0.66l3.57,1.73l3.65,0.73l0.46,-0.21l0.8,-1.46l1.24,0.19l2.61,-1.17l0.81,0.44l1.04,-0.03l0.59,-0.66l0.7,-0.16l1.81,0.25Z",name:"Dem. Rep. Congo"},CZ:{path:"M458.46,144.88l1.22,1.01l1.47,0.23l0.13,0.93l1.36,0.68l0.54,-0.2l0.24,-0.55l1.15,0.25l0.53,1.09l1.68,0.18l0.6,0.84l-1.04,0.73l-0.96,1.28l-1.6,0.17l-0.55,0.56l-1.04,-0.46l-1.05,0.15l-2.12,-0.96l-1.05,0.34l-1.2,1.12l-1.56,-0.87l-2.57,-2.1l-0.53,-1.88l4.7,-2.52l0.71,0.26l0.9,-0.28Z",name:"Czech Rep."},CY:{path:"M504.36,193.47l0.43,0.28l-1.28,0.57l-0.92,-0.28l-0.24,-0.46l2.01,-0.13Z",name:"Cyprus"},CR:{path:"M211.34,258.05l0.48,0.99l1.6,1.6l-0.54,0.45l0.29,1.42l-0.25,1.19l-1.09,-0.59l-0.05,-1.25l-2.46,-1.42l-0.28,-0.77l-0.66,-0.45l-0.45,-0.0l-0.11,1.04l-1.32,-0.95l0.31,-1.3l-0.36,-0.6l0.31,-0.27l1.42,0.58l1.29,-0.14l0.56,0.56l0.74,0.17l0.55,-0.27Z",name:"Costa Rica"},CU:{path:"M221.21,227.25l1.27,1.02l2.19,-0.28l4.43,3.33l2.08,0.43l-0.1,0.38l0.36,0.5l1.75,0.1l1.48,0.84l-3.11,0.51l-4.15,-0.03l0.77,-0.67l-0.04,-0.64l-1.2,-0.74l-1.49,-0.16l-0.7,-0.61l-0.56,-1.4l-0.4,-0.25l-1.34,0.1l-2.2,-0.66l-0.88,-0.58l-3.18,-0.4l-0.27,-0.16l0.58,-0.74l-0.36,-0.29l-2.72,-0.05l-1.7,1.29l-0.91,0.03l-0.61,0.69l-1.01,0.22l1.11,-1.29l1.01,-0.52l3.69,-1.01l3.98,0.21l2.21,0.84Z",name:"Cuba"},SZ:{path:"M500.35,351.36l0.5,2.04l-0.38,0.89l-1.05,0.21l-1.23,-1.2l-0.02,-0.64l0.83,-1.57l1.34,0.27Z",name:"Swaziland"},SY:{path:"M511.0,199.79l0.05,-1.33l0.54,-1.36l1.28,-0.99l0.13,-0.45l-0.41,-1.11l-1.14,-0.36l-0.19,-1.74l0.52,-1.0l1.29,-1.21l0.2,-1.18l0.59,0.23l2.62,-0.76l1.36,0.52l2.06,-0.01l2.95,-1.08l3.25,-0.26l-0.67,0.94l-1.28,0.66l-0.21,0.4l0.23,2.01l-0.88,3.19l-10.15,5.73l-2.15,-0.85Z",name:"Syria"},KG:{path:"M621.35,172.32l-3.87,1.69l-0.96,1.18l-3.04,0.34l-1.13,1.86l-2.36,-0.35l-1.99,0.63l-2.39,1.4l0.06,0.95l-0.4,0.37l-4.52,0.43l-3.02,-0.93l-2.37,0.17l0.11,-0.79l2.32,0.42l1.13,-0.88l1.99,0.2l3.21,-2.14l-0.03,-0.69l-2.97,-1.57l-1.94,0.65l-1.22,-0.74l1.71,-1.58l-0.12,-0.67l-0.36,-0.15l0.32,-0.77l1.36,-0.35l4.02,1.02l0.49,-0.3l0.35,-1.59l1.09,-0.48l3.42,1.22l1.11,-0.31l7.64,0.39l1.16,1.0l1.23,0.39Z",name:"Kyrgyzstan"},KE:{path:"M506.26,284.69l1.87,-2.56l0.93,-2.15l-1.38,-4.08l-1.06,-1.6l2.82,-2.75l0.79,0.26l0.12,1.41l0.86,0.83l1.9,0.11l3.28,2.13l3.57,0.44l1.05,-1.12l1.96,-0.9l0.82,0.68l1.16,0.09l-1.78,2.45l0.03,9.12l1.3,1.94l-1.37,0.78l-0.67,1.03l-1.08,0.46l-0.34,1.67l-0.81,1.07l-0.45,1.55l-0.68,0.56l-3.2,-2.23l-0.35,-1.58l-8.86,-4.98l0.14,-1.6l-0.57,-1.04Z",name:"Kenya"},SS:{path:"M481.71,263.34l1.07,-0.72l1.2,-3.18l1.36,-0.26l1.61,1.99l0.87,0.34l1.1,-0.41l1.5,0.07l0.57,0.53l2.49,0.0l0.44,-0.63l1.07,-0.4l0.45,-0.84l0.59,-0.33l1.9,1.33l1.6,-0.2l2.83,-3.33l-0.32,-2.21l1.59,-0.52l-0.24,1.6l0.3,1.83l1.35,1.18l0.2,1.87l0.35,0.41l0.02,1.53l-0.23,0.47l-1.42,0.25l-0.85,1.44l0.3,0.6l1.4,0.16l1.11,1.08l0.59,1.13l1.03,0.53l1.28,2.36l-4.41,3.98l-1.74,0.01l-1.89,0.55l-1.47,-0.52l-1.15,0.57l-2.96,-2.62l-1.3,0.49l-1.06,-0.15l-0.79,0.39l-0.82,-0.22l-1.8,-2.7l-1.91,-1.1l-0.66,-1.5l-2.62,-2.32l-0.18,-0.94l-2.37,-1.6Z",name:"S. Sudan"},SR:{path:"M283.12,270.19l2.1,0.53l-1.08,1.95l0.2,1.72l0.93,1.49l-0.59,2.03l-0.43,0.71l-1.12,-0.42l-1.32,0.22l-0.93,-0.2l-0.46,0.26l-0.25,0.73l0.33,0.7l-0.89,-0.13l-1.39,-1.97l-0.31,-1.34l-0.97,-0.31l-0.89,-1.47l0.35,-1.61l1.45,-0.82l0.33,-1.87l2.61,0.44l0.57,-0.47l1.75,-0.16Z",name:"Suriname"},KH:{path:"M689.52,249.39l0.49,1.45l-0.28,2.74l-4.0,1.86l-0.16,0.6l0.68,0.95l-2.06,0.17l-2.05,0.97l-1.82,-0.32l-2.12,-3.7l-0.55,-2.85l1.4,-1.85l3.02,-0.45l2.23,0.35l2.01,0.98l0.51,-0.14l0.95,-1.48l1.74,0.74Z",name:"Cambodia"},SV:{path:"M195.8,250.13l1.4,-1.19l2.24,1.45l0.98,-0.27l0.44,0.2l-0.27,1.05l-1.14,-0.03l-3.64,-1.21Z",name:"El Salvador"},SK:{path:"M476.82,151.17l-1.14,1.9l-2.73,-0.92l-0.82,0.2l-0.74,0.8l-3.46,0.73l-0.47,0.69l-1.76,0.33l-1.88,-1.0l-0.18,-0.81l0.38,-0.75l1.87,-0.32l1.74,-1.89l0.83,0.16l0.79,-0.34l1.51,1.04l1.34,-0.63l1.25,0.3l1.65,-0.42l1.81,0.95Z",name:"Slovakia"},KR:{path:"M737.51,185.84l0.98,-0.1l0.87,-1.17l2.69,-0.32l0.33,-0.29l1.76,2.79l0.58,1.76l0.02,3.12l-0.8,1.32l-2.21,0.55l-1.93,1.13l-1.8,0.19l-0.2,-1.1l0.43,-2.28l-0.95,-2.56l1.43,-0.37l0.23,-0.62l-1.43,-2.06Z",name:"Korea"},SI:{path:"M456.18,162.07l-0.51,-1.32l0.18,-1.05l1.69,0.2l1.42,-0.71l2.09,-0.07l0.62,-0.51l0.21,0.47l-1.61,0.67l-0.44,1.34l-0.66,0.24l-0.26,0.82l-1.22,-0.49l-0.84,0.46l-0.69,-0.04Z",name:"Slovenia"},KP:{path:"M736.77,185.16l-0.92,-0.42l-0.88,0.62l-1.21,-0.88l0.96,-1.15l0.59,-2.59l-0.46,-0.74l-2.09,-0.77l1.64,-1.52l2.72,-1.58l1.58,-1.91l1.11,0.78l2.17,0.11l0.41,-0.5l-0.3,-1.22l3.52,-1.18l0.94,-1.4l0.98,1.08l-2.19,2.18l0.01,2.14l-1.06,0.54l-1.41,1.4l-1.7,0.52l-1.25,1.09l-0.14,1.98l0.94,0.45l1.15,1.04l-0.13,0.26l-2.6,0.29l-1.13,1.29l-1.22,0.08Z",name:"Dem. Rep. Korea"},SO:{path:"M525.13,288.48l-1.13,-1.57l-0.03,-8.86l2.66,-3.38l1.67,-0.13l2.13,-1.69l3.41,-0.23l7.08,-7.55l2.91,-3.69l0.08,-4.82l2.98,-0.67l1.24,-0.86l0.45,-0.0l-0.2,3.0l-1.21,3.62l-2.73,5.97l-2.13,3.65l-5.03,6.16l-8.56,6.4l-2.78,3.08l-0.8,1.56Z",name:"Somalia"},SN:{path:"M390.09,248.21l0.12,1.55l0.49,1.46l0.96,0.82l0.05,1.28l-1.26,-0.19l-0.75,0.33l-1.84,-0.61l-5.84,-0.13l-2.54,0.51l-0.22,-1.03l1.77,0.04l2.01,-0.91l1.03,0.48l1.09,0.04l1.29,-0.62l0.14,-0.58l-0.51,-0.74l-1.81,0.25l-1.13,-0.63l-0.79,0.04l-0.72,0.61l-2.31,0.06l-0.92,-1.77l-0.81,-0.64l0.64,-0.35l2.46,-3.74l1.04,0.19l1.38,-0.56l1.19,-0.02l2.72,1.37l3.03,3.48Z",name:"Senegal"},SL:{path:"M394.46,264.11l-1.73,1.98l-0.58,1.33l-2.07,-1.06l-1.22,-1.26l-0.65,-2.39l1.16,-0.96l0.67,-1.17l1.21,-0.52l1.66,0.0l1.03,1.64l0.52,2.41Z",name:"Sierra Leone"},SB:{path:"M826.69,311.6l-0.61,0.09l-0.2,-0.33l0.37,0.15l0.44,0.09ZM824.18,307.38l-0.26,-0.3l-0.31,-0.91l0.03,0.0l0.54,1.21ZM823.04,309.33l-1.66,-0.22l-0.2,-0.52l1.16,0.28l0.69,0.46ZM819.28,304.68l1.14,0.65l0.02,0.03l-0.81,-0.44l-0.35,-0.23Z",name:"Solomon Is."},SA:{path:"M537.53,210.34l2.0,0.24l0.9,1.32l1.49,-0.06l0.87,2.08l1.29,0.76l0.51,0.99l1.56,1.03l-0.1,1.9l0.32,0.9l1.58,2.47l0.76,0.53l0.7,-0.04l1.68,4.23l7.53,1.33l0.51,-0.29l0.77,1.25l-1.55,4.87l-7.29,2.52l-7.3,1.03l-2.34,1.17l-1.88,2.74l-0.76,0.28l-0.82,-0.78l-0.91,0.12l-2.88,-0.51l-3.51,0.25l-0.86,-0.56l-0.57,0.15l-0.66,1.27l0.16,1.11l-0.43,0.32l-0.93,-1.4l-0.33,-1.16l-1.23,-0.88l-1.27,-2.06l-0.78,-2.22l-1.73,-1.79l-1.14,-0.48l-1.54,-2.31l-0.21,-3.41l-1.44,-2.93l-1.27,-1.16l-1.33,-0.57l-1.31,-3.37l-0.77,-0.67l-0.97,-1.97l-2.8,-4.03l-1.06,-0.17l0.37,-1.96l0.2,-0.72l2.74,0.3l1.08,-0.84l0.6,-0.94l1.74,-0.35l0.65,-1.03l0.71,-0.4l0.1,-0.62l-2.06,-2.28l4.39,-1.22l0.48,-0.37l2.77,0.69l3.66,1.9l7.03,5.5l4.87,0.3Z",name:"Saudi Arabia"},SE:{path:"M480.22,89.3l-4.03,1.17l-2.43,2.86l0.26,2.57l-8.77,6.64l-1.78,5.79l1.78,2.68l2.22,1.96l-2.07,3.77l-2.72,1.13l-0.95,6.04l-1.29,3.01l-2.74,-0.31l-0.4,0.22l-1.31,2.59l-2.34,0.13l-0.75,-3.09l-2.08,-4.03l-1.83,-4.96l1.0,-1.93l2.14,-2.7l0.83,-4.45l-1.6,-2.17l-0.15,-4.94l1.48,-3.39l2.58,-0.15l0.87,-1.59l-0.78,-1.57l3.76,-5.59l4.04,-7.48l2.17,0.01l0.39,-0.29l0.57,-2.07l4.37,0.64l0.46,-0.34l0.33,-2.56l1.1,-0.13l6.94,4.87l0.06,6.32l0.66,1.36Z",name:"Sweden"},SD:{path:"M505.98,259.4l-0.34,-0.77l-1.17,-0.9l-0.26,-1.61l0.29,-1.81l-0.34,-0.46l-1.16,-0.17l-0.54,0.59l-1.23,0.11l-0.28,0.65l0.53,0.65l0.17,1.22l-2.44,3.0l-0.96,0.19l-2.39,-1.4l-0.95,0.52l-0.38,0.78l-1.11,0.41l-0.29,0.5l-1.94,0.0l-0.54,-0.52l-1.81,-0.09l-0.95,0.4l-2.45,-2.35l-2.07,0.54l-0.73,1.26l-0.6,2.1l-1.25,0.58l-0.75,-0.62l0.27,-2.65l-1.48,-1.78l-0.22,-1.48l-0.92,-0.96l-0.02,-1.29l-0.57,-1.16l-0.68,-0.16l0.69,-1.29l-0.18,-1.14l0.65,-0.62l0.03,-0.55l-0.36,-0.41l1.55,-2.97l1.91,0.16l0.43,-0.4l-0.1,-10.94l2.49,-0.01l0.4,-0.4l-0.0,-4.82l29.02,0.0l0.64,2.04l-0.49,0.66l0.36,2.69l0.93,3.16l2.12,1.55l-0.89,1.04l-1.72,0.39l-0.98,0.9l-1.43,5.65l0.24,1.15l-0.38,2.06l-0.96,2.38l-1.53,1.31l-1.32,2.91l-1.22,0.86l-0.37,1.34Z",name:"Sudan"},DO:{path:"M241.8,239.2l0.05,-0.65l-0.46,-0.73l0.42,-0.44l0.19,-1.0l-0.09,-1.53l1.66,0.01l1.99,0.63l0.33,0.67l1.28,0.19l0.33,0.76l1.0,0.08l0.8,0.62l-0.45,0.51l-1.13,-0.47l-1.88,-0.01l-1.27,0.59l-0.75,-0.55l-1.01,0.54l-0.79,1.4l-0.23,-0.61Z",name:"Dominican Rep."},DJ:{path:"M528.43,256.18l-0.45,0.66l-0.58,-0.25l-1.51,0.13l-0.18,-1.01l1.45,-1.95l0.83,0.17l0.77,-0.44l0.2,1.0l-1.2,0.51l-0.06,0.7l0.73,0.47Z",name:"Djibouti"},DK:{path:"M452.28,129.07l-1.19,2.24l-2.13,-1.6l-0.23,-0.95l2.98,-0.95l0.57,1.26ZM447.74,126.31l-0.26,0.57l-0.88,-0.07l-1.8,2.53l0.48,1.69l-1.09,0.36l-1.61,-0.39l-0.89,-1.69l-0.07,-3.43l0.96,-1.73l2.02,-0.2l1.09,-1.07l1.33,-0.67l-0.05,1.06l-0.73,1.41l0.3,1.0l1.2,0.64Z",name:"Denmark"},DE:{path:"M453.14,155.55l-0.55,-0.36l-1.2,-0.1l-1.87,0.57l-2.13,-0.13l-0.56,0.63l-0.86,-0.6l-0.96,0.09l-2.57,-0.93l-0.85,0.67l-1.47,-0.02l0.24,-1.75l1.23,-2.14l-0.28,-0.59l-3.52,-0.58l-0.92,-0.66l0.12,-1.2l-0.48,-0.88l0.27,-2.17l-0.37,-3.03l1.41,-0.22l0.63,-1.26l0.66,-3.19l-0.41,-1.18l0.26,-0.39l1.66,-0.15l0.33,0.54l0.62,0.07l1.7,-1.69l-0.54,-3.02l1.37,0.33l1.31,-0.37l0.31,1.18l2.25,0.71l-0.02,0.92l0.5,0.4l2.55,-0.65l1.34,-0.87l2.57,1.24l1.06,0.98l0.48,1.44l-0.57,0.74l-0.0,0.48l0.87,1.15l0.57,1.64l-0.14,1.29l0.82,1.7l-1.5,-0.07l-0.56,0.57l-4.47,2.15l-0.22,0.54l0.68,2.26l2.58,2.16l-0.66,1.11l-0.79,0.36l-0.23,0.43l0.32,1.87Z",name:"Germany"},YE:{path:"M528.27,246.72l0.26,-0.42l-0.22,-1.01l0.19,-1.5l0.92,-0.69l-0.07,-1.35l0.39,-0.75l1.01,0.47l3.34,-0.27l3.76,0.41l0.95,0.81l1.36,-0.58l1.74,-2.62l2.18,-1.09l6.86,-0.94l2.48,5.41l-1.64,0.76l-0.56,1.9l-6.23,2.16l-2.29,1.8l-1.93,0.05l-1.41,1.02l-4.24,0.74l-1.72,1.49l-3.28,0.19l-0.52,-1.18l0.02,-1.51l-1.34,-3.29Z",name:"Yemen"},AT:{path:"M462.89,152.8l0.04,2.25l-1.07,0.0l-0.33,0.63l0.36,0.51l-1.04,2.13l-2.02,0.07l-1.33,0.7l-5.29,-0.99l-0.47,-0.93l-0.44,-0.21l-2.47,0.55l-0.42,0.51l-3.18,-0.81l0.43,-0.91l1.12,0.78l0.6,-0.17l0.25,-0.58l1.93,0.12l1.86,-0.56l1.0,0.08l0.68,0.57l0.62,-0.15l0.26,-0.77l-0.3,-1.78l0.8,-0.44l0.68,-1.15l1.52,0.85l0.47,-0.06l1.34,-1.25l0.64,-0.17l1.81,0.92l1.28,-0.11l0.7,0.37Z",name:"Austria"},DZ:{path:"M441.46,188.44l-0.32,1.07l0.39,2.64l-0.54,2.16l-1.58,1.82l0.37,2.39l1.91,1.55l0.18,0.8l1.42,1.03l1.84,7.23l0.12,1.16l-0.57,5.0l0.2,1.51l-0.87,0.99l-0.02,0.51l1.41,1.86l0.14,1.2l0.89,1.48l0.5,0.16l0.98,-0.41l1.73,1.08l0.82,1.23l-8.22,4.81l-7.23,5.11l-3.43,1.13l-2.3,0.21l-0.28,-1.59l-2.56,-1.09l-0.67,-1.25l-26.12,-17.86l0.01,-3.47l3.77,-1.88l2.44,-0.41l2.12,-0.75l1.08,-1.42l2.81,-1.05l0.35,-2.08l1.33,-0.29l1.04,-0.94l3.47,-0.69l0.46,-1.08l-0.1,-0.45l-0.58,-0.52l-0.82,-2.81l-0.19,-1.83l-0.78,-1.49l2.03,-1.31l2.63,-0.48l1.7,-1.22l2.31,-0.84l8.24,-0.73l1.49,0.38l2.28,-1.1l2.46,-0.02l0.92,0.6l1.35,-0.05Z",name:"Algeria"},US:{path:"M892.72,99.2l1.31,0.53l1.41,-0.37l1.89,0.98l1.89,0.42l-1.32,0.58l-2.9,-1.53l-2.08,0.22l-0.26,-0.15l0.07,-0.67ZM183.22,150.47l0.37,1.47l1.12,0.85l4.23,0.7l2.39,0.98l2.17,-0.38l1.85,0.5l-1.55,0.65l-3.49,2.61l-0.16,0.77l0.5,0.39l2.33,-0.61l1.77,1.02l5.15,-2.4l-0.31,0.65l0.25,0.56l1.36,0.38l1.71,1.16l4.7,-0.88l0.67,0.85l1.31,0.21l0.58,0.58l-1.34,0.17l-2.18,-0.32l-3.6,0.89l-2.71,3.25l0.35,0.9l0.59,-0.0l0.55,-0.6l-1.36,4.65l0.29,3.09l0.67,1.58l0.61,0.45l1.77,-0.44l1.6,-1.96l0.14,-2.21l-0.82,-1.96l0.11,-1.13l1.19,-2.37l0.44,-0.33l0.48,0.75l0.4,-0.29l0.4,-1.37l0.6,-0.47l0.24,-0.8l1.69,0.49l1.65,1.08l-0.03,2.37l-1.27,1.13l-0.0,1.13l0.87,0.36l1.66,-1.29l0.5,0.17l0.5,2.6l-2.49,3.75l0.17,0.61l1.54,0.62l1.48,0.17l1.92,-0.44l4.72,-2.15l2.16,-1.8l-0.05,-1.24l0.75,-0.22l3.92,0.36l2.12,-1.05l0.21,-0.4l-0.28,-1.48l3.27,-2.4l8.32,-0.02l0.56,-0.82l1.9,-0.77l0.93,-1.51l0.74,-2.37l1.58,-1.98l0.92,0.62l1.47,-0.47l0.8,0.66l-0.0,4.09l1.96,2.6l-2.34,1.31l-5.37,2.09l-1.83,2.72l0.02,1.79l0.83,1.59l0.54,0.23l-6.19,0.94l-2.2,0.89l-0.23,0.48l0.45,0.29l2.99,-0.46l-2.19,0.56l-1.13,0.0l-0.15,-0.32l-0.48,0.08l-0.76,0.82l0.22,0.67l0.32,0.06l-0.41,1.62l-1.27,1.58l-1.48,-1.07l-0.49,-0.04l-0.16,0.46l0.52,1.58l0.61,0.59l0.03,0.79l-0.95,1.38l-1.21,-1.22l-0.27,-2.27l-0.35,-0.35l-0.42,0.25l-0.48,1.27l0.33,1.41l-0.97,-0.27l-0.48,0.24l0.18,0.5l1.52,0.83l0.1,2.52l0.79,0.51l0.52,3.42l-1.42,1.88l-2.47,0.8l-1.71,1.66l-1.31,0.25l-1.27,1.03l-0.43,0.99l-2.69,1.78l-2.64,3.03l-0.45,2.12l0.45,2.08l0.85,2.38l1.09,1.9l0.04,1.2l1.16,3.06l-0.18,2.69l-0.55,1.43l-0.47,0.21l-0.89,-0.23l-0.49,-1.18l-0.87,-0.56l-2.75,-5.16l0.48,-1.68l-0.72,-1.78l-2.01,-2.38l-1.12,-0.53l-2.72,1.18l-1.47,-1.35l-1.57,-0.68l-2.99,0.31l-2.17,-0.3l-2.0,0.19l-1.15,0.46l-0.19,0.58l0.39,0.63l0.14,1.34l-0.84,-0.2l-0.84,0.46l-1.58,-0.07l-2.08,-1.44l-2.09,0.33l-1.91,-0.62l-3.73,0.84l-2.39,2.07l-2.54,1.22l-1.45,1.41l-0.61,1.38l0.34,3.71l-0.29,0.02l-3.5,-1.33l-1.25,-3.11l-1.44,-1.5l-2.24,-3.56l-1.76,-1.09l-2.27,-0.01l-1.71,2.07l-1.76,-0.69l-1.16,-0.74l-1.52,-2.98l-3.93,-3.16l-4.34,-0.0l-0.4,0.4l-0.0,0.74l-6.5,0.02l-9.02,-3.14l-0.34,-0.71l-5.7,0.49l-0.43,-1.29l-1.62,-1.61l-1.14,-0.38l-0.55,-0.88l-1.28,-0.13l-1.01,-0.77l-2.22,-0.27l-0.43,-0.3l-0.36,-1.58l-2.4,-2.83l-2.01,-3.85l-0.06,-0.9l-2.92,-3.26l-0.33,-2.29l-1.3,-1.66l0.52,-2.37l-0.09,-2.57l-0.78,-2.3l0.95,-2.82l0.61,-5.68l-0.47,-4.27l-1.46,-4.08l3.19,0.79l1.26,2.83l0.69,0.08l0.69,-1.14l-1.1,-4.79l68.76,-0.0l0.4,-0.4l0.14,-0.86ZM32.44,67.52l1.73,1.97l0.55,0.05l0.99,-0.79l3.65,0.24l-0.09,0.62l0.32,0.45l3.83,0.77l2.61,-0.43l5.19,1.4l4.84,0.43l1.89,0.57l3.42,-0.7l6.14,1.87l-0.03,38.06l0.38,0.4l2.39,0.11l2.31,0.98l3.9,3.99l0.55,0.04l2.4,-2.03l2.16,-1.04l1.2,1.71l3.95,3.14l4.09,6.63l4.2,2.29l0.06,1.83l-1.02,1.23l-1.16,-1.08l-2.04,-1.03l-0.67,-2.89l-3.28,-3.03l-1.65,-3.57l-6.35,-0.32l-2.82,-1.01l-5.26,-3.85l-6.77,-2.04l-3.53,0.3l-4.81,-1.69l-3.25,-1.63l-2.78,0.8l-0.28,0.46l0.44,2.21l-3.91,0.96l-2.26,1.27l-2.3,0.65l-0.27,-1.65l1.05,-3.42l2.49,-1.09l0.16,-0.6l-0.69,-0.96l-0.55,-0.1l-3.19,2.12l-1.78,2.56l-3.55,2.61l-0.04,0.61l1.56,1.52l-2.07,2.29l-5.11,2.57l-0.77,1.66l-3.76,1.77l-0.92,1.73l-2.69,1.38l-1.81,-0.22l-6.95,3.32l-3.97,0.91l4.85,-2.5l2.59,-1.86l3.26,-0.52l1.19,-1.4l3.42,-2.1l2.59,-2.27l0.42,-2.68l1.23,-2.1l-0.04,-0.46l-0.45,-0.11l-2.68,1.03l-0.63,-0.49l-0.53,0.03l-1.05,1.04l-1.36,-1.54l-0.66,0.08l-0.32,0.62l-0.58,-1.14l-0.56,-0.16l-2.41,1.42l-1.07,-0.0l-0.17,-1.75l0.3,-1.71l-1.61,-1.33l-3.41,0.59l-1.96,-1.63l-1.57,-0.84l-0.15,-2.21l-1.7,-1.43l0.82,-1.88l1.99,-2.12l0.88,-1.92l1.71,-0.24l2.04,0.51l1.87,-1.77l1.91,0.25l1.91,-1.23l0.17,-0.43l-0.47,-1.82l-1.07,-0.7l1.39,-1.17l0.12,-0.45l-0.39,-0.26l-1.65,0.07l-2.66,0.88l-0.75,0.78l-1.92,-0.8l-3.46,0.44l-3.44,-0.91l-1.06,-1.61l-2.65,-1.99l2.91,-1.43l5.5,-2.0l1.52,0.0l-0.26,1.62l0.41,0.46l5.29,-0.16l0.3,-0.65l-2.03,-2.59l-3.14,-1.68l-1.79,-2.12l-2.4,-1.83l-3.09,-1.24l1.04,-1.69l4.23,-0.14l3.36,-2.07l0.73,-2.27l2.39,-1.99l2.42,-0.52l4.65,-1.97l2.46,0.23l3.71,-2.35l3.5,0.89ZM37.6,123.41l-2.25,1.23l-0.95,-0.69l-0.29,-1.24l3.21,-1.63l1.42,0.21l0.67,0.7l-1.8,1.42ZM31.06,234.03l0.98,0.47l0.74,0.87l-1.77,1.07l-0.44,-1.53l0.49,-0.89ZM29.34,232.07l0.18,0.05l0.08,0.05l-0.16,0.03l-0.11,-0.14ZM25.16,230.17l0.05,-0.03l0.18,0.22l-0.13,-0.01l-0.1,-0.18ZM5.89,113.26l-1.08,0.41l-2.21,-1.12l1.53,-0.4l1.62,0.28l0.14,0.83Z",name:"United States"},LV:{path:"M489.16,122.85l0.96,0.66l0.22,1.65l0.68,1.76l-3.65,1.7l-2.23,-1.58l-1.29,-0.26l-0.68,-0.77l-2.42,0.34l-4.16,-0.23l-2.47,0.9l0.06,-1.98l1.13,-2.06l1.95,-1.02l2.12,2.58l2.01,-0.07l0.38,-0.33l0.44,-2.52l1.76,-0.53l3.06,1.7l2.15,0.07Z",name:"Latvia"},UY:{path:"M286.85,372.74l-0.92,1.5l-2.59,1.44l-1.69,-0.52l-1.42,0.26l-2.39,-1.19l-1.52,0.08l-1.27,-1.3l0.16,-1.5l0.56,-0.79l-0.02,-2.73l1.21,-4.74l1.19,-0.21l2.37,2.0l1.08,0.03l4.36,3.17l1.22,1.6l-0.96,1.5l0.61,1.4Z",name:"Uruguay"},LB:{path:"M510.37,198.01l-0.88,0.51l1.82,-3.54l0.62,0.08l0.22,0.61l-1.13,0.88l-0.65,1.47Z",name:"Lebanon"},LA:{path:"M689.54,248.53l-1.76,-0.74l-0.49,0.15l-0.94,1.46l-1.32,-0.64l0.62,-0.98l0.11,-2.17l-2.04,-2.42l-0.25,-2.65l-1.9,-2.1l-2.15,-0.31l-0.78,0.91l-1.12,0.06l-1.05,-0.4l-2.06,1.2l-0.04,-1.59l0.61,-2.68l-0.36,-0.49l-1.35,-0.1l-0.11,-1.23l-0.96,-0.88l1.96,-1.89l0.39,0.36l1.33,0.07l0.42,-0.45l-0.34,-2.66l0.7,-0.21l1.28,1.81l1.11,2.35l0.36,0.23l2.82,0.02l0.71,1.67l-1.39,0.65l-0.72,0.93l0.13,0.6l2.91,1.51l3.6,5.25l1.88,1.78l0.56,1.62l-0.35,1.96Z",name:"Lao PDR"},TW:{path:"M724.01,226.68l-0.74,1.48l-0.9,-1.52l-0.25,-1.74l1.38,-2.44l1.73,-1.74l0.64,0.44l-1.85,5.52Z",name:"Taiwan"},TT:{path:"M266.64,259.32l0.28,-1.16l1.13,-0.22l-0.06,1.2l-1.35,0.18Z",name:"Trinidad and Tobago"},TR:{path:"M513.21,175.47l3.64,1.17l3.05,-0.44l2.1,0.26l3.11,-1.56l2.46,-0.13l2.19,1.33l0.33,0.82l-0.22,1.33l0.25,0.44l2.28,1.13l-1.17,0.57l-0.21,0.45l0.75,3.2l-0.41,1.16l1.13,1.92l-0.55,0.22l-0.9,-0.67l-2.91,-0.37l-1.24,0.46l-4.23,0.41l-2.81,1.05l-1.91,0.01l-1.52,-0.53l-2.58,0.75l-0.66,-0.45l-0.62,0.3l-0.12,1.45l-0.89,0.84l-0.47,-0.67l0.79,-1.3l-0.41,-0.2l-1.43,0.23l-2.0,-0.63l-2.02,1.65l-3.51,0.3l-2.13,-1.53l-2.7,-0.1l-0.86,1.24l-1.38,0.27l-2.29,-1.44l-2.71,-0.01l-1.37,-2.65l-1.68,-1.52l1.07,-1.99l-0.09,-0.49l-1.27,-1.12l2.37,-2.41l3.7,-0.11l1.28,-2.24l4.49,0.37l3.21,-1.97l2.81,-0.82l3.99,-0.06l4.29,2.07ZM488.79,176.72l-1.72,1.31l-0.5,-0.88l1.37,-2.57l-0.7,-0.85l1.7,-0.63l1.8,0.34l0.46,1.17l1.76,0.78l-2.87,0.32l-1.3,1.01Z",name:"Turkey"},LK:{path:"M624.16,268.99l-1.82,0.48l-0.99,-1.67l-0.42,-3.46l0.95,-3.43l1.21,0.98l2.26,4.19l-0.34,2.33l-0.85,0.58Z",name:"Sri Lanka"},TN:{path:"M448.1,188.24l-1.0,1.27l-0.02,1.32l0.84,0.88l-0.28,2.09l-1.53,1.32l-0.12,0.42l0.48,1.54l1.42,0.32l0.53,1.11l0.9,0.52l-0.11,1.67l-3.54,2.64l-0.1,2.38l-0.58,0.3l-0.96,-4.45l-1.54,-1.25l-0.16,-0.78l-1.92,-1.56l-0.18,-1.76l1.51,-1.62l0.59,-2.34l-0.38,-2.78l0.42,-1.21l2.45,-1.05l1.29,0.26l-0.06,1.11l0.58,0.38l1.47,-0.73Z",name:"Tunisia"},TL:{path:"M734.55,307.93l-0.1,-0.97l4.5,-0.86l-2.82,1.28l-1.59,0.55Z",name:"Timor-Leste"},TM:{path:"M553.03,173.76l-0.04,0.34l-0.09,-0.22l0.13,-0.12ZM555.87,172.66l0.45,-0.1l1.48,0.74l2.06,2.43l4.07,-0.18l0.38,-0.51l-0.32,-1.19l1.92,-0.94l1.91,-1.59l2.94,1.39l0.43,2.47l1.19,0.67l2.58,-0.13l0.62,0.4l1.32,3.12l4.54,3.44l2.67,1.45l3.06,1.14l-0.04,1.05l-1.33,-0.75l-0.59,0.19l-0.32,0.84l-2.2,0.81l-0.46,2.13l-1.21,0.74l-1.91,0.42l-0.73,1.33l-1.56,0.31l-2.22,-0.94l-0.2,-2.17l-0.38,-0.36l-1.73,-0.09l-2.76,-2.46l-2.14,-0.4l-2.84,-1.48l-1.78,-0.27l-1.24,0.53l-1.57,-0.08l-2.0,1.69l-1.7,0.43l-0.36,-1.58l0.36,-2.98l-0.22,-0.4l-1.65,-0.84l0.54,-1.69l-0.34,-0.52l-1.22,-0.13l0.36,-1.64l2.22,0.59l2.2,-0.95l0.12,-0.65l-1.77,-1.74l-0.66,-1.57Z",name:"Turkmenistan"},TJ:{path:"M597.75,178.82l-2.54,-0.44l-0.47,0.34l-0.24,1.7l0.43,0.45l2.64,-0.22l3.18,0.95l4.39,-0.41l0.56,2.37l0.52,0.29l0.67,-0.24l1.11,0.49l0.21,2.13l-3.76,-0.21l-1.8,1.32l-1.76,0.74l-0.61,-0.58l0.21,-2.23l-0.64,-0.49l-0.07,-0.93l-1.36,-0.66l-0.45,0.07l-1.08,1.01l-0.55,1.48l-1.31,-0.05l-0.95,1.16l-0.9,-0.35l-1.86,0.74l1.26,-2.83l-0.54,-2.17l-1.67,-0.82l0.33,-0.66l2.18,-0.04l1.19,-1.63l0.76,-1.79l2.43,-0.5l-0.26,1.0l0.73,1.05Z",name:"Tajikistan"},LS:{path:"M491.06,363.48l-0.49,0.15l-1.49,-1.67l1.1,-1.43l2.19,-1.44l1.51,1.27l-0.98,1.82l-1.23,0.38l-0.62,0.93Z",name:"Lesotho"},TH:{path:"M670.27,255.86l-1.41,3.87l0.15,2.0l0.38,0.36l1.38,0.07l0.9,2.04l0.55,2.34l1.4,1.44l1.61,0.38l0.96,0.97l-0.5,0.64l-1.1,0.2l-0.34,-1.18l-2.04,-1.1l-0.63,0.23l-0.63,-0.62l-0.48,-1.3l-2.56,-2.63l-0.73,0.41l0.95,-3.89l2.16,-4.22ZM670.67,254.77l-0.92,-2.18l-0.26,-2.61l-2.14,-3.06l0.71,-0.49l0.89,-2.59l-3.61,-5.45l0.87,-0.51l1.05,-2.58l1.74,-0.18l2.6,-1.59l0.76,0.56l0.13,1.39l0.37,0.36l1.23,0.09l-0.51,2.28l0.05,2.42l0.6,0.34l2.43,-1.42l0.77,0.39l1.47,-0.07l0.71,-0.88l1.48,0.14l1.71,1.88l0.25,2.65l1.92,2.11l-0.1,1.89l-0.61,0.86l-2.22,-0.33l-3.5,0.64l-1.6,2.12l0.36,2.58l-1.51,-0.79l-1.84,-0.01l0.28,-1.52l-0.4,-0.47l-2.21,0.01l-0.4,0.37l-0.19,2.74l-0.34,0.93Z",name:"Thailand"},TF:{path:"M596.68,420.38l-3.2,0.18l-0.05,-1.26l0.39,-1.41l1.3,0.78l2.08,0.35l-0.52,1.36Z",name:"Fr. S. Antarctic Lands"},TG:{path:"M422.7,257.63l-0.09,1.23l1.53,1.52l0.08,1.09l0.5,0.65l-0.11,5.62l0.49,1.47l-1.31,0.35l-1.02,-2.13l-0.18,-1.12l0.53,-2.19l-0.63,-1.16l-0.22,-3.68l-1.01,-1.4l0.07,-0.28l1.37,0.03Z",name:"Togo"},TD:{path:"M480.25,235.49l0.12,9.57l-2.1,0.05l-1.14,1.89l-0.69,1.63l0.34,0.73l-0.66,0.91l0.24,0.89l-0.86,1.95l0.45,0.5l0.6,-0.1l0.34,0.64l0.03,1.38l0.9,1.04l-1.45,0.43l-1.27,1.03l-1.83,2.76l-2.16,1.07l-2.31,-0.15l-0.86,0.25l-0.26,0.49l0.17,0.61l-2.11,1.68l-2.85,0.87l-1.09,-0.57l-0.73,0.66l-1.12,0.1l-1.1,-3.12l-1.25,-0.64l-1.22,-1.22l0.29,-0.64l3.01,0.04l0.35,-0.6l-1.3,-2.2l-0.08,-3.31l-0.97,-1.66l0.22,-1.04l-0.38,-0.48l-1.22,-0.04l0.0,-1.25l-0.98,-1.07l0.96,-3.01l3.25,-2.65l0.13,-3.33l0.95,-5.18l0.52,-1.07l-0.1,-0.48l-0.91,-0.78l-0.2,-0.96l-0.8,-0.58l-0.55,-3.65l2.1,-1.2l19.57,9.83Z",name:"Chad"},LY:{path:"M483.48,203.15l-0.75,1.1l0.29,1.39l-0.6,1.83l0.73,2.14l0.0,24.12l-2.48,0.01l-0.41,0.85l-19.41,-9.76l-4.41,2.28l-1.37,-1.33l-3.82,-1.1l-1.14,-1.65l-1.98,-1.23l-1.22,0.32l-0.66,-1.11l-0.17,-1.26l-1.28,-1.69l0.87,-1.19l-0.07,-4.34l0.43,-2.27l-0.86,-3.45l1.13,-0.76l0.22,-1.16l-0.2,-1.03l3.48,-2.61l0.29,-1.94l2.45,0.8l1.18,-0.21l1.98,0.44l3.15,1.18l1.37,2.54l5.72,1.67l2.64,1.35l1.61,-0.72l1.29,-1.34l-0.44,-2.34l0.66,-1.13l1.67,-1.21l1.57,-0.35l3.14,0.53l1.08,1.28l3.99,0.78l0.36,0.54Z",name:"Libya"},AE:{path:"M550.76,223.97l1.88,-0.4l3.84,0.02l4.78,-4.75l0.19,0.36l0.26,1.58l-0.81,0.01l-0.39,0.35l-0.08,2.04l-0.81,0.63l-0.01,0.96l-0.66,0.99l-0.39,1.41l-7.08,-1.25l-0.7,-1.96Z",name:"United Arab Emirates"},VE:{path:"M240.68,256.69l0.53,0.75l-0.02,1.06l-1.07,1.78l0.95,2.0l0.42,0.22l1.4,-0.44l0.56,-1.83l-0.77,-1.17l-0.1,-1.47l2.82,-0.93l0.26,-0.49l-0.28,-0.96l0.3,-0.28l0.66,1.31l1.96,0.26l1.4,1.22l0.08,0.68l0.39,0.35l4.81,-0.22l1.49,1.11l1.92,0.31l1.67,-0.84l0.22,-0.6l3.44,-0.14l-0.17,0.55l0.86,1.19l2.19,0.35l1.67,1.1l0.37,1.86l0.41,0.32l1.55,0.17l-1.66,1.35l-0.22,0.92l0.65,0.97l-1.67,0.54l-0.3,0.4l0.04,0.99l-0.56,0.57l-0.01,0.55l1.85,2.27l-0.66,0.69l-4.47,1.29l-0.72,0.54l-3.69,-0.9l-0.71,0.27l-0.02,0.7l0.91,0.53l-0.08,1.54l0.35,1.58l0.35,0.31l1.66,0.17l-1.3,0.52l-0.48,1.13l-2.68,0.91l-0.6,0.77l-1.57,0.13l-1.17,-1.13l-0.8,-2.52l-1.25,-1.26l1.02,-1.23l-1.29,-2.95l0.18,-1.62l1.0,-2.21l-0.2,-0.49l-1.14,-0.46l-4.02,0.36l-1.82,-2.1l-1.57,-0.33l-2.99,0.22l-1.06,-0.97l0.25,-1.23l-0.2,-1.01l-0.59,-0.69l-0.29,-1.06l-1.08,-0.39l0.78,-2.79l1.9,-2.11Z",name:"Venezuela"},AF:{path:"M600.7,188.88l-1.57,1.3l-0.1,0.48l0.8,2.31l-1.09,1.04l-0.03,1.27l-0.48,0.71l-2.16,-0.08l-0.37,0.59l0.78,1.48l-1.38,0.69l-1.06,1.69l0.06,1.7l-0.65,0.52l-0.91,-0.21l-1.91,0.36l-0.48,0.77l-1.88,0.13l-1.4,1.56l-0.18,2.32l-2.91,1.02l-1.65,-0.23l-0.71,0.55l-1.41,-0.3l-2.41,0.39l-3.52,-1.17l1.96,-2.35l-0.21,-1.78l-0.3,-0.34l-1.63,-0.4l-0.19,-1.58l-0.75,-2.03l0.95,-1.36l-0.19,-0.6l-0.73,-0.28l1.47,-4.8l2.14,0.9l2.12,-0.36l0.74,-1.34l1.77,-0.39l1.54,-0.92l0.63,-2.31l1.87,-0.5l0.49,-0.81l0.94,0.56l2.13,0.11l2.55,0.92l1.95,-0.83l0.65,0.43l0.56,-0.13l0.69,-1.12l1.57,-0.08l0.72,-1.66l0.79,-0.74l0.8,0.39l-0.17,0.56l0.71,0.58l-0.08,2.39l1.11,0.95ZM601.37,188.71l1.73,-0.71l1.43,-1.18l4.03,0.35l-2.23,0.74l-4.95,0.8Z",name:"Afghanistan"},IQ:{path:"M530.82,187.47l0.79,0.66l1.26,-0.28l1.46,3.08l1.63,0.94l0.14,1.23l-1.22,1.05l-0.53,2.52l1.73,2.67l3.12,1.62l1.15,1.88l-0.38,1.85l0.39,0.48l0.41,-0.0l0.02,1.07l0.76,0.94l-2.47,-0.1l-1.71,2.44l-4.31,-0.2l-7.02,-5.48l-3.73,-1.94l-2.88,-0.73l-0.85,-2.87l5.45,-3.02l0.95,-3.43l-0.19,-1.96l1.27,-0.7l1.22,-1.7l0.87,-0.36l2.69,0.34Z",name:"Iraq"},IS:{path:"M384.14,88.06l-0.37,2.61l2.54,2.51l-2.9,2.75l-9.19,3.4l-9.25,-1.66l1.7,-1.22l-0.1,-0.7l-4.05,-1.47l2.96,-0.53l0.33,-0.43l-0.11,-1.2l-0.33,-0.36l-4.67,-0.85l1.28,-2.04l3.45,-0.56l3.77,2.72l0.44,0.02l3.64,-2.16l3.3,1.08l3.98,-2.16l3.58,0.26Z",name:"Iceland"},IR:{path:"M533.43,187.16l-1.27,-2.15l0.42,-0.98l-0.71,-3.04l1.03,-0.5l0.33,0.83l1.26,1.35l2.05,0.51l1.11,-0.16l2.89,-2.11l0.62,-0.14l0.39,0.46l-0.72,1.2l0.06,0.49l1.56,1.53l0.65,0.04l0.67,1.81l2.56,0.83l1.87,1.48l3.69,0.49l3.91,-0.76l0.47,-0.73l2.17,-0.6l1.66,-1.54l1.51,0.08l1.18,-0.53l1.59,0.24l2.83,1.48l1.88,0.3l2.77,2.47l1.77,0.18l0.18,1.99l-1.68,5.49l0.24,0.5l0.61,0.23l-0.82,1.48l0.8,2.18l0.19,1.71l0.3,0.34l1.63,0.4l0.15,1.32l-2.15,2.35l-0.01,0.53l2.21,3.03l2.34,1.24l0.06,2.14l1.24,0.72l0.11,0.69l-3.31,1.27l-1.08,3.03l-9.68,-1.68l-0.99,-3.05l-1.43,-0.73l-2.17,0.46l-2.47,1.26l-2.83,-0.82l-2.46,-2.02l-2.41,-0.8l-3.42,-6.06l-0.48,-0.2l-1.18,0.39l-1.44,-0.82l-0.5,0.08l-0.65,0.74l-0.97,-1.01l-0.02,-1.31l-0.71,-0.39l0.26,-1.81l-1.29,-2.11l-3.13,-1.63l-1.58,-2.43l0.5,-1.9l1.31,-1.26l-0.19,-1.66l-1.74,-1.1l-1.57,-3.3Z",name:"Iran"},AM:{path:"M536.99,182.33l-0.28,0.03l-1.23,-2.13l-0.93,0.01l-0.62,-0.66l-0.69,-0.07l-0.96,-0.81l-1.56,-0.62l0.19,-1.12l-0.26,-0.79l2.72,-0.36l1.09,1.01l-0.17,0.92l1.02,0.78l-0.47,0.62l0.08,0.56l2.04,1.23l0.04,1.4Z",name:"Armenia"},IT:{path:"M451.59,158.63l3.48,0.94l-0.21,1.17l0.3,0.83l-1.49,-0.24l-2.04,1.1l-0.21,0.39l0.13,1.45l-0.25,1.12l0.82,1.57l2.39,1.63l1.31,2.54l2.79,2.43l2.05,0.08l0.21,0.23l-0.39,0.33l0.09,0.67l4.05,1.97l2.17,1.76l-0.16,0.36l-1.17,-1.08l-2.18,-0.49l-0.44,0.2l-1.05,1.91l0.14,0.54l1.57,0.95l-0.19,0.98l-1.06,0.33l-1.25,2.34l-0.37,0.08l0.0,-0.33l1.0,-2.45l-1.73,-3.17l-1.12,-0.51l-0.88,-1.33l-1.51,-0.51l-1.27,-1.25l-1.75,-0.18l-4.12,-3.21l-1.62,-1.65l-1.03,-3.19l-3.53,-1.36l-1.3,0.51l-1.69,1.41l0.16,-0.72l-0.28,-0.47l-1.14,-0.33l-0.53,-1.96l0.72,-0.78l0.04,-0.48l-0.65,-1.17l0.8,0.39l1.4,-0.23l1.11,-0.84l0.52,0.35l1.19,-0.1l0.75,-1.2l1.53,0.33l1.36,-0.56l0.35,-1.14l1.08,0.32l0.68,-0.64l1.98,-0.44l0.42,0.82ZM459.19,184.75l-0.65,1.65l0.32,1.05l-0.31,0.89l-1.5,-0.85l-4.5,-1.67l0.19,-0.82l2.67,0.23l3.78,-0.48ZM443.93,176.05l1.18,1.66l-0.3,3.32l-1.06,-0.01l-0.77,0.73l-0.53,-0.44l-0.1,-3.37l-0.39,-1.22l1.04,0.01l0.92,-0.68Z",name:"Italy"},VN:{path:"M690.56,230.25l-2.7,1.82l-2.09,2.46l-0.63,1.95l4.31,6.45l2.32,1.65l1.43,1.94l1.11,4.59l-0.32,4.24l-1.93,1.54l-2.84,1.61l-2.11,2.15l-2.73,2.06l-0.59,-1.05l0.63,-1.53l-0.13,-0.47l-1.34,-1.04l1.51,-0.71l2.55,-0.18l0.3,-0.63l-0.82,-1.14l4.0,-2.07l0.31,-3.05l-0.57,-1.77l0.42,-2.66l-0.73,-1.97l-1.86,-1.76l-3.63,-5.29l-2.72,-1.46l0.36,-0.47l1.5,-0.64l0.21,-0.52l-0.97,-2.27l-0.37,-0.24l-2.83,-0.02l-2.24,-3.9l0.83,-0.4l4.39,-0.29l2.06,-1.31l1.15,0.89l1.88,0.4l-0.17,1.51l1.35,1.16l1.67,0.45Z",name:"Vietnam"},AR:{path:"M249.29,428.93l-2.33,-0.52l-5.83,-0.43l-0.89,-1.66l0.05,-2.37l-0.45,-0.4l-1.43,0.18l-0.67,-0.91l-0.2,-3.13l1.88,-1.47l0.79,-2.04l-0.25,-1.7l1.3,-2.68l0.91,-4.15l-0.22,-1.69l0.85,-0.45l0.2,-0.44l-0.27,-1.16l-0.98,-0.68l0.59,-0.92l-0.05,-0.5l-1.04,-1.07l-0.52,-3.1l0.97,-0.86l-0.42,-3.58l1.2,-5.43l1.38,-0.98l0.16,-0.43l-0.75,-2.79l-0.01,-2.43l1.78,-1.75l0.06,-2.57l1.43,-2.85l0.01,-2.58l-0.69,-0.74l-1.09,-4.52l1.47,-2.7l-0.18,-2.79l0.85,-2.35l1.59,-2.46l1.73,-1.64l0.05,-0.52l-0.6,-0.84l0.44,-0.85l-0.07,-4.19l2.7,-1.44l0.86,-2.75l-0.21,-0.71l1.76,-2.01l2.9,0.57l1.38,1.78l0.68,-0.08l0.87,-1.87l2.39,0.09l4.95,4.77l2.17,0.49l3.0,1.92l2.47,1.0l0.25,0.82l-2.37,3.93l0.23,0.59l5.39,1.16l2.12,-0.44l2.45,-2.16l0.5,-2.38l0.76,-0.31l0.98,1.2l-0.04,1.8l-3.67,2.51l-2.85,2.66l-3.43,3.88l-1.3,5.07l0.01,2.72l-0.54,0.73l-0.36,3.28l3.14,2.64l-0.16,2.11l1.4,1.11l-0.1,1.09l-2.29,3.52l-3.55,1.49l-4.92,0.6l-2.71,-0.29l-0.43,0.51l0.5,1.65l-0.49,2.1l0.38,1.42l-1.19,0.83l-2.36,0.38l-2.3,-1.04l-1.38,0.83l0.41,3.64l1.69,0.91l1.4,-0.71l0.36,0.76l-2.04,0.86l-2.01,1.89l-0.97,4.63l-2.34,0.1l-2.09,1.78l-0.61,2.75l2.46,2.31l2.17,0.63l-0.7,2.32l-2.83,1.73l-1.73,3.86l-2.17,1.22l-1.16,1.67l0.75,3.76l1.04,1.28ZM256.71,438.88l-2.0,0.15l-1.4,-1.22l-3.82,-0.1l-0.0,-5.83l1.6,3.05l3.26,2.07l3.08,0.78l-0.71,1.1Z",name:"Argentina"},AU:{path:"M705.8,353.26l0.26,0.04l0.17,-0.47l-0.48,-1.42l0.92,1.11l0.45,0.15l0.27,-0.39l-0.1,-1.56l-1.98,-3.63l1.09,-3.31l-0.24,-1.57l0.34,-0.62l0.38,1.06l0.43,-0.19l0.99,-1.7l1.91,-0.83l1.29,-1.15l1.81,-0.91l0.96,-0.17l0.92,0.26l1.92,-0.95l1.47,-0.28l1.03,-0.8l1.43,0.04l2.78,-0.84l1.36,-1.15l0.71,-1.45l1.41,-1.26l0.3,-2.58l1.27,-1.59l0.78,1.65l0.54,0.19l1.07,-0.51l0.15,-0.6l-0.73,-1.0l0.45,-0.71l0.78,0.39l0.58,-0.3l0.28,-1.82l1.87,-2.14l1.12,-0.39l0.28,-0.58l0.62,0.17l0.53,-0.73l1.87,-0.57l1.65,1.05l1.35,1.48l3.39,0.38l0.43,-0.54l-0.46,-1.23l1.05,-1.79l1.04,-0.61l0.14,-0.55l-0.25,-0.41l0.88,-1.17l1.31,-0.77l1.3,0.27l2.1,-0.48l0.31,-0.4l-0.05,-1.3l-0.92,-0.77l1.48,0.56l1.41,1.07l2.11,0.65l0.81,-0.2l1.4,0.7l1.69,-0.66l0.8,0.19l0.64,-0.33l0.71,0.77l-1.33,1.94l-0.71,0.07l-0.35,0.51l0.24,0.86l-1.52,2.35l0.12,1.05l2.15,1.65l1.97,0.85l3.04,2.36l1.97,0.65l0.55,0.88l2.72,0.85l1.84,-1.1l2.07,-5.97l-0.42,-3.59l0.3,-1.73l0.47,-0.87l-0.31,-0.68l1.09,-3.28l0.46,-0.47l0.4,0.71l0.16,1.51l0.65,0.52l0.16,1.04l0.85,1.21l0.12,2.38l0.9,2.0l0.57,0.18l1.3,-0.78l1.69,1.7l-0.2,1.08l0.53,2.2l0.39,1.3l0.68,0.48l0.6,1.95l-0.19,1.48l0.81,1.76l6.01,3.69l-0.11,0.76l1.38,1.58l0.95,2.77l0.58,0.22l0.72,-0.41l0.8,0.9l0.61,0.01l0.46,2.41l4.81,4.71l0.66,2.02l-0.07,3.31l1.14,2.2l-0.13,2.24l-1.1,3.68l0.03,1.64l-0.47,1.89l-1.05,2.4l-1.9,1.47l-1.72,3.51l-2.38,6.09l-0.24,2.82l-1.14,0.8l-2.85,0.15l-2.31,1.19l-2.51,2.25l-3.09,-1.57l0.3,-1.15l-0.54,-0.47l-1.5,0.63l-2.01,1.94l-7.12,-2.18l-1.48,-1.63l-1.14,-3.74l-1.45,-1.26l-1.81,-0.26l0.56,-1.18l-0.61,-2.1l-0.72,-0.1l-1.14,1.82l-0.9,0.21l0.63,-0.82l0.36,-1.55l0.92,-1.31l-0.13,-2.34l-0.7,-0.22l-2.0,2.34l-1.51,0.93l-0.94,2.01l-1.35,-0.81l-0.02,-1.52l-1.57,-2.04l-1.09,-0.88l0.24,-0.33l-0.14,-0.59l-3.21,-1.69l-1.83,-0.12l-2.54,-1.35l-4.58,0.28l-6.02,1.9l-2.53,-0.13l-2.62,1.41l-2.13,0.63l-1.49,2.6l-3.49,0.31l-2.29,-0.5l-3.48,0.43l-1.6,1.47l-0.81,-0.04l-2.37,1.63l-3.26,-0.1l-3.72,-2.21l0.04,-1.05l1.19,-0.46l0.49,-0.89l0.21,-2.97l-0.28,-1.64l-1.34,-2.86l-0.38,-1.47l0.05,-1.72l-0.95,-1.7l-0.18,-0.97l-1.01,-0.99l-0.29,-1.98l-1.13,-1.75ZM784.92,393.44l2.65,1.02l3.23,-0.96l1.09,0.14l0.15,3.06l-0.85,1.13l-0.17,1.63l-0.87,-0.24l-1.57,1.91l-1.68,-0.18l-1.4,-2.36l-0.37,-2.04l-1.39,-2.51l0.04,-0.8l1.15,0.18Z",name:"Australia"},IL:{path:"M507.76,203.05l0.4,-0.78l0.18,0.4l-0.33,1.03l0.52,0.44l0.68,-0.22l-0.86,3.6l-1.16,-3.32l0.59,-0.74l-0.03,-0.41ZM508.73,200.34l0.37,-1.02l0.64,0.0l0.52,-0.51l-0.49,1.53l-0.56,-0.24l-0.48,0.23Z",name:"Palestine"},IN:{path:"M623.34,207.03l-1.24,1.04l-0.97,2.55l0.22,0.51l8.04,3.87l3.42,0.37l1.57,1.38l4.92,0.88l2.18,-0.04l0.38,-0.3l0.29,-1.24l-0.32,-1.64l0.14,-0.87l0.82,-0.31l0.45,2.48l2.28,1.02l1.77,-0.38l4.14,0.1l0.38,-0.36l0.18,-1.66l-0.5,-0.65l1.37,-0.29l2.25,-1.99l2.7,-1.62l1.93,0.62l1.8,-0.98l0.79,1.14l-0.68,0.91l0.26,0.63l2.42,0.36l0.09,0.47l-0.83,0.75l0.13,1.07l-1.52,-0.29l-3.24,1.86l-0.13,1.78l-1.32,2.14l-0.18,1.39l-0.93,1.82l-1.64,-0.5l-0.52,0.37l-0.09,2.63l-0.56,1.11l0.19,0.81l-0.53,0.27l-1.18,-3.73l-1.08,-0.27l-0.38,0.31l-0.24,1.0l-0.66,-0.66l0.54,-1.06l1.22,-0.34l1.15,-2.25l-0.24,-0.56l-1.57,-0.47l-4.34,-0.28l-0.18,-1.56l-0.35,-0.35l-1.11,-0.12l-1.91,-1.12l-0.56,0.17l-0.88,1.82l0.11,0.49l1.36,1.07l-1.09,0.69l-0.69,1.11l0.18,0.56l1.24,0.57l-0.32,1.54l0.85,1.94l0.36,2.01l-0.22,0.59l-4.58,0.52l-0.33,0.42l0.13,1.8l-1.17,1.36l-3.65,1.81l-2.79,3.03l-4.32,3.28l-0.18,1.27l-4.65,1.79l-0.77,2.16l0.64,5.3l-1.06,2.49l-0.01,3.94l-1.24,0.28l-1.14,1.93l0.39,0.84l-1.68,0.53l-1.04,1.83l-0.65,0.47l-2.06,-2.05l-2.1,-6.02l-2.2,-3.64l-1.05,-4.75l-2.29,-3.57l-1.76,-8.2l0.01,-3.11l-0.49,-2.53l-0.55,-0.29l-3.53,1.52l-1.53,-0.27l-2.86,-2.77l0.85,-0.67l0.08,-0.55l-0.74,-1.03l-2.67,-2.06l1.24,-1.32l5.34,0.01l0.39,-0.49l-0.5,-2.29l-1.42,-1.46l-0.27,-1.93l-1.43,-1.2l2.31,-2.37l3.05,0.06l2.62,-2.85l1.6,-2.81l2.4,-2.73l0.07,-2.04l1.97,-1.48l-0.02,-0.65l-1.93,-1.31l-0.82,-1.78l-0.8,-2.21l0.9,-0.89l3.59,0.65l2.92,-0.42l2.33,-2.19l2.31,2.85l-0.24,2.13l0.99,1.59l-0.05,0.82l-1.34,-0.28l-0.47,0.48l0.7,3.06l2.62,1.99l2.99,1.65Z",name:"India"},TZ:{path:"M495.56,296.42l2.8,-3.12l-0.02,-0.81l-0.64,-1.3l0.68,-0.52l0.14,-1.47l-0.76,-1.25l0.31,-0.11l2.26,0.03l-0.51,2.76l0.76,1.3l0.5,0.12l1.05,-0.53l1.19,-0.12l0.61,0.24l1.43,-0.62l0.1,-0.67l-0.71,-0.62l1.57,-1.7l8.65,4.86l0.32,1.53l3.34,2.33l-1.05,2.8l0.13,1.61l1.63,1.12l-0.6,1.76l-0.01,2.33l1.89,4.03l0.57,0.43l-1.46,1.08l-2.61,0.94l-1.43,-0.04l-1.06,0.77l-2.29,0.36l-2.87,-0.68l-0.83,0.07l-0.63,-0.75l-0.31,-2.78l-1.32,-1.35l-3.25,-0.77l-3.96,-1.58l-1.18,-2.41l-0.32,-1.75l-1.76,-1.49l0.42,-1.05l-0.44,-0.89l0.08,-0.96l-0.46,-0.58l0.06,-0.56Z",name:"Tanzania"},AZ:{path:"M539.29,175.73l1.33,0.32l1.94,-1.8l2.3,3.34l1.43,0.43l-1.26,0.15l-0.35,0.32l-0.8,3.14l-0.99,0.96l0.05,1.11l-1.26,-1.13l0.7,-1.18l-0.04,-0.47l-0.74,-0.86l-1.48,0.15l-2.34,1.71l-0.03,-1.27l-2.03,-1.35l0.47,-0.62l-0.08,-0.56l-1.03,-0.79l0.29,-0.43l-0.14,-0.58l-1.13,-0.86l1.89,0.68l1.69,0.06l0.37,-0.87l-0.81,-1.37l0.42,0.06l1.63,1.72ZM533.78,180.57l0.61,0.46l0.69,-0.0l0.59,1.15l-0.68,-0.15l-1.21,-1.45Z",name:"Azerbaijan"},IE:{path:"M405.08,135.42l0.35,2.06l-1.75,2.78l-4.22,1.88l-2.84,-0.4l1.73,-3.0l-1.18,-3.53l4.6,-3.74l0.32,1.15l-0.49,1.74l0.4,0.51l1.47,-0.04l1.6,0.6Z",name:"Ireland"},ID:{path:"M756.47,287.89l0.69,4.01l2.79,1.78l0.51,-0.1l2.04,-2.59l2.71,-1.43l2.05,-0.0l3.9,1.73l2.46,0.45l0.08,15.12l-1.75,-1.54l-2.54,-0.51l-0.88,0.71l-2.32,0.06l0.69,-1.33l1.45,-0.64l0.23,-0.46l-0.65,-2.74l-1.24,-2.21l-5.04,-2.29l-2.09,-0.23l-3.68,-2.27l-0.55,0.13l-0.65,1.07l-0.52,0.12l-0.55,-1.89l-1.21,-0.78l1.84,-0.62l1.72,0.05l0.39,-0.52l-0.21,-0.66l-0.38,-0.28l-3.45,-0.0l-1.13,-1.48l-2.1,-0.43l-0.52,-0.6l2.69,-0.48l1.28,-0.78l3.66,0.94l0.3,0.71ZM757.91,300.34l-0.62,0.82l-0.1,-0.8l0.59,-1.12l0.13,1.1ZM747.38,292.98l0.34,0.72l-1.22,-0.57l-4.68,-0.1l0.27,-0.62l2.78,-0.09l2.52,0.67ZM741.05,285.25l-0.67,-2.88l0.64,-2.01l0.41,0.86l1.21,0.18l0.16,0.7l-0.1,1.68l-0.84,-0.16l-0.46,0.3l-0.34,1.34ZM739.05,293.5l-0.5,0.44l-1.34,-0.36l-0.17,-0.37l1.73,-0.08l0.27,0.36ZM721.45,284.51l-0.19,1.97l2.24,2.23l0.54,0.02l1.27,-1.07l2.75,-0.5l-0.9,1.21l-2.11,0.93l-0.16,0.6l2.22,3.01l-0.3,1.07l1.36,1.74l-2.26,0.85l-0.28,-0.31l0.12,-1.19l-1.64,-1.34l0.17,-2.23l-0.56,-0.39l-1.67,0.76l-0.23,0.39l0.3,6.17l-1.1,0.25l-0.69,-0.47l0.64,-2.21l-0.39,-2.42l-0.39,-0.34l-0.8,-0.01l-0.58,-1.29l0.98,-1.6l0.35,-1.96l1.32,-3.87ZM728.59,296.27l0.38,0.49l-0.02,1.28l-0.88,0.49l-0.53,-0.47l1.04,-1.79ZM729.04,286.98l0.27,-0.05l-0.02,0.13l-0.24,-0.08ZM721.68,284.05l0.16,-0.32l1.89,-1.65l1.83,0.68l3.16,0.35l2.94,-0.1l2.39,-1.66l-1.73,2.13l-1.66,0.43l-2.41,-0.48l-4.17,0.13l-2.39,0.51ZM730.55,310.47l1.11,-1.93l2.03,-0.82l0.08,0.62l-1.45,1.67l-1.77,0.46ZM728.12,305.88l-0.1,0.38l-3.46,0.66l-2.91,-0.27l-0.0,-0.25l1.54,-0.41l1.66,0.73l1.67,-0.19l1.61,-0.65ZM722.9,310.24l-0.64,0.03l-2.26,-1.2l1.11,-0.24l1.78,1.41ZM716.26,305.77l0.88,0.51l1.28,-0.17l0.2,0.35l-4.65,0.73l0.39,-0.67l1.15,-0.02l0.75,-0.73ZM711.66,293.84l-0.38,-0.16l-2.54,1.01l-1.12,-1.44l-1.69,-0.13l-1.16,-0.75l-3.04,0.77l-1.1,-1.15l-3.31,-0.11l-0.35,-3.05l-1.35,-0.95l-1.11,-1.98l-0.33,-2.06l0.27,-2.14l0.9,-1.01l0.37,1.15l2.09,1.49l1.53,-0.48l1.82,0.08l1.38,-1.19l1.0,-0.18l2.28,0.67l2.26,-0.53l1.52,-3.64l1.01,-0.99l0.78,-2.57l4.1,0.3l-1.11,1.77l0.02,0.46l1.7,2.2l-0.23,1.39l2.07,1.71l-2.33,0.42l-0.88,1.9l0.1,2.05l-2.4,1.9l-0.06,2.45l-0.7,2.79ZM692.58,302.03l0.35,0.26l4.8,0.25l0.78,-0.97l4.17,1.09l1.13,1.68l3.69,0.45l2.13,1.04l-1.8,0.6l-2.77,-0.99l-4.8,-0.12l-5.24,-1.41l-1.84,-0.25l-1.11,0.3l-4.26,-0.97l-0.7,-1.14l-1.59,-0.13l1.18,-1.65l2.74,0.13l2.87,1.13l0.26,0.68ZM685.53,299.17l-2.22,0.04l-2.06,-2.03l-3.15,-2.01l-2.93,-3.51l-3.11,-5.33l-2.2,-2.12l-1.64,-4.06l-2.32,-1.69l-1.27,-2.07l-1.96,-1.5l-2.51,-2.65l-0.11,-0.66l4.81,0.53l2.15,2.38l3.31,2.74l2.35,2.66l2.7,0.17l1.95,1.59l1.54,2.17l1.59,0.95l-0.84,1.71l0.15,0.52l1.44,0.87l0.79,0.1l0.4,1.58l0.87,1.4l1.96,0.39l1.0,1.31l-0.6,3.01l-0.09,3.5Z",name:"Indonesia"},UA:{path:"M492.5,162.44l1.28,-2.49l1.82,0.19l0.66,-0.23l0.09,-0.71l-0.25,-0.75l-0.79,-0.72l-0.33,-1.21l-0.86,-0.62l-0.02,-1.19l-1.13,-0.86l-1.15,-0.19l-2.04,-1.0l-1.66,0.32l-0.66,0.47l-0.92,-0.0l-0.84,0.78l-2.48,0.7l-1.18,-0.71l-3.07,-0.36l-0.89,0.43l-0.24,-0.55l-1.11,-0.7l0.35,-0.93l1.26,-1.02l-0.54,-1.23l2.04,-2.43l1.4,-0.62l0.25,-1.19l-1.04,-2.39l0.83,-0.13l1.28,-0.84l1.8,-0.07l2.47,0.26l2.86,0.81l1.88,0.06l0.86,0.44l1.04,-0.41l0.77,0.66l2.18,-0.15l0.92,0.3l0.52,-0.34l0.15,-1.53l0.56,-0.54l2.85,-0.05l0.84,-0.72l3.04,-0.18l1.23,1.46l-0.48,0.77l0.21,1.03l0.36,0.32l1.8,0.14l0.93,2.08l3.18,1.15l1.94,-0.45l1.67,1.49l1.4,-0.03l3.35,0.96l0.02,0.54l-0.96,1.59l0.47,1.97l-0.26,0.7l-2.36,0.28l-1.29,0.89l-0.23,1.38l-1.83,0.27l-1.58,0.97l-2.41,0.21l-2.16,1.17l-0.21,0.38l0.34,2.26l1.23,0.75l2.13,-0.08l-0.14,0.31l-2.65,0.53l-3.23,1.69l-0.87,-0.39l0.42,-1.1l-0.25,-0.52l-2.21,-0.73l2.35,-1.06l0.12,-0.65l-0.93,-0.82l-3.62,-0.74l-0.13,-0.89l-0.46,-0.34l-2.61,0.59l-0.91,1.69l-1.71,2.04l-0.86,-0.4l-1.62,0.27Z",name:"Ukraine"},QA:{path:"M549.33,221.64l-0.76,-0.23l-0.14,-1.64l0.84,-1.29l0.47,0.52l0.04,1.34l-0.45,1.3Z",name:"Qatar"},MZ:{path:"M508.58,318.75l-0.34,-2.57l0.51,-2.05l3.55,0.63l2.5,-0.38l1.02,-0.76l1.49,0.01l2.74,-0.98l1.66,-1.2l0.5,9.24l0.41,1.23l-0.68,1.67l-0.93,1.71l-1.5,1.5l-5.16,2.28l-2.78,2.73l-1.02,0.53l-1.71,1.8l-0.98,0.57l-0.35,2.41l1.16,1.94l0.49,2.17l0.43,0.31l-0.06,2.06l-0.39,1.17l0.5,0.72l-0.25,0.73l-0.92,0.83l-5.12,2.39l-1.22,1.36l0.21,1.13l0.58,0.39l-0.11,0.72l-1.22,-0.01l-0.73,-2.97l0.42,-3.09l-1.78,-5.37l2.49,-2.81l0.69,-1.89l0.44,-0.43l0.28,-1.53l-0.39,-0.93l0.59,-3.65l-0.01,-3.26l-1.49,-1.16l-1.2,-0.22l-1.74,-1.17l-1.92,0.01l-0.29,-2.08l7.06,-1.96l1.28,1.09l0.89,-0.1l0.67,0.44l0.1,0.73l-0.51,1.29l0.19,1.81l1.75,1.83l0.65,-0.13l0.71,-1.65l1.17,-0.86l-0.26,-3.47l-1.05,-1.85l-1.04,-0.94Z",name:"Mozambique"}},height:440.70631074413296,width:900,projection:{type:"mill",centralMeridian:11.5}});jsVectorMap.prototype.addMap("us_aea_en",{insets:[{width:220,top:440,height:146.9158157558812,bbox:[{y:-8441281712315228e-9,x:-5263934893342895e-9},{y:-6227992545028123e-9,x:-1.9496312950683108e6}],left:0},{width:80,top:460,height:129.05725678001465,bbox:[{y:-4207380690946597e-9,x:-5958501652314129e-9},{y:-3.6582014570359783e6,x:-561807648127754e-8}],left:245},{width:900,top:0,height:550.2150229714246,bbox:[{y:-54908392352678e-7,x:-2.0292436460439637e6},{y:-2690044485299302e-9,x:2.5520839617675776e6}],left:0}],paths:{"US-VA":{path:"M682.42,290.04l1.61,-0.93l1.65,-0.48l1.12,-0.95l3.57,-1.69l0.74,-2.33l0.82,-0.19l2.32,-1.54l0.05,-1.81l2.04,-1.86l-0.13,-1.58l0.26,-0.42l5.0,-4.09l4.76,-6.0l0.09,0.63l0.96,0.54l0.33,1.37l1.32,0.74l0.71,0.81l1.46,0.09l0.79,0.65l1.3,0.48l1.41,-0.09l0.79,-0.41l0.76,-1.22l1.17,-0.57l0.53,-1.38l2.72,1.49l1.42,-1.1l2.25,-0.99l0.76,0.06l1.08,-0.97l0.33,-0.82l-0.48,-0.96l0.23,-0.42l1.9,0.58l3.26,-2.62l0.3,-0.1l0.51,0.73l0.66,-0.07l2.38,-2.34l0.17,-0.85l-0.49,-0.51l0.99,-1.12l0.1,-0.6l-0.28,-0.51l-1.0,-0.46l0.71,-3.03l2.6,-4.8l0.55,-2.15l-0.01,-1.91l1.61,-2.55l-0.22,-0.94l0.24,-0.84l0.5,-0.48l0.39,-1.7l-0.0,-3.18l1.23,0.19l1.18,1.73l3.8,0.43l0.59,-0.28l1.05,-2.52l0.2,-2.36l0.71,-1.05l-0.04,-1.61l0.76,-2.31l1.78,0.75l0.65,-0.17l1.3,-3.3l0.57,0.05l0.59,-0.39l0.52,-1.2l0.81,-0.68l0.44,-1.8l1.38,-2.43l-0.35,-2.57l0.54,-1.76l-0.3,-2.01l9.18,4.58l0.59,-0.29l0.63,-4.0l2.6,-0.07l0.63,0.57l1.05,0.23l-0.5,1.74l0.6,0.88l1.61,0.85l2.52,-0.04l1.03,1.18l1.64,0.12l1.94,1.52l0.57,2.53l-0.94,0.78l-0.45,0.02l-0.3,0.43l0.13,0.71l-0.61,-0.05l-0.49,0.59l-0.37,2.5l0.07,2.29l-0.43,0.25l0.01,0.6l1.05,0.77l-0.36,0.14l-0.17,0.6l0.44,0.3l1.64,-0.08l1.38,-0.61l1.77,-1.61l0.39,0.58l-0.58,0.35l0.02,0.58l1.9,1.07l0.64,1.08l1.69,0.35l1.37,-0.11l0.95,0.49l0.82,-0.65l1.05,-0.08l0.33,0.56l1.26,0.63l-0.1,0.55l0.36,0.55l0.94,-0.23l0.41,0.56l3.96,0.88l0.25,1.12l-0.85,-0.41l-0.57,0.44l0.89,1.74l-0.35,0.57l0.62,0.78l-0.44,0.89l0.24,0.59l-1.36,-0.36l-0.59,-0.72l-0.67,0.18l-0.1,0.43l-2.44,-2.3l-0.56,0.05l-0.38,-0.56l-0.52,0.32l-1.36,-1.51l-1.23,-0.43l-2.86,-2.72l-1.34,-0.12l-1.11,-0.81l-1.17,0.05l-0.39,0.52l0.47,0.71l1.1,-0.01l0.63,0.68l1.33,0.07l0.6,0.43l0.62,1.4l1.46,1.11l1.13,0.34l1.53,1.8l2.55,0.94l1.4,1.89l2.14,-0.02l0.56,0.41l0.72,0.06l-0.61,0.7l0.3,0.49l2.03,0.34l0.26,0.72l0.55,0.1l0.13,1.67l-1.0,-0.75l-0.39,0.21l-1.13,-1.0l-0.58,0.29l0.1,0.82l-0.31,0.68l0.7,0.7l-0.18,0.6l1.12,0.32l-0.86,0.44l-2.12,-0.73l-1.39,-1.38l-0.83,-0.32l-2.23,-1.87l-0.58,0.11l-0.22,0.53l0.26,0.81l0.64,0.21l3.81,3.15l2.69,1.12l1.28,-0.33l0.45,1.07l1.27,0.26l-0.44,0.67l0.3,0.56l0.93,-0.19l0.0,1.24l-0.92,0.41l-0.57,0.73l-0.71,-0.93l-3.2,-1.58l-0.29,-1.16l-0.59,-0.59l-0.87,-0.11l-1.2,0.67l-1.71,-0.44l-0.36,-1.15l-0.71,-0.05l-0.05,1.32l-0.33,0.41l-1.43,-1.32l-0.51,0.09l-0.48,0.57l-0.65,-0.4l-0.99,0.45l-2.23,-0.1l-0.37,0.94l0.34,0.46l1.9,0.22l1.4,-0.31l0.85,0.24l0.56,-0.69l0.63,0.88l1.34,0.43l1.95,-0.31l1.5,0.71l0.67,-0.63l0.94,2.47l3.16,1.23l0.37,0.91l-0.57,1.03l0.56,0.44l1.72,-1.32l0.88,-0.02l0.83,0.65l0.8,-0.26l-0.61,-0.9l-0.2,-1.17l3.78,0.08l1.13,-0.44l1.89,3.23l-0.46,0.71l0.65,3.09l-1.19,-0.58l-0.02,0.88l-30.95,7.83l-37.19,8.41l-19.52,3.35l-7.08,0.85l-0.46,-0.26l-4.24,0.64l-0.82,0.62l-28.2,5.01ZM781.15,223.32l0.14,0.09l-0.06,0.07l-0.01,-0.03l-0.07,-0.12ZM808.05,244.59l0.53,-1.14l-0.26,-0.54l-0.36,-0.08l0.58,-0.98l-0.39,-0.71l-0.03,-0.49l0.44,-0.35l-0.17,-0.73l0.62,-0.3l0.23,-0.6l0.14,-2.33l1.01,-0.39l-0.12,-0.9l0.48,-0.14l-0.26,-1.53l-0.79,-0.4l0.87,-0.57l0.1,-1.03l2.69,-1.11l0.36,2.48l-1.08,4.2l-0.22,2.38l0.33,1.09l-0.34,0.97l-0.6,-0.79l-0.81,0.15l-0.39,0.95l0.27,0.37l-0.65,0.46l-0.3,0.85l0.17,1.05l-0.31,1.46l0.38,2.47l-0.6,0.6l0.07,1.33l-1.37,-1.9l0.23,-0.94l-0.33,-1.57l0.28,-0.97l-0.38,-0.3Z",name:"Virginia"},"US-PA":{path:"M716.46,159.99l0.63,-0.19l4.3,-3.73l1.13,5.2l0.48,0.31l34.84,-7.93l34.28,-8.64l1.42,0.58l0.71,1.39l0.64,0.13l0.77,-0.33l1.24,0.59l0.14,0.85l0.81,0.41l-0.16,0.58l0.89,2.69l1.9,2.07l2.12,0.75l2.21,-0.2l0.72,0.79l-0.89,0.87l-0.73,1.49l-0.17,2.25l-1.41,3.35l-1.37,1.58l0.04,0.79l1.79,1.72l-0.31,1.65l-0.84,0.43l-0.22,0.66l0.14,1.48l1.04,2.87l0.52,0.25l1.2,-0.18l1.18,2.39l0.95,0.58l0.66,-0.26l0.6,0.9l4.23,2.75l0.12,0.41l-1.29,0.93l-3.71,4.22l-0.23,0.76l0.17,0.9l-1.36,1.13l-0.84,0.15l-1.33,1.08l-0.33,0.66l-1.72,-0.12l-2.03,0.84l-1.15,1.37l-0.41,1.39l-37.23,9.21l-39.1,8.66l-10.03,-48.21l1.92,-1.22l3.08,-3.04Z",name:"Pennsylvania"},"US-TN":{path:"M571.72,341.09l0.86,-0.84l0.29,-1.37l1.0,0.04l0.65,-0.79l-0.99,-4.89l1.41,-1.93l0.06,-1.32l1.18,-0.46l0.36,-0.48l-0.63,-1.31l0.53,-0.65l0.05,-0.56l-0.89,-1.33l2.55,-1.57l1.09,-1.13l-0.14,-0.84l-0.85,-0.53l0.14,-0.19l0.34,-0.16l0.85,0.37l0.46,-0.33l-0.27,-1.31l-0.85,-0.9l0.06,-0.71l0.51,-1.43l1.0,-1.11l-1.35,-2.06l1.37,-0.21l0.61,-0.55l-0.13,-0.64l-1.17,-0.82l0.82,-0.15l0.58,-0.54l0.13,-0.69l-0.59,-1.38l0.02,-0.36l0.37,0.53l0.47,0.08l0.58,-0.29l0.6,-0.86l23.67,-2.81l0.35,-0.41l-0.1,-1.35l-0.84,-2.39l2.98,-0.08l0.82,0.58l22.79,-3.55l7.64,-0.46l7.5,-0.86l8.82,-1.42l24.01,-3.1l1.11,-0.6l29.3,-5.2l0.73,-0.6l3.56,-0.54l-0.4,1.44l0.43,0.85l-0.4,2.0l0.36,0.82l-1.15,-0.03l-1.71,1.79l-1.21,3.89l-0.55,0.7l-0.56,0.08l-0.63,-0.74l-1.44,-0.02l-2.66,1.73l-1.42,2.73l-0.96,0.89l-0.34,-0.34l-0.13,-1.05l-0.73,-0.54l-0.53,0.15l-2.3,1.81l-0.29,1.32l-0.93,-0.24l-0.9,0.48l-0.16,0.77l0.32,0.73l-0.85,2.18l-1.29,0.06l-1.75,1.14l-1.28,1.24l-0.61,1.06l-0.78,0.27l-2.28,2.46l-4.04,0.78l-2.58,1.7l-0.49,1.09l-0.88,0.55l-0.55,0.81l-0.18,2.88l-0.35,0.6l-1.65,0.52l-0.89,-0.16l-1.06,1.14l0.21,5.24l-20.21,3.32l-21.62,3.04l-25.56,2.95l-0.34,0.31l-7.39,0.9l-28.73,3.17Z",name:"Tennessee"},"US-ID":{path:"M132.38,121.39l-0.34,-0.44l0.08,-1.99l0.53,-1.74l1.42,-1.22l2.11,-3.59l1.68,-0.92l1.39,-1.53l1.08,-2.15l0.05,-1.22l2.21,-2.41l1.43,-2.7l0.37,-1.37l2.04,-2.26l1.89,-2.81l0.03,-1.01l-0.79,-2.95l-2.13,-1.94l-0.87,-0.36l-0.85,-1.61l-0.41,-3.02l-0.59,-1.19l0.94,-1.19l-0.12,-2.35l-1.04,-2.69l0.46,-0.98l9.67,-54.45l13.39,2.35l-3.54,20.72l1.29,2.89l1.0,1.27l0.27,1.55l1.17,1.76l-0.12,0.83l0.39,1.14l-0.99,0.95l0.83,1.76l-0.83,0.11l-0.28,0.71l1.93,1.68l1.03,2.04l2.24,1.22l0.54,1.58l1.09,1.33l1.49,2.79l0.08,0.68l1.64,1.81l0.01,1.88l1.79,1.71l-0.07,1.35l0.74,0.19l0.9,-0.58l0.36,0.46l-0.36,0.55l0.07,0.54l1.11,0.96l1.61,0.15l1.81,-0.36l-0.63,2.61l-0.99,0.54l0.25,1.14l-1.83,3.73l0.06,1.72l-0.81,0.07l-0.37,0.54l0.6,1.33l-0.62,0.9l-0.03,1.16l0.97,0.93l-0.37,0.81l0.28,1.01l-1.57,0.43l-1.21,1.41l0.1,1.11l0.46,0.77l-0.13,0.74l-0.83,0.77l-0.2,1.52l1.48,0.63l1.38,1.79l0.78,0.27l1.08,-0.35l0.56,-0.8l1.85,-0.41l1.21,-1.28l0.81,-0.29l0.15,-0.76l0.78,0.81l0.23,0.71l1.06,0.64l-0.42,1.23l0.73,0.95l-0.34,1.38l0.57,1.34l-0.21,1.61l1.54,2.64l0.31,1.73l0.82,0.37l0.67,2.08l-0.18,0.98l-0.76,0.64l0.51,1.9l1.24,1.16l0.3,0.79l0.81,0.08l0.86,-0.37l1.04,0.93l1.06,2.79l-0.5,0.81l0.89,1.83l-0.28,0.6l0.11,0.98l2.29,2.41l0.97,-0.14l-0.01,-1.14l1.07,-0.89l0.93,-0.22l4.53,1.62l0.69,-0.32l0.67,-1.35l1.19,-0.39l2.25,0.93l3.3,-0.1l0.96,0.88l2.29,-0.58l3.23,0.78l0.45,-0.49l-0.67,-0.76l0.26,-1.06l0.74,-0.48l-0.07,-0.96l1.23,-0.51l0.48,0.37l1.07,2.11l0.12,1.11l1.36,1.95l0.73,0.45l-6.27,53.86l-47.48,-6.32l-46.97,-7.73l6.88,-39.17l1.12,-1.18l1.07,-2.67l-0.21,-1.75l0.74,-0.15l0.77,-1.62l-0.9,-1.27l-0.18,-1.2l-1.24,-0.08l-0.64,-0.81l-0.88,0.29Z",name:"Idaho"},"US-NV":{path:"M139.36,329.2l-12.7,-16.93l-36.59,-51.1l-25.35,-34.52l13.7,-64.19l46.89,9.24l46.99,7.74l-18.72,125.83l-0.9,1.16l-0.99,2.19l-0.44,0.17l-1.34,-0.22l-0.98,-2.24l-0.7,-0.63l-1.41,0.22l-1.95,-1.02l-1.6,0.23l-1.78,0.96l-0.76,2.48l0.88,2.59l-0.6,0.97l-0.24,1.31l0.38,3.12l-0.76,2.54l0.77,3.71l-0.13,3.07l-0.3,1.07l-1.04,0.31l-0.12,0.51l0.32,0.8l-0.52,0.62Z",name:"Nevada"},"US-TX":{path:"M276.16,412.59l33.07,1.99l32.79,1.35l0.41,-0.39l3.6,-98.71l25.86,0.61l26.29,0.22l0.05,42.09l0.44,0.4l1.02,-0.13l0.78,0.28l3.74,3.82l1.66,0.21l0.88,-0.58l2.49,0.64l0.6,-0.68l0.11,-1.05l0.6,0.76l0.92,0.22l0.38,0.93l0.77,0.78l-0.01,1.64l0.52,0.83l2.85,0.42l1.25,-0.2l1.38,0.89l2.78,0.69l1.82,-0.56l0.63,0.1l1.89,1.8l1.4,-0.11l1.25,-1.43l2.43,0.26l1.67,-0.46l0.1,2.28l0.91,0.67l1.62,0.4l-0.04,2.09l1.56,0.79l1.82,-0.66l1.57,-1.68l1.02,-0.65l0.41,0.19l0.45,1.64l2.01,0.2l0.24,1.05l0.72,0.48l1.47,-0.21l0.88,-0.93l0.39,0.33l0.59,-0.08l0.61,-0.99l0.26,0.41l-0.45,1.23l0.14,0.76l0.67,1.14l0.78,0.42l0.57,-0.04l0.6,-0.5l0.68,-2.36l0.91,-0.65l0.35,-1.54l0.57,-0.14l0.4,0.14l0.29,0.99l0.57,0.64l1.21,0.02l0.83,0.5l1.26,-0.2l0.68,-1.34l0.48,0.15l-0.13,0.7l0.49,0.69l1.21,0.45l0.49,0.72l1.52,-0.05l1.49,1.74l0.52,0.02l0.63,-0.62l0.08,-0.71l1.49,-0.1l0.93,-1.43l1.88,-0.41l1.66,-1.13l1.52,0.83l1.51,-0.22l0.29,-0.83l2.29,-0.73l0.53,-0.55l0.5,0.32l0.38,0.88l1.82,0.42l1.69,-0.06l1.86,-1.14l0.41,-1.05l1.06,0.31l2.24,1.56l1.16,0.17l1.79,2.08l2.14,0.41l1.04,0.92l0.76,-0.11l2.48,0.85l1.04,0.04l0.37,0.79l1.38,0.97l1.45,-0.12l0.39,-0.72l0.8,0.36l0.88,-0.4l0.92,0.35l0.76,-0.15l0.64,0.36l2.23,34.03l1.51,1.67l1.3,0.82l1.25,1.87l0.57,1.63l-0.1,2.64l1.0,1.21l0.85,0.4l-0.12,0.85l0.75,0.54l0.28,0.87l0.65,0.7l-0.19,1.17l1.0,1.02l0.59,1.63l0.5,0.34l0.55,-0.1l-0.16,1.71l0.81,1.22l-0.64,0.25l-0.35,0.68l0.77,1.27l-0.55,0.89l0.19,1.39l-0.75,2.69l-0.74,0.85l-0.36,1.54l-0.79,1.13l0.64,2.0l-0.83,2.28l0.17,1.07l0.83,1.2l-0.19,1.01l0.49,1.6l-0.24,1.41l-1.13,1.67l-1.02,0.2l-1.76,3.37l-0.04,1.06l1.79,2.37l-3.43,0.08l-7.37,3.78l-0.02,-0.43l-2.19,-0.46l-3.24,1.07l1.09,-3.51l-0.3,-1.21l-0.8,-0.76l-0.62,-0.07l-1.52,0.85l-0.99,2.0l-1.56,-0.96l-1.64,0.12l-0.07,0.63l0.89,0.62l0.0,1.06l0.56,0.39l-0.47,0.69l0.07,1.02l1.63,0.64l-0.62,0.71l0.49,0.97l0.91,0.23l0.28,0.37l-0.4,1.25l-0.45,-0.12l-0.97,0.81l-1.72,2.25l-1.18,-0.4l-0.49,0.12l0.32,1.0l0.08,2.55l-1.85,1.49l-1.91,2.11l-0.96,0.37l-4.1,2.9l-3.3,0.45l-2.54,1.06l-0.2,1.12l-0.75,-0.34l-2.04,0.89l-0.33,-0.34l-1.11,0.18l0.43,-0.87l-0.52,-0.6l-1.43,0.22l-1.22,1.08l-0.6,-0.62l-0.11,-1.2l-1.38,-0.81l-0.5,0.44l0.65,1.44l0.01,1.12l-0.71,0.09l-0.54,-0.44l-0.75,-0.0l-0.55,-1.34l-1.46,-0.37l-0.58,0.39l0.04,0.54l0.94,1.7l0.03,1.24l0.58,0.37l0.36,-0.16l1.13,0.78l-0.75,0.37l-0.27,0.54l0.15,0.36l0.7,0.23l1.08,-0.54l0.96,0.6l-4.27,2.42l-0.57,-0.13l-0.37,-1.44l-0.5,-0.18l-1.13,-1.46l-0.49,-0.03l-0.48,0.51l0.1,0.63l-0.62,0.34l-0.05,0.51l1.18,1.61l-0.31,1.04l0.33,0.85l-1.66,1.79l-0.37,0.2l0.37,-0.64l-0.18,-0.72l0.25,-0.73l-0.46,-0.67l-0.52,0.17l-0.71,1.1l0.26,0.72l-0.39,0.95l-0.07,-1.13l-0.52,-0.55l-1.95,1.29l-0.78,-0.33l-0.7,0.52l0.07,0.75l-0.81,0.99l0.02,0.49l1.25,0.64l0.03,0.56l0.78,0.28l0.7,-1.41l0.86,-0.41l0.01,0.62l-2.82,4.36l-1.23,-1.0l-1.36,0.38l-0.32,-0.34l-2.4,0.39l-0.46,-0.31l-0.65,0.16l-0.18,0.58l0.41,0.61l0.55,0.38l1.53,0.03l-0.01,0.91l0.55,0.64l2.07,1.03l-2.7,7.63l-0.2,0.1l-0.38,-0.54l-0.34,0.1l0.18,-0.76l-0.57,-0.43l-2.35,1.95l-1.72,-2.36l-1.19,-0.91l-0.61,0.4l0.09,0.52l1.44,2.0l-0.11,0.82l-0.93,-0.09l-0.33,0.63l0.51,0.56l1.88,0.07l2.14,0.72l2.08,-0.72l-0.43,1.75l0.24,0.77l-0.98,0.7l0.37,1.59l-1.12,0.14l-0.43,0.41l0.4,2.11l-0.33,1.6l0.45,0.64l0.84,0.24l0.87,2.86l0.71,2.81l-0.91,0.82l0.62,0.49l-0.08,1.28l0.72,0.3l0.18,0.61l0.58,0.29l0.4,1.79l0.68,0.31l0.45,3.22l1.46,0.62l-0.52,1.1l0.31,1.07l-0.63,0.77l-0.84,-0.05l-0.53,0.44l0.08,1.31l-0.49,-0.33l-0.49,0.25l-0.39,-0.67l-1.49,-0.45l-2.92,-2.53l-2.2,-0.18l-0.81,-0.51l-4.2,0.09l-0.9,0.42l-0.78,-0.63l-1.06,0.25l-1.25,-0.2l-1.45,-0.7l-0.72,-0.97l-0.6,-0.14l-0.21,-0.72l-1.17,-0.49l-0.99,-0.02l-1.98,-0.87l-1.45,0.39l-0.83,-1.09l-0.6,-0.21l-1.43,-1.38l-1.96,0.01l-1.47,-0.64l-0.86,0.12l-1.62,-0.41l0.28,-1.26l-0.54,-1.01l-0.96,-0.35l-1.65,-6.03l-2.77,-3.02l-0.29,-1.12l-1.08,-0.75l0.35,-0.77l-0.24,-0.76l0.34,-2.18l-0.45,-0.96l-1.04,-1.01l0.65,-1.99l0.05,-1.19l-0.18,-0.7l-0.54,-0.33l-0.15,-1.81l-1.85,-1.44l-0.85,0.21l-0.29,-0.41l-0.81,-0.11l-0.74,-1.31l-2.22,-1.71l0.01,-0.69l-0.51,-0.58l0.12,-0.86l-0.97,-0.92l-0.08,-0.75l-1.12,-0.61l-1.3,-2.88l-2.66,-1.48l-0.38,-0.91l-1.13,-0.59l-0.06,-1.16l-0.82,-1.19l-0.59,-1.95l0.41,-0.22l-0.04,-0.73l-1.03,-0.49l-0.26,-1.29l-0.81,-0.57l-0.94,-1.74l-0.61,-2.38l-1.85,-2.36l-0.87,-4.24l-1.81,-1.34l0.05,-0.7l-0.75,-1.21l-3.96,-2.67l-0.71,-1.86l-1.82,-0.62l-1.44,-0.99l-0.01,-1.63l-0.6,-0.39l-0.88,0.24l-0.12,-0.77l-0.98,-0.33l-0.8,-2.08l-0.57,-0.47l-0.46,0.12l-0.46,-0.44l-0.86,0.27l-0.14,-0.6l-0.44,-0.31l-0.47,0.15l-0.25,0.61l-1.05,0.16l-2.89,-0.47l-0.39,-0.38l-1.48,-0.03l-0.79,0.29l-0.77,-0.44l-2.67,0.27l-3.92,-2.08l-1.35,0.86l-0.64,1.61l-1.98,-0.17l-0.52,0.44l-0.49,-0.17l-1.05,0.49l-1.33,0.14l-3.22,6.4l-0.18,1.77l-0.76,0.67l-0.38,1.8l0.35,0.59l-1.99,1.01l-0.72,1.3l-1.11,0.65l-1.12,2.0l-2.67,-0.46l-1.04,-0.87l-0.55,0.3l-1.69,-1.21l-1.31,-1.63l-2.9,-0.85l-1.15,-0.95l-0.02,-0.67l-0.42,-0.41l-2.75,-0.51l-2.28,-1.03l-1.89,-1.75l-0.91,-1.53l-0.96,-0.91l-1.53,-0.29l-1.77,-1.26l-0.22,-0.56l-1.31,-1.18l-0.65,-2.68l-0.86,-1.01l-0.24,-1.1l-0.76,-1.28l-0.26,-2.34l0.52,-3.05l-3.01,-5.07l-0.06,-1.94l-1.26,-2.51l-0.99,-0.44l-0.43,-1.24l-1.43,-0.81l-2.15,-2.18l-1.02,-0.1l-2.01,-1.25l-3.18,-3.35l-0.59,-1.55l-3.13,-2.55l-1.59,-2.45l-1.19,-0.95l-0.61,-1.05l-4.42,-2.6l-1.19,-2.19l-1.21,-3.23l-1.37,-1.08l-1.12,-0.08l-1.75,-1.67l-0.79,-3.05ZM502.09,468.18l-0.33,0.17l0.18,-0.16l0.15,-0.02ZM498.69,470.85l-0.09,0.12l-0.04,0.02l0.13,-0.14ZM497.79,472.33l0.15,0.05l-0.2,0.18l0.04,-0.11l0.01,-0.12ZM497.02,473.23l-0.13,0.12l0.03,-0.09l0.09,-0.03ZM467.54,489.19l0.03,0.02l-0.02,0.01l-0.0,-0.03ZM453.94,547.19l0.75,-0.5l0.25,-0.68l0.11,1.08l-1.1,0.1ZM460.89,499.8l-0.14,-0.59l1.22,-0.36l-0.28,0.33l-0.79,0.63ZM463.51,497.84l0.1,-0.23l1.27,-0.88l-0.92,0.85l-0.45,0.26ZM465.8,496.12l0.28,-0.24l0.47,-0.04l-0.25,0.13l-0.5,0.15ZM457.96,502.92l0.71,-1.64l0.64,-0.71l-0.02,0.75l-1.33,1.6ZM451.06,515.13l0.06,-0.22l0.07,-0.15l-0.13,0.37ZM451.5,513.91l0.16,-0.35l0.02,-0.02l-0.18,0.37ZM452.44,511.95l-0.01,-0.04l0.05,-0.04l-0.04,0.08Z",name:"Texas"},"US-NH":{path:"M829.94,105.42l0.2,-1.33l-1.43,-5.38l0.53,-1.45l-0.28,-2.22l1.0,-1.86l-0.13,-2.3l0.64,-2.28l-0.44,-0.62l0.29,-2.31l-0.93,-3.8l0.08,-0.7l0.3,-0.45l1.83,-0.8l0.7,-1.39l1.43,-1.62l0.74,-1.8l-0.25,-1.13l0.52,-0.62l-2.34,-3.49l0.87,-3.26l-0.11,-0.78l-0.81,-1.29l0.27,-0.59l-0.23,-0.7l0.48,-3.2l-0.36,-0.82l0.91,-1.49l2.44,0.33l0.65,-0.88l13.0,34.89l0.84,3.65l2.6,2.21l0.88,0.34l0.36,1.6l1.72,1.31l0.0,0.35l0.77,0.23l-0.06,0.58l-0.46,3.09l-1.57,0.24l-1.32,1.19l-0.51,0.94l-0.96,0.37l-0.5,1.68l-1.1,1.44l-17.61,4.74l-1.7,-1.43l-0.41,-0.89l-0.1,-2.0l0.54,-0.59l0.03,-0.52l-1.02,-5.18Z",name:"New Hampshire"},"US-NY":{path:"M821.38,166.44l0.69,-2.05l0.62,-0.02l0.55,-0.75l0.76,0.15l0.54,-0.41l-0.04,-0.31l0.57,-0.03l0.28,-0.66l0.66,-0.02l0.2,-0.55l-0.42,-0.83l0.22,-0.53l0.61,-0.37l1.34,0.22l0.54,-0.59l1.45,-0.18l0.21,-0.8l1.85,0.02l1.08,-0.91l0.11,-0.78l0.62,0.24l0.43,-0.61l4.83,-1.29l2.26,-1.3l1.99,-2.91l-0.2,1.16l-0.98,0.86l-1.22,2.31l0.55,0.46l1.6,-0.35l0.28,0.63l-0.43,0.49l-1.37,0.87l-0.51,-0.07l-2.26,0.92l-0.08,0.93l-0.87,-0.0l-2.73,1.72l-1.01,0.15l-0.17,0.8l-1.24,0.09l-2.24,1.91l-4.44,2.17l-0.2,0.71l-0.29,0.08l-0.45,-0.83l-1.41,-0.06l-0.73,0.42l-0.42,0.8l0.23,0.32l-0.92,0.69l-0.76,-0.84l0.32,-1.05ZM828.05,159.06l-0.02,-0.01l0.02,-0.06l-0.01,0.08ZM845.16,149.05l0.06,-0.06l0.18,-0.06l-0.11,0.19l-0.13,-0.07ZM844.3,154.94l0.1,-0.89l0.74,-1.16l1.65,-1.52l1.01,0.31l0.05,-0.82l0.79,0.67l-3.36,3.21l-0.67,0.45l-0.31,-0.25ZM850.39,150.14l0.02,-0.03l0.07,-0.07l-0.09,0.1ZM722.09,155.56l3.76,-3.85l1.27,-2.19l1.76,-1.86l1.16,-0.78l1.28,-3.35l1.56,-1.3l0.53,-0.83l-0.21,-1.83l-1.61,-2.42l0.43,-1.13l-0.17,-0.78l-0.83,-0.53l-2.11,-0.0l0.04,-0.99l-0.57,-2.22l4.99,-2.94l4.49,-1.8l2.38,-0.19l1.84,-0.74l5.64,-0.24l3.13,1.25l3.16,-1.68l5.49,-1.06l0.58,0.45l0.68,-0.2l0.12,-0.98l1.45,-0.72l1.03,-0.93l0.75,-0.2l0.69,-2.05l1.87,-1.76l0.79,-1.26l1.12,0.03l1.13,-0.52l1.07,-1.63l-0.46,-0.7l0.36,-1.2l-0.25,-0.51l-0.64,0.02l-0.17,-1.17l-0.94,-1.59l-1.01,-0.62l0.12,-0.18l0.59,0.39l0.53,-0.27l0.75,-1.44l-0.01,-0.91l0.81,-0.65l-0.01,-0.97l-0.93,-0.19l-0.6,0.7l-0.28,0.12l0.56,-1.3l-0.81,-0.62l-1.26,0.05l-0.87,0.77l-0.92,-0.41l-0.06,-0.29l2.05,-2.5l1.78,-1.47l1.67,-2.64l0.7,-0.56l0.11,-0.59l0.78,-0.95l0.07,-0.56l-0.5,-0.95l0.78,-1.89l4.82,-7.61l4.77,-4.5l2.84,-0.51l19.67,-5.66l0.41,0.88l-0.08,2.01l1.02,1.22l0.43,3.8l2.29,3.25l-0.09,1.89l0.85,2.42l-0.59,1.07l-0.0,3.41l0.71,0.9l1.32,2.76l0.19,1.09l0.62,0.84l0.12,3.92l0.55,0.85l0.54,0.07l0.53,-0.61l0.06,-0.87l0.33,-0.07l1.05,1.12l3.97,15.58l0.74,1.2l0.22,15.32l0.6,0.62l3.57,16.23l1.26,1.34l-2.82,3.18l0.03,0.54l1.52,1.31l0.19,0.6l-0.78,0.88l-0.64,1.8l-0.41,0.39l0.15,0.69l-1.25,0.64l0.04,-4.02l-0.57,-2.28l-0.74,-1.62l-1.46,-1.1l-0.17,-1.13l-0.7,-0.1l-0.42,1.33l0.68,1.27l1.05,0.83l0.97,2.85l-13.75,-4.06l-1.28,-1.47l-2.39,0.24l-0.63,-0.43l-1.06,-0.15l-1.74,-1.91l-0.75,-2.33l0.12,-0.72l-0.36,-0.63l-0.56,-0.21l0.09,-0.46l-0.35,-0.42l-1.64,-0.68l-1.08,0.32l-0.53,-1.22l-1.92,-0.93l-34.6,8.73l-34.44,7.84l-1.11,-5.15ZM818.84,168.69l1.08,-0.48l0.14,0.63l-1.17,1.53l-0.05,-1.68ZM730.07,136.63l0.03,-0.69l0.78,-0.07l-0.38,1.09l-0.43,-0.33Z",name:"New York"},"US-HI":{path:"M295.5,583.17l0.06,-1.75l4.12,-4.97l1.03,-3.4l-0.33,-0.64l0.94,-2.43l-0.05,-3.52l0.39,-0.78l2.47,-0.7l1.55,0.23l4.45,-1.4l0.51,-0.7l-0.17,-2.69l0.4,-1.66l1.78,-1.16l1.74,2.15l-0.15,0.94l1.88,3.6l0.94,0.35l5.13,7.65l0.86,3.93l-1.52,3.14l0.22,0.58l1.47,0.95l-0.68,2.07l0.35,1.51l1.6,3.0l-1.39,0.86l-2.28,-0.2l-3.27,0.51l-4.56,-1.32l-2.15,-1.34l-6.66,-0.15l-1.59,0.26l-1.56,1.19l-1.63,0.58l-1.14,0.02l-0.7,-2.54l-2.09,-2.18ZM306.33,530.7l1.6,0.08l0.51,2.07l-0.3,2.25l0.37,0.59l2.33,0.88l1.38,0.1l1.55,1.39l0.27,1.55l0.93,0.97l-0.13,1.05l1.83,2.52l-0.13,0.66l-0.61,0.48l-1.82,0.38l-1.84,-0.18l-1.47,-1.19l-2.21,-0.24l-2.69,-1.48l0.01,-1.23l1.15,-1.86l0.41,-2.07l-1.76,-1.28l-1.08,-1.75l-0.1,-2.61l1.79,-1.08ZM297.2,518.01l0.71,0.31l0.38,1.05l2.64,2.0l0.9,1.11l0.92,0.08l0.8,1.67l1.56,1.05l0.72,0.06l1.07,1.11l-1.31,0.41l-2.75,-0.66l-3.23,-3.93l-3.16,-2.01l-1.39,-0.44l-0.05,-0.7l1.58,-0.43l0.62,-0.67ZM301.59,541.55l-2.09,-0.98l-0.28,-0.51l2.92,0.34l-0.56,1.15ZM298.23,532.36l-0.92,-0.29l-0.72,-0.89l0.92,-2.06l-0.49,-1.73l2.6,1.38l0.61,2.08l0.14,1.06l-2.15,0.45ZM281.13,503.64l0.57,-1.85l-0.38,-0.9l-0.16,-2.84l0.75,-0.92l-0.12,-1.22l2.74,1.9l2.9,-0.62l1.56,0.15l0.38,1.01l-0.33,2.17l0.29,1.5l-0.69,0.6l-0.19,1.55l0.38,1.54l0.86,0.51l0.29,1.07l-0.52,1.14l0.53,1.28l-1.18,-0.0l-0.2,-0.48l-2.04,-0.86l-0.77,-2.83l-1.27,-0.38l0.8,-0.11l0.32,-0.46l-0.08,-0.66l-0.63,-0.68l-1.75,-0.32l0.23,1.82l-2.28,-1.1ZM259.66,469.47l-0.24,-2.03l-0.91,-0.69l-0.68,-1.23l0.08,-1.2l0.08,-0.34l2.39,-0.81l4.6,0.53l0.67,1.04l2.51,1.09l0.69,1.25l-0.15,1.9l-2.3,1.32l-0.74,1.3l-0.79,0.34l-2.78,0.09l-0.92,-1.53l-1.52,-1.0ZM245.78,462.61l-0.23,-0.74l1.03,-0.75l4.32,-0.72l0.43,0.3l-0.92,0.4l-0.68,0.94l-1.66,-0.5l-1.36,0.34l-0.94,0.72Z",name:"Hawaii"},"US-VT":{path:"M805.56,72.69l26.03,-7.97l0.89,1.85l-0.74,2.37l-0.03,1.54l2.22,2.75l-0.51,0.58l0.26,1.13l-0.67,1.6l-1.35,1.49l-0.64,1.32l-1.72,0.7l-0.62,0.92l-0.1,0.98l0.93,3.74l-0.29,2.44l0.4,0.54l-0.6,2.11l0.15,2.19l-1.0,1.87l0.27,2.36l-0.53,1.54l1.43,5.44l-0.22,1.22l1.05,5.3l-0.58,0.85l0.11,2.31l0.6,1.26l1.51,1.1l-11.44,2.89l-0.57,-0.85l-4.02,-15.75l-1.72,-1.59l-0.91,0.25l-0.3,1.19l-0.12,-0.26l-0.11,-3.91l-0.68,-1.0l-0.14,-0.98l-1.37,-2.85l-0.63,-0.68l0.01,-3.15l0.6,-1.15l-0.86,-2.57l0.08,-1.93l-0.39,-0.91l-1.55,-1.63l-0.38,-0.81l-0.41,-3.71l-1.03,-1.27l0.11,-1.87l-0.43,-1.01Z",name:"Vermont"},"US-NM":{path:"M230.86,422.88l11.82,-123.66l25.67,2.24l26.1,1.86l26.12,1.45l25.74,1.02l-0.31,10.24l-0.74,0.39l-3.59,98.69l-32.38,-1.34l-33.53,-2.02l-0.44,0.76l0.54,2.31l0.44,1.26l0.99,0.76l-30.55,-2.46l-0.43,0.36l-0.82,9.46l-14.63,-1.33Z",name:"New Mexico"},"US-NC":{path:"M826.87,289.49l0.07,-0.05l-0.02,0.03l-0.04,0.02ZM819.58,272.4l0.2,0.23l-0.05,0.01l-0.16,-0.24ZM821.84,276.68l0.19,0.15l-0.02,0.18l-0.05,-0.08l-0.12,-0.25ZM676.72,321.77l0.92,0.17l1.52,-0.39l0.42,-0.39l0.52,-0.97l0.13,-2.7l1.34,-1.19l0.47,-1.05l2.24,-1.47l2.12,-0.52l0.76,0.18l1.32,-0.52l2.36,-2.52l0.78,-0.25l1.84,-2.29l1.48,-1.0l1.55,-0.19l1.15,-2.65l-0.28,-1.22l1.66,0.06l0.51,-1.65l0.93,-0.77l1.08,-0.77l0.51,1.52l1.07,0.33l1.34,-1.17l1.35,-2.64l2.49,-1.59l0.79,0.08l0.82,0.8l1.06,-0.21l0.84,-1.07l1.47,-4.18l1.08,-1.1l1.47,0.09l0.44,-0.31l-0.69,-1.26l0.4,-2.0l-0.42,-0.9l0.38,-1.25l7.42,-0.86l19.54,-3.36l37.22,-8.42l31.12,-7.87l0.4,1.21l3.54,3.24l1.0,1.53l-1.21,-1.0l-0.16,-0.63l-0.92,-0.4l-0.52,0.05l-0.24,0.65l0.66,0.54l0.59,1.56l-0.53,0.01l-0.91,-0.75l-2.31,-0.8l-0.4,-0.48l-0.55,0.13l-0.31,0.69l0.14,0.64l1.37,0.44l1.69,1.38l-1.11,0.66l-2.48,-1.2l-0.36,0.51l0.14,0.42l1.6,1.18l-1.84,-0.33l-2.23,-0.87l-0.46,0.14l0.01,0.48l0.6,0.7l1.71,0.83l-0.97,0.58l0.0,0.6l-0.43,0.53l-1.48,0.74l-0.89,-0.77l-0.61,0.22l-0.1,0.35l-0.2,-0.13l-1.32,-2.32l0.21,-2.63l-0.42,-0.48l-0.89,-0.22l-0.37,0.64l0.62,0.71l-0.43,0.99l-0.02,1.04l0.49,1.73l1.6,2.2l-0.31,1.28l0.48,0.29l2.97,-0.59l2.1,-1.49l0.27,0.01l0.37,0.79l0.76,-0.34l1.56,0.05l0.16,-0.71l-0.57,-0.32l1.29,-0.76l2.04,-0.46l-0.1,1.19l0.64,0.29l-0.6,0.88l0.89,1.19l-0.84,0.1l-0.19,0.66l1.38,0.46l0.26,0.94l-1.21,0.05l-0.19,0.66l0.66,0.59l1.25,-0.16l0.52,0.26l0.4,-0.38l0.18,-1.95l-0.75,-3.33l0.41,-0.48l0.56,0.43l0.94,0.06l0.28,-0.57l-0.29,-0.44l0.48,-0.57l1.71,1.84l-0.0,1.41l0.62,0.9l-0.53,0.18l-0.25,0.47l0.9,1.14l-0.08,0.37l-0.42,0.55l-0.78,0.09l-0.91,-0.86l-0.32,0.33l0.13,1.26l-1.08,1.61l0.2,0.57l-0.32,0.22l-0.15,0.98l-0.74,0.55l0.1,0.91l-0.9,0.96l-1.06,0.21l-0.59,-0.37l-0.52,0.52l-0.93,-0.81l-0.86,0.1l-0.4,-0.82l-0.59,-0.21l-0.52,0.38l0.08,0.94l-0.52,0.22l-1.42,-1.25l1.31,-0.4l0.23,-0.88l-0.57,-0.42l-2.02,0.31l-1.14,1.01l0.29,0.67l0.44,0.16l0.09,0.82l0.35,0.25l-0.03,0.12l-0.57,-0.34l-1.69,0.83l-1.12,-0.43l-1.45,0.06l-3.32,-0.7l0.42,1.08l0.97,0.45l0.36,0.64l0.63,0.11l0.87,-0.32l1.68,0.63l2.35,0.39l3.51,0.11l0.47,0.42l-0.06,0.52l-0.99,0.05l-0.38,0.5l0.13,0.23l-1.62,1.44l0.32,0.58l1.85,0.01l-2.55,3.5l-1.67,0.04l-1.59,-0.98l-0.9,-0.19l-1.21,-1.02l-1.12,0.07l0.07,0.47l1.04,1.14l2.32,2.09l2.68,0.26l1.31,0.49l1.71,-2.16l0.51,0.47l1.17,0.33l0.4,-0.57l-0.55,-0.9l0.87,0.16l0.19,0.57l0.66,0.24l1.63,-1.2l-0.18,0.61l0.29,0.57l-0.29,0.38l-0.43,-0.2l-0.41,0.37l0.03,0.9l-0.97,1.72l0.01,0.78l-0.71,-0.07l-0.06,-0.74l-1.12,-0.61l-0.42,0.47l0.27,1.45l-0.52,-1.1l-0.65,-0.16l-1.22,1.08l-0.21,0.52l0.25,0.27l-2.03,0.32l-2.75,1.84l-0.67,-1.04l-0.75,-0.29l-0.37,0.49l0.43,1.26l-0.57,-0.01l-0.09,0.82l-0.94,1.73l-0.91,0.85l-0.59,-0.26l0.49,-0.69l-0.02,-0.77l-1.06,-0.93l-0.08,-0.52l-1.69,-0.41l-0.16,0.47l0.43,1.16l0.2,0.33l0.58,0.07l0.3,0.61l-0.88,0.37l-0.08,0.71l0.65,0.64l0.77,0.18l-0.01,0.37l-2.12,1.67l-1.92,2.65l-2.0,4.31l-0.34,2.13l0.12,1.34l-0.15,-1.03l-1.01,-1.59l-0.55,-0.17l-0.3,0.48l1.17,3.95l-0.63,2.27l-3.9,0.19l-1.43,0.65l-0.35,-0.52l-0.58,-0.18l-0.54,1.07l-1.9,1.14l-0.61,-0.02l-23.25,-15.36l-1.05,-0.02l-18.68,3.49l-0.65,-2.77l-3.25,-2.84l-0.47,0.08l-1.23,1.31l-0.01,-1.29l-0.82,-0.54l-22.82,3.35l-0.64,-0.27l-0.62,0.46l-0.25,0.65l-3.98,1.93l-0.89,1.23l-1.01,0.08l-4.78,2.66l-20.95,3.93l-0.34,-4.55l0.7,-0.95ZM817.0,271.48l0.19,0.35l0.24,0.39l-0.45,-0.41l0.02,-0.32ZM807.53,290.29l0.2,0.32l-0.16,-0.09l-0.03,-0.23ZM815.31,299.15l0.16,-0.36l0.16,0.07l-0.13,0.29l-0.19,0.01ZM812.76,299.11l-0.06,-0.28l-0.03,-0.11l0.3,0.26l-0.21,0.13ZM812.97,264.02l0.37,-0.24l0.15,0.42l-0.42,0.07l-0.1,-0.25ZM791.92,329.4l0.04,-0.08l0.22,0.03l-0.0,0.09l-0.26,-0.05Z",name:"North Carolina"},"US-ND":{path:"M438.54,42.78l2.06,6.9l-0.73,2.53l0.57,2.36l-0.27,1.17l0.47,1.99l0.01,3.26l1.42,3.95l0.45,0.54l-0.08,0.97l0.39,1.52l0.62,0.74l1.48,3.74l-0.06,3.9l0.42,0.7l0.5,8.35l0.51,1.54l0.51,0.25l-0.47,2.64l0.36,1.63l-0.14,1.75l0.69,1.1l0.2,2.16l0.49,1.13l1.8,2.56l0.15,2.2l0.51,1.08l0.17,1.39l-0.24,1.36l0.28,1.74l-27.89,0.73l-28.38,0.19l-28.38,-0.37l-28.49,-0.93l2.75,-65.47l23.08,0.78l25.57,0.42l25.57,-0.06l24.11,-0.49Z",name:"North Dakota"},"US-NE":{path:"M422.58,174.02l3.92,2.71l3.93,1.9l1.34,-0.22l0.51,-0.47l0.36,-1.08l0.48,-0.2l2.49,0.34l1.32,-0.47l1.58,0.25l3.45,-0.65l2.37,1.98l1.4,0.14l1.55,0.77l1.45,0.08l0.88,1.1l1.49,0.17l-0.06,0.98l1.68,2.08l3.32,0.6l0.19,0.68l-0.22,1.87l1.13,1.94l0.01,2.29l1.15,1.08l0.34,1.72l1.73,1.46l0.07,1.88l1.5,2.11l-0.49,2.33l0.44,3.09l0.52,0.54l0.94,-0.2l-0.04,1.25l1.21,0.5l-0.41,2.36l0.21,0.44l1.12,0.4l-0.6,0.77l-0.09,1.01l0.13,0.59l0.82,0.5l0.16,1.45l-0.26,0.92l0.26,1.27l0.55,0.61l0.3,1.93l-0.22,1.33l0.23,0.72l-0.57,0.92l0.02,0.79l0.45,0.88l1.23,0.63l0.25,2.5l1.1,0.51l0.03,0.79l1.18,2.75l-0.23,0.96l1.16,0.21l0.8,0.99l1.1,0.24l-0.15,0.96l1.31,1.68l-0.21,1.12l0.51,0.91l-26.15,1.05l-27.83,0.63l-27.84,0.14l-27.89,-0.35l0.46,-21.66l-0.39,-0.41l-32.36,-1.04l1.85,-43.24l43.36,1.22l44.67,-0.04Z",name:"Nebraska"},"US-LA":{path:"M508.97,412.97l-1.33,-21.76l51.44,-4.07l0.34,0.83l1.48,0.66l-0.92,1.35l-0.25,2.13l0.49,0.72l1.18,0.31l-1.21,0.47l-0.45,0.78l0.45,1.36l1.05,0.84l0.08,2.15l0.46,0.54l1.51,0.74l0.45,1.05l1.42,0.44l-0.87,1.22l-0.85,2.34l-0.75,0.04l-0.52,0.51l-0.02,0.73l0.63,0.72l-0.22,1.16l-1.35,0.96l-1.08,1.89l-1.37,0.67l-0.68,0.83l-0.79,2.42l-0.25,3.52l-1.55,1.74l0.13,1.21l0.62,0.96l-0.35,2.38l-1.61,0.29l-0.6,0.57l0.28,0.97l0.64,0.59l-0.26,1.41l0.98,1.51l-1.18,1.18l-0.08,0.45l0.4,0.23l6.18,-0.55l29.23,-2.92l-0.68,3.47l-0.52,1.02l-0.2,2.24l0.69,0.98l-0.09,0.66l0.6,1.0l1.31,0.7l1.22,1.42l0.14,0.88l0.89,1.39l0.14,1.05l1.11,1.84l-1.85,0.39l-0.38,-0.08l-0.01,-0.56l-0.53,-0.57l-1.28,0.28l-1.18,-0.59l-1.51,0.17l-0.61,-0.98l-1.24,-0.86l-2.84,-0.47l-1.24,0.63l-1.39,2.3l-1.3,1.42l-0.42,0.91l0.07,1.2l0.55,0.89l0.82,0.57l4.25,0.82l3.35,-1.0l1.32,-1.19l0.68,-1.19l0.34,0.59l1.08,0.43l0.59,-0.4l0.81,0.03l0.51,-0.46l-0.76,1.21l-1.12,-0.12l-0.57,0.32l-0.38,0.62l0.0,0.83l0.77,1.22l1.48,-0.02l0.65,0.89l1.1,0.48l0.94,-0.21l0.51,-0.45l0.46,-1.11l-0.02,-1.37l0.93,-0.58l0.42,-0.99l0.23,0.05l0.1,1.16l-0.24,0.25l0.18,0.57l0.43,0.15l-0.07,0.75l1.34,1.08l0.34,-0.16l-0.48,0.59l0.18,0.63l-0.35,0.13l-0.52,-0.57l-0.92,-0.19l-1.0,1.89l-0.85,0.14l-0.46,0.53l0.16,1.19l-1.6,-0.61l-0.43,0.19l0.04,0.46l1.14,1.06l-1.17,-0.14l-0.92,0.61l0.68,0.43l1.26,2.04l2.74,0.97l-0.08,1.2l0.34,0.41l2.07,-0.32l0.77,0.17l0.17,0.53l0.73,0.32l1.35,-0.34l0.53,0.78l1.08,-0.46l1.13,0.74l0.14,0.3l-0.4,0.62l1.54,0.86l-0.39,0.65l0.39,0.58l-0.18,0.62l-0.95,1.49l-1.3,-1.56l-0.68,0.34l0.1,0.66l-0.38,0.12l0.41,-1.88l-1.33,-0.76l-0.5,0.5l0.2,1.18l-0.54,0.45l-0.27,-1.02l-0.57,-0.25l-0.89,-1.27l0.03,-0.77l-0.96,-0.14l-0.47,0.5l-1.41,-0.17l-0.41,-0.61l0.14,-0.63l-0.39,-0.46l-0.45,-0.02l-0.81,0.73l-1.18,0.02l0.12,-1.23l-0.46,-0.88l-0.91,0.04l0.09,-0.96l-0.37,-0.36l-0.91,-0.03l-0.22,0.58l-0.85,-0.38l-0.48,0.27l-2.61,-1.26l-1.24,-0.03l-0.67,-0.64l-0.61,0.19l-0.3,0.56l-0.05,1.25l1.72,0.94l1.67,0.35l-0.16,0.92l0.28,0.39l-0.34,0.35l0.23,0.68l-0.76,0.95l-0.02,0.66l0.81,0.97l-0.95,1.43l-1.33,0.94l-0.76,-1.15l0.22,-1.5l-0.35,-0.92l-0.49,-0.18l-0.4,0.36l-1.15,-1.08l-0.59,0.42l-0.76,-1.05l-0.62,-0.2l-0.64,1.33l-0.85,0.26l-0.88,-0.53l-0.86,0.53l-0.1,0.62l0.48,0.41l-0.68,0.56l-0.13,1.44l-0.46,0.13l-0.39,0.83l-0.92,0.08l-0.11,-0.68l-1.6,-0.4l-0.77,0.97l-1.92,-0.93l-0.3,-0.54l-0.99,0.01l-0.35,0.6l-1.16,-0.51l0.42,-0.4l0.01,-1.46l-0.38,-0.57l-1.9,-1.19l-0.08,-0.54l-0.83,-0.72l-0.09,-0.91l0.73,-1.15l-0.34,-1.14l-0.87,-0.19l-0.34,0.57l0.16,0.43l-0.59,0.81l0.04,0.91l-1.8,-0.4l0.07,-0.39l-0.47,-0.54l-1.97,0.76l-0.7,-2.22l-1.32,0.23l-0.18,-2.12l-1.31,-0.35l-1.89,0.3l-1.09,0.65l-0.21,-0.71l0.84,-0.26l-0.05,-0.8l-0.6,-0.58l-1.03,-0.1l-0.85,0.42l-0.95,-0.15l-0.4,0.8l-2.0,1.11l-0.63,-0.31l-1.29,0.71l0.54,1.37l0.8,0.31l0.97,1.51l-1.39,0.19l-1.83,1.03l-3.69,-0.4l-1.24,0.21l-3.09,-0.45l-1.99,-0.68l-1.81,-1.07l-3.7,-1.1l-3.19,-0.48l-2.53,0.58l-5.62,0.45l-1.0,0.26l-1.82,1.25l-0.59,-0.63l-0.26,-1.08l1.59,-0.47l0.7,-1.76l-0.02,-1.55l-0.39,-0.56l1.11,-1.54l0.23,-1.59l-0.5,-1.83l0.07,-1.46l-0.66,-0.7l-0.21,-1.04l0.83,-2.22l-0.64,-1.95l0.76,-0.84l0.3,-1.49l0.78,-0.94l0.79,-2.83l-0.18,-1.42l0.58,-0.97l-0.75,-1.33l0.84,-0.39l0.2,-0.44l-0.89,-1.36l0.03,-2.13l-1.07,-0.23l-0.57,-1.57l-0.92,-0.84l0.28,-1.27l-0.81,-0.76l-0.33,-0.95l-0.64,-0.34l0.22,-0.98l-1.16,-0.58l-0.81,-0.93l0.16,-2.46l-0.68,-1.93l-1.33,-1.98l-2.63,-2.21ZM607.49,467.45l-0.03,-0.03l-0.07,-0.04l0.13,-0.01l-0.03,0.08ZM607.51,465.85l-0.02,-0.01l0.03,-0.01l-0.02,0.02ZM567.04,468.98l-2.0,-0.42l-0.66,-0.5l0.73,-0.43l0.35,-0.76l0.39,0.49l0.83,0.21l-0.15,0.61l0.5,0.81ZM550.39,463.0l1.73,-1.05l3.34,1.07l-0.69,0.56l-0.17,0.81l-0.68,0.17l-3.53,-1.57Z",name:"Louisiana"},"US-SD":{path:"M336.37,128.84l0.3,-0.53l0.75,-19.93l28.5,0.93l28.4,0.37l28.4,-0.19l27.78,-0.73l-0.18,1.71l-0.73,1.71l-2.9,2.46l-0.42,1.27l1.59,2.13l1.06,2.06l0.55,0.36l1.74,0.24l1.01,0.84l0.57,1.02l1.45,38.83l-1.84,0.09l-0.42,0.56l0.24,1.44l0.88,1.14l0.01,1.45l-0.65,0.36l0.17,1.48l0.48,0.43l1.09,0.04l0.34,1.68l-0.16,0.91l-0.62,0.83l0.02,1.73l-0.68,2.45l-0.49,0.44l-0.67,1.88l0.5,1.1l1.33,1.08l-0.16,0.62l0.64,0.66l0.35,1.15l-1.65,-0.28l-0.34,-0.94l-0.85,-0.73l0.19,-0.61l-0.28,-0.59l-1.58,-0.23l-1.03,-1.18l-1.57,-0.11l-1.51,-0.75l-1.34,-0.12l-2.38,-1.99l-3.78,0.6l-1.65,-0.25l-1.19,0.46l-2.62,-0.33l-0.98,0.48l-0.76,1.45l-0.72,0.05l-3.67,-1.82l-4.13,-2.8l-44.83,0.05l-43.33,-1.22l1.79,-43.2Z",name:"South Dakota"},"US-DC":{path:"M781.25,216.97l0.45,-0.77l2.04,1.26l-0.66,1.14l-0.55,-1.05l-1.28,-0.58Z",name:"District of Columbia"},"US-DE":{path:"M798.52,195.11l0.42,-1.51l0.92,-1.11l1.72,-0.71l1.12,0.06l-0.33,0.56l-0.08,1.38l-1.13,1.92l0.1,1.09l1.11,1.1l-0.07,1.52l2.29,2.48l1.25,0.6l0.93,1.52l0.99,3.35l1.72,1.57l0.57,1.32l3.06,1.99l1.44,-0.09l0.45,1.25l-1.06,0.56l0.16,1.32l0.36,0.19l-0.83,0.57l-0.08,1.21l0.66,0.21l0.85,-0.73l0.71,0.34l0.3,-0.21l0.75,1.55l-10.19,2.82l-8.12,-26.12Z",name:"Delaware"},"US-FL":{path:"M630.28,423.69l47.19,-6.86l1.53,1.91l0.87,2.72l1.47,1.0l48.79,-5.11l1.03,1.38l0.03,1.09l0.55,1.05l1.04,0.48l1.64,-0.28l0.85,-0.75l-0.14,-4.57l-0.98,-1.49l-0.22,-1.77l0.28,-0.74l0.62,-0.3l0.12,-0.7l5.6,0.96l4.03,-0.16l0.14,1.24l-0.75,-0.12l-0.33,0.43l0.25,1.54l2.11,1.81l0.22,1.01l0.42,0.38l0.29,1.92l1.87,3.29l1.7,4.87l0.73,0.84l0.51,1.5l1.64,2.46l0.64,1.57l2.79,3.71l1.93,3.18l2.29,2.77l0.16,0.6l0.63,0.36l6.82,7.53l-0.48,-0.03l-0.27,0.61l-1.35,-0.02l-0.34,-0.65l0.38,-1.38l-0.16,-0.56l-2.3,-0.92l-0.46,0.53l1.0,2.8l0.78,0.97l2.14,4.77l9.92,13.71l1.37,3.11l3.66,5.34l-1.38,-0.35l-0.43,0.74l0.8,0.65l0.85,0.24l0.56,-0.22l1.46,0.94l2.05,3.05l-0.5,0.34l-0.12,0.53l1.16,0.53l0.89,1.83l-0.08,1.06l0.59,0.95l0.61,2.64l-0.27,0.75l0.93,8.98l-0.31,1.07l0.46,0.67l0.5,3.1l-0.81,1.46l0.07,2.23l-0.84,0.74l-0.22,1.8l-0.48,0.85l0.21,1.47l-0.3,1.75l0.54,1.74l0.45,0.23l-1.15,1.8l-0.39,1.28l-0.94,0.24l-0.53,-0.22l-1.37,0.45l-0.35,1.06l-0.89,0.3l-0.18,0.58l-0.85,0.67l-1.44,0.14l-0.27,-0.32l-1.23,-0.1l-0.9,1.05l-3.17,1.13l-1.06,-0.59l-0.7,-1.04l0.06,-1.79l1.0,0.84l1.64,0.47l0.26,0.63l0.52,0.07l1.35,-0.72l0.2,-0.69l-0.26,-0.64l-1.58,-1.11l-2.4,-0.26l-0.91,-0.46l-0.85,-1.67l-0.89,-0.72l0.22,-0.98l-0.48,-0.28l-0.53,0.15l-1.38,-2.51l-0.44,-0.3l-0.64,0.07l-0.44,-0.61l0.22,-0.89l-0.7,-0.65l-1.21,-0.6l-1.06,-0.08l-0.75,-0.54l-0.57,0.18l-2.8,-0.59l-0.5,0.64l0.25,-0.91l-0.46,-0.42l-0.87,0.12l-0.26,-0.72l-0.88,-0.65l-0.61,-1.41l-0.55,-0.11l-0.72,-2.94l-0.77,-1.0l-0.16,-1.52l-0.44,-0.83l-0.71,-0.89l-0.49,-0.15l-0.12,0.93l-1.29,-0.26l1.06,-1.3l0.3,-0.75l-0.12,-0.63l0.86,-1.46l0.65,-0.34l0.28,-0.83l-0.61,-0.38l-1.42,0.93l-0.89,1.29l-0.42,2.17l-1.37,0.35l-0.21,-1.33l-0.79,-1.33l-0.27,-4.04l-0.86,-0.6l1.63,-1.33l0.22,-0.97l-0.58,-0.42l-3.06,1.92l-0.75,-0.66l-0.4,0.26l-1.27,-0.89l-0.37,0.74l1.13,1.09l0.52,0.1l1.26,2.0l-1.04,0.23l-1.42,-0.38l-0.84,-1.6l-1.13,-0.6l-1.94,-2.55l-1.04,-2.28l-1.28,-0.87l0.1,-0.87l-0.97,-1.8l-1.77,-0.98l0.09,-0.67l0.99,-0.41l-0.35,-0.49l0.44,-0.73l-0.39,-0.35l0.4,-1.21l2.47,-4.47l-1.05,-2.41l-0.68,-0.46l-0.92,0.42l-0.28,0.93l0.29,1.2l-0.24,0.03l-0.73,-2.44l-0.99,-0.28l-1.19,-0.87l-1.52,-0.31l0.29,1.95l-0.48,0.61l0.27,0.59l2.21,0.56l0.25,0.97l-0.37,2.46l-0.31,-0.58l-0.8,-0.22l-2.13,-1.53l-0.41,0.2l-0.29,-0.63l0.59,-2.11l0.07,-2.97l-0.66,-1.97l0.42,-0.51l0.48,-1.91l-0.24,-0.54l0.66,-3.04l-0.35,-5.26l-0.71,-1.7l0.35,-0.47l-0.47,-2.18l-2.1,-1.33l-0.05,-0.52l-0.55,-0.43l-0.1,-1.01l-0.92,-0.73l-0.55,-1.51l-0.64,-0.25l-1.44,0.32l-1.03,-0.2l-1.57,0.54l-1.14,-1.74l-1.51,-0.48l-0.19,-0.6l-1.35,-1.51l-0.87,-0.59l-0.62,0.07l-1.52,-1.16l-0.8,-0.21l-0.51,-2.75l-3.06,-1.13l-0.65,-0.59l-0.52,-1.23l-2.15,-1.93l-2.19,-1.09l-1.45,-0.12l-3.44,-1.68l-2.85,0.98l-1.0,-0.4l-1.05,0.42l-0.35,0.68l-1.33,0.68l-0.5,0.7l0.03,0.64l-0.73,-0.22l-0.59,0.6l0.67,0.94l1.51,0.08l0.41,0.21l-3.03,0.23l-1.58,1.51l-0.91,0.45l-1.3,1.56l-1.56,1.03l-0.32,0.13l0.2,-0.48l-0.26,-0.54l-0.66,-0.04l-0.96,0.75l-1.12,1.5l-2.2,0.23l-2.11,1.06l-0.78,0.03l-0.27,-2.03l-1.71,-2.23l-2.21,-1.0l-0.18,-0.41l-2.51,-1.5l2.79,1.33l1.21,-0.74l0.0,-0.74l-1.32,-0.34l-0.36,0.55l-0.21,-1.01l-0.34,-0.1l0.13,-0.52l-0.49,-0.33l-1.39,0.61l-2.3,-0.76l0.65,-1.08l0.83,-0.1l1.03,-1.45l-0.91,-0.95l-0.46,0.12l-0.49,1.02l-0.44,-0.04l-0.81,0.56l-0.72,-0.9l-0.7,0.09l-0.17,0.38l-1.34,0.73l-0.14,0.68l0.29,0.46l-3.95,-1.35l-5.05,-0.71l0.12,-0.24l1.27,0.29l0.61,-0.53l2.1,0.39l0.23,-0.78l-0.94,-1.02l0.09,-0.7l-0.63,-0.28l-0.5,0.32l-0.28,-0.47l-1.9,0.19l-2.25,1.1l0.3,-0.63l-0.41,-0.58l-0.96,0.35l-0.58,-0.25l-0.23,0.44l0.2,0.71l-1.45,0.8l-0.4,0.63l-5.18,0.97l0.32,-0.52l-0.4,-0.52l-1.35,-0.28l-0.72,-0.53l0.69,-0.53l0.01,-0.78l-0.68,-0.13l-0.81,-0.66l-0.46,0.11l0.14,0.76l-0.42,1.77l-1.05,-1.39l-0.69,-0.45l-0.55,0.07l-0.3,0.71l0.82,1.77l-0.25,0.79l-1.39,0.99l-0.05,1.04l-0.6,0.22l-0.17,0.57l-1.48,0.56l0.28,-0.65l-0.21,-0.46l1.14,-1.03l0.07,-0.74l-0.4,-0.58l-1.19,-0.24l-0.41,-0.84l0.3,-1.7l-0.18,-1.61l-2.17,-1.12l-2.39,-2.46l0.32,-1.44l-0.15,-1.04ZM767.29,490.44l0.48,1.07l0.9,0.39l0.78,-0.15l1.41,1.67l0.91,0.58l1.86,0.69l1.61,0.07l0.55,-0.44l-0.08,-0.87l0.55,-0.65l-0.16,-1.21l0.76,-1.36l0.09,-1.81l-0.64,-1.62l-1.46,-2.01l-1.74,-1.32l-1.19,-0.13l-1.12,0.83l-1.83,3.16l-2.12,1.94l-0.13,0.77l0.57,0.41ZM644.36,434.13l-0.94,0.26l0.41,-0.44l0.53,0.18ZM665.13,435.7l0.98,-0.28l0.35,0.32l0.09,0.72l-1.42,-0.75ZM770.56,455.01l0.42,0.56l-0.43,0.75l0.0,-1.31ZM788.88,525.23l0.01,-0.07l0.01,0.03l-0.03,0.04ZM789.47,522.87l-0.22,-0.23l0.49,-0.32l-0.27,0.55ZM768.83,453.61l0.21,0.76l-0.31,2.33l0.28,1.79l-1.38,-3.23l1.19,-1.65ZM679.81,445.61l0.22,-0.2l0.36,0.02l-0.11,0.42l-0.47,-0.25Z",name:"Florida"},"US-WA":{path:"M38.52,55.26l0.46,-1.32l0.18,0.45l0.65,0.3l1.04,-0.74l0.43,0.59l0.7,-0.03l0.17,-0.77l-0.92,-1.56l0.79,-0.74l-0.09,-1.36l0.49,-0.39l-0.1,-1.03l0.81,-0.27l0.05,0.5l0.48,0.41l0.95,-0.31l-0.09,-0.68l-1.35,-1.65l-0.9,0.15l-1.88,-0.56l0.17,-1.98l0.66,0.53l0.52,-0.07l0.29,-0.56l-0.16,-0.67l3.3,-0.52l0.26,-0.69l-1.7,-0.96l-0.86,-0.14l-0.37,-1.51l-0.7,-0.42l-0.81,-0.02l0.32,-4.73l-0.49,-1.28l0.1,-0.69l-0.4,-0.34l0.76,-5.74l-0.13,-2.46l-0.45,-0.62l-0.16,-1.36l-0.65,-1.33l-0.73,-0.57l-0.32,-2.45l0.35,-2.27l-0.15,-1.11l1.74,-3.3l-0.52,-1.23l4.59,3.9l1.19,0.38l0.92,0.75l0.81,1.3l1.86,1.08l3.24,0.91l0.84,0.77l1.42,0.11l1.73,1.02l2.33,0.73l1.46,-0.47l0.52,0.29l0.55,0.69l-0.03,1.09l0.55,0.74l0.31,0.11l0.49,-0.35l0.07,-0.75l0.45,0.03l0.63,1.39l-0.4,0.58l0.34,0.49l0.56,-0.04l0.72,-0.84l-0.38,-1.7l1.03,-0.24l-0.44,0.23l-0.21,0.69l1.27,4.41l-0.46,0.1l-1.67,1.73l0.22,-1.29l-0.22,-0.41l-1.31,0.31l-0.38,0.81l0.09,0.95l-1.37,1.7l-1.98,1.38l-1.06,1.41l-0.96,0.69l-1.1,1.67l-0.06,0.71l0.62,0.6l0.96,0.12l2.77,-0.48l1.22,-0.58l-0.03,-0.7l-0.64,-0.23l-2.94,0.79l-0.35,-0.3l3.23,-3.42l3.06,-0.88l0.89,-1.51l1.73,-1.54l0.53,0.57l0.54,-0.19l0.22,-1.81l-0.06,2.25l0.26,0.91l-0.99,-0.21l-0.64,0.77l-0.41,-0.73l-0.52,-0.19l-0.39,0.64l0.3,0.71l0.02,1.63l-0.21,-1.07l-0.67,-0.21l-0.47,0.69l-0.07,0.75l0.46,0.66l-0.63,0.58l-0.0,0.45l0.42,0.17l1.68,-0.57l0.25,1.09l-1.08,1.79l-0.08,1.05l-0.83,0.7l0.13,1.0l-0.85,-0.68l1.12,-1.44l-0.23,-0.96l-1.96,1.08l-0.38,0.64l-0.05,-2.11l-0.52,0.02l-1.03,1.59l-1.26,0.53l-1.14,1.87l-1.51,0.3l-0.46,0.43l-0.21,1.18l1.11,-0.03l-0.25,0.36l0.27,0.37l0.93,0.02l0.06,0.68l0.53,0.47l0.52,-0.27l0.35,-1.76l0.14,0.42l0.83,-0.15l1.11,1.48l1.31,-0.61l1.65,-1.48l0.98,-1.56l0.63,0.78l0.73,0.14l0.44,-0.23l-0.06,-0.86l1.56,-0.55l0.35,-0.94l-0.33,-1.27l0.22,-1.19l-0.18,-1.36l0.83,0.2l0.3,-0.92l-0.19,-0.75l-0.72,-0.63l0.89,-1.13l0.07,-1.75l1.24,-1.24l0.61,-1.37l1.61,-0.49l0.78,-1.16l-0.45,-0.66l-0.51,-0.02l-0.86,-1.3l0.16,-2.09l-0.26,-0.87l0.49,-0.79l0.06,-0.84l-1.15,-1.73l-0.63,-0.4l-0.17,-0.64l0.18,-0.5l0.59,0.23l0.53,-0.33l0.24,-1.8l0.79,-0.24l0.3,-1.0l-0.61,-2.32l0.44,-0.53l-0.03,-0.86l-0.96,-0.88l-0.95,0.3l-1.09,-2.66l0.93,-1.83l41.31,9.4l38.96,7.65l-9.66,54.39l-0.47,1.02l1.04,3.0l0.13,2.0l-1.0,1.3l0.73,1.88l-31.18,-5.92l-1.67,0.79l-7.24,-1.02l-1.68,0.92l-4.19,-0.12l-3.18,0.45l-1.64,0.75l-0.88,-0.26l-1.2,0.3l-1.51,-0.23l-2.43,-0.94l-0.91,0.46l-3.45,0.51l-2.11,-0.71l-1.65,0.3l-0.31,-1.36l-1.09,-0.88l-4.34,-1.46l-2.32,-0.11l-1.15,-0.51l-1.27,0.21l-1.89,0.86l-4.5,0.58l-1.11,-0.71l-1.15,-0.3l-1.61,-1.15l-1.84,-0.51l-0.63,-0.81l0.64,-6.82l-0.47,-0.95l-0.22,-1.9l-0.98,-1.35l-1.96,-1.67l-2.82,-0.11l-1.03,-1.31l-0.15,-1.05l-0.56,-0.63l-2.36,-0.31l-0.56,-0.3l-0.24,-0.79l-0.5,-0.18l-0.97,0.35l-0.84,-0.26l-1.1,0.4l-0.97,-1.47l-0.89,-0.22ZM61.85,39.78l0.16,0.74l-0.42,0.49l0.0,-0.91l0.26,-0.31ZM71.27,20.38l-0.61,0.87l-0.15,0.52l0.11,-1.01l0.65,-0.38ZM71.14,15.62l-0.09,-0.05l0.05,-0.04l0.04,0.1ZM70.37,15.48l-0.77,0.39l0.37,-0.68l-0.07,-0.6l0.22,-0.07l0.25,0.97ZM57.56,42.45l0.05,-0.02l-0.01,0.01l-0.04,0.02ZM67.75,19.23l1.73,-2.1l0.47,-0.02l0.53,1.71l-0.35,-0.55l-0.51,-0.12l-0.55,0.44l-0.35,-0.09l-0.35,0.73l-0.63,-0.01ZM67.87,20.4l0.44,0.0l0.61,0.5l0.08,0.35l-0.79,-0.2l-0.33,-0.65ZM68.84,23.16l-0.1,0.51l-0.0,0.0l-0.02,-0.24l0.12,-0.28ZM69.15,25.42l0.08,0.04l0.12,-0.04l-0.16,0.11l-0.05,-0.1ZM69.52,25.33l0.48,-0.93l1.02,1.21l0.11,1.12l-0.34,0.36l-0.34,-0.09l-0.27,-1.55l-0.67,-0.12ZM66.34,9.97l0.48,-0.34l0.18,1.51l-0.22,-0.05l-0.44,-1.12ZM68.04,9.66l0.83,0.8l-0.65,0.31l-0.18,-1.11ZM66.69,38.03l0.34,-1.07l0.21,-0.25l-0.03,1.07l-0.52,0.26ZM66.99,33.31l0.1,-1.04l0.35,-0.34l-0.23,1.56l-0.22,-0.18ZM66.51,14.27l-0.41,-0.4l0.6,-0.75l-0.18,0.61l-0.01,0.55ZM66.68,14.62l0.4,0.2l-0.08,0.12l-0.29,-0.12l-0.03,-0.2ZM66.74,12.96l-0.01,-0.1l0.05,-0.12l-0.04,0.23ZM64.36,13.12l-1.06,-0.82l0.19,-1.81l1.33,1.92l-0.35,0.18l-0.11,0.54ZM62.18,42.55l0.23,-0.25l0.02,0.01l-0.13,0.31l-0.12,-0.07ZM60.04,40.3l-0.09,-0.19l0.04,-0.07l0.0,0.13l0.05,0.14Z",name:"Washington"},"US-KS":{path:"M477.9,239.67l0.44,0.63l0.76,0.18l1.04,0.8l2.19,-1.08l-0.0,0.75l1.08,0.79l0.23,1.44l-0.95,-0.15l-0.6,0.31l-0.17,0.97l-1.14,1.37l-0.06,1.14l-0.79,0.5l0.04,0.64l1.56,2.1l2.0,1.49l0.2,1.13l0.42,0.86l0.74,0.56l0.32,1.11l1.89,0.91l1.54,0.26l2.67,46.82l-31.55,1.48l-31.97,0.88l-31.98,0.26l-32.05,-0.37l1.21,-65.47l27.9,0.35l27.86,-0.14l27.85,-0.64l27.68,-1.12l1.65,1.23Z",name:"Kansas"},"US-WI":{path:"M598.7,107.43l0.83,-0.15l-0.13,0.81l-0.56,0.01l-0.14,-0.68ZM594.22,116.05l0.47,-0.41l0.26,-2.36l0.95,-0.25l0.64,-0.69l0.22,-1.4l0.41,-0.63l0.63,-0.03l0.06,0.38l-0.76,0.06l-0.18,0.51l0.17,1.27l-0.38,0.17l-0.11,0.58l0.56,0.57l-0.24,0.65l-0.5,0.33l-0.69,1.91l0.07,1.23l-1.05,2.28l-0.41,0.15l-0.86,-0.97l-0.19,-0.72l0.31,-1.57l0.62,-1.05ZM510.06,124.08l0.41,-0.27l0.28,-0.9l-0.45,-1.48l0.04,-1.91l0.7,-1.16l0.53,-2.25l-1.61,-2.91l-0.83,-0.36l-1.28,-0.01l-0.21,-2.31l1.67,-2.26l-0.05,-0.77l0.77,-1.55l1.95,-1.09l0.48,-0.75l0.97,-0.25l0.45,-0.75l1.16,-0.14l1.04,-1.56l-0.97,-12.11l1.03,-0.35l0.22,-1.1l0.73,-0.97l0.78,0.69l1.68,0.64l2.61,-0.56l3.28,-1.57l2.65,-0.82l2.21,-2.12l0.31,0.29l1.39,-0.11l1.25,-1.48l0.79,-0.58l1.04,-0.1l0.4,-0.52l1.07,0.99l-0.48,1.68l-0.67,1.01l0.23,1.61l-1.21,2.21l0.64,0.66l2.5,-1.09l0.72,-0.86l2.16,1.22l2.34,0.47l0.44,0.54l0.86,-0.13l1.6,0.7l2.23,3.54l15.48,2.52l4.65,1.96l1.68,-0.17l1.63,0.42l1.33,-0.59l3.17,0.71l2.18,0.09l0.85,0.41l0.56,0.89l-0.42,1.09l0.41,0.77l3.4,0.63l1.41,1.13l-0.16,0.71l0.59,1.11l-0.36,0.81l0.43,1.25l-0.78,1.25l-0.03,1.76l0.91,0.63l1.38,-0.26l1.02,-0.72l0.2,0.26l-0.79,2.44l0.04,1.31l1.32,1.46l0.84,0.35l-0.24,2.02l-2.42,1.2l-0.51,0.79l0.04,1.26l-1.61,3.49l-0.4,3.5l1.11,0.82l0.92,-0.04l0.5,-0.36l0.49,-1.37l1.82,-1.47l0.66,-2.53l1.06,-1.7l0.14,0.25l0.45,-0.07l0.57,-0.7l0.88,-0.4l1.12,1.12l0.59,0.19l-0.29,2.21l-1.18,2.82l-0.56,5.58l0.23,1.11l0.8,0.93l0.07,0.52l-0.51,0.98l-1.3,1.34l-0.86,3.89l0.15,2.57l0.72,1.2l0.06,1.24l-1.07,3.22l0.12,2.12l-0.73,2.11l-0.28,2.47l0.59,2.02l-0.04,1.32l0.49,0.54l-0.21,1.7l0.92,0.78l0.54,2.43l1.2,1.54l0.08,1.69l-0.33,1.45l0.47,2.95l-44.2,4.6l-0.19,-0.79l-1.56,-2.19l-4.94,-0.84l-1.06,-1.35l-0.36,-1.69l-0.9,-1.21l-0.86,-4.9l1.04,-2.62l-0.09,-0.99l-0.71,-0.79l-1.44,-0.48l-0.71,-1.76l-0.47,-6.02l-0.7,-1.4l-0.52,-2.56l-1.15,-0.6l-1.1,-1.56l-0.93,-0.11l-1.17,-0.75l-1.71,0.09l-2.67,-1.79l-2.3,-3.5l-2.64,-2.1l-2.94,-0.53l-0.73,-1.24l-1.12,-1.0l-3.12,-0.45l-3.53,-2.74l0.45,-1.24l-0.12,-1.61l0.25,-0.81l-0.88,-3.11ZM541.58,78.25l0.05,-0.28l0.03,0.16l-0.08,0.12ZM537.91,83.72l0.28,-0.21l0.05,0.08l-0.33,0.12Z",name:"Wisconsin"},"US-OR":{path:"M10.69,140.12l0.01,-1.77l0.5,-0.84l0.32,-1.95l1.12,-1.91l0.24,-1.9l-0.72,-2.57l-0.33,-0.15l-0.12,-1.81l3.04,-3.82l2.5,-5.98l0.01,0.77l0.52,0.52l0.49,-0.28l0.6,-1.6l0.47,-0.48l0.31,0.98l1.12,0.41l0.33,-0.54l-0.45,-1.76l0.27,-0.87l-0.45,-0.14l-0.79,0.32l1.74,-3.16l1.13,-0.96l0.89,0.3l0.49,-0.29l-0.47,-1.08l-0.81,-0.4l1.77,-4.63l0.47,-0.57l0.02,-0.99l1.08,-2.67l0.62,-2.6l1.04,-1.92l0.33,0.28l0.66,-0.33l-0.04,-0.6l-0.76,-0.62l1.06,-2.6l0.32,0.22l0.59,-0.19l0.13,-0.35l-0.04,-0.51l-0.57,-0.32l0.85,-3.84l1.23,-1.8l0.83,-3.04l1.14,-1.76l0.83,-2.45l0.26,-1.21l-0.18,-0.5l1.19,-1.08l-0.32,-1.64l0.96,0.57l0.78,-0.63l-0.39,-0.75l0.2,-0.65l-0.77,-0.77l0.51,-1.07l1.3,-0.86l0.06,-0.46l-0.93,-0.34l-0.33,-1.25l0.97,-2.14l-0.04,-1.48l0.86,-0.53l0.58,-1.33l0.18,-1.96l-0.21,-1.45l0.83,1.17l0.6,0.18l-0.11,0.89l0.55,0.53l0.83,-0.96l-0.27,-0.99l0.21,-0.07l0.24,0.56l0.69,0.32l1.51,0.04l0.37,-0.36l1.37,-0.19l0.99,2.08l2.43,0.92l1.25,-0.64l0.78,0.04l1.72,1.51l0.77,1.04l0.21,1.9l0.43,0.78l-0.03,2.05l-0.39,1.24l0.19,0.93l-0.43,1.74l0.26,1.45l0.79,0.85l1.94,0.56l1.44,1.05l1.36,0.41l1.04,0.69l4.98,-0.53l2.9,-1.06l1.14,0.51l2.23,0.09l4.24,1.43l0.69,0.54l0.19,1.15l0.57,0.58l1.86,-0.27l2.11,0.71l3.79,-0.55l0.69,-0.42l2.19,0.93l1.64,0.24l1.2,-0.3l0.88,0.26l1.89,-0.78l3.07,-0.43l4.16,0.13l1.61,-0.91l7.17,1.02l0.96,-0.19l0.79,-0.58l31.27,5.93l0.23,1.81l0.93,1.82l1.16,0.63l1.96,1.86l0.57,2.45l-0.16,1.0l-3.69,4.55l-0.4,1.41l-1.39,2.63l-2.21,2.42l-0.65,2.68l-1.49,1.84l-2.23,1.5l-1.92,3.35l-1.49,1.27l-0.62,2.02l-0.12,1.87l0.28,0.92l0.56,0.61l0.54,0.04l0.39,-0.35l0.63,0.76l0.89,-0.05l0.07,0.88l0.81,0.95l-0.46,1.0l-0.65,0.06l-0.33,0.4l0.21,1.8l-1.03,2.56l-1.22,1.41l-6.86,39.16l-26.21,-4.99l-28.9,-6.05l-28.8,-6.61l-28.95,-7.24l-1.48,-2.59l0.2,-2.36l-0.23,-0.89Z",name:"Oregon"},"US-KY":{path:"M583.02,306.59l0.35,-2.18l1.13,0.96l0.72,0.2l0.75,-0.36l0.46,-0.88l0.87,-3.55l-0.54,-1.75l0.38,-0.86l-0.1,-1.88l-1.27,-2.04l1.79,-3.21l1.24,-0.51l0.73,0.06l7.03,2.56l0.81,-0.2l0.65,-0.72l0.24,-1.93l-1.49,-2.14l-0.24,-1.44l0.2,-0.87l0.4,-0.52l1.1,-0.18l1.24,-0.83l3.0,-0.95l0.64,-0.51l0.15,-1.13l-1.53,-2.05l-0.08,-0.68l1.33,-1.97l0.14,-1.16l1.25,0.42l1.12,-1.33l-0.68,-2.0l1.92,0.9l1.72,-0.84l0.03,1.18l1.0,0.46l0.99,-0.94l0.02,-1.36l0.51,0.16l1.9,-0.96l4.41,1.52l0.64,0.94l0.86,0.18l0.59,-0.59l0.73,-2.53l1.38,-0.55l1.39,-1.34l0.86,1.29l0.77,0.42l1.16,-0.13l0.11,0.75l0.95,0.19l0.67,-0.62l0.03,-1.01l0.84,-0.38l0.26,-0.48l-0.25,-2.09l0.84,-0.4l0.34,-0.56l-0.06,-0.69l1.25,-0.56l0.34,-0.72l0.38,1.47l0.61,0.6l1.46,0.64l1.25,-0.0l1.11,0.81l0.53,-0.11l0.26,-0.55l1.1,-0.46l0.53,-0.69l0.04,-3.48l0.85,-2.18l1.02,0.18l1.55,-1.19l0.75,-3.46l1.04,-0.37l1.65,-2.23l0.0,-0.81l-1.18,-2.88l2.78,-0.59l1.54,0.81l3.85,-2.82l2.23,-0.46l-0.18,-1.07l0.36,-1.47l-0.32,-0.36l-1.22,-0.04l0.58,-1.39l-1.09,-1.54l1.65,-1.83l1.81,1.18l0.92,-0.11l1.93,-1.01l0.78,0.88l1.76,0.54l0.57,1.28l0.94,0.92l0.79,1.84l2.6,0.67l1.87,-0.57l1.63,0.27l2.18,1.85l0.96,0.43l1.28,-0.18l0.61,-1.31l0.99,-0.54l1.35,0.5l1.34,0.04l1.33,1.09l1.26,-0.69l1.41,-0.15l1.81,-2.55l1.72,-1.03l0.92,2.35l0.7,0.83l2.45,0.81l1.35,0.97l0.75,1.05l0.93,3.35l-0.37,0.45l0.09,0.72l-0.44,0.61l0.02,0.53l2.24,2.62l1.35,0.92l-0.08,0.89l1.34,0.97l0.58,1.36l1.55,1.2l0.98,1.62l2.14,0.84l1.09,1.12l2.14,0.25l-4.86,6.13l-5.06,4.16l-0.42,0.86l0.22,1.25l-2.07,1.93l0.04,1.64l-3.06,1.63l-0.8,2.38l-1.71,0.6l-2.7,1.83l-1.66,0.48l-3.39,2.42l-23.95,3.09l-8.8,1.42l-7.47,0.86l-7.68,0.46l-22.71,3.52l-0.64,-0.56l-3.63,0.09l-0.41,0.6l1.03,3.57l-23.0,2.73ZM580.9,306.78l-0.59,0.08l-0.06,-0.55l0.47,-0.01l0.18,0.49Z",name:"Kentucky"},"US-CO":{path:"M364.18,239.57l-1.22,65.87l-29.29,-0.9l-29.38,-1.43l-29.35,-1.95l-32.17,-2.75l8.33,-87.15l27.79,2.4l28.23,1.92l29.58,1.46l27.95,0.87l-0.46,21.66Z",name:"Colorado"},"US-OH":{path:"M664.99,178.81l1.67,0.47l1.04,-0.3l1.74,1.07l2.07,0.26l1.47,1.18l1.71,0.23l-2.19,1.18l-0.12,0.47l0.42,0.24l2.46,0.19l1.39,-1.1l1.77,-0.25l3.39,0.96l0.92,-0.08l1.48,-1.29l1.74,-0.6l1.15,-0.96l1.91,-0.97l2.62,-0.03l1.09,-0.62l1.24,-0.06l1.07,-0.8l4.24,-5.46l4.53,-3.47l6.92,-4.36l5.83,28.05l-0.51,0.54l-1.28,0.43l-0.41,0.95l1.65,2.24l0.02,2.11l0.41,0.26l0.31,0.94l-0.04,0.76l-0.54,0.83l-0.5,4.08l0.18,3.21l-0.58,0.41l0.34,1.11l-0.35,1.74l-0.39,0.54l0.76,1.23l-0.25,1.87l-2.41,2.65l-0.82,1.86l-1.37,1.5l-1.24,0.67l-0.6,0.7l-0.87,-0.92l-1.18,0.14l-1.32,1.74l-0.09,1.32l-1.78,0.85l-0.78,2.25l0.28,1.58l-0.94,0.85l0.3,0.67l0.63,0.41l0.27,1.3l-0.8,0.17l-0.5,1.6l0.06,-0.93l-0.91,-1.26l-1.53,-0.55l-1.07,0.71l-0.82,1.98l-0.34,2.69l-0.53,0.82l1.22,3.58l-1.27,0.39l-0.28,0.42l-0.25,3.12l-2.66,1.2l-1.0,0.05l-0.76,-1.06l-1.51,-1.1l-2.34,-0.73l-1.17,-1.92l-0.31,-1.14l-0.42,-0.33l-0.73,0.13l-1.84,1.17l-1.1,1.29l-0.4,1.05l-1.43,0.15l-0.87,0.61l-1.11,-1.0l-3.14,-0.59l-1.37,0.72l-0.53,1.25l-0.71,0.05l-3.04,-2.26l-1.93,-0.29l-1.77,0.56l-2.14,-0.52l-0.55,-1.54l-0.96,-0.97l-0.63,-1.38l-2.03,-0.76l-1.14,-1.01l-0.97,0.26l-1.31,0.89l-0.46,0.03l-1.79,-1.23l-0.61,0.2l-0.6,0.71l-8.53,-55.69l20.43,-4.26ZM675.61,181.34l0.53,-0.79l0.67,0.41l-0.48,0.35l-0.72,0.03ZM677.31,180.77l0.01,-0.0l0.01,-0.0l-0.02,0.0Z",name:"Ohio"},"US-OK":{path:"M399.06,359.31l-0.05,-42.03l-0.39,-0.4l-26.69,-0.22l-25.13,-0.6l0.31,-10.23l36.7,0.74l36.0,-0.07l35.99,-0.86l35.56,-1.62l0.6,10.68l4.55,24.34l1.41,37.88l-1.2,-0.22l-0.29,-0.36l-2.13,-0.21l-0.82,-0.79l-2.11,-0.39l-1.77,-2.05l-1.23,-0.22l-2.25,-1.57l-1.5,-0.4l-0.8,0.46l-0.23,0.88l-0.82,0.24l-0.46,0.62l-2.47,-0.14l-0.47,-0.19l-0.27,-0.68l-1.05,-0.61l-2.3,1.29l-1.17,0.2l-0.19,0.56l-0.63,0.28l-2.12,-0.77l-1.7,1.18l-1.17,0.08l-0.89,0.42l-0.83,1.37l-1.48,0.06l-0.57,1.25l-1.26,-1.55l-1.7,-0.1l-0.32,-0.58l-1.21,-0.46l-0.02,-0.96l-0.44,-0.5l-1.24,-0.18l-0.73,1.38l-0.66,0.11l-0.84,-0.5l-0.97,0.07l-0.71,-1.51l-1.09,-0.35l-1.17,0.57l-0.45,1.7l-0.7,-0.08l-0.49,0.43l0.29,0.73l-0.51,1.68l-0.43,0.19l-0.55,-0.55l-0.3,-0.91l0.39,-1.65l-0.75,-0.86l-0.8,0.18l-0.49,0.76l-0.84,-0.18l-0.92,0.98l-1.07,0.13l-0.53,-1.36l-1.99,-0.19l-0.3,-1.48l-1.19,-0.53l-0.82,0.33l-2.12,2.15l-1.21,0.51l-0.97,-0.38l0.19,-1.25l-0.28,-1.13l-2.33,-0.68l-0.07,-2.18l-0.43,-0.55l-2.11,0.39l-2.52,-0.25l-0.64,0.26l-0.81,1.21l-0.95,0.06l-1.77,-1.77l-0.97,-0.12l-1.5,0.56l-2.68,-0.63l-1.86,-1.0l-1.05,0.25l-2.46,-0.3l-0.17,-2.12l-0.85,-0.87l-0.44,-1.02l-1.16,-0.41l-0.7,-0.83l-0.83,0.08l-0.44,1.64l-2.22,-0.68l-1.07,0.6l-0.96,-0.09l-3.79,-3.78l-1.12,-0.43l-0.8,0.08Z",name:"Oklahoma"},"US-WV":{path:"M693.03,248.42l3.95,-1.54l0.35,-0.71l0.12,-2.77l1.15,-0.22l0.4,-0.61l-0.57,-2.49l-0.61,-1.24l0.49,-0.64l0.36,-2.77l0.68,-1.66l0.45,-0.39l1.24,0.55l0.41,0.71l-0.14,1.13l0.71,0.46l0.78,-0.44l0.48,-1.42l0.49,0.21l0.57,-0.2l0.2,-0.44l-0.63,-2.09l-0.75,-0.55l0.81,-0.79l-0.26,-1.71l0.74,-2.0l1.65,-0.51l0.17,-1.6l1.02,-1.42l0.43,-0.08l0.65,0.79l0.67,0.19l2.28,-1.59l1.5,-1.64l0.79,-1.83l2.45,-2.67l0.37,-2.41l-0.73,-1.0l0.71,-2.33l-0.25,-0.76l0.59,-0.58l-0.27,-3.43l0.47,-3.93l0.53,-0.8l0.08,-1.11l-0.38,-1.21l-0.39,-0.33l-0.04,-2.01l-1.57,-1.91l0.44,-0.54l0.85,-0.1l0.3,-0.33l4.03,19.34l0.47,0.31l16.6,-3.55l2.17,10.68l0.5,0.37l2.06,-2.5l0.97,-0.56l0.34,-1.03l1.63,-1.99l0.25,-1.05l0.52,-0.4l1.19,0.45l0.74,-0.32l1.32,-2.6l0.6,-0.46l-0.04,-0.85l0.42,0.59l1.81,0.52l3.2,-0.57l0.78,-0.86l0.07,-1.46l2.0,-0.74l1.02,-1.69l0.67,-0.1l3.16,1.5l1.81,-0.71l-0.45,1.02l0.56,0.92l1.27,0.42l0.09,0.96l1.13,0.43l0.09,1.2l0.33,0.42l-0.58,3.64l-9.0,-4.48l-0.64,0.24l-0.31,1.14l0.38,1.61l-0.52,1.62l0.41,2.28l-1.36,2.4l-0.42,1.76l-0.72,0.53l-0.42,1.11l-0.27,0.21l-0.61,-0.23l-0.37,0.33l-1.25,3.28l-1.84,-0.78l-0.64,0.25l-0.94,2.77l0.08,1.47l-0.73,1.14l-0.19,2.33l-0.89,2.2l-3.25,-0.36l-1.44,-1.76l-1.71,-0.24l-0.5,0.41l-0.26,2.17l0.19,1.3l-0.32,1.45l-0.49,0.45l-0.31,1.04l0.23,0.92l-1.58,2.44l-0.04,2.1l-0.52,2.0l-2.58,4.73l-0.75,3.16l0.14,0.76l1.14,0.55l-1.08,1.38l0.06,0.6l0.45,0.4l-2.16,2.13l-0.55,-0.7l-0.84,0.15l-3.12,2.53l-1.03,-0.56l-1.32,0.26l-0.44,0.91l0.45,1.17l-0.91,0.91l-0.73,-0.05l-2.27,1.0l-1.21,0.96l-2.18,-1.36l-0.73,-0.01l-0.82,1.58l-1.1,0.49l-1.22,1.46l-1.08,0.08l-1.98,-1.09l-1.31,-0.01l-0.61,-0.74l-1.19,-0.6l-0.31,-1.33l-0.89,-0.55l0.36,-0.67l-0.3,-0.81l-0.85,-0.37l-0.84,0.25l-1.33,-0.17l-1.26,-1.19l-2.06,-0.79l-0.76,-1.43l-1.58,-1.24l-0.7,-1.49l-1.0,-0.6l-0.12,-1.09l-1.38,-0.95l-2.0,-2.27l0.71,-2.03l-0.25,-1.62l-0.66,-1.46Z",name:"West Virginia"},"US-WY":{path:"M218.53,207.02l10.1,-86.6l25.46,2.74l26.8,2.4l26.83,1.91l27.85,1.46l-3.67,87.11l-27.32,-1.41l-28.21,-1.97l-29.69,-2.63l-28.14,-3.02Z",name:"Wyoming"},"US-UT":{path:"M178.67,180.38l41.53,5.44l-2.51,21.5l0.35,0.45l32.24,3.43l-8.33,87.15l-42.54,-4.67l-42.41,-5.77l16.08,-108.34l5.58,0.82ZM187.74,191.46l-0.3,0.04l-0.25,0.62l0.74,3.68l-0.81,0.19l-0.5,1.31l1.15,0.59l0.35,-0.84l0.37,-0.18l0.92,1.14l0.83,1.68l-0.25,1.0l0.16,1.45l-0.4,0.77l0.4,0.52l-0.05,0.56l1.58,1.84l0.02,0.59l1.13,1.92l0.71,-0.1l0.83,-1.74l0.08,2.28l0.53,0.94l0.06,1.8l0.99,0.47l1.65,-0.67l2.48,-1.77l0.37,-1.25l3.32,-1.44l0.17,-0.54l-0.52,-1.02l-0.68,-0.84l-1.36,-0.7l-1.87,-4.59l-0.87,-0.46l0.87,-0.92l1.3,0.6l1.33,-0.15l0.92,-0.83l-0.06,-1.12l-1.55,-0.5l-0.81,0.42l-1.17,-0.12l0.27,-0.76l-0.58,-0.79l-1.86,-0.22l-0.56,1.13l0.28,0.78l-0.35,0.69l0.55,2.44l-0.91,0.32l-0.34,-0.42l0.22,-1.8l-0.42,-0.69l-0.06,-1.74l-0.68,-0.6l-1.32,-0.11l-1.07,-1.55l-0.19,-0.69l0.64,-0.55l0.36,-1.29l-0.83,-1.38l-1.23,-0.28l-0.99,0.81l-2.73,0.2l-0.35,0.63l0.62,0.83l-0.28,0.43ZM199.13,204.0l0.03,0.02l0.04,0.11l-0.07,-0.13ZM199.17,204.81l0.31,0.91l-0.18,0.9l-0.39,-0.93l0.25,-0.88Z",name:"Utah"},"US-IN":{path:"M600.86,189.63l1.43,0.87l2.1,0.14l1.52,-0.38l2.63,-1.39l2.73,-2.1l32.3,-4.83l8.81,57.45l-0.66,1.15l0.3,0.92l0.81,0.79l-0.66,1.14l0.49,0.8l1.12,0.04l-0.36,1.14l0.18,0.51l-1.81,0.29l-3.18,2.55l-0.43,0.17l-1.4,-0.81l-3.46,0.91l-0.09,0.78l1.19,3.1l-1.4,1.88l-1.18,0.49l-0.45,0.89l-0.31,2.6l-1.11,0.88l-1.06,-0.24l-0.47,0.47l-0.85,1.95l0.05,3.14l-0.39,1.0l-1.38,0.85l-0.93,-0.68l-1.24,0.01l-1.48,-0.69l-0.62,-1.84l-1.89,-0.73l-0.44,0.3l-0.04,0.5l0.83,0.68l-0.62,0.31l-0.89,-0.35l-0.36,0.29l-0.04,0.48l0.54,0.93l-1.08,0.68l0.14,2.37l-1.06,0.65l-0.0,0.83l-0.16,0.37l0.08,-0.5l-0.33,-0.51l-1.6,0.18l-1.4,-1.69l-0.5,-0.08l-1.67,1.5l-1.57,0.69l-1.07,2.89l-0.81,-1.07l-2.79,-0.77l-1.11,-0.61l-1.08,-0.18l-1.76,0.92l-0.64,-1.02l-0.58,-0.18l-0.53,0.56l0.64,1.86l-0.34,0.84l-0.28,0.09l-0.02,-1.18l-0.42,-0.4l-0.58,0.01l-1.46,0.79l-1.41,-0.84l-0.85,0.0l-0.48,0.95l0.71,1.55l-0.49,0.74l-1.15,-0.39l-0.07,-0.54l-0.53,-0.44l0.55,-0.63l-0.35,-3.09l0.96,-0.78l-0.07,-0.58l-0.44,-0.23l0.69,-0.46l0.25,-0.61l-1.17,-1.47l0.46,-1.16l0.32,0.19l1.39,-0.55l0.33,-1.8l0.55,-0.4l0.44,-0.92l-0.06,-0.83l1.52,-1.07l0.06,-0.69l-0.41,-0.93l0.57,-0.86l0.14,-1.29l0.87,-0.51l0.4,-1.91l-1.08,-2.54l0.22,-0.8l-0.16,-1.11l-0.93,-0.91l-0.61,-1.5l-1.05,-0.78l-0.04,-0.59l0.92,-1.39l-0.63,-2.25l1.27,-1.31l-6.5,-50.68Z",name:"Indiana"},"US-IL":{path:"M540.07,225.55l0.86,-0.35l0.37,-0.67l-0.23,-2.33l-0.73,-0.93l0.15,-0.41l0.72,-0.69l2.42,-0.98l0.71,-0.65l0.63,-1.68l0.17,-2.11l1.65,-2.47l0.27,-0.94l-0.03,-1.22l-0.59,-1.95l-2.23,-1.88l-0.11,-1.77l0.67,-2.38l0.45,-0.37l4.6,-0.85l0.81,-0.41l0.82,-1.12l2.55,-1.0l1.43,-1.56l-0.01,-1.57l0.4,-1.71l1.42,-1.46l0.29,-0.74l0.33,-4.37l-0.76,-2.14l-4.02,-2.47l-0.28,-1.5l-0.48,-0.82l-3.64,-2.48l44.58,-4.64l-0.01,2.66l0.57,2.59l1.37,2.49l1.31,0.95l0.76,2.6l1.26,2.71l1.42,1.84l6.6,51.49l-1.22,1.13l-0.1,0.69l0.67,1.76l-0.84,1.09l-0.03,1.11l1.19,1.09l0.56,1.41l0.89,0.82l-0.1,1.8l1.06,2.31l-0.28,1.49l-0.87,0.56l-0.21,1.47l-0.59,0.93l0.34,1.2l-1.48,1.13l-0.23,0.41l0.28,0.7l-0.93,1.17l-0.31,1.19l-1.64,0.67l-0.63,1.67l0.15,0.8l0.97,0.83l-1.27,1.15l0.42,0.76l-0.49,0.23l-0.13,0.54l0.43,2.94l-1.15,0.19l0.08,0.45l0.92,0.78l-0.48,0.17l-0.03,0.64l0.83,0.29l0.04,0.42l-1.31,1.97l-0.25,1.19l0.59,1.22l0.7,0.64l0.37,1.08l-3.31,1.22l-1.19,0.82l-1.24,0.24l-0.77,1.01l-0.18,2.04l0.3,0.88l1.4,1.93l0.07,0.54l-0.53,1.19l-0.96,0.03l-6.3,-2.43l-1.08,-0.08l-1.57,0.64l-0.68,0.72l-1.44,2.95l0.06,0.66l-1.18,-1.2l-0.79,0.14l-0.35,0.47l0.59,1.13l-1.24,-0.79l-0.01,-0.68l-1.6,-2.21l-0.4,-1.12l-0.76,-0.37l-0.05,-0.49l0.94,-1.35l0.2,-1.03l-0.32,-1.01l-1.44,-2.02l-0.47,-3.18l-2.26,-0.99l-1.55,-2.14l-1.95,-0.82l-1.72,-1.34l-1.56,-0.14l-1.82,-0.96l-2.32,-1.78l-2.34,-2.44l-0.36,-1.95l2.37,-6.85l-0.25,-2.32l0.98,-2.06l-0.38,-0.84l-2.66,-1.45l-2.59,-0.67l-1.29,0.45l-0.86,1.45l-0.46,0.28l-0.44,-0.13l-1.3,-1.9l-0.43,-1.52l0.16,-0.87l-0.54,-0.91l-0.29,-1.65l-0.83,-1.36l-0.94,-0.9l-4.11,-2.52l-1.01,-1.64l-4.53,-3.53l-0.73,-1.9l-1.04,-1.21l-0.04,-1.6l-0.96,-1.48l-0.75,-3.54l0.1,-2.94l0.6,-1.28ZM585.52,295.52l0.05,0.05l0.04,0.04l-0.05,-0.0l-0.04,-0.09Z",name:"Illinois"},"US-AK":{path:"M89.36,517.03l0.84,0.08l0.09,0.36l-0.3,0.32l-0.64,0.3l-0.15,-0.15l0.25,-0.4l-0.12,-0.31l0.04,-0.2ZM91.79,517.2l0.42,-0.02l0.19,-0.11l0.26,-0.56l1.74,-0.37l2.26,0.07l1.57,0.63l0.84,0.69l0.02,1.85l0.32,0.18l0.0,0.34l0.25,0.27l-0.35,0.09l-0.25,-0.16l-0.23,0.08l-0.41,-0.33l-0.29,-0.04l-0.69,0.23l-0.91,-0.21l-0.07,-0.26l-0.24,-0.17l0.27,-0.21l0.74,0.72l0.46,-0.02l0.2,-0.48l-0.28,-0.44l-0.03,-0.3l-0.31,-0.67l-0.96,-0.52l-1.05,0.27l-0.57,0.69l-1.04,0.3l-0.44,-0.3l-0.48,0.12l-0.06,0.12l-0.63,-0.14l-0.26,0.06l-0.22,0.24l0.2,-0.3l-0.1,-0.55l0.12,-0.79ZM99.83,520.19l0.3,-0.07l0.29,-0.28l-0.03,-0.55l0.31,0.2l-0.06,0.45l0.83,0.92l-0.93,-0.51l-0.44,0.41l-0.13,-0.54l-0.13,-0.04ZM100.07,520.81l0.0,0.04l-0.03,0.0l0.02,-0.04ZM102.01,520.78l0.05,-0.34l0.33,-0.2l0.01,-0.12l-0.58,-1.24l0.1,-0.2l0.59,-0.24l0.29,-0.3l0.65,-0.34l0.62,-0.01l0.41,-0.13l0.81,0.1l1.42,-0.06l0.64,0.15l0.49,0.27l0.88,0.11l0.27,0.15l0.23,-0.22l0.27,-0.05l0.39,0.09l0.2,0.21l0.26,-0.05l0.2,0.38l0.44,0.31l0.1,0.23l0.7,-0.06l0.3,-0.77l0.44,-0.61l0.47,-0.21l1.78,-0.45l0.5,0.04l0.37,0.23l1.13,-0.38l0.66,0.04l-0.11,0.41l0.43,0.51l0.42,0.26l0.62,0.06l0.42,-0.43l0.14,-0.42l-0.34,-0.29l-0.31,-0.03l0.15,-0.44l-0.15,-0.38l1.04,-1.0l0.83,-0.99l0.12,-0.08l0.34,0.17l0.38,-0.02l0.32,0.3l0.19,0.37l0.66,-0.29l-0.1,-0.57l-0.43,-0.58l-0.46,-0.24l0.15,-0.44l0.77,-0.47l0.36,0.04l0.68,-0.2l0.8,-0.08l0.58,0.18l0.45,-0.16l-0.12,-0.52l0.66,-0.6l0.4,0.06l0.26,-0.11l0.43,-0.52l0.34,-0.12l0.23,-0.46l-0.42,-0.3l-0.38,0.03l-0.33,0.15l-0.36,0.39l-0.51,-0.09l-0.5,0.27l-2.19,-0.52l-1.69,-0.24l-0.71,-0.26l-0.12,-0.2l0.17,-0.32l0.04,-0.44l-0.28,-0.56l0.45,-0.35l0.43,-0.13l0.36,0.38l0.04,0.25l-0.15,0.44l0.07,0.39l0.56,0.12l0.32,-0.15l-0.03,-0.3l0.16,-0.35l-0.05,-0.75l-0.84,-1.05l0.01,-0.7l-0.67,-0.19l-0.19,0.24l-0.06,0.48l-0.41,0.22l-0.09,0.03l-0.26,-0.56l-0.34,-0.09l-0.51,0.41l-0.02,0.26l-0.15,0.15l-0.38,-0.02l-0.48,0.27l-0.24,0.54l-0.22,1.13l-0.13,0.32l-0.19,0.05l-0.31,-0.31l0.1,-2.67l-0.23,-0.99l0.19,-0.33l0.02,-0.27l-0.16,-0.29l-0.53,-0.27l-0.46,0.26l-0.1,-0.07l-0.35,0.13l-0.01,-0.54l-0.54,-0.61l0.19,-0.22l0.08,-0.65l-0.16,-0.37l-0.55,-0.26l-1.89,-0.01l-0.58,-0.34l-1.01,-0.12l-0.16,-0.12l-0.07,-0.22l-0.23,-0.07l-1.06,0.53l-0.75,-0.16l-0.12,-0.44l0.3,0.09l0.48,-0.08l0.31,-0.44l-0.21,-0.49l0.37,-0.49l0.83,0.04l0.43,-0.16l0.12,-0.35l-0.14,-0.42l-1.11,-0.64l0.09,-0.27l0.34,-0.17l0.38,-0.44l1.12,-0.0l0.23,-0.09l0.19,-0.32l0.03,-0.95l0.22,-0.54l0.07,-1.42l0.25,-0.45l-0.08,-0.58l0.07,-0.2l0.88,-0.74l0.02,-0.1l-0.09,-0.02l0.19,-0.16l-0.31,-0.35l-0.27,0.05l-0.04,-0.25l-0.09,-0.04l0.57,-0.22l0.33,-0.25l0.51,-0.1l0.24,-0.25l0.42,-0.0l0.19,0.18l0.41,0.08l0.29,-0.08l0.44,-0.55l-0.3,-0.34l-0.39,-0.07l-0.05,-0.33l-0.27,-0.31l-0.6,0.4l-0.43,-0.07l-1.12,0.62l-1.04,0.06l-0.34,0.18l-0.48,-0.03l-0.12,0.5l0.4,0.64l-0.26,0.19l-0.29,0.45l-0.19,-0.09l-0.17,-0.27l-0.76,-0.04l-1.16,-0.25l-0.81,-0.4l-1.05,-0.59l-0.78,-0.61l-0.52,-0.69l0.01,-0.21l0.6,-0.1l-0.06,-0.4l0.1,-0.24l-0.51,-1.06l0.1,-0.78l-0.18,-0.52l0.33,-0.54l-0.4,-0.34l-0.23,0.0l-0.44,-0.69l-0.01,-0.2l0.59,-0.14l0.3,-0.37l-0.05,-0.44l-0.36,-0.26l0.72,0.04l0.29,-0.13l0.18,-0.25l0.63,0.01l0.08,0.51l0.56,0.51l0.32,0.49l-0.03,0.09l-0.79,0.11l-0.53,0.51l0.31,0.45l0.94,-0.08l0.4,0.24l0.26,-0.01l0.39,-0.22l0.29,0.03l0.08,0.07l-0.51,0.6l-0.05,0.38l0.22,0.43l0.46,0.24l1.42,0.07l0.28,-0.17l0.16,-0.35l0.19,-0.08l-0.2,-0.74l0.35,-0.35l-0.02,-0.33l-0.18,-0.25l0.15,-0.43l-0.08,-0.13l-0.52,-0.26l-0.77,-0.01l-0.34,0.1l-1.51,-1.2l-0.01,-0.53l-0.35,-0.39l-0.26,-0.12l-0.15,-0.38l0.55,0.15l0.53,-0.4l-0.17,-0.41l-0.7,-0.51l0.4,-0.45l-0.14,-0.5l0.31,-0.15l0.27,0.08l0.44,-0.1l0.45,0.27l0.75,-0.04l0.67,-0.44l-0.08,-0.48l-0.18,-0.19l-0.48,-0.03l-0.51,0.16l-0.43,-0.19l-1.02,-0.02l-0.26,0.14l-0.44,0.04l-0.36,0.29l-0.62,0.09l-0.15,0.12l-0.15,0.42l-0.13,-0.19l0.27,-0.52l0.36,-0.24l-0.1,-0.44l-0.48,-0.6l0.03,-0.1l0.37,0.1l0.4,-0.18l0.16,-0.22l0.07,-0.36l-0.22,-0.6l0.55,0.23l0.42,-0.5l-0.44,-0.59l0.38,0.32l0.94,0.37l0.2,-0.44l0.14,0.01l-0.04,-0.54l0.12,-0.36l0.48,-0.28l0.49,0.01l1.96,-0.47l0.8,-0.03l0.3,0.25l-0.01,0.44l0.19,0.27l-0.27,0.16l0.13,0.47l0.35,0.15l0.74,0.01l0.29,-0.39l-0.13,-0.45l0.08,-0.34l1.21,-0.11l0.29,-0.63l-0.31,-0.24l-0.93,-0.04l0.03,-0.08l0.41,-0.03l0.15,-0.63l0.72,-0.27l0.86,0.88l0.32,0.11l0.38,-0.28l0.08,-0.27l-0.04,-0.41l-0.18,-0.26l0.34,0.0l0.69,0.32l0.35,0.31l0.54,0.81l-0.06,0.29l-0.38,-0.09l-0.52,0.21l-0.13,0.47l0.43,0.24l1.07,0.06l0.05,0.52l0.31,0.3l0.91,0.49l1.02,0.09l0.53,-0.18l0.41,0.17l0.49,-0.0l1.61,-0.32l0.1,0.49l1.67,0.97l0.28,0.31l0.53,0.32l1.06,0.37l1.81,-0.2l0.56,-0.21l0.47,-0.49l0.2,-0.57l0.15,-0.95l0.61,-1.1l0.01,-0.29l-0.24,-0.88l0.14,-0.05l-0.03,-0.19l0.58,0.25l0.2,-0.1l0.86,0.0l0.36,-0.17l0.41,-0.47l0.07,-0.93l-0.19,-0.43l0.22,-0.03l0.11,-0.44l-0.23,-0.32l-0.73,-0.39l-0.29,0.12l-0.43,-0.04l-0.52,0.2l-0.21,-0.12l-0.29,-0.6l-0.31,-0.29l-0.51,0.0l-0.02,0.1l-0.52,-0.04l-0.43,-0.31l-0.56,-0.02l-0.32,0.1l-1.04,-0.24l-0.48,0.03l-0.33,0.16l0.04,-0.42l-0.29,-0.71l-0.21,-0.97l-0.49,-0.23l-0.55,-0.08l-0.29,0.09l-0.47,-0.64l-0.48,-0.4l-0.5,-0.25l-1.14,-1.02l-0.95,-0.24l-0.2,-0.27l-0.49,-0.27l-0.11,-0.23l-0.63,-0.01l-0.04,0.13l-0.9,-1.22l-1.86,-2.14l-0.25,-0.55l-0.0,-0.32l0.07,-0.19l0.27,0.06l0.27,-0.13l0.35,-0.76l-0.41,-1.02l0.05,-0.11l0.4,0.19l0.51,-0.05l0.41,-0.17l0.51,0.66l0.43,0.23l0.48,-0.4l-0.02,-0.33l-0.32,-0.66l-0.48,-0.41l-0.46,-0.78l-0.84,-0.88l-0.12,-0.02l-0.98,-1.16l-0.33,-0.52l-0.04,-0.3l-0.46,-0.96l0.41,0.03l0.54,0.45l0.34,0.15l0.44,-0.1l0.12,-0.17l0.2,0.03l0.06,-0.15l0.18,0.03l0.17,0.41l0.2,0.18l1.09,0.35l1.08,-0.18l1.53,0.45l0.14,0.13l-0.06,0.06l0.19,0.45l0.88,0.89l1.03,0.47l0.56,-0.36l-0.06,-0.35l-0.37,-0.64l1.48,0.48l0.36,0.26l0.11,0.4l0.61,0.16l1.2,0.07l0.48,0.24l1.49,0.99l0.18,0.45l-0.34,0.04l-0.1,0.06l-0.4,0.34l-0.16,0.3l-0.6,-0.28l-0.52,-0.06l-0.12,0.69l0.62,0.52l0.02,0.52l0.16,0.37l0.28,0.32l0.91,0.59l0.18,0.29l0.46,0.4l0.69,0.3l0.39,0.29l-0.14,0.25l0.02,0.32l0.38,0.24l0.2,-0.05l0.26,0.12l0.44,0.49l0.56,0.16l0.39,0.46l-0.08,0.39l0.24,0.31l0.41,0.19l0.41,-0.15l0.03,-0.15l1.39,-0.46l0.24,0.52l0.24,0.25l-0.25,0.06l0.01,0.5l0.38,0.29l0.43,0.02l0.5,-0.24l0.36,-0.41l-0.05,-0.98l-0.45,-0.65l0.19,0.01l0.65,1.54l0.23,0.25l1.6,0.95l0.53,-0.01l0.29,-0.27l0.34,-0.59l-0.02,-0.44l0.3,-0.38l-0.16,-0.23l-0.72,-0.38l-0.44,-0.04l-0.49,-0.92l-0.89,-0.53l-0.42,-0.12l-0.61,0.21l-0.32,-0.28l-0.0,-0.43l-0.16,-0.19l-0.23,-0.71l0.64,-0.39l0.29,-0.02l0.35,0.29l0.32,0.05l0.37,-0.41l-0.0,-0.15l-0.75,-1.21l-1.13,-0.68l-0.06,-0.29l0.18,-0.28l-0.15,-0.48l-0.43,-0.23l-0.43,0.29l-0.42,0.07l-0.25,-0.44l-0.53,-0.4l-0.31,-0.1l-0.25,-0.41l-1.35,-1.4l0.59,-1.11l0.15,-1.07l-0.1,-1.05l-0.51,-1.13l-0.29,-1.11l-0.36,-0.48l-0.85,-2.25l-1.06,-1.45l-0.08,-0.73l-0.38,-0.89l0.17,-0.17l0.91,-0.32l1.04,-1.04l1.08,1.08l1.75,1.29l0.84,0.44l1.33,0.95l1.37,0.54l1.36,0.24l1.49,-0.09l0.3,0.11l0.42,-0.05l0.4,-0.16l0.23,-0.26l0.3,-0.14l0.42,-0.5l0.56,-0.03l0.17,-0.31l1.66,0.14l0.96,-0.29l0.5,0.12l0.03,0.15l0.87,0.52l0.35,0.13l0.52,-0.01l0.77,0.56l0.91,0.33l0.1,0.2l0.28,-0.04l0.42,0.16l1.99,0.27l-0.05,0.31l0.11,0.18l-0.18,0.06l-0.15,0.66l0.44,0.21l0.04,0.83l0.28,0.36l0.44,-0.14l0.1,-0.13l0.05,-0.46l0.22,-0.51l1.1,0.62l0.73,0.1l0.29,-0.35l-0.22,-0.39l-0.74,-0.5l-0.43,-0.14l-0.07,-0.18l0.03,-0.25l0.76,-0.07l0.26,0.1l0.01,0.3l0.27,0.62l0.54,0.33l0.14,-0.17l0.45,0.24l0.16,-0.08l0.63,0.55l1.13,0.63l0.13,-0.03l0.81,0.55l0.59,0.22l1.21,0.25l1.27,0.12l1.06,-0.17l1.19,0.0l0.01,0.22l0.26,0.49l0.68,0.48l0.08,0.62l0.56,0.17l0.57,0.45l-0.61,-0.02l-0.77,-0.42l-0.42,0.03l-0.44,0.21l0.1,0.48l0.23,0.26l-0.19,0.32l0.18,0.59l0.33,0.11l0.33,-0.12l0.64,0.36l0.3,0.06l0.31,-0.08l0.23,-0.23l0.33,-0.02l0.39,0.36l0.26,0.01l0.25,0.18l0.33,0.02l0.27,-0.16l0.13,0.09l0.16,0.38l-0.54,-0.04l-0.29,0.34l0.21,0.4l0.2,0.11l0.07,0.35l0.89,0.58l-0.04,0.13l0.18,0.3l0.49,0.21l0.94,-0.04l0.96,0.68l0.58,0.26l0.32,0.03l0.37,0.42l0.23,0.1l0.1,0.31l0.34,0.26l0.21,0.38l0.34,0.08l0.26,-0.12l0.25,0.23l-0.55,0.05l-0.29,0.34l-0.41,0.04l-0.18,0.63l0.35,0.33l1.4,0.72l-0.08,0.69l1.48,0.96l0.49,0.67l0.27,0.15l0.49,-0.16l1.05,0.48l0.24,-0.05l0.38,0.32l0.16,0.58l1.1,0.42l0.72,0.06l0.21,0.19l0.85,0.38l0.32,0.34l0.31,0.09l0.59,0.53l0.2,0.37l0.73,0.47l0.25,0.29l0.1,0.53l0.48,0.29l0.55,0.03l0.31,0.44l0.56,0.33l-0.11,0.34l0.39,0.41l1.66,1.19l0.76,0.36l0.16,-0.03l1.78,1.0l0.42,0.4l0.69,0.34l0.47,0.65l0.08,-0.08l-0.02,0.25l0.22,0.06l0.5,0.55l0.02,0.21l0.5,0.23l0.54,0.42l1.19,0.58l0.8,0.03l0.63,0.31l0.03,0.31l0.43,0.12l0.33,-0.2l0.19,-0.0l0.43,0.12l1.02,0.51l0.05,0.25l0.41,0.27l0.22,-0.19l0.58,0.53l0.31,0.09l0.53,0.55l-0.01,0.24l0.49,0.42l0.02,0.24l0.27,0.43l0.55,0.34l0.18,0.4l0.42,0.15l0.58,0.51l0.56,0.96l0.35,0.26l0.53,0.01l0.15,0.11l-23.69,51.51l0.09,0.46l1.53,1.4l0.52,0.02l0.19,-0.15l1.17,1.29l0.41,0.12l1.37,-0.4l1.79,0.68l-0.86,0.96l-0.08,0.38l0.35,1.01l0.91,0.92l-0.08,0.65l0.1,0.44l2.43,4.76l-0.2,1.48l-0.29,0.38l0.19,0.62l0.58,0.12l0.83,-0.25l0.54,-0.07l0.07,0.08l0.03,0.1l-0.66,0.3l-0.33,0.34l0.29,0.54l0.35,-0.0l0.37,-0.18l0.25,0.12l0.02,0.21l0.44,0.11l0.09,0.11l0.26,1.19l-0.17,0.03l-0.1,0.51l0.24,0.32l0.94,0.22l0.04,0.16l-0.27,0.18l0.01,0.12l0.21,0.32l0.21,0.09l-0.05,0.37l-0.24,-0.02l-0.1,-0.46l-0.35,-0.31l-0.11,0.06l-0.28,-0.47l-0.47,-0.03l-0.26,0.35l-0.45,0.01l-0.08,0.13l-0.26,-0.63l-0.14,0.01l-0.35,-0.41l-0.47,-0.12l-0.89,-1.43l0.11,-0.01l0.32,-0.49l-0.08,-0.26l-0.34,-0.28l-0.51,0.01l-0.47,-0.93l-0.05,-0.15l0.12,-0.53l-0.08,-0.41l-0.52,-1.06l-0.46,-0.7l-0.19,-0.07l0.1,-0.61l-0.29,-0.28l-0.72,-0.14l-1.24,-1.44l-0.27,-0.47l-0.01,-0.21l-0.32,-0.23l-0.24,-0.34l-0.28,-0.11l-0.49,-0.63l0.39,-0.11l0.12,-0.23l0.05,0.05l0.59,-0.3l-0.02,0.13l-0.16,0.06l-0.16,0.55l0.3,0.41l0.38,0.07l0.43,-0.3l0.25,-1.03l0.15,-0.22l0.42,0.2l0.36,0.46l0.36,0.04l0.35,-0.35l-0.47,-0.83l-0.69,-0.39l-0.27,-0.91l-0.35,-0.63l-0.4,-0.17l-0.67,0.44l-0.39,0.06l-0.79,0.37l-1.9,-0.05l-1.0,-0.5l-0.45,-0.34l-1.46,-1.5l0.23,-0.14l0.21,-0.32l0.16,-0.74l-0.43,-0.94l-0.52,-0.09l-0.33,0.19l-0.12,0.52l-0.6,-0.04l-0.85,-0.89l-2.81,-1.97l-1.68,-0.48l-1.62,-0.65l-1.13,-0.19l-0.1,-0.53l-0.27,-0.5l0.13,-0.25l-0.02,-0.26l-0.22,-0.25l-0.8,-0.28l-0.36,-0.35l-0.17,-0.01l-0.13,-0.55l-0.2,-0.34l-0.2,-0.12l0.7,-0.5l0.09,-0.27l-0.09,-0.08l0.21,-0.27l0.23,-0.09l0.38,0.08l0.38,-0.17l0.18,-0.32l-0.03,-0.34l-0.35,-0.22l-0.55,-0.07l-0.81,0.27l-0.24,0.2l-0.57,0.02l-0.56,0.35l-0.61,0.15l-0.2,-0.13l-0.19,-0.59l-0.58,-0.63l0.77,-0.37l0.19,-0.38l-0.32,-0.45l-0.53,-0.01l-0.15,-0.48l-0.19,-0.17l0.09,-0.49l-0.16,-0.25l0.04,-0.22l-0.31,-0.55l-0.43,-0.22l-0.53,0.17l-0.07,-0.2l-0.27,-0.03l-0.09,-0.14l0.22,-0.56l0.26,0.03l0.08,-0.09l0.65,0.37l0.38,0.07l0.42,-0.49l-0.14,-0.42l-0.27,-0.26l-1.05,-0.52l-1.54,0.27l-0.1,-0.21l-0.41,-0.3l-0.42,-0.01l-0.08,-0.23l-0.47,0.02l-0.21,-0.16l0.21,-0.26l-0.05,-0.39l0.14,-0.4l-0.28,-0.27l-0.25,-0.05l0.21,-0.77l-0.33,-0.28l-0.29,0.02l-1.36,0.57l0.02,-0.11l-0.34,-0.35l-1.19,-0.19l-0.14,0.25l-0.55,0.26l0.08,0.49l0.21,0.14l-0.01,0.1l-0.83,-0.27l-0.63,-0.03l-0.23,0.49l-0.51,0.38l0.12,0.52l0.31,0.16l0.46,-0.02l-0.05,0.11l-0.98,0.16l-0.3,0.14l-0.16,0.16l-0.05,0.46l0.37,0.28l0.83,-0.12l0.12,0.14l-0.04,0.25l0.31,0.21l-0.27,0.12l-0.15,0.24l-0.51,-0.02l-0.23,0.34l-0.3,0.12l0.05,0.54l-0.3,0.32l-0.12,-0.14l-0.66,0.24l-0.32,-0.27l-0.44,-0.13l-0.32,-0.39l0.11,-0.5l-0.38,-0.29l-0.64,0.04l0.13,-0.4l-0.05,-0.34l-0.23,-0.26l-0.26,-0.07l-0.4,0.16l-0.47,0.73l-0.25,-0.01l-0.23,-0.49l-0.46,-0.07l-0.37,0.4l-0.4,-0.06l-0.16,0.33l-0.29,-0.31l-0.42,-0.03l-0.26,0.25l-0.01,0.21l-0.31,-0.08l-0.11,-0.32l-0.12,-0.03l-0.37,0.06l-0.72,0.4l-0.01,-0.27l-0.13,-0.08l-0.8,-0.04l-0.38,0.2l-0.0,0.45l-0.09,0.05l-1.16,0.08l-0.3,0.13l-0.87,-0.77l-0.22,-0.05l-0.29,0.29l-0.4,-0.28l-1.02,-0.03l0.03,-0.13l-0.35,-0.39l-0.01,-0.13l0.45,0.02l0.16,-0.37l0.53,0.01l0.43,0.3l0.3,0.45l0.49,-0.04l0.2,-0.43l0.23,0.09l0.44,-0.04l0.48,-0.17l0.06,-0.15l0.45,-0.23l0.46,-0.08l0.32,-0.52l-0.21,-0.37l-0.49,-0.19l-1.84,0.04l-0.57,-0.71l-0.07,-0.28l1.28,-0.98l1.62,-0.44l0.37,-0.26l0.33,-0.45l0.46,-0.1l0.65,-0.89l0.14,-1.04l0.36,-0.03l0.74,0.3l1.54,-0.17l1.4,0.03l0.01,0.5l0.23,0.42l0.56,0.48l1.06,0.16l0.14,0.1l0.28,0.41l0.4,0.26l1.19,1.07l0.2,0.34l0.25,0.13l0.5,-0.37l0.0,-0.44l-0.13,-0.39l-0.42,-0.46l-0.43,-0.13l-0.32,-0.52l-0.43,-0.35l-0.69,-1.19l0.45,-0.11l0.44,-0.3l0.35,0.02l0.33,-0.17l1.56,0.33l0.37,-0.06l0.15,-0.62l-0.09,-0.11l-0.67,-0.46l-0.84,-0.3l-0.61,-0.04l-0.74,0.14l-0.37,0.19l-0.29,0.35l-0.76,-0.52l-0.11,-0.24l-0.42,-0.02l-0.16,-0.12l0.14,-0.2l-0.17,-0.67l-0.09,-0.02l-1.07,0.27l-0.85,-0.19l-0.49,0.0l-0.85,0.41l-0.65,-0.15l-0.6,-0.29l-1.18,0.04l-0.71,0.35l-0.19,0.5l-0.35,-0.15l-0.65,0.04l-0.5,0.24l-0.62,0.03l-0.54,0.15l-0.41,0.33l-0.12,0.36l-0.49,0.22l-0.59,-0.02l-0.4,-0.27l-0.26,-0.68l-0.43,-0.32l-0.3,-0.11l-0.42,0.02l-0.3,0.28l0.16,0.51l0.31,0.08l0.01,0.37l0.37,0.61l0.21,0.72l-0.38,0.08l-0.35,0.26l-0.33,-0.06l-0.56,-0.39l-0.98,-0.37l-0.58,0.21l0.02,0.44l-0.07,-0.38l-0.32,-0.34l-0.42,0.19l-0.23,0.4l-0.2,-0.38l-0.81,0.14l-0.08,0.05l-0.02,0.41l-0.37,-0.32l-0.33,-0.04l-0.36,0.28l0.13,0.39l-1.49,-0.27l-0.16,0.49l-0.25,0.14l-0.28,0.36l-0.51,0.04l-0.02,0.17l-0.2,0.09l0.03,0.42l-0.16,0.27l-0.01,0.39l0.33,0.34l0.59,-0.05l0.39,0.38l0.56,0.31l0.08,0.49l0.23,0.34l0.3,0.19l0.03,0.3l-0.64,0.54l-0.5,-0.05l-0.44,0.18l-0.88,-0.46l-0.37,0.02l-0.48,0.41l-0.2,-0.12l-0.45,-0.01l-0.34,0.59l-0.75,-0.12l-0.4,0.05l-0.27,0.3l-0.1,-0.02l0.07,0.06l-0.11,0.01l0.0,0.1l-0.42,-0.28l-0.36,0.33l-0.19,-0.1l-0.32,0.19l-0.3,-0.11l-0.37,0.07l-0.53,-0.44l-0.45,-0.15l-0.9,0.53l-0.18,-0.15l-0.71,-0.02l-0.45,0.28l-0.15,-0.37l-0.41,-0.28l-0.42,0.1l-0.43,0.49l-0.37,-0.15l-0.28,0.31l-0.47,-0.08l-0.4,-0.43l-0.4,0.07l-0.3,0.24l-0.14,-0.11l-0.43,-0.05l-0.14,0.08l-1.45,-0.04l-0.31,0.12l-0.22,0.28l0.24,0.95l-0.31,-0.03l-0.15,0.18l-0.69,-0.24l-0.41,-0.28l-0.26,0.05l-0.26,0.26l-0.2,-0.24l-0.49,0.22l-0.65,0.09l-0.32,-0.22l-0.27,0.2l-0.19,-0.65l-0.39,-0.22l-0.43,0.08l-0.28,0.31l-0.44,0.09l-0.26,-0.07l-0.14,0.34l-0.06,-0.31l-0.26,-0.25l-0.54,-0.14l-1.29,-0.05l-0.62,0.31l-0.42,-0.34l-0.51,-0.04l-0.84,0.27l-0.73,0.11l-0.16,0.12l-0.11,0.56l-0.26,-0.07l-0.44,0.3l-0.03,0.21l-0.23,0.15l-0.26,-0.25l-0.37,-0.03l-0.36,0.17l-0.6,-0.33l-0.87,-0.22l-0.41,-0.18l-0.09,-0.37l-0.55,-0.15l-0.25,0.15l-0.71,-0.67l-0.41,0.02l-0.78,-0.24l-0.4,0.21ZM111.25,502.71l-0.44,0.21l-0.03,-0.02l0.24,-0.26l0.23,0.07ZM128.45,468.26l-0.1,0.14l-0.06,0.02l0.02,-0.15l0.14,-0.02ZM191.55,470.09l-0.0,0.04l-0.02,-0.04l0.03,-0.01ZM191.85,541.2l-0.08,-0.21l0.06,-0.51l0.25,-0.06l0.08,0.39l-0.31,0.39ZM165.84,518.29l-0.19,0.37l-0.34,0.04l-0.07,0.31l-0.27,-0.07l-0.45,0.06l-0.04,-0.09l0.46,-0.29l0.06,-0.15l0.84,-0.19ZM162.12,521.34l0.09,0.0l-0.06,0.02l-0.02,-0.03ZM162.26,521.34l0.08,-0.02l0.01,0.04l-0.04,0.04l-0.05,-0.05ZM141.64,514.73l0.19,0.06l0.26,0.22l-0.46,0.03l-0.07,-0.12l0.08,-0.19ZM132.07,521.13l-0.0,0.0l0.0,-0.0l0.0,0.0ZM132.06,520.84l-0.02,-0.07l0.06,-0.01l-0.03,0.08ZM109.91,522.38l0.07,-0.02l0.05,0.12l-0.03,0.01l-0.09,-0.11ZM107.83,523.67l0.01,0.02l-0.02,0.0l0.0,-0.02l0.01,-0.01ZM136.02,515.64l-0.01,-0.04l0.07,0.01l-0.06,0.03ZM199.71,549.76l0.43,-0.06l0.87,0.3l0.36,-0.05l0.76,-0.54l0.39,-0.87l0.67,-0.03l0.47,-0.34l0.17,-0.49l0.96,0.19l1.89,-0.14l0.49,0.7l0.06,0.43l0.38,0.59l-0.1,0.26l-0.29,0.17l-0.1,0.55l0.11,0.16l-0.11,0.33l0.13,0.53l0.17,0.24l0.69,0.46l0.02,0.37l0.3,0.56l0.35,0.24l0.08,0.34l-0.15,0.26l0.26,1.28l1.33,1.5l0.24,0.78l-0.64,-0.19l-0.38,0.04l-0.33,0.37l-0.51,0.26l-0.01,0.29l-0.38,0.15l-0.21,0.29l-0.52,-0.98l-0.84,-0.64l0.11,-0.44l-0.27,-1.06l0.14,-0.11l0.26,-1.09l-0.26,-0.26l0.04,-0.09l-0.12,-0.01l0.04,-0.06l-0.09,0.05l-0.1,-0.1l-0.04,0.1l-0.12,-0.01l-0.03,-0.07l0.24,-0.92l0.1,-1.07l-0.15,-1.05l0.51,-0.94l0.02,-0.37l-0.66,-0.25l-0.5,0.69l-0.24,-0.13l-0.45,0.11l0.01,0.55l-0.32,0.35l0.3,1.04l-0.34,0.85l0.13,1.32l-0.11,0.36l0.04,0.39l-0.27,0.34l0.03,1.86l-0.28,0.29l-0.27,-0.31l0.02,-1.36l-0.28,-0.43l-0.53,0.1l-0.08,0.1l-0.88,-0.14l0.22,-0.05l0.2,-0.25l0.2,-0.91l-0.12,-0.1l-0.13,-1.06l0.88,0.13l0.45,-0.45l-0.11,-0.33l-0.74,-0.45l-0.23,0.1l0.0,-0.84l-0.33,-0.34l-0.31,-0.01l-0.29,0.56l-0.24,0.06l-0.27,0.41l0.12,0.13l-0.5,-0.23l0.24,-0.5l-0.28,-0.54l-0.29,-0.02l-0.18,-0.5l-0.47,-0.15l-0.19,0.31l-0.22,-0.47ZM201.64,551.89l0.21,0.2l-0.19,0.19l-0.03,-0.38ZM210.83,558.1l0.42,0.83l-0.23,0.38l0.09,0.66l0.47,1.27l0.06,1.07l0.15,0.48l-0.33,-0.38l-1.31,-0.73l-0.26,-0.05l0.19,-0.2l-0.17,-0.39l0.14,-0.1l0.31,-0.63l-0.47,-0.31l-0.27,0.01l-0.75,0.68l-0.11,-0.36l0.09,-0.18l-0.03,-0.41l0.26,-0.33l0.36,-0.19l0.16,-0.56l0.43,-0.42l0.36,0.09l0.44,-0.23ZM211.88,563.05l1.25,5.46l-0.54,0.45l0.03,0.64l0.81,0.55l-0.47,0.67l0.05,0.52l0.58,0.54l-0.08,0.3l0.06,0.48l-0.14,0.55l0.15,0.3l0.2,0.13l0.9,0.26l1.46,1.84l1.18,0.8l0.34,0.76l0.55,0.42l-0.01,0.53l0.1,0.24l0.78,0.58l0.49,0.11l0.03,0.16l-0.16,0.69l-0.68,0.46l-0.31,0.4l-0.04,0.78l-0.31,0.67l0.11,0.99l-0.15,0.54l0.03,0.33l-0.4,0.17l-1.34,1.4l-0.41,0.31l-0.48,0.16l-0.2,-0.13l-0.28,0.01l0.12,-0.5l-0.16,-0.42l-0.64,0.07l-0.08,0.17l-0.1,-0.51l0.24,-0.03l0.12,0.14l0.5,0.14l1.27,-0.81l0.75,-0.65l-0.23,-0.63l-0.48,0.07l0.01,-0.13l-0.37,-0.36l-0.54,0.12l0.59,-1.72l0.0,-0.38l0.15,-0.3l-0.06,-0.43l0.09,-0.51l-0.36,-0.24l-0.06,-0.35l-0.27,-0.49l0.49,-0.15l0.35,-0.35l0.18,-0.48l-0.43,-0.27l-0.43,0.08l-0.61,0.31l-0.45,0.04l-0.55,-0.29l-1.43,0.28l-0.59,-0.05l0.17,-0.09l0.2,-0.36l0.21,-0.85l0.32,0.02l0.81,0.41l0.31,0.03l0.71,-0.34l-0.07,-0.49l-0.33,-0.19l-0.4,0.02l-0.88,-0.43l0.03,-0.84l-0.23,-0.29l-0.46,-0.26l0.02,-0.43l-0.43,-0.61l0.27,-0.3l-0.16,-0.68l-0.35,-0.03l0.1,-0.07l0.01,-0.21l0.42,-0.17l0.22,-0.62l-0.38,-0.26l-0.67,0.18l-0.27,-0.29l-0.2,-0.32l-0.06,-0.35l0.33,-0.21l0.18,-1.04l-0.39,-0.3l-0.47,0.16l-0.17,-0.08l-0.29,-0.36l0.13,-0.2l-0.14,-0.35l-0.45,-0.27l1.08,-0.08l0.35,-0.42l-0.28,-0.52l-0.49,0.08l-0.44,-0.14l0.18,-0.32l-0.03,-0.32l-0.51,-0.26l0.04,-0.13l0.64,0.01l0.41,0.72l0.28,0.23l0.31,0.02l0.28,-0.15l0.04,-0.52l-0.24,-0.23l-0.1,-0.4l-0.37,-0.63l-0.78,-0.91l0.12,-0.39l1.23,0.83l0.52,-0.45ZM214.19,585.45l-0.17,0.68l-0.05,-0.01l0.09,-0.42l0.13,-0.25ZM215.44,583.76l-0.46,0.24l-0.25,-0.22l-0.63,0.14l0.05,-0.14l0.52,-0.28l0.76,0.25ZM211.63,577.78l-0.08,0.43l0.26,0.27l-0.46,0.4l-0.51,-0.23l-0.26,0.45l0.06,0.32l-0.15,-0.2l0.08,-0.67l0.25,-0.15l0.49,-0.04l0.32,-0.57ZM209.08,567.17l-0.25,-0.24l0.08,-0.14l0.49,0.2l-0.32,0.18ZM138.39,458.34l-0.47,-0.44l0.06,-0.45l0.41,0.27l0.0,0.62ZM108.63,500.59l-0.13,0.01l0.09,-0.03l0.04,0.02ZM211.75,580.86l0.58,-0.24l-0.2,0.44l0.02,0.52l-0.22,-0.23l-0.18,-0.5ZM212.61,580.43l0.18,-0.49l-0.1,-0.18l0.52,-0.05l0.31,-0.26l0.18,-0.36l0.14,-0.03l0.14,-0.52l0.57,-0.03l0.29,1.05l0.12,1.09l-0.15,0.19l0.03,0.12l-0.16,0.04l-0.27,0.73l-0.28,0.21l-0.2,-0.36l0.13,-1.47l-0.39,-0.42l-0.41,0.19l-0.18,0.46l-0.46,0.07ZM211.52,574.36l0.23,0.31l0.37,0.12l0.01,0.48l-0.14,0.07l-0.12,-0.08l-0.4,-0.44l-0.11,-0.22l0.15,-0.24ZM209.53,575.0l0.17,-0.21l0.28,-0.04l-0.06,0.38l0.09,0.09l0.27,0.14l0.34,0.0l0.41,0.28l0.04,0.12l-0.35,0.14l0.09,0.38l-0.06,0.17l-0.28,0.08l0.14,-0.47l-0.34,-0.41l-0.06,-0.25l-0.69,-0.39ZM210.36,574.41l0.1,-0.07l0.07,0.06l-0.0,0.01l-0.16,-0.0ZM209.54,571.91l0.03,-0.1l0.32,-0.15l0.14,-0.29l-0.04,-0.37l0.05,-0.1l0.34,1.01l-0.09,-0.09l-0.52,-0.06l-0.15,0.21l-0.08,-0.04ZM206.97,580.16l0.1,-0.52l-0.42,-0.36l0.1,-0.03l-0.05,-0.5l-0.28,-0.2l0.14,-0.17l0.28,-0.1l0.36,0.03l0.21,-0.67l-0.39,-0.23l-1.18,-0.03l-0.2,-0.17l0.19,-0.17l0.46,-0.05l0.67,-0.52l0.19,-0.54l-0.08,-0.32l-0.26,-0.01l0.23,-0.63l0.14,0.22l0.53,0.22l0.24,0.31l0.4,0.27l0.42,1.0l0.12,0.56l-0.14,0.62l-0.17,-0.03l-0.11,0.19l-0.32,0.19l0.02,0.34l-0.75,0.25l-0.08,0.43l0.07,0.45l0.56,-0.01l-0.02,0.13l0.38,0.45l0.22,-0.01l0.23,0.23l0.25,-0.06l0.21,0.38l-0.39,-0.07l-0.32,0.43l-0.06,0.32l0.22,0.37l0.41,0.04l0.21,0.09l-0.2,-0.03l-0.41,0.47l-0.47,0.15l0.11,0.7l0.38,0.27l-0.13,0.2l0.18,0.53l-0.2,0.06l-0.06,0.23l-0.22,-0.08l0.18,-0.35l-0.4,-1.09l0.11,-0.08l0.05,-0.73l-0.28,-0.13l-0.15,-0.32l0.01,-0.81l-0.21,-0.78l-0.46,-0.01l-0.11,0.08l-0.05,-0.39ZM207.26,574.01l-0.02,-0.27l-0.21,-0.27l0.29,-0.14l0.03,0.3l0.15,0.15l-0.04,0.21l-0.2,0.0ZM206.9,573.41l-0.43,-0.14l-0.38,-0.35l0.21,-0.11l0.28,0.14l0.04,0.28l0.27,0.18ZM208.72,573.09l0.26,-0.17l0.43,0.23l0.25,-0.0l-0.15,0.15l-0.09,0.37l-0.14,0.04l-0.23,-0.02l-0.33,-0.6ZM206.49,567.38l1.0,0.59l0.81,0.7l0.06,0.4l-0.46,0.04l-0.19,0.76l0.03,0.31l0.19,0.26l-0.17,0.31l0.43,0.76l-0.15,0.1l-0.85,-0.57l-0.44,0.12l-0.01,0.16l-0.22,-0.06l0.24,-0.51l-0.06,-0.27l0.08,0.03l0.08,-0.27l-0.06,-0.29l0.42,-0.7l0.08,-0.44l-0.28,-0.43l0.06,-0.22l-0.32,-0.31l-0.25,-0.5ZM208.6,569.24l0.34,0.07l0.2,-0.33l0.2,0.07l0.2,0.44l-0.0,0.19l-0.3,0.2l-0.13,0.86l-0.14,-0.44l-0.01,-0.6l-0.07,-0.17l-0.2,-0.03l-0.09,-0.25ZM209.57,569.66l0.0,-0.0l0.03,-0.02l-0.04,0.02ZM204.29,565.52l0.44,-0.15l-0.03,-0.36l0.29,-0.2l0.29,0.26l0.51,-0.3l-0.08,0.47l-0.15,0.23l-0.33,-0.04l-0.36,0.3l-0.27,-0.06l-0.16,0.09l0.02,0.12l-0.36,0.07l0.19,-0.44ZM206.36,564.27l-0.49,0.31l-0.02,-0.59l-0.46,-0.14l-0.02,-0.1l0.53,-0.05l0.24,-0.65l-0.35,-0.23l-0.51,-0.03l-0.1,-0.28l0.09,-0.84l0.2,-0.34l0.16,-0.72l0.07,-1.03l0.34,-0.33l0.69,0.17l0.26,0.31l-0.04,0.27l-0.16,0.12l0.03,0.24l-0.13,0.05l-0.05,0.65l-0.22,0.57l0.02,0.09l0.33,0.11l0.23,1.01l-0.15,0.27l0.43,0.45l-0.08,0.23l-0.57,-0.12l-0.09,0.19l-0.15,0.04l-0.01,0.39ZM206.15,574.28l-0.13,-0.03l0.0,-0.02l0.15,-0.04l-0.02,0.09ZM205.18,574.32l-0.02,0.0l0.01,-0.01l0.01,0.0ZM204.96,570.25l-0.05,-0.24l0.09,0.22l-0.04,0.01ZM205.25,569.02l-0.25,0.19l-0.3,-0.19l-0.18,-0.37l-0.42,-0.07l0.04,-0.08l0.41,0.09l0.15,-0.2l0.31,0.17l0.28,-0.13l0.03,0.52l-0.07,0.07ZM198.99,558.2l0.09,-0.07l0.23,0.49l-0.21,-0.07l-0.11,-0.35ZM199.36,558.71l0.38,0.44l0.56,-0.45l-0.44,-1.09l0.59,0.02l0.03,-0.77l0.24,0.32l0.51,0.01l0.2,-0.29l0.29,-0.06l0.19,0.34l0.24,0.12l0.18,0.27l-0.28,0.14l-0.69,-0.17l-0.13,0.26l-0.17,-0.1l-0.57,0.26l0.08,0.42l0.27,0.54l0.56,0.48l0.25,0.5l0.39,0.36l-0.12,0.15l0.09,0.44l-0.94,-1.32l-0.28,-0.2l-0.61,0.35l0.06,0.34l-0.2,0.14l0.2,0.7l0.21,0.07l-0.14,0.51l0.2,0.13l0.05,0.18l-0.28,0.06l-0.12,-0.56l-0.37,-0.57l0.25,-0.15l-0.16,-0.49l-0.21,-0.17l-0.02,-0.33l-0.28,-0.49l-0.01,-0.31ZM202.27,558.92l0.38,-0.28l0.43,-0.1l0.76,0.39l0.05,0.17l0.43,0.38l-0.11,0.18l-0.41,-0.45l-0.58,-0.11l-0.2,0.41l0.19,0.59l-0.97,-1.19ZM202.11,560.96l0.33,0.1l0.14,0.21l0.26,0.09l0.85,-0.01l-0.23,1.25l-0.31,-0.14l-1.03,-1.5ZM201.29,562.69l0.18,0.07l0.33,-0.09l0.0,0.25l0.48,0.21l0.22,0.28l-0.11,0.08l0.12,0.52l-0.05,0.29l0.23,0.34l-0.06,0.8l0.13,0.32l-0.1,0.03l-0.14,0.56l-0.14,0.99l0.02,0.73l-0.25,0.74l-0.22,-0.02l-0.19,0.34l-0.01,0.5l-0.44,1.06l-0.2,-0.86l-0.08,-0.92l0.3,-0.02l0.63,-0.49l-0.06,-0.73l-0.22,-0.05l0.02,-0.45l-0.19,-0.26l-0.25,-0.01l-0.16,-0.59l-0.47,-0.03l0.24,-0.17l0.01,-0.27l0.65,-0.05l0.22,-0.32l-0.13,-0.51l-0.53,-0.24l0.57,-0.27l-0.34,-1.16l-0.33,-0.12l0.28,-0.19l0.04,-0.3ZM199.27,560.14l0.0,0.0l-0.01,0.0l0.0,-0.0ZM199.1,564.31l0.25,-0.07l0.1,-0.06l-0.12,0.15l-0.23,-0.02ZM199.63,563.32l0.06,-0.2l-0.05,-0.13l0.09,0.13l-0.1,0.2ZM162.15,525.49l0.25,-0.21l0.11,-0.0l-0.2,0.31l-0.16,-0.1ZM136.7,524.68l0.22,0.25l0.59,-0.1l0.04,-0.44l0.61,0.38l0.29,-0.23l0.18,-0.67l0.1,-0.05l0.25,0.13l0.16,-0.06l-0.14,0.5l0.39,0.72l-0.5,0.38l-0.19,-0.72l-0.36,-0.02l-0.69,0.57l-0.12,-0.24l-0.46,0.06l-0.15,0.16l-0.22,-0.52l-0.13,-0.04l0.04,-0.14l0.07,0.07ZM139.88,525.13l-0.03,-0.01l0.02,-0.02l0.01,0.03ZM127.78,528.13l0.49,-0.13l0.09,0.05l-0.34,0.29l-0.18,0.01l-0.06,-0.22ZM128.01,526.82l0.09,-0.93l-0.34,-0.41l0.27,-0.06l0.19,-0.29l0.22,-0.02l0.24,-0.25l0.44,0.22l0.16,-0.11l0.5,0.1l0.1,-0.23l0.15,-0.03l0.38,0.09l0.25,0.25l-0.43,0.12l0.02,0.5l0.44,0.31l-0.25,0.64l0.13,1.11l0.36,0.59l0.43,0.15l-0.37,0.07l-0.19,0.39l-0.11,-0.05l0.03,-0.41l-0.23,-0.36l-0.69,-0.05l-0.43,-0.59l-0.47,-0.4l-0.65,-0.34l-0.26,-0.01ZM131.4,528.57l0.28,-0.39l-0.19,-0.6l0.07,-0.55l0.15,-0.28l0.3,0.13l0.31,-0.27l0.44,0.14l0.52,-0.02l0.3,-0.22l0.26,0.17l0.23,-0.03l0.19,0.33l0.66,-0.29l0.18,-0.29l0.28,0.22l-0.13,0.25l-0.0,0.39l0.26,0.35l0.46,-0.02l0.28,-0.39l0.28,0.18l0.44,-0.16l0.31,0.17l0.08,-0.05l-0.05,0.23l-0.73,0.21l-0.21,0.41l0.22,0.27l-0.07,0.65l0.3,0.23l0.29,0.05l-0.5,0.18l-0.19,-0.24l-0.3,-0.08l-0.09,-0.22l-0.26,-0.17l-0.13,-0.32l-0.96,-0.67l-0.23,0.18l-0.65,0.18l-0.19,0.27l0.12,0.28l-0.38,-0.39l-0.44,0.12l-0.19,0.46l-0.91,-0.26l-0.07,0.08l-0.35,-0.23ZM134.19,529.01l0.07,-0.02l0.09,0.03l-0.15,-0.01l-0.01,0.0ZM134.4,529.04l0.27,0.1l0.23,0.58l-0.25,-0.11l0.04,-0.1l-0.29,-0.47ZM135.83,526.14l0.09,-0.06l0.01,0.01l-0.11,0.04ZM132.89,525.47l-0.57,-0.58l0.11,-0.17l0.27,-0.08l0.34,0.07l0.08,0.37l-0.22,0.39ZM98.14,450.76l0.34,-0.44l0.56,-0.16l0.06,0.49l-0.13,0.02l0.1,0.29l0.7,0.54l0.29,0.6l0.36,0.4l-0.66,-0.36l-1.21,-0.26l-0.45,-0.8l0.04,-0.32ZM100.81,452.78l1.01,0.2l0.26,0.2l0.38,0.11l0.3,0.33l0.23,0.8l-0.26,0.19l-0.26,0.4l0.43,0.51l0.28,0.71l0.39,0.33l-0.09,0.31l0.05,0.32l0.21,0.31l0.5,0.32l0.0,0.35l-0.82,-0.26l-0.09,0.09l-0.51,-0.1l-0.33,0.07l-0.08,-0.93l-0.57,-1.1l0.12,-0.48l-0.3,-0.98l-0.39,-0.84l-0.28,-0.35l-0.01,-0.23l-0.17,-0.28ZM104.84,458.76l0.28,0.01l0.41,0.53l-0.25,0.05l-0.44,-0.59ZM96.98,478.79l0.06,-0.22l1.37,1.26l0.38,-0.0l0.32,-0.21l0.21,0.06l0.2,0.25l0.72,-0.01l-0.01,0.32l0.69,0.19l0.2,0.27l-0.05,0.32l0.09,0.16l0.27,0.29l0.49,0.19l0.07,0.2l-0.23,0.33l-0.32,0.22l-0.42,1.13l-0.7,-0.22l-0.36,-0.42l-0.19,0.11l-0.26,-0.08l-0.29,-0.35l-0.42,-0.13l-0.26,-0.41l-0.51,-0.41l-0.61,-1.56l0.07,-0.19l-0.47,-0.5l0.04,-0.31l-0.09,-0.3ZM97.68,522.17l0.05,-0.07l0.04,-0.11l0.07,0.18l-0.15,-0.01ZM98.03,522.39l0.04,0.02l-0.0,0.03l-0.03,-0.05ZM80.23,514.88l0.08,-0.15l0.69,0.24l0.38,-0.02l1.55,-0.69l0.18,0.0l0.16,0.37l0.44,0.39l0.27,0.08l0.4,-0.16l0.54,0.24l0.6,-0.01l0.53,0.26l0.44,0.41l0.03,0.72l-0.26,0.4l-0.13,0.44l-0.31,0.06l-0.22,0.21l-0.27,0.01l-0.3,-0.08l-0.46,-0.58l-1.38,-0.93l-0.45,-0.11l-0.76,0.03l-0.42,0.3l-0.21,0.03l-0.91,-0.42l-0.33,-0.34l0.14,-0.67ZM74.26,514.0l0.03,-0.25l0.32,0.05l0.02,0.35l-0.37,-0.15ZM64.81,513.23l0.09,-0.01l0.13,0.09l-0.17,0.0l-0.05,-0.08ZM70.29,514.35l-0.12,-0.05l-0.16,0.39l-0.25,-0.27l-0.36,0.08l0.24,-0.12l0.32,0.02l0.41,-0.61l-0.31,-0.35l-0.31,-0.63l-0.3,-0.24l0.05,-0.29l0.13,-0.06l0.67,0.13l0.43,0.28l0.16,0.24l-0.29,0.4l0.11,0.51l-0.06,0.17l-0.33,0.11l-0.04,0.31ZM68.8,514.2l-0.28,0.32l-0.09,-0.1l0.24,-0.29l-0.1,-0.27l0.19,-0.02l0.04,0.36ZM59.97,511.71l0.2,-0.13l0.18,-0.38l0.48,-0.06l0.27,0.03l0.13,0.21l0.36,0.14l0.1,0.15l-0.09,0.12l-0.23,-0.03l-0.61,0.18l-0.41,-0.22l-0.36,0.0ZM62.67,511.56l0.07,-0.35l0.28,-0.32l0.75,-0.02l0.67,0.35l0.17,0.49l-0.28,0.29l-1.25,-0.24l-0.41,-0.2ZM37.79,498.38l0.07,-0.23l-0.1,-0.23l0.32,0.03l0.09,0.49l-0.29,0.05l-0.1,-0.11ZM36.41,498.87l-0.02,0.01l0.01,-0.02l0.01,0.01ZM36.85,498.71l-0.0,-0.07l-0.0,-0.01l0.02,0.01l-0.01,0.07ZM30.2,493.17l-0.02,-0.03l0.04,-0.04l0.0,0.08l-0.02,-0.0ZM26.76,492.74l0.41,-0.33l0.12,0.35l-0.02,0.08l-0.25,0.01l-0.26,-0.12ZM25.01,490.83l0.02,0.0l-0.01,0.01l-0.02,-0.01ZM23.18,488.38l-0.09,0.01l0.05,-0.17l0.04,0.08l0.01,0.08ZM23.19,487.9l-0.06,0.1l-0.14,-0.54l0.19,0.18l0.0,0.26ZM15.95,478.85l0.25,0.07l-0.02,0.19l-0.14,-0.01l-0.09,-0.25ZM1.23,449.67l0.23,0.17l0.21,0.66l0.47,0.45l-0.25,0.16l0.12,0.39l-0.24,-0.38l-0.54,-0.19l-0.11,-0.3l0.19,-0.08l0.2,-0.42l-0.28,-0.47Z",name:"Alaska"},"US-NJ":{path:"M801.67,165.24l1.31,-1.55l0.48,-1.57l0.5,-0.62l0.54,-1.45l0.11,-2.05l0.68,-1.35l0.92,-0.71l14.12,4.17l-0.3,5.66l-0.51,0.83l-0.13,-0.3l-0.65,-0.07l-0.34,0.44l-0.56,1.46l-0.46,2.72l0.26,1.55l0.63,0.61l1.06,0.15l1.23,-0.43l2.46,0.29l0.66,1.87l-0.2,4.55l0.29,0.47l-0.54,0.44l0.27,0.81l-0.72,0.74l0.03,0.35l0.43,0.22l-0.21,0.6l0.48,0.6l-0.17,3.8l0.59,0.52l-0.36,1.36l-1.14,1.82l-0.11,0.94l-1.36,0.07l0.09,1.21l0.64,0.83l-0.82,0.56l-0.18,1.15l1.05,0.77l-0.31,0.29l-0.17,-0.44l-0.53,-0.18l-0.5,0.22l-0.44,1.51l-1.28,0.61l-0.2,0.45l0.46,0.55l0.8,0.06l-0.66,1.26l-0.26,1.5l-0.68,0.65l0.19,0.48l0.4,0.04l-0.89,1.57l0.07,0.95l-1.56,1.66l-0.17,-1.65l0.33,-2.07l-0.11,-0.87l-0.58,-0.82l-0.89,-0.28l-1.11,0.34l-0.81,-0.35l-1.51,0.88l-0.31,-0.71l-1.62,-0.96l-1.0,0.04l-0.65,-0.71l-0.7,0.07l-3.24,-2.03l-0.06,-1.72l-1.02,-0.94l0.48,-0.68l0.0,-0.88l0.43,-0.83l-0.12,-0.73l0.51,-1.19l1.2,-1.16l2.6,-1.49l0.54,-0.86l-0.38,-0.85l0.5,-0.37l0.47,-1.44l1.24,-1.7l2.52,-2.22l0.18,-0.67l-0.47,-0.82l-4.26,-2.78l-0.75,-1.05l-0.9,0.24l-0.48,-0.33l-1.24,-2.46l-1.62,-0.02l-1.0,-3.45l1.02,-1.03l0.36,-2.23l-1.87,-1.91Z",name:"New Jersey"},"US-ME":{path:"M837.04,56.27l0.86,-1.15l1.42,1.7l0.84,0.04l0.39,-2.12l-0.46,-2.19l1.7,0.36l0.73,-0.42l0.21,-0.52l-0.32,-0.7l-1.18,-0.47l-0.44,-0.62l0.19,-1.43l0.86,-2.02l2.08,-2.25l0.01,-0.98l-0.52,-0.93l1.02,-1.64l0.39,-1.51l-0.22,-0.91l-1.02,-0.35l-0.07,-1.42l-0.4,-0.43l0.55,-0.96l-0.04,-0.63l-1.0,-1.26l0.13,-1.73l0.37,-0.63l-0.15,-0.97l1.22,-1.93l-0.96,-6.17l5.58,-18.88l2.25,-0.23l1.15,3.18l0.55,0.43l2.54,0.56l1.83,-1.73l1.68,-0.83l1.24,-1.72l1.25,-0.12l0.64,-0.47l0.25,-1.43l0.42,-0.3l1.36,0.04l3.68,1.41l1.14,0.96l2.36,1.05l8.38,22.7l0.64,0.65l-0.25,0.95l0.72,1.02l-0.1,1.41l0.54,1.3l0.67,0.47l1.05,-0.12l1.12,0.58l0.97,0.1l2.47,-0.53l0.4,0.95l-0.59,1.42l1.69,1.86l0.28,2.69l2.72,1.68l0.98,-0.1l0.47,-0.74l-0.06,-0.5l1.21,0.25l2.95,2.8l0.04,0.47l-0.52,-0.14l-0.38,0.41l0.18,0.77l-0.76,-0.15l-0.35,0.4l0.15,0.63l1.84,1.62l0.16,-0.88l0.39,-0.17l0.8,0.32l0.27,-0.83l0.33,0.41l-0.31,0.85l-0.53,0.19l-1.21,3.24l-0.62,-0.04l-0.31,0.44l-0.55,-1.05l-0.72,0.03l-0.3,0.5l-0.56,0.06l-0.02,0.49l0.58,0.85l-0.91,-0.45l-0.32,0.63l0.26,0.52l-1.2,-0.28l-0.37,0.3l-0.37,0.78l0.08,0.45l0.44,0.08l0.07,1.21l-0.37,-0.57l-0.54,-0.06l-0.39,0.45l-0.2,1.09l-0.48,-1.53l-1.14,0.01l-0.68,0.75l-0.36,1.48l0.59,0.63l-0.83,0.63l-0.7,-0.46l-0.73,1.04l0.1,0.64l0.99,0.63l-0.35,0.21l-0.1,0.82l-0.45,-0.2l-0.85,-1.82l-1.03,-0.46l-0.39,0.22l-0.45,-0.41l-0.57,0.63l-1.25,-0.19l-0.26,0.86l0.78,0.4l0.01,0.37l-0.51,-0.06l-0.56,0.4l-0.09,0.69l-0.49,-1.02l-1.17,-0.02l-0.16,0.64l0.52,0.87l-1.44,0.96l0.84,1.11l0.08,1.06l0.53,0.65l-0.96,-0.41l-0.96,0.22l-1.2,-0.42l-0.17,-0.91l0.74,-0.28l-0.08,-0.55l-0.43,-0.5l-0.67,-0.12l-0.3,0.33l-0.23,-2.37l-0.37,-0.22l-1.1,0.26l0.04,1.96l-1.85,1.92l0.02,0.49l1.25,1.47l-0.64,0.96l-0.19,3.87l0.77,1.41l-0.57,0.53l0.0,0.63l-0.51,0.55l-0.8,-0.19l-0.45,0.93l-0.62,-0.06l-0.41,-1.15l-0.73,-0.21l-0.52,1.03l0.11,0.69l-0.45,0.59l0.12,2.41l-0.95,-1.01l0.14,-1.28l-0.24,-0.59l-0.81,0.29l-0.08,2.01l-0.44,-0.25l0.15,-1.55l-0.48,-0.4l-0.68,0.49l-0.76,3.04l-0.75,-1.84l0.07,-1.51l-0.77,0.05l-1.06,2.76l0.51,0.55l0.73,-0.25l0.91,2.04l-0.28,-0.59l-0.52,-0.23l-0.66,0.3l-0.07,0.64l-1.38,-0.1l-2.16,3.18l-0.53,1.86l0.29,0.6l-0.68,0.65l0.51,0.43l0.91,-0.21l0.37,0.92l-0.77,0.3l-0.2,0.39l-0.4,-0.04l-0.51,0.57l-0.14,1.03l0.67,1.37l-0.08,0.68l-0.79,1.29l-0.94,0.61l-0.41,1.07l-0.1,1.28l0.44,0.9l-0.4,2.81l-0.8,-0.33l-0.41,0.6l-1.02,-0.76l-0.57,-1.86l-0.93,-0.37l-2.36,-1.99l-0.76,-3.45l-13.25,-35.55ZM863.92,80.85l0.09,0.26l-0.08,0.23l0.03,-0.29l-0.04,-0.2ZM865.33,81.07l0.47,0.7l-0.04,0.47l-0.32,-0.25l-0.1,-0.93ZM867.67,77.93l0.43,0.83l-0.16,0.14l-0.42,-0.19l0.16,-0.77ZM877.04,64.5l-0.14,0.2l-0.03,-0.24l0.17,0.04ZM873.08,74.84l0.01,0.02l-0.03,0.03l0.01,-0.06ZM882.73,63.41l0.04,-1.17l0.41,-0.66l-0.18,-0.44l0.4,-0.5l0.62,-0.11l1.54,1.36l-0.49,0.65l-1.08,0.04l-0.27,0.43l0.57,1.3l-0.99,-0.18l-0.14,-0.57l-0.44,-0.16ZM879.31,65.98l0.61,0.41l-0.35,0.29l0.15,0.96l-0.39,-0.63l0.19,-0.53l-0.21,-0.5ZM878.07,70.51l0.09,-0.01l0.48,-0.08l-0.25,0.46l-0.32,-0.37Z",name:"Maine"},"US-MD":{path:"M740.69,219.66l-2.04,-10.06l19.85,-4.49l-0.66,1.29l-0.94,0.08l-1.55,0.81l0.16,0.7l-0.42,0.49l0.23,0.78l-1.04,0.09l-0.72,0.41l-1.48,0.03l-1.14,-0.39l0.21,-0.36l-0.3,-0.49l-1.11,-0.31l-0.47,1.8l-1.63,2.85l-1.37,-0.39l-1.03,0.62l-0.41,1.26l-1.6,1.93l-0.36,1.04l-0.88,0.45l-1.3,1.87ZM760.76,204.58l37.02,-9.15l8.22,26.4l0.48,0.26l8.48,-2.22l0.24,0.71l0.6,0.03l0.38,0.95l0.52,-0.05l-0.38,1.96l-0.12,-0.26l-0.47,0.06l-0.73,0.86l-0.17,2.7l-0.6,0.19l-0.36,0.71l-0.02,1.47l-3.64,1.51l-0.37,0.76l-2.25,0.43l-0.56,0.65l-0.3,-1.09l0.5,-0.31l0.87,-1.85l-0.4,-0.51l-0.45,0.12l0.08,-0.5l-0.44,-0.42l-2.29,0.63l0.3,-0.6l1.15,-0.83l-0.17,-0.69l-1.36,-0.18l0.38,-2.24l-0.18,-1.02l-0.91,0.16l-0.53,1.76l-0.34,-0.69l-0.62,-0.07l-0.44,0.47l-0.5,1.39l0.53,1.02l-2.87,-2.14l-0.43,-0.19l-0.61,0.36l-0.73,-0.76l0.37,-0.84l-0.04,-0.84l0.76,-0.6l-0.08,-1.35l2.08,0.1l0.89,-0.45l0.36,-0.9l-0.32,-1.42l-0.43,-0.05l-0.54,1.31l-0.39,0.09l-1.05,-0.72l0.06,-0.4l-0.52,-0.28l-0.55,0.23l-0.22,-0.68l-0.73,0.1l-0.12,0.28l0.07,-0.74l0.65,-0.01l0.49,-0.37l0.22,-1.04l-0.54,-0.55l-0.57,0.71l-0.2,-0.53l0.88,-0.87l-0.25,-0.65l-0.54,-0.08l-0.09,-0.48l-0.42,-0.27l-0.35,0.15l-0.66,-0.53l0.89,-0.8l-0.24,-1.03l0.94,-2.38l-0.17,-0.43l-0.46,0.02l-0.66,0.66l-0.56,-0.16l-0.61,0.95l-0.74,-0.6l0.49,-3.59l0.6,-0.52l0.06,-0.61l4.22,-1.21l0.12,-0.7l-0.51,-0.3l-2.38,0.43l0.76,-1.27l1.42,-0.05l0.35,-0.5l-0.99,-0.67l0.44,-1.9l-0.63,-0.32l-1.2,1.82l0.05,-1.5l-0.59,-0.34l-0.68,1.1l-1.62,0.67l-0.31,1.65l0.39,0.54l0.65,0.12l-1.45,1.92l-0.2,-1.64l-0.64,-0.42l-0.61,0.73l0.07,1.45l-0.85,-0.29l-1.16,0.64l0.02,0.71l1.01,0.27l-0.37,0.54l-0.83,0.22l-0.05,0.34l-0.44,-0.04l-0.35,0.64l1.15,1.2l-1.88,-0.67l-1.21,0.59l0.16,0.69l1.56,0.58l0.91,0.93l0.72,-0.12l0.56,0.75l-0.98,-0.07l-1.15,1.36l0.32,0.77l1.57,0.92l-0.67,0.12l-0.21,0.41l0.8,1.08l-0.32,0.56l0.32,0.97l0.58,0.45l-0.52,1.09l0.99,1.25l0.96,3.54l0.61,0.84l2.07,1.63l0.42,0.81l-0.58,0.17l-0.64,-0.75l-1.45,-0.31l-1.64,-1.26l-1.33,-3.16l-0.73,-0.68l-0.3,0.37l0.11,0.7l1.28,3.54l1.14,1.31l2.05,0.74l1.03,1.11l0.64,0.14l0.91,-0.36l-0.03,1.11l1.66,1.54l0.1,1.1l-0.89,-0.35l-0.51,-1.29l-0.63,-0.45l-0.45,0.04l-0.13,0.44l0.27,0.79l-0.67,0.09l-0.65,-0.82l-1.41,-0.67l-2.39,0.63l-0.7,-0.67l-0.71,-1.49l-1.26,-0.71l-0.46,0.14l0.01,0.48l1.13,1.84l-0.22,-0.08l-1.62,-1.2l-1.66,-2.28l-0.45,-0.02l-0.37,1.44l-0.32,-0.79l-0.74,0.2l-0.21,0.27l0.33,0.72l-0.11,0.56l-0.76,0.53l-0.94,-1.5l0.07,-1.68l0.76,-0.6l-0.19,-0.74l0.78,-0.47l0.21,-1.61l1.07,-1.03l-0.0,-1.03l-0.46,-0.86l1.27,-2.19l-0.14,-0.54l-2.72,-1.68l-0.56,0.14l-0.63,1.08l-1.87,-0.26l-0.52,-0.83l-1.11,-0.51l-2.41,0.07l-1.25,-0.91l0.61,-1.35l-0.4,-0.97l-1.19,-0.3l-0.89,-0.66l-2.69,0.07l-0.36,-0.23l-0.11,-1.26l-1.04,-0.6l0.09,-1.2l-0.51,-0.29l-0.49,0.19l-0.23,-0.64l-0.52,-0.13l0.26,-0.83l-0.45,-0.58l-0.69,-0.12l-1.81,0.67l-2.24,-1.27ZM790.04,212.1l1.14,0.18l0.3,0.17l-0.52,0.29l-0.93,-0.63ZM803.05,225.67l-0.02,0.33l-0.21,-0.15l0.23,-0.19ZM807.02,229.13l-0.16,0.3l-0.13,0.07l0.02,-0.24l0.26,-0.12ZM797.57,220.61l-0.06,0.01l-0.09,0.03l0.12,-0.07l0.03,0.02ZM797.24,220.74l-0.26,0.56l-0.18,0.12l0.15,-0.61l0.29,-0.07ZM795.94,216.76l-0.29,0.29l-0.72,-0.27l0.02,-0.33l0.26,-0.36l0.72,0.67ZM794.58,212.85l-0.34,0.78l-0.59,0.23l0.02,-1.48l0.92,0.47ZM802.18,228.89l0.1,-0.11l0.12,0.08l-0.22,0.03Z",name:"Maryland"},"US-AR":{path:"M498.73,376.99l-1.42,-38.01l-4.48,-23.98l37.68,-2.58l39.02,-3.58l0.8,1.6l1.01,0.7l0.11,1.77l-0.77,0.57l-0.22,0.94l-1.42,0.93l-0.29,1.04l-0.83,0.54l-1.19,2.59l0.02,0.7l0.53,0.26l10.94,-1.46l0.86,0.93l-1.18,0.37l-0.52,0.96l0.25,0.49l0.84,0.41l-3.6,2.7l0.02,0.84l0.83,1.04l-0.6,1.15l0.62,0.97l-1.42,0.74l-0.11,1.44l-1.45,2.09l0.12,1.64l0.91,3.1l-0.15,0.27l-1.08,-0.01l-0.33,0.26l-0.51,1.73l-1.52,0.95l-0.04,0.51l0.79,0.91l0.05,0.65l-1.11,1.21l-2.02,1.13l-0.21,0.62l0.43,1.0l-0.19,0.27l-1.23,0.03l-0.42,0.67l-0.32,1.89l0.47,1.57l0.02,3.08l-1.27,1.09l-1.54,0.13l0.23,1.49l-0.21,0.48l-0.93,0.25l-0.59,1.77l-1.49,1.19l-0.02,0.93l1.39,0.76l-0.03,0.7l-1.23,0.3l-2.24,1.23l0.03,0.67l0.99,0.82l-0.45,1.14l0.53,1.38l-1.09,0.62l-1.9,2.57l0.52,0.7l1.0,0.49l0.01,0.58l-0.98,0.29l-0.42,0.64l0.51,0.84l1.63,1.01l0.06,1.77l-0.59,0.98l-0.09,0.84l0.29,0.4l1.05,0.39l0.5,2.17l-1.09,1.01l0.06,2.11l-51.46,4.07l-0.83,-11.53l-1.18,-0.85l-0.9,0.16l-0.83,-0.35l-0.93,0.39l-1.22,-0.33l-0.57,0.72l-0.47,0.01l-0.49,-0.48l-0.82,-0.15l-0.63,-1.0Z",name:"Arkansas"},"US-MA":{path:"M877.65,135.84l1.07,-0.19l0.85,-1.13l0.45,0.58l-1.06,0.64l-1.31,0.1ZM831.87,132.65l-0.46,-0.28l-10.4,2.53l-0.25,-0.18l-0.27,-14.8l29.99,-7.86l1.53,-1.8l0.34,-1.48l0.95,-0.35l0.61,-1.04l1.3,-1.08l1.23,-0.08l-0.44,1.05l1.36,0.55l-0.16,0.61l0.44,0.83l1.0,0.36l-0.06,0.32l0.39,0.28l1.31,0.19l-0.16,0.56l-2.52,1.87l-0.05,1.07l0.45,0.16l-1.11,1.41l0.23,1.08l-1.01,0.96l0.58,1.41l1.4,0.45l0.5,0.63l1.36,-0.57l0.33,-0.59l1.2,0.09l0.79,0.47l0.23,0.68l1.78,1.37l-0.07,1.25l-0.36,0.29l0.11,0.61l1.58,0.82l1.19,-0.14l0.68,1.2l0.22,1.14l0.89,0.68l1.33,0.41l1.48,-0.12l0.43,0.38l1.05,-0.23l3.35,-2.76l0.39,-0.69l0.54,0.02l0.56,1.86l-3.32,1.52l-0.94,0.82l-2.75,0.98l-0.49,1.65l-1.94,1.27l-0.81,-2.53l0.11,-1.35l-0.55,-0.31l-0.5,0.39l-0.93,-0.11l-0.3,0.51l0.25,0.92l-0.26,0.79l-0.4,0.06l-0.63,1.1l-0.6,-0.2l-0.5,0.48l0.22,1.86l-0.9,0.87l-0.63,-0.8l-0.47,0.01l-0.11,0.55l-0.26,0.03l-0.7,-2.02l-1.02,-0.35l0.44,-2.5l-0.21,-0.4l-0.77,0.4l-0.29,1.47l-0.69,0.2l-1.4,-0.64l-0.78,-2.12l-0.8,-0.22l-0.78,-2.15l-0.49,-0.24l-6.13,2.0l-0.3,-0.15l-14.84,4.19l-0.28,0.5ZM860.89,110.08l-0.02,-0.37l-0.14,-0.48l0.51,0.23l-0.35,0.62ZM876.37,122.8l-0.42,-0.66l0.06,-0.05l0.44,0.67l-0.09,0.05ZM875.46,121.25l-0.86,-0.11l-0.94,-1.42l1.44,1.0l0.36,0.54ZM871.54,119.46l-0.06,0.25l-0.35,-0.2l0.13,0.02l0.29,-0.07ZM871.87,135.18l0.01,-0.02l0.01,0.04l-0.02,-0.02ZM867.18,137.63l0.78,-0.56l0.28,-1.17l0.84,-1.19l0.17,0.26l0.46,-0.11l0.34,0.52l0.71,-0.01l0.19,0.38l-2.11,0.73l-1.34,1.31l-0.33,-0.17Z",name:"Massachusetts"},"US-AL":{path:"M608.66,337.47l25.17,-2.91l19.4,-2.75l14.04,43.3l0.79,1.4l0.22,1.05l1.17,1.59l0.59,1.87l2.24,2.5l0.92,1.8l-0.11,2.13l1.8,1.13l-0.17,0.74l-0.63,0.1l-0.16,0.7l-0.98,0.84l-0.22,2.29l0.25,1.48l-0.77,2.3l-0.14,1.84l1.1,2.94l1.21,1.52l0.53,1.6l-0.08,5.02l-0.25,0.81l0.48,2.03l1.35,1.16l1.14,2.07l-47.65,6.92l-0.42,0.61l-0.08,2.99l2.64,2.75l2.0,0.97l-0.34,2.7l0.56,1.6l0.43,0.39l-0.94,1.69l-1.24,1.0l-1.13,-0.75l-0.34,0.49l0.66,1.46l-2.82,1.05l0.29,-0.64l-0.45,-0.86l-0.99,-0.77l-0.1,-1.11l-0.57,-0.22l-0.53,0.61l-0.32,-0.1l-0.89,-1.53l0.41,-1.67l-0.97,-2.21l-0.46,-0.45l-0.86,-0.2l-0.3,-0.89l-0.56,-0.17l-0.37,0.61l0.14,0.35l-0.77,3.1l-0.01,5.08l-0.59,0.0l-0.24,-0.71l-2.22,-0.44l-1.65,0.31l-5.46,-31.99l-0.99,-66.49l-0.02,-0.37l-1.07,-0.63l-0.69,-1.02Z",name:"Alabama"},"US-MO":{path:"M468.68,225.54l24.71,-0.73l18.94,-1.43l22.11,-2.58l0.42,0.35l0.39,0.91l2.43,1.65l0.29,0.74l1.21,0.87l-0.51,1.37l-0.1,3.21l0.78,3.65l0.95,1.44l0.03,1.59l1.11,1.37l0.46,1.55l4.96,4.1l1.06,1.69l4.93,3.31l0.7,1.15l0.27,1.62l0.5,0.82l-0.18,0.69l0.47,1.8l0.97,1.63l0.77,0.73l1.04,0.16l0.83,-0.56l0.84,-1.4l0.57,-0.19l2.41,0.61l1.68,0.76l0.84,0.77l-0.97,1.95l0.26,2.28l-2.37,6.86l0.01,1.02l0.7,1.92l4.67,4.05l1.99,1.05l1.46,0.09l1.66,1.31l1.91,0.8l1.51,2.11l2.04,0.83l0.42,2.96l1.72,2.9l-1.1,1.94l0.18,1.38l0.75,0.33l2.31,4.25l1.94,0.92l0.55,-0.32l0.0,-0.65l0.87,1.1l1.07,-0.08l0.14,1.85l-0.37,1.07l0.53,1.6l-1.07,3.86l-0.51,0.07l-1.37,-1.13l-0.65,0.13l-0.78,3.34l-0.52,0.74l0.13,-1.06l-0.56,-1.09l-0.97,-0.2l-0.74,0.63l0.02,1.05l0.53,0.66l-0.04,0.7l0.58,1.34l-0.2,0.4l-1.2,0.39l-0.17,0.41l0.15,0.55l0.86,0.84l-1.71,0.37l-0.14,0.62l1.53,1.97l-0.89,0.75l-0.63,2.13l-10.61,1.42l1.06,-2.28l0.87,-0.61l0.18,-0.87l1.44,-0.96l0.25,-0.96l0.63,-0.37l0.29,-0.59l-0.22,-2.28l-1.05,-0.75l-0.2,-0.77l-1.09,-1.18l-39.24,3.61l-37.72,2.58l-3.21,-58.2l-1.03,-0.63l-1.2,-0.02l-1.52,-0.73l-0.19,-0.93l-0.76,-0.59l-0.34,-0.71l-0.36,-1.55l-0.55,-0.09l-0.3,-0.56l-1.13,-0.66l-1.4,-1.84l0.73,-0.51l0.09,-1.24l1.12,-1.27l0.09,-0.79l1.01,0.16l0.56,-0.43l-0.2,-2.24l-1.02,-0.74l-0.32,-1.1l-1.17,-0.01l-1.31,0.96l-0.81,-0.7l-0.73,-0.17l-2.67,-2.35l-1.05,-0.28l0.13,-1.6l-1.32,-1.72l0.1,-1.02l-0.37,-0.36l-1.01,-0.18l-0.59,-0.85l-0.84,-0.26l0.07,-0.53l-1.24,-2.88l-0.0,-0.74l-0.4,-0.49l-0.85,-0.29l-0.05,-0.54ZM583.77,294.59l-0.1,-0.1l-0.08,-0.15l0.11,-0.01l0.07,0.26Z",name:"Missouri"},"US-MN":{path:"M439.34,42.76l26.81,-1.05l0.34,1.46l1.28,0.84l1.79,-0.5l1.05,-1.43l0.78,-0.31l2.13,2.19l1.71,0.28l0.31,1.2l1.83,1.4l1.79,0.48l2.64,-0.41l0.39,0.85l0.67,0.4l5.12,0.01l0.37,0.23l0.54,1.59l0.71,0.61l4.27,-0.78l0.77,-0.65l0.07,-0.69l2.43,-0.79l3.97,-0.02l1.42,0.7l3.39,0.66l-1.01,0.79l0.0,0.82l1.18,0.54l2.23,-0.16l0.52,2.08l1.58,2.29l0.71,0.05l1.03,-0.78l-0.04,-1.73l2.67,-0.46l1.43,2.17l2.01,0.79l1.54,0.18l0.54,0.57l-0.03,0.83l0.58,0.35l1.32,0.06l0.38,0.83l1.43,-0.19l1.12,0.22l2.22,-0.85l2.78,-2.55l2.49,-1.54l1.24,2.52l0.96,0.51l2.23,-0.66l0.87,0.36l5.98,-1.3l0.56,0.18l1.32,1.64l1.24,0.59l0.62,-0.01l1.61,-0.83l1.35,0.08l-0.93,1.03l-4.69,3.07l-6.35,2.82l-3.68,2.48l-2.15,2.49l-0.95,0.58l-6.63,8.66l-0.95,0.61l-1.08,1.56l-1.96,1.96l-4.17,3.55l-0.86,1.79l-0.55,0.44l-0.14,0.96l-0.78,-0.01l-0.46,0.51l0.98,12.22l-0.79,1.2l-1.05,0.08l-0.52,0.82l-0.83,0.15l-0.61,0.83l-2.06,1.19l-0.94,1.86l0.06,0.72l-1.69,2.39l-0.01,2.06l0.38,0.91l2.15,0.39l1.42,2.49l-0.52,1.92l-0.71,1.25l-0.05,2.12l0.45,1.32l-0.71,1.23l0.91,3.14l-0.51,4.08l3.95,3.03l3.02,0.4l1.89,2.25l2.87,0.5l2.45,1.93l2.39,3.59l2.64,1.8l2.09,0.09l1.07,0.71l0.88,0.1l0.82,1.36l1.03,0.45l0.23,0.39l0.28,2.03l0.68,1.3l0.39,4.82l-40.63,3.2l-40.63,2.09l-1.46,-38.98l-0.7,-1.27l-0.83,-0.78l-2.57,-0.79l-0.94,-1.91l-1.46,-1.79l0.21,-0.68l2.83,-2.34l0.97,-2.12l0.4,-2.44l-0.35,-1.58l0.23,-1.58l-0.18,-1.79l-0.5,-1.03l-0.18,-2.33l-1.81,-2.59l-0.47,-1.13l-0.21,-2.16l-0.66,-0.98l0.15,-1.66l-0.35,-1.52l0.53,-2.69l-1.08,-1.85l-0.49,-8.33l-0.42,-0.79l0.06,-3.92l-1.58,-3.96l-0.53,-0.65l-0.4,-1.37l0.05,-1.19l-0.48,-0.53l-1.36,-3.77l0.0,-3.22l-0.47,-1.97l0.27,-1.12l-0.57,-2.32l0.73,-2.56l-2.06,-6.9ZM468.97,33.61l1.22,0.46l0.99,-0.2l0.33,0.45l-0.05,1.72l-1.78,1.12l-0.15,-0.47l-0.4,-0.14l-0.16,-2.95Z",name:"Minnesota"},"US-CA":{path:"M2.95,175.4l0.78,-1.24l0.46,0.46l0.59,-0.08l0.52,-1.18l0.8,-0.86l1.3,-0.26l0.56,-0.53l-0.15,-0.71l-0.93,-0.32l1.53,-2.79l-0.3,-1.58l0.14,-0.87l2.04,-3.3l1.31,-3.03l0.36,-2.12l-0.28,-1.0l0.16,-3.11l-1.36,-2.16l1.18,-1.38l0.67,-2.53l32.73,8.13l32.58,7.34l-13.67,64.68l25.45,34.66l36.6,51.1l13.3,17.72l-0.19,2.73l0.73,0.94l0.21,1.71l0.85,0.63l0.81,2.56l-0.07,0.91l0.63,1.46l-0.16,1.36l3.8,3.82l0.01,0.5l-1.95,1.53l-3.11,1.26l-1.2,1.99l-1.72,1.14l-0.33,0.81l0.38,1.03l-0.51,0.51l-0.1,0.9l0.08,2.29l-0.6,0.72l-0.64,2.44l-2.02,2.47l-1.6,0.14l-0.42,0.51l0.33,0.89l-0.59,1.34l0.54,1.12l-0.01,1.19l-0.78,2.68l0.57,1.02l2.74,1.13l0.34,0.83l-0.19,2.4l-1.18,0.78l-0.42,1.37l-2.27,-0.62l-1.25,0.6l-43.38,-3.34l0.17,-1.15l0.67,-0.51l-0.17,-1.06l-1.17,-1.38l-1.04,-0.15l0.23,-1.2l-0.28,-1.07l0.78,-1.33l-0.3,-4.25l-0.6,-2.3l-1.92,-4.07l-3.56,-4.07l-1.29,-1.98l-2.42,-2.11l-2.04,-3.01l-2.22,-0.89l-0.94,0.3l-0.39,0.96l-0.62,-0.73l-0.88,-0.22l-0.15,-0.31l0.61,-0.76l0.17,-1.57l-0.44,-2.06l-1.01,-1.95l-1.0,-0.74l-4.44,-0.19l-3.33,-1.81l-1.36,-1.26l-0.7,-0.12l-1.02,-1.19l-0.44,-2.6l-0.97,-0.47l-1.68,-2.31l-2.19,-1.73l-1.24,-0.41l-1.66,0.37l-1.15,-1.01l-1.25,0.03l-2.48,-1.83l-1.06,0.01l-1.49,-0.69l-4.91,-0.52l-1.12,-2.35l-1.43,-0.76l1.34,-2.45l-0.25,-1.36l0.74,-1.99l-0.63,-1.35l1.27,-2.45l0.33,-2.44l-0.99,-1.24l-1.26,-0.23l-1.4,-1.28l0.41,-1.62l0.79,-0.09l0.25,-0.45l-0.47,-2.2l-0.65,-0.77l-1.47,-0.84l-1.78,-3.97l-1.82,-1.25l-0.36,-2.75l-1.61,-2.58l0.07,-1.39l-0.33,-1.26l-1.16,-0.94l-0.74,-2.95l-2.41,-2.69l-0.55,-1.25l-0.02,-4.63l0.59,-0.57l-0.59,-1.14l0.51,-0.59l0.53,0.61l0.78,-0.02l0.84,-0.81l0.56,-1.33l0.8,0.04l0.21,-0.88l-0.43,-0.27l0.47,-1.19l-1.22,-3.68l-0.62,-0.48l-1.05,0.08l-1.93,-0.51l-1.04,-1.06l-1.89,-3.21l-0.8,-2.28l0.86,-2.39l0.09,-1.11l-0.27,-2.38l-0.32,-0.64l-0.54,-0.24l0.25,-1.19l0.69,-1.07l0.24,-2.71l0.47,-0.64l0.88,0.13l0.18,0.94l-0.7,2.13l0.05,1.15l1.18,1.32l0.55,0.1l0.58,1.28l1.16,0.78l0.4,1.01l0.89,0.41l0.83,-0.21l-0.21,-1.45l-0.65,-0.43l-0.18,-0.58l-0.24,-3.57l-0.56,-0.71l0.26,-0.69l-1.48,-1.06l0.5,-1.07l0.09,-1.06l-1.2,-1.58l0.78,-0.74l0.79,0.06l1.24,-0.73l1.25,1.02l1.87,-0.32l5.55,2.41l0.61,-0.09l0.64,-1.38l0.69,-0.04l1.92,2.53l0.25,0.18l0.63,-0.24l0.02,-0.38l-0.39,-0.93l-1.57,-1.89l-1.66,-0.32l0.27,-0.62l-0.28,-0.54l-0.48,0.09l-1.05,1.01l-1.84,-0.22l-0.43,0.28l-0.15,-0.51l-1.05,-0.4l0.24,-1.05l-0.85,-0.47l-1.0,0.28l-0.6,0.84l-1.09,0.4l-1.35,-0.9l-0.39,-0.88l-1.51,-1.44l-0.58,0.03l-0.64,0.61l-0.92,-0.12l-0.48,0.36l-0.33,1.88l0.21,0.78l-0.76,1.36l0.36,0.65l-0.47,0.59l-0.04,0.69l-2.16,-2.89l-0.44,-0.15l-0.25,0.32l-0.73,-1.0l-0.21,-1.03l-1.2,-1.17l-0.4,-1.05l-0.61,-0.18l0.65,-1.48l0.11,0.95l0.76,1.49l0.44,0.25l0.33,-0.38l-1.45,-5.21l-1.08,-1.42l-0.31,-2.68l-2.5,-2.87l-1.8,-4.48l-3.05,-5.54l1.09,-1.7l0.25,-1.97l-0.46,-2.11l-0.14,-3.61l1.34,-2.92l0.7,-0.74l-0.07,-1.54l0.42,-1.53l-0.41,-1.63l0.11,-1.96l-1.41,-4.06l-0.97,-1.15l0.06,-0.8l-0.42,-1.19l-2.91,-4.03l0.51,-1.35l-0.21,-2.69l2.23,-3.44ZM31.5,240.45l-0.06,0.1l-0.34,0.04l0.21,-0.05l0.19,-0.09ZM64.32,351.64l0.27,0.13l0.19,0.18l-0.31,-0.18l-0.15,-0.13ZM65.92,352.88l1.32,0.84l0.76,1.73l-0.89,-0.66l-1.14,0.03l-0.05,-1.94ZM62.72,363.08l1.36,2.08l0.57,0.53l-0.46,0.06l-0.83,-0.79l-0.65,-1.88ZM43.54,333.81l0.88,0.73l1.37,0.36l1.36,1.0l-2.82,-0.18l-0.71,-0.58l0.24,-0.66l-0.32,-0.67ZM47.89,335.89l0.94,-0.5l0.32,0.36l-0.37,0.14l-0.88,-0.0ZM46.05,352.4l0.29,-0.06l0.95,0.92l-0.61,-0.17l-0.64,-0.69ZM37.57,334.04l2.57,0.16l0.2,0.74l0.6,0.45l-1.21,0.64l-1.17,-0.1l-0.49,-0.44l-0.5,-1.44ZM34.94,332.37l0.06,-0.02l0.05,0.06l-0.01,-0.0l-0.1,-0.04Z",name:"California"},"US-IA":{path:"M452.9,162.25l42.83,-2.19l40.56,-3.19l0.96,2.52l2.0,1.0l0.08,0.59l-0.9,1.8l-0.16,1.04l0.9,5.09l0.92,1.26l0.39,1.75l1.46,1.72l4.95,0.85l1.27,2.03l-0.3,1.03l0.29,0.66l3.61,2.37l0.85,2.41l3.84,2.31l0.62,1.68l-0.31,4.21l-1.64,1.98l-0.5,1.94l0.13,1.28l-1.26,1.36l-2.51,0.97l-0.89,1.18l-0.55,0.25l-4.56,0.83l-0.89,0.73l-0.61,1.71l-0.15,2.56l0.4,1.08l2.01,1.47l0.54,2.65l-1.87,3.25l-0.22,2.24l-0.53,1.42l-2.88,1.39l-1.02,1.02l-0.2,0.99l0.72,0.87l0.2,2.15l-0.58,0.23l-1.34,-0.82l-0.31,-0.76l-1.29,-0.82l-0.29,-0.51l-0.88,-0.36l-0.3,-0.82l-0.95,-0.68l-22.3,2.61l-15.13,1.17l-7.59,0.51l-20.78,0.47l-0.22,-1.06l-1.3,-0.73l-0.33,-0.67l0.58,-1.16l-0.21,-0.95l0.22,-1.39l-0.36,-2.19l-0.6,-0.73l0.07,-3.65l-1.05,-0.5l0.05,-0.91l0.71,-1.02l-0.05,-0.44l-1.31,-0.56l0.33,-2.54l-0.41,-0.45l-0.89,-0.16l0.23,-0.8l-0.3,-0.58l-0.51,-0.25l-0.74,0.23l-0.42,-2.81l0.5,-2.36l-0.2,-0.67l-1.36,-1.71l-0.08,-1.92l-1.78,-1.54l-0.36,-1.74l-1.09,-0.94l0.03,-2.18l-1.1,-1.87l0.21,-1.7l-0.27,-1.08l-1.38,-0.67l-0.42,-1.58l-0.45,-0.59l0.05,-0.63l-1.81,-1.82l0.56,-1.61l0.54,-0.47l0.73,-2.68l0.0,-1.68l0.55,-0.69l0.21,-1.19l-0.51,-2.24l-1.33,-0.29l-0.05,-0.73l0.45,-0.56l-0.0,-1.71l-0.95,-1.42l-0.05,-0.87Z",name:"Iowa"},"US-MI":{path:"M612.24,185.84l1.83,-2.17l0.7,-1.59l1.18,-4.4l1.43,-3.04l1.01,-5.05l0.09,-5.37l-0.86,-5.54l-2.4,-5.18l0.61,-0.51l0.3,-0.79l-0.57,-0.42l-1.08,0.55l-3.82,-7.04l-0.21,-1.11l1.13,-2.69l-0.01,-0.97l-0.74,-3.13l-1.28,-1.65l-0.05,-0.62l1.73,-2.73l1.22,-4.14l-0.21,-5.34l-0.77,-1.6l1.09,-1.15l0.81,-0.02l0.56,-0.47l-0.27,-3.49l1.08,-0.11l0.67,-1.43l1.19,0.48l0.65,-0.33l0.76,-2.59l0.82,-1.2l0.56,-1.68l0.55,-0.18l-0.58,0.87l0.6,1.65l-0.71,1.8l0.71,0.42l-0.48,2.61l0.88,1.42l0.73,-0.06l0.52,0.56l0.65,-0.24l0.89,-2.26l0.66,-3.52l-0.08,-2.07l-0.76,-3.42l0.58,-1.02l2.13,-1.64l2.74,-0.54l0.98,-0.63l0.28,-0.64l-0.25,-0.54l-1.76,-0.1l-0.96,-0.86l-0.52,-1.99l1.85,-2.98l-0.11,-0.73l1.72,-0.23l0.74,-0.94l4.16,2.0l0.83,0.13l1.98,-0.4l1.37,0.39l1.19,1.04l0.53,1.14l0.77,0.49l2.41,-0.29l1.7,1.02l1.92,0.09l0.8,0.64l3.27,0.45l1.1,0.78l-0.01,1.12l1.04,1.31l0.64,0.21l0.38,0.92l-0.16,0.54l-0.66,-0.25l-0.94,0.57l-0.23,1.83l0.81,1.29l1.6,0.99l0.69,1.37l0.65,2.26l-0.12,1.73l0.77,5.57l-0.14,0.6l-0.57,0.2l-0.48,0.96l-0.75,0.08l-0.79,0.81l-0.17,4.47l-1.12,0.49l-0.18,0.82l-1.86,0.43l-0.73,0.6l-0.58,2.61l0.26,0.45l-0.21,0.52l0.25,2.58l1.38,1.31l2.9,0.84l0.91,-0.07l1.08,-1.23l0.6,-1.44l0.62,0.19l0.38,-0.24l1.01,-3.59l0.6,-1.06l-0.08,-0.52l0.97,-1.45l1.39,-0.39l1.07,-0.69l0.83,-1.1l0.87,-0.44l2.06,0.59l1.13,0.7l1.0,1.09l1.21,2.16l2.0,5.91l0.82,1.6l1.03,3.71l1.49,3.63l1.27,1.73l-0.33,3.93l0.45,2.49l-0.48,2.79l-0.34,0.44l-0.24,-0.33l-0.31,-1.71l-1.46,-0.52l-0.47,0.08l-1.48,1.36l-0.06,0.83l0.55,0.67l-0.83,0.57l-0.29,0.79l0.28,2.94l-0.49,0.75l-1.62,0.92l-1.06,1.85l-0.43,3.73l0.27,1.55l-0.33,0.93l-0.42,0.19l0.02,0.91l-0.64,0.3l-0.37,1.08l-0.52,0.52l-0.5,1.28l-0.02,1.05l-0.52,0.78l-20.37,4.25l-0.14,-0.86l-0.46,-0.33l-31.6,4.74ZM621.47,115.87l0.0,-0.07l0.12,-0.12l-0.01,0.03l-0.11,0.16ZM621.73,114.95l-0.07,-0.16l0.07,-0.14l-0.0,0.3ZM543.48,88.04l4.87,-2.38l3.55,-3.62l5.77,-1.36l1.39,-0.84l2.36,-2.71l0.97,0.04l1.52,-0.73l1.0,-2.25l2.82,-2.84l0.23,1.72l1.85,0.59l0.05,1.45l0.66,0.14l0.51,0.6l-0.17,3.14l0.44,0.95l-0.34,0.47l0.2,0.47l0.74,-0.02l1.08,-2.21l1.08,-0.9l-0.42,1.15l0.59,0.45l0.82,-0.67l0.52,-1.22l1.0,-0.43l3.09,-0.25l1.51,0.21l1.18,0.93l1.54,0.44l0.47,1.05l2.31,2.58l1.17,0.55l0.53,1.55l0.73,0.34l1.87,0.07l0.73,-0.4l1.07,-0.06l0.52,-0.65l0.88,-0.43l1.0,1.11l1.1,0.64l1.02,-0.25l0.68,-0.82l1.87,1.06l0.64,-0.34l1.65,-2.59l2.81,-1.89l1.7,-1.65l0.91,0.11l3.27,-1.21l5.17,-0.25l4.49,-2.72l2.56,-0.37l-0.01,3.24l0.29,0.71l-0.36,1.1l0.67,0.85l0.66,0.11l0.71,-0.39l2.2,0.7l1.14,-0.43l1.03,-0.87l0.66,0.48l0.21,0.71l0.85,0.22l1.27,-0.8l0.95,-1.55l0.66,-0.02l0.84,0.75l1.98,3.78l-0.86,1.04l0.48,0.89l0.47,0.36l1.37,-0.42l0.58,0.46l0.64,0.04l0.18,1.2l0.98,0.87l1.53,0.52l-1.17,0.68l-4.96,-0.14l-0.53,0.29l-1.35,-0.17l-0.88,0.41l-0.66,-0.76l-1.63,-0.07l-0.59,0.47l-0.07,1.22l-0.49,0.75l0.38,2.05l-0.92,-0.22l-0.89,-0.92l-0.77,-0.13l-1.96,-1.65l-2.41,-0.6l-1.6,0.04l-1.04,-0.5l-2.89,0.47l-0.61,0.45l-1.18,2.52l-3.48,0.73l-0.58,0.77l-2.06,-0.34l-2.82,0.93l-0.68,0.83l-0.56,2.51l-0.78,0.28l-0.81,0.87l-0.65,0.28l0.16,-1.96l-0.75,-0.91l-1.02,0.34l-0.76,0.92l-0.97,-0.39l-0.68,0.17l-0.37,0.4l0.1,0.83l-0.73,2.01l-1.2,0.59l-0.11,-1.38l-0.46,-1.06l0.34,-1.69l-0.17,-0.37l-0.66,-0.17l-0.45,0.58l-0.6,2.12l-0.22,2.57l-1.12,0.91l-1.26,3.02l-0.62,2.66l-2.56,5.33l-0.69,0.74l0.12,0.91l-1.4,-1.28l0.18,-1.75l0.63,-1.69l-0.41,-0.81l-0.62,-0.31l-1.36,0.85l-1.16,0.09l0.04,-1.29l0.81,-1.45l-0.41,-1.34l0.3,-1.09l-0.58,-0.98l0.15,-0.83l-1.9,-1.55l-1.1,-0.06l-0.59,-0.44l-0.86,0.2l-0.62,-0.2l0.3,-1.36l-0.94,-1.45l-1.13,-0.51l-2.23,-0.1l-3.2,-0.71l-1.55,0.59l-1.43,-0.42l-1.62,0.17l-4.56,-1.94l-15.37,-2.5l-2.0,-3.4l-1.88,-0.96l-0.76,0.26l-0.1,-0.3ZM603.38,98.65l-0.01,0.52l-0.46,0.32l-0.7,1.39l0.08,0.57l-0.65,-0.58l0.91,-2.16l0.83,-0.06ZM643.87,87.47l1.99,-1.52l0.17,-0.57l-0.27,-0.64l1.05,0.16l0.8,1.24l0.81,0.19l-0.27,1.08l-0.36,0.19l-1.5,-0.34l-0.77,0.45l-1.63,-0.24ZM635.6,77.64l0.56,-0.83l0.52,0.05l-0.37,1.32l0.11,0.71l-0.35,-0.9l-0.46,-0.35ZM636.53,79.17l0.09,0.14l0.01,0.01l-0.02,-0.01l-0.08,-0.14ZM637.39,81.25l0.4,0.45l0.22,0.61l-0.63,-0.71l0.01,-0.34ZM633.73,93.13l1.41,0.25l0.36,-0.18l0.4,0.21l-0.17,0.52l-0.75,0.11l-1.24,-0.9ZM618.85,96.77l0.62,2.25l-0.8,0.78l-0.39,-0.27l0.56,-2.76ZM613.26,110.83l0.47,0.3l-0.09,0.57l-0.45,-0.69l0.06,-0.17ZM612.23,113.57l0.0,-0.03l0.02,-0.04l-0.03,0.07ZM599.41,82.64l-0.23,-0.37l0.03,-0.4l0.37,0.32l-0.17,0.45ZM570.51,72.75l-0.51,-0.27l-1.16,0.06l-0.04,-1.56l1.0,-1.03l1.17,-2.09l1.84,-1.49l0.63,-0.0l0.53,-0.58l2.08,-0.89l3.34,-0.42l1.1,0.66l-0.54,0.38l-1.31,-0.12l-2.27,0.78l-0.15,0.29l0.3,0.59l0.71,0.13l-1.19,0.98l-1.4,1.89l-0.7,0.29l-0.36,1.45l-1.15,1.37l-0.66,2.04l-0.67,-0.87l0.75,-0.97l0.14,-1.95l-0.63,-0.37l-0.21,0.15l-0.6,0.92l-0.05,0.67ZM558.28,58.21l0.75,-0.98l-0.39,-0.33l0.56,-0.53l4.62,-2.98l1.97,-1.72l0.62,-0.18l-0.45,0.65l0.1,0.79l-0.43,0.49l-4.25,2.56l-0.86,0.99l0.24,0.36l-1.87,1.17l-0.61,-0.28Z",name:"Michigan"},"US-GA":{path:"M654.05,331.71l22.02,-3.57l20.65,-3.86l-1.48,1.42l-0.51,1.68l-0.66,0.82l-0.41,1.73l0.11,1.23l0.82,0.78l1.84,0.8l1.03,0.12l2.7,2.03l0.84,0.24l1.9,-0.37l0.6,0.25l0.8,1.64l1.51,1.6l1.04,2.5l1.33,0.82l0.84,1.16l0.56,0.26l1.0,1.77l1.07,0.3l1.17,0.99l3.81,1.85l2.41,3.16l2.25,0.58l2.53,1.67l0.5,2.34l1.25,1.02l0.47,-0.16l0.31,0.49l-0.1,0.62l0.79,0.73l0.79,0.09l0.56,1.21l4.99,1.89l0.4,1.78l1.54,1.73l1.02,2.01l-0.07,0.81l0.49,0.69l0.11,1.24l1.04,0.79l1.17,0.17l1.25,0.62l0.28,0.53l0.57,0.23l1.12,2.56l0.76,0.57l0.08,2.68l0.77,1.48l1.38,0.9l1.52,-0.27l1.44,0.76l1.45,0.11l-0.59,0.78l-0.56,-0.35l-0.47,0.28l-0.4,0.99l0.62,0.91l-0.38,0.48l-1.38,-0.16l-0.77,-0.55l-0.65,0.44l0.26,0.71l-0.49,0.52l0.36,0.61l0.94,-0.04l0.5,0.29l-0.58,1.35l-1.43,0.27l-1.33,-0.44l-0.44,0.39l0.34,0.85l1.23,0.35l-0.5,0.87l0.23,0.35l-0.2,0.64l0.83,0.64l-0.33,0.44l-0.72,-0.13l-0.96,0.51l-0.1,0.62l1.09,0.45l0.05,0.95l0.48,-0.07l1.2,-1.17l-0.92,2.31l-0.31,-0.58l-0.59,-0.08l-0.44,0.72l0.29,0.7l0.98,0.83l-2.32,0.04l-0.92,-0.28l-0.63,0.3l0.06,0.63l0.55,0.34l2.76,0.24l1.07,0.66l-0.02,0.34l-0.56,0.22l-0.88,1.95l-0.5,-1.41l-0.45,-0.13l-0.6,0.33l-0.15,0.84l0.34,0.96l-0.6,0.11l-0.03,0.84l-0.3,0.16l0.07,0.46l1.33,1.15l-1.09,1.03l0.32,0.47l0.77,0.07l-0.39,0.92l0.06,0.88l-0.46,0.51l1.1,1.66l0.03,0.76l-0.79,0.33l-2.64,-0.17l-4.06,-0.96l-1.31,0.35l-0.18,0.74l-0.68,0.26l-0.35,1.25l0.28,2.08l0.95,1.36l0.13,4.25l-1.97,0.4l-0.54,-0.92l-0.12,-1.3l-1.33,-1.82l-49.22,5.14l-0.72,-0.56l-0.86,-2.7l-0.94,-1.51l-0.56,-0.38l0.16,-0.68l-0.73,-1.51l-1.82,-1.81l-0.43,-1.75l0.25,-0.8l0.06,-5.18l-0.6,-1.81l-1.19,-1.47l-1.03,-2.65l0.12,-1.65l0.78,-2.36l-0.25,-1.53l0.19,-2.11l1.62,-1.33l0.46,-1.47l-0.55,-0.61l-1.42,-0.69l0.09,-2.15l-0.97,-1.87l-2.18,-2.42l-1.03,-2.81l-0.75,-0.68l-0.17,-0.96l-0.77,-1.37l-13.99,-43.12ZM745.21,389.83l0.7,-0.26l-0.07,0.82l-0.29,-0.33l-0.34,-0.24ZM743.75,406.73l0.05,0.87l-0.01,0.46l-0.34,-0.56l0.3,-0.76Z",name:"Georgia"},"US-AZ":{path:"M128.39,384.21l0.44,-1.81l1.29,-1.29l0.54,-1.11l0.48,-0.25l1.66,0.62l0.96,-0.03l0.52,-0.46l0.28,-1.17l1.31,-1.0l0.24,-2.73l-0.46,-1.24l-0.84,-0.66l-2.07,-0.67l-0.3,-0.61l0.8,-2.4l0.0,-1.39l-0.52,-1.2l0.57,-0.86l-0.2,-0.87l1.57,-0.27l2.29,-2.81l0.65,-2.43l0.65,-0.81l0.02,-3.17l0.55,-0.62l-0.29,-1.43l1.71,-1.14l1.03,-1.85l3.16,-1.29l2.03,-1.58l0.26,-0.53l-0.13,-1.04l-3.25,-3.49l-0.51,-0.22l0.22,-1.26l-0.66,-1.46l0.07,-0.91l-0.88,-2.76l-0.84,-0.56l-0.19,-1.65l-0.69,-0.8l0.19,-3.54l0.58,-0.87l-0.3,-0.86l1.04,-0.4l0.4,-1.42l0.14,-3.2l-0.76,-3.66l0.47,-0.88l0.29,-1.67l-0.4,-3.0l0.85,-2.56l-0.8,-1.87l-0.03,-0.92l0.43,-0.52l0.34,-1.35l2.54,-0.63l1.75,0.99l1.43,-0.19l0.96,2.24l0.79,0.71l1.54,0.14l1.01,-0.5l1.02,-2.27l0.94,-1.19l2.57,-16.95l42.43,5.78l42.56,4.67l-11.82,123.66l-36.89,-4.05l-36.34,-18.98l-28.44,-15.56Z",name:"Arizona"},"US-MT":{path:"M166.3,57.31l0.69,-0.1l0.33,-0.38l-0.9,-1.99l0.83,-0.96l-0.39,-1.3l0.09,-0.96l-1.24,-1.93l-0.24,-1.49l-1.03,-1.33l-1.19,-2.44l3.53,-20.65l43.66,6.71l43.06,5.23l42.75,3.84l43.15,2.53l-3.53,86.06l-28.11,-1.47l-26.82,-1.91l-26.78,-2.4l-25.84,-2.79l-0.44,0.35l-1.22,10.41l-1.51,-2.01l-0.03,-0.91l-1.19,-2.35l-1.25,-0.74l-1.8,0.92l0.03,1.05l-0.72,0.42l-0.34,1.56l-2.42,-0.41l-1.91,0.57l-0.92,-0.85l-3.36,0.09l-2.38,-0.96l-1.68,0.58l-0.84,1.49l-4.66,-1.6l-1.3,0.37l-1.12,0.9l-0.31,0.67l-1.65,-1.4l0.22,-1.43l-0.9,-1.71l0.4,-0.36l0.07,-0.62l-1.17,-3.08l-1.45,-1.25l-1.44,0.36l-0.21,-0.64l-1.08,-0.9l-0.41,-1.37l0.68,-0.61l0.2,-1.41l-0.77,-2.38l-0.77,-0.35l-0.31,-1.58l-1.51,-2.54l0.23,-1.51l-0.56,-1.26l0.34,-1.4l-0.73,-0.86l0.48,-0.98l-0.21,-0.74l-1.14,-0.75l-0.13,-0.59l-0.85,-0.91l-0.8,-0.4l-0.51,0.37l-0.07,0.74l-0.7,0.27l-1.13,1.22l-1.75,0.37l-1.21,1.07l-1.08,-0.85l-0.64,-1.01l-1.06,-0.44l0.02,-0.86l0.74,-0.63l0.24,-1.06l-0.61,-1.6l0.9,-1.09l1.07,-0.08l0.83,-0.8l-0.26,-1.14l0.38,-1.07l-0.95,-0.81l-0.04,-0.81l0.66,-1.28l-0.59,-1.07l0.74,-0.07l0.38,-0.42l-0.04,-1.77l1.83,-3.73l-0.14,-1.05l0.89,-0.62l0.6,-3.17l-0.78,-0.5l-1.8,0.37l-1.33,-0.11l-0.64,-0.55l0.37,-0.83l-0.62,-0.97l-0.66,-0.23l-0.72,0.35l-0.07,-0.95l-1.74,-1.63l0.04,-1.84l-1.68,-1.82l-0.08,-0.69l-1.55,-2.88l-1.07,-1.29l-0.57,-1.63l-2.35,-1.34l-0.95,-1.95l-1.44,-1.19Z",name:"Montana"},"US-MS":{path:"M555.49,431.1l0.67,-0.97l-1.05,-1.76l0.18,-1.63l-0.81,-0.87l1.69,-0.25l0.47,-0.54l0.4,-2.74l-0.77,-1.82l1.56,-1.79l0.25,-3.58l0.74,-2.26l1.89,-1.25l1.15,-1.97l1.4,-1.04l0.34,-0.78l-0.04,-0.99l-0.63,-0.96l1.14,-0.28l0.96,-2.59l0.91,-1.31l-0.16,-0.86l-1.54,-0.43l-0.35,-0.96l-1.83,-1.04l-0.07,-2.14l-0.93,-0.74l-0.45,-0.84l-0.02,-0.37l1.14,-0.29l0.47,-0.69l-0.26,-0.89l-1.41,-0.49l0.23,-1.77l0.98,-1.54l-0.77,-1.06l-1.08,-0.31l-0.15,-2.82l0.9,-0.54l0.23,-0.8l-0.62,-2.52l-1.25,-0.66l0.7,-1.33l-0.07,-2.22l-2.02,-1.52l1.14,-0.47l0.12,-1.41l-1.34,-0.89l1.58,-2.04l0.93,-0.31l0.36,-0.69l-0.52,-1.56l0.42,-1.35l-0.9,-0.89l1.6,-0.83l1.24,-0.27l0.59,-0.77l-0.09,-1.07l-1.41,-0.95l1.39,-1.08l0.62,-1.77l0.5,0.11l0.45,-0.28l0.34,-0.98l-0.2,-0.77l1.48,-0.43l1.22,-1.21l0.07,-3.53l-0.46,-1.53l0.36,-1.78l0.73,0.09l0.68,-0.33l0.42,-0.87l-0.41,-1.06l2.72,-1.71l0.58,-1.06l-0.29,-1.28l36.45,-4.1l0.86,1.26l0.85,0.45l0.99,66.5l5.52,32.95l-0.73,0.69l-1.53,-0.3l-0.91,-0.94l-1.32,1.06l-1.23,0.17l-2.17,-1.26l-1.85,-0.19l-0.83,0.36l-0.34,0.44l0.32,0.41l-0.56,0.36l-3.96,1.66l-0.05,-0.5l-0.96,-0.52l-1.0,0.04l-0.59,1.0l0.76,0.61l-1.59,1.21l-0.32,1.28l-0.69,0.3l-1.34,-0.06l-1.16,-1.86l-0.08,-0.89l-0.92,-1.47l-0.21,-1.01l-1.4,-1.63l-1.16,-0.54l-0.47,-0.78l0.1,-0.62l-0.69,-0.92l0.21,-1.99l0.5,-0.93l0.66,-2.98l-0.06,-1.23l-0.43,-0.29l-34.66,3.41Z",name:"Mississippi"},"US-SC":{path:"M697.56,324.11l4.86,-2.69l1.02,-0.05l1.11,-1.38l3.93,-1.9l0.45,-0.88l0.63,0.22l22.71,-3.36l0.07,1.22l0.42,0.57l0.71,0.01l1.21,-1.3l2.82,2.54l0.46,2.48l0.55,0.52l19.74,-3.49l22.74,15.07l0.02,0.55l-2.48,2.18l-2.44,3.67l-2.41,5.72l-0.09,2.74l-1.08,-0.21l0.85,-2.73l-0.64,-0.23l-0.76,0.87l-0.56,1.38l-0.11,1.55l0.84,0.95l1.05,0.23l0.44,0.91l-0.75,0.08l-0.41,0.56l-0.87,0.02l-0.24,0.68l0.94,0.45l-1.1,1.13l-0.07,1.02l-1.34,0.63l-0.5,-0.61l-0.5,-0.08l-1.07,0.87l-0.56,1.76l0.43,0.87l-1.2,1.23l-0.61,1.44l-1.2,1.01l-0.9,-0.4l0.27,-0.6l-0.53,-0.74l-1.38,0.31l-0.11,0.43l0.36,0.77l-0.52,0.03l0.05,0.76l0.72,0.58l1.3,0.43l-0.12,0.39l-0.88,0.94l-1.22,0.23l-0.25,0.51l0.33,0.45l-2.3,1.34l-1.42,-0.85l-0.56,0.11l-0.11,0.67l1.19,0.78l-1.54,1.57l-0.72,-0.75l-0.5,0.52l-0.0,0.74l-0.69,-0.37l-0.85,-0.0l-1.34,-0.84l-0.45,0.5l0.16,0.53l-1.73,0.17l-0.44,0.37l-0.06,0.77l0.65,0.23l1.43,-0.17l-0.26,0.55l0.42,0.25l1.91,-0.15l0.11,0.22l-0.97,0.86l-0.32,0.78l0.57,0.49l0.94,-0.53l0.03,0.21l-1.12,1.09l-0.99,0.43l-0.21,-2.04l-0.69,-0.27l-0.22,-1.55l-0.88,-0.15l-0.31,0.58l0.86,2.7l-1.12,-0.66l-0.63,-1.0l-0.4,-1.76l-0.65,-0.2l-0.52,-0.63l-0.69,0.0l-0.27,0.6l0.84,1.02l0.01,0.68l1.11,1.83l-0.02,0.86l1.22,1.17l-0.62,0.35l0.03,0.98l-1.2,3.56l-1.52,-0.78l-1.52,0.26l-0.97,-0.68l-0.54,-1.03l-0.17,-2.93l-0.86,-0.75l-1.06,-2.47l-1.04,-0.95l-3.23,-1.33l-0.49,-2.65l-1.12,-2.17l-1.43,-1.58l-0.06,-1.07l-0.76,-1.21l-4.82,-1.69l-0.58,-1.27l-1.21,-0.37l0.02,-0.7l-0.53,-0.87l-0.87,0.0l-0.73,-0.61l0.03,-1.21l-0.66,-1.26l-2.7,-1.78l-2.16,-0.52l-2.36,-3.12l-3.93,-1.93l-1.22,-1.03l-0.83,-0.12l-1.05,-1.81l-0.51,-0.22l-0.91,-1.21l-1.18,-0.68l-0.99,-2.42l-1.54,-1.65l-1.02,-1.87l-1.06,-0.37l-1.93,0.37l-0.46,-0.16l-2.75,-2.19l-1.06,0.02l-1.7,-0.74l-0.52,-0.53l0.36,-2.22l0.64,-0.78l0.34,-1.39l1.36,-1.23l0.4,-0.98ZM750.38,375.27l0.73,-0.08l0.51,0.45l-1.23,1.9l0.28,-1.22l-0.3,-1.06Z",name:"South Carolina"},"US-RI":{path:"M859.15,133.1l0.33,0.01l1.02,2.65l-0.31,0.56l-1.04,-3.22ZM858.41,136.77l-0.28,-0.34l0.24,-1.5l0.41,1.53l-0.37,0.31ZM851.13,141.49l0.22,-0.46l-0.53,-2.22l-3.14,-10.0l5.61,-1.84l0.76,2.06l0.8,0.25l0.19,0.73l0.08,0.41l-0.77,0.25l0.03,0.29l0.51,1.45l0.59,0.5l-0.6,0.15l-0.46,0.73l0.87,0.97l-0.14,1.22l0.94,2.18l-0.32,2.08l-1.33,0.23l-3.15,2.19l-0.16,-1.21ZM855.93,131.57l0.26,0.1l0.01,0.09l-0.17,-0.08l-0.1,-0.11ZM857.32,132.24l0.23,0.48l-0.2,0.31l-0.04,-0.39l0.01,-0.4ZM855.92,145.03l0.11,0.11l-0.18,0.1l-0.03,-0.14l0.11,-0.07Z",name:"Rhode Island"},"US-CT":{path:"M823.44,156.54l2.83,-3.23l-0.07,-0.54l-1.31,-1.25l-3.5,-15.89l9.81,-2.41l0.6,0.46l0.65,-0.26l0.23,-0.58l14.16,-4.0l3.2,10.18l0.47,1.96l-0.04,1.69l-1.65,0.32l-0.91,0.81l-0.69,-0.36l-0.5,0.11l-0.18,0.91l-1.15,0.07l-1.27,1.27l-0.62,-0.14l-0.56,-1.02l-0.89,-0.09l-0.21,0.67l0.75,0.64l0.08,0.54l-0.89,-0.02l-1.02,0.87l-1.65,0.07l-1.15,0.94l-0.86,-0.09l-2.05,0.82l-0.4,-0.68l-0.61,0.11l-0.89,2.12l-0.59,0.29l-0.83,1.29l-0.79,-0.05l-0.94,0.74l-0.2,0.63l-0.53,0.05l-0.88,0.75l-2.77,3.07l-0.96,0.27l-1.24,-1.04Z",name:"Connecticut"}},height:589.0572567800147,projection:{type:"aea",centralMeridian:-100},width:900});document.querySelector(".userlogin")&&new AZ;document.querySelector(".header-search-icon")&&new vK;document.querySelector("#discoverymap")&&new _K;document.querySelector("#feedmap")&&new bK;document.querySelector("#journalmap")&&new wK;document.querySelector("#user-notifications")&&new EK;document.querySelector("#share-button")&&new TK;document.querySelector("#highlight-button")&&new SK;document.querySelector("#bookmark-button")&&new AK;document.querySelector("#follow-button")&&new MK;document.querySelector("#flag-button")&&new CK});export default FK();
