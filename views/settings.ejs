<%- include('includes/header') %>

<title>Heimursaga | Settings</title>

<%- include('includes/sidebar') %>

<%- include('includes/navbar') %>

			<main class="content">
				<div class="container-fluid">

						<h1 class="h3 mb-3 text-center">Settings</h1>					

						<!--<div class="col-md-3 col-xl-2">

							<div class="card">
								<div class="card-header">
									<h5 class="card-title mb-0">Profile Settings</h5>
								</div>

								<div class="list-group list-group-flush" role="tablist">
									<a class="list-group-item list-group-item-action active" data-bs-toggle="list" href="#account" role="tab">
          							Account
        							</a>
									<a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#notifications" role="tab">
          							Notifications
        							</a>
									<a class="list-group-item list-group-item-action disabled" data-bs-toggle="list" href="#" role="tab">
									Privacy and safety
		  							</a>
									<a class="list-group-item list-group-item-action disabled" data-bs-toggle="list" href="#" role="tab">
          							Web notifications
        							</a>
									<a class="list-group-item list-group-item-action disabled" data-bs-toggle="list" href="#" role="tab">
          							Your data
        							</a>
									<a class="list-group-item list-group-item-action disabled" data-bs-toggle="list" href="#" role="tab">
          							Delete account
        							</a>
								</div>
							</div>
						</div>-->

						

						<div class="col-md-8 offset-md-2">
							<div class="tab-content">
								<div class="tab-pane fade show active" id="account" role="tabpanel">
									<%- include('includes/flash') %>
									
												<form action="/update-user/<%= user.username %>" method="POST">
													<div class="card">
														<div class="card-header">
															<h5 class="card-title mb-0">Public info</h5>
														</div>
														<div class="card-body col-md-10 offset-md-1">

															<div class="mb-5">
																<label class="form-label text-dark">Explorer Avatar</label>
																<div class="">
																<img src="<%= user.avatar %>" class="img-fluid rounded-circle mb-2" width="128" height="128" />
																</div>
																<label class="form-text text-muted">Heimursaga uses the Gravatar service for profile avatars. Your avatar is linked to the email you used to register your Heimursaga account. Please visit <a href="https://en.gravatar.com" target="_blank">gravatar.com</a> to update or set your explorer avatar.</label>
															</div>
															<div class="mb-3">
																<input type="text" class="form-control" id="username-register" name="username" maxlength="30" value="<%= user.username %>"hidden>
															</div>
															<div class="mb-3">
																<input type="email" class="form-control" id="email-register" name="email" value="<%= email %>" hidden>
															</div>
															<div class="mb-3">
																<label class="form-label text-dark">Bio</label>
																<label class="form-text text-muted">- a little bit about you (200 char.)</label>
																<textarea rows="3" class="form-control" id="bio" name="bio" maxlength="200"><%= bio %></textarea>
															</div>
															<div class="mb-3">
																<label class="form-label text-dark">Currently In</label>
																<label class="form-text text-muted">- where are you currently? (50 char.)</label>
																<input class="form-control" id="currentlyin" name="currentlyin" maxlength="50" value="<%= currentlyin %>">
															</div>
															<div class="mb-3">
																<label class="form-label text-dark">Lives In</label>
																<label class="form-text text-muted">- where do you call home? (50 char.)</label>
																<input class="form-control" id="livesin" name="livesin" value="<%= livesin %>" maxlength="50">
															</div>
															<div class="mb-5">
																<label class="form-label text-dark">From</label>
																<label class="form-text text-muted">- where are you from? (50 char.)</label>
																<input class="form-control" id="from" name="from" value="<%= from %>" maxlength="50">
															</div>
															<!--<div class="mb-3">
																<label class="form-label">Instagram</label>
																<label class="form-text text-muted">- if you want to link your instagram on your profile</label>
																<input class="form-control" id="instagram" name="instagram" placeholder="<%= user.instagram %>" maxlength="50">
															</div>
															<div class="mb-3">
																<label class="form-label">Website</label>
																<label class="form-text text-muted">- if you want to link a blog or personal website</label>
																<input class="form-control" id="website" name="website" placeholder="<%= user.website %>" maxlength="50">
															</div>-->
														</div>
													</div>

													<div class="card">
														<div class="card-header">
															<h5 class="card-title mb-0">Notifications</h5>
														</div>
														<div class="card-body col-md-10 offset-md-1">
															<div>
																<div class="mb-3">
																	<div class="form-check form-switch">
																		<input class="form-check-input" type="checkbox" value="true" name="followersemailnotifications" id="followersemailnotifications"<% if (settings.emailNotifications.followers == "true") { %> checked <% } %>/>
																		<label class="form-check-label">email notifications for new followers</label>
																	</div>
																</div>
																<div class="mb-5">
																	<div class="form-check form-switch">
																		<input class="form-check-input" type="checkbox" value="true" name="likesemailnotifications" id="likesemailnotifications" <% if (settings.emailNotifications.likes == "true") { %> checked <% } %>/>
																		<label class="form-check-label">email notifications for new entry likes</label>
																	</div>
																</div>
															</div>
														</div>
													</div>

													<div class="card card-body col-md-12">

														<input type="hidden" name="_csrf" value="<%= csrfToken %>">

														<button type="submit" class="col-md-4 offset-md-4 btn btn-primary">Save changes</button>

													</div>
												</form>


								</div>
							</div>
						</div>
					

				</div>
			</main>

<%- include('includes/footer') %>